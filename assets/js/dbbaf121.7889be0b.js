"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[10114],{19677(e,n,a){a.r(n),a.d(n,{assets:()=>o,contentTitle:()=>r,default:()=>h,frontMatter:()=>s,metadata:()=>l,toc:()=>d});const l=JSON.parse('{"id":"script/Specializations/BaleLoader","title":"BaleLoader","description":"BaleLoader","source":"@site/../docs/script/Specializations/BaleLoader.md","sourceDirName":"script/Specializations","slug":"/script/Specializations/BaleLoader","permalink":"/FS25-Community-LUADOC/script/Specializations/BaleLoader","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"BaleGrab","permalink":"/FS25-Community-LUADOC/script/Specializations/BaleGrab"},"next":{"title":"BaleWrapper","permalink":"/FS25-Community-LUADOC/script/Specializations/BaleWrapper"}}');var i=a(74848),t=a(28453);const s={},r=void 0,o={},d=[{value:"BaleLoader",id:"baleloader",level:2},{value:"actionControllerEvent",id:"actioncontrollerevent",level:3},{value:"actionEventAbortEmpty",id:"actioneventabortempty",level:3},{value:"actionEventEmpty",id:"actioneventempty",level:3},{value:"actionEventWorkTransport",id:"actioneventworktransport",level:3},{value:"addBaleUnloadTrigger",id:"addbaleunloadtrigger",level:3},{value:"addToPhysics",id:"addtophysics",level:3},{value:"baleGrabberTriggerCallback",id:"balegrabbertriggercallback",level:3},{value:"baleLoaderMoveTriggerCallback",id:"baleloadermovetriggercallback",level:3},{value:"createBaleToBaleJoint",id:"createbaletobalejoint",level:3},{value:"createBaleToBaleJoints",id:"createbaletobalejoints",level:3},{value:"doStateChange",id:"dostatechange",level:3},{value:"getAllowDynamicMountFillLevelInfo",id:"getallowdynamicmountfilllevelinfo",level:3},{value:"getAllowsStartUnloading",id:"getallowsstartunloading",level:3},{value:"getAreControlledActionsAllowed",id:"getarecontrolledactionsallowed",level:3},{value:"getBaleGrabberDropBaleAnimName",id:"getbalegrabberdropbaleanimname",level:3},{value:"getBaleInRange",id:"getbaleinrange",level:3},{value:"getBaleTypeByBale",id:"getbaletypebybale",level:3},{value:"getCanBeSelected",id:"getcanbeselected",level:3},{value:"getConsumingLoad",id:"getconsumingload",level:3},{value:"getCurrentFoldingAnimation",id:"getcurrentfoldinganimation",level:3},{value:"getDoConsumePtoPower",id:"getdoconsumeptopower",level:3},{value:"getIsAIPreparingToDrive",id:"getisaipreparingtodrive",level:3},{value:"getIsAIReadyToDrive",id:"getisaireadytodrive",level:3},{value:"getIsAutomaticBaleUnloadingAllowed",id:"getisautomaticbaleunloadingallowed",level:3},{value:"getIsAutomaticBaleUnloadingInProgress",id:"getisautomaticbaleunloadinginprogress",level:3},{value:"getIsBaleGrabbingAllowed",id:"getisbalegrabbingallowed",level:3},{value:"getIsBaleLoaderFoldingPlaying",id:"getisbaleloaderfoldingplaying",level:3},{value:"getIsFoldAllowed",id:"getisfoldallowed",level:3},{value:"getIsPowerTakeOffActive",id:"getispowertakeoffactive",level:3},{value:"getLoadedBales",id:"getloadedbales",level:3},{value:"getSpecValueBaleSize",id:"getspecvaluebalesize",level:3},{value:"getSpecValueBaleSizeRound",id:"getspecvaluebalesizeround",level:3},{value:"getSpecValueBaleSizeSquare",id:"getspecvaluebalesizesquare",level:3},{value:"initSpecialization",id:"initspecialization",level:3},{value:"loadBaleLoaderAnimationsFromXML",id:"loadbaleloaderanimationsfromxml",level:3},{value:"loadBalePlacesFromXML",id:"loadbaleplacesfromxml",level:3},{value:"loadBaleTypeFromXML",id:"loadbaletypefromxml",level:3},{value:"loadSpecValueBaleSize",id:"loadspecvaluebalesize",level:3},{value:"loadSpecValueBaleSizeRound",id:"loadspecvaluebalesizeround",level:3},{value:"loadSpecValueBaleSizeSquare",id:"loadspecvaluebalesizesquare",level:3},{value:"mountBale",id:"mountbale",level:3},{value:"mountDynamicBale",id:"mountdynamicbale",level:3},{value:"moveToTransportPosition",id:"movetotransportposition",level:3},{value:"moveToWorkPosition",id:"movetoworkposition",level:3},{value:"onActivate",id:"onactivate",level:3},{value:"onBaleMoverBaleRemoved",id:"onbalemoverbaleremoved",level:3},{value:"onBalerUnloadingStarted",id:"onbalerunloadingstarted",level:3},{value:"onBaleUnloadTriggerDeleted",id:"onbaleunloadtriggerdeleted",level:3},{value:"onDeactivate",id:"ondeactivate",level:3},{value:"onDelete",id:"ondelete",level:3},{value:"onDraw",id:"ondraw",level:3},{value:"onFillUnitFillLevelChanged",id:"onfillunitfilllevelchanged",level:3},{value:"onFoldStateChanged",id:"onfoldstatechanged",level:3},{value:"onLoad",id:"onload",level:3},{value:"onLoadFinished",id:"onloadfinished",level:3},{value:"onPostLoad",id:"onpostload",level:3},{value:"onReadStream",id:"onreadstream",level:3},{value:"onReadUpdateStream",id:"onreadupdatestream",level:3},{value:"onRegisterActionEvents",id:"onregisteractionevents",level:3},{value:"onRegisterAnimationValueTypes",id:"onregisteranimationvaluetypes",level:3},{value:"onRootVehicleChanged",id:"onrootvehiclechanged",level:3},{value:"onUpdate",id:"onupdate",level:3},{value:"onUpdateTick",id:"onupdatetick",level:3},{value:"onWriteStream",id:"onwritestream",level:3},{value:"onWriteUpdateStream",id:"onwriteupdatestream",level:3},{value:"pickupBale",id:"pickupbale",level:3},{value:"playBaleLoaderFoldingAnimation",id:"playbaleloaderfoldinganimation",level:3},{value:"prerequisitesPresent",id:"prerequisitespresent",level:3},{value:"registerAnimationXMLPaths",id:"registeranimationxmlpaths",level:3},{value:"registerEventListeners",id:"registereventlisteners",level:3},{value:"registerFunctions",id:"registerfunctions",level:3},{value:"registerOverwrittenFunctions",id:"registeroverwrittenfunctions",level:3},{value:"removeBaleUnloadTrigger",id:"removebaleunloadtrigger",level:3},{value:"removeFromPhysics",id:"removefromphysics",level:3},{value:"rotatePlatform",id:"rotateplatform",level:3},{value:"saveToXMLFile",id:"savetoxmlfile",level:3},{value:"setBaleLoaderBaleType",id:"setbaleloaderbaletype",level:3},{value:"setBalePairCollision",id:"setbalepaircollision",level:3},{value:"startAutomaticBaleUnloading",id:"startautomaticbaleunloading",level:3},{value:"unmountBale",id:"unmountbale",level:3},{value:"unmountDynamicBale",id:"unmountdynamicbale",level:3},{value:"updateBalePlacesAnimations",id:"updatebaleplacesanimations",level:3},{value:"updateFoldingAnimation",id:"updatefoldinganimation",level:3}];function c(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"baleloader",children:"BaleLoader"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Specialization for automatic bale loaders"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Functions"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#actioncontrollerevent",children:"actionControllerEvent"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#actioneventabortempty",children:"actionEventAbortEmpty"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#actioneventempty",children:"actionEventEmpty"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#actioneventworktransport",children:"actionEventWorkTransport"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#addbaleunloadtrigger",children:"addBaleUnloadTrigger"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#addtophysics",children:"addToPhysics"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#balegrabbertriggercallback",children:"baleGrabberTriggerCallback"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#baleloadermovetriggercallback",children:"baleLoaderMoveTriggerCallback"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#createbaletobalejoint",children:"createBaleToBaleJoint"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#createbaletobalejoints",children:"createBaleToBaleJoints"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#dostatechange",children:"doStateChange"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getallowdynamicmountfilllevelinfo",children:"getAllowDynamicMountFillLevelInfo"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getallowsstartunloading",children:"getAllowsStartUnloading"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getarecontrolledactionsallowed",children:"getAreControlledActionsAllowed"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getbalegrabberdropbaleanimname",children:"getBaleGrabberDropBaleAnimName"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getbaleinrange",children:"getBaleInRange"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getbaletypebybale",children:"getBaleTypeByBale"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getcanbeselected",children:"getCanBeSelected"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getconsumingload",children:"getConsumingLoad"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getcurrentfoldinganimation",children:"getCurrentFoldingAnimation"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getdoconsumeptopower",children:"getDoConsumePtoPower"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getisaipreparingtodrive",children:"getIsAIPreparingToDrive"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getisaireadytodrive",children:"getIsAIReadyToDrive"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getisautomaticbaleunloadingallowed",children:"getIsAutomaticBaleUnloadingAllowed"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getisautomaticbaleunloadinginprogress",children:"getIsAutomaticBaleUnloadingInProgress"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getisbalegrabbingallowed",children:"getIsBaleGrabbingAllowed"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getisbaleloaderfoldingplaying",children:"getIsBaleLoaderFoldingPlaying"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getisfoldallowed",children:"getIsFoldAllowed"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getispowertakeoffactive",children:"getIsPowerTakeOffActive"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getloadedbales",children:"getLoadedBales"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getspecvaluebalesize",children:"getSpecValueBaleSize"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getspecvaluebalesizeround",children:"getSpecValueBaleSizeRound"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getspecvaluebalesizesquare",children:"getSpecValueBaleSizeSquare"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#initspecialization",children:"initSpecialization"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#loadbaleloaderanimationsfromxml",children:"loadBaleLoaderAnimationsFromXML"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#loadbaleplacesfromxml",children:"loadBalePlacesFromXML"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#loadbaletypefromxml",children:"loadBaleTypeFromXML"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#loadspecvaluebalesize",children:"loadSpecValueBaleSize"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#loadspecvaluebalesizeround",children:"loadSpecValueBaleSizeRound"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#loadspecvaluebalesizesquare",children:"loadSpecValueBaleSizeSquare"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#mountbale",children:"mountBale"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#mountdynamicbale",children:"mountDynamicBale"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#movetotransportposition",children:"moveToTransportPosition"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#movetoworkposition",children:"moveToWorkPosition"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onactivate",children:"onActivate"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onbalemoverbaleremoved",children:"onBaleMoverBaleRemoved"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onbalerunloadingstarted",children:"onBalerUnloadingStarted"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onbaleunloadtriggerdeleted",children:"onBaleUnloadTriggerDeleted"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#ondeactivate",children:"onDeactivate"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#ondelete",children:"onDelete"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#ondraw",children:"onDraw"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onfillunitfilllevelchanged",children:"onFillUnitFillLevelChanged"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onfoldstatechanged",children:"onFoldStateChanged"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onload",children:"onLoad"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onloadfinished",children:"onLoadFinished"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onpostload",children:"onPostLoad"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onreadstream",children:"onReadStream"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onreadupdatestream",children:"onReadUpdateStream"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onregisteractionevents",children:"onRegisterActionEvents"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onregisteranimationvaluetypes",children:"onRegisterAnimationValueTypes"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onrootvehiclechanged",children:"onRootVehicleChanged"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onupdate",children:"onUpdate"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onupdatetick",children:"onUpdateTick"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onwritestream",children:"onWriteStream"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onwriteupdatestream",children:"onWriteUpdateStream"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#pickupbale",children:"pickupBale"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#playbaleloaderfoldinganimation",children:"playBaleLoaderFoldingAnimation"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#prerequisitespresent",children:"prerequisitesPresent"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#registeranimationxmlpaths",children:"registerAnimationXMLPaths"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#registereventlisteners",children:"registerEventListeners"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#registerfunctions",children:"registerFunctions"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#registeroverwrittenfunctions",children:"registerOverwrittenFunctions"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#removebaleunloadtrigger",children:"removeBaleUnloadTrigger"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#removefromphysics",children:"removeFromPhysics"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#rotateplatform",children:"rotatePlatform"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#savetoxmlfile",children:"saveToXMLFile"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#setbaleloaderbaletype",children:"setBaleLoaderBaleType"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#setbalepaircollision",children:"setBalePairCollision"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#startautomaticbaleunloading",children:"startAutomaticBaleUnloading"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#unmountbale",children:"unmountBale"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#unmountdynamicbale",children:"unmountDynamicBale"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#updatebaleplacesanimations",children:"updateBalePlacesAnimations"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#updatefoldinganimation",children:"updateFoldingAnimation"})}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"actioncontrollerevent",children:"actionControllerEvent"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"actionControllerEvent()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"self"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"direction"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleLoader.actionControllerEvent( self , direction)\n    local spec = self.spec_baleLoader\n\n    if not spec.grabberIsMoving and spec.grabberMoveState = = nil and((direction > 0 and not spec.isInWorkPosition) or(direction < 0 and spec.isInWorkPosition)) then\n        BaleLoader.actionEventWorkTransport( self )\n        return true\n    end\n\n    return false\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"actioneventabortempty",children:"actionEventAbortEmpty"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"actionEventAbortEmpty()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"self"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"actionName"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"inputValue"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"callbackState"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"isAnalog"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleLoader.actionEventAbortEmpty( self , actionName, inputValue, callbackState, isAnalog)\n    g_client:getServerConnection():sendEvent( BaleLoaderStateEvent.new( self , BaleLoader.CHANGE_BUTTON_EMPTY_ABORT))\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"actioneventempty",children:"actionEventEmpty"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"actionEventEmpty()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"self"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"actionName"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"inputValue"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"callbackState"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"isAnalog"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleLoader.actionEventEmpty( self , actionName, inputValue, callbackState, isAnalog)\n    local spec = self.spec_baleLoader\n    if self:getFillUnitFillLevel(spec.fillUnitIndex) > = spec.minUnloadingFillLevel or spec.emptyState ~ = BaleLoader.EMPTY_NONE then\n        g_client:getServerConnection():sendEvent( BaleLoaderStateEvent.new( self , BaleLoader.CHANGE_BUTTON_EMPTY))\n    else\n            g_currentMission:showBlinkingWarning(spec.texts.minUnloadingFillLevelWarning, 2500 )\n        end\n    end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"actioneventworktransport",children:"actionEventWorkTransport"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"actionEventWorkTransport()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"self"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"actionName"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"inputValue"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"callbackState"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"isAnalog"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleLoader.actionEventWorkTransport( self , actionName, inputValue, callbackState, isAnalog)\n    g_client:getServerConnection():sendEvent( BaleLoaderStateEvent.new( self , BaleLoader.CHANGE_BUTTON_WORK_TRANSPORT))\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"addbaleunloadtrigger",children:"addBaleUnloadTrigger"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"addBaleUnloadTrigger()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"unloadTrigger"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleLoader:addBaleUnloadTrigger(unloadTrigger)\n    local spec = self.spec_baleLoader\n    spec.baleUnloadTriggers[unloadTrigger] = (spec.baleUnloadTriggers[unloadTrigger] or 0 ) + 1\n    unloadTrigger:addDeleteListener( self , BaleLoader.onBaleUnloadTriggerDeleted)\n    self:raiseActive()\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"addtophysics",children:"addToPhysics"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Add to physics"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"addToPhysics()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"success"}),(0,i.jsx)(n.th,{children:"success"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleLoader:addToPhysics(superFunc)\n    if not superFunc( self ) then\n        return false\n    end\n\n    local spec = self.spec_baleLoader\n    for _, balePlace in pairs(spec.balePlaces) do\n        if balePlace.bales ~ = nil then\n            for _, baleServerId in pairs(balePlace.bales) do\n                local bale = NetworkUtil.getObject(baleServerId)\n                if bale ~ = nil then\n                    bale:addToPhysics()\n\n                    if spec.dynamicMount.enabled then\n                        self:mountDynamicBale(bale, balePlace.node)\n                    else\n                            local x, y, z = localToLocal(bale.nodeId, balePlace.node, 0 , 0 , 0 )\n                            local rx, ry, rz = localRotationToLocal(bale.nodeId, balePlace.node, 0 , 0 , 0 )\n                            self:mountBale(bale, self , balePlace.node, x, y, z, rx, ry, rz)\n                        end\n                    end\n                end\n            end\n        end\n\n        for _, baleServerId in ipairs(spec.startBalePlace.bales) do\n            local bale = NetworkUtil.getObject(baleServerId)\n            if bale ~ = nil then\n                bale:addToPhysics()\n\n                local attachNode = getChildAt(spec.startBalePlace.node, spec.startBalePlace.count)\n                if spec.dynamicMount.enabled then\n                    self:mountDynamicBale(bale, attachNode)\n                else\n                        local x, y, z = localToLocal(bale.nodeId, attachNode, 0 , 0 , 0 )\n                        local rx, ry, rz = localRotationToLocal(bale.nodeId, attachNode, 0 , 0 , 0 )\n                        self:mountBale(bale, self , attachNode, x, y, z, rx, ry, rz)\n                    end\n                end\n            end\n\n            return true\n        end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"balegrabbertriggercallback",children:"baleGrabberTriggerCallback"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Trigger callback"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"baleGrabberTriggerCallback(integer triggerId, integer otherActorId, boolean onEnter, boolean onLeave, boolean onStay,\ninteger otherShapeId)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"integer"}),(0,i.jsx)(n.th,{children:"triggerId"}),(0,i.jsx)(n.th,{children:"id of trigger"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"integer"}),(0,i.jsx)(n.td,{children:"otherActorId"}),(0,i.jsx)(n.td,{children:"id of other actor"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"boolean"}),(0,i.jsx)(n.td,{children:"onEnter"}),(0,i.jsx)(n.td,{children:"on enter"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"boolean"}),(0,i.jsx)(n.td,{children:"onLeave"}),(0,i.jsx)(n.td,{children:"on leave"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"boolean"}),(0,i.jsx)(n.td,{children:"onStay"}),(0,i.jsx)(n.td,{children:"on stay"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"integer"}),(0,i.jsx)(n.td,{children:"otherShapeId"}),(0,i.jsx)(n.td,{children:"id of other shape"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleLoader:baleGrabberTriggerCallback(triggerId, otherId, onEnter, onLeave, onStay, otherShapeId)\n    if otherId ~ = 0 then\n        local rigidBodyType = getRigidBodyType(otherId)\n        if ( self.isServer and rigidBodyType = = RigidBodyType.DYNAMIC)\n            or( not self.isServer and rigidBodyType = = RigidBodyType.KINEMATIC) then -- on client side bales are kinematic\n            local object = g_currentMission:getNodeObject(otherId)\n            if object ~ = nil then\n                if object:isa( Bale ) then\n                    local spec = self.spec_baleLoader\n                    if onEnter then\n                        spec.baleGrabber.balesInTrigger[object] = Utils.getNoNil(spec.baleGrabber.balesInTrigger[object], 0 ) + 1\n                    elseif onLeave then\n                            if spec.baleGrabber.balesInTrigger[object] ~ = nil then\n                                spec.baleGrabber.balesInTrigger[object] = math.max( 0 , spec.baleGrabber.balesInTrigger[object] - 1 )\n                                if spec.baleGrabber.balesInTrigger[object] = = 0 then\n                                    spec.baleGrabber.balesInTrigger[object] = nil\n                                end\n                            end\n                        end\n                    end\n                end\n            end\n        end\n    end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"baleloadermovetriggercallback",children:"baleLoaderMoveTriggerCallback"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Trigger callback"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"baleLoaderMoveTriggerCallback(integer triggerId, integer otherActorId, boolean onEnter, boolean onLeave, boolean\nonStay, integer otherShapeId)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"integer"}),(0,i.jsx)(n.th,{children:"triggerId"}),(0,i.jsx)(n.th,{children:"id of trigger"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"integer"}),(0,i.jsx)(n.td,{children:"otherActorId"}),(0,i.jsx)(n.td,{children:"id of other actor"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"boolean"}),(0,i.jsx)(n.td,{children:"onEnter"}),(0,i.jsx)(n.td,{children:"on enter"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"boolean"}),(0,i.jsx)(n.td,{children:"onLeave"}),(0,i.jsx)(n.td,{children:"on leave"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"boolean"}),(0,i.jsx)(n.td,{children:"onStay"}),(0,i.jsx)(n.td,{children:"on stay"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"integer"}),(0,i.jsx)(n.td,{children:"otherShapeId"}),(0,i.jsx)(n.td,{children:"id of other shape"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function BaleLoader:baleLoaderMoveTriggerCallback(triggerId, otherId, onEnter, onLeave, onStay, otherShapeId)\n    if otherId ~ = 0 and getRigidBodyType(otherId) = = RigidBodyType.DYNAMIC then\n        local object = g_currentMission:getNodeObject(otherId)\n        if object ~ = nil then\n            if object:isa( Bale ) then\n                local spec = self.spec_baleLoader\n                if onEnter then\n                    spec.unloadingMover.balesInTrigger[object] = Utils.getNoNil(spec.unloadingMover.balesInTrigger[object], 0 ) + 1\n                    if spec.unloadingMover.balesInTrigger[object] = = 1 then\n                        object:addDeleteListener( self , "onBaleMoverBaleRemoved" )\n                    end\n                elseif onLeave then\n                        if spec.unloadingMover.balesInTrigger[object] ~ = nil then\n                            spec.unloadingMover.balesInTrigger[object] = math.max( 0 , spec.unloadingMover.balesInTrigger[object] - 1 )\n                            if spec.unloadingMover.balesInTrigger[object] = = 0 then\n                                spec.unloadingMover.balesInTrigger[object] = nil\n                                object:removeDeleteListener( self , "onBaleMoverBaleRemoved" )\n                            end\n                        end\n                    end\n                end\n            end\n        end\n    end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"createbaletobalejoint",children:"createBaleToBaleJoint"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"createBaleToBaleJoint()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"bale1"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"bale2"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"x"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"y"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"z"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"rx"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"ry"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"rz"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"balePlaceIndex"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function BaleLoader:createBaleToBaleJoint(bale1, bale2, x, y, z, rx, ry, rz, balePlaceIndex)\n    local spec = self.spec_baleLoader\n\n    local balePlaceRot = spec.balePlaces[balePlaceIndex].node\n\n    local constr = JointConstructor.new()\n    constr:setActors(bale1.nodeId, bale2.nodeId)\n\n    local jointTransform1 = createTransformGroup( "jointTransform1" )\n    link(bale1.nodeId, jointTransform1)\n    setRotation(jointTransform1, localRotationToLocal(balePlaceRot, bale1.nodeId, 0 , 0 , 0 ))\n\n    local jointTransform2 = createTransformGroup( "jointTransform2" )\n    link(bale2.nodeId, jointTransform2)\n    setRotation(jointTransform2, localRotationToLocal(balePlaceRot, bale2.nodeId, 0 , 0 , 0 ))\n\n    constr:setJointTransforms(jointTransform1, jointTransform2)\n    constr:setEnableCollision( true )\n\n    constr:setRotationLimit( 0 , - rx, rx)\n    constr:setRotationLimit( 1 , - ry, ry)\n    constr:setRotationLimit( 2 , - rz, rz)\n\n    constr:setTranslationLimit( 0 , true , - x, x)\n    constr:setTranslationLimit( 1 , true , - y, y)\n    constr:setTranslationLimit( 2 , true , - z, z)\n\n    local jointIndex = constr:finalize()\n\n    table.insert(spec.baleJoints, jointIndex)\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"createbaletobalejoints",children:"createBaleToBaleJoints"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"createBaleToBaleJoints()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"baleLines"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleLoader:createBaleToBaleJoints(baleLines)\n    if #baleLines > 1 then\n        local dynamicBaleUnloading = self.spec_baleLoader.dynamicBaleUnloading\n        local lineRotLimit = dynamicBaleUnloading.rowConnectionRotLimit\n        local sideRotLimit = dynamicBaleUnloading.rowInterConnectionRotLimit\n\n        for lineIndex, bales in ipairs(baleLines) do\n            local isRoundbale = bales[ 1 ].isRoundbale\n\n            if dynamicBaleUnloading.connectedRows[lineIndex] then\n                for i = 1 , #bales - 1 do\n                    if isRoundbale then\n                        self:createBaleToBaleJoint(bales[i], bales[i + 1 ], 0 , dynamicBaleUnloading.heightOffset, bales[i].width + dynamicBaleUnloading.widthOffset, lineRotLimit, 0 , 0 , i)\n                    else\n                            self:createBaleToBaleJoint(bales[i], bales[i + 1 ], bales[i].width + dynamicBaleUnloading.widthOffset, dynamicBaleUnloading.heightOffset, 0 , 0 , 0 , lineRotLimit * 5 , i)\n                        end\n                    end\n                end\n\n                for _, connection in ipairs(dynamicBaleUnloading.interConnectedRowStarts) do\n                    if connection[ 1 ] = = lineIndex then\n                        local bales2 = baleLines[connection[ 2 ]]\n                        if bales2 ~ = nil then\n                            if isRoundbale then\n                                self:createBaleToBaleJoint(bales[ 1 ], bales2[ 1 ], bales[ 1 ].diameter + dynamicBaleUnloading.diameterOffset, dynamicBaleUnloading.heightOffset, 0 , sideRotLimit, sideRotLimit, sideRotLimit, 1 )\n                            else\n                                    self:createBaleToBaleJoint(bales[ 1 ], bales2[ 1 ], 0 , bales[ 1 ].height + 0.05 , 0 , lineRotLimit, 0 , 0 , 1 )\n                                end\n                            end\n                        end\n                    end\n\n                    for _, connection in ipairs(dynamicBaleUnloading.interConnectedRowEnds) do\n                        if connection[ 1 ] = = lineIndex then\n                            local bales2 = baleLines[connection[ 2 ]]\n                            if bales2 ~ = nil then\n                                if #bales = = #bales2 then\n                                    if isRoundbale then\n                                        self:createBaleToBaleJoint(bales[#bales], bales2[#bales2], bales[#bales].diameter + dynamicBaleUnloading.diameterOffset, dynamicBaleUnloading.heightOffset, 0 , sideRotLimit, sideRotLimit, sideRotLimit, #bales)\n                                    else\n                                            self:createBaleToBaleJoint(bales[#bales], bales2[#bales2], 0 , bales[#bales].height + 0.05 , 0 , lineRotLimit, 0 , 0 , #bales)\n                                        end\n                                    end\n                                end\n                            end\n                        end\n                    end\n                end\n            end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"dostatechange",children:"doStateChange"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Change bale loader state"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"doStateChange(integer id, integer nearestBaleServerId)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"integer"}),(0,i.jsx)(n.th,{children:"id"}),(0,i.jsx)(n.th,{children:"id of new state"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"integer"}),(0,i.jsx)(n.td,{children:"nearestBaleServerId"}),(0,i.jsx)(n.td,{children:"server id of nearest bale"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleLoader:doStateChange(id, nearestBaleServerId)\n    local spec = self.spec_baleLoader\n\n    if id = = BaleLoader.CHANGE_DROP_BALES then\n        local baleLines = { }\n\n        -- drop all bales to ground(and add to save by mission)\n        if spec.startBalePlace ~ = nil then\n            spec.startBalePlace.current = 1\n        end\n\n        local packBales = spec.balePacker.node ~ = nil and spec.balePacker.filename ~ = nil\n        local packedFarmId, packedFillType, packedFillLevel = FarmManager.SPECTATOR_FARM_ID, FillType.UNKNOWN, 0\n\n        for _, balePlace in pairs(spec.balePlaces) do\n            if balePlace.bales ~ = nil then\n                for i, baleServerId in pairs(balePlace.bales) do\n                    local bale = NetworkUtil.getObject(baleServerId)\n                    if bale ~ = nil then\n                        if spec.dynamicMount.enabled then\n                            self:unmountDynamicBale(bale)\n                        else\n                                self:unmountBale(bale)\n                            end\n\n                            bale:setCanBeSold( true )\n\n                            -- clear bales in trigger table\n                            if spec.baleGrabber.balesInTrigger[bale] ~ = nil then\n                                spec.baleGrabber.balesInTrigger[bale] = nil\n                            end\n\n                            if spec.dynamicBaleUnloading.enabled then\n                                if baleLines[i] = = nil then\n                                    table.insert(baleLines, { bale } )\n                                else\n                                        table.insert(baleLines[i], bale)\n                                    end\n                                end\n\n                                if packBales then\n                                    packedFarmId = bale.ownerFarmId\n                                    packedFillType = bale.fillType\n                                    packedFillLevel = packedFillLevel + bale.fillLevel\n                                    bale:delete()\n                                end\n                            end\n                            spec.balesToMount[baleServerId] = nil\n                        end\n                        balePlace.bales = nil\n                    end\n                end\n\n                if self.isServer then\n                    if packBales then\n                        local baleObject = PackedBale.new( self.isServer, self.isClient)\n                        local x, y, z = getWorldTranslation(spec.balePacker.node)\n                        local rx, ry, rz = getWorldRotation(spec.balePacker.node)\n                        if baleObject:loadFromConfigXML(spec.balePacker.filename, x, y, z, rx, ry, rz) then\n                            baleObject:setFillType(packedFillType)\n                            baleObject:setFillLevel(packedFillLevel)\n                            baleObject:setOwnerFarmId(packedFarmId, true )\n                            baleObject:register()\n\n                            removeFromPhysics(baleObject.nodeId)\n                            addToPhysics(baleObject.nodeId)\n                        end\n                    end\n                end\n\n                if spec.dynamicBaleUnloading.enabled then\n                    self:createBaleToBaleJoints(baleLines)\n                end\n\n                local speed = 1\n                if spec.animations.releaseFrontPlatformFillLevelSpeed then\n                    local fillLevel = self:getFillUnitFillLevel(spec.fillUnitIndex)\n                    local capacity = self:getFillUnitCapacity(spec.fillUnitIndex)\n                    local fillRatio = fillLevel / capacity\n                    if fillRatio > 0 then\n                        speed = 1 / fillRatio\n                    end\n                end\n\n                self:addFillUnitFillLevel( self:getOwnerFarmId(), spec.fillUnitIndex, - math.huge, self:getFillUnitFirstSupportedFillType(spec.fillUnitIndex), ToolType.UNDEFINED, nil )\n\n                if self.isServer then\n                    if spec.unloadingMover.trigger ~ = nil then\n                        spec.unloadingMover.isActive = true\n                        spec.unloadingMover.frameDelay = 3 -- giving the bale time to be recognized by the trigger\n\n                        for i = 1 , #spec.unloadingMover.nodes do\n                            local unloadingMoverNode = spec.unloadingMover.nodes[i]\n                            setFrictionVelocity(unloadingMoverNode.node, unloadingMoverNode.speed)\n                        end\n\n                        if self.isClient then\n                            g_animationManager:startAnimations(spec.unloadingMover.animationNodes)\n                            g_soundManager:playSample(spec.samples.unload)\n                        end\n\n                        self:raiseDirtyFlags(spec.unloadingMover.dirtyFlag)\n                    end\n                end\n\n                self:playAnimation(spec.animations.releaseFrontPlatform, speed, nil , true )\n                self:playAnimation(spec.animations.closeGrippers, - 1 , nil , true )\n                spec.emptyState = BaleLoader.EMPTY_WAIT_TO_SINK\n            elseif id = = BaleLoader.CHANGE_SINK then\n                    if spec.animations.emptyRotateReset then\n                        self:playAnimation(spec.animations.emptyRotate, - 1 , nil , true )\n                    end\n                    self:playAnimation(spec.animations.moveBalePlacesToEmpty, spec.animations.moveBalePlacesToEmptyReverseSpeed, nil , true )\n                    if spec.animations.moveBalePlacesResetOnSink then\n                        self:playAnimation(spec.animations.moveBalePlaces, - 999999 , nil , true )\n                    end\n                    self:playAnimation(spec.animations.pusherEmptyHide1, - 1 , nil , true )\n                    self:playAnimation(spec.animations.rotatePlatformEmpty, - 1 , nil , true )\n                    if not spec.isInWorkPosition then\n                        self:playAnimation(spec.animations.closeGrippers, 1 , self:getAnimationTime(spec.animations.closeGrippers), true )\n                    end\n                    spec.emptyState = BaleLoader.EMPTY_SINK\n                elseif id = = BaleLoader.CHANGE_EMPTY_REDO then\n                        self:playAnimation(spec.animations.emptyRotate, 1 , nil , true )\n                        spec.emptyState = BaleLoader.EMPTY_ROTATE2\n                    elseif id = = BaleLoader.CHANGE_EMPTY_START then\n                            if GS_IS_MOBILE_VERSION then\n                                -- use action controller to move to work position, so we keep the controller in the correct state\n                                if self.rootVehicle:getActionControllerDirection() > 0 then\n                                    spec.controlledAction.parent:startActionSequence()\n                                end\n                                spec.emptyState = BaleLoader.EMPTY_TO_WORK\n                            else\n                                    -- move to work position in case it is not there now\n                                    BaleLoader.moveToWorkPosition( self )\n                                    spec.emptyState = BaleLoader.EMPTY_TO_WORK\n                                end\n                            elseif id = = BaleLoader.CHANGE_EMPTY_CANCEL then\n                                    self:playAnimation(spec.animations.emptyRotate, - 1 , nil , true )\n                                    spec.emptyState = BaleLoader.EMPTY_CANCEL\n                                elseif id = = BaleLoader.CHANGE_MOVE_TO_TRANSPORT then\n                                        if spec.isInWorkPosition then\n                                            spec.grabberIsMoving = true\n                                            spec.isInWorkPosition = false\n                                            g_animationManager:stopAnimations(spec.animationNodes)\n                                            g_soundManager:stopSample(spec.samples.work)\n                                            -- move to transport position\n                                            BaleLoader.moveToTransportPosition( self )\n                                        end\n                                    elseif id = = BaleLoader.CHANGE_MOVE_TO_WORK then\n                                            if not spec.isInWorkPosition then\n                                                spec.grabberIsMoving = true\n                                                spec.isInWorkPosition = true\n                                                if not spec.animationNodesBlocked then\n                                                    g_animationManager:startAnimations(spec.animationNodes)\n                                                    g_soundManager:playSample(spec.samples.work)\n                                                end\n\n                                                -- move to work position\n                                                BaleLoader.moveToWorkPosition( self )\n                                            end\n                                        elseif id = = BaleLoader.CHANGE_GRAB_BALE then\n                                                local bale = NetworkUtil.getObject(nearestBaleServerId)\n                                                spec.baleGrabber.currentBale = nearestBaleServerId\n                                                if bale ~ = nil then\n                                                    if spec.dynamicMount.enabled then\n                                                        self:mountDynamicBale(bale, spec.baleGrabber.grabNode)\n                                                    else\n                                                            self:mountBale(bale, self , spec.baleGrabber.grabNode, 0 , 0 , 0 , 0 , 0 , 0 , true )\n                                                        end\n\n                                                        bale:setCanBeSold( false )\n\n                                                        local baleType = self:getBaleTypeByBale(bale)\n                                                        if baleType ~ = nil then\n                                                            self:setBaleLoaderBaleType(baleType.index)\n                                                        end\n\n                                                        spec.balesToMount[nearestBaleServerId] = nil\n                                                    else\n                                                            spec.balesToMount[nearestBaleServerId] = { serverId = nearestBaleServerId, linkNode = spec.baleGrabber.grabNode, trans = { 0 , 0 , 0 } , rot = { 0 , 0 , 0 } }\n                                                        end\n                                                        spec.grabberMoveState = BaleLoader.GRAB_MOVE_UP\n                                                        self:playAnimation(spec.animations.baleGrabberWorkToDrop, 1 , nil , true )\n\n                                                        self:addFillUnitFillLevel( self:getOwnerFarmId(), spec.fillUnitIndex, 1 , self:getFillUnitFirstSupportedFillType(spec.fillUnitIndex), ToolType.UNDEFINED, nil )\n\n                                                        if self.isClient then\n                                                            g_soundManager:playSample(spec.samples.grab)\n\n                                                            if bale ~ = nil then\n                                                                g_effectManager:setEffectTypeInfo(spec.grabberEffects, bale:getFillType())\n                                                                g_effectManager:startEffects(spec.grabberEffects)\n                                                                spec.grabberEffectDisableTime = g_currentMission.time + spec.grabberEffectDisableDuration\n                                                            end\n                                                        end\n                                                    elseif id = = BaleLoader.CHANGE_GRAB_MOVE_UP then\n                                                            spec.currentBaleGrabberDropBaleAnimName = self:getBaleGrabberDropBaleAnimName()\n                                                            self:playAnimation(spec.currentBaleGrabberDropBaleAnimName, 1 , nil , true )\n                                                            spec.grabberMoveState = BaleLoader.GRAB_DROP_BALE\n                                                        elseif id = = BaleLoader.CHANGE_GRAB_DROP_BALE then\n                                                                -- drop bale at platform\n                                                                if spec.startBalePlace ~ = nil and spec.startBalePlace.count < spec.startBalePlace.numOfPlaces and spec.startBalePlace.node ~ = nil then\n                                                                    local attachNode = getChildAt(spec.startBalePlace.node, spec.startBalePlace.count)\n                                                                    local bale = NetworkUtil.getObject(spec.baleGrabber.currentBale)\n                                                                    if bale ~ = nil then\n                                                                        if spec.dynamicMount.enabled then\n                                                                            self:mountDynamicBale(bale, attachNode)\n                                                                        else\n                                                                                local rx, ry, rz = 0 , 0 , 0\n                                                                                if spec.keepBaleRotationDuringLoad then\n                                                                                    rx, ry, rz = localRotationToLocal(bale.nodeId, attachNode, 0 , 0 , 0 )\n                                                                                end\n\n                                                                                self:mountBale(bale, self , attachNode, 0 , 0 , 0 , rx, ry, rz)\n                                                                            end\n\n                                                                            spec.balesToMount[spec.baleGrabber.currentBale] = nil\n                                                                        else\n                                                                                spec.balesToMount[spec.baleGrabber.currentBale] = { serverId = spec.baleGrabber.currentBale, linkNode = attachNode, trans = { 0 , 0 , 0 } , rot = { 0 , 0 , 0 } }\n                                                                            end\n\n                                                                            spec.startBalePlace.count = spec.startBalePlace.count + 1\n                                                                            table.insert(spec.startBalePlace.bales, spec.baleGrabber.currentBale)\n                                                                            spec.baleGrabber.currentBale = nil\n                                                                            --setRotation(baleNode, 0, 0, 0)\n                                                                            --setTranslation(baleNode, 0, 0, 0)\n\n                                                                            self:updateFoldingAnimation()\n\n                                                                            if spec.startBalePlace.count < spec.startBalePlace.numOfPlaces then\n                                                                                spec.frontBalePusherDirection = 1\n                                                                                self:playAnimation(spec.animations.balesToOtherRow, 1 , nil , true )\n                                                                                self:playAnimation(spec.animations.frontBalePusher, 1 , nil , true )\n                                                                            elseif spec.startBalePlace.count = = spec.startBalePlace.numOfPlaces then\n                                                                                    BaleLoader.rotatePlatform( self )\n                                                                                end\n\n                                                                                if spec.animations.baleGrabberDropToWork ~ = nil then\n                                                                                    self:playAnimation(spec.animations.baleGrabberDropToWork, 1 , 0 , true )\n                                                                                else\n                                                                                        self:playAnimation(spec.currentBaleGrabberDropBaleAnimName, - spec.animations.baleGrabberDropBaleReverseSpeed, nil , true )\n                                                                                        self:playAnimation(spec.animations.baleGrabberWorkToDrop, - 1 , nil , true )\n                                                                                    end\n                                                                                    spec.grabberMoveState = BaleLoader.GRAB_MOVE_DOWN\n                                                                                end\n                                                                            elseif id = = BaleLoader.CHANGE_GRAB_MOVE_DOWN then\n                                                                                    spec.grabberMoveState = nil\n\n                                                                                    spec.automaticUnloadingAdditionalBalesToLoad = spec.automaticUnloadingAdditionalBalesToLoad - 1\n                                                                                elseif id = = BaleLoader.CHANGE_FRONT_PUSHER then\n                                                                                        if spec.frontBalePusherDirection > 0 then\n                                                                                            self:playAnimation(spec.animations.frontBalePusher, - 1 , nil , true )\n                                                                                            spec.frontBalePusherDirection = - 1\n                                                                                        else\n                                                                                                spec.frontBalePusherDirection = 0\n                                                                                            end\n                                                                                        elseif id = = BaleLoader.CHANGE_ROTATE_PLATFORM then\n                                                                                                if spec.startBalePlace ~ = nil and spec.rotatePlatformDirection > 0 then\n                                                                                                    -- drop bales\n                                                                                                    local balePlace = spec.balePlaces[spec.startBalePlace.current]\n                                                                                                    spec.startBalePlace.current = spec.startBalePlace.current + 1\n                                                                                                    for i = 1 , #spec.startBalePlace.bales do\n                                                                                                        local node = getChildAt(spec.startBalePlace.node, i - 1 )\n                                                                                                        local x,y,z = getTranslation(node)\n                                                                                                        local rx,ry,rz = getRotation(node)\n                                                                                                        local baleServerId = spec.startBalePlace.bales[i]\n                                                                                                        local bale = NetworkUtil.getObject(baleServerId)\n\n                                                                                                        if bale ~ = nil then\n                                                                                                            if spec.keepBaleRotationDuringLoad then\n                                                                                                                x, y, z = localToLocal(bale.nodeId, balePlace.node, 0 , 0 , 0 )\n                                                                                                                rx, ry, rz = localRotationToLocal(bale.nodeId, balePlace.node, 0 , 0 , 0 )\n                                                                                                            end\n\n                                                                                                            if spec.dynamicMount.enabled then\n                                                                                                                self:mountDynamicBale(bale, balePlace.node)\n                                                                                                            else\n                                                                                                                    self:mountBale(bale, self , balePlace.node, x,y,z, rx,ry,rz)\n                                                                                                                end\n\n                                                                                                                spec.balesToMount[baleServerId] = nil\n                                                                                                            else\n                                                                                                                    spec.balesToMount[baleServerId] = { serverId = baleServerId, linkNode = balePlace.node, trans = { x,y,z } , rot = { rx,ry,rz } }\n                                                                                                                end\n                                                                                                            end\n                                                                                                            balePlace.bales = spec.startBalePlace.bales\n                                                                                                            spec.startBalePlace.bales = { }\n                                                                                                            spec.startBalePlace.count = 0\n\n                                                                                                            self:updateFoldingAnimation()\n\n                                                                                                            for i = 1 , spec.startBalePlace.numOfPlaces do\n                                                                                                                local node = getChildAt(spec.startBalePlace.node, i - 1 )\n                                                                                                                setRotation(node, unpack(spec.startBalePlace.origRot[i]))\n                                                                                                                setTranslation(node, unpack(spec.startBalePlace.origTrans[i]))\n                                                                                                            end\n\n                                                                                                            if spec.emptyState = = BaleLoader.EMPTY_NONE then\n                                                                                                                -- we are not waiting to start emptying, rotate back\n                                                                                                                if self:getAnimationTime(spec.animations.baleGrabberWorkToDrop) < spec.animations.moveBalePlacesMaxGrabberTime or spec.animations.moveBalePlacesMaxGrabberTime = = math.huge then\n                                                                                                                    spec.rotatePlatformDirection = - 1\n                                                                                                                    self:playAnimation(spec.animations.rotatePlatformBack, - 1 , nil , true )\n\n                                                                                                                    if spec.animations.moveBalePlacesAfterRotatePlatform then\n                                                                                                                        -- startBalePlace.current+1 needs to be at the first position\n                                                                                                                        if spec.startBalePlace.current < = #spec.balePlaces or spec.animations.moveBalePlacesAlways then\n                                                                                                                            self:playAnimation(spec.animations.moveBalePlaces, 1 , (spec.startBalePlace.current - 1 ) / #spec.balePlaces, true )\n                                                                                                                            self:setAnimationStopTime(spec.animations.moveBalePlaces, (spec.startBalePlace.current) / #spec.balePlaces)\n                                                                                                                            self:playAnimation(spec.animations.moveBalePlacesExtrasOnce, 1 , nil , true )\n                                                                                                                        end\n                                                                                                                    end\n                                                                                                                else\n                                                                                                                        spec.rotatePlatformDirection = - 1\n                                                                                                                        spec.moveBalePlacesDelayedMovement = true\n                                                                                                                    end\n                                                                                                                else\n                                                                                                                        spec.rotatePlatformDirection = 0\n                                                                                                                    end\n                                                                                                                else\n                                                                                                                        spec.rotatePlatformDirection = 0\n                                                                                                                    end\n                                                                                                                elseif id = = BaleLoader.CHANGE_EMPTY_ROTATE_PLATFORM then\n                                                                                                                        spec.emptyState = BaleLoader.EMPTY_ROTATE_PLATFORM\n                                                                                                                        if spec.startBalePlace ~ = nil and spec.startBalePlace.count = = 0 then\n                                                                                                                            self:playAnimation(spec.animations.rotatePlatformEmpty, 1 , nil , true )\n                                                                                                                        else\n                                                                                                                                BaleLoader.rotatePlatform( self )\n                                                                                                                            end\n                                                                                                                        elseif id = = BaleLoader.CHANGE_EMPTY_ROTATE1 then\n                                                                                                                                self:playAnimation(spec.animations.emptyRotate, 1 , nil , true )\n                                                                                                                                self:setAnimationStopTime(spec.animations.emptyRotate, 0.2 )\n                                                                                                                                local balePlacesTime = self:getRealAnimationTime(spec.animations.moveBalePlaces)\n\n                                                                                                                                local pusherAnimSpeed = spec.animations.moveBalePlacesToEmptySpeed\n                                                                                                                                if spec.animations.pusherPushBalesOnEmpty and spec.startBalePlace ~ = nil then\n                                                                                                                                    local usedPlaces = spec.startBalePlace.current\n                                                                                                                                    if #spec.startBalePlace.bales = = 0 then\n                                                                                                                                        usedPlaces = usedPlaces - 1\n                                                                                                                                    end\n\n                                                                                                                                    local animDuration = self:getAnimationDuration(spec.animations.moveBalePlacesToEmpty)\n                                                                                                                                    local placeTargetTime = 1\n                                                                                                                                    if animDuration > 0 then\n                                                                                                                                        placeTargetTime = 1 - (balePlacesTime / animDuration)\n                                                                                                                                    end\n\n                                                                                                                                    local pusherTargetTime = 1 - (usedPlaces / #spec.balePlaces)\n                                                                                                                                    pusherAnimSpeed = spec.animations.moveBalePlacesToEmptySpeed * (pusherTargetTime / math.max(placeTargetTime, 0.0001 ))\n                                                                                                                                    if pusherAnimSpeed > 0 then\n                                                                                                                                        self:playAnimation(spec.animations.pusherMoveToEmpty, pusherAnimSpeed, 0 , true )\n                                                                                                                                        self:setAnimationStopTime(spec.animations.pusherMoveToEmpty, pusherTargetTime)\n                                                                                                                                    end\n                                                                                                                                else\n                                                                                                                                        local targetTime = 0\n                                                                                                                                        local animDuration = self:getAnimationDuration(spec.animations.pusherMoveToEmpty)\n                                                                                                                                        if animDuration > 0 then\n                                                                                                                                            targetTime = balePlacesTime / animDuration\n                                                                                                                                        end\n                                                                                                                                        self:playAnimation(spec.animations.pusherMoveToEmpty, spec.animations.moveBalePlacesToEmptySpeed, targetTime, true )\n                                                                                                                                    end\n\n                                                                                                                                    -- only allow if we just pushed the bales back and the start bale places are empty\n                                                                                                                                        local allowOffset = true\n                                                                                                                                        local lastPlace = spec.balePlaces[spec.startBalePlace.current - 1 ]\n                                                                                                                                        if lastPlace ~ = nil then\n                                                                                                                                            if #lastPlace.bales < spec.startBalePlace.numOfPlaces then\n                                                                                                                                                allowOffset = false\n                                                                                                                                            end\n                                                                                                                                        end\n\n                                                                                                                                        if spec.animations.moveBalePlacesToEmptyPushOffset > 0 and allowOffset then\n                                                                                                                                            if pusherAnimSpeed > 0 then\n                                                                                                                                                spec.animations.moveBalePlacesToEmptyPushOffsetDelay = spec.animations.moveBalePlacesToEmptyPushOffset * self:getAnimationDuration(spec.animations.pusherMoveToEmpty) / pusherAnimSpeed\n                                                                                                                                                spec.animations.moveBalePlacesToEmptyPushOffsetTime = spec.animations.moveBalePlacesToEmptyPushOffsetDelay\n                                                                                                                                            end\n                                                                                                                                        else\n                                                                                                                                                local targetTime = 0\n                                                                                                                                                local animDuration = self:getAnimationDuration(spec.animations.moveBalePlacesToEmpty)\n                                                                                                                                                if animDuration > 0 then\n                                                                                                                                                    targetTime = balePlacesTime / animDuration\n                                                                                                                                                end\n                                                                                                                                                self:playAnimation(spec.animations.moveBalePlacesToEmpty, spec.animations.moveBalePlacesToEmptySpeed, targetTime, true )\n                                                                                                                                            end\n\n                                                                                                                                            spec.emptyState = BaleLoader.EMPTY_ROTATE1\n\n                                                                                                                                            if self.isClient then\n                                                                                                                                                g_soundManager:playSample(spec.samples.emptyRotate)\n                                                                                                                                            end\n                                                                                                                                        elseif id = = BaleLoader.CHANGE_EMPTY_CLOSE_GRIPPERS then\n                                                                                                                                                self:playAnimation(spec.animations.closeGrippers, 1 , nil , true )\n                                                                                                                                                spec.emptyState = BaleLoader.EMPTY_CLOSE_GRIPPERS\n                                                                                                                                            elseif id = = BaleLoader.CHANGE_EMPTY_HIDE_PUSHER1 then\n                                                                                                                                                    self:playAnimation(spec.animations.pusherEmptyHide1, 1 , nil , true )\n                                                                                                                                                    spec.emptyState = BaleLoader.EMPTY_HIDE_PUSHER1\n                                                                                                                                                elseif id = = BaleLoader.CHANGE_EMPTY_HIDE_PUSHER2 then\n                                                                                                                                                        if spec.animations.pusherHideOnEmpty then\n                                                                                                                                                            self:playAnimation(spec.animations.pusherMoveToEmpty, - 2 , nil , true )\n                                                                                                                                                            spec.emptyState = BaleLoader.EMPTY_HIDE_PUSHER2\n                                                                                                                                                        else\n                                                                                                                                                                if self.isServer then\n                                                                                                                                                                    g_server:broadcastEvent( BaleLoaderStateEvent.new( self , BaleLoader.CHANGE_EMPTY_ROTATE2), true , nil , self )\n                                                                                                                                                                end\n                                                                                                                                                            end\n                                                                                                                                                        elseif id = = BaleLoader.CHANGE_EMPTY_ROTATE2 then\n                                                                                                                                                                self:playAnimation(spec.animations.emptyRotate, 1 , self:getAnimationTime(spec.animations.emptyRotate), true )\n                                                                                                                                                                spec.emptyState = BaleLoader.EMPTY_ROTATE2\n                                                                                                                                                            elseif id = = BaleLoader.CHANGE_EMPTY_WAIT_TO_DROP then\n                                                                                                                                                                    -- wait for the user to react(abort or drop)\n                                                                                                                                                                        spec.emptyState = BaleLoader.EMPTY_WAIT_TO_DROP\n                                                                                                                                                                    elseif id = = BaleLoader.CHANGE_EMPTY_STATE_NIL then\n                                                                                                                                                                            spec.emptyState = BaleLoader.EMPTY_NONE\n\n                                                                                                                                                                            if GS_IS_MOBILE_VERSION then\n                                                                                                                                                                                -- use action controller to move back to transport position, so we keep the controller in the correct state\n                                                                                                                                                                                if self.rootVehicle:getActionControllerDirection() < 0 then\n                                                                                                                                                                                    spec.controlledAction.parent:startActionSequence()\n                                                                                                                                                                                end\n                                                                                                                                                                            else\n                                                                                                                                                                                    if spec.transportPositionAfterUnloading then\n                                                                                                                                                                                        BaleLoader.moveToTransportPosition( self )\n                                                                                                                                                                                        if self.isServer then\n                                                                                                                                                                                            g_server:broadcastEvent( BaleLoaderStateEvent.new( self , BaleLoader.CHANGE_MOVE_TO_TRANSPORT), true , nil , self )\n                                                                                                                                                                                        end\n                                                                                                                                                                                    end\n                                                                                                                                                                                end\n\n                                                                                                                                                                                spec.automaticUnloadingInProgress = false\n                                                                                                                                                                            elseif id = = BaleLoader.CHANGE_EMPTY_WAIT_TO_REDO then\n                                                                                                                                                                                    spec.emptyState = BaleLoader.EMPTY_WAIT_TO_REDO\n                                                                                                                                                                                elseif id = = BaleLoader.CHANGE_BUTTON_EMPTY then\n                                                                                                                                                                                        -- Server only code\n                                                                                                                                                                                        assert( self.isServer)\n                                                                                                                                                                                        if spec.emptyState ~ = BaleLoader.EMPTY_NONE then\n                                                                                                                                                                                            if spec.emptyState = = BaleLoader.EMPTY_WAIT_TO_DROP then\n                                                                                                                                                                                                -- BaleLoader.CHANGE_DROP_BALES\n                                                                                                                                                                                                g_server:broadcastEvent( BaleLoaderStateEvent.new( self , BaleLoader.CHANGE_DROP_BALES), true , nil , self )\n                                                                                                                                                                                            elseif spec.emptyState = = BaleLoader.EMPTY_WAIT_TO_SINK then\n                                                                                                                                                                                                    -- BaleLoader.CHANGE_SINK\n                                                                                                                                                                                                    if not spec.unloadingMover.isActive then\n                                                                                                                                                                                                        g_server:broadcastEvent( BaleLoaderStateEvent.new( self , BaleLoader.CHANGE_SINK), true , nil , self )\n                                                                                                                                                                                                    end\n                                                                                                                                                                                                elseif spec.emptyState = = BaleLoader.EMPTY_WAIT_TO_REDO then\n                                                                                                                                                                                                        -- BaleLoader.CHANGE_EMPTY_REDO\n                                                                                                                                                                                                        g_server:broadcastEvent( BaleLoaderStateEvent.new( self , BaleLoader.CHANGE_EMPTY_REDO), true , nil , self )\n                                                                                                                                                                                                    end\n                                                                                                                                                                                                else\n                                                                                                                                                                                                        --BaleLoader.CHANGE_EMPTY_START\n                                                                                                                                                                                                        if BaleLoader.getAllowsStartUnloading( self ) then\n                                                                                                                                                                                                            g_server:broadcastEvent( BaleLoaderStateEvent.new( self , BaleLoader.CHANGE_EMPTY_START), true , nil , self )\n                                                                                                                                                                                                        end\n                                                                                                                                                                                                    end\n                                                                                                                                                                                                elseif id = = BaleLoader.CHANGE_BUTTON_EMPTY_ABORT then\n                                                                                                                                                                                                        -- Server only code\n                                                                                                                                                                                                        assert( self.isServer)\n                                                                                                                                                                                                        if spec.emptyState ~ = BaleLoader.EMPTY_NONE then\n                                                                                                                                                                                                            if spec.emptyState = = BaleLoader.EMPTY_WAIT_TO_DROP then\n                                                                                                                                                                                                                --BaleLoader.CHANGE_EMPTY_CANCEL\n                                                                                                                                                                                                                g_server:broadcastEvent( BaleLoaderStateEvent.new( self , BaleLoader.CHANGE_EMPTY_CANCEL), true , nil , self )\n                                                                                                                                                                                                            end\n                                                                                                                                                                                                        end\n                                                                                                                                                                                                    elseif id = = BaleLoader.CHANGE_BUTTON_WORK_TRANSPORT then\n                                                                                                                                                                                                            -- Server only code\n                                                                                                                                                                                                            assert( self.isServer)\n                                                                                                                                                                                                            if spec.emptyState = = BaleLoader.EMPTY_NONE and spec.grabberMoveState = = nil then\n                                                                                                                                                                                                                if spec.isInWorkPosition then\n                                                                                                                                                                                                                    g_server:broadcastEvent( BaleLoaderStateEvent.new( self , BaleLoader.CHANGE_MOVE_TO_TRANSPORT), true , nil , self )\n                                                                                                                                                                                                                else\n                                                                                                                                                                                                                        g_server:broadcastEvent( BaleLoaderStateEvent.new( self , BaleLoader.CHANGE_MOVE_TO_WORK), true , nil , self )\n                                                                                                                                                                                                                    end\n                                                                                                                                                                                                                end\n                                                                                                                                                                                                            end\n                                                                                                                                                                                                        end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getallowdynamicmountfilllevelinfo",children:"getAllowDynamicMountFillLevelInfo"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getAllowDynamicMountFillLevelInfo()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleLoader:getAllowDynamicMountFillLevelInfo(superFunc)\n    local spec = self.spec_baleLoader\n    if spec.dynamicMount.enabled then\n        return false\n    end\n\n    return superFunc( self )\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getallowsstartunloading",children:"getAllowsStartUnloading"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Returns if allows to start unloading bales"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getAllowsStartUnloading()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"self"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"allowsUnloading"}),(0,i.jsx)(n.th,{children:"allows unloading"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleLoader.getAllowsStartUnloading( self )\n    local spec = self.spec_baleLoader\n\n    if self:getFillUnitFillLevel(spec.fillUnitIndex) = = 0 then\n        return false\n    end\n\n    if spec.rotatePlatformDirection ~ = 0 then\n        return false\n    end\n\n    if spec.frontBalePusherDirection ~ = 0 then\n        return false\n    end\n\n    if spec.grabberIsMoving or spec.grabberMoveState ~ = nil then\n        return false\n    end\n\n    if spec.emptyState ~ = BaleLoader.EMPTY_NONE then\n        return false\n    end\n\n    return true\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getarecontrolledactionsallowed",children:"getAreControlledActionsAllowed"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Returns if controlled actions are allowed"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getAreControlledActionsAllowed()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"allow"}),(0,i.jsx)(n.th,{children:"allow controlled actions"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"warning"}),(0,i.jsx)(n.td,{children:"not allowed warning"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleLoader:getAreControlledActionsAllowed(superFunc)\n    if self:getIsAutomaticBaleUnloadingInProgress() then\n        return false\n    end\n\n    return superFunc( self )\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getbalegrabberdropbaleanimname",children:"getBaleGrabberDropBaleAnimName"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Returns bale grabber drop bale animation name"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getBaleGrabberDropBaleAnimName()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"name"}),(0,i.jsx)(n.th,{children:"name of bale grabber drop bale animation name"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function BaleLoader:getBaleGrabberDropBaleAnimName()\n    local spec = self.spec_baleLoader\n    local name = string.format( "%s%d" , spec.animations.baleGrabberDropBale, spec.startBalePlace.count)\n    if self:getAnimationExists(name) then\n        return name\n    end\n    return spec.animations.baleGrabberDropBale\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"getbaleinrange",children:"getBaleInRange"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Returns if nearest bale in range"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getBaleInRange(integer refNode, , )"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"integer"}),(0,i.jsx)(n.th,{children:"refNode"}),(0,i.jsx)(n.th,{children:"id of reference node"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"refNode"}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"balesInTrigger"}),(0,i.jsx)(n.td,{})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"bale"}),(0,i.jsx)(n.th,{children:"bale"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"nearestBaleType"}),(0,i.jsx)(n.td,{children:"id of bale type"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleLoader.getBaleInRange( self , refNode, balesInTrigger)\n    local spec = self.spec_baleLoader\n\n    local nearestDistance = spec.baleGrabber.pickupRange\n    local nearestBale = nil\n    local nearestBaleType = nil\n    local warning = spec.texts.baleNotSupported\n\n    for bale, state in pairs(balesInTrigger) do\n        if state ~ = nil and state > 0 then\n\n            local isValidBale = true\n            local otherBale\n            for _, balePlace in pairs(spec.balePlaces) do\n                if balePlace.bales ~ = nil then\n                    for _, baleServerId in pairs(balePlace.bales) do\n                        local baleInPlace = NetworkUtil.getObject(baleServerId)\n                        if baleInPlace ~ = nil and baleInPlace = = bale then\n                            isValidBale = false\n                        end\n                        otherBale = baleInPlace\n                    end\n                end\n            end\n\n            if spec.startBalePlace ~ = nil then\n                for _, baleServerId in ipairs(spec.startBalePlace.bales) do\n                    local baleInPlace = NetworkUtil.getObject(baleServerId)\n                    if baleInPlace ~ = nil and baleInPlace = = bale then\n                        isValidBale = false\n                    end\n                    otherBale = baleInPlace\n                end\n            end\n\n            if bale = = nil or not entityExists(bale.nodeId) then\n                isValidBale = false\n            end\n\n            if isValidBale then\n                local distance = calcDistanceFrom(refNode, bale.nodeId)\n                if distance < nearestDistance then\n                    local foundBaleType = self:getBaleTypeByBale(bale)\n\n                    -- ignore bales from a supported bale type when we already have bales from another supported bale type loaded\n                    if foundBaleType ~ = spec.currentBaleType then\n                        if self:getFillUnitFillLevel(spec.currentBaleType.fillUnitIndex) ~ = 0 then\n                            foundBaleType = nil\n                            warning = spec.texts.onlyOneBaleTypeWarning\n                        end\n                    end\n\n                    if foundBaleType ~ = nil and not foundBaleType.mixedFillTypes then\n                        if otherBale ~ = nil then\n                            if bale:getFillType() ~ = otherBale:getFillType() then\n                                foundBaleType = nil\n                                warning = spec.texts.baleDoNotAllowFillTypeMixing\n                            end\n                        end\n                    end\n\n                    if bale:getIsMounted() or bale.baleJointIndex ~ = nil then\n                        foundBaleType = nil\n                        warning = nil -- do not show warning is bale is mounted to something else\n                        end\n\n                        if not bale:getBaleSupportsBaleLoader() then\n                            foundBaleType = nil\n                        end\n\n                        local activeFarmId = self:getActiveFarm()\n                        if activeFarmId ~ = bale.ownerFarmId\n                            and not g_currentMission.accessHandler:canFarmAccessOtherId(activeFarmId, bale.ownerFarmId) then\n                            -- if we are a baler / baleloader combination we allow the pickup of the just create bale, even when not ours\n                                if self.spec_baler = = nil then\n                                    foundBaleType = nil\n                                    warning = spec.texts.youDoNotOwnBale\n                                end\n                            end\n\n                            if foundBaleType ~ = nil or nearestBaleType = = nil then\n                                if foundBaleType ~ = nil then\n                                    nearestDistance = distance\n                                end\n                                nearestBale = bale\n                                nearestBaleType = foundBaleType\n                            end\n                        end\n\n                    end\n                end\n            end\n            return nearestBale, nearestBaleType, warning\n        end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getbaletypebybale",children:"getBaleTypeByBale"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getBaleTypeByBale()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"bale"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleLoader:getBaleTypeByBale(bale)\n    local spec = self.spec_baleLoader\n\n    local foundBaleType\n    for _, baleType in pairs(spec.baleTypes) do\n        local dimensions = baleType.dimensions\n        if dimensions.isRoundbale then\n            if dimensions.isRoundbale\n                and bale.width > = dimensions.minWidth\n                and bale.width < = dimensions.maxWidth\n                and bale.diameter > = dimensions.minDiameter\n                and bale.diameter < = dimensions.maxDiameter then\n                foundBaleType = baleType\n                break\n            end\n        else\n                if not dimensions.isRoundbale\n                    and bale.width > = dimensions.minWidth\n                    and bale.width < = dimensions.maxWidth\n                    and bale.height > = dimensions.minHeight\n                    and bale.height < = dimensions.maxHeight\n                    and bale.length > = dimensions.minLength\n                    and bale.length < = dimensions.maxLength then\n                    foundBaleType = baleType\n                    break\n                end\n            end\n        end\n\n        return foundBaleType\n    end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getcanbeselected",children:"getCanBeSelected"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getCanBeSelected()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleLoader:getCanBeSelected(superFunc)\n    return true\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getconsumingload",children:"getConsumingLoad"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getConsumingLoad()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleLoader:getConsumingLoad(superFunc)\n    local value, count = superFunc( self )\n\n    local spec = self.spec_baleLoader\n    local loadPercentage = 0\n    if spec.consumePtoPower and(spec.isInWorkPosition or spec.grabberIsMoving) then\n        loadPercentage = 1\n    end\n\n    return value + loadPercentage, count + 1\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getcurrentfoldinganimation",children:"getCurrentFoldingAnimation"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getCurrentFoldingAnimation()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleLoader:getCurrentFoldingAnimation()\n    local spec = self.spec_baleLoader\n\n    if not spec.hasMultipleFoldingAnimations then\n        return spec.animations.baleGrabberTransportToWork\n    end\n\n    return spec.lastFoldingAnimation\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getdoconsumeptopower",children:"getDoConsumePtoPower"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Returns if should consume pto power"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getDoConsumePtoPower()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"consume"}),(0,i.jsx)(n.th,{children:"consumePtoPower"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleLoader:getDoConsumePtoPower(superFunc)\n    local spec = self.spec_baleLoader\n    if spec.consumePtoPower and(spec.isInWorkPosition or spec.grabberIsMoving) then\n        return true\n    end\n\n    return superFunc( self )\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getisaipreparingtodrive",children:"getIsAIPreparingToDrive"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getIsAIPreparingToDrive()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleLoader:getIsAIPreparingToDrive(superFunc)\n    local spec = self.spec_baleLoader\n    if spec.grabberIsMoving then\n        return true\n    end\n\n    return superFunc( self )\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getisaireadytodrive",children:"getIsAIReadyToDrive"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getIsAIReadyToDrive()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleLoader:getIsAIReadyToDrive(superFunc)\n    local spec = self.spec_baleLoader\n    if spec.isInWorkPosition or spec.grabberIsMoving then\n        return false\n    end\n\n    return superFunc( self )\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getisautomaticbaleunloadingallowed",children:"getIsAutomaticBaleUnloadingAllowed"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getIsAutomaticBaleUnloadingAllowed()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleLoader:getIsAutomaticBaleUnloadingAllowed()\n    if self:getIsAutomaticBaleUnloadingInProgress() then\n        return false\n    end\n\n    if self.spec_baleLoader.lastPickupTime + self.spec_baleLoader.lastPickupAutomatedUnloadingDelayTime > g_ time then\n        return false\n    end\n\n    if not BaleLoader.getAllowsStartUnloading( self ) then\n        return false\n    end\n\n    return true\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getisautomaticbaleunloadinginprogress",children:"getIsAutomaticBaleUnloadingInProgress"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getIsAutomaticBaleUnloadingInProgress()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleLoader:getIsAutomaticBaleUnloadingInProgress()\n    return self.spec_baleLoader.automaticUnloadingInProgress\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getisbalegrabbingallowed",children:"getIsBaleGrabbingAllowed"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Returns if bale grabbing is allowed"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getIsBaleGrabbingAllowed()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"name"}),(0,i.jsx)(n.th,{children:"name of bale grabber drop bale animation name"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleLoader:getIsBaleGrabbingAllowed()\n    local spec = self.spec_baleLoader\n\n    if not spec.isInWorkPosition then\n        return false\n    end\n\n    if spec.grabberIsMoving or spec.grabberMoveState ~ = nil then\n        return false\n    end\n\n    if spec.startBalePlace.count > = spec.startBalePlace.numOfPlaces then\n        return false\n    end\n\n    if spec.frontBalePusherDirection ~ = 0 then\n        return false\n    end\n\n    if not spec.animations.rotatePlatformAllowPickup and spec.rotatePlatformDirection ~ = 0 then\n        return false\n    end\n\n    if spec.animations.moveBalePlacesAlways and self:getIsAnimationPlaying(spec.animations.moveBalePlaces) then\n        return false\n    end\n\n    if spec.emptyState ~ = BaleLoader.EMPTY_NONE then\n        return false\n    end\n\n    if self:getFillUnitFreeCapacity(spec.fillUnitIndex) = = 0 then\n        return false\n    end\n\n    return true\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getisbaleloaderfoldingplaying",children:"getIsBaleLoaderFoldingPlaying"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getIsBaleLoaderFoldingPlaying()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleLoader:getIsBaleLoaderFoldingPlaying()\n    return self:getIsAnimationPlaying( self:getCurrentFoldingAnimation())\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getisfoldallowed",children:"getIsFoldAllowed"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getIsFoldAllowed()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"superFunc"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"direction"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"onAiTurnOn"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleLoader:getIsFoldAllowed(superFunc, direction, onAiTurnOn)\n    local spec = self.spec_baleLoader\n    if self:getFillUnitFillLevel(spec.fillUnitIndex) > 0 then\n        return false\n    end\n\n    return superFunc( self , direction, onAiTurnOn)\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getispowertakeoffactive",children:"getIsPowerTakeOffActive"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getIsPowerTakeOffActive()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleLoader:getIsPowerTakeOffActive(superFunc)\n    local spec = self.spec_baleLoader\n    if spec.consumePtoPower and(spec.isInWorkPosition or spec.grabberIsMoving) then\n        return true\n    end\n\n    return superFunc( self )\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getloadedbales",children:"getLoadedBales"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getLoadedBales()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleLoader:getLoadedBales()\n    local bales = { }\n\n    local spec = self.spec_baleLoader\n    for _, balePlace in pairs(spec.balePlaces) do\n        if balePlace.bales ~ = nil then\n            for _, baleServerId in pairs(balePlace.bales) do\n                local bale = NetworkUtil.getObject(baleServerId)\n                if bale ~ = nil then\n                    table.insert(bales, bale)\n                end\n            end\n        end\n    end\n\n    for _, baleServerId in ipairs(spec.startBalePlace.bales) do\n        local bale = NetworkUtil.getObject(baleServerId)\n        if bale ~ = nil then\n            table.insert(bales, bale)\n        end\n    end\n\n    return bales\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getspecvaluebalesize",children:"getSpecValueBaleSize"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getSpecValueBaleSize()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"storeItem"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"realItem"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"configurations"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"saleItem"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"returnValues"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"returnRange"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"roundBaleLoader"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function BaleLoader.getSpecValueBaleSize(storeItem, realItem, configurations, saleItem, returnValues, returnRange, roundBaleLoader)\n    local baleSizeAttributes = roundBaleLoader and storeItem.specs.baleLoaderBaleSizeRound or storeItem.specs.baleLoaderBaleSizeSquare\n    if baleSizeAttributes ~ = nil then\n        local minValue = roundBaleLoader and baleSizeAttributes.minDiameter or baleSizeAttributes.minLength\n        local maxValue = roundBaleLoader and baleSizeAttributes.maxDiameter or baleSizeAttributes.maxLength\n\n        if returnValues = = nil or not returnValues then\n            local unit = g_i18n:getText( "unit_cmShort" )\n            local size\n            if maxValue ~ = minValue then\n                size = string.format( "%d%s-%d%s" , minValue * 100 , unit, maxValue * 100 , unit)\n            else\n                    size = string.format( "%d%s" , minValue * 100 , unit)\n                end\n\n                return size\n            else\n                    if returnRange = = true and maxValue ~ = minValue then\n                        return minValue * 100 , maxValue * 100 , g_i18n:getText( "unit_cmShort" )\n                    else\n                            return minValue * 100 , g_i18n:getText( "unit_cmShort" )\n                        end\n                    end\n                else\n                        if returnValues and returnRange then\n                            return 0 , 0 , ""\n                        elseif returnValues then\n                                return 0 , ""\n                            else\n                                    return ""\n                                end\n                            end\n                        end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"getspecvaluebalesizeround",children:"getSpecValueBaleSizeRound"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getSpecValueBaleSizeRound()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"storeItem"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"realItem"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"configurations"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"saleItem"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"returnValues"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"returnRange"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleLoader.getSpecValueBaleSizeRound(storeItem, realItem, configurations, saleItem, returnValues, returnRange)\n    if storeItem.specs.baleLoaderBaleSizeRound ~ = nil then\n        return BaleLoader.getSpecValueBaleSize(storeItem, realItem, configurations, saleItem, returnValues, returnRange, true )\n    end\n\n    return nil\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getspecvaluebalesizesquare",children:"getSpecValueBaleSizeSquare"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getSpecValueBaleSizeSquare()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"storeItem"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"realItem"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"configurations"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"saleItem"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"returnValues"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"returnRange"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleLoader.getSpecValueBaleSizeSquare(storeItem, realItem, configurations, saleItem, returnValues, returnRange)\n    if storeItem.specs.baleLoaderBaleSizeSquare ~ = nil then\n        return BaleLoader.getSpecValueBaleSize(storeItem, realItem, configurations, saleItem, returnValues, returnRange, false )\n    end\n\n    return nil\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"initspecialization",children:"initSpecialization"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"initSpecialization()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function BaleLoader.initSpecialization()\n    g_storeManager:addSpecType( "baleLoaderBaleSizeRound" , "shopListAttributeIconBaleSizeRound" , BaleLoader.loadSpecValueBaleSizeRound, BaleLoader.getSpecValueBaleSizeRound, StoreSpecies.VEHICLE)\n    g_storeManager:addSpecType( "baleLoaderBaleSizeSquare" , "shopListAttributeIconBaleSizeSquare" , BaleLoader.loadSpecValueBaleSizeSquare, BaleLoader.getSpecValueBaleSizeSquare, StoreSpecies.VEHICLE)\n\n    local schema = Vehicle.xmlSchema\n    schema:setXMLSpecializationType( "BaleLoader" )\n\n    schema:register(XMLValueType.L10N_STRING, "vehicle.baleLoader.texts#transportPosition" , "Transport position text" , "action_baleloaderTransportPosition" )\n    schema:register(XMLValueType.L10N_STRING, "vehicle.baleLoader.texts#operatingPosition" , "Operating position text" , "action_baleloaderOperatingPosition" )\n    schema:register(XMLValueType.L10N_STRING, "vehicle.baleLoader.texts#unload" , "Unload text" , "action_baleloaderUnload" )\n    schema:register(XMLValueType.L10N_STRING, "vehicle.baleLoader.texts#tilting" , "Tilting text" , "info_baleloaderTiltingTable" )\n    schema:register(XMLValueType.L10N_STRING, "vehicle.baleLoader.texts#lowering" , "Lowering text" , "info_baleloaderLoweringTable" )\n    schema:register(XMLValueType.L10N_STRING, "vehicle.baleLoader.texts#lowerPlattform" , "Lower platform text" , "action_baleloaderLowerPlatform" )\n    schema:register(XMLValueType.L10N_STRING, "vehicle.baleLoader.texts#abortUnloading" , "Abort unloading text" , "action_baleloaderAbortUnloading" )\n    schema:register(XMLValueType.L10N_STRING, "vehicle.baleLoader.texts#unloadHere" , "Unload here text" , "action_baleloaderUnloadHere" )\n    schema:register(XMLValueType.L10N_STRING, "vehicle.baleLoader.texts#baleNotSupported" , "Bale not supported warning" , "warning_baleNotSupported" )\n    schema:register(XMLValueType.L10N_STRING, "vehicle.baleLoader.texts#baleDoNotAllowFillTypeMixing" , "Warning to be shown if the fill type is different from loaded fill types" , "warning_baleDoNotAllowFillTypeMixing" )\n        schema:register(XMLValueType.L10N_STRING, "vehicle.baleLoader.texts#onlyOneBaleTypeWarning" , "Warning to be shown if user tries to collect a different bale type as already loaded" , "warning_baleLoaderOnlyAllowOnceSize" )\n            schema:register(XMLValueType.L10N_STRING, "vehicle.baleLoader.texts#minUnloadingFillLevelWarning" , "Warning to be displayed if min fill level is not reached" , "warning_baleLoaderNotFullyLoaded" )\n\n                BaleLoader.registerAnimationXMLPaths(schema, "vehicle.baleLoader" )\n\n                schema:register(XMLValueType.BOOL, "vehicle.baleLoader#transportPositionAfterUnloading" , "Activate transport mode after unloading" , true )\n                schema:register(XMLValueType.BOOL, "vehicle.baleLoader#useFoldingState" , "Use folding state for activation and deactivation" , false )\n                    schema:register(XMLValueType.BOOL, "vehicle.baleLoader#useBalePlaceAsLoadPosition" , "Use bale place position as load position" , false )\n                    schema:register(XMLValueType.FLOAT, "vehicle.baleLoader#balePlaceOffset" , "Bale place offset" , 0 )\n                    schema:register(XMLValueType.BOOL, "vehicle.baleLoader#keepBaleRotationDuringLoad" , "Keep the same bale rotation while loading bale" , false )\n                        schema:register(XMLValueType.BOOL, "vehicle.baleLoader#automaticUnloading" , "Automatically unload the bale loader if platform lifted" , false )\n                            schema:register(XMLValueType.BOOL, "vehicle.baleLoader#fullAutomaticUnloading" , "Automatically unload the bale loader when getting full" , false )\n                            schema:register(XMLValueType.INT, "vehicle.baleLoader#minUnloadingFillLevel" , "Min.fill level until unloading is allowed" , 1 )\n                            schema:register(XMLValueType.BOOL, "vehicle.baleLoader#allowKinematicMounting" , "Kinematic mounting of bale is allow( = bales still have collision while loaded)" , true )\n                                schema:register(XMLValueType.BOOL, "vehicle.baleLoader#consumePtoPower" , "Defines if the bale loader consumes pto power while in work mode" , true )\n\n                                    schema:register(XMLValueType.BOOL, "vehicle.baleLoader.dynamicMount#enabled" , "Bales are dynamically mounted" , false )\n                                    schema:register(XMLValueType.BOOL, "vehicle.baleLoader.dynamicMount#doInterpolation" , "Bale position is interpolated from bale origin position to grabber position" , false )\n                                    schema:register(XMLValueType.TIME, "vehicle.baleLoader.dynamicMount#interpolationTimeRot" , "Time for bale rotation interpolation" , 1 )\n                                        schema:register(XMLValueType.FLOAT, "vehicle.baleLoader.dynamicMount#interpolationSpeedTrans" , "Speed of translation interpolation(m/sec)" , 0.1 )\n                                        schema:register(XMLValueType.VECTOR_TRANS, "vehicle.baleLoader.dynamicMount#minTransLimits" , "Min translation limit" )\n                                        schema:register(XMLValueType.VECTOR_TRANS, "vehicle.baleLoader.dynamicMount#maxTransLimits" , "Max translation limit" )\n\n                                        schema:register(XMLValueType.BOOL, "vehicle.baleLoader.dynamicBaleUnloading#enabled" , "Bales are joint together during unloading" )\n                                        schema:register(XMLValueType.VECTOR_N, "vehicle.baleLoader.dynamicBaleUnloading#connectedRows" , "Indices of rows that are connected together" )\n                                        schema:register(XMLValueType.STRING, "vehicle.baleLoader.dynamicBaleUnloading#interConnectedRowStarts" , "Interconnections at row start between rows(e.g. \'1-2 3-4\')" )\n                                        schema:register(XMLValueType.STRING, "vehicle.baleLoader.dynamicBaleUnloading#interConnectedRowEnds" , "Interconnections at row ends between rows(e.g. \'1-2 3-4\')" )\n                                        schema:register(XMLValueType.FLOAT, "vehicle.baleLoader.dynamicBaleUnloading#widthOffset" , "Width offset" )\n                                        schema:register(XMLValueType.FLOAT, "vehicle.baleLoader.dynamicBaleUnloading#heightOffset" , "Height offset" )\n                                        schema:register(XMLValueType.FLOAT, "vehicle.baleLoader.dynamicBaleUnloading#diameterOffset" , "Diameter offset" )\n                                        schema:register(XMLValueType.ANGLE, "vehicle.baleLoader.dynamicBaleUnloading#rowConnectionRotLimit" , "Rotation limit for row joints" )\n                                            schema:register(XMLValueType.ANGLE, "vehicle.baleLoader.dynamicBaleUnloading#rowInterConnectionRotLimit" , "Rotation limit for inter row joints" )\n\n                                                schema:register(XMLValueType.STRING, "vehicle.baleLoader.dynamicBaleUnloading.releaseAnimation#name" , "Reference animation to remove joints" )\n                                                schema:register(XMLValueType.FLOAT, "vehicle.baleLoader.dynamicBaleUnloading.releaseAnimation#time" , "If animation time is higher than this time the joints will be removed" , 1 )\n                                                schema:register(XMLValueType.BOOL, "vehicle.baleLoader.dynamicBaleUnloading.releaseAnimation#useUnloadingMoverTrigger" , "Bale joints will be removed as soon all bales hast left the unloading mover trigger" , false )\n\n                                                schema:register(XMLValueType.INT, "vehicle.baleLoader#fillUnitIndex" , "Fill unit index" , 1 )\n\n                                                schema:register(XMLValueType.NODE_INDEX, "vehicle.baleLoader.grabber#grabNode" , "Grab node" )\n                                                schema:register(XMLValueType.FLOAT, "vehicle.baleLoader.grabber#pickupRange" , "Pickup range" , 3.0 )\n                                                schema:register(XMLValueType.NODE_INDEX, "vehicle.baleLoader.grabber#triggerNode" , "Trigger node" )\n\n                                                EffectManager.registerEffectXMLPaths(schema, "vehicle.baleLoader.grabber" )\n                                                schema:register(XMLValueType.TIME, "vehicle.baleLoader.grabber#effectDisableDuration" , "Disable duration" , 0.6 )\n\n                                                schema:register(XMLValueType.NODE_INDEX, "vehicle.baleLoader.balePlaces#startBalePlace" , "Start bale place node" )\n                                                schema:register(XMLValueType.NODE_INDEX, "vehicle.baleLoader.balePlaces.balePlace(?)#node" , "Bale place node" )\n\n                                                schema:register(XMLValueType.STRING, "vehicle.baleLoader.foldingAnimations#baseAnimation" , "Base animation name" , "baleGrabberTransportToWork" )\n                                                schema:register(XMLValueType.STRING, "vehicle.baleLoader.foldingAnimations.foldingAnimation(?)#name" , "Animation name" )\n                                                schema:register(XMLValueType.INT, "vehicle.baleLoader.foldingAnimations.foldingAnimation(?)#baleTypeIndex" , "Index of current bale type" , "\'0\' - any bale type" )\n                                                schema:register(XMLValueType.FLOAT, "vehicle.baleLoader.foldingAnimations.foldingAnimation(?)#minFillLevel" , "Min.fill level to use this animation" , "-inf" )\n                                                schema:register(XMLValueType.FLOAT, "vehicle.baleLoader.foldingAnimations.foldingAnimation(?)#maxFillLevel" , "Max.fill level to use this animation" , "inf" )\n                                                schema:register(XMLValueType.FLOAT, "vehicle.baleLoader.foldingAnimations.foldingAnimation(?)#minBalePlace" , "Min.bales on platform to use this animation" , "-inf" )\n                                                schema:register(XMLValueType.FLOAT, "vehicle.baleLoader.foldingAnimations.foldingAnimation(?)#maxBalePlace" , "Max.bales on platform to use this animation" , "inf" )\n\n                                                schema:register(XMLValueType.NODE_INDEX, "vehicle.baleLoader.unloadingMoverNodes#trigger" , "As long as bales are in this trigger the mover nodes are active and the player can not lower the platform" )\n                                                schema:register(XMLValueType.NODE_INDEX, "vehicle.baleLoader.unloadingMoverNodes.unloadingMoverNode(?)#node" , "Node that moves bales" )\n                                                schema:register(XMLValueType.FLOAT, "vehicle.baleLoader.unloadingMoverNodes.unloadingMoverNode(?)#speed" , "Defines direction and speed of moving in X direction" , - 1 )\n\n                                                AnimationManager.registerAnimationNodesXMLPaths(schema, "vehicle.baleLoader.unloadingMoverNodes.animationNodes" )\n\n                                                schema:register(XMLValueType.INT, "vehicle.baleLoader.synchronization#numBitsPosition" , "Number of bits to synchronize bale positions" , 10 )\n                                                schema:register(XMLValueType.FLOAT, "vehicle.baleLoader.synchronization#maxPosition" , "Max.position offset of bales from bale place in meter" , 3 )\n\n                                                SoundManager.registerSampleXMLPaths(schema, "vehicle.baleLoader.sounds" , "grab" )\n                                                SoundManager.registerSampleXMLPaths(schema, "vehicle.baleLoader.sounds" , "emptyRotate" )\n                                                SoundManager.registerSampleXMLPaths(schema, "vehicle.baleLoader.sounds" , "work" )\n                                                SoundManager.registerSampleXMLPaths(schema, "vehicle.baleLoader.sounds" , "unload" )\n\n                                                schema:register(XMLValueType.FLOAT, "vehicle.baleLoader.baleTypes.baleType(?)#diameter" , "Bale diameter" )\n                                                schema:register(XMLValueType.FLOAT, "vehicle.baleLoader.baleTypes.baleType(?)#width" , "Bale width" )\n                                                schema:register(XMLValueType.FLOAT, "vehicle.baleLoader.baleTypes.baleType(?)#height" , "Bale height" )\n                                                schema:register(XMLValueType.FLOAT, "vehicle.baleLoader.baleTypes.baleType(?)#length" , "Bale length" )\n\n                                                schema:register(XMLValueType.FLOAT, "vehicle.baleLoader.baleTypes.baleType(?)#minDiameter" , "Bale min diameter" , "diameter value" )\n                                                schema:register(XMLValueType.FLOAT, "vehicle.baleLoader.baleTypes.baleType(?)#maxDiameter" , "Bale max diameter" , "diameter value" )\n                                                schema:register(XMLValueType.FLOAT, "vehicle.baleLoader.baleTypes.baleType(?)#minWidth" , "Bale min width" , "width value" )\n                                                schema:register(XMLValueType.FLOAT, "vehicle.baleLoader.baleTypes.baleType(?)#maxWidth" , "Bale max width" , "width value" )\n                                                schema:register(XMLValueType.FLOAT, "vehicle.baleLoader.baleTypes.baleType(?)#minHeight" , "Bale min height" , "height value" )\n                                                schema:register(XMLValueType.FLOAT, "vehicle.baleLoader.baleTypes.baleType(?)#maxHeight" , "Bale max height" , "height value" )\n                                                schema:register(XMLValueType.FLOAT, "vehicle.baleLoader.baleTypes.baleType(?)#minLength" , "Bale min length" , "length value" )\n                                                schema:register(XMLValueType.FLOAT, "vehicle.baleLoader.baleTypes.baleType(?)#maxLength" , "Bale max length" , "length value" )\n\n                                                schema:register(XMLValueType.INT, "vehicle.baleLoader.baleTypes.baleType(?)#fillUnitIndex" , "Fill unit index" , "baleLoader#fillUnitIndex" )\n                                                schema:register(XMLValueType.BOOL, "vehicle.baleLoader.baleTypes.baleType(?)#mixedFillTypes" , "Allow loading of mixed fill types" , true )\n\n                                                schema:register(XMLValueType.NODE_INDEX, "vehicle.baleLoader.baleTypes.baleType(?).balePlaces#startBalePlace" , "Start bale place node" )\n                                                schema:register(XMLValueType.NODE_INDEX, "vehicle.baleLoader.baleTypes.baleType(?).balePlaces.balePlace(?)#node" , "Bale place node" )\n\n                                                ObjectChangeUtil.registerObjectChangeXMLPaths(schema, "vehicle.baleLoader.baleTypes.baleType(?)" )\n\n                                                BaleLoader.registerAnimationXMLPaths(schema, "vehicle.baleLoader.baleTypes.baleType(?)" )\n\n                                                AnimationManager.registerAnimationNodesXMLPaths(schema, "vehicle.baleLoader.animationNodes" )\n\n                                                schema:register(XMLValueType.NODE_INDEX, "vehicle.baleLoader.balePacker#node" , "Node where to create the packed bale" )\n                                                schema:register(XMLValueType.STRING, "vehicle.baleLoader.balePacker#packedFilename" , "Filename to packed bale" )\n\n                                                schema:addDelayedRegistrationFunc( "AnimatedVehicle:part" , function (cSchema, cKey)\n                                                    cSchema:register(XMLValueType.BOOL, cKey .. "#baleLoaderAnimationNodes" , "Bale Loader animation nodes turn on/off" )\n                                                end )\n\n                                                schema:setXMLSpecializationType()\n\n                                                local schemaSavegame = Vehicle.xmlSchemaSavegame\n                                                schemaSavegame:register(XMLValueType.STRING, "vehicles.vehicle(?).baleLoader#lastFoldingAnimation" , "Last folding animation name" )\n                                                schemaSavegame:register(XMLValueType.INT, "vehicles.vehicle(?).baleLoader#baleTypeIndex" , "Last bale type index" )\n                                                schemaSavegame:register(XMLValueType.BOOL, "vehicles.vehicle(?).baleLoader#isInWorkPosition" , "Is in working Position" )\n                                                schemaSavegame:register(XMLValueType.STRING, "vehicles.vehicle(?).baleLoader.bale(?)#filename" , "Filename" )\n                                                schemaSavegame:register(XMLValueType.VECTOR_TRANS, "vehicles.vehicle(?).baleLoader.bale(?)#position" , "Position" )\n                                                schemaSavegame:register(XMLValueType.VECTOR_ROT, "vehicles.vehicle(?).baleLoader.bale(?)#rotation" , "Rotation" )\n                                                schemaSavegame:register(XMLValueType.FLOAT, "vehicles.vehicle(?).baleLoader.bale(?)#fillLevel" , "Filllevel" )\n                                                schemaSavegame:register(XMLValueType.INT, "vehicles.vehicle(?).baleLoader.bale(?)#balePlace" , "Bale place index" )\n                                                schemaSavegame:register(XMLValueType.INT, "vehicles.vehicle(?).baleLoader.bale(?)#helper" , "Helper index" )\n                                                schemaSavegame:register(XMLValueType.INT, "vehicles.vehicle(?).baleLoader.bale(?)#farmId" , "Farm index" )\n\n                                                Bale.registerSavegameXMLPaths(schemaSavegame, "vehicles.vehicle(?).baleLoader.bale(?)" )\n                                            end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"loadbaleloaderanimationsfromxml",children:"loadBaleLoaderAnimationsFromXML"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"loadBaleLoaderAnimationsFromXML()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"xmlFile"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"key"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"target"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"defaultTarget"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function BaleLoader:loadBaleLoaderAnimationsFromXML(xmlFile, key, target, defaultTarget)\n    target.animations = { }\n    local default = target.animations\n    if defaultTarget ~ = nil then\n        default = defaultTarget.animations or target.animations\n    end\n\n    target.animations.rotatePlatform = xmlFile:getValue(key .. ".animations.platform#rotate" , default.rotatePlatform or "rotatePlatform" )\n    target.animations.rotatePlatformBack = xmlFile:getValue(key .. ".animations.platform#rotateBack" , default.rotatePlatformBack or "rotatePlatform" )\n    target.animations.rotatePlatformEmpty = xmlFile:getValue(key .. ".animations.platform#rotateEmpty" , default.rotatePlatformEmpty or "rotatePlatform" )\n    target.animations.rotatePlatformAllowPickup = xmlFile:getValue(key .. ".animations.platform#allowPickupWhileMoving" , Utils.getNoNil(default.rotatePlatformAllowPickup, false ))\n\n    target.animations.baleGrabberDropBaleReverseSpeed = xmlFile:getValue(key .. ".animations.baleGrabber#dropBaleReverseSpeed" , default.baleGrabberDropBaleReverseSpeed or 5 )\n    target.animations.baleGrabberDropToWork = xmlFile:getValue(key .. ".animations.baleGrabber#dropToWork" , default.baleGrabberDropToWork)\n    target.animations.baleGrabberWorkToDrop = xmlFile:getValue(key .. ".animations.baleGrabber#workToDrop" , default.baleGrabberWorkToDrop or "baleGrabberWorkToDrop" )\n    target.animations.baleGrabberDropBale = xmlFile:getValue(key .. ".animations.baleGrabber#dropBale" , default.baleGrabberDropBale or "baleGrabberDropBale" )\n    target.animations.baleGrabberTransportToWork = xmlFile:getValue(key .. ".animations.baleGrabber#transportToWork" , default.baleGrabberTransportToWork or "baleGrabberTransportToWork" )\n\n    target.animations.pusherEmptyHide1 = xmlFile:getValue(key .. ".animations.pusher#emptyHide" , default.pusherEmptyHide1 or "emptyHidePusher1" )\n    target.animations.pusherMoveToEmpty = xmlFile:getValue(key .. ".animations.pusher#moveToEmpty" , default.pusherMoveToEmpty or "moveBalePusherToEmpty" )\n    target.animations.pusherHideOnEmpty = xmlFile:getValue(key .. ".animations.pusher#hidePusherOnEmpty" , Utils.getNoNil(default.pusherHideOnEmpty, true ))\n    target.animations.pusherPushBalesOnEmpty = xmlFile:getValue(key .. ".animations.pusher#pushBalesOnEmpty" , Utils.getNoNil(default.pusherPushBalesOnEmpty, false ))\n\n    target.animations.releaseFrontPlatform = xmlFile:getValue(key .. ".animations.releaseFrontPlatform#name" , default.releaseFrontPlatform or "releaseFrontplattform" )\n    target.animations.releaseFrontPlatformFillLevelSpeed = xmlFile:getValue(key .. ".animations.releaseFrontPlatform#fillLevelSpeed" , Utils.getNoNil(default.releaseFrontPlatformFillLevelSpeed, false ))\n\n    target.animations.moveBalePlaces = xmlFile:getValue(key .. ".animations.moveBalePlaces#name" , default.moveBalePlaces or "moveBalePlaces" )\n    target.animations.moveBalePlacesExtrasOnce = xmlFile:getValue(key .. ".animations.moveBalePlaces#extrasOnce" , default.moveBalePlacesExtrasOnce or "moveBalePlacesExtrasOnce" )\n    target.animations.moveBalePlacesToEmpty = xmlFile:getValue(key .. ".animations.moveBalePlaces#empty" , default.moveBalePlacesToEmpty or "moveBalePlacesToEmpty" )\n    target.animations.moveBalePlacesToEmptySpeed = xmlFile:getValue(key .. ".animations.moveBalePlaces#emptySpeed" , default.moveBalePlacesToEmptySpeed or 1.5 )\n    target.animations.moveBalePlacesToEmptyReverseSpeed = xmlFile:getValue(key .. ".animations.moveBalePlaces#emptyReverseSpeed" , default.moveBalePlacesToEmptyReverseSpeed or - 1 )\n    target.animations.moveBalePlacesToEmptyPushOffset = xmlFile:getValue(key .. ".animations.moveBalePlaces#pushOffset" , default.moveBalePlacesToEmptyPushOffset or 0 )\n    target.animations.moveBalePlacesToEmptyPushOffsetDelay = 0\n    target.animations.moveBalePlacesToEmptyPushOffsetTime = 0\n\n    target.animations.moveBalePlacesAfterRotatePlatform = xmlFile:getValue(key .. ".animations.moveBalePlaces#moveAfterRotatePlatform" , Utils.getNoNil(default.moveBalePlacesAfterRotatePlatform, false ))\n    target.animations.moveBalePlacesResetOnSink = xmlFile:getValue(key .. ".animations.moveBalePlaces#resetOnSink" , Utils.getNoNil(default.moveBalePlacesResetOnSink, false ))\n    target.animations.moveBalePlacesMaxGrabberTime = xmlFile:getValue(key .. ".animations.moveBalePlaces#maxGrabberTime" , default.moveBalePlacesMaxGrabberTime or math.huge)\n    target.animations.moveBalePlacesAlways = xmlFile:getValue(key .. ".animations.moveBalePlaces#alwaysMove" , Utils.getNoNil(default.moveBalePlacesAlways, false ))\n\n    target.animations.emptyRotate = xmlFile:getValue(key .. ".animations.emptyRotate#name" , default.emptyRotate or "emptyRotate" )\n    target.animations.emptyRotateReset = xmlFile:getValue(key .. ".animations.emptyRotate#reset" , Utils.getNoNil(default.emptyRotateReset, true ))\n\n    target.animations.frontBalePusher = xmlFile:getValue(key .. ".animations#frontBalePusher" , default.frontBalePusher or "frontBalePusher" )\n    target.animations.balesToOtherRow = xmlFile:getValue(key .. ".animations#balesToOtherRow" , default.balesToOtherRow or "balesToOtherRow" )\n    target.animations.closeGrippers = xmlFile:getValue(key .. ".animations#closeGrippers" , default.closeGrippers or "closeGrippers" )\n\n    return true\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"loadbaleplacesfromxml",children:"loadBalePlacesFromXML"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"loadBalePlacesFromXML()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"xmlFile"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"key"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"target"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function BaleLoader:loadBalePlacesFromXML(xmlFile, key, target)\n    local useSharedBalePlaces = true\n\n    target.startBalePlace = { }\n    target.startBalePlace.bales = { }\n    target.startBalePlace.node = self.xmlFile:getValue(key .. ".balePlaces#startBalePlace" , nil , self.components, self.i3dMappings)\n    if target.startBalePlace.node ~ = nil then\n        target.startBalePlace.numOfPlaces = getNumOfChildren(target.startBalePlace.node)\n        if target.startBalePlace.numOfPlaces = = 0 then\n            target.startBalePlace.node = nil\n        else\n                target.startBalePlace.origRot = { }\n                target.startBalePlace.origTrans = { }\n                for i = 1 , target.startBalePlace.numOfPlaces do\n                    local node = getChildAt(target.startBalePlace.node, i - 1 )\n                    target.startBalePlace.origRot[i] = { getRotation(node) }\n                    target.startBalePlace.origTrans[i] = { getTranslation(node) }\n                end\n            end\n        else\n                target.startBalePlace.numOfPlaces = 0\n                useSharedBalePlaces = false\n            end\n            target.startBalePlace.count = 0\n\n            target.startBalePlace.current = 1\n            target.balePlaces = { }\n            local i = 0\n            while true do\n                local balePlaceKey = string.format( "%s.balePlaces.balePlace(%d)" , key, i)\n                if not self.xmlFile:hasProperty(balePlaceKey) then\n                    break\n                end\n                local node = self.xmlFile:getValue(balePlaceKey .. "#node" , nil , self.components, self.i3dMappings)\n                if node ~ = nil then\n                    local entry = { }\n                    entry.node = node\n                    table.insert(target.balePlaces, entry)\n                end\n                i = i + 1\n            end\n\n            if #target.balePlaces = = 0 then\n                useSharedBalePlaces = false\n            end\n\n            return useSharedBalePlaces\n        end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"loadbaletypefromxml",children:"loadBaleTypeFromXML"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"loadBaleTypeFromXML()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"xmlFile"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"key"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"baleType"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function BaleLoader:loadBaleTypeFromXML(xmlFile, key, baleType)\n    local spec = self.spec_baleLoader\n\n    local getDimensionValue = function (xml, valueKey, valueName, minValueName, maxValueName)\n        local value = xml:getValue(valueKey .. "#" .. valueName)\n        local minValue = xml:getValue(valueKey .. "#" .. minValueName)\n        local maxValue = xml:getValue(valueKey .. "#" .. maxValueName)\n\n        minValue = minValue or maxValue or value\n        maxValue = maxValue or minValue\n\n        if minValue = = nil or maxValue = = nil then\n            Logging.xmlError(xmlFile, "Unable to load bale dimension. \'%s\' is not available in \'%s\'" , valueName, valueKey)\n            return 0 , 0\n        end\n\n        return MathUtil.round(minValue, 2 ), MathUtil.round(maxValue, 2 )\n    end\n\n    baleType.dimensions = { }\n    local dimensions = baleType.dimensions\n    dimensions.isRoundbale = self.xmlFile:getString(key .. "#diameter" ) ~ = nil\n    or self.xmlFile:getString(key .. "#minDiameter" ) ~ = nil\n    or self.xmlFile:getString(key .. "#maxDiameter" ) ~ = nil\n    if dimensions.isRoundbale then\n        dimensions.minWidth, dimensions.maxWidth = getDimensionValue( self.xmlFile, key, "width" , "minWidth" , "maxWidth" )\n        dimensions.minDiameter, dimensions.maxDiameter = getDimensionValue( self.xmlFile, key, "diameter" , "minDiameter" , "maxDiameter" )\n    else\n            dimensions.minWidth, dimensions.maxWidth = getDimensionValue( self.xmlFile, key, "width" , "minWidth" , "maxWidth" )\n            dimensions.minHeight, dimensions.maxHeight = getDimensionValue( self.xmlFile, key, "height" , "minHeight" , "maxHeight" )\n            dimensions.minLength, dimensions.maxLength = getDimensionValue( self.xmlFile, key, "length" , "minLength" , "maxLength" )\n        end\n\n        baleType.mixedFillTypes = self.xmlFile:getValue(key .. "#mixedFillTypes" , true )\n        baleType.fillUnitIndex = self.xmlFile:getValue(key .. "#fillUnitIndex" , spec.fillUnitIndex)\n\n        baleType.changeObjects = { }\n        ObjectChangeUtil.loadObjectChangeFromXML( self.xmlFile, key, baleType.changeObjects, self.components, self )\n\n        self:loadBalePlacesFromXML(xmlFile, key, baleType)\n\n        if not self:loadBaleLoaderAnimationsFromXML(xmlFile, key, baleType, spec.defaultAnimations) then\n            return false\n        end\n\n        return true\n    end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"loadspecvaluebalesize",children:"loadSpecValueBaleSize"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"loadSpecValueBaleSize()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"xmlFile"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"customEnvironment"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"baseDir"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"roundBaleLoader"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function BaleLoader.loadSpecValueBaleSize(xmlFile, customEnvironment, baseDir, roundBaleLoader)\n    local rootName = xmlFile:getRootName()\n\n    local baleSizeAttributes = { }\n    baleSizeAttributes.minDiameter, baleSizeAttributes.maxDiameter = math.huge, - math.huge\n    baleSizeAttributes.minLength, baleSizeAttributes.maxLength = math.huge, - math.huge\n    xmlFile:iterate(rootName .. ".baleLoader.baleTypes.baleType" , function (_, key)\n        if (xmlFile:getValue(key .. "#diameter" ) ~ = nil\n            or xmlFile:getValue(key .. "#minDiameter" ) ~ = nil\n            or xmlFile:getValue(key .. "#maxDiameter" ) ~ = nil ) = = roundBaleLoader then\n            local diameter = MathUtil.round(xmlFile:getValue(key .. "#diameter" ), 2 )\n            local minDiameter = MathUtil.round(xmlFile:getValue(key .. "#minDiameter" ), 2 )\n            local maxDiameter = MathUtil.round(xmlFile:getValue(key .. "#maxDiameter" ), 2 )\n            baleSizeAttributes.minDiameter = math.min(baleSizeAttributes.minDiameter, diameter or baleSizeAttributes.minDiameter, minDiameter or baleSizeAttributes.minDiameter, maxDiameter or baleSizeAttributes.minDiameter)\n            baleSizeAttributes.maxDiameter = math.max(baleSizeAttributes.maxDiameter, diameter or baleSizeAttributes.maxDiameter, minDiameter or baleSizeAttributes.maxDiameter, maxDiameter or baleSizeAttributes.maxDiameter)\n\n            local length = MathUtil.round(xmlFile:getValue(key .. "#length" ), 2 )\n            local minLength = MathUtil.round(xmlFile:getValue(key .. "#minLength" ), 2 )\n            local maxLength = MathUtil.round(xmlFile:getValue(key .. "#maxLength" ), 2 )\n            baleSizeAttributes.minLength = math.min(baleSizeAttributes.minLength, length or baleSizeAttributes.minLength, minLength or baleSizeAttributes.minLength, maxLength or baleSizeAttributes.minLength)\n            baleSizeAttributes.maxLength = math.max(baleSizeAttributes.maxLength, length or baleSizeAttributes.maxLength, minLength or baleSizeAttributes.maxLength, maxLength or baleSizeAttributes.maxLength)\n        end\n    end )\n\n    if baleSizeAttributes.minDiameter ~ = math.huge or baleSizeAttributes.minLength ~ = math.huge then\n        return baleSizeAttributes\n    end\n\n    return nil\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"loadspecvaluebalesizeround",children:"loadSpecValueBaleSizeRound"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"loadSpecValueBaleSizeRound()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"xmlFile"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"customEnvironment"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"baseDir"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleLoader.loadSpecValueBaleSizeRound(xmlFile, customEnvironment, baseDir)\n    return BaleLoader.loadSpecValueBaleSize(xmlFile, customEnvironment, baseDir, true )\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"loadspecvaluebalesizesquare",children:"loadSpecValueBaleSizeSquare"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"loadSpecValueBaleSizeSquare()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"xmlFile"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"customEnvironment"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"baseDir"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleLoader.loadSpecValueBaleSizeSquare(xmlFile, customEnvironment, baseDir)\n    return BaleLoader.loadSpecValueBaleSize(xmlFile, customEnvironment, baseDir, false )\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"mountbale",children:"mountBale"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"mountBale()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"bale"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"object"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"node"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"x"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"y"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"z"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"rx"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"ry"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"rz"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"noKinematicMounting"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleLoader:mountBale(bale, object, node, x,y,z, rx,ry,rz, noKinematicMounting)\n    local spec = self.spec_baleLoader\n\n    -- remove from triggered bales since bale is no longer dynamic and won't leave the trigger\n    if spec.unloadingMover.balesInTrigger[bale] ~ = nil then\n        spec.unloadingMover.balesInTrigger[bale] = nil\n    end\n\n    if noKinematicMounting = = true or not spec.allowKinematicMounting then\n        bale:mount(object, node, x,y,z, rx,ry,rz)\n        bale:setNeedsSaving( false )\n    else\n            bale:mountKinematic(object, node, x,y,z, rx,ry,rz)\n            bale:setNeedsSaving( false )\n\n            if not table.hasElement(spec.kinematicMountedBales, bale) then\n                self:setBalePairCollision(bale, false )\n\n                table.addElement(spec.kinematicMountedBales, bale)\n            end\n        end\n    end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"mountdynamicbale",children:"mountDynamicBale"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"mountDynamicBale()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"bale"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"node"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function BaleLoader:mountDynamicBale(bale, node)\n    local spec = self.spec_baleLoader\n    if self.isServer then\n        if bale.dynamicMountJointIndex ~ = nil and bale.baleLoaderDynamicJointNode ~ = nil then\n            local x, y, z = getWorldTranslation(bale.baleLoaderDynamicJointNode)\n            local rx, ry, rz = getWorldRotation(bale.baleLoaderDynamicJointNode)\n            link(node, bale.baleLoaderDynamicJointNode)\n            setWorldTranslation(bale.baleLoaderDynamicJointNode, x, y, z)\n            setWorldRotation(bale.baleLoaderDynamicJointNode, rx, ry, rz)\n            setJointFrame(bale.dynamicMountJointIndex, 0 , bale.baleLoaderDynamicJointNode)\n\n            if spec.dynamicMount.jointInterpolation then\n                table.insert(spec.dynamicMount.baleJointsToUpdate, { node = bale.baleLoaderDynamicJointNode, time = 0 } )\n            end\n        else\n                local jointNode = createTransformGroup( "baleJoint" )\n                link(node, jointNode)\n\n                bale.baleLoaderDynamicJointNode = jointNode\n\n                if spec.dynamicMount.jointInterpolation then\n                    setWorldTranslation(jointNode, getWorldTranslation(bale.nodeId))\n                    setWorldRotation(jointNode, getWorldRotation(bale.nodeId))\n                else\n                        local x, y, z = getWorldTranslation(jointNode)\n                        local quatX, quatY, quatZ, quatW = getWorldQuaternion(jointNode)\n\n                        removeFromPhysics(bale.nodeId)\n                        bale:setWorldPositionQuaternion(x, y, z, quatX, quatY, quatZ, quatW, true )\n                        addToPhysics(bale.nodeId)\n                        link(jointNode, bale.meshNode)\n                    end\n\n                    local jointComponent = self:getParentComponent(node)\n                    bale:mountDynamic( self , jointComponent, jointNode, DynamicMountUtil.TYPE_FIX_ATTACH, 0 , false )\n                    bale:setNeedsSaving( false )\n                    if spec.dynamicMount.minTransLimits ~ = nil and spec.dynamicMount.maxTransLimits ~ = nil then\n                        for i = 1 , 3 do\n                            local active = spec.dynamicMount.minTransLimits[i] ~ = 0 or spec.dynamicMount.maxTransLimits[i] ~ = 0\n                            if active then\n                                setJointTranslationLimit(bale.dynamicMountJointIndex, i - 1 , active, spec.dynamicMount.minTransLimits[i], spec.dynamicMount.maxTransLimits[i])\n                            end\n                        end\n                    end\n                    if spec.dynamicMount.jointInterpolation then\n                        table.insert(spec.dynamicMount.baleJointsToUpdate, { node = bale.baleLoaderDynamicJointNode, time = 0 } )\n                    end\n\n                    spec.dynamicMount.baleMassDirty = true\n                end\n            end\n        end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"movetotransportposition",children:"moveToTransportPosition"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Move to transport position"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"moveToTransportPosition()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"self"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleLoader.moveToTransportPosition( self )\n    self:playBaleLoaderFoldingAnimation( - 1 )\n\n    local spec = self.spec_baleLoader\n    self:playAnimation(spec.animations.closeGrippers, 1 , math.clamp( self:getAnimationTime(spec.animations.closeGrippers), 0 , 1 ), true )\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"movetoworkposition",children:"moveToWorkPosition"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Move bale Loader to work position"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"moveToWorkPosition(boolean onLoad, )"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"boolean"}),(0,i.jsx)(n.th,{children:"onLoad"}),(0,i.jsx)(n.th,{children:"called on load"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"onLoad"}),(0,i.jsx)(n.td,{})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleLoader.moveToWorkPosition( self , onLoad)\n    local spec = self.spec_baleLoader\n\n    local speed = 1\n    if onLoad then\n        speed = 9999\n    end\n\n    self:playBaleLoaderFoldingAnimation(speed)\n    local animTime = nil\n    if self:getAnimationTime(spec.animations.closeGrippers) ~ = 0 then\n        animTime = self:getAnimationTime(spec.animations.closeGrippers)\n    end\n    self:playAnimation(spec.animations.closeGrippers, - 1 , animTime, true )\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"onactivate",children:"onActivate"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Called on activate"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onActivate()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleLoader:onActivate()\n    local spec = self.spec_baleLoader\n\n    if spec.isInWorkPosition and not spec.animationNodesBlocked then\n        g_animationManager:startAnimations(spec.animationNodes)\n        g_soundManager:playSample(spec.samples.work)\n    end\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"onbalemoverbaleremoved",children:"onBaleMoverBaleRemoved"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onBaleMoverBaleRemoved()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"bale"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleLoader:onBaleMoverBaleRemoved(bale)\n    local spec = self.spec_baleLoader\n    spec.unloadingMover.balesInTrigger[bale] = nil\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"onbalerunloadingstarted",children:"onBalerUnloadingStarted"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onBalerUnloadingStarted()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"balesToUnload"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleLoader:onBalerUnloadingStarted(balesToUnload)\n    local spec = self.spec_baleLoader\n    if spec.fullAutomaticUnloading then\n        spec.automaticUnloadingAdditionalBalesToLoad = balesToUnload\n    end\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"onbaleunloadtriggerdeleted",children:"onBaleUnloadTriggerDeleted"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onBaleUnloadTriggerDeleted()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"self"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"unloadTrigger"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleLoader.onBaleUnloadTriggerDeleted( self , unloadTrigger)\n    local spec = self.spec_baleLoader\n    if spec.baleUnloadTriggers[unloadTrigger] ~ = nil then\n        spec.baleUnloadTriggers[unloadTrigger] = nil\n    end\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"ondeactivate",children:"onDeactivate"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Called on deactivate"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onDeactivate()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleLoader:onDeactivate()\n    local spec = self.spec_baleLoader\n    g_effectManager:stopEffects(spec.grabberEffects)\n    g_animationManager:stopAnimations(spec.animationNodes)\n    g_soundManager:stopSample(spec.samples.work)\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"ondelete",children:"onDelete"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Called on deleting"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onDelete()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function BaleLoader:onDelete()\n    local spec = self.spec_baleLoader\n\n    if spec.balePlaces ~ = nil then\n        -- avoid the bale nodes to be deleted twice(because they are linked the vehicle and because the Bale object is deleted)\n        for _, balePlace in pairs(spec.balePlaces) do\n            if balePlace.bales ~ = nil then\n                for _, baleServerId in pairs(balePlace.bales) do\n                    local bale = NetworkUtil.getObject(baleServerId)\n                    if bale ~ = nil then\n                        if spec.dynamicMount.enabled then\n                            self:unmountDynamicBale(bale)\n                        else\n                                self:unmountBale(bale)\n                            end\n\n                            bale:setCanBeSold( true )\n\n                            -- if the vehicle is reloaded we remove the bale since it will be regenerated on load\n                                if self.isReconfigurating ~ = nil and self.isReconfigurating then\n                                    bale:delete()\n                                end\n                            end\n                        end\n                    end\n                end\n            end\n            if spec.startBalePlace ~ = nil then\n                for _, baleServerId in ipairs(spec.startBalePlace.bales) do\n                    local bale = NetworkUtil.getObject(baleServerId)\n                    if bale ~ = nil then\n                        if spec.dynamicMount.enabled then\n                            self:unmountDynamicBale(bale)\n                        else\n                                self:unmountBale(bale)\n                            end\n\n                            bale:setCanBeSold( true )\n\n                            -- if the vehicle is reloaded we remove the bale since it will be regenerated on load\n                                if self.isReconfigurating ~ = nil and self.isReconfigurating then\n                                    bale:delete()\n                                end\n                            end\n                        end\n                    end\n\n                    if spec.baleGrabber ~ = nil then\n                        if spec.baleGrabber.currentBale ~ = nil then\n                            local bale = NetworkUtil.getObject(spec.baleGrabber.currentBale)\n                            if bale ~ = nil then\n                                if spec.dynamicMount.enabled then\n                                    self:unmountDynamicBale(bale)\n                                else\n                                        self:unmountBale(bale)\n                                    end\n\n                                    bale:setCanBeSold( true )\n                                end\n                            end\n\n                            if spec.baleGrabber.trigger ~ = nil then\n                                removeTrigger(spec.baleGrabber.trigger)\n\n                                g_currentMission:removeNodeObject(spec.baleGrabber.trigger)\n                            end\n                        end\n\n                        if spec.unloadingMover ~ = nil then\n                            if spec.unloadingMover.trigger ~ = nil then\n                                removeTrigger(spec.unloadingMover.trigger)\n\n                                g_currentMission:removeNodeObject(spec.unloadingMover.trigger)\n                            end\n\n                            if spec.unloadingMover.balesInTrigger ~ = nil then\n                                for object, _ in pairs(spec.unloadingMover.balesInTrigger) do\n                                    if object.removeDeleteListener ~ = nil then\n                                        object:removeDeleteListener( self , "onBaleMoverBaleRemoved" )\n                                    end\n                                end\n                                table.clear(spec.unloadingMover.balesInTrigger)\n                            end\n\n                            g_animationManager:deleteAnimations(spec.unloadingMover.animationNodes)\n                        end\n\n                        if spec.baleUnloadTriggers ~ = nil then\n                            for unloadTrigger, _ in pairs(spec.baleUnloadTriggers) do\n                                if unloadTrigger.removeDeleteListener ~ = nil then\n                                    unloadTrigger:removeDeleteListener( self , BaleLoader.onBaleUnloadTriggerDeleted)\n                                end\n                            end\n                            table.clear(spec.baleUnloadTriggers)\n                        end\n\n                        g_effectManager:deleteEffects(spec.grabberEffects)\n                        g_soundManager:deleteSamples(spec.samples)\n                        g_animationManager:deleteAnimations(spec.animationNodes)\n                    end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"ondraw",children:"onDraw"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Called on draw"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onDraw(boolean isActiveForInput, boolean isSelected, )"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"boolean"}),(0,i.jsx)(n.th,{children:"isActiveForInput"}),(0,i.jsx)(n.th,{children:"true if vehicle is active for input"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"boolean"}),(0,i.jsx)(n.td,{children:"isSelected"}),(0,i.jsx)(n.td,{children:"true if vehicle is selected"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"isSelected"}),(0,i.jsx)(n.td,{})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleLoader:onDraw(isActiveForInput, isActiveForInputIgnoreSelection, isSelected)\n    local spec = self.spec_baleLoader\n    if spec.showBaleNotSupportedWarning and spec.baleNotSupportedWarning ~ = nil then\n        g_currentMission:showBlinkingWarning(spec.baleNotSupportedWarning, 2000 )\n    end\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"onfillunitfilllevelchanged",children:"onFillUnitFillLevelChanged"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onFillUnitFillLevelChanged()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"fillUnitIndex"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"fillLevelDelta"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"fillType"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"toolType"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"fillPositionData"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"appliedDelta"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleLoader:onFillUnitFillLevelChanged(fillUnitIndex, fillLevelDelta, fillType, toolType, fillPositionData, appliedDelta)\n    local spec = self.spec_baleLoader\n    if fillUnitIndex = = spec.fillUnitIndex then\n        self:updateFoldingAnimation()\n    end\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"onfoldstatechanged",children:"onFoldStateChanged"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onFoldStateChanged()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"direction"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleLoader:onFoldStateChanged(direction)\n    if self.spec_baleLoader.useFoldingState then\n        if self.isServer then\n            if direction = = self.spec_foldable.turnOnFoldDirection then\n                g_server:broadcastEvent( BaleLoaderStateEvent.new( self , BaleLoader.CHANGE_MOVE_TO_WORK), true , nil , self )\n            else\n                    g_server:broadcastEvent( BaleLoaderStateEvent.new( self , BaleLoader.CHANGE_MOVE_TO_TRANSPORT), true , nil , self )\n                end\n            end\n        end\n    end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"onload",children:"onLoad"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Called on loading"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onLoad(table savegame)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"table"}),(0,i.jsx)(n.th,{children:"savegame"}),(0,i.jsx)(n.th,{children:"savegame"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function BaleLoader:onLoad(savegame)\n    local spec = self.spec_baleLoader\n\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.baleloaderTurnedOnScrollers.baleloaderTurnedOnScroller" , "vehicle.baleLoader.animationNodes.animationNode" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.baleGrabber" , "vehicle.baleLoader.grabber" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.balePlaces" , "vehicle.baleLoader.balePlaces" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.grabParticleSystem" , "vehicle.baleLoader.grabber.grabParticleSystem" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.baleLoader.grabber.grabParticleSystem" , "vehicle.baleLoader.grabber.effectNode" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.baleLoader#pickupRange" , "vehicle.baleLoader.grabber#pickupRange" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.baleTypes" , "vehicle.baleLoader.baleTypes" ) --FS17 to FS19\n\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.baleLoader#textTransportPosition" , "vehicle.baleLoader.texts#transportPosition" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.baleLoader#textOperatingPosition" , "vehicle.baleLoader.texts#operatingPosition" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.baleLoader#textUnload" , "vehicle.baleLoader.texts#unload" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.baleLoader#textTilting" , "vehicle.baleLoader.texts#tilting" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.baleLoader#textLowering" , "vehicle.baleLoader.texts#lowering" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.baleLoader#textLowerPlattform" , "vehicle.baleLoader.texts#lowerPlattform" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.baleLoader#textAbortUnloading" , "vehicle.baleLoader.texts#abortUnloading" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.baleLoader#textUnloadHere" , "vehicle.baleLoader.texts#unloadHere" ) --FS17 to FS19\n\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.baleLoader#rotatePlatformAnimName" , "vehicle.baleLoader.animations#rotatePlatform" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.baleLoader#rotatePlatformBackAnimName" , "vehicle.baleLoader.animations#rotatePlatformBack" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.baleLoader#rotatePlatformEmptyAnimName" , "vehicle.baleLoader.animations#rotatePlatformEmpty" ) --FS17 to FS19\n\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.baleLoader.animations#grabberDropBaleReverseSpeed" , "vehicle.baleLoader.animations.baleGrabber#dropBaleReverseSpeed" ) --FS19 to FS22\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.baleLoader.animations#grabberDropToWork" , "vehicle.baleLoader.animations.baleGrabber#dropToWork" ) --FS19 to FS22\n\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.baleLoader.animations#rotatePlatform" , "vehicle.baleLoader.animations.platform#rotate" ) --FS19 to FS22\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.baleLoader.animations#rotatePlatformBack" , "vehicle.baleLoader.animations.platform#rotateBack" ) --FS19 to FS22\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.baleLoader.animations#rotatePlatformEmpty" , "vehicle.baleLoader.animations.platform#rotateEmpty" ) --FS19 to FS22\n\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.baleLoader#moveBalePlacesAfterRotatePlatform" , "vehicle.baleLoader.animations.moveBalePlaces#moveAfterRotatePlatform" ) --FS19 to FS22\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.baleLoader#moveBalePlacesMaxGrabberTime" , "vehicle.baleLoader.animations.moveBalePlaces#maxGrabberTime" ) --FS19 to FS22\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.baleLoader#alwaysMoveBalePlaces" , "vehicle.baleLoader.animations.moveBalePlaces#alwaysMove" ) --FS19 to FS22\n\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.baleLoader#resetEmptyRotateAnimation" , "vehicle.baleLoader.animations.emptyRotate#reset" ) --FS19 to FS22\n\n    local baseKey = "vehicle.baleLoader"\n\n    spec.balesToLoad = { }\n\n    spec.balesToMount = { }\n\n    spec.isInWorkPosition = false\n    spec.grabberIsMoving = false\n\n    spec.rotatePlatformDirection = 0\n    spec.frontBalePusherDirection = 0\n\n    spec.emptyState = BaleLoader.EMPTY_NONE\n\n    spec.texts = { }\n    spec.texts.transportPosition = self.xmlFile:getValue(baseKey .. ".texts#transportPosition" , "action_baleloaderTransportPosition" , nil , self.customEnvironment)\n    spec.texts.operatingPosition = self.xmlFile:getValue(baseKey .. ".texts#operatingPosition" , "action_baleloaderOperatingPosition" , nil , self.customEnvironment)\n    spec.texts.unload = self.xmlFile:getValue(baseKey .. ".texts#unload" , "action_baleloaderUnload" , nil , self.customEnvironment)\n    spec.texts.tilting = self.xmlFile:getValue(baseKey .. ".texts#tilting" , "info_baleloaderTiltingTable" , nil , self.customEnvironment)\n    spec.texts.lowering = self.xmlFile:getValue(baseKey .. ".texts#lowering" , "info_baleloaderLoweringTable" , nil , self.customEnvironment)\n    spec.texts.lowerPlattform = self.xmlFile:getValue(baseKey .. ".texts#lowerPlattform" , "action_baleloaderLowerPlatform" , nil , self.customEnvironment)\n    spec.texts.abortUnloading = self.xmlFile:getValue(baseKey .. ".texts#abortUnloading" , "action_baleloaderAbortUnloading" , nil , self.customEnvironment)\n    spec.texts.unloadHere = self.xmlFile:getValue(baseKey .. ".texts#unloadHere" , "action_baleloaderUnloadHere" , nil , self.customEnvironment)\n    spec.texts.baleNotSupported = self.xmlFile:getValue(baseKey .. ".texts#baleNotSupported" , "warning_baleNotSupported" , nil , self.customEnvironment)\n    spec.texts.baleDoNotAllowFillTypeMixing = self.xmlFile:getValue(baseKey .. ".texts#baleDoNotAllowFillTypeMixing" , "warning_baleDoNotAllowFillTypeMixing" , nil , self.customEnvironment)\n    spec.texts.onlyOneBaleTypeWarning = self.xmlFile:getValue(baseKey .. ".texts#onlyOneBaleTypeWarning" , "warning_baleLoaderOnlyAllowOnceSize" , nil , self.customEnvironment)\n    spec.texts.minUnloadingFillLevelWarning = self.xmlFile:getValue(baseKey .. ".texts#minUnloadingFillLevelWarning" , "warning_baleLoaderNotFullyLoaded" , nil , self.customEnvironment)\n    spec.texts.youDoNotOwnBale = g_i18n:getText( "warning_youDontOwnThisItem" )\n\n    spec.transportPositionAfterUnloading = self.xmlFile:getValue(baseKey .. "#transportPositionAfterUnloading" , true )\n    spec.useFoldingState = self.xmlFile:getValue(baseKey .. "#useFoldingState" , false )\n    spec.useBalePlaceAsLoadPosition = self.xmlFile:getValue(baseKey .. "#useBalePlaceAsLoadPosition" , false )\n    spec.balePlaceOffset = self.xmlFile:getValue(baseKey .. "#balePlaceOffset" , 0 )\n    spec.keepBaleRotationDuringLoad = self.xmlFile:getValue(baseKey .. "#keepBaleRotationDuringLoad" , false )\n\n    spec.fullAutomaticUnloading = self.xmlFile:getValue(baseKey .. "#fullAutomaticUnloading" , false )\n    spec.automaticUnloading = self.xmlFile:getValue(baseKey .. "#automaticUnloading" , spec.fullAutomaticUnloading)\n    spec.minUnloadingFillLevel = self.xmlFile:getValue(baseKey .. "#minUnloadingFillLevel" , 1 )\n    spec.fillUnitIndex = self.xmlFile:getValue(baseKey .. "#fillUnitIndex" , 1 )\n\n    spec.allowKinematicMounting = self.xmlFile:getValue(baseKey .. "#allowKinematicMounting" , true )\n    spec.consumePtoPower = self.xmlFile:getValue(baseKey .. "#consumePtoPower" , true )\n\n    spec.dynamicMount = { }\n    spec.dynamicMount.enabled = self.xmlFile:getValue(baseKey .. ".dynamicMount#enabled" , false )\n    spec.dynamicMount.jointInterpolation = self.xmlFile:getValue(baseKey .. ".dynamicMount#doInterpolation" , false )\n    spec.dynamicMount.jointInterpolationTimeRot = self.xmlFile:getValue(baseKey .. ".dynamicMount#interpolationTimeRot" , 1 )\n    spec.dynamicMount.jointInterpolationSpeedTrans = self.xmlFile:getValue(baseKey .. ".dynamicMount#interpolationSpeedTrans" , 0.1 ) / 1000\n    spec.dynamicMount.baleJointsToUpdate = { }\n    spec.dynamicMount.minTransLimits = self.xmlFile:getValue(baseKey .. ".dynamicMount#minTransLimits" , nil , true )\n    spec.dynamicMount.maxTransLimits = self.xmlFile:getValue(baseKey .. ".dynamicMount#maxTransLimits" , nil , true )\n    spec.dynamicMount.baleMassDirty = false\n\n    spec.dynamicBaleUnloading = { }\n    spec.dynamicBaleUnloading.enabled = self.xmlFile:getValue(baseKey .. ".dynamicBaleUnloading#enabled" , false )\n\n    spec.dynamicBaleUnloading.connectedRows = { }\n    local connectedRows = self.xmlFile:getValue(baseKey .. ".dynamicBaleUnloading#connectedRows" , nil , true )\n    if connectedRows ~ = nil then\n        for i = 1 , #connectedRows do\n            spec.dynamicBaleUnloading.connectedRows[connectedRows[i]] = true\n        end\n    end\n\n    local getConnectedRows = function (key)\n        local connections = { }\n        local connectedRowStartsStr = self.xmlFile:getValue(key)\n        if connectedRowStartsStr ~ = nil then\n            local connectedRowStartsParts = string.split(connectedRowStartsStr, " " )\n            for i = 1 , #connectedRowStartsParts do\n                local subParts = string.split(connectedRowStartsParts[i], "-" )\n                if #subParts ~ = 2 then\n                    Logging.xmlWarning( self.xmlFile, "Unknown row connection \'%s\' in \'%s\' (should look like \'1-2 3-4\')" , connectedRowStartsParts[i], key)\n                else\n                        table.insert(connections, { tonumber(subParts[ 1 ]), tonumber(subParts[ 2 ]) } )\n                    end\n                end\n            end\n\n            return connections\n        end\n\n        spec.dynamicBaleUnloading.interConnectedRowStarts = getConnectedRows(baseKey .. ".dynamicBaleUnloading#interConnectedRowStarts" )\n        spec.dynamicBaleUnloading.interConnectedRowEnds = getConnectedRows(baseKey .. ".dynamicBaleUnloading#interConnectedRowEnds" )\n\n        spec.dynamicBaleUnloading.widthOffset = self.xmlFile:getValue(baseKey .. ".dynamicBaleUnloading#widthOffset" , 0.05 )\n        spec.dynamicBaleUnloading.heightOffset = self.xmlFile:getValue(baseKey .. ".dynamicBaleUnloading#heightOffset" , 0.05 )\n        spec.dynamicBaleUnloading.diameterOffset = self.xmlFile:getValue(baseKey .. ".dynamicBaleUnloading#diameterOffset" , 0.05 )\n        spec.dynamicBaleUnloading.rowConnectionRotLimit = self.xmlFile:getValue(baseKey .. ".dynamicBaleUnloading#rowConnectionRotLimit" , 4 )\n        spec.dynamicBaleUnloading.rowInterConnectionRotLimit = self.xmlFile:getValue(baseKey .. ".dynamicBaleUnloading#rowInterConnectionRotLimit" , 1 )\n\n        spec.dynamicBaleUnloading.releaseAnimation = self.xmlFile:getValue(baseKey .. ".dynamicBaleUnloading.releaseAnimation#name" )\n        spec.dynamicBaleUnloading.releaseAnimationTime = self.xmlFile:getValue(baseKey .. ".dynamicBaleUnloading.releaseAnimation#time" , 1 )\n        spec.dynamicBaleUnloading.useUnloadingMoverTrigger = self.xmlFile:getValue(baseKey .. ".dynamicBaleUnloading.releaseAnimation#useUnloadingMoverTrigger" , false )\n\n        spec.baleGrabber = { }\n        spec.baleGrabber.grabNode = self.xmlFile:getValue(baseKey .. ".grabber#grabNode" , nil , self.components, self.i3dMappings)\n        spec.baleGrabber.pickupRange = self.xmlFile:getValue(baseKey .. ".grabber#pickupRange" , 3.0 )\n        spec.baleGrabber.balesInTrigger = { }\n        spec.baleGrabber.trigger = self.xmlFile:getValue(baseKey .. ".grabber#triggerNode" , nil , self.components, self.i3dMappings)\n        if spec.baleGrabber.trigger ~ = nil then\n            addTrigger(spec.baleGrabber.trigger, "baleGrabberTriggerCallback" , self )\n\n            g_currentMission:addNodeObject(spec.baleGrabber.trigger, self )\n        else\n                Logging.xmlError( self.xmlFile, "Bale grabber needs a valid trigger!" )\n            end\n\n            if self.isClient then\n                local grabParticleSystem = { }\n                local psName = baseKey .. ".grabber.grabParticleSystem"\n                if ParticleUtil.loadParticleSystem( self.xmlFile, grabParticleSystem, psName, self.components, false , nil , self.baseDirectory) then\n                    spec.grabParticleSystem = grabParticleSystem\n                    spec.grabParticleSystemDisableTime = 0\n                end\n\n                spec.grabberEffects = g_effectManager:loadEffect( self.xmlFile, baseKey .. ".grabber" , self.components, self , self.i3dMappings)\n                spec.grabberEffectDisableDuration = self.xmlFile:getValue(baseKey .. ".grabber#effectDisableDuration" , 0.6 )\n                spec.grabberEffectDisableTime = 0\n\n                spec.samples = { }\n                spec.samples.grab = g_soundManager:loadSampleFromXML( self.xmlFile, baseKey .. ".sounds" , "grab" , self.baseDirectory, self.components, 1 , AudioGroup.VEHICLE, self.i3dMappings, self )\n                spec.samples.emptyRotate = g_soundManager:loadSampleFromXML( self.xmlFile, baseKey .. ".sounds" , "emptyRotate" , self.baseDirectory, self.components, 1 , AudioGroup.VEHICLE, self.i3dMappings, self )\n                spec.samples.work = g_soundManager:loadSampleFromXML( self.xmlFile, baseKey .. ".sounds" , "work" , self.baseDirectory, self.components, 0 , AudioGroup.VEHICLE, self.i3dMappings, self )\n                spec.samples.unload = g_soundManager:loadSampleFromXML( self.xmlFile, baseKey .. ".sounds" , "unload" , self.baseDirectory, self.components, 0 , AudioGroup.VEHICLE, self.i3dMappings, self )\n            end\n\n            spec.defaultAnimations = { }\n            self:loadBaleLoaderAnimationsFromXML( self.xmlFile, baseKey, spec.defaultAnimations)\n\n            -- setting up defaults\n            spec.animations = spec.defaultAnimations.animations\n\n            spec.defaultBalePlace = { }\n            spec.useSharedBalePlaces = false\n            if self:loadBalePlacesFromXML( self.xmlFile, baseKey, spec.defaultBalePlace) then\n                spec.useSharedBalePlaces = true\n            end\n\n            spec.startBalePlace = spec.defaultBalePlace.startBalePlace\n            spec.balePlaces = spec.defaultBalePlace.balePlaces\n\n            spec.baleTypes = { }\n\n            local i = 0\n            while true do\n                local baleTypeKey = string.format( "%s.baleTypes.baleType(%d)" , baseKey, i)\n                if not self.xmlFile:hasProperty(baleTypeKey) then\n                    break\n                end\n\n                local entry = { }\n                if self:loadBaleTypeFromXML( self.xmlFile, baleTypeKey, entry) then\n                    entry.index = i + 1\n                    table.insert(spec.baleTypes, entry)\n                end\n\n                i = i + 1\n            end\n\n            if #spec.baleTypes = = 0 then\n                Logging.xmlError( self.xmlFile, "No bale types defined for baleLoader!" )\n                else\n                        if spec.startBalePlace = = nil then\n                            spec.startBalePlace = spec.baleTypes[ 1 ].startBalePlace\n                        end\n\n                        if spec.balePlaces = = nil then\n                            spec.balePlaces = spec.baleTypes[ 1 ].balePlaces\n                        end\n\n                        if spec.startBalePlace = = nil then\n                            Logging.xmlError( self.xmlFile, "Could not find startBalePlace for baleLoader!" )\n                            end\n\n                            if spec.balePlaces = = nil then\n                                Logging.xmlError( self.xmlFile, "Could not find bale places for baleLoader!" )\n                                end\n                            end\n\n                            self:setBaleLoaderBaleType( 1 )\n\n                            spec.foldingAnimations = { }\n                            i = 0\n                            while true do\n                                local animationKey = string.format( "%s.foldingAnimations.foldingAnimation(%d)" , baseKey, i)\n                                if not self.xmlFile:hasProperty(animationKey) then\n                                    break\n                                end\n\n                                local animation = { }\n                                animation.name = self.xmlFile:getValue(animationKey .. "#name" )\n                                animation.baleTypeIndex = self.xmlFile:getValue(animationKey .. "#baleTypeIndex" , 0 )\n                                animation.minFillLevel = self.xmlFile:getValue(animationKey .. "#minFillLevel" , - math.huge)\n                                animation.maxFillLevel = self.xmlFile:getValue(animationKey .. "#maxFillLevel" , math.huge)\n                                animation.minBalePlace = self.xmlFile:getValue(animationKey .. "#minBalePlace" , - math.huge)\n                                animation.maxBalePlace = self.xmlFile:getValue(animationKey .. "#maxBalePlace" , math.huge)\n\n                                if self:getAnimationExists(animation.name) then\n                                    table.insert(spec.foldingAnimations, animation)\n                                else\n                                        Logging.xmlWarning( self.xmlFile, "Unknown folding animation \'%s\' in \'%s\'" , animation.name, animationKey)\n                                    end\n\n                                    i = i + 1\n                                end\n\n                                spec.hasMultipleFoldingAnimations = #spec.foldingAnimations > 0\n                                spec.lastFoldingAnimation = spec.animations.baleGrabberTransportToWork\n                                self:updateFoldingAnimation()\n\n                                spec.unloadingMover = { }\n                                spec.unloadingMover.trigger = self.xmlFile:getValue(baseKey .. ".unloadingMoverNodes#trigger" , nil , self.components, self.i3dMappings)\n                                if spec.unloadingMover.trigger ~ = nil then\n                                    addTrigger(spec.unloadingMover.trigger, "baleLoaderMoveTriggerCallback" , self )\n\n                                    g_currentMission:addNodeObject(spec.unloadingMover.trigger, self )\n                                end\n                                spec.unloadingMover.isActive = false\n                                spec.unloadingMover.dirtyFlag = self:getNextDirtyFlag()\n                                spec.unloadingMover.frameDelay = 0\n                                spec.unloadingMover.balesInTrigger = { }\n                                spec.unloadingMover.nodes = { }\n\n                                spec.unloadingMover.animationNodes = g_animationManager:loadAnimations( self.xmlFile, baseKey .. ".unloadingMoverNodes.animationNodes" , self.components, self , self.i3dMappings)\n\n                                i = 0\n                                while true do\n                                    local moverKey = string.format( "%s.unloadingMoverNodes.unloadingMoverNode(%d)" , baseKey, i)\n                                    if not self.xmlFile:hasProperty(moverKey) then\n                                        break\n                                    end\n\n                                    local entry = { }\n                                    entry.node = self.xmlFile:getValue(moverKey .. "#node" , nil , self.components, self.i3dMappings)\n                                    entry.speed = self.xmlFile:getValue(moverKey .. "#speed" , - 1 )\n\n                                    if entry.node ~ = nil then\n                                        table.insert(spec.unloadingMover.nodes, entry)\n                                    else\n                                            Logging.xmlWarning( self.xmlFile, "Unknown node in \'%s\'" , moverKey)\n                                        end\n\n                                        i = i + 1\n                                    end\n\n                                    spec.balePacker = { }\n                                    spec.balePacker.node = self.xmlFile:getValue(baseKey .. ".balePacker#node" , nil , self.components, self.i3dMappings)\n                                    spec.balePacker.filename = self.xmlFile:getValue(baseKey .. ".balePacker#packedFilename" )\n                                    if spec.balePacker.filename ~ = nil then\n                                        spec.balePacker.filename = Utils.getFilename(spec.balePacker.filename, self.baseDirectory)\n                                        if spec.balePacker.filename ~ = nil and not fileExists(spec.balePacker.filename) then\n                                            Logging.xmlError( self.xmlFile, "Unable to find packed bale \'%s\'" , spec.balePacker.filename)\n                                        end\n                                    end\n\n                                    spec.synchronizationNumBitsPosition = self.xmlFile:getValue(baseKey .. ".synchronization#numBitsPosition" , 10 )\n                                    spec.synchronizationMaxPosition = self.xmlFile:getValue(baseKey .. ".synchronization#maxPosition" , 3 )\n\n                                    spec.animationNodes = g_animationManager:loadAnimations( self.xmlFile, baseKey .. ".animationNodes" , self.components, self , self.i3dMappings)\n                                    spec.animationNodesBlocked = false\n\n                                    spec.showBaleNotSupportedWarning = false\n                                    spec.baleNotSupportedWarning = nil\n                                    spec.automaticUnloadingInProgress = false\n                                    spec.automaticUnloadingAdditionalBalesToLoad = - 1\n                                    spec.lastPickupAutomatedUnloadingDelayTime = 15000\n                                    spec.lastPickupTime = - spec.lastPickupAutomatedUnloadingDelayTime\n                                    spec.kinematicMountedBales = { }\n                                    spec.baleUnloadTriggers = { }\n\n                                    spec.baleJoints = { }\n                                end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"onloadfinished",children:"onLoadFinished"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Called after vehicle was added to physics"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onLoadFinished(table savegame)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"table"}),(0,i.jsx)(n.th,{children:"savegame"}),(0,i.jsx)(n.th,{children:"savegame"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleLoader:onLoadFinished(savegame)\n    local spec = self.spec_baleLoader\n\n    for k,v in pairs(spec.balesToLoad) do\n        local baleObject = Bale.new( self.isServer, self.isClient)\n        local x, y, z = unpack(v.translation)\n        local rx, ry, rz = unpack(v.rotation)\n        if baleObject:loadFromConfigXML(v.filename, x, y, z, rx, ry, rz, v.attributes.uniqueId) then\n            baleObject:applyBaleAttributes(v.attributes)\n            baleObject:register()\n\n            if spec.dynamicMount.enabled then\n                self:mountDynamicBale(baleObject, v.parentNode)\n            else\n                    self:mountBale(baleObject, self , v.parentNode, x,y,z, rx,ry,rz)\n                end\n\n                baleObject:setCanBeSold( false )\n\n                table.insert(v.bales, NetworkUtil.getObjectId(baleObject))\n            end\n\n            spec.balesToLoad[k] = nil\n        end\n    end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"onpostload",children:"onPostLoad"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Called after loading"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onPostLoad(table savegame)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"table"}),(0,i.jsx)(n.th,{children:"savegame"}),(0,i.jsx)(n.th,{children:"savegame"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function BaleLoader:onPostLoad(savegame)\n    if savegame ~ = nil then\n        local spec = self.spec_baleLoader\n\n        local baleTypeIndex = savegame.xmlFile:getValue(savegame.key .. ".baleLoader#baleTypeIndex" )\n        if baleTypeIndex ~ = nil then\n            self:setBaleLoaderBaleType(baleTypeIndex, true )\n        end\n\n        if spec.hasMultipleFoldingAnimations and not savegame.resetVehicles then\n            spec.lastFoldingAnimation = savegame.xmlFile:getValue(savegame.key .. ".baleLoader#lastFoldingAnimation" , spec.lastFoldingAnimation)\n        end\n\n        if savegame.xmlFile:getValue(savegame.key .. ".baleLoader#isInWorkPosition" , false ) then\n            if not spec.isInWorkPosition then\n                spec.grabberIsMoving = true\n                spec.isInWorkPosition = true\n                BaleLoader.moveToWorkPosition( self , true )\n            end\n        else\n                BaleLoader.moveToTransportPosition( self )\n            end\n\n            spec.startBalePlace.current = 1\n\n            spec.startBalePlace.count = 0\n            local numBales = 0\n            if not savegame.resetVehicles then\n                local i = 0\n                while true do\n                    local baleKey = savegame.key .. string.format( ".baleLoader.bale(%d)" , i)\n                    if not savegame.xmlFile:hasProperty(baleKey) then\n                        break\n                    end\n                    local filename = savegame.xmlFile:getValue(baleKey .. "#filename" )\n                    if filename ~ = nil then\n                        filename = NetworkUtil.convertFromNetworkFilename(filename)\n\n                        local translation = savegame.xmlFile:getValue(baleKey .. "#position" , nil , true )\n                        local rotation = savegame.xmlFile:getValue(baleKey .. "#rotation" , nil , true )\n                        local balePlace = savegame.xmlFile:getValue(baleKey .. "#balePlace" )\n                        local helper = savegame.xmlFile:getValue(baleKey .. "#helper" )\n                        if balePlace = = nil or(balePlace > 0 and(translation = = nil or rotation = = nil )) or(balePlace < 1 and helper = = nil ) then\n                            printWarning( "Warning:Corrupt savegame, bale " .. filename .. " could not be loaded" )\n                        else\n                                if balePlace < = 0 then\n                                    translation = { 0 , 0 , 0 }\n                                    rotation = { 0 , 0 , 0 }\n                                end\n                                local parentNode = nil\n                                local bales = nil\n                                if balePlace < 1 then\n                                    if spec.startBalePlace.node ~ = nil and helper < = spec.startBalePlace.numOfPlaces then\n                                        parentNode = getChildAt(spec.startBalePlace.node, helper - 1 )\n                                        if spec.startBalePlace.bales = = nil then\n                                            spec.startBalePlace.bales = { }\n                                        end\n                                        bales = spec.startBalePlace.bales\n                                        spec.startBalePlace.count = spec.startBalePlace.count + 1\n                                    end\n                                elseif balePlace < = #spec.balePlaces then\n                                        spec.startBalePlace.current = math.max(spec.startBalePlace.current, balePlace + 1 )\n                                        parentNode = spec.balePlaces[balePlace].node\n                                        if spec.balePlaces[balePlace].bales = = nil then\n                                            spec.balePlaces[balePlace].bales = { }\n                                        end\n                                        bales = spec.balePlaces[balePlace].bales\n                                    end\n                                    if parentNode ~ = nil then\n                                        local attributes = { }\n                                        Bale.loadBaleAttributesFromXMLFile(attributes, savegame.xmlFile, baleKey, savegame.resetVehicles)\n\n                                        numBales = numBales + 1\n                                        table.insert(spec.balesToLoad, { parentNode = parentNode, filename = filename, bales = bales, translation = translation, rotation = rotation, attributes = attributes } )\n                                    end\n                                end\n                            end\n                            i = i + 1\n                        end\n                    end\n\n                    self:updateFoldingAnimation()\n\n                    -- update animations\n                    BaleLoader.updateBalePlacesAnimations( self )\n                end\n            end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"onreadstream",children:"onReadStream"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Called on client side on join"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onReadStream(integer streamId, Connection connection)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"integer"}),(0,i.jsx)(n.th,{children:"streamId"}),(0,i.jsx)(n.th,{children:"streamId"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Connection"}),(0,i.jsx)(n.td,{children:"connection"}),(0,i.jsx)(n.td,{children:"connection"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleLoader:onReadStream(streamId, connection)\n    local spec = self.spec_baleLoader\n\n    spec.isInWorkPosition = streamReadBool(streamId)\n    spec.frontBalePusherDirection = streamReadIntN(streamId, 3 )\n    spec.rotatePlatformDirection = streamReadIntN(streamId, 3 )\n\n    if streamReadBool(streamId) then\n        local currentBaleTypeIndex = streamReadIntN(streamId, 6 )\n        self:setBaleLoaderBaleType(currentBaleTypeIndex)\n    end\n\n    -- note:we do not sync grabberMoveState, this may lead to visual artifacts for a few seconds at the bigging\n\n        if spec.isInWorkPosition then\n            BaleLoader.moveToWorkPosition( self )\n        end\n\n        local emptyState = streamReadUIntN(streamId, 4 )\n\n        spec.startBalePlace.current = streamReadInt8(streamId)\n\n        -- read bale at bale grabber\n        if streamReadBool(streamId) then\n            spec.baleGrabber.currentBale = NetworkUtil.readNodeObjectId(streamId)\n            spec.balesToMount[spec.baleGrabber.currentBale] = { serverId = spec.baleGrabber.currentBale, linkNode = spec.baleGrabber.grabNode, trans = { 0 , 0 , 0 } , rot = { 0 , 0 , 0 } }\n        end\n\n        -- read bales at start bale places\n        spec.startBalePlace.count = streamReadUInt8(streamId)\n        for i = 1 , spec.startBalePlace.count do\n            local baleServerId = NetworkUtil.readNodeObjectId(streamId)\n\n            local attachNode = getChildAt(spec.startBalePlace.node, i - 1 )\n            spec.balesToMount[baleServerId] = { serverId = baleServerId, linkNode = attachNode, trans = { 0 , 0 , 0 } , rot = { 0 , 0 , 0 } }\n\n            table.insert(spec.startBalePlace.bales, baleServerId)\n            self:updateFoldingAnimation()\n        end\n\n        -- read bales at normal bale places\n        for i = 1 , #spec.balePlaces do\n            local balePlace = spec.balePlaces[i]\n\n            local numBales = streamReadUInt8(streamId)\n            if numBales > 0 then\n                balePlace.bales = { }\n\n                for _ = 1 , numBales do\n                    local baleServerId = NetworkUtil.readNodeObjectId(streamId)\n\n                    local x, y, z = 0 , 0 , 0\n                    if not spec.dynamicMount.enabled then\n                        local maxValue = 2 ^ spec.synchronizationNumBitsPosition - 1\n                        x = streamReadUIntN(streamId, spec.synchronizationNumBitsPosition) / maxValue * (spec.synchronizationMaxPosition * 2 ) - spec.synchronizationMaxPosition\n                        y = streamReadUIntN(streamId, spec.synchronizationNumBitsPosition) / maxValue * (spec.synchronizationMaxPosition * 2 ) - spec.synchronizationMaxPosition\n                        z = streamReadUIntN(streamId, spec.synchronizationNumBitsPosition) / maxValue * (spec.synchronizationMaxPosition * 2 ) - spec.synchronizationMaxPosition\n                    end\n\n                    table.insert(balePlace.bales, baleServerId)\n                    spec.balesToMount[baleServerId] = { serverId = baleServerId, linkNode = balePlace.node, trans = { x,y,z } , rot = { 0 , 0 , 0 } }\n                end\n            end\n        end\n\n        -- read num bales on platform\n        -- read bales on baleloader\n        -- ignore\n\n        -- grabberMoveState ? int:nil\n        -- isInWorkPosition bool\n        -- emptyState ? int:nil\n        -- rotatePlatformDirection\n        -- frontBalePusherDirection\n        -- grabberIsMoving:bool\n\n        -- update animations\n        BaleLoader.updateBalePlacesAnimations( self )\n\n        if emptyState > = BaleLoader.EMPTY_TO_WORK then\n            self:doStateChange( BaleLoader.CHANGE_EMPTY_START)\n            AnimatedVehicle.updateAnimations( self , 99999999 , true )\n            if emptyState > = BaleLoader.EMPTY_ROTATE_PLATFORM then\n                self:doStateChange( BaleLoader.CHANGE_EMPTY_ROTATE_PLATFORM)\n                AnimatedVehicle.updateAnimations( self , 99999999 , true )\n                if emptyState > = BaleLoader.EMPTY_ROTATE1 then\n                    self:doStateChange( BaleLoader.CHANGE_EMPTY_ROTATE1)\n                    AnimatedVehicle.updateAnimations( self , 99999999 , true )\n                    if emptyState > = BaleLoader.EMPTY_CLOSE_GRIPPERS then\n                        self:doStateChange( BaleLoader.CHANGE_EMPTY_CLOSE_GRIPPERS)\n                        AnimatedVehicle.updateAnimations( self , 99999999 , true )\n                        if emptyState > = BaleLoader.EMPTY_HIDE_PUSHER1 then\n                            self:doStateChange( BaleLoader.CHANGE_EMPTY_HIDE_PUSHER1)\n                            AnimatedVehicle.updateAnimations( self , 99999999 , true )\n                            if emptyState > = BaleLoader.EMPTY_HIDE_PUSHER2 then\n                                self:doStateChange( BaleLoader.CHANGE_EMPTY_HIDE_PUSHER2)\n                                AnimatedVehicle.updateAnimations( self , 99999999 , true )\n                                if emptyState > = BaleLoader.EMPTY_ROTATE2 then\n                                    self:doStateChange( BaleLoader.CHANGE_EMPTY_ROTATE2)\n                                    AnimatedVehicle.updateAnimations( self , 99999999 , true )\n                                    if emptyState > = BaleLoader.EMPTY_WAIT_TO_DROP then\n                                        self:doStateChange( BaleLoader.CHANGE_EMPTY_WAIT_TO_DROP)\n                                        AnimatedVehicle.updateAnimations( self , 99999999 , true )\n                                        if emptyState = = BaleLoader.EMPTY_CANCEL or emptyState = = BaleLoader.EMPTY_WAIT_TO_REDO then\n                                            self:doStateChange( BaleLoader.CHANGE_EMPTY_CANCEL)\n                                            AnimatedVehicle.updateAnimations( self , 99999999 , true )\n                                            if emptyState = = BaleLoader.EMPTY_WAIT_TO_REDO then\n                                                self:doStateChange( BaleLoader.CHANGE_EMPTY_WAIT_TO_REDO)\n                                                AnimatedVehicle.updateAnimations( self , 99999999 , true )\n                                            end\n                                        elseif emptyState = = BaleLoader.EMPTY_WAIT_TO_SINK or emptyState = = BaleLoader.EMPTY_SINK then\n                                                self:doStateChange( BaleLoader.CHANGE_DROP_BALES)\n                                                AnimatedVehicle.updateAnimations( self , 99999999 , true )\n\n                                                if emptyState = = BaleLoader.EMPTY_SINK then\n                                                    self:doStateChange( BaleLoader.CHANGE_SINK)\n                                                    AnimatedVehicle.updateAnimations( self , 99999999 , true )\n                                                end\n                                            end\n                                        end\n\n                                    end\n                                end\n                            end\n                        end\n                    end\n                end\n            end\n            spec.emptyState = emptyState\n        end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"onreadupdatestream",children:"onReadUpdateStream"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onReadUpdateStream()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"streamId"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"timestamp"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"connection"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleLoader:onReadUpdateStream(streamId, timestamp, connection)\n    local spec = self.spec_baleLoader\n\n    if connection:getIsServer() then\n        if streamReadBool(streamId) then\n            local moverActive = streamReadBool(streamId)\n            if moverActive ~ = spec.unloadingMover.isActive then\n                if moverActive then\n                    g_animationManager:startAnimations(spec.unloadingMover.animationNodes)\n                    g_soundManager:playSample(spec.samples.unload)\n                else\n                        g_animationManager:stopAnimations(spec.unloadingMover.animationNodes)\n                        g_soundManager:stopSample(spec.samples.unload)\n                    end\n                    spec.unloadingMover.isActive = moverActive\n                end\n            end\n        end\n    end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"onregisteractionevents",children:"onRegisterActionEvents"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onRegisterActionEvents()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"isActiveForInput"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"isActiveForInputIgnoreSelection"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleLoader:onRegisterActionEvents(isActiveForInput, isActiveForInputIgnoreSelection)\n    if self.isClient then\n        local spec = self.spec_baleLoader\n        self:clearActionEventsTable(spec.actionEvents)\n\n        if isActiveForInputIgnoreSelection then\n\n            if not spec.useFoldingState then\n                local _, actionEventId = self:addPoweredActionEvent(spec.actionEvents, InputAction.IMPLEMENT_EXTRA, self , BaleLoader.actionEventWorkTransport, false , true , false , true , nil )\n                g_inputBinding:setActionEventTextPriority(actionEventId, GS_PRIO_NORMAL)\n            end\n\n            if not spec.fullAutomaticUnloading then\n                local _, actionEventId = self:addPoweredActionEvent(spec.actionEvents, InputAction.IMPLEMENT_EXTRA3, self , BaleLoader.actionEventEmpty, false , true , false , true , nil )\n                g_inputBinding:setActionEventTextPriority(actionEventId, GS_PRIO_NORMAL)\n\n                _, actionEventId = self:addPoweredActionEvent(spec.actionEvents, InputAction.IMPLEMENT_EXTRA2, self , BaleLoader.actionEventAbortEmpty, false , true , false , true , nil )\n                g_inputBinding:setActionEventTextPriority(actionEventId, GS_PRIO_NORMAL)\n                g_inputBinding:setActionEventText(actionEventId, spec.texts.abortUnloading)\n            end\n        end\n    end\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"onregisteranimationvaluetypes",children:"onRegisterAnimationValueTypes"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Called on pre load to register animation value types"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onRegisterAnimationValueTypes()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function BaleLoader:onRegisterAnimationValueTypes()\n    local spec = self.spec_baleLoader\n\n    self:registerAnimationValueType( "baleLoaderAnimationNodes" , "baleLoaderAnimationNodes" , "" , false , AnimationValueBool ,\n    function (value, xmlFile, xmlKey)\n        return true\n    end ,\n    function (value)\n        return not spec.animationNodesBlocked\n    end ,\n\n    function (value, state)\n        spec.animationNodesBlocked = not state\n\n        if not spec.animationNodesBlocked and spec.isInWorkPosition then\n            g_animationManager:startAnimations(spec.animationNodes)\n            g_soundManager:playSample(spec.samples.work)\n        end\n\n        if spec.animationNodesBlocked and spec.isInWorkPosition then\n            g_animationManager:stopAnimations(spec.animationNodes)\n            g_soundManager:stopSample(spec.samples.work)\n        end\n    end )\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"onrootvehiclechanged",children:"onRootVehicleChanged"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Called if root vehicle changes"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onRootVehicleChanged(table rootVehicle)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"table"}),(0,i.jsx)(n.th,{children:"rootVehicle"}),(0,i.jsx)(n.th,{children:"root vehicle"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function BaleLoader:onRootVehicleChanged(rootVehicle)\n    local spec = self.spec_baleLoader\n    local actionController = rootVehicle.actionController\n    if actionController ~ = nil then\n        if spec.controlledAction ~ = nil then\n            spec.controlledAction:updateParent(actionController)\n            return\n        end\n\n        spec.controlledAction = actionController:registerAction( "baleLoaderWorkstate" , nil , 4 )\n        spec.controlledAction:setCallback( self , BaleLoader.actionControllerEvent)\n        local finishedFunc = function (vehicle)\n            return vehicle.spec_baleLoader.isInWorkPosition\n        end\n        spec.controlledAction:setFinishedFunctions( self , finishedFunc, true , false )\n        spec.controlledAction:addAIEventListener( self , "onAIImplementPrepareForTransport" , - 1 )\n    else\n            if spec.controlledAction ~ = nil then\n                spec.controlledAction:remove()\n            end\n        end\n    end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"onupdate",children:"onUpdate"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Called on update"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onUpdate(float dt, boolean isActiveForInput, boolean isSelected, )"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"float"}),(0,i.jsx)(n.th,{children:"dt"}),(0,i.jsx)(n.th,{children:"time since last call in ms"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"boolean"}),(0,i.jsx)(n.td,{children:"isActiveForInput"}),(0,i.jsx)(n.td,{children:"true if vehicle is active for input"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"boolean"}),(0,i.jsx)(n.td,{children:"isSelected"}),(0,i.jsx)(n.td,{children:"true if vehicle is selected"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"isSelected"}),(0,i.jsx)(n.td,{})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleLoader:onUpdate(dt, isActiveForInput, isActiveForInputIgnoreSelection, isSelected)\n    local spec = self.spec_baleLoader\n\n    if self.finishedFirstUpdate then\n        for k, baleToMount in pairs(spec.balesToMount) do\n            local bale = NetworkUtil.getObject(baleToMount.serverId)\n            if bale ~ = nil then\n                local x,y,z = unpack(baleToMount.trans)\n                local rx,ry,rz = unpack(baleToMount.rot)\n\n                if spec.dynamicMount.enabled then\n                    self:mountDynamicBale(bale, baleToMount.linkNode)\n                else\n                        self:mountBale(bale, self , baleToMount.linkNode, x,y,z, rx,ry,rz)\n                    end\n\n                    local baleType = self:getBaleTypeByBale(bale)\n                    if baleType ~ = nil then\n                        self:setBaleLoaderBaleType(baleType.index)\n                    end\n\n                    spec.balesToMount[k] = nil\n                end\n            end\n        end\n\n        if self.isClient then\n            if spec.grabberEffectDisableTime ~ = 0 and spec.grabberEffectDisableTime < g_currentMission.time then\n                g_effectManager:stopEffects(spec.grabberEffects)\n                spec.grabberEffectDisableTime = 0\n            end\n        end\n\n        -- check if grabber is still moving\n            if spec.grabberIsMoving then\n                if not self:getIsBaleLoaderFoldingPlaying() then\n                    spec.grabberIsMoving = false\n                end\n            end\n\n            spec.showBaleNotSupportedWarning = false\n            if self:getIsBaleGrabbingAllowed() then\n                if spec.baleGrabber.grabNode ~ = nil and spec.baleGrabber.currentBale = = nil then\n                    -- find nearest bale\n                    local nearestBale, nearestBaleType, warning = BaleLoader.getBaleInRange( self , spec.baleGrabber.grabNode, spec.baleGrabber.balesInTrigger)\n                    if nearestBale ~ = nil then\n                        if nearestBaleType = = nil then\n                            spec.showBaleNotSupportedWarning = true\n                            spec.baleNotSupportedWarning = warning\n                        elseif self.isServer then\n                                self:pickupBale(nearestBale, nearestBaleType)\n                            end\n                        end\n                    end\n                end\n                if self.isServer then\n                    if spec.grabberMoveState ~ = nil then\n                        if spec.grabberMoveState = = BaleLoader.GRAB_MOVE_UP then\n                            if not self:getIsAnimationPlaying(spec.animations.baleGrabberWorkToDrop) then\n                                --BaleLoader.CHANGE_GRAB_MOVE_UP\n                                -- switch to grabberMoveState\n                                g_server:broadcastEvent( BaleLoaderStateEvent.new( self , BaleLoader.CHANGE_GRAB_MOVE_UP), true , nil , self )\n                            end\n                        elseif spec.grabberMoveState = = BaleLoader.GRAB_DROP_BALE then\n                                if not self:getIsAnimationPlaying(spec.currentBaleGrabberDropBaleAnimName) then\n                                    --BaleLoader.CHANGE_GRAB_DROP_BALE\n                                    g_server:broadcastEvent( BaleLoaderStateEvent.new( self , BaleLoader.CHANGE_GRAB_DROP_BALE), true , nil , self )\n                                end\n                            elseif spec.grabberMoveState = = BaleLoader.GRAB_MOVE_DOWN then\n                                    --BaleLoader.CHANGE_GRAB_MOVE_DOWN\n                                    local name = spec.animations.baleGrabberDropToWork or spec.animations.baleGrabberWorkToDrop\n                                    if not self:getIsAnimationPlaying(name) then\n                                        g_server:broadcastEvent( BaleLoaderStateEvent.new( self , BaleLoader.CHANGE_GRAB_MOVE_DOWN), true , nil , self )\n                                        self:setAnimationTime(spec.currentBaleGrabberDropBaleAnimName, 0 , false )\n                                        self:setAnimationTime(spec.animations.baleGrabberWorkToDrop, 0 , false )\n                                    end\n                                end\n                            end\n                            if spec.frontBalePusherDirection ~ = 0 then\n                                if not self:getIsAnimationPlaying(spec.animations.frontBalePusher) then\n                                    --BaleLoader.CHANGE_FRONT_PUSHER\n                                    g_server:broadcastEvent( BaleLoaderStateEvent.new( self , BaleLoader.CHANGE_FRONT_PUSHER), true , nil , self )\n                                end\n                            end\n                            if spec.rotatePlatformDirection ~ = 0 then\n                                local name = spec.animations.rotatePlatform\n                                if spec.rotatePlatformDirection < 0 then\n                                    name = spec.animations.rotatePlatformBack\n                                end\n                                if not self:getIsAnimationPlaying(name) and not self:getIsAnimationPlaying(spec.animations.moveBalePlacesExtrasOnce) and not spec.moveBalePlacesDelayedMovement then\n                                    --BaleLoader.CHANGE_ROTATE_PLATFORM\n                                    g_server:broadcastEvent( BaleLoaderStateEvent.new( self , BaleLoader.CHANGE_ROTATE_PLATFORM), true , nil , self )\n                                end\n                            end\n\n                            if spec.emptyState ~ = BaleLoader.EMPTY_NONE then\n                                if spec.emptyState = = BaleLoader.EMPTY_TO_WORK then\n                                    if not self:getIsBaleLoaderFoldingPlaying() then\n                                        g_server:broadcastEvent( BaleLoaderStateEvent.new( self , BaleLoader.CHANGE_EMPTY_ROTATE_PLATFORM), true , nil , self )\n                                    end\n                                elseif spec.emptyState = = BaleLoader.EMPTY_ROTATE_PLATFORM then\n                                        if not self:getIsAnimationPlaying(spec.animations.rotatePlatformEmpty) then\n                                            --BaleLoader.CHANGE_EMPTY_ROTATE1\n                                            g_server:broadcastEvent( BaleLoaderStateEvent.new( self , BaleLoader.CHANGE_EMPTY_ROTATE1), true , nil , self )\n                                        end\n                                    elseif spec.emptyState = = BaleLoader.EMPTY_ROTATE1 then\n                                            if not self:getIsAnimationPlaying(spec.animations.emptyRotate) and not self:getIsAnimationPlaying(spec.animations.moveBalePlacesToEmpty) then\n                                                --BaleLoader.CHANGE_EMPTY_CLOSE_GRIPPERS\n                                                g_server:broadcastEvent( BaleLoaderStateEvent.new( self , BaleLoader.CHANGE_EMPTY_CLOSE_GRIPPERS), true , nil , self )\n                                            end\n                                        elseif spec.emptyState = = BaleLoader.EMPTY_CLOSE_GRIPPERS then\n                                                if not self:getIsAnimationPlaying(spec.animations.closeGrippers) then\n                                                    --BaleLoader.CHANGE_EMPTY_HIDE_PUSHER1\n                                                    g_server:broadcastEvent( BaleLoaderStateEvent.new( self , BaleLoader.CHANGE_EMPTY_HIDE_PUSHER1), true , nil , self )\n                                                end\n                                            elseif spec.emptyState = = BaleLoader.EMPTY_HIDE_PUSHER1 then\n                                                    if not self:getIsAnimationPlaying(spec.animations.pusherEmptyHide1) then\n                                                        --BaleLoader.CHANGE_EMPTY_HIDE_PUSHER2\n                                                        g_server:broadcastEvent( BaleLoaderStateEvent.new( self , BaleLoader.CHANGE_EMPTY_HIDE_PUSHER2), true , nil , self )\n                                                    end\n                                                elseif spec.emptyState = = BaleLoader.EMPTY_HIDE_PUSHER2 then\n                                                        if self:getAnimationTime(spec.animations.pusherMoveToEmpty) < 0.7 or not self:getIsAnimationPlaying(spec.animations.pusherMoveToEmpty) then\n                                                            --BaleLoader.CHANGE_EMPTY_ROTATE2\n                                                            g_server:broadcastEvent( BaleLoaderStateEvent.new( self , BaleLoader.CHANGE_EMPTY_ROTATE2), true , nil , self )\n                                                        end\n                                                    elseif spec.emptyState = = BaleLoader.EMPTY_ROTATE2 then\n                                                            if not self:getIsAnimationPlaying(spec.animations.emptyRotate) then\n                                                                --BaleLoader.CHANGE_EMPTY_WAIT_TO_DROP\n                                                                g_server:broadcastEvent( BaleLoaderStateEvent.new( self , BaleLoader.CHANGE_EMPTY_WAIT_TO_DROP), true , nil , self )\n                                                            end\n                                                        elseif spec.emptyState = = BaleLoader.EMPTY_SINK then\n                                                                if not self:getIsAnimationPlaying(spec.animations.emptyRotate) and\n                                                                    not self:getIsAnimationPlaying(spec.animations.moveBalePlacesToEmpty) and\n                                                                    not self:getIsAnimationPlaying(spec.animations.pusherEmptyHide1) and\n                                                                    not self:getIsAnimationPlaying(spec.animations.rotatePlatformEmpty)\n                                                                    then\n                                                                    --BaleLoader.CHANGE_EMPTY_STATE_NIL\n                                                                    g_server:broadcastEvent( BaleLoaderStateEvent.new( self , BaleLoader.CHANGE_EMPTY_STATE_NIL), true , nil , self )\n                                                                end\n                                                            elseif spec.emptyState = = BaleLoader.EMPTY_CANCEL then\n                                                                    if not self:getIsAnimationPlaying(spec.animations.emptyRotate) then\n                                                                        --BaleLoader.CHANGE_EMPTY_WAIT_TO_REDO\n                                                                        g_server:broadcastEvent( BaleLoaderStateEvent.new( self , BaleLoader.CHANGE_EMPTY_WAIT_TO_REDO), true , nil , self )\n                                                                    end\n                                                                end\n                                                            end\n                                                        end\n\n                                                        -- re mount bale in grabber, which was unmounted to be saved as normal bale\n                                                        if spec.baleGrabber.currentBaleIsUnmounted then\n                                                            spec.baleGrabber.currentBaleIsUnmounted = false\n                                                            local bale = NetworkUtil.getObject(spec.baleGrabber.currentBale)\n                                                            if bale ~ = nil then\n                                                                if spec.dynamicMount.enabled then\n                                                                    self:mountDynamicBale(bale, spec.baleGrabber.grabNode)\n                                                                else\n                                                                        self:mountBale(bale, self , spec.baleGrabber.grabNode, 0 , 0 , 0 , 0 , 0 , 0 )\n                                                                    end\n\n                                                                    bale:setCanBeSold( false )\n                                                                end\n                                                            end\n                                                        end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"onupdatetick",children:"onUpdateTick"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Called on update tick"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onUpdateTick(float dt, boolean isActiveForInput, boolean isSelected, )"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"float"}),(0,i.jsx)(n.th,{children:"dt"}),(0,i.jsx)(n.th,{children:"time since last call in ms"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"boolean"}),(0,i.jsx)(n.td,{children:"isActiveForInput"}),(0,i.jsx)(n.td,{children:"true if vehicle is active for input"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"boolean"}),(0,i.jsx)(n.td,{children:"isSelected"}),(0,i.jsx)(n.td,{children:"true if vehicle is selected"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"isSelected"}),(0,i.jsx)(n.td,{})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleLoader:onUpdateTick(dt, isActiveForInput, isActiveForInputIgnoreSelection, isSelected)\n    local spec = self.spec_baleLoader\n\n    if self.isClient then\n        local actionEvent = spec.actionEvents[InputAction.IMPLEMENT_EXTRA]\n        if actionEvent ~ = nil then\n            local showAction = false\n            if spec.emptyState = = BaleLoader.EMPTY_NONE then\n                if spec.grabberMoveState = = nil then\n                    if spec.isInWorkPosition then\n                        g_inputBinding:setActionEventText(actionEvent.actionEventId, spec.texts.transportPosition)\n                        showAction = true\n                    else\n                            g_inputBinding:setActionEventText(actionEvent.actionEventId, spec.texts.operatingPosition)\n                            showAction = true\n                        end\n                    end\n                end\n\n                g_inputBinding:setActionEventActive(actionEvent.actionEventId, showAction)\n            end\n\n            actionEvent = spec.actionEvents[InputAction.IMPLEMENT_EXTRA2]\n            if actionEvent ~ = nil then\n                g_inputBinding:setActionEventActive(actionEvent.actionEventId, spec.emptyState = = BaleLoader.EMPTY_WAIT_TO_DROP)\n            end\n\n            actionEvent = spec.actionEvents[InputAction.IMPLEMENT_EXTRA3]\n            if actionEvent ~ = nil then\n                local showAction = false\n\n                if spec.emptyState = = BaleLoader.EMPTY_NONE then\n                    if BaleLoader.getAllowsStartUnloading( self ) then\n                        g_inputBinding:setActionEventText(actionEvent.actionEventId, spec.texts.unload)\n                        showAction = true\n                    end\n                elseif spec.emptyState = = BaleLoader.EMPTY_WAIT_TO_DROP then\n                        g_inputBinding:setActionEventText(actionEvent.actionEventId, spec.texts.unloadHere)\n                        showAction = true\n                    elseif spec.emptyState = = BaleLoader.EMPTY_WAIT_TO_SINK then\n                            if not spec.unloadingMover.isActive then\n                                g_inputBinding:setActionEventText(actionEvent.actionEventId, spec.texts.lowerPlattform)\n                                showAction = true\n                            end\n                        elseif spec.emptyState = = BaleLoader.EMPTY_WAIT_TO_REDO then\n                                g_inputBinding:setActionEventText(actionEvent.actionEventId, spec.texts.unload)\n                                showAction = true\n                            end\n\n                            g_inputBinding:setActionEventActive(actionEvent.actionEventId, showAction)\n                        end\n                    end\n\n                    if self.isServer then\n                        if Platform.gameplay.automaticBaleDrop then\n                            local unloadTrigger, _ = next(spec.baleUnloadTriggers)\n                            if unloadTrigger ~ = nil then\n                                if self:getIsAutomaticBaleUnloadingAllowed() then\n                                    local bales = self:getLoadedBales()\n                                    local unloadingAllowed = false\n                                    for i, bale in ipairs(bales) do\n                                        if unloadTrigger:getIsBaleSupportedByUnloadTrigger(bale) then\n                                            unloadingAllowed = true\n                                            break\n                                        end\n                                    end\n\n                                    if unloadingAllowed and BaleLoader.getAllowsStartUnloading( self ) then\n                                        self:startAutomaticBaleUnloading()\n                                    end\n                                end\n                            end\n                        end\n\n                        if spec.fullAutomaticUnloading then\n                            if self:getFillUnitFillLevelPercentage(spec.fillUnitIndex) = = 1 or spec.automaticUnloadingAdditionalBalesToLoad = = 0 then\n                                if BaleLoader.getAllowsStartUnloading( self ) then\n                                    self:startAutomaticBaleUnloading()\n                                end\n                            end\n                        end\n\n                        if spec.automaticUnloading or spec.automaticUnloadingInProgress then\n                            if spec.emptyState = = BaleLoader.EMPTY_WAIT_TO_DROP then\n                                self:doStateChange( BaleLoader.CHANGE_BUTTON_EMPTY)\n                            end\n\n                            local isPlaying = self:getIsAnimationPlaying(spec.animations.releaseFrontPlatform)\n                            if spec.emptyState = = BaleLoader.EMPTY_WAIT_TO_SINK and not isPlaying and not spec.unloadingMover.isActive then\n                                self:doStateChange( BaleLoader.CHANGE_SINK)\n                            end\n                        end\n\n                        if #spec.baleJoints > 0 then\n                            local removeJoints = false\n\n                            if spec.dynamicBaleUnloading.useUnloadingMoverTrigger then\n                                if spec.unloadingMover.frameDelay = = 0 and next(spec.unloadingMover.balesInTrigger) = = nil then\n                                    removeJoints = true\n                                end\n                            end\n\n                            -- if both requirements are defined, both needs to be true\n                                if spec.dynamicBaleUnloading.useUnloadingMoverTrigger = = nil or removeJoints then\n                                    removeJoints = false\n                                    if spec.dynamicBaleUnloading.releaseAnimation ~ = nil then\n                                        local animation = spec.dynamicBaleUnloading.releaseAnimation\n                                        if self:getAnimationTime(animation) > = spec.dynamicBaleUnloading.releaseAnimationTime or not self:getIsAnimationPlaying(animation) then\n                                            removeJoints = true\n                                        end\n                                    end\n                                end\n\n                                if removeJoints then\n                                    for i = #spec.baleJoints, 1 , - 1 do\n                                        removeJoint(spec.baleJoints[i])\n                                        spec.baleJoints[i] = nil\n                                    end\n                                end\n                            end\n\n                            if spec.unloadingMover.isActive then\n                                spec.unloadingMover.frameDelay = math.max(spec.unloadingMover.frameDelay - 1 , 0 )\n                                if spec.unloadingMover.frameDelay = = 0 and next(spec.unloadingMover.balesInTrigger) = = nil then\n                                    spec.unloadingMover.isActive = false\n\n                                    for i = 1 , #spec.unloadingMover.nodes do\n                                        setFrictionVelocity(spec.unloadingMover.nodes[i].node, 0 )\n                                    end\n\n                                    if self.isClient then\n                                        g_animationManager:stopAnimations(spec.unloadingMover.animationNodes)\n                                        g_soundManager:stopSample(spec.samples.unload)\n                                    end\n\n                                    self:raiseDirtyFlags(spec.unloadingMover.dirtyFlag)\n                                end\n                            end\n\n                            if spec.dynamicMount.enabled then\n                                local jointNodePositionChanged = false\n                                -- move bale smoothly to the joint position\n                                for i, jointNode in ipairs(spec.dynamicMount.baleJointsToUpdate) do\n                                    if jointNode.quaternion = = nil then\n                                        local qx, qy, qz, qw = getQuaternion(jointNode.node)\n                                        jointNode.quaternion = { qx, qy, qz, qw }\n                                    end\n\n                                    if jointNode.time < spec.dynamicMount.jointInterpolationTimeRot then\n                                        jointNode.time = jointNode.time + dt\n                                        local qx, qy, qz, qw = 0 , 0 , 0 , 1\n                                        if math.abs(jointNode.quaternion[ 2 ]) > 0.5 then\n                                            qx, qy, qz, qw = MathUtil.slerpQuaternionShortestPath(jointNode.quaternion[ 1 ], jointNode.quaternion[ 2 ], jointNode.quaternion[ 3 ], jointNode.quaternion[ 4 ], 0 , 1 , 0 , 0 , jointNode.time / spec.dynamicMount.jointInterpolationTimeRot)\n                                        elseif math.abs(jointNode.quaternion[ 2 ]) < 0.5 then\n                                                qx, qy, qz, qw = MathUtil.slerpQuaternionShortestPath(jointNode.quaternion[ 1 ], jointNode.quaternion[ 2 ], jointNode.quaternion[ 3 ], jointNode.quaternion[ 4 ], 0 , 0 , 0 , 1 , jointNode.time / spec.dynamicMount.jointInterpolationTimeRot)\n                                            end\n                                            setQuaternion(jointNode.node, qx, qy, qz, qw)\n                                            jointNodePositionChanged = true\n                                        end\n\n                                        local x, y, z = getTranslation(jointNode.node)\n                                        if math.abs(x) + math.abs(y) + math.abs(z) > 0.001 then\n                                            local move = spec.dynamicMount.jointInterpolationSpeedTrans * dt\n\n                                            local function moveValue(old)\n                                                local limit = math.sign(old) > 0 and math.max or math.min\n                                                return limit(old - math.sign(old) * move, 0 )\n                                            end\n\n                                            setTranslation(jointNode.node, moveValue(x), moveValue(y), moveValue(z))\n\n                                            jointNodePositionChanged = true\n                                        elseif jointNode.time > spec.dynamicMount.jointInterpolationTimeRot then\n                                                table.remove(spec.dynamicMount.baleJointsToUpdate, i)\n                                            end\n                                        end\n\n                                        -- update dynamic bale joints as soon one of the available animations is playing\n                                        local anyAnimationPlaying = false\n                                        for name,_ in pairs( self.spec_animatedVehicle.animations) do\n                                            if self:getIsAnimationPlaying(name) then\n                                                anyAnimationPlaying = true\n                                            end\n                                        end\n\n                                        if anyAnimationPlaying or jointNodePositionChanged or spec.dynamicMount.baleMassDirty then\n                                            for _, balePlace in pairs(spec.balePlaces) do\n                                                if balePlace.bales ~ = nil then\n                                                    for _, baleServerId in pairs(balePlace.bales) do\n                                                        local bale = NetworkUtil.getObject(baleServerId)\n                                                        if bale ~ = nil then\n                                                            if bale.dynamicMountJointIndex ~ = nil then\n                                                                setJointFrame(bale.dynamicMountJointIndex, 0 , bale.baleLoaderDynamicJointNode)\n                                                            end\n\n                                                            if bale.backupMass = = nil then\n                                                                local mass = getMass(bale.nodeId)\n                                                                if mass ~ = 1 then\n                                                                    bale.backupMass = mass\n                                                                    setMass(bale.nodeId, 0.1 )\n                                                                    spec.dynamicMount.baleMassDirty = false\n                                                                end\n                                                            end\n                                                        end\n                                                    end\n                                                end\n                                            end\n\n                                            if spec.startBalePlace ~ = nil then\n                                                for _, baleServerId in ipairs(spec.startBalePlace.bales) do\n                                                    local bale = NetworkUtil.getObject(baleServerId)\n                                                    if bale ~ = nil then\n                                                        if bale.dynamicMountJointIndex ~ = nil then\n                                                            setJointFrame(bale.dynamicMountJointIndex, 0 , bale.baleLoaderDynamicJointNode)\n                                                        end\n\n                                                        if bale.backupMass = = nil then\n                                                            local mass = getMass(bale.nodeId)\n                                                            if mass ~ = 1 then\n                                                                bale.backupMass = mass\n                                                                setMass(bale.nodeId, 0.1 )\n                                                                spec.dynamicMount.baleMassDirty = false\n                                                            end\n                                                        end\n                                                    end\n                                                end\n                                            end\n\n                                            if spec.baleGrabber.currentBale ~ = nil then\n                                                local bale = NetworkUtil.getObject(spec.baleGrabber.currentBale)\n                                                if bale ~ = nil then\n                                                    if bale.dynamicMountJointIndex ~ = nil then\n                                                        setJointFrame(bale.dynamicMountJointIndex, 0 , bale.baleLoaderDynamicJointNode)\n                                                    end\n                                                end\n                                            end\n                                        end\n                                    end\n                                end\n\n                                if spec.moveBalePlacesDelayedMovement then\n                                    if self:getAnimationTime(spec.animations.baleGrabberWorkToDrop) < spec.animations.moveBalePlacesMaxGrabberTime then\n                                        spec.rotatePlatformDirection = - 1\n                                        self:playAnimation(spec.animations.rotatePlatformBack, - 1 , nil , true )\n\n                                        if spec.animations.moveBalePlacesAfterRotatePlatform then\n                                            -- startBalePlace.current+1 needs to be at the first position\n                                            if spec.startBalePlace ~ = nil and spec.startBalePlace.current < = #spec.balePlaces or spec.animations.moveBalePlacesAlways then\n                                                self:playAnimation(spec.animations.moveBalePlaces, 1 , (spec.startBalePlace.current - 1 ) / #spec.balePlaces, true )\n                                                self:setAnimationStopTime(spec.animations.moveBalePlaces, (spec.startBalePlace.current) / #spec.balePlaces)\n                                                self:playAnimation(spec.animations.moveBalePlacesExtrasOnce, 1 , nil , true )\n                                            end\n                                        end\n\n                                        spec.moveBalePlacesDelayedMovement = nil\n                                    end\n                                end\n\n                                if spec.animations.moveBalePlacesToEmptyPushOffsetTime > 0 then\n                                    spec.animations.moveBalePlacesToEmptyPushOffsetTime = spec.animations.moveBalePlacesToEmptyPushOffsetTime - dt\n                                    if spec.animations.moveBalePlacesToEmptyPushOffsetTime < = 0 then\n                                        local balePlacesTime = self:getRealAnimationTime(spec.animations.moveBalePlaces)\n                                        local duration = self:getAnimationDuration(spec.animations.moveBalePlacesToEmpty)\n                                        local startTime = balePlacesTime / duration\n                                        local speedFactor = (duration - balePlacesTime) / (duration - balePlacesTime - spec.animations.moveBalePlacesToEmptyPushOffsetDelay * spec.animations.moveBalePlacesToEmptySpeed)\n\n                                        local speed = spec.animations.moveBalePlacesToEmptySpeed * speedFactor\n                                        self:playAnimation(spec.animations.moveBalePlacesToEmpty, speed, startTime, true )\n                                        spec.animations.moveBalePlacesToEmptyPushOffsetTime = 0\n                                    end\n                                end\n                            end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"onwritestream",children:"onWriteStream"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Called on server side on join"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onWriteStream(integer streamId, Connection connection)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"integer"}),(0,i.jsx)(n.th,{children:"streamId"}),(0,i.jsx)(n.th,{children:"streamId"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Connection"}),(0,i.jsx)(n.td,{children:"connection"}),(0,i.jsx)(n.td,{children:"connection"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleLoader:onWriteStream(streamId, connection)\n    local spec = self.spec_baleLoader\n\n    streamWriteBool(streamId, spec.isInWorkPosition)\n    streamWriteIntN(streamId, spec.frontBalePusherDirection, 3 )\n    streamWriteIntN(streamId, spec.rotatePlatformDirection, 3 )\n\n    if streamWriteBool(streamId, spec.currentBaleType ~ = nil ) then\n        streamWriteIntN(streamId, spec.currentBaleType.index or 1 , 6 )\n    end\n\n    streamWriteUIntN(streamId, spec.emptyState, 4 )\n\n    streamWriteInt8(streamId, spec.startBalePlace.current)\n\n    -- write bale at bale grabber\n    if streamWriteBool(streamId, spec.baleGrabber.currentBale ~ = nil ) then\n        NetworkUtil.writeNodeObjectId(streamId, spec.baleGrabber.currentBale)\n    end\n\n    -- write bales at start bale places\n    streamWriteUInt8(streamId, spec.startBalePlace.count)\n    for i = 1 , spec.startBalePlace.count do\n        local baleServerId = spec.startBalePlace.bales[i]\n        NetworkUtil.writeNodeObjectId(streamId, baleServerId)\n    end\n\n    -- write bales at normal bale places\n    for i = 1 , #spec.balePlaces do\n        local balePlace = spec.balePlaces[i]\n\n        local numBales = 0\n        if balePlace.bales ~ = nil then\n            numBales = #balePlace.bales\n        end\n        streamWriteUInt8(streamId, numBales)\n        if balePlace.bales ~ = nil then\n            for baleI = 1 , numBales do\n                local baleServerId = balePlace.bales[baleI]\n                local bale = NetworkUtil.getObject(baleServerId)\n                local nodeId = bale.nodeId\n                local x, y, z = getTranslation(nodeId)\n                NetworkUtil.writeNodeObjectId(streamId, baleServerId)\n\n                if not spec.dynamicMount.enabled then\n                    if math.abs(x) > spec.synchronizationMaxPosition or math.abs(y) > spec.synchronizationMaxPosition or math.abs(z) > spec.synchronizationMaxPosition then\n                        Logging.xmlWarning( self.xmlFile, \"Position of bale '%d' could not be synchronized correctly.Position out of range(%.2f, %.2f, %.2f) > %.2f.Increase 'vehicle.baleLoader.synchronization#maxPosition'\" , baleI, x, y, z, spec.synchronizationMaxPosition)\n                    end\n\n                    local maxValue = 2 ^ spec.synchronizationNumBitsPosition - 1\n                    streamWriteUIntN(streamId, ((spec.synchronizationMaxPosition + x) / (spec.synchronizationMaxPosition * 2 )) * maxValue, spec.synchronizationNumBitsPosition)\n                    streamWriteUIntN(streamId, ((spec.synchronizationMaxPosition + y) / (spec.synchronizationMaxPosition * 2 )) * maxValue, spec.synchronizationNumBitsPosition)\n                    streamWriteUIntN(streamId, ((spec.synchronizationMaxPosition + z) / (spec.synchronizationMaxPosition * 2 )) * maxValue, spec.synchronizationNumBitsPosition)\n                end\n            end\n        end\n    end\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"onwriteupdatestream",children:"onWriteUpdateStream"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onWriteUpdateStream()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"streamId"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"connection"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"dirtyMask"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleLoader:onWriteUpdateStream(streamId, connection, dirtyMask)\n    local spec = self.spec_baleLoader\n\n    if not connection:getIsServer() then\n        if streamWriteBool(streamId, bit32.band(dirtyMask, spec.unloadingMover.dirtyFlag) ~ = 0 ) then\n            streamWriteBool(streamId, spec.unloadingMover.isActive)\n        end\n    end\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"pickupbale",children:"pickupBale"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Pickup bale"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"pickupBale(table nearestBale, table nearestBaleType)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"table"}),(0,i.jsx)(n.th,{children:"nearestBale"}),(0,i.jsx)(n.th,{children:"nearest bale"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"table"}),(0,i.jsx)(n.td,{children:"nearestBaleType"}),(0,i.jsx)(n.td,{children:"nearest bale type"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleLoader:pickupBale(nearestBale, nearestBaleType)\n    local spec = self.spec_baleLoader\n    spec.lastPickupTime = g_ time\n\n    self:setBaleLoaderBaleType(nearestBaleType.index)\n\n    g_server:broadcastEvent( BaleLoaderStateEvent.new( self , BaleLoader.CHANGE_GRAB_BALE, NetworkUtil.getObjectId(nearestBale)), true , nil , self )\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"playbaleloaderfoldinganimation",children:"playBaleLoaderFoldingAnimation"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"playBaleLoaderFoldingAnimation()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"speed"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleLoader:playBaleLoaderFoldingAnimation(speed)\n    local animationName = self:getCurrentFoldingAnimation()\n    self:playAnimation(animationName, speed, math.clamp( self:getAnimationTime(animationName), 0 , 1 ), true )\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"prerequisitespresent",children:"prerequisitesPresent"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Checks if all prerequisite specializations are loaded"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"prerequisitesPresent(table specializations)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"table"}),(0,i.jsx)(n.th,{children:"specializations"}),(0,i.jsx)(n.th,{children:"specializations"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"table"}),(0,i.jsx)(n.th,{children:"hasPrerequisite"}),(0,i.jsx)(n.th,{children:"true if all prerequisite specializations are loaded"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleLoader.prerequisitesPresent(specializations)\n    return SpecializationUtil.hasSpecialization( FillUnit , specializations)\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"registeranimationxmlpaths",children:"registerAnimationXMLPaths"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"registerAnimationXMLPaths()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"schema"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"basePath"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function BaleLoader.registerAnimationXMLPaths(schema, basePath)\n    schema:register(XMLValueType.STRING, basePath .. ".animations.platform#rotate" , "Rotate platform animation name" , "rotatePlatform" )\n    schema:register(XMLValueType.STRING, basePath .. ".animations.platform#rotateBack" , "Rotate platform back animation name" , "rotatePlatform" )\n    schema:register(XMLValueType.STRING, basePath .. ".animations.platform#rotateEmpty" , "Rotate platform empty animation name" , "rotatePlatform" )\n    schema:register(XMLValueType.BOOL, basePath .. ".animations.platform#allowPickupWhileMoving" , "Allow pickup of next bale while platform is rotating" , false )\n\n        schema:register(XMLValueType.FLOAT, basePath .. ".animations.baleGrabber#dropBaleReverseSpeed" , "Speed of grabber in reverse" , 5 )\n        schema:register(XMLValueType.STRING, basePath .. ".animations.baleGrabber#dropToWork" , "Custom grabber animation when moving from drop to work" )\n        schema:register(XMLValueType.STRING, basePath .. ".animations.baleGrabber#workToDrop" , "Bale grabber work to drop animation" , "baleGrabberWorkToDrop" )\n        schema:register(XMLValueType.STRING, basePath .. ".animations.baleGrabber#dropBale" , "Bale grabber drop bale animation" , "baleGrabberDropBale" )\n        schema:register(XMLValueType.STRING, basePath .. ".animations.baleGrabber#transportToWork" , "Transport to work animation" , "baleGrabberTransportToWork" )\n\n        schema:register(XMLValueType.STRING, basePath .. ".animations.pusher#emptyHide" , "Empty hide animation" , "emptyHidePusher1" )\n        schema:register(XMLValueType.STRING, basePath .. ".animations.pusher#moveToEmpty" , "Move to empty position" , "moveBalePusherToEmpty" )\n        schema:register(XMLValueType.BOOL, basePath .. ".animations.pusher#hidePusherOnEmpty" , "Reverse move to empty animation after execution" , true )\n        schema:register(XMLValueType.BOOL, basePath .. ".animations.pusher#pushBalesOnEmpty" , "Defines if bale are pushed or pulled on empty" , false )\n\n            schema:register(XMLValueType.STRING, basePath .. ".animations.releaseFrontPlatform#name" , "Release front platform animation name" , "releaseFrontplattform" )\n            schema:register(XMLValueType.BOOL, basePath .. ".animations.releaseFrontPlatform#fillLevelSpeed" , "Front platform speed is dependent on fill level" , false )\n\n            schema:register(XMLValueType.STRING, basePath .. ".animations.moveBalePlaces#name" , "Move bale places animation" , "moveBalePlaces" )\n            schema:register(XMLValueType.STRING, basePath .. ".animations.moveBalePlaces#extrasOnce" , "Move bale places extra once animation" , "moveBalePlaces" )\n            schema:register(XMLValueType.STRING, basePath .. ".animations.moveBalePlaces#empty" , "Move bale places empty animation" , "moveBalePlaces" )\n            schema:register(XMLValueType.FLOAT, basePath .. ".animations.moveBalePlaces#emptySpeed" , "Speed of move bale places to empty" , 1.5 )\n            schema:register(XMLValueType.FLOAT, basePath .. ".animations.moveBalePlaces#emptyReverseSpeed" , "Reverse speed of move bale places to empty" , - 1 )\n            schema:register(XMLValueType.FLOAT, basePath .. ".animations.moveBalePlaces#pushOffset" , "Delay of empty animation to give pusher time to move to the last bale" , 0 )\n\n            schema:register(XMLValueType.BOOL, basePath .. ".animations.moveBalePlaces#moveAfterRotatePlatform" , "Move bale places after rotate platform" , false )\n            schema:register(XMLValueType.BOOL, basePath .. ".animations.moveBalePlaces#resetOnSink" , "Reset move bale places on platform sink" , false )\n            schema:register(XMLValueType.FLOAT, basePath .. ".animations.moveBalePlaces#maxGrabberTime" , "Max.grabber time to move bale places" , "inf" )\n            schema:register(XMLValueType.BOOL, basePath .. ".animations.moveBalePlaces#alwaysMove" , "Always move bale places" , false )\n\n            schema:register(XMLValueType.STRING, basePath .. ".animations.emptyRotate#name" , "Empty rotate" , "emptyRotate" )\n            schema:register(XMLValueType.BOOL, basePath .. ".animations.emptyRotate#reset" , "Reset empty rotate animation" , true )\n\n            schema:register(XMLValueType.STRING, basePath .. ".animations#frontBalePusher" , "Front bale pusher animation" , "frontBalePusher" )\n            schema:register(XMLValueType.STRING, basePath .. ".animations#balesToOtherRow" , "Bales to othe row animation" , "balesToOtherRow" )\n            schema:register(XMLValueType.STRING, basePath .. ".animations#closeGrippers" , "Close grippers animation" , "closeGrippers" )\n        end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"registereventlisteners",children:"registerEventListeners"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"registerEventListeners()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function BaleLoader.registerEventListeners(vehicleType)\n    SpecializationUtil.registerEventListener(vehicleType, "onLoad" , BaleLoader )\n    SpecializationUtil.registerEventListener(vehicleType, "onPostLoad" , BaleLoader )\n    SpecializationUtil.registerEventListener(vehicleType, "onLoadFinished" , BaleLoader )\n    SpecializationUtil.registerEventListener(vehicleType, "onDelete" , BaleLoader )\n    SpecializationUtil.registerEventListener(vehicleType, "onReadUpdateStream" , BaleLoader )\n    SpecializationUtil.registerEventListener(vehicleType, "onWriteUpdateStream" , BaleLoader )\n    SpecializationUtil.registerEventListener(vehicleType, "onReadStream" , BaleLoader )\n    SpecializationUtil.registerEventListener(vehicleType, "onWriteStream" , BaleLoader )\n    SpecializationUtil.registerEventListener(vehicleType, "onUpdate" , BaleLoader )\n    SpecializationUtil.registerEventListener(vehicleType, "onUpdateTick" , BaleLoader )\n    SpecializationUtil.registerEventListener(vehicleType, "onDraw" , BaleLoader )\n    SpecializationUtil.registerEventListener(vehicleType, "onRegisterActionEvents" , BaleLoader )\n    SpecializationUtil.registerEventListener(vehicleType, "onActivate" , BaleLoader )\n    SpecializationUtil.registerEventListener(vehicleType, "onDeactivate" , BaleLoader )\n    SpecializationUtil.registerEventListener(vehicleType, "onRootVehicleChanged" , BaleLoader )\n    SpecializationUtil.registerEventListener(vehicleType, "onFillUnitFillLevelChanged" , BaleLoader )\n    SpecializationUtil.registerEventListener(vehicleType, "onFoldStateChanged" , BaleLoader )\n    SpecializationUtil.registerEventListener(vehicleType, "onBalerUnloadingStarted" , BaleLoader )\n    SpecializationUtil.registerEventListener(vehicleType, "onRegisterAnimationValueTypes" , BaleLoader )\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"registerfunctions",children:"registerFunctions"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"registerFunctions()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function BaleLoader.registerFunctions(vehicleType)\n    SpecializationUtil.registerFunction(vehicleType, "loadBaleTypeFromXML" , BaleLoader.loadBaleTypeFromXML)\n    SpecializationUtil.registerFunction(vehicleType, "loadBalePlacesFromXML" , BaleLoader.loadBalePlacesFromXML)\n    SpecializationUtil.registerFunction(vehicleType, "loadBaleLoaderAnimationsFromXML" , BaleLoader.loadBaleLoaderAnimationsFromXML)\n\n    SpecializationUtil.registerFunction(vehicleType, "createBaleToBaleJoints" , BaleLoader.createBaleToBaleJoints)\n    SpecializationUtil.registerFunction(vehicleType, "createBaleToBaleJoint" , BaleLoader.createBaleToBaleJoint)\n    SpecializationUtil.registerFunction(vehicleType, "doStateChange" , BaleLoader.doStateChange)\n    SpecializationUtil.registerFunction(vehicleType, "getBaleGrabberDropBaleAnimName" , BaleLoader.getBaleGrabberDropBaleAnimName)\n    SpecializationUtil.registerFunction(vehicleType, "getIsBaleGrabbingAllowed" , BaleLoader.getIsBaleGrabbingAllowed)\n    SpecializationUtil.registerFunction(vehicleType, "pickupBale" , BaleLoader.pickupBale)\n    SpecializationUtil.registerFunction(vehicleType, "setBaleLoaderBaleType" , BaleLoader.setBaleLoaderBaleType)\n    SpecializationUtil.registerFunction(vehicleType, "getBaleTypeByBale" , BaleLoader.getBaleTypeByBale)\n    SpecializationUtil.registerFunction(vehicleType, "baleGrabberTriggerCallback" , BaleLoader.baleGrabberTriggerCallback)\n    SpecializationUtil.registerFunction(vehicleType, "baleLoaderMoveTriggerCallback" , BaleLoader.baleLoaderMoveTriggerCallback)\n    SpecializationUtil.registerFunction(vehicleType, "mountDynamicBale" , BaleLoader.mountDynamicBale)\n    SpecializationUtil.registerFunction(vehicleType, "unmountDynamicBale" , BaleLoader.unmountDynamicBale)\n    SpecializationUtil.registerFunction(vehicleType, "mountBale" , BaleLoader.mountBale)\n    SpecializationUtil.registerFunction(vehicleType, "unmountBale" , BaleLoader.unmountBale)\n    SpecializationUtil.registerFunction(vehicleType, "setBalePairCollision" , BaleLoader.setBalePairCollision)\n    SpecializationUtil.registerFunction(vehicleType, "getLoadedBales" , BaleLoader.getLoadedBales)\n    SpecializationUtil.registerFunction(vehicleType, "startAutomaticBaleUnloading" , BaleLoader.startAutomaticBaleUnloading)\n    SpecializationUtil.registerFunction(vehicleType, "getIsAutomaticBaleUnloadingInProgress" , BaleLoader.getIsAutomaticBaleUnloadingInProgress)\n    SpecializationUtil.registerFunction(vehicleType, "getIsAutomaticBaleUnloadingAllowed" , BaleLoader.getIsAutomaticBaleUnloadingAllowed)\n    SpecializationUtil.registerFunction(vehicleType, "playBaleLoaderFoldingAnimation" , BaleLoader.playBaleLoaderFoldingAnimation)\n    SpecializationUtil.registerFunction(vehicleType, "getIsBaleLoaderFoldingPlaying" , BaleLoader.getIsBaleLoaderFoldingPlaying)\n    SpecializationUtil.registerFunction(vehicleType, "getCurrentFoldingAnimation" , BaleLoader.getCurrentFoldingAnimation)\n    SpecializationUtil.registerFunction(vehicleType, "updateFoldingAnimation" , BaleLoader.updateFoldingAnimation)\n    SpecializationUtil.registerFunction(vehicleType, "onBaleMoverBaleRemoved" , BaleLoader.onBaleMoverBaleRemoved)\n    SpecializationUtil.registerFunction(vehicleType, "addBaleUnloadTrigger" , BaleLoader.addBaleUnloadTrigger)\n    SpecializationUtil.registerFunction(vehicleType, "removeBaleUnloadTrigger" , BaleLoader.removeBaleUnloadTrigger)\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"registeroverwrittenfunctions",children:"registerOverwrittenFunctions"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"registerOverwrittenFunctions()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function BaleLoader.registerOverwrittenFunctions(vehicleType)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getCanBeSelected" , BaleLoader.getCanBeSelected)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getAllowDynamicMountFillLevelInfo" , BaleLoader.getAllowDynamicMountFillLevelInfo)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getAreControlledActionsAllowed" , BaleLoader.getAreControlledActionsAllowed)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getIsAIReadyToDrive" , BaleLoader.getIsAIReadyToDrive)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getIsAIPreparingToDrive" , BaleLoader.getIsAIPreparingToDrive)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getIsFoldAllowed" , BaleLoader.getIsFoldAllowed)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getDoConsumePtoPower" , BaleLoader.getDoConsumePtoPower)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getConsumingLoad" , BaleLoader.getConsumingLoad)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getIsPowerTakeOffActive" , BaleLoader.getIsPowerTakeOffActive)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "addToPhysics" , BaleLoader.addToPhysics)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "removeFromPhysics" , BaleLoader.removeFromPhysics)\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"removebaleunloadtrigger",children:"removeBaleUnloadTrigger"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"removeBaleUnloadTrigger()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"unloadTrigger"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleLoader:removeBaleUnloadTrigger(unloadTrigger)\n    local spec = self.spec_baleLoader\n    spec.baleUnloadTriggers[unloadTrigger] = (spec.baleUnloadTriggers[unloadTrigger] or 0 ) - 1\n\n    if spec.baleUnloadTriggers[unloadTrigger] < = 0 then\n        spec.baleUnloadTriggers[unloadTrigger] = nil\n        unloadTrigger:removeDeleteListener( self , BaleLoader.onBaleUnloadTriggerDeleted)\n    end\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"removefromphysics",children:"removeFromPhysics"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Add to physics"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"removeFromPhysics()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"success"}),(0,i.jsx)(n.th,{children:"success"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleLoader:removeFromPhysics(superFunc)\n    if not superFunc( self ) then\n        return false\n    end\n\n    local spec = self.spec_baleLoader\n    for _, balePlace in pairs(spec.balePlaces) do\n        if balePlace.bales ~ = nil then\n            for _, baleServerId in pairs(balePlace.bales) do\n                local bale = NetworkUtil.getObject(baleServerId)\n                if bale ~ = nil then\n                    if spec.dynamicMount.enabled then\n                        self:unmountDynamicBale(bale)\n                    else\n                            self:unmountBale(bale)\n                        end\n\n                        bale:removeFromPhysics()\n                    end\n                end\n            end\n        end\n\n        for _, baleServerId in ipairs(spec.startBalePlace.bales) do\n            local bale = NetworkUtil.getObject(baleServerId)\n            if bale ~ = nil then\n                if spec.dynamicMount.enabled then\n                    self:unmountDynamicBale(bale)\n                else\n                        self:unmountBale(bale)\n                    end\n\n                    bale:removeFromPhysics()\n                end\n            end\n\n            return true\n        end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"rotateplatform",children:"rotatePlatform"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Rotate bale loader platform"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"rotatePlatform()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"self"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleLoader.rotatePlatform( self )\n    local spec = self.spec_baleLoader\n\n    spec.rotatePlatformDirection = 1\n    self:playAnimation(spec.animations.rotatePlatform, 1 , nil , true )\n\n    if (spec.startBalePlace.current > 1 and not spec.animations.moveBalePlacesAfterRotatePlatform) or spec.animations.moveBalePlacesAlways then\n        -- startBalePlace.current needs to be at the first position\n        self:playAnimation(spec.animations.moveBalePlaces, 1 , (spec.startBalePlace.current - 1 ) / #spec.balePlaces, true )\n        self:setAnimationStopTime(spec.animations.moveBalePlaces, (spec.startBalePlace.current) / #spec.balePlaces)\n        self:playAnimation(spec.animations.moveBalePlacesExtrasOnce, 1 , nil , true )\n    end\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"savetoxmlfile",children:"saveToXMLFile"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"saveToXMLFile()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"xmlFile"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"key"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"usedModNames"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function BaleLoader:saveToXMLFile(xmlFile, key, usedModNames)\n    local spec = self.spec_baleLoader\n\n    xmlFile:setValue(key .. "#isInWorkPosition" , spec.isInWorkPosition)\n\n    if spec.currentBaleType ~ = nil then\n        xmlFile:setValue(key .. "#baleTypeIndex" , spec.currentBaleType.index)\n    end\n\n    local baleIndex = 0\n    for i, balePlace in pairs(spec.balePlaces) do\n        if balePlace.bales ~ = nil then\n            for _, baleServerId in pairs(balePlace.bales) do\n                local bale = NetworkUtil.getObject(baleServerId)\n                if bale ~ = nil then\n                    local baleKey = string.format( "%s.bale(%d)" , key, baleIndex)\n                    bale:saveToXMLFile(xmlFile, baleKey)\n\n                    local startBaleEmpty = #spec.startBalePlace.bales = = 0\n                    local loadPlaceEmpty = self:getFillUnitFillLevel(spec.fillUnitIndex) % spec.startBalePlace.numOfPlaces ~ = 0\n                    local lastItem = ( math.floor( self:getFillUnitFillLevel(spec.fillUnitIndex) / spec.startBalePlace.numOfPlaces) + 1 ) = = i\n                    local evenCapacity = self:getFillUnitCapacity(spec.fillUnitIndex) % 2 = = 0\n                    if startBaleEmpty and loadPlaceEmpty and lastItem and evenCapacity then\n                        xmlFile:setValue(baleKey .. "#balePlace" , 0 )\n                        xmlFile:setValue(baleKey .. "#helper" , 1 )\n                    else\n                            xmlFile:setValue(baleKey .. "#balePlace" , i)\n                        end\n\n                        baleIndex = baleIndex + 1\n                    end\n                end\n            end\n        end\n\n        for i, baleServerId in ipairs(spec.startBalePlace.bales) do\n            local bale = NetworkUtil.getObject(baleServerId)\n            if bale ~ = nil then\n                local baleKey = string.format( "%s.bale(%d)" , key, baleIndex)\n                bale:saveToXMLFile(xmlFile, baleKey)\n                xmlFile:setValue(baleKey .. "#balePlace" , 0 )\n                xmlFile:setValue(baleKey .. "#helper" , i)\n\n                baleIndex = baleIndex + 1\n            end\n        end\n\n        if spec.hasMultipleFoldingAnimations and spec.lastFoldingAnimation ~ = nil then\n            xmlFile:setValue(key .. "#lastFoldingAnimation" , spec.lastFoldingAnimation)\n        end\n\n        -- unmount bale in grabber so it can be saved as a normal bale\n        if spec.baleGrabber.currentBale ~ = nil then\n            local bale = NetworkUtil.getObject(spec.baleGrabber.currentBale)\n            if bale ~ = nil then\n                self:unmountBale(bale)\n                spec.baleGrabber.currentBaleIsUnmounted = true\n            end\n        end\n    end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"setbaleloaderbaletype",children:"setBaleLoaderBaleType"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Set bale type index"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"setBaleLoaderBaleType(integer baleTypeIndex, boolean forceUpdate)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"integer"}),(0,i.jsx)(n.th,{children:"baleTypeIndex"}),(0,i.jsx)(n.th,{children:"index of bale type"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"boolean"}),(0,i.jsx)(n.td,{children:"forceUpdate"}),(0,i.jsx)(n.td,{})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleLoader:setBaleLoaderBaleType(baleTypeIndex, forceUpdate)\n    local spec = self.spec_baleLoader\n\n    local newBaleType = spec.baleTypes[baleTypeIndex] or spec.baleTypes[ 1 ]\n    if newBaleType ~ = spec.currentBaleType then\n        spec.currentBaleType = newBaleType\n        spec.animations = newBaleType.animations\n\n        if not spec.useSharedBalePlaces then\n            if newBaleType.startBalePlace.node ~ = nil then\n                spec.startBalePlace = newBaleType.startBalePlace\n            else\n                    spec.startBalePlace = spec.defaultBalePlace.startBalePlace\n                end\n\n                if #newBaleType.balePlaces > 0 then\n                    spec.balePlaces = newBaleType.balePlaces\n                else\n                        spec.balePlaces = spec.defaultBalePlace.balePlaces\n                    end\n                end\n\n                spec.fillUnitIndex = newBaleType.fillUnitIndex\n\n                -- hide display of empty units fom other bale types\n                for i = 1 , #spec.baleTypes do\n                    local baleType = spec.baleTypes[i]\n                    local fillUnit = self:getFillUnitByIndex(baleType.fillUnitIndex)\n\n                    if fillUnit.showOnHudOrig = = nil then\n                        fillUnit.showOnHudOrig = fillUnit.showOnHud\n                    end\n\n                    if fillUnit.showOnHudOrig then\n                        fillUnit.showOnHud = baleType.fillUnitIndex = = spec.fillUnitIndex\n                    end\n                end\n\n                ObjectChangeUtil.setObjectChanges(newBaleType.changeObjects, true , self , self.setMovingToolDirty, forceUpdate)\n            end\n        end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"setbalepaircollision",children:"setBalePairCollision"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"setBalePairCollision()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"bale"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"state"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleLoader:setBalePairCollision(bale, state)\n    local spec = self.spec_baleLoader\n    for i = 1 , # self.components do\n        setPairCollision( self.components[i].node, bale.nodeId, state)\n    end\n\n    for i = 1 , #spec.kinematicMountedBales do\n        local bale2 = spec.kinematicMountedBales[i]\n        setPairCollision(bale2.nodeId, bale.nodeId, state)\n    end\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"startautomaticbaleunloading",children:"startAutomaticBaleUnloading"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"startAutomaticBaleUnloading()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleLoader:startAutomaticBaleUnloading()\n    local spec = self.spec_baleLoader\n    spec.automaticUnloadingInProgress = true\n\n    if spec.automaticUnloadingAdditionalBalesToLoad = = 0 then\n        spec.automaticUnloadingAdditionalBalesToLoad = - 1\n    end\n\n    g_client:getServerConnection():sendEvent( BaleLoaderStateEvent.new( self , BaleLoader.CHANGE_BUTTON_EMPTY))\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"unmountbale",children:"unmountBale"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"unmountBale()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"bale"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleLoader:unmountBale(bale)\n    local spec = self.spec_baleLoader\n\n    if bale.dynamicMountType = = MountableObject.MOUNT_TYPE_DEFAULT then\n        bale:unmount()\n        bale:setNeedsSaving( true )\n    elseif bale.dynamicMountType = = MountableObject.MOUNT_TYPE_KINEMATIC then\n            bale:unmountKinematic()\n            bale:setNeedsSaving( true )\n            table.removeElement(spec.kinematicMountedBales, bale)\n            self:setBalePairCollision(bale, true )\n        end\n    end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"unmountdynamicbale",children:"unmountDynamicBale"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"unmountDynamicBale()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"bale"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleLoader:unmountDynamicBale(bale)\n    if self.isServer then\n        local spec = self.spec_baleLoader\n\n        bale:unmountDynamic()\n        bale:setNeedsSaving( true )\n        if bale.baleLoaderDynamicJointNode~ = nil then\n            delete(bale.baleLoaderDynamicJointNode)\n            bale.baleLoaderDynamicJointNode = nil\n        end\n\n        spec.dynamicMount.baleJointsToUpdate = { }\n\n        if bale.backupMass ~ = nil then\n            setMass(bale.nodeId, bale.backupMass)\n            bale.backupMass = nil\n        end\n    end\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"updatebaleplacesanimations",children:"updateBalePlacesAnimations"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Update bale place animations"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"updateBalePlacesAnimations()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"self"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleLoader.updateBalePlacesAnimations( self )\n    local spec = self.spec_baleLoader\n\n    if spec.startBalePlace ~ = nil and spec.startBalePlace.current > spec.startBalePlace.numOfPlaces or(spec.animations.moveBalePlacesAfterRotatePlatform and spec.startBalePlace.current > 1 ) then\n        local delta = 1\n        local numBalePlaces = #spec.balePlaces\n        if spec.animations.moveBalePlacesAfterRotatePlatform and not spec.animations.moveBalePlacesAlways and not spec.useBalePlaceAsLoadPosition then\n            delta = 0\n        end\n\n        if spec.useBalePlaceAsLoadPosition then\n            numBalePlaces = numBalePlaces - 1\n            delta = delta + spec.balePlaceOffset\n        end\n\n        -- startBalePlace.current-1 or -0 needs to be at the first position\n        self:playAnimation(spec.animations.moveBalePlaces, 1 , 0 , true )\n        self:setAnimationStopTime(spec.animations.moveBalePlaces, math.min((spec.startBalePlace.current - delta) / numBalePlaces, 1 ))\n\n        AnimatedVehicle.updateAnimations( self , 99999999 , true )\n    end\n\n    if spec.startBalePlace ~ = nil and spec.startBalePlace.count > = 1 then\n        self:playAnimation(spec.animations.balesToOtherRow, 20 , nil , true )\n        AnimatedVehicle.updateAnimations( self , 99999999 , true )\n        if spec.startBalePlace.count > = spec.startBalePlace.numOfPlaces then\n            BaleLoader.rotatePlatform( self )\n        end\n    end\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"updatefoldinganimation",children:"updateFoldingAnimation"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"updateFoldingAnimation()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleLoader:updateFoldingAnimation()\n    local spec = self.spec_baleLoader\n\n    local name = spec.animations.baleGrabberTransportToWork\n\n    local fillLevel = MathUtil.round( self:getFillUnitFillLevel(spec.fillUnitIndex)) -- use rounding since fill level on client side is synced with low precision\n    local balePlace = #spec.startBalePlace.bales\n    local baleTypeIndex = 1\n    if spec.currentBaleType ~ = nil then\n        baleTypeIndex = spec.currentBaleType.index\n    end\n\n    for _, foldingAnimation in ipairs(spec.foldingAnimations) do\n        if foldingAnimation.baleTypeIndex = = 0 or foldingAnimation.baleTypeIndex = = baleTypeIndex then\n            if fillLevel > = foldingAnimation.minFillLevel and fillLevel < = foldingAnimation.maxFillLevel then\n                if balePlace > = foldingAnimation.minBalePlace and balePlace < = foldingAnimation.maxBalePlace then\n                    name = foldingAnimation.name\n                    break\n                end\n            end\n        end\n    end\n\n    if name ~ = spec.lastFoldingAnimation then\n        if spec.lastFoldingAnimation ~ = nil then\n            local animTime = self:getAnimationTime(spec.lastFoldingAnimation)\n            self:setAnimationTime(name, animTime, false )\n        end\n\n        spec.lastFoldingAnimation = name\n    end\nend\n\n"})})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},28453(e,n,a){a.d(n,{R:()=>s,x:()=>r});var l=a(96540);const i={},t=l.createContext(i);function s(e){const n=l.useContext(t);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),l.createElement(t.Provider,{value:n},e.children)}}}]);