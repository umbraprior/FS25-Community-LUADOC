"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[25075],{28453(e,n,r){r.d(n,{R:()=>l,x:()=>c});var s=r(96540);const t={},i=s.createContext(t);function l(e){const n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),s.createElement(i.Provider,{value:n},e.children)}},91310(e,n,r){r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"script/Jobs/AIJobConveyor","title":"AIJobConveyor","description":"AIJobConveyor","source":"@site/../docs/script/Jobs/AIJobConveyor.md","sourceDirName":"script/Jobs","slug":"/script/Jobs/AIJobConveyor","permalink":"/FS25-Community-LUADOC/script/Jobs/AIJobConveyor","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"AIJob","permalink":"/FS25-Community-LUADOC/script/Jobs/AIJob"},"next":{"title":"AIJobDeliver","permalink":"/FS25-Community-LUADOC/script/Jobs/AIJobDeliver"}}');var t=r(74848),i=r(28453);const l={},c=void 0,o={},a=[{value:"AIJobConveyor",id:"aijobconveyor",level:2},{value:"applyCurrentState",id:"applycurrentstate",level:3},{value:"getIsAvailableForVehicle",id:"getisavailableforvehicle",level:3},{value:"getIsStartable",id:"getisstartable",level:3},{value:"getIsStartErrorText",id:"getisstarterrortext",level:3},{value:"getPricePerMs",id:"getpriceperms",level:3},{value:"getTitle",id:"gettitle",level:3},{value:"new",id:"new",level:3},{value:"setValues",id:"setvalues",level:3},{value:"start",id:"start",level:3},{value:"stop",id:"stop",level:3},{value:"validate",id:"validate",level:3}];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"aijobconveyor",children:"AIJobConveyor"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Parent"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"?version=script&category=54&class=542",children:"AIJob"})}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Functions"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#applycurrentstate",children:"applyCurrentState"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#getisavailableforvehicle",children:"getIsAvailableForVehicle"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#getisstartable",children:"getIsStartable"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#getisstarterrortext",children:"getIsStartErrorText"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#getpriceperms",children:"getPricePerMs"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#gettitle",children:"getTitle"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#new",children:"new"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#setvalues",children:"setValues"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#start",children:"start"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#stop",children:"stop"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#validate",children:"validate"})}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"applycurrentstate",children:"applyCurrentState"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"applyCurrentState()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"vehicle"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"mission"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"farmId"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"isDirectStart"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function AIJobConveyor:applyCurrentState(vehicle, mission, farmId, isDirectStart)\n    AIJobConveyor:superClass().applyCurrentState( self , vehicle, mission, farmId, isDirectStart)\n\n    self.vehicleParameter:setVehicle(vehicle)\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"getisavailableforvehicle",children:"getIsAvailableForVehicle"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"getIsAvailableForVehicle()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"vehicle"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function AIJobConveyor:getIsAvailableForVehicle(vehicle)\n    return vehicle.spec_aiConveyorBelt ~ = nil and vehicle:getCanStartAIVehicle() and vehicle:getIsAIJobSupported(ClassUtil.getClassNameByObject( self ))\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"getisstartable",children:"getIsStartable"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"getIsStartable()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"connection"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function AIJobConveyor:getIsStartable(connection)\n    if g_currentMission.aiSystem:getAILimitedReached() then\n        return false , AIJobConveyor.START_ERROR_LIMIT_REACHED\n    end\n\n    local vehicle = self.vehicleParameter:getVehicle()\n    if vehicle = = nil then\n        return false , AIJobConveyor.START_ERROR_VEHICLE_DELETED\n    end\n\n    if not g_currentMission:getHasPlayerPermission( "hireAssistant" , connection, vehicle:getOwnerFarmId()) then\n        return false , AIJobConveyor.START_ERROR_NO_PERMISSION\n    end\n\n    if vehicle:getIsInUse(connection) then\n        return false , AIJobConveyor.START_ERROR_VEHICLE_IN_USE\n    end\n\n    return true , AIJob.START_SUCCESS\nend\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"getisstarterrortext",children:"getIsStartErrorText"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"getIsStartErrorText()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"state"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function AIJobConveyor.getIsStartErrorText(state)\n    if state = = AIJobConveyor.START_ERROR_LIMIT_REACHED then\n        return g_i18n:getText( "ai_startStateLimitReached" )\n    elseif state = = AIJobConveyor.START_ERROR_VEHICLE_DELETED then\n            return g_i18n:getText( "ai_startStateVehicleDeleted" )\n        elseif state = = AIJobConveyor.START_ERROR_NO_PERMISSION then\n                return g_i18n:getText( "ai_startStateNoPermission" )\n            elseif state = = AIJobConveyor.START_ERROR_VEHICLE_IN_USE then\n                    return g_i18n:getText( "ai_startStateVehicleInUse" )\n                end\n\n                return g_i18n:getText( "ai_startStateSuccess" )\n            end\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"getpriceperms",children:"getPricePerMs"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"getPricePerMs()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function AIJobConveyor:getPricePerMs()\n    return 0.00005\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"gettitle",children:"getTitle"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"getTitle()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function AIJobConveyor:getTitle()\n    local vehicle = self.vehicleParameter:getVehicle()\n    if vehicle ~ = nil then\n        return vehicle:getName()\n    end\n\n    return ""\nend\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"new",children:"new"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"new()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"isServer"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"customMt"})]})})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function AIJobConveyor.new(isServer, customMt)\n    local self = AIJob.new(isServer, customMt or AIJobConveyor _mt)\n\n    self.conveyorTask = AITaskConveyor.new(isServer, self )\n\n    self:addTask( self.conveyorTask)\n\n    self.vehicleParameter = AIParameterVehicle.new()\n\n    self:addNamedParameter( "vehicle" , self.vehicleParameter)\n\n    local vehicleGroup = AIParameterGroup.new(g_i18n:getText( "ai_parameterGroupTitleVehicle" ))\n    vehicleGroup:addParameter( self.vehicleParameter)\n\n    table.insert( self.groupedParameters, vehicleGroup)\n\n    return self\nend\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"setvalues",children:"setValues"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"setValues()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function AIJobConveyor:setValues()\n    self:resetTasks()\n\n    self.conveyorTask:setVehicle( self.vehicleParameter:getVehicle())\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"start",children:"start"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"start()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"farmId"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function AIJobConveyor:start(farmId)\n    AIJobConveyor:superClass().start( self , farmId)\n\n    -- Client start notification will be done by vehicle\n    if self.isServer then\n        local vehicle = self.vehicleParameter:getVehicle()\n        vehicle:aiJobStarted( self , self.helperIndex, farmId)\n    end\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"stop",children:"stop"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"stop()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"aiMessage"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function AIJobConveyor:stop(aiMessage)\n    -- Client stop notifcation will be done by vehicle\n    if self.isServer then\n        local vehicle = self.vehicleParameter:getVehicle()\n        vehicle:aiJobFinished()\n    end\n\n    AIJobConveyor:superClass().stop( self , aiMessage)\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"validate",children:"validate"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"validate()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"farmId"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function AIJobConveyor:validate(farmId)\n    self:setParameterValid( true )\n\n    local isValid, errorMessage = self.vehicleParameter:validate( false )\n    if not isValid then\n        self.vehicleParameter:setIsValid( false )\n    end\n\n    return isValid, errorMessage\nend\n\n"})})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}}}]);