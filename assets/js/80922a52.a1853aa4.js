"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[63187],{28453(e,n,l){l.d(n,{R:()=>d,x:()=>r});var i=l(96540);const s={},t=i.createContext(s);function d(e){const n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),i.createElement(t.Provider,{value:n},e.children)}},87133(e,n,l){l.r(n),l.d(n,{assets:()=>o,contentTitle:()=>r,default:()=>h,frontMatter:()=>d,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"script/GUI/VideoElement","title":"VideoElement","description":"VideoElement","source":"@site/../docs/script/GUI/VideoElement.md","sourceDirName":"script/GUI","slug":"/script/GUI/VideoElement","permalink":"/FS25-Community-LUADOC/script/GUI/VideoElement","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"VariableWorkWidthHUDExtension","permalink":"/FS25-Community-LUADOC/script/GUI/VariableWorkWidthHUDExtension"},"next":{"title":"WardrobeScreen","permalink":"/FS25-Community-LUADOC/script/GUI/WardrobeScreen"}}');var s=l(74848),t=l(28453);const d={},r=void 0,o={},c=[{value:"VideoElement",id:"videoelement",level:2},{value:"changeVideo",id:"changevideo",level:3},{value:"copyAttributes",id:"copyattributes",level:3},{value:"delete",id:"delete",level:3},{value:"disposeVideo",id:"disposevideo",level:3},{value:"draw",id:"draw",level:3},{value:"getIsActive",id:"getisactive",level:3},{value:"keyEvent",id:"keyevent",level:3},{value:"loadFromXML",id:"loadfromxml",level:3},{value:"loadProfile",id:"loadprofile",level:3},{value:"loadSubtitles",id:"loadsubtitles",level:3},{value:"mouseEvent",id:"mouseevent",level:3},{value:"new",id:"new",level:3},{value:"onEndVideo",id:"onendvideo",level:3},{value:"playVideo",id:"playvideo",level:3},{value:"stopVideo",id:"stopvideo",level:3},{value:"update",id:"update",level:3}];function a(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"videoelement",children:"VideoElement"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Plays back a video."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Parent"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"?version=script&category=43&class=512",children:"GuiElement"})}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Functions"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#changevideo",children:"changeVideo"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#copyattributes",children:"copyAttributes"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#delete",children:"delete"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#disposevideo",children:"disposeVideo"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#draw",children:"draw"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getisactive",children:"getIsActive"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#keyevent",children:"keyEvent"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#loadfromxml",children:"loadFromXML"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#loadprofile",children:"loadProfile"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#loadsubtitles",children:"loadSubtitles"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#mouseevent",children:"mouseEvent"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#new",children:"new"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onendvideo",children:"onEndVideo"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#playvideo",children:"playVideo"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#stopvideo",children:"stopVideo"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#update",children:"update"})}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"changevideo",children:"changeVideo"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"changeVideo()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"newVideoFilename"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"volume"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"duration"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function VideoElement:changeVideo(newVideoFilename, volume, duration)\n    self:disposeVideo()\n\n    self.videoFilename = newVideoFilename\n    if self.videoFilename ~ = nil then\n        local videoFilename = string.gsub( self.videoFilename, "$l10nSuffix" , g_languageSuffix)\n        self.overlay = createVideoOverlay(videoFilename, self.isLooping, volume or self.volume)\n\n        self.duration = duration\n\n        self:loadSubtitles(videoFilename)\n    end\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"copyattributes",children:"copyAttributes"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"copyAttributes()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"src"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function VideoElement:copyAttributes(src)\n    VideoElement:superClass().copyAttributes( self , src)\n\n    self:changeVideo(src.videoFilename)\n    self.volume = src.volume\n    self.allowStop = src.allowStop\n    self.isLooping = src.isLooping\n    self.onEndVideoCallback = src.onEndVideoCallback\n    self.subtitles = src.subtitles\n    self.subtitleElementId = src.subtitleElementId\n    self.playbackBarElementId = src.playbackBarElementId\n    self.timeLeftElementId = src.timeLeftElementId\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"delete",children:"delete"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"delete()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function VideoElement:delete()\n    self:disposeVideo()\n    VideoElement:superClass().delete( self )\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"disposevideo",children:"disposeVideo"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"disposeVideo()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function VideoElement:disposeVideo()\n    if self.overlay ~ = nil then\n        self:stopVideo()\n        delete( self.overlay)\n        self.overlay = nil\n    end\n    if self.subtitlesElement ~ = nil then\n        self.subtitlesElement:setText( "" )\n    end\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"draw",children:"draw"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"draw()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"clipX1"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"clipY1"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"clipX2"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"clipY2"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function VideoElement:draw(clipX1, clipY1, clipX2, clipY2)\n    if self.overlay ~ = nil then\n        if isVideoOverlayReadyToPlay( self.overlay) then\n            if isVideoOverlayPlaying( self.overlay) then\n                renderOverlay( self.overlay, self.absPosition[ 1 ], self.absPosition[ 2 ], self.size[ 1 ], self.size[ 2 ])\n            end\n        else\n                setTextColor( 1 , 1 , 1 , 1 )\n                setTextBold( true )\n                setTextAlignment(RenderText.ALIGN_CENTER)\n                local textSize = getCorrectTextSize( 0.02 )\n                renderText( self.absPosition[ 1 ] + self.size[ 1 ] * 0.5 , self.absPosition[ 2 ] + self.size[ 2 ] * 0.5 , textSize, g_i18n:getText( "ui_loading" ))\n                setTextBold( false )\n                setTextAlignment(RenderText.ALIGN_LEFT)\n            end\n        end\n        VideoElement:superClass().draw( self , clipX1, clipY1, clipX2, clipY2)\n    end\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"getisactive",children:"getIsActive"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getIsActive()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function VideoElement:getIsActive()\n    return self:getIsVisible()\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"keyevent",children:"keyEvent"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"keyEvent()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"unicode"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"sym"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"modifier"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"isDown"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"eventUsed"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function VideoElement:keyEvent(unicode, sym, modifier, isDown, eventUsed)\n    if self:getIsActive() then\n        VideoElement:superClass().keyEvent( self , unicode, sym, modifier, isDown, eventUsed)\n\n        if isDown then\n            if self.overlay ~ = nil then\n                self:disposeVideo()\n                self:onEndVideo()\n            end\n        end\n\n        return true\n    end\n\n    return eventUsed\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"loadfromxml",children:"loadFromXML"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"loadFromXML()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"xmlFile"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"key"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function VideoElement:loadFromXML(xmlFile, key)\n    VideoElement:superClass().loadFromXML( self , xmlFile, key)\n\n    self.videoFilename = getXMLString(xmlFile, key .. "#videoFilename" ) or self.videoFilename\n    self.volume = getXMLFloat(xmlFile, key .. "#volume" ) or self.volume\n    self.allowStop = Utils.getNoNil(getXMLBool(xmlFile, key .. "#allowStop" ), self.allowStop)\n    self.isLooping = Utils.getNoNil(getXMLBool(xmlFile, key .. "#isLooping" ), self.isLooping)\n    self.subtitleElementId = getXMLString(xmlFile, key .. "#subtitleElementId" ) or self.subtitleElementId\n    self.playbackBarElementId = Utils.getNoNil(getXMLString(xmlFile, key .. "#playbackBarElementId" ), self.playbackBarElementId)\n    self.timeLeftElementId = Utils.getNoNil(getXMLString(xmlFile, key .. "#timeLeftElementId" ), self.timeLeftElementId)\n\n    self:addCallback(xmlFile, key .. "#onEndVideo" , "onEndVideoCallback" )\n\n    self:changeVideo( self.videoFilename)\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"loadprofile",children:"loadProfile"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"loadProfile()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"profile"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"applyProfile"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function VideoElement:loadProfile(profile, applyProfile)\n    VideoElement:superClass().loadProfile( self , profile, applyProfile)\n\n    self.videoFilename = profile:getValue( "videoFilename" , self.videoFilename)\n    self.volume = profile:getNumber( "volume" , self.volume)\n    self.allowStop = profile:getBool( "allowStop" , self.allowStop)\n    self.isLooping = profile:getBool( "isLooping" , self.isLooping)\n    self.subtitleElementId = profile:getValue( "subtitleElementId" , self.subtitleElementId)\n    self.playbackBarElementId = profile:getValue( "playbackBarElementId" , self.playbackBarElementId)\n    self.timeLeftElementId = profile:getValue( "timeLeftElementId" , self.timeLeftElementId)\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"loadsubtitles",children:"loadSubtitles"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"loadSubtitles()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"filename"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function VideoElement:loadSubtitles(filename)\n    if filename ~ = nil then\n        local cleanName = Utils.getFilenameInfo( self.videoFilename)\n\n        if cleanName ~ = nil then\n            local xmlFile = XMLFile.loadIfExists( "Subtitles" , cleanName .. ".xml" )\n\n            if xmlFile ~ = nil then\n                self.subtitles = { }\n\n                xmlFile:iterate( "Subtitles.Subtitle" , function (_, key)\n                    local subtitle = { }\n\n                    subtitle.startTime = xmlFile:getFloat(key .. "#startTime" )\n                    subtitle.endTime = xmlFile:getFloat(key .. "#endTime" )\n                    subtitle.text = g_i18n:convertText(xmlFile:getString(key .. "#text" ))\n\n                    if subtitle.startTime ~ = nil and subtitle.endTime ~ = nil and subtitle.text ~ = nil then\n                        table.insert( self.subtitles, subtitle)\n                    end\n                end )\n            end\n        end\n    end\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"mouseevent",children:"mouseEvent"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"mouseEvent()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"posX"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"posY"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"isDown"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"isUp"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"button"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"eventUsed"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function VideoElement:mouseEvent(posX, posY, isDown, isUp, button, eventUsed)\n    if self:getIsActive() then\n        if VideoElement:superClass().mouseEvent( self , posX, posY, isDown, isUp, button, eventUsed) then\n            eventUsed = true\n        end\n\n        if not eventUsed and self.allowStop then\n            local ret = true\n\n            if isDown then\n                if self.overlay ~ = nil then\n                    self:disposeVideo()\n                    self:onEndVideo()\n                end\n            end\n\n            return ret\n        end\n    end\n\n    return eventUsed\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"new",children:"new"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"new()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"target"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"custom_mt"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function VideoElement.new(target, custom_mt)\n    local self = VideoElement:superClass().new(target, custom_mt or VideoElement _mt)\n\n    self.videoFilename = nil\n    self.allowStop = true\n    self.isLooping = false\n    self.volume = 1.0\n    self.duration = 0\n\n    self.subtitles = { }\n    self.subtitlesElement = nil\n    self.subtitleElementId = nil\n    self.currentSubtitleIndex = 0\n\n    self.playbackBarElement = nil\n    self.playbackBarElementId = nil\n\n    self.timeLeftElement = nil\n    self.timeLeftElementId = nil\n\n    return self\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onendvideo",children:"onEndVideo"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onEndVideo()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function VideoElement:onEndVideo()\n    if self.onEndVideoCallback ~ = nil then\n        if self.target ~ = nil then\n            self.onEndVideoCallback( self.target)\n        else\n                self.onEndVideoCallback()\n            end\n        end\n    end\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"playvideo",children:"playVideo"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"playVideo()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function VideoElement:playVideo()\n    if self.overlay ~ = nil then\n        self.playPending = true\n        self.currentSubtitleIndex = 0\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"stopvideo",children:"stopVideo"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"stopVideo()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function VideoElement:stopVideo()\n    self.playPending = false\n    if self.overlay ~ = nil and isVideoOverlayPlaying( self.overlay) then\n        stopVideoOverlay( self.overlay)\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"update",children:"update"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"update()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"dt"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function VideoElement:update(dt)\n    VideoElement:superClass().update( self , dt)\n\n    if self.overlay = = nil then\n        return\n    end\n\n    if not isVideoOverlayReadyToPlay( self.overlay) then\n        return\n    end\n\n    if self.playPending then\n        playVideoOverlay( self.overlay)\n        self.playPending = false\n    end\n\n    if isVideoOverlayPlaying( self.overlay) then\n        updateVideoOverlay( self.overlay)\n\n        if self.subtitlesElement ~ = nil then\n            local videoCurrentTime = getVideoOverlayCurrentTime( self.overlay)\n            local currentSubtitle = self.subtitles[ self.currentSubtitleIndex]\n\n            if videoCurrentTime ~ = nil and currentSubtitle ~ = nil and videoCurrentTime > = currentSubtitle.endTime then\n                self.subtitlesElement:setText( "" )\n            end\n\n            if currentSubtitle = = nil or videoCurrentTime > = currentSubtitle.endTime then\n                for index = self.currentSubtitleIndex + 1 , # self.subtitles do\n                    local subtitle = self.subtitles[index]\n\n                    if videoCurrentTime > = subtitle.startTime and videoCurrentTime < = subtitle.endTime then\n                        self.subtitlesElement:setText(subtitle.text)\n                        self.currentSubtitleIndex = index\n                        break\n                    end\n                end\n            end\n        end\n\n        if self.playbackBarElement ~ = nil then\n            local currentTime = getVideoOverlayCurrentTime( self.overlay) or 1\n            local playbackTime = math.min(currentTime / self.duration, 1 )\n\n            self.playbackBarElement.absSize[ 1 ] = self.playbackBarElement.size[ 1 ] * playbackTime\n        end\n\n        if self.timeLeftElement ~ = nil then\n            local currentTime = getVideoOverlayCurrentTime( self.overlay) or 1\n            local timeLeft = math.max( 0 , self.duration - currentTime)\n\n            local timeLeftMinutes = math.floor(timeLeft / 60 )\n            local timeLeftSeconds = timeLeft % 60\n\n            self.timeLeftElement:setText( string.format( "-%02d:%02d" , timeLeftMinutes, timeLeftSeconds))\n        end\n    else\n            self:disposeVideo()\n            self:onEndVideo()\n        end\n    end\n\n'})})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}}}]);