"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[51843],{25088(e,n,i){i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>s,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"script/Specializations/Cultivator","title":"Cultivator","description":"Cultivator","source":"@site/../docs/script/Specializations/Cultivator.md","sourceDirName":"script/Specializations","slug":"/script/Specializations/Cultivator","permalink":"/FS25-Community-LUADOC/script/Specializations/Cultivator","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"CropSensor","permalink":"/FS25-Community-LUADOC/script/Specializations/CropSensor"},"next":{"title":"Cutter","permalink":"/FS25-Community-LUADOC/script/Specializations/Cutter"}}');var t=i(74848),l=i(28453);const s={},a=void 0,c={},d=[{value:"Cultivator",id:"cultivator",level:2},{value:"doCheckSpeedLimit",id:"docheckspeedlimit",level:3},{value:"getAIImplementUseVineSegment",id:"getaiimplementusevinesegment",level:3},{value:"getCultivatorLimitToField",id:"getcultivatorlimittofield",level:3},{value:"getDefaultSpeedLimit",id:"getdefaultspeedlimit",level:3},{value:"getDirtMultiplier",id:"getdirtmultiplier",level:3},{value:"getIsWorkAreaActive",id:"getisworkareaactive",level:3},{value:"getUseCultivatorAIRequirements",id:"getusecultivatorairequirements",level:3},{value:"getWearMultiplier",id:"getwearmultiplier",level:3},{value:"initSpecialization",id:"initspecialization",level:3},{value:"loadWorkAreaFromXML",id:"loadworkareafromxml",level:3},{value:"loadWorkModeFromXML",id:"loadworkmodefromxml",level:3},{value:"onDeactivate",id:"ondeactivate",level:3},{value:"onDelete",id:"ondelete",level:3},{value:"onEndWorkAreaProcessing",id:"onendworkareaprocessing",level:3},{value:"onLoad",id:"onload",level:3},{value:"onPostAttach",id:"onpostattach",level:3},{value:"onStartWorkAreaProcessing",id:"onstartworkareaprocessing",level:3},{value:"onStateChange",id:"onstatechange",level:3},{value:"onWorkModeChanged",id:"onworkmodechanged",level:3},{value:"prerequisitesPresent",id:"prerequisitespresent",level:3},{value:"processCultivatorArea",id:"processcultivatorarea",level:3},{value:"processVineCultivatorArea",id:"processvinecultivatorarea",level:3},{value:"registerEventListeners",id:"registereventlisteners",level:3},{value:"registerFunctions",id:"registerfunctions",level:3},{value:"registerOverwrittenFunctions",id:"registeroverwrittenfunctions",level:3},{value:"updateCultivatorAIRequirements",id:"updatecultivatorairequirements",level:3}];function o(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"cultivator",children:"Cultivator"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Specialization for all cultivators, requires WorkArea specialization"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Functions"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#docheckspeedlimit",children:"doCheckSpeedLimit"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#getaiimplementusevinesegment",children:"getAIImplementUseVineSegment"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#getcultivatorlimittofield",children:"getCultivatorLimitToField"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#getdefaultspeedlimit",children:"getDefaultSpeedLimit"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#getdirtmultiplier",children:"getDirtMultiplier"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#getisworkareaactive",children:"getIsWorkAreaActive"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#getusecultivatorairequirements",children:"getUseCultivatorAIRequirements"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#getwearmultiplier",children:"getWearMultiplier"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#initspecialization",children:"initSpecialization"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#loadworkareafromxml",children:"loadWorkAreaFromXML"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#loadworkmodefromxml",children:"loadWorkModeFromXML"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#ondeactivate",children:"onDeactivate"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#ondelete",children:"onDelete"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#onendworkareaprocessing",children:"onEndWorkAreaProcessing"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#onload",children:"onLoad"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#onpostattach",children:"onPostAttach"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#onstartworkareaprocessing",children:"onStartWorkAreaProcessing"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#onstatechange",children:"onStateChange"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#onworkmodechanged",children:"onWorkModeChanged"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#prerequisitespresent",children:"prerequisitesPresent"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#processcultivatorarea",children:"processCultivatorArea"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#processvinecultivatorarea",children:"processVineCultivatorArea"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#registereventlisteners",children:"registerEventListeners"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#registerfunctions",children:"registerFunctions"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#registeroverwrittenfunctions",children:"registerOverwrittenFunctions"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#updatecultivatorairequirements",children:"updateCultivatorAIRequirements"})}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"docheckspeedlimit",children:"doCheckSpeedLimit"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Returns if speed limit should be checked"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"doCheckSpeedLimit()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"checkSpeedlimit"}),(0,t.jsx)(n.th,{children:"check speed limit"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function Cultivator:doCheckSpeedLimit(superFunc)\n    return superFunc( self ) or self:getIsImplementChainLowered()\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"getaiimplementusevinesegment",children:"getAIImplementUseVineSegment"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"getAIImplementUseVineSegment()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"superFunc"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"placeable"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"segment"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"segmentSide"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function Cultivator:getAIImplementUseVineSegment(superFunc, placeable, segment, segmentSide)\n    local startWorldX, startWorldZ, widthWorldX, widthWorldZ, heightWorldX, heightWorldZ = placeable:getSegmentSideArea(segment, segmentSide)\n\n    local area, areaTotal = AIVehicleUtil.getAIAreaOfVehicle( self , startWorldX, startWorldZ, widthWorldX, widthWorldZ, heightWorldX, heightWorldZ)\n    if areaTotal > 0 then\n        return(area / areaTotal) > 0.01\n    end\n\n    return false\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"getcultivatorlimittofield",children:"getCultivatorLimitToField"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Returns if cultivator is limited to the field"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"getCultivatorLimitToField()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"isLimited"}),(0,t.jsx)(n.th,{children:"is limited to field"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function Cultivator:getCultivatorLimitToField()\n    return self.spec_cultivator.limitToField\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"getdefaultspeedlimit",children:"getDefaultSpeedLimit"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Returns default speed limit"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"getDefaultSpeedLimit()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"speedLimit"}),(0,t.jsx)(n.th,{children:"speed limit"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function Cultivator.getDefaultSpeedLimit()\n    return 15\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"getdirtmultiplier",children:"getDirtMultiplier"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Returns current dirt multiplier"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"getDirtMultiplier()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"dirtMultiplier"}),(0,t.jsx)(n.th,{children:"current dirt multiplier"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function Cultivator:getDirtMultiplier(superFunc)\n    local spec = self.spec_cultivator\n\n    local multiplier = superFunc( self )\n    if spec.isWorking then\n        multiplier = multiplier + self:getWorkDirtMultiplier() * self:getLastSpeed() / spec.speedLimit\n    end\n\n    return multiplier\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"getisworkareaactive",children:"getIsWorkAreaActive"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"getIsWorkAreaActive()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"superFunc"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"workArea"})]})})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function Cultivator:getIsWorkAreaActive(superFunc, workArea)\n    if workArea.type = = WorkAreaType.CULTIVATOR then\n        local spec = self.spec_cultivator\n\n        if spec.startActivationTime > g_currentMission.time then\n            return false\n        end\n\n        if spec.onlyActiveWhenLowered and self.getIsLowered ~ = nil then\n            if not self:getIsLowered( false ) then\n                return false\n            end\n        end\n    end\n\n    return superFunc( self , workArea)\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"getusecultivatorairequirements",children:"getUseCultivatorAIRequirements"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Returns if cultivator ai requirements should be used"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"getUseCultivatorAIRequirements()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"useAIRequirements"}),(0,t.jsx)(n.th,{children:"use ai requirements"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function Cultivator:getUseCultivatorAIRequirements()\n    return true\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"getwearmultiplier",children:"getWearMultiplier"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Returns current wear multiplier"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"getWearMultiplier()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"dirtMultiplier"}),(0,t.jsx)(n.th,{children:"current wear multiplier"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function Cultivator:getWearMultiplier(superFunc)\n    local spec = self.spec_cultivator\n    local multiplier = superFunc( self )\n\n    if spec.isWorking then\n        multiplier = multiplier + self:getWorkWearMultiplier() * self:getLastSpeed() / spec.speedLimit\n    end\n\n    return multiplier\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"initspecialization",children:"initSpecialization"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Called on specialization initializing"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"initSpecialization()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function Cultivator.initSpecialization()\n    g_workAreaTypeManager:addWorkAreaType( "cultivator" , true , true , true )\n\n    local schema = Vehicle.xmlSchema\n    schema:setXMLSpecializationType( "Cultivator" )\n\n    schema:register(XMLValueType.NODE_INDEX, "vehicle.cultivator.directionNode#node" , "Direction node" )\n    schema:register(XMLValueType.BOOL, "vehicle.cultivator.onlyActiveWhenLowered#value" , "Only active when lowered" , true )\n    schema:register(XMLValueType.BOOL, "vehicle.cultivator#isSubsoiler" , "Is subsoiler" , false )\n    schema:register(XMLValueType.BOOL, "vehicle.cultivator#useDeepMode" , "If true the implement acts like a cultivator.If false it\'s a discharrow or seedbed combination" , true )\n    schema:register(XMLValueType.BOOL, "vehicle.cultivator#isPowerHarrow" , "If this is set the cultivator works standalone like a cultivator, but as soon as a sowing machine is attached to it, it\'s only using the sowing machine" , false )\n\n    SoundManager.registerSampleXMLPaths(schema, "vehicle.cultivator.sounds" , "work(?)" )\n\n    schema:addDelayedRegistrationFunc( "WorkMode:workMode" , function (cSchema, cKey)\n        cSchema:register(XMLValueType.BOOL, cKey .. "#useDeepMode" , "If true the implement acts like a cultivator.If false it\'s a discharrow or seedbed combination" )\n    end )\n\n    schema:setXMLSpecializationType()\nend\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"loadworkareafromxml",children:"loadWorkAreaFromXML"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Loads work areas from xml"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"loadWorkAreaFromXML(table workArea, integer xmlFile, string key, )"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"table"}),(0,t.jsx)(n.th,{children:"workArea"}),(0,t.jsx)(n.th,{children:"workArea"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"integer"}),(0,t.jsx)(n.td,{children:"xmlFile"}),(0,t.jsx)(n.td,{children:"id of xml object"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"string"}),(0,t.jsx)(n.td,{children:"key"}),(0,t.jsx)(n.td,{children:"key"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"key"}),(0,t.jsx)(n.td,{})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"success"}),(0,t.jsx)(n.th,{children:"success"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function Cultivator:loadWorkAreaFromXML(superFunc, workArea, xmlFile, key)\n    local retValue = superFunc( self , workArea, xmlFile, key)\n\n    if workArea.type = = WorkAreaType.DEFAULT then\n        workArea.type = WorkAreaType.CULTIVATOR\n    end\n\n    return retValue\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"loadworkmodefromxml",children:"loadWorkModeFromXML"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"loadWorkModeFromXML()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"superFunc"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"xmlFile"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"key"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"workMode"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function Cultivator:loadWorkModeFromXML(superFunc, xmlFile, key, workMode)\n    if not superFunc( self , xmlFile, key, workMode) then\n        return false\n    end\n\n    workMode.useDeepMode = xmlFile:getValue(key .. "#useDeepMode" )\n\n    return true\nend\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"ondeactivate",children:"onDeactivate"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"onDeactivate()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function Cultivator:onDeactivate()\n    if self.isClient then\n        local spec = self.spec_cultivator\n        g_soundManager:stopSamples(spec.samples.work)\n        spec.isWorkSamplePlaying = false\n    end\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"ondelete",children:"onDelete"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Called on deleting"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"onDelete()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function Cultivator:onDelete()\n    local spec = self.spec_cultivator\n    if spec.samples ~ = nil then\n        g_soundManager:deleteSamples(spec.samples.work)\n    end\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"onendworkareaprocessing",children:"onEndWorkAreaProcessing"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"onEndWorkAreaProcessing()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"dt"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function Cultivator:onEndWorkAreaProcessing(dt)\n    local spec = self.spec_cultivator\n\n    if self.isServer then\n        local farmId = self:getLastTouchedFarmlandFarmId()\n        local lastStatsArea = spec.workAreaParameters.lastStatsArea\n\n        if lastStatsArea > 0 then\n            local ha = MathUtil.areaToHa(lastStatsArea, g_currentMission:getFruitPixelsToSqm()) -- 4096px are mapped to 2048m\n            g_farmManager:updateFarmStats(farmId, "cultivatedHectares" , ha)\n            self:updateLastWorkedArea(lastStatsArea)\n        end\n\n        if spec.isWorking then\n            g_farmManager:updateFarmStats(farmId, "cultivatedTime" , dt / ( 1000 * 60 ))\n        end\n    end\n\n    if self.isClient then\n        if spec.isWorking then\n            if not spec.isWorkSamplePlaying then\n                g_soundManager:playSamples(spec.samples.work)\n                spec.isWorkSamplePlaying = true\n            end\n        else\n                if spec.isWorkSamplePlaying then\n                    g_soundManager:stopSamples(spec.samples.work)\n                    spec.isWorkSamplePlaying = false\n                end\n            end\n        end\n    end\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"onload",children:"onLoad"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Called on loading"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"onLoad(table savegame)"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"table"}),(0,t.jsx)(n.th,{children:"savegame"}),(0,t.jsx)(n.th,{children:"savegame"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function Cultivator:onLoad(savegame)\n\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.cultivator.directionNode#index" , "vehicle.cultivator.directionNode#node" ) --FS17 to FS19\n\n    if self:getGroundReferenceNodeFromIndex( 1 ) = = nil then\n        printWarning( "Warning:No ground reference nodes in " .. self.configFileName)\n    end\n\n    local spec = self.spec_cultivator\n\n    if self.isClient then\n        spec.samples = { }\n        spec.samples.work = g_soundManager:loadSamplesFromXML( self.xmlFile, "vehicle.cultivator.sounds" , "work" , self.baseDirectory, self.components, 0 , AudioGroup.VEHICLE, self.i3dMappings, self )\n        spec.isWorkSamplePlaying = false\n    end\n\n    spec.directionNode = self.xmlFile:getValue( "vehicle.cultivator.directionNode#node" , self.components[ 1 ].node, self.components, self.i3dMappings)\n    spec.onlyActiveWhenLowered = self.xmlFile:getValue( "vehicle.cultivator.onlyActiveWhenLowered#value" , true )\n    spec.isSubsoiler = self.xmlFile:getValue( "vehicle.cultivator#isSubsoiler" , false )\n    spec.isPowerHarrow = self.xmlFile:getValue( "vehicle.cultivator#isPowerHarrow" , false )\n    spec.useDeepMode = self.xmlFile:getValue( "vehicle.cultivator#useDeepMode" , true )\n\n    self:updateCultivatorAIRequirements()\n\n    spec.isEnabled = true\n    spec.startActivationTimeout = 2000\n    spec.startActivationTime = 0\n    spec.hasGroundContact = false\n    spec.isWorking = false\n    spec.limitToField = true\n\n    spec.workAreaParameters = { }\n    spec.workAreaParameters.limitToField = self:getCultivatorLimitToField()\n    spec.workAreaParameters.angle = 0\n    spec.workAreaParameters.lastChangedArea = 0\n    spec.workAreaParameters.lastStatsArea = 0\n    spec.workAreaParameters.lastTotalArea = 0\nend\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"onpostattach",children:"onPostAttach"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Called if vehicle gets attached"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"onPostAttach(table attacherVehicle, integer inputJointDescIndex, integer jointDescIndex)"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"table"}),(0,t.jsx)(n.th,{children:"attacherVehicle"}),(0,t.jsx)(n.th,{children:"attacher vehicle"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"integer"}),(0,t.jsx)(n.td,{children:"inputJointDescIndex"}),(0,t.jsx)(n.td,{children:"index of input attacher joint"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"integer"}),(0,t.jsx)(n.td,{children:"jointDescIndex"}),(0,t.jsx)(n.td,{children:"index of attacher joint it gets attached to"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function Cultivator:onPostAttach(attacherVehicle, inputJointDescIndex, jointDescIndex)\n    local spec = self.spec_cultivator\n    spec.startActivationTime = g_currentMission.time + spec.startActivationTimeout\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"onstartworkareaprocessing",children:"onStartWorkAreaProcessing"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"onStartWorkAreaProcessing()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"dt"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function Cultivator:onStartWorkAreaProcessing(dt)\n    local spec = self.spec_cultivator\n\n    spec.isWorking = false\n\n    local limitToField = self:getCultivatorLimitToField()\n    local limitFruitDestructionToField = limitToField\n    if not g_currentMission:getHasPlayerPermission( "createFields" , self:getOwnerConnection()) then\n        limitToField = true\n        limitFruitDestructionToField = true\n    end\n\n    local dx,_,dz = localDirectionToWorld(spec.directionNode, 0 , 0 , 1 )\n    local angle = FSDensityMapUtil.convertToDensityMapAngle( MathUtil.getYRotationFromDirection(dx, dz), g_currentMission.fieldGroundSystem:getGroundAngleMaxValue())\n\n    spec.workAreaParameters.limitToField = limitToField\n    spec.workAreaParameters.limitFruitDestructionToField = limitFruitDestructionToField\n    spec.workAreaParameters.angle = angle\n    spec.workAreaParameters.lastChangedArea = 0\n    spec.workAreaParameters.lastStatsArea = 0\n    spec.workAreaParameters.lastTotalArea = 0\nend\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"onstatechange",children:"onStateChange"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"onStateChange()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"state"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"data"})]})})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function Cultivator:onStateChange(state, data)\n    if state = = VehicleStateChange.ATTACH or state = = VehicleStateChange.DETACH or state = = VehicleStateChange.AI_START_LINE then\n        self:updateCultivatorAIRequirements()\n        self:updateCultivatorEnabledState()\n    end\n\n    -- turn on attached sowing machines while we turn on the power harrow and vice versa\n        if self.isServer then\n            if state = = VehicleStateChange.TURN_ON or state = = VehicleStateChange.TURN_OFF then\n                local spec = self.spec_cultivator\n                if spec.isPowerHarrow then\n                    if data = = self and self.getAttachedImplements ~ = nil then\n                        for _, implement in pairs( self:getAttachedImplements()) do\n                            local vehicle = implement.object\n                            if vehicle ~ = nil then\n                                if state = = VehicleStateChange.TURN_ON then\n                                    vehicle:setIsTurnedOn( true )\n                                else\n                                        if vehicle:getIsTurnedOn() then\n                                            vehicle:setIsTurnedOn( false )\n                                        end\n                                    end\n                                end\n                            end\n                        elseif data.getAttacherVehicle ~ = nil then\n                                local attacherVehicle = data:getAttacherVehicle()\n                                if attacherVehicle ~ = nil then\n                                    if attacherVehicle = = self then\n                                        if state = = VehicleStateChange.TURN_ON then\n                                            self:setIsTurnedOn( true )\n                                        else\n                                                if self:getIsTurnedOn() then\n                                                    self:setIsTurnedOn( false )\n                                                end\n                                            end\n                                        end\n                                    end\n                                end\n                            end\n                        end\n                    end\n                end\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"onworkmodechanged",children:"onWorkModeChanged"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"onWorkModeChanged()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"workMode"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"oldWorkMode"})]})})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function Cultivator:onWorkModeChanged(workMode, oldWorkMode)\n    if workMode.useDeepMode ~ = nil then\n        self.spec_cultivator.useDeepMode = workMode.useDeepMode\n        self:updateCultivatorAIRequirements()\n    end\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"prerequisitespresent",children:"prerequisitesPresent"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Checks if all prerequisite specializations are loaded"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"prerequisitesPresent(table specializations)"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"table"}),(0,t.jsx)(n.th,{children:"specializations"}),(0,t.jsx)(n.th,{children:"specializations"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"table"}),(0,t.jsx)(n.th,{children:"hasPrerequisite"}),(0,t.jsx)(n.th,{children:"true if all prerequisite specializations are loaded"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function Cultivator.prerequisitesPresent(specializations)\n    return SpecializationUtil.hasSpecialization( WorkArea , specializations)\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"processcultivatorarea",children:"processCultivatorArea"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"processCultivatorArea()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"workArea"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"dt"})]})})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function Cultivator:processCultivatorArea(workArea, dt)\n    local spec = self.spec_cultivator\n\n    local realArea, area = 0 , 0\n    local xs,_,zs = getWorldTranslation(workArea.start)\n    local xw,_,zw = getWorldTranslation(workArea.width)\n    local xh,_,zh = getWorldTranslation(workArea.height)\n\n    FSDensityMapUtil.eraseTireTrack(xs, zs, xw, zw, xh, zh)\n\n    if not self.isServer and self.currentUpdateDistance > Cultivator.CLIENT_DM_UPDATE_RADIUS then\n        return 0 , 0\n    end\n\n    if spec.isEnabled then\n        local params = spec.workAreaParameters\n\n        if spec.useDeepMode then\n            realArea, area = FSDensityMapUtil.updateCultivatorArea(xs,zs, xw,zw, xh,zh, not params.limitToField, params.limitFruitDestructionToField, params.angle, nil )\n            realArea = realArea + FSDensityMapUtil.updateVineCultivatorArea(xs, zs, xw, zw, xh, zh, true )\n        else\n                realArea, area = FSDensityMapUtil.updateDiscHarrowArea(xs,zs, xw,zw, xh,zh, not params.limitToField, params.limitFruitDestructionToField, params.angle, nil )\n                realArea = realArea + FSDensityMapUtil.updateVineCultivatorArea(xs, zs, xw, zw, xh, zh, true )\n            end\n\n            params.lastChangedArea = params.lastChangedArea + realArea\n            params.lastStatsArea = params.lastStatsArea + realArea\n            params.lastTotalArea = params.lastTotalArea + area\n        end\n\n        if spec.isSubsoiler then\n            FSDensityMapUtil.updateSubsoilerArea(xs, zs, xw, zw, xh, zh)\n        end\n\n        spec.isWorking = self:getLastSpeed() > 0.5\n\n        return realArea, area\n    end\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"processvinecultivatorarea",children:"processVineCultivatorArea"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"processVineCultivatorArea()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"workArea"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"dt"})]})})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function Cultivator:processVineCultivatorArea(workArea, dt)\n    local spec = self.spec_cultivator\n\n    if not self.isServer and self.currentUpdateDistance > Cultivator.CLIENT_DM_UPDATE_RADIUS then\n        return 0 , 0\n    end\n\n    if spec.isEnabled then\n        local xs, _, zs = getWorldTranslation(workArea.start)\n        local xw, _, zw = getWorldTranslation(workArea.width)\n        local xh, _, zh = getWorldTranslation(workArea.height)\n\n        FSDensityMapUtil.updateVineCultivatorArea(xs, zs, xw, zw, xh, zh, false )\n    end\n\n    return 0 , 0\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"registereventlisteners",children:"registerEventListeners"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"registerEventListeners()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function Cultivator.registerEventListeners(vehicleType)\n    SpecializationUtil.registerEventListener(vehicleType, "onLoad" , Cultivator )\n    SpecializationUtil.registerEventListener(vehicleType, "onDelete" , Cultivator )\n    SpecializationUtil.registerEventListener(vehicleType, "onPostAttach" , Cultivator )\n    SpecializationUtil.registerEventListener(vehicleType, "onDeactivate" , Cultivator )\n    SpecializationUtil.registerEventListener(vehicleType, "onStartWorkAreaProcessing" , Cultivator )\n    SpecializationUtil.registerEventListener(vehicleType, "onEndWorkAreaProcessing" , Cultivator )\n    SpecializationUtil.registerEventListener(vehicleType, "onStateChange" , Cultivator )\n    SpecializationUtil.registerEventListener(vehicleType, "onWorkModeChanged" , Cultivator )\nend\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"registerfunctions",children:"registerFunctions"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"registerFunctions()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function Cultivator.registerFunctions(vehicleType)\n    SpecializationUtil.registerFunction(vehicleType, "processCultivatorArea" , Cultivator.processCultivatorArea)\n    SpecializationUtil.registerFunction(vehicleType, "processVineCultivatorArea" , Cultivator.processVineCultivatorArea)\n    SpecializationUtil.registerFunction(vehicleType, "getCultivatorLimitToField" , Cultivator.getCultivatorLimitToField)\n    SpecializationUtil.registerFunction(vehicleType, "getUseCultivatorAIRequirements" , Cultivator.getUseCultivatorAIRequirements)\n    SpecializationUtil.registerFunction(vehicleType, "updateCultivatorAIRequirements" , Cultivator.updateCultivatorAIRequirements)\n    SpecializationUtil.registerFunction(vehicleType, "updateCultivatorEnabledState" , Cultivator.updateCultivatorEnabledState)\n    SpecializationUtil.registerFunction(vehicleType, "getIsCultivationEnabled" , Cultivator.getIsCultivationEnabled)\nend\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"registeroverwrittenfunctions",children:"registerOverwrittenFunctions"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"registerOverwrittenFunctions()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function Cultivator.registerOverwrittenFunctions(vehicleType)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "doCheckSpeedLimit" , Cultivator.doCheckSpeedLimit)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getDirtMultiplier" , Cultivator.getDirtMultiplier)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getWearMultiplier" , Cultivator.getWearMultiplier)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "loadWorkAreaFromXML" , Cultivator.loadWorkAreaFromXML)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getIsWorkAreaActive" , Cultivator.getIsWorkAreaActive)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "loadWorkModeFromXML" , Cultivator.loadWorkModeFromXML)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getAIImplementUseVineSegment" , Cultivator.getAIImplementUseVineSegment)\nend\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"updatecultivatorairequirements",children:"updateCultivatorAIRequirements"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Update cultivator ai requirements and optional exclude the given ground type"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"updateCultivatorAIRequirements()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function Cultivator:updateCultivatorAIRequirements()\n    if self:getUseCultivatorAIRequirements() then\n        if self.addAITerrainDetailRequiredRange ~ = nil then\n            local hasSowingMachine = false\n            local excludedType1, excludedType2\n\n            -- for the sowing machine check we only check if the sowing machine is directly attached to the cultivator,\n                -- otherwise we allow the combination as 'direct seeding'\n                local vehicles = self:getChildVehicles()\n                for i = 1 , #vehicles do\n                    if SpecializationUtil.hasSpecialization( SowingMachine , vehicles[i].specializations) then\n                        if vehicles[i]:getAIRequiresTurnOn() or vehicles[i]:getUseSowingMachineAIRequirements() then\n                            hasSowingMachine = true\n                        end\n                    end\n                end\n\n                local vehicles = self.rootVehicle:getChildVehicles()\n                for i = 1 , #vehicles do\n                    if SpecializationUtil.hasSpecialization( Roller , vehicles[i].specializations) then\n                        excludedType1 = FieldGroundType.ROLLER_LINES\n                        excludedType2 = FieldGroundType.ROLLED_SEEDBED\n                    end\n                end\n\n                -- if we also have a active sowing machine attached the sowingMachine is fully handling it\n                    if not hasSowingMachine then\n                        if self.spec_cultivator.useDeepMode then\n                            self:addAIGroundTypeRequirements( Cultivator.AI_REQUIRED_GROUND_TYPES_DEEP, excludedType1, excludedType2)\n                        else\n                                self:addAIGroundTypeRequirements( Cultivator.AI_REQUIRED_GROUND_TYPES_FLAT, excludedType1, excludedType2)\n                            end\n                        else\n                                self:clearAITerrainDetailRequiredRange()\n                            end\n                        end\n                    end\n                end\n\n"})})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},28453(e,n,i){i.d(n,{R:()=>s,x:()=>a});var r=i(96540);const t={},l=r.createContext(t);function s(e){const n=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),r.createElement(l.Provider,{value:n},e.children)}}}]);