"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[88094],{28453(e,n,i){i.d(n,{R:()=>d,x:()=>r});var l=i(96540);const s={},t=l.createContext(s);function d(e){const n=l.useContext(t);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),l.createElement(t.Provider,{value:n},e.children)}},71783(e,n,i){i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>r,default:()=>h,frontMatter:()=>d,metadata:()=>l,toc:()=>c});const l=JSON.parse('{"id":"script/GUI/PagingElement","title":"PagingElement","description":"PagingElement","source":"@site/../docs/script/GUI/PagingElement.md","sourceDirName":"script/GUI","slug":"/script/GUI/PagingElement","permalink":"/FS25-Community-LUADOC/script/GUI/PagingElement","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"OverlayManager","permalink":"/FS25-Community-LUADOC/script/GUI/OverlayManager"},"next":{"title":"PictureElement","permalink":"/FS25-Community-LUADOC/script/GUI/PictureElement"}}');var s=i(74848),t=i(28453);const d={},r=void 0,a={},c=[{value:"PagingElement",id:"pagingelement",level:2},{value:"addElement",id:"addelement",level:3},{value:"copyAttributes",id:"copyattributes",level:3},{value:"getCurrentPageId",id:"getcurrentpageid",level:3},{value:"getIsPageDisabled",id:"getispagedisabled",level:3},{value:"getPageById",id:"getpagebyid",level:3},{value:"getPageMappingIndex",id:"getpagemappingindex",level:3},{value:"loadFromXML",id:"loadfromxml",level:3},{value:"new",id:"new",level:3},{value:"onGuiSetupFinished",id:"onguisetupfinished",level:3},{value:"removeElement",id:"removeelement",level:3},{value:"setPageDisabled",id:"setpagedisabled",level:3},{value:"updatePageMapping",id:"updatepagemapping",level:3}];function g(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"pagingelement",children:"PagingElement"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:'Paging control element.\nOrganizes grouped elements into pages to be displayed one at a time. To set it up, one defines several\nsame-sized container elements (e.g. bare GuiElement) as children of the PagingElement to hold the pages\' contents.\nThe pages should be given #name properties which are resolved to a localization text with a prepended "ui_" prefix.\nOn loading, any named child element of this PagingElement will be added as a page.'}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Parent"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"?version=script&category=43&class=482",children:"GuiElement"})}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Functions"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#addelement",children:"addElement"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#copyattributes",children:"copyAttributes"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getcurrentpageid",children:"getCurrentPageId"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getispagedisabled",children:"getIsPageDisabled"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getpagebyid",children:"getPageById"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getpagemappingindex",children:"getPageMappingIndex"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#loadfromxml",children:"loadFromXML"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#new",children:"new"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onguisetupfinished",children:"onGuiSetupFinished"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#removeelement",children:"removeElement"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#setpagedisabled",children:"setPageDisabled"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#updatepagemapping",children:"updatePageMapping"})}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"addelement",children:"addElement"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"addElement()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"element"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function PagingElement:addElement(element)\n    PagingElement:superClass().addElement( self , element)\n    if element.name ~ = nil and g_i18n:hasText( "ui_" .. element.name) then\n        self:addPage( string.upper(element.name), element, g_i18n:getText( "ui_" .. element.name))\n    else\n            self:addPage( tostring(element), element, "" )\n        end\n    end\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"copyattributes",children:"copyAttributes"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"copyAttributes()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"src"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function PagingElement:copyAttributes(src)\n    PagingElement:superClass().copyAttributes( self , src)\n    self.onPageChangeCallback = src.onPageChangeCallback\n    self.onPageUpdateCallback = src.onPageUpdateCallback\n\n    GuiMixin.cloneMixin( IndexChangeSubjectMixin , src, self )\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getcurrentpageid",children:"getCurrentPageId"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Get the page ID of the currently displayed page."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getCurrentPageId()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function PagingElement:getCurrentPageId()\n    return self.pages[ self.currentPageIndex].id\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getispagedisabled",children:"getIsPageDisabled"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Determine if a page, identified by page ID, is disabled."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getIsPageDisabled()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"pageId"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function PagingElement:getIsPageDisabled(pageId)\n    return self.idPageHash[pageId].disabled\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getpagebyid",children:"getPageById"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Get a page by ID."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getPageById()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"pageId"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function PagingElement:getPageById(pageId)\n    return self.idPageHash[pageId]\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getpagemappingindex",children:"getPageMappingIndex"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Get the index of a page in the page mappings (only visible pages) by page ID."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getPageMappingIndex()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"pageId"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function PagingElement:getPageMappingIndex(pageId)\n    return self.idPageHash[pageId].mappingIndex\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"loadfromxml",children:"loadFromXML"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"loadFromXML()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"xmlFile"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"key"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function PagingElement:loadFromXML(xmlFile, key)\n    PagingElement:superClass().loadFromXML( self , xmlFile, key)\n\n    self:addCallback(xmlFile, key .. "#onPageChange" , "onPageChangeCallback" )\n    self:addCallback(xmlFile, key .. "#onPageUpdate" , "onPageUpdateCallback" )\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"new",children:"new"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"new()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"target"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"custom_mt"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function PagingElement.new(target, custom_mt)\n    if custom_mt = = nil then\n        custom_mt = PagingElement _mt\n    end\n\n    local self = GuiElement.new(target, custom_mt)\n    self:include( IndexChangeSubjectMixin ) -- add index change subject mixin for paging observers\n\n        self.pageIdCount = 1\n\n        self.pages = { } -- list of pages\n        self.idPageHash = { } -- hash of page ID to actual page\n        self.pageMapping = { } -- map of visible page indices to all page indices\n\n        self.currentPageIndex = 1\n        self.currentPageMappingIndex = 1\n\n        return self\n    end\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onguisetupfinished",children:"onGuiSetupFinished"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onGuiSetupFinished()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function PagingElement:onGuiSetupFinished()\n    PagingElement:superClass().onGuiSetupFinished( self )\n    self:updatePageMapping()\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"removeelement",children:"removeElement"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"removeElement()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"element"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function PagingElement:removeElement(element)\n    PagingElement:superClass().removeElement( self , element)\n    self:removePageByElement(element) -- also remove any page using that element as its root node\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"setpagedisabled",children:"setPageDisabled"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"setPageDisabled()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"page"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"disabled"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function PagingElement:setPageDisabled(page, disabled)\n    if page ~ = nil then\n        page.disabled = disabled\n        self:updatePageMapping()\n        self:raiseCallback( "onPageUpdateCallback" , page, self )\n    end\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"updatepagemapping",children:"updatePageMapping"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"updatePageMapping()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function PagingElement:updatePageMapping()\n    self.pageMapping = { }\n    self.pageTitles = { }\n    local currentPage = self.pages[ self.currentPageIndex]\n\n    for i, page in ipairs( self.pages) do\n        if not page.disabled then\n            table.insert( self.pageMapping, i)\n            table.insert( self.pageTitles, page.title)\n            page.mappingIndex = # self.pageMapping\n        else\n                if page = = currentPage then\n                    -- force page resetting\n                    currentPage = nil\n                end\n                page.mappingIndex = 1\n            end\n        end\n\n        if currentPage = = nil then\n            if not self.neuterPageUpdates then\n                if # self.pageMapping > 0 then\n                    self.currentPageMappingIndex = math.clamp( self.currentPageMappingIndex, 1 , # self.pageMapping)\n                    self:setPage( self.currentPageMappingIndex)\n                end\n            end\n        else\n                self:notifyIndexChange( self.currentPageMappingIndex, # self.pageMapping) -- notify change in number of pages\n            end\n        end\n\n"})})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(g,{...e})}):g(e)}}}]);