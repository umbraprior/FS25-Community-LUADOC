"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[41646],{3807(n,e,i){i.r(e),i.d(e,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>l,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"script/Specialization/SpecializationUtil","title":"SpecializationUtil","description":"SpecializationUtil","source":"@site/../docs/script/Specialization/SpecializationUtil.md","sourceDirName":"script/Specialization","slug":"/script/Specialization/SpecializationUtil","permalink":"/FS25-Community-LUADOC/script/Specialization/SpecializationUtil","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"SpecializationManager","permalink":"/FS25-Community-LUADOC/script/Specialization/SpecializationManager"},"next":{"title":"TypeManager","permalink":"/FS25-Community-LUADOC/script/Specialization/TypeManager"}}');var s=i(74848),r=i(28453);const l={},a=void 0,c={},d=[{value:"SpecializationUtil",id:"specializationutil",level:2},{value:"copyTypeFunctionsInto",id:"copytypefunctionsinto",level:3},{value:"createLoadingTask",id:"createloadingtask",level:3},{value:"finishLoadingTask",id:"finishloadingtask",level:3},{value:"getIsValidLoadingStep",id:"getisvalidloadingstep",level:3},{value:"hasSpecialization",id:"hasspecialization",level:3},{value:"initSpecializationsIntoTypeClass",id:"initspecializationsintotypeclass",level:3},{value:"raiseAsyncEvent",id:"raiseasyncevent",level:3},{value:"raiseEvent",id:"raiseevent",level:3},{value:"registerEvent",id:"registerevent",level:3},{value:"registerEventListener",id:"registereventlistener",level:3},{value:"registerFunction",id:"registerfunction",level:3},{value:"registerOverwrittenFunction",id:"registeroverwrittenfunction",level:3},{value:"removeEventListener",id:"removeeventlistener",level:3},{value:"setLoadingStep",id:"setloadingstep",level:3}];function o(n){const e={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.h2,{id:"specializationutil",children:"SpecializationUtil"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Description"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"Specialization util class"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Functions"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#copytypefunctionsinto",children:"copyTypeFunctionsInto"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#createloadingtask",children:"createLoadingTask"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#finishloadingtask",children:"finishLoadingTask"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#getisvalidloadingstep",children:"getIsValidLoadingStep"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#hasspecialization",children:"hasSpecialization"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#initspecializationsintotypeclass",children:"initSpecializationsIntoTypeClass"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#raiseasyncevent",children:"raiseAsyncEvent"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#raiseevent",children:"raiseEvent"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#registerevent",children:"registerEvent"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#registereventlistener",children:"registerEventListener"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#registerfunction",children:"registerFunction"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#registeroverwrittenfunction",children:"registerOverwrittenFunction"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#removeeventlistener",children:"removeEventListener"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#setloadingstep",children:"setLoadingStep"})}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"copytypefunctionsinto",children:"copyTypeFunctionsInto"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Description"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"Copies the functions from the given type into the given target object."}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"copyTypeFunctionsInto(table typeDef, table target)"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"table"}),(0,s.jsx)(e.th,{children:"typeDef"}),(0,s.jsx)(e.th,{children:"The type to copy from."})]})}),(0,s.jsx)(e.tbody,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"table"}),(0,s.jsx)(e.td,{children:"target"}),(0,s.jsx)(e.td,{children:"The target table to copy into."})]})})]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Code"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-lua",children:"function SpecializationUtil.copyTypeFunctionsInto(typeDef, target)\n    for funcName, func in pairs(typeDef.functions) do\n        target[funcName] = func\n    end\nend\n\n"})}),"\n",(0,s.jsx)(e.h3,{id:"createloadingtask",children:"createLoadingTask"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Description"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"Creates a loading task on the given typeClass's loadingTasks table with the given target and returns it."}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"createLoadingTask(table typeClass, any target)"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"table"}),(0,s.jsx)(e.th,{children:"typeClass"}),(0,s.jsx)(e.th,{children:"The class instance of the specialisation type."})]})}),(0,s.jsx)(e.tbody,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"any"}),(0,s.jsx)(e.td,{children:"target"}),(0,s.jsx)(e.td,{children:"The id or reference used to track the loading task."})]})})]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,s.jsx)(e.table,{children:(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"any"}),(0,s.jsx)(e.th,{children:"task"}),(0,s.jsx)(e.th,{children:"The created loading task."})]})})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Code"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-lua",children:'function SpecializationUtil.createLoadingTask(typeClass, target)\n\n    --#debug Assert.isType(typeClass.loadingTasks, "table", "Type class is missing loadingTasks table!")\n\n    -- Create, add, and return the task.\n    local task = {\n    target = target,\n    --#debug callstack = debug.traceback()\n    }\n\n    table.insert(typeClass.loadingTasks, task)\n\n    return task\nend\n\n'})}),"\n",(0,s.jsx)(e.h3,{id:"finishloadingtask",children:"finishLoadingTask"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Description"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"Marks the given task as done, and calls the onFinishedLoading function of the given typeClass, if its\nreadyForFinishLoading value evaluates to true."}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"finishLoadingTask(table typeClass, table task)"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"table"}),(0,s.jsx)(e.th,{children:"typeClass"}),(0,s.jsx)(e.th,{children:"The class instance of the specialisation type."})]})}),(0,s.jsx)(e.tbody,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"table"}),(0,s.jsx)(e.td,{children:"task"}),(0,s.jsx)(e.td,{children:"The task to mark as complete. Should be obtained from SpecializationUtil.createLoadingTask."})]})})]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Code"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-lua",children:'function SpecializationUtil.finishLoadingTask(typeClass, task)\n\n    --#debug Assert.isType(typeClass.onFinishedLoading, "function", "Type class is missing onFinishedLoading function!")\n        --#debug Assert.isType(typeClass.loadingTasks, "table", "Type class is missing loadingTasks table! This can be caused by a lack of calls to createLoadingTask, in such a way that the loading completes instantly")\n        --#debug Assert.greaterThan(#typeClass.loadingTasks, 0, "Nothing was loading, yet a task was finished!")\n\n        -- Remove the task from the list.If it does not get removed, log a warning but still continue like normal.\n        if not table.removeElement(typeClass.loadingTasks, task) then\n            Logging.warning( "Loading task was marked as finished, but was never added in the first place.Ensure that every finishLoadingTask call uses a task given from the createLoadingTask function." )\n            end\n\n            -- If the type class is ready for the finish loading call, and all tasks have been completed, call the onFinishedLoading function.\n                if typeClass.readyForFinishLoading and #typeClass.loadingTasks = = 0 then\n                    typeClass:onFinishedLoading()\n                end\n            end\n\n'})}),"\n",(0,s.jsx)(e.h3,{id:"getisvalidloadingstep",children:"getIsValidLoadingStep"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Description"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"Checks if the given loading step is a valid enum value of SpecializationLoadStep."}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"getIsValidLoadingStep(SpecializationLoadStep loadingStep)"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,s.jsx)(e.table,{children:(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"SpecializationLoadStep"}),(0,s.jsx)(e.th,{children:"loadingStep"}),(0,s.jsx)(e.th,{children:"The loading step to check."})]})})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,s.jsx)(e.table,{children:(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"SpecializationLoadStep"}),(0,s.jsx)(e.th,{children:"isValid"}),(0,s.jsx)(e.th,{children:"True if the given loadingStep is a valid enum value; otherwise false."})]})})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Code"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-lua",children:"function SpecializationUtil.getIsValidLoadingStep(loadingStep)\n\n    -- Check the given value against each value in the enum.If it matches any; return true.\n    for _, value in pairs(SpecializationLoadStep) do\n        if value = = loadingStep then\n            return true\n        end\n    end\n\n    -- Otherwise; since no match was found, return false.\n    return false\nend\n\n"})}),"\n",(0,s.jsx)(e.h3,{id:"hasspecialization",children:"hasSpecialization"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Description"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"Checks if a specialzation is in a list of specializations"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"hasSpecialization(table spec, table specializations)"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"table"}),(0,s.jsx)(e.th,{children:"spec"}),(0,s.jsx)(e.th,{children:"a specialization class"})]})}),(0,s.jsx)(e.tbody,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"table"}),(0,s.jsx)(e.td,{children:"specializations"}),(0,s.jsx)(e.td,{children:"list of specializations"})]})})]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,s.jsx)(e.table,{children:(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"table"}),(0,s.jsx)(e.th,{children:"true"}),(0,s.jsx)(e.th,{children:"if spec is in specialization list"})]})})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Code"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-lua",children:"function SpecializationUtil.hasSpecialization(spec, specializations)\n    for _,v in pairs(specializations) do\n        if v = = spec then\n            return true\n        end\n    end\n\n    return false\nend\n\n"})}),"\n",(0,s.jsx)(e.h3,{id:"initspecializationsintotypeclass",children:"initSpecializationsIntoTypeClass"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Description"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"initSpecializationsIntoTypeClass(any typeManager, any typeDef, table target)"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"any"}),(0,s.jsx)(e.th,{children:"typeManager"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"any"}),(0,s.jsx)(e.td,{children:"typeDef"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"table"}),(0,s.jsx)(e.td,{children:"target"})]})]})]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(e.table,{children:(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"table"}),(0,s.jsx)(e.th,{children:"typeDef"})]})})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Code"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-lua",children:"function SpecializationUtil.initSpecializationsIntoTypeClass(typeManager, typeDef, target)\n    target.type = typeDef\n    target.typeName = typeDef.name\n    target.specializations = typeDef.specializations\n    target.specializationNames = typeDef.specializationNames\n    target.specializationsByName = typeDef.specializationsByName\n    target.eventListeners = table.clone(typeDef.eventListeners, 2 )\n\n    return typeDef\nend\n\n"})}),"\n",(0,s.jsx)(e.h3,{id:"raiseasyncevent",children:"raiseAsyncEvent"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Description"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"Raises a specialization event async"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"raiseAsyncEvent(table object, string eventName, any ...)"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"table"}),(0,s.jsx)(e.th,{children:"object"}),(0,s.jsx)(e.th,{children:"an object that supports specializations"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"string"}),(0,s.jsx)(e.td,{children:"eventName"}),(0,s.jsx)(e.td,{children:"the event name"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"any"}),(0,s.jsx)(e.td,{children:"..."}),(0,s.jsx)(e.td,{children:"the parameters"})]})]})]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Code"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-lua",children:'function SpecializationUtil.raiseAsyncEvent(object, eventName, .. .)\n    if object.eventListeners[eventName] = = nil then\n        local typeName = object.type and object.type.name or "<unknown>"\n        printError( string.format( "Error:Event %q is not registered for type %q!" , eventName, typeName))\n            printCallstack()\n            return\n        end\n\n        local args = { .. . }\n        for _, spec in ipairs(object.eventListeners[eventName]) do\n            object:addAsyncTask( function ()\n                --#profile local doProfiling, profileName = Vehicle.PROFILE_EVENTS[eventName], spec.className .. ":" .. eventName\n                --#profile if doProfiling then RemoteProfiler.zoneBeginN(profileName) end\n                spec[eventName](object, unpack(args))\n                --#profile if doProfiling then RemoteProfiler.zoneEnd() end\n            end , spec.className, false )\n        end\n    end\n\n'})}),"\n",(0,s.jsx)(e.h3,{id:"raiseevent",children:"raiseEvent"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Description"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"Raises a specialization event"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"raiseEvent(table object, string eventName, any ...)"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"table"}),(0,s.jsx)(e.th,{children:"object"}),(0,s.jsx)(e.th,{children:"an object that supports specializations"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"string"}),(0,s.jsx)(e.td,{children:"eventName"}),(0,s.jsx)(e.td,{children:"the event name"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"any"}),(0,s.jsx)(e.td,{children:"..."}),(0,s.jsx)(e.td,{children:"the parameters"})]})]})]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Code"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-lua",children:'function SpecializationUtil.raiseEvent(object, eventName, .. .)\n    if object.eventListeners[eventName] = = nil then\n        local typeName = object.type and object.type.name or "<unknown>"\n        printError( string.format( "Error:Event %q is not registered for type %q!" , eventName, typeName))\n            printCallstack()\n            return\n        end\n\n        for _, spec in ipairs(object.eventListeners[eventName]) do\n            --#profile local doProfiling, profileName = Vehicle.PROFILE_EVENTS[eventName], spec.className .. ":" .. eventName\n            --#profile if doProfiling then RemoteProfiler.zoneBeginN(profileName) end\n            spec[eventName](object, .. .)\n            --#profile if doProfiling then RemoteProfiler.zoneEnd() end\n        end\n    end\n\n'})}),"\n",(0,s.jsx)(e.h3,{id:"registerevent",children:"registerEvent"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Description"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"Registers an event to a given object type"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"registerEvent(table objectType, string eventName)"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"table"}),(0,s.jsx)(e.th,{children:"objectType"}),(0,s.jsx)(e.th,{children:"the object type"})]})}),(0,s.jsx)(e.tbody,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"string"}),(0,s.jsx)(e.td,{children:"eventName"}),(0,s.jsx)(e.td,{children:"the event name"})]})})]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Code"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-lua",children:"function SpecializationUtil.registerEvent(objectType, eventName)\n    if string.isNilOrWhitespace(eventName) then\n        Logging.error( \"Given name for event is 'nil' or empty!\" )\n            printCallstack()\n            return\n        end\n\n        if objectType.functions[eventName] ~ = nil then\n            Logging.error( \"Event '%s' already registered as function in type '%s'!\" , eventName, objectType.name)\n                printCallstack()\n                return\n            end\n\n            if objectType.events[eventName] ~ = nil then\n                Logging.error( \"Event '%s' already registered as event in type '%s'!\" , eventName, objectType.name)\n                printCallstack()\n                return\n            end\n\n            objectType.events[eventName] = eventName\n            objectType.eventListeners[eventName] = { }\n        end\n\n"})}),"\n",(0,s.jsx)(e.h3,{id:"registereventlistener",children:"registerEventListener"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Description"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"Registers an event listener to an object type"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"registerEventListener(table objectType, string eventName, table specClass)"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"table"}),(0,s.jsx)(e.th,{children:"objectType"}),(0,s.jsx)(e.th,{children:"the object type"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"string"}),(0,s.jsx)(e.td,{children:"eventName"}),(0,s.jsx)(e.td,{children:"the event name"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"table"}),(0,s.jsx)(e.td,{children:"specClass"}),(0,s.jsx)(e.td,{children:"the specialization class"})]})]})]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Code"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-lua",children:"function SpecializationUtil.registerEventListener(objectType, eventName, specClass)\n    if string.isNilOrWhitespace(eventName) then\n        Logging.error( \"Given event name is is 'nil' or empty!\" )\n        printCallstack()\n        return\n    end\n\n    local className = specClass.className\n\n    if objectType.eventListeners = = nil then\n        Logging.error( \"Invalid type for specialization '%s'!\" , className)\n            printCallstack()\n            return\n        end\n\n        if specClass[eventName] = = nil then\n            Logging.error( \"Event listener function '%s' not defined in specialization '%s'!\" , eventName, className)\n                printCallstack()\n                return\n            end\n\n            if objectType.eventListeners[eventName] = = nil then\n                return\n            end\n\n            local found = false\n            for _, registeredSpec in pairs(objectType.eventListeners[eventName]) do\n                if registeredSpec = = specClass then\n                    found = true\n                    break\n                end\n            end\n\n            if found then\n                Logging.error( \"Event listener for '%s' already registered in specialization '%s'!\" , eventName, className)\n                    printCallstack()\n                    return\n                end\n\n                table.insert(objectType.eventListeners[eventName], specClass)\n            end\n\n"})}),"\n",(0,s.jsx)(e.h3,{id:"registerfunction",children:"registerFunction"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Description"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"Registers a function to a given object type"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"registerFunction(table objectType, string funcName, function func)"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"table"}),(0,s.jsx)(e.th,{children:"objectType"}),(0,s.jsx)(e.th,{children:"the object type"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"string"}),(0,s.jsx)(e.td,{children:"funcName"}),(0,s.jsx)(e.td,{children:"the function name"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"function"}),(0,s.jsx)(e.td,{children:"func"}),(0,s.jsx)(e.td,{children:"the function pointer"})]})]})]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Code"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-lua",children:"function SpecializationUtil.registerFunction(objectType, funcName, func)\n    if string.isNilOrWhitespace(funcName) then\n        Logging.error( \"Given function name is is 'nil' or empty!\" )\n            printCallstack()\n            return\n        end\n\n        if func = = nil then\n            Logging.error( \"Given reference for Function '%s' is 'nil'!\" , funcName)\n                printCallstack()\n                return\n            end\n\n            if objectType.functions[funcName] ~ = nil then\n                Logging.error( \"Function '%s' already registered as function in type '%s'!\" , funcName, objectType.name)\n                    printCallstack()\n                    return\n                end\n\n                if objectType.events[funcName] ~ = nil then\n                    Logging.error( \"Function '%s' already registered as event in type '%s'!\" , funcName, objectType.name)\n                    printCallstack()\n                    return\n                end\n\n                objectType.functions[funcName] = func\n            end\n\n"})}),"\n",(0,s.jsx)(e.h3,{id:"registeroverwrittenfunction",children:"registerOverwrittenFunction"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Description"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"Overwrites a function of an object type"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"registerOverwrittenFunction(table objectType, string funcName, function func)"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"table"}),(0,s.jsx)(e.th,{children:"objectType"}),(0,s.jsx)(e.th,{children:"the object type"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"string"}),(0,s.jsx)(e.td,{children:"funcName"}),(0,s.jsx)(e.td,{children:"the function name"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"function"}),(0,s.jsx)(e.td,{children:"func"}),(0,s.jsx)(e.td,{children:"the function pointer"})]})]})]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Code"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-lua",children:"function SpecializationUtil.registerOverwrittenFunction(objectType, funcName, func)\n    if string.isNilOrWhitespace(funcName) then\n        Logging.error( \"Given function name is is 'nil' or empty!\" )\n            printCallstack()\n            return\n        end\n\n        if func = = nil then\n            Logging.error( \"Given reference for OverwrittenFunction '%s' is 'nil'!\" , funcName)\n                printCallstack()\n                return\n            end\n\n            -- if function does not exist, we don't need to overwrite anything\n                if objectType.functions[funcName] ~ = nil then\n                    objectType.functions[funcName] = Utils.overwrittenFunction(objectType.functions[funcName], func)\n                end\n            end\n\n"})}),"\n",(0,s.jsx)(e.h3,{id:"removeeventlistener",children:"removeEventListener"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Description"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"Removes an event listener from an object"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"removeEventListener(table object, string eventName, table specClass)"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"table"}),(0,s.jsx)(e.th,{children:"object"}),(0,s.jsx)(e.th,{children:"a object that supports specializations"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"string"}),(0,s.jsx)(e.td,{children:"eventName"}),(0,s.jsx)(e.td,{children:"the event name"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"table"}),(0,s.jsx)(e.td,{children:"specClass"}),(0,s.jsx)(e.td,{children:"a specialization class"})]})]})]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Code"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-lua",children:"function SpecializationUtil.removeEventListener(object, eventName, specClass)\n    local listeners = object.eventListeners[eventName]\n    if listeners ~ = nil then\n        for i = #listeners, 1 , - 1 do\n            if listeners[i] = = specClass then\n                table.remove(listeners, i)\n            end\n        end\n    end\nend\n\n"})}),"\n",(0,s.jsx)(e.h3,{id:"setloadingstep",children:"setLoadingStep"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Description"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"Sets the loadingStep value of the given specialisation type class, logging an error if the given step is invalid."}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"setLoadingStep(table typeClass, SpecializationLoadStep loadingStep)"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"table"}),(0,s.jsx)(e.th,{children:"typeClass"}),(0,s.jsx)(e.th,{children:"The class instance of the specialisation type."})]})}),(0,s.jsx)(e.tbody,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"SpecializationLoadStep"}),(0,s.jsx)(e.td,{children:"loadingStep"}),(0,s.jsx)(e.td,{children:"The loading step to set."})]})})]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Code"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-lua",children:"function SpecializationUtil.setLoadingStep(typeClass, loadingStep)\n\n    -- If the given step type is not a valid SpecializationLoadStep value, log the error and return.\n    if not SpecializationUtil.getIsValidLoadingStep(loadingStep) then\n        printCallstack()\n        Logging.error( \"Invalid loading step '%s'!\" , loadingStep)\n        return\n    end\n\n    -- Set the loading step.\n    typeClass.loadingStep = loadingStep\nend\n\n"})})]})}function h(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(o,{...n})}):o(n)}},28453(n,e,i){i.d(e,{R:()=>l,x:()=>a});var t=i(96540);const s={},r=t.createContext(s);function l(n){const e=t.useContext(r);return t.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:l(n.components),t.createElement(r.Provider,{value:e},n.children)}}}]);