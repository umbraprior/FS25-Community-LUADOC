"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[57236],{28453(n,e,l){l.d(e,{R:()=>i,x:()=>o});var r=l(96540);const s={},t=r.createContext(s);function i(n){const e=r.useContext(t);return r.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:i(n.components),r.createElement(t.Provider,{value:e},n.children)}},66784(n,e,l){l.r(e),l.d(e,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>i,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"script/Utils/MapDataGrid","title":"MapDataGrid","description":"MapDataGrid","source":"@site/../docs/script/Utils/MapDataGrid.md","sourceDirName":"script/Utils","slug":"/script/Utils/MapDataGrid","permalink":"/FS25-Community-LUADOC/script/Utils/MapDataGrid","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"FenceSegment","permalink":"/FS25-Community-LUADOC/script/Utils/FenceSegment"},"next":{"title":"MathUtil","permalink":"/FS25-Community-LUADOC/script/Utils/MathUtil"}}');var s=l(74848),t=l(28453);const i={},o=void 0,d={},c=[{value:"MapDataGrid",id:"mapdatagrid",level:2},{value:"createFromBlockSize",id:"createfromblocksize",level:3},{value:"getRowColumnFromWorldPos",id:"getrowcolumnfromworldpos",level:3},{value:"getValueAtWorldPos",id:"getvalueatworldpos",level:3},{value:"isWorldPositionInRange",id:"isworldpositioninrange",level:3},{value:"new",id:"new",level:3},{value:"setValueAtWorldPos",id:"setvalueatworldpos",level:3}];function a(n){const e={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.h2,{id:"mapdatagrid",children:"MapDataGrid"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Description"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"A map data grid that splits a map into multiple sections"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Parent"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.a,{href:"?version=script&category=90&class=871",children:"DataGrid"})}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Functions"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#createfromblocksize",children:"createFromBlockSize"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#getrowcolumnfromworldpos",children:"getRowColumnFromWorldPos"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#getvalueatworldpos",children:"getValueAtWorldPos"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#isworldpositioninrange",children:"isWorldPositionInRange"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#new",children:"new"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#setvalueatworldpos",children:"setValueAtWorldPos"})}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"createfromblocksize",children:"createFromBlockSize"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Description"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"Creates a new data grid from the given map size and block size."}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"createFromBlockSize(integer mapSize, integer blockSize, table? customMt)"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"integer"}),(0,s.jsx)(e.th,{children:"mapSize"}),(0,s.jsx)(e.th,{children:"The size of the map in metres."})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"integer"}),(0,s.jsx)(e.td,{children:"blockSize"}),(0,s.jsx)(e.td,{children:"The size of one cell in metres."})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"table?"}),(0,s.jsx)(e.td,{children:"customMt"}),(0,s.jsx)(e.td,{children:"The custom metatable to use, if any."})]})]})]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,s.jsx)(e.table,{children:(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"table?"}),(0,s.jsx)(e.th,{children:"instance"}),(0,s.jsx)(e.th,{children:"The created instance."})]})})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Code"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-lua",children:"function MapDataGrid.createFromBlockSize(mapSize, blockSize, customMt)\n\n    -- Calculate the blocks per row, then return the result of the constructor with this value.\n    local blocksPerRowColumn = math.ceil(mapSize / blockSize)\n    return MapDataGrid.new(mapSize, blocksPerRowColumn, customMt)\nend\n\n"})}),"\n",(0,s.jsx)(e.h3,{id:"getrowcolumnfromworldpos",children:"getRowColumnFromWorldPos"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Description"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"Gets clamped row and column at given world position"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"getRowColumnFromWorldPos(float worldX, float worldZ)"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"float"}),(0,s.jsx)(e.th,{children:"worldX"}),(0,s.jsx)(e.th,{children:"world position x"})]})}),(0,s.jsx)(e.tbody,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"float"}),(0,s.jsx)(e.td,{children:"worldZ"}),(0,s.jsx)(e.td,{children:"world position z"})]})})]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"float"}),(0,s.jsx)(e.th,{children:"row"}),(0,s.jsx)(e.th,{children:"row"})]})}),(0,s.jsx)(e.tbody,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"float"}),(0,s.jsx)(e.td,{children:"column"}),(0,s.jsx)(e.td,{children:"column"})]})})]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Code"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-lua",children:'function MapDataGrid:getRowColumnFromWorldPos(worldX, worldZ)\n    local mapSize = self.mapSize\n    local blocksPerRowColumn = self.blocksPerRowColumn\n\n    local x = (worldX + mapSize * 0.5 ) / mapSize\n    local z = (worldZ + mapSize * 0.5 ) / mapSize\n\n    local row = math.clamp( math.ceil(blocksPerRowColumn * z), 1 , blocksPerRowColumn)\n    local column = math.clamp( math.ceil(blocksPerRowColumn * x), 1 , blocksPerRowColumn)\n\n    -- log(worldX, worldZ, " -> ", (worldX + self.mapSize*0.5), (worldZ + self.mapSize*0.5), z, x, row, column)\n\n    return row, column\nend\n\n'})}),"\n",(0,s.jsx)(e.h3,{id:"getvalueatworldpos",children:"getValueAtWorldPos"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Description"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"Get value at world position"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"getValueAtWorldPos(float worldX, float worldZ)"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"float"}),(0,s.jsx)(e.th,{children:"worldX"}),(0,s.jsx)(e.th,{children:"world position x"})]})}),(0,s.jsx)(e.tbody,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"float"}),(0,s.jsx)(e.td,{children:"worldZ"}),(0,s.jsx)(e.td,{children:"world position z"})]})})]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,s.jsx)(e.table,{children:(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"float"}),(0,s.jsx)(e.th,{children:"value"}),(0,s.jsx)(e.th,{children:"value at the given position"})]})})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Code"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-lua",children:"function MapDataGrid:getValueAtWorldPos(worldX, worldZ)\n    local rowIndex, colIndex = self:getRowColumnFromWorldPos(worldX, worldZ)\n    return self:getValue(rowIndex, colIndex), rowIndex, colIndex\nend\n\n"})}),"\n",(0,s.jsx)(e.h3,{id:"isworldpositioninrange",children:"isWorldPositionInRange"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Description"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"Calculates if the given world position is in range of the data."}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"isWorldPositionInRange(float worldX, float worldZ)"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"float"}),(0,s.jsx)(e.th,{children:"worldX"}),(0,s.jsx)(e.th,{children:"The x world position."})]})}),(0,s.jsx)(e.tbody,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"float"}),(0,s.jsx)(e.td,{children:"worldZ"}),(0,s.jsx)(e.td,{children:"The z world position."})]})})]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,s.jsx)(e.table,{children:(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"float"}),(0,s.jsx)(e.th,{children:"isInRange"}),(0,s.jsx)(e.th,{children:"True if the position is in range of the data; otherwise false."})]})})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Code"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-lua",children:"function MapDataGrid:isWorldPositionInRange(worldX, worldZ)\n    return worldX > self.mapSize * - 0.5 and worldX < = self.mapSize * 0.5 and worldZ > self.mapSize * - 0.5 and worldZ < = self.mapSize * 0.5\nend\n\n"})}),"\n",(0,s.jsx)(e.h3,{id:"new",children:"new"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Description"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"Creates a map grid instance with the given map size, cells per row/column, and optional custom metatable."}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"new(integer mapSize, integer blocksPerRowColumn, table? customMt)"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"integer"}),(0,s.jsx)(e.th,{children:"mapSize"}),(0,s.jsx)(e.th,{children:"map size"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"integer"}),(0,s.jsx)(e.td,{children:"blocksPerRowColumn"}),(0,s.jsx)(e.td,{children:"blocks per row and column"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"table?"}),(0,s.jsx)(e.td,{children:"customMt"}),(0,s.jsx)(e.td,{children:"custom metatable"})]})]})]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,s.jsx)(e.table,{children:(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"table?"}),(0,s.jsx)(e.th,{children:"instance"}),(0,s.jsx)(e.th,{children:"instance of object"})]})})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Code"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-lua",children:"function MapDataGrid.new(mapSize, blocksPerRowColumn, customMt)\n    local self = DataGrid.new(blocksPerRowColumn, blocksPerRowColumn, customMt or MapDataGrid _mt)\n\n    self.blocksPerRowColumn = blocksPerRowColumn\n    self.mapSize = mapSize\n    self.blockSize = self.mapSize / self.blocksPerRowColumn\n\n    return self\nend\n\n"})}),"\n",(0,s.jsx)(e.h3,{id:"setvalueatworldpos",children:"setValueAtWorldPos"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Description"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"Set value at world position"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"setValueAtWorldPos(float worldX, float worldZ, table value)"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"float"}),(0,s.jsx)(e.th,{children:"worldX"}),(0,s.jsx)(e.th,{children:"world position x"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"float"}),(0,s.jsx)(e.td,{children:"worldZ"}),(0,s.jsx)(e.td,{children:"world position z"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"table"}),(0,s.jsx)(e.td,{children:"value"}),(0,s.jsx)(e.td,{children:"value at the given position"})]})]})]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Code"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-lua",children:"function MapDataGrid:setValueAtWorldPos(worldX, worldZ, value)\n    local rowIndex, colIndex = self:getRowColumnFromWorldPos(worldX, worldZ)\n    self:setValue(rowIndex, colIndex, value)\nend\n\n"})})]})}function h(n={}){const{wrapper:e}={...(0,t.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(a,{...n})}):a(n)}}}]);