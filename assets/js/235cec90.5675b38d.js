"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[74441],{28453(e,l,n){n.d(l,{R:()=>s,x:()=>i});var a=n(96540);const t={},r=a.createContext(t);function s(e){const l=a.useContext(r);return a.useMemo(function(){return"function"==typeof e?e(l):{...l,...e}},[l,e])}function i(e){let l;return l=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),a.createElement(r.Provider,{value:l},e.children)}},63454(e,l,n){n.r(l),n.d(l,{assets:()=>o,contentTitle:()=>i,default:()=>h,frontMatter:()=>s,metadata:()=>a,toc:()=>c});const a=JSON.parse('{"id":"script/Vehicles/VehicleMaterial","title":"VehicleMaterial","description":"VehicleMaterial","source":"@site/../docs/script/Vehicles/VehicleMaterial.md","sourceDirName":"script/Vehicles","slug":"/script/Vehicles/VehicleMaterial","permalink":"/FS25-Community-LUADOC/script/Vehicles/VehicleMaterial","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"VehicleLoadingData","permalink":"/FS25-Community-LUADOC/script/Vehicles/VehicleLoadingData"},"next":{"title":"VehicleMaterialManager","permalink":"/FS25-Community-LUADOC/script/Vehicles/VehicleMaterialManager"}}');var t=n(74848),r=n(28453);const s={},i=void 0,o={},c=[{value:"VehicleMaterial",id:"vehiclematerial",level:2},{value:"apply",id:"apply",level:3},{value:"applyToMaterial",id:"applytomaterial",level:3},{value:"applyToVehicle",id:"applytovehicle",level:3},{value:"clone",id:"clone",level:3},{value:"getBrightness",id:"getbrightness",level:3},{value:"getIsApplied",id:"getisapplied",level:3},{value:"loadFromXML",id:"loadfromxml",level:3},{value:"loadShortFromXML",id:"loadshortfromxml",level:3},{value:"new",id:"new",level:3},{value:"registerShortXMLPaths",id:"registershortxmlpaths",level:3},{value:"registerXMLPaths",id:"registerxmlpaths",level:3},{value:"setColor",id:"setcolor",level:3},{value:"setTemplateName",id:"settemplatename",level:3}];function d(e){const l={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.h2,{id:"vehiclematerial",children:"VehicleMaterial"}),"\n",(0,t.jsx)(l.p,{children:(0,t.jsx)(l.strong,{children:"Description"})}),"\n",(0,t.jsxs)(l.blockquote,{children:["\n",(0,t.jsx)(l.p,{children:"Stores data of vehicle materials (color, smoothness, clear coat, detail textures)"}),"\n"]}),"\n",(0,t.jsx)(l.p,{children:(0,t.jsx)(l.strong,{children:"Functions"})}),"\n",(0,t.jsxs)(l.ul,{children:["\n",(0,t.jsx)(l.li,{children:(0,t.jsx)(l.a,{href:"#apply",children:"apply"})}),"\n",(0,t.jsx)(l.li,{children:(0,t.jsx)(l.a,{href:"#applytomaterial",children:"applyToMaterial"})}),"\n",(0,t.jsx)(l.li,{children:(0,t.jsx)(l.a,{href:"#applytovehicle",children:"applyToVehicle"})}),"\n",(0,t.jsx)(l.li,{children:(0,t.jsx)(l.a,{href:"#clone",children:"clone"})}),"\n",(0,t.jsx)(l.li,{children:(0,t.jsx)(l.a,{href:"#getbrightness",children:"getBrightness"})}),"\n",(0,t.jsx)(l.li,{children:(0,t.jsx)(l.a,{href:"#getisapplied",children:"getIsApplied"})}),"\n",(0,t.jsx)(l.li,{children:(0,t.jsx)(l.a,{href:"#loadfromxml",children:"loadFromXML"})}),"\n",(0,t.jsx)(l.li,{children:(0,t.jsx)(l.a,{href:"#loadshortfromxml",children:"loadShortFromXML"})}),"\n",(0,t.jsx)(l.li,{children:(0,t.jsx)(l.a,{href:"#new",children:"new"})}),"\n",(0,t.jsx)(l.li,{children:(0,t.jsx)(l.a,{href:"#registershortxmlpaths",children:"registerShortXMLPaths"})}),"\n",(0,t.jsx)(l.li,{children:(0,t.jsx)(l.a,{href:"#registerxmlpaths",children:"registerXMLPaths"})}),"\n",(0,t.jsx)(l.li,{children:(0,t.jsx)(l.a,{href:"#setcolor",children:"setColor"})}),"\n",(0,t.jsx)(l.li,{children:(0,t.jsx)(l.a,{href:"#settemplatename",children:"setTemplateName"})}),"\n"]}),"\n",(0,t.jsx)(l.h3,{id:"apply",children:"apply"}),"\n",(0,t.jsx)(l.p,{children:(0,t.jsx)(l.strong,{children:"Description"})}),"\n",(0,t.jsx)(l.p,{children:(0,t.jsx)(l.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(l.blockquote,{children:["\n",(0,t.jsx)(l.p,{children:"apply()"}),"\n"]}),"\n",(0,t.jsx)(l.p,{children:(0,t.jsx)(l.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(l.table,{children:[(0,t.jsx)(l.thead,{children:(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.th,{children:"any"}),(0,t.jsx)(l.th,{children:"node"})]})}),(0,t.jsxs)(l.tbody,{children:[(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{children:"any"}),(0,t.jsx)(l.td,{children:"targetMaterialSlotName"})]}),(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{children:"any"}),(0,t.jsx)(l.td,{children:"colorOnly"})]})]})]}),"\n",(0,t.jsx)(l.p,{children:(0,t.jsx)(l.strong,{children:"Code"})}),"\n",(0,t.jsx)(l.pre,{children:(0,t.jsx)(l.code,{className:"language-lua",children:"function VehicleMaterial:apply(node, targetMaterialSlotName, colorOnly)\n    local success = false\n    targetMaterialSlotName = targetMaterialSlotName or self.targetMaterialSlotName\n\n    if getHasClassId(node, ClassIds.SHAPE) then\n        for i = 1 , getNumOfMaterials(node) do\n            local materialSlotName = getMaterialSlotName(node, i - 1 )\n            if materialSlotName = = targetMaterialSlotName or targetMaterialSlotName = = nil then\n                self:applyToMaterial(node, i - 1 , colorOnly)\n\n                success = true\n            end\n        end\n    end\n\n    for i = 1 , getNumOfChildren(node) do\n        success = self:apply(getChildAt(node, i - 1 ), targetMaterialSlotName, colorOnly) or success\n    end\n\n    return success\nend\n\n"})}),"\n",(0,t.jsx)(l.h3,{id:"applytomaterial",children:"applyToMaterial"}),"\n",(0,t.jsx)(l.p,{children:(0,t.jsx)(l.strong,{children:"Description"})}),"\n",(0,t.jsx)(l.p,{children:(0,t.jsx)(l.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(l.blockquote,{children:["\n",(0,t.jsx)(l.p,{children:"applyToMaterial()"}),"\n"]}),"\n",(0,t.jsx)(l.p,{children:(0,t.jsx)(l.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(l.table,{children:[(0,t.jsx)(l.thead,{children:(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.th,{children:"any"}),(0,t.jsx)(l.th,{children:"node"})]})}),(0,t.jsxs)(l.tbody,{children:[(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{children:"any"}),(0,t.jsx)(l.td,{children:"materialIndex"})]}),(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{children:"any"}),(0,t.jsx)(l.td,{children:"colorOnly"})]})]})]}),"\n",(0,t.jsx)(l.p,{children:(0,t.jsx)(l.strong,{children:"Code"})}),"\n",(0,t.jsx)(l.pre,{children:(0,t.jsx)(l.code,{className:"language-lua",children:'function VehicleMaterial:applyToMaterial(node, materialIndex, colorOnly)\n    if self.colorScale ~ = nil then\n        setShaderParameter(node, "colorScale" , self.colorScale[ 1 ], self.colorScale[ 2 ], self.colorScale[ 3 ], nil , false , materialIndex)\n    end\n\n    if colorOnly then\n        return\n    end\n\n    if self.smoothnessScale ~ = nil then\n        setShaderParameter(node, "smoothnessScale" , self.smoothnessScale, nil , nil , nil , false , materialIndex)\n    end\n\n    if self.metalnessScale ~ = nil then\n        setShaderParameter(node, "metalnessScale" , self.metalnessScale, nil , nil , nil , false , materialIndex)\n    end\n\n    if self.clearCoatSmoothness ~ = nil then\n        setShaderParameter(node, "clearCoatSmoothness" , self.clearCoatSmoothness, nil , nil , nil , false , materialIndex)\n    end\n\n    if self.clearCoatIntensity ~ = nil then\n        setShaderParameter(node, "clearCoatIntensity" , self.clearCoatIntensity, nil , nil , nil , false , materialIndex)\n    end\n\n    if self.porosity ~ = nil then\n        setShaderParameter(node, "porosity" , self.porosity, nil , nil , nil , false , materialIndex)\n    end\n\n    local materialId = getMaterial(node, materialIndex)\n    local newMaterialId = materialId\n\n    if self.detailDiffuse ~ = nil then\n        newMaterialId = setMaterialCustomMapFromFile(newMaterialId, "detailDiffuse" , self.detailDiffuse, false , true , false )\n    end\n\n    if self.detailNormal ~ = nil then\n        newMaterialId = setMaterialCustomMapFromFile(newMaterialId, "detailNormal" , self.detailNormal, false , false , false )\n    end\n\n    if self.detailSpecular ~ = nil then\n        newMaterialId = setMaterialCustomMapFromFile(newMaterialId, "detailSpecular" , self.detailSpecular, false , false , false )\n    end\n\n    if self.diffuseMap ~ = nil then\n        newMaterialId = setMaterialDiffuseMapFromFile(newMaterialId, self.diffuseMap, false , true , false )\n    end\n\n    if self.normalMap ~ = nil then\n        newMaterialId = setMaterialNormalMapFromFile(newMaterialId, self.normalMap, false , false , false )\n    end\n\n    if self.specularMap ~ = nil then\n        newMaterialId = setMaterialGlossMapFromFile(newMaterialId, self.specularMap, false , false , false )\n    end\n\n    if newMaterialId ~ = materialId then\n        setMaterial(node, newMaterialId, materialIndex)\n    end\nend\n\n'})}),"\n",(0,t.jsx)(l.h3,{id:"applytovehicle",children:"applyToVehicle"}),"\n",(0,t.jsx)(l.p,{children:(0,t.jsx)(l.strong,{children:"Description"})}),"\n",(0,t.jsx)(l.p,{children:(0,t.jsx)(l.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(l.blockquote,{children:["\n",(0,t.jsx)(l.p,{children:"applyToVehicle()"}),"\n"]}),"\n",(0,t.jsx)(l.p,{children:(0,t.jsx)(l.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(l.table,{children:[(0,t.jsx)(l.thead,{children:(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.th,{children:"any"}),(0,t.jsx)(l.th,{children:"vehicle"})]})}),(0,t.jsx)(l.tbody,{children:(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{children:"any"}),(0,t.jsx)(l.td,{children:"targetMaterialSlotName"})]})})]}),"\n",(0,t.jsx)(l.p,{children:(0,t.jsx)(l.strong,{children:"Code"})}),"\n",(0,t.jsx)(l.pre,{children:(0,t.jsx)(l.code,{className:"language-lua",children:"function VehicleMaterial:applyToVehicle(vehicle, targetMaterialSlotName)\n    local success = false\n    for i, component in ipairs(vehicle.components) do\n        success = self:apply(component.node, targetMaterialSlotName) or success\n    end\n\n    return success\nend\n\n"})}),"\n",(0,t.jsx)(l.h3,{id:"clone",children:"clone"}),"\n",(0,t.jsx)(l.p,{children:(0,t.jsx)(l.strong,{children:"Description"})}),"\n",(0,t.jsx)(l.p,{children:(0,t.jsx)(l.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(l.blockquote,{children:["\n",(0,t.jsx)(l.p,{children:"clone()"}),"\n"]}),"\n",(0,t.jsx)(l.p,{children:(0,t.jsx)(l.strong,{children:"Code"})}),"\n",(0,t.jsx)(l.pre,{children:(0,t.jsx)(l.code,{className:"language-lua",children:"function VehicleMaterial:clone()\n    local material = VehicleMaterial.new( self.baseDirectory)\n\n    material.targetMaterialSlotName = self.targetMaterialSlotName\n\n    material.templateName = self.templateName\n    material.materialTemplate = self.materialTemplate\n\n    material.colorScale = self.colorScale\n\n    material.smoothnessScale = self.smoothnessScale\n    material.metalnessScale = self.metalnessScale\n    material.clearCoatSmoothness = self.clearCoatSmoothness\n    material.clearCoatIntensity = self.clearCoatIntensity\n    material.porosity = self.porosity\n\n    material.detailDiffuse = self.detailDiffuse\n    material.detailNormal = self.detailNormal\n    material.detailSpecular = self.detailSpecular\n\n    material.diffuseMap = self.diffuseMap\n    material.normalMap = self.normalMap\n    material.specularMap = self.specularMap\n\n    return material\nend\n\n"})}),"\n",(0,t.jsx)(l.h3,{id:"getbrightness",children:"getBrightness"}),"\n",(0,t.jsx)(l.p,{children:(0,t.jsx)(l.strong,{children:"Description"})}),"\n",(0,t.jsx)(l.p,{children:(0,t.jsx)(l.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(l.blockquote,{children:["\n",(0,t.jsx)(l.p,{children:"getBrightness()"}),"\n"]}),"\n",(0,t.jsx)(l.p,{children:(0,t.jsx)(l.strong,{children:"Code"})}),"\n",(0,t.jsx)(l.pre,{children:(0,t.jsx)(l.code,{className:"language-lua",children:"function VehicleMaterial:getBrightness()\n    if self.colorScale = = nil then\n        return nil\n    end\n\n    return MathUtil.getBrightnessFromColor( self.colorScale[ 1 ], self.colorScale[ 2 ], self.colorScale[ 3 ])\nend\n\n"})}),"\n",(0,t.jsx)(l.h3,{id:"getisapplied",children:"getIsApplied"}),"\n",(0,t.jsx)(l.p,{children:(0,t.jsx)(l.strong,{children:"Description"})}),"\n",(0,t.jsx)(l.p,{children:(0,t.jsx)(l.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(l.blockquote,{children:["\n",(0,t.jsx)(l.p,{children:"getIsApplied()"}),"\n"]}),"\n",(0,t.jsx)(l.p,{children:(0,t.jsx)(l.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(l.table,{children:[(0,t.jsx)(l.thead,{children:(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.th,{children:"any"}),(0,t.jsx)(l.th,{children:"node"})]})}),(0,t.jsxs)(l.tbody,{children:[(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{children:"any"}),(0,t.jsx)(l.td,{children:"materialId"})]}),(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{children:"any"}),(0,t.jsx)(l.td,{children:"checkColor"})]})]})]}),"\n",(0,t.jsx)(l.p,{children:(0,t.jsx)(l.strong,{children:"Code"})}),"\n",(0,t.jsx)(l.pre,{children:(0,t.jsx)(l.code,{className:"language-lua",children:'function VehicleMaterial:getIsApplied(node, materialId, checkColor)\n    if checkColor ~ = false then\n        local r, g, b, _ = getMaterialCustomParameter(materialId, "colorScale" )\n\n        if self.colorScale ~ = nil then\n            if r ~ = self.colorScale[ 1 ] or g ~ = self.colorScale[ 2 ] or b ~ = self.colorScale[ 3 ] then\n                return false\n            end\n        else\n                if r ~ = 1 or g ~ = 1 or b ~ = 1 then\n                    return false\n                end\n            end\n        end\n\n        local smoothness = getMaterialCustomParameter(materialId, "smoothnessScale" )\n        if self.smoothnessScale ~ = nil and smoothness ~ = self.smoothnessScale then\n            return false\n        elseif self.smoothnessScale = = nil and smoothness ~ = 1 then\n                return false\n            end\n\n            local metalness = getMaterialCustomParameter(materialId, "metalnessScale" )\n            if self.metalnessScale ~ = nil and metalness ~ = self.metalnessScale then\n                return false\n            elseif self.metalnessScale = = nil and metalness ~ = 1 then\n                    return false\n                end\n\n                local clearCoatSmoothness = getMaterialCustomParameter(materialId, "clearCoatSmoothness" )\n                if self.clearCoatSmoothness ~ = nil and clearCoatSmoothness ~ = self.clearCoatSmoothness then\n                    return false\n                elseif self.clearCoatSmoothness = = nil and clearCoatSmoothness ~ = 0 then\n                        return false\n                    end\n\n                    local clearCoatIntensity = getMaterialCustomParameter(materialId, "clearCoatIntensity" )\n                    if self.clearCoatIntensity ~ = nil and clearCoatIntensity ~ = self.clearCoatIntensity then\n                        return false\n                    elseif self.clearCoatIntensity = = nil and clearCoatIntensity ~ = 0 then\n                            return false\n                        end\n\n                        local porosity = getMaterialCustomParameter(materialId, "porosity" )\n                        if self.porosity ~ = nil and porosity ~ = self.porosity then\n                            return false\n                        elseif self.porosity = = nil and porosity ~ = 0 then\n                                return false\n                            end\n\n                            local detailDiffuse = getMaterialCustomMapFilename(materialId, "detailDiffuse" )\n                            if self.detailDiffuse ~ = nil and detailDiffuse ~ = self.detailDiffuse then\n                                return false\n                            end\n\n                            local detailNormal = getMaterialCustomMapFilename(materialId, "detailNormal" )\n                            if self.detailNormal ~ = nil and detailNormal ~ = self.detailNormal then\n                                return false\n                            end\n\n                            local detailSpecular = getMaterialCustomMapFilename(materialId, "detailSpecular" )\n                            if self.detailSpecular ~ = nil and detailSpecular ~ = self.detailSpecular then\n                                return false\n                            end\n\n                            local diffuseMap = getMaterialDiffuseMapFilename(materialId)\n                            if self.diffuseMap ~ = nil and diffuseMap ~ = self.diffuseMap then\n                                return false\n                            end\n\n                            local normalMap = getMaterialNormalMapFilename(materialId)\n                            if self.normalMap ~ = nil and normalMap ~ = self.normalMap then\n                                return false\n                            end\n\n                            local specularMap = getMaterialGlossMapFilename(materialId)\n                            if self.specularMap ~ = nil and specularMap ~ = self.specularMap then\n                                return false\n                            end\n\n                            return true\n                        end\n\n'})}),"\n",(0,t.jsx)(l.h3,{id:"loadfromxml",children:"loadFromXML"}),"\n",(0,t.jsx)(l.p,{children:(0,t.jsx)(l.strong,{children:"Description"})}),"\n",(0,t.jsx)(l.p,{children:(0,t.jsx)(l.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(l.blockquote,{children:["\n",(0,t.jsx)(l.p,{children:"loadFromXML()"}),"\n"]}),"\n",(0,t.jsx)(l.p,{children:(0,t.jsx)(l.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(l.table,{children:[(0,t.jsx)(l.thead,{children:(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.th,{children:"any"}),(0,t.jsx)(l.th,{children:"xmlFile"})]})}),(0,t.jsxs)(l.tbody,{children:[(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{children:"any"}),(0,t.jsx)(l.td,{children:"key"})]}),(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{children:"any"}),(0,t.jsx)(l.td,{children:"customEnvironment"})]})]})]}),"\n",(0,t.jsx)(l.p,{children:(0,t.jsx)(l.strong,{children:"Code"})}),"\n",(0,t.jsx)(l.pre,{children:(0,t.jsx)(l.code,{className:"language-lua",children:'function VehicleMaterial:loadFromXML(xmlFile, key, customEnvironment)\n    self.targetMaterialSlotName = xmlFile:getValue(key .. "#materialSlotName" )\n\n    local templateName = self.templateName or xmlFile:getValue(key .. "#materialTemplateName" )\n    if templateName ~ = nil and templateName ~ = self.templateName then\n        local materialTemplateUseColorOnly = xmlFile:getValue(key .. "#materialTemplateUseColorOnly" , false )\n        if not self:setTemplateName(templateName, materialTemplateUseColorOnly, customEnvironment) then\n            Logging.xmlWarning(xmlFile.xmlFile or xmlFile, "Unable to find material template \'%s\' in \'%s\'" , templateName, key)\n            return false\n        end\n    end\n\n    local colorStr = xmlFile:getValue(key .. ".colorScale#value" )\n    if colorStr ~ = nil then\n        local colorTemplate = g_vehicleMaterialManager:getMaterialTemplateByName(colorStr, customEnvironment)\n        if colorTemplate ~ = nil then\n            self.colorScale = colorTemplate.colorScale or colorTemplate.parentTemplate.colorScale\n        else\n                self.colorScale = string.getVector(colorStr, 3 ) or self.colorScale\n            end\n        end\n\n        self.smoothnessScale = xmlFile:getValue(key .. ".smoothness#value" , self.smoothnessScale)\n        self.metalnessScale = xmlFile:getValue(key .. ".metalness#value" , self.metalnessScale)\n        self.clearCoatSmoothness = xmlFile:getValue(key .. ".clearCoat#smoothness" , self.clearCoatSmoothness)\n        self.clearCoatIntensity = xmlFile:getValue(key .. ".clearCoat#intensity" , self.clearCoatIntensity)\n\n        local detailDiffuse = xmlFile:getValue(key .. ".detail#diffuse" , nil , self.baseDirectory)\n        self.detailDiffuse = detailDiffuse or self.detailDiffuse\n\n        local detailNormal = xmlFile:getValue(key .. ".detail#normal" , nil , self.baseDirectory)\n        self.detailNormal = detailNormal or self.detailNormal\n\n        local detailSpecular = xmlFile:getValue(key .. ".detail#specular" , nil , self.baseDirectory)\n        self.detailSpecular = detailSpecular or self.detailSpecular\n\n        local diffuseMap = xmlFile:getValue(key .. ".textures#diffuse" , nil , self.baseDirectory)\n        self.diffuseMap = diffuseMap or self.diffuseMap\n\n        local normalMap = xmlFile:getValue(key .. ".textures#normal" , nil , self.baseDirectory)\n        self.normalMap = normalMap or self.normalMap\n\n        local specularMap = xmlFile:getValue(key .. ".textures#specular" , nil , self.baseDirectory)\n        self.specularMap = specularMap or self.specularMap\n\n        return self.colorScale ~ = nil\n        or self.smoothnessScale ~ = nil\n        or self.metalnessScale ~ = nil\n        or self.clearCoatSmoothness ~ = nil\n        or self.clearCoatIntensity ~ = nil\n        or self.porosity ~ = nil\n        or self.detailDiffuse ~ = nil\n        or self.detailNormal ~ = nil\n        or self.detailSpecular ~ = nil\n        or self.diffuseMap ~ = nil\n        or self.normalMap ~ = nil\n        or self.specularMap ~ = nil\n    end\n\n'})}),"\n",(0,t.jsx)(l.h3,{id:"loadshortfromxml",children:"loadShortFromXML"}),"\n",(0,t.jsx)(l.p,{children:(0,t.jsx)(l.strong,{children:"Description"})}),"\n",(0,t.jsx)(l.p,{children:(0,t.jsx)(l.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(l.blockquote,{children:["\n",(0,t.jsx)(l.p,{children:"loadShortFromXML()"}),"\n"]}),"\n",(0,t.jsx)(l.p,{children:(0,t.jsx)(l.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(l.table,{children:[(0,t.jsx)(l.thead,{children:(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.th,{children:"any"}),(0,t.jsx)(l.th,{children:"xmlFile"})]})}),(0,t.jsxs)(l.tbody,{children:[(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{children:"any"}),(0,t.jsx)(l.td,{children:"key"})]}),(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{children:"any"}),(0,t.jsx)(l.td,{children:"customEnvironment"})]})]})]}),"\n",(0,t.jsx)(l.p,{children:(0,t.jsx)(l.strong,{children:"Code"})}),"\n",(0,t.jsx)(l.pre,{children:(0,t.jsx)(l.code,{className:"language-lua",children:'function VehicleMaterial:loadShortFromXML(xmlFile, key, customEnvironment)\n    self.targetMaterialSlotName = xmlFile:getValue(key .. "#materialSlotName" )\n\n    local templateName = self.templateName or xmlFile:getValue(key .. "#materialTemplateName" )\n    if templateName ~ = nil then\n        local materialTemplateUseColorOnly = xmlFile:getValue(key .. "#materialTemplateUseColorOnly" , false )\n        if not self:setTemplateName(templateName, materialTemplateUseColorOnly, customEnvironment) then\n            Logging.xmlWarning(xmlFile.xmlFile or xmlFile, "Unable to find material template \'%s\' in \'%s\'" , templateName, key)\n            return false\n        end\n\n        local templateNameColor = xmlFile:getValue(key .. "#materialTemplateNameColor" )\n        if templateNameColor ~ = nil then\n            local materialTemplate = g_vehicleMaterialManager:getMaterialTemplateByName(templateNameColor, customEnvironment)\n            if materialTemplate ~ = nil then\n                self.colorScale = materialTemplate.colorScale or materialTemplate.parentTemplate.colorScale\n            end\n        end\n    else\n            return false\n        end\n\n        return true\n    end\n\n'})}),"\n",(0,t.jsx)(l.h3,{id:"new",children:"new"}),"\n",(0,t.jsx)(l.p,{children:(0,t.jsx)(l.strong,{children:"Description"})}),"\n",(0,t.jsx)(l.p,{children:(0,t.jsx)(l.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(l.blockquote,{children:["\n",(0,t.jsx)(l.p,{children:"new()"}),"\n"]}),"\n",(0,t.jsx)(l.p,{children:(0,t.jsx)(l.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(l.table,{children:[(0,t.jsx)(l.thead,{children:(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.th,{children:"any"}),(0,t.jsx)(l.th,{children:"baseDirectory"})]})}),(0,t.jsx)(l.tbody,{children:(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{children:"any"}),(0,t.jsx)(l.td,{children:"customMt"})]})})]}),"\n",(0,t.jsx)(l.p,{children:(0,t.jsx)(l.strong,{children:"Code"})}),"\n",(0,t.jsx)(l.pre,{children:(0,t.jsx)(l.code,{className:"language-lua",children:"function VehicleMaterial.new(baseDirectory, customMt)\n    local self = setmetatable( { } , customMt or VehicleMaterial _mt)\n\n    self.baseDirectory = baseDirectory\n    self.colorOnly = false\n\n    return self\nend\n\n"})}),"\n",(0,t.jsx)(l.h3,{id:"registershortxmlpaths",children:"registerShortXMLPaths"}),"\n",(0,t.jsx)(l.p,{children:(0,t.jsx)(l.strong,{children:"Description"})}),"\n",(0,t.jsx)(l.p,{children:(0,t.jsx)(l.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(l.blockquote,{children:["\n",(0,t.jsx)(l.p,{children:"registerShortXMLPaths(XMLSchema schema, string basePath)"}),"\n"]}),"\n",(0,t.jsx)(l.p,{children:(0,t.jsx)(l.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(l.table,{children:[(0,t.jsx)(l.thead,{children:(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.th,{children:"XMLSchema"}),(0,t.jsx)(l.th,{children:"schema"})]})}),(0,t.jsx)(l.tbody,{children:(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{children:"string"}),(0,t.jsx)(l.td,{children:"basePath"})]})})]}),"\n",(0,t.jsx)(l.p,{children:(0,t.jsx)(l.strong,{children:"Code"})}),"\n",(0,t.jsx)(l.pre,{children:(0,t.jsx)(l.code,{className:"language-lua",children:'function VehicleMaterial.registerShortXMLPaths(schema, basePath)\n    schema:register(XMLValueType.STRING, basePath .. "#materialSlotName" , "Material slot name in the i3d file" )\n    schema:register(XMLValueType.STRING, basePath .. "#materialTemplateName" , "Name of template to apply(all attributes will be used from template)" )\n    schema:registerAutoCompletionDataSource(basePath .. "#materialTemplateName" , "$data/shared/brandMaterialTemplates.xml" , "templates.template#name" )\n    schema:register(XMLValueType.BOOL, basePath .. "#materialTemplateUseColorOnly" , "If \'true\', only the color is used from the material template.The rest from the i3d file." , false )\n    schema:register(XMLValueType.STRING, basePath .. "#materialTemplateNameColor" , "Name of the material template that is used ONLY for the color" )\n        schema:registerAutoCompletionDataSource(basePath .. "#materialTemplateNameColor" , "$data/shared/brandMaterialTemplates.xml" , "templates.template#name" )\n    end\n\n'})}),"\n",(0,t.jsx)(l.h3,{id:"registerxmlpaths",children:"registerXMLPaths"}),"\n",(0,t.jsx)(l.p,{children:(0,t.jsx)(l.strong,{children:"Description"})}),"\n",(0,t.jsx)(l.p,{children:(0,t.jsx)(l.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(l.blockquote,{children:["\n",(0,t.jsx)(l.p,{children:"registerXMLPaths(XMLSchema schema, string basePath)"}),"\n"]}),"\n",(0,t.jsx)(l.p,{children:(0,t.jsx)(l.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(l.table,{children:[(0,t.jsx)(l.thead,{children:(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.th,{children:"XMLSchema"}),(0,t.jsx)(l.th,{children:"schema"})]})}),(0,t.jsx)(l.tbody,{children:(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{children:"string"}),(0,t.jsx)(l.td,{children:"basePath"})]})})]}),"\n",(0,t.jsx)(l.p,{children:(0,t.jsx)(l.strong,{children:"Code"})}),"\n",(0,t.jsx)(l.pre,{children:(0,t.jsx)(l.code,{className:"language-lua",children:'function VehicleMaterial.registerXMLPaths(schema, basePath)\n    schema:register(XMLValueType.STRING, basePath .. "#materialSlotName" , "Material slot name in the i3d file" )\n    schema:register(XMLValueType.STRING, basePath .. "#materialTemplateName" , "Name of template to apply(all attributes will be used from template)" )\n    schema:registerAutoCompletionDataSource(basePath .. "#materialTemplateName" , "$data/shared/brandMaterialTemplates.xml" , "templates.template#name" )\n    schema:register(XMLValueType.BOOL, basePath .. "#materialTemplateUseColorOnly" , "If \'true\', only the color is used from the material template.The rest from the i3d file." , false )\n\n    schema:register(XMLValueType.STRING, basePath .. ".colorScale#value" , "Material color if it should not be used from configuration(can also be a different material template, from which then ONLY the color is taken)" )\n\n        schema:register(XMLValueType.FLOAT, basePath .. ".smoothness#value" , "Smoothness value" )\n        schema:register(XMLValueType.FLOAT, basePath .. ".metalness#value" , "Metalness value" )\n        schema:register(XMLValueType.FLOAT, basePath .. ".clearCoat#smoothness" , "Smoothness of clear coat" )\n        schema:register(XMLValueType.FLOAT, basePath .. ".clearCoat#intensity" , "Intensity of clear coat" )\n\n        schema:register(XMLValueType.FILENAME, basePath .. ".detail#diffuse" , "Path to detail diffuse texture" )\n        schema:register(XMLValueType.FILENAME, basePath .. ".detail#normal" , "Path to detail normal texture" )\n        schema:register(XMLValueType.FILENAME, basePath .. ".detail#specular" , "Path to detail specular texture" )\n\n        schema:register(XMLValueType.FILENAME, basePath .. ".textures#diffuse" , "Path to diffuse texture" )\n        schema:register(XMLValueType.FILENAME, basePath .. ".textures#normal" , "Path to normal texture" )\n        schema:register(XMLValueType.FILENAME, basePath .. ".textures#specular" , "Path to specular texture" )\n    end\n\n'})}),"\n",(0,t.jsx)(l.h3,{id:"setcolor",children:"setColor"}),"\n",(0,t.jsx)(l.p,{children:(0,t.jsx)(l.strong,{children:"Description"})}),"\n",(0,t.jsx)(l.p,{children:(0,t.jsx)(l.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(l.blockquote,{children:["\n",(0,t.jsx)(l.p,{children:"setColor()"}),"\n"]}),"\n",(0,t.jsx)(l.p,{children:(0,t.jsx)(l.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(l.table,{children:[(0,t.jsx)(l.thead,{children:(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.th,{children:"any"}),(0,t.jsx)(l.th,{children:"r"})]})}),(0,t.jsxs)(l.tbody,{children:[(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{children:"any"}),(0,t.jsx)(l.td,{children:"g"})]}),(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{children:"any"}),(0,t.jsx)(l.td,{children:"b"})]})]})]}),"\n",(0,t.jsx)(l.p,{children:(0,t.jsx)(l.strong,{children:"Code"})}),"\n",(0,t.jsx)(l.pre,{children:(0,t.jsx)(l.code,{className:"language-lua",children:'function VehicleMaterial:setColor(r, g, b)\n    if r = = nil then\n        return\n    end\n\n    if type(r) = = "table" then\n        self.colorScale = { r[ 1 ], r[ 2 ], r[ 3 ] }\n    else\n            self.colorScale = { r, g, b }\n        end\n    end\n\n'})}),"\n",(0,t.jsx)(l.h3,{id:"settemplatename",children:"setTemplateName"}),"\n",(0,t.jsx)(l.p,{children:(0,t.jsx)(l.strong,{children:"Description"})}),"\n",(0,t.jsx)(l.p,{children:(0,t.jsx)(l.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(l.blockquote,{children:["\n",(0,t.jsx)(l.p,{children:"setTemplateName()"}),"\n"]}),"\n",(0,t.jsx)(l.p,{children:(0,t.jsx)(l.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(l.table,{children:[(0,t.jsx)(l.thead,{children:(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.th,{children:"any"}),(0,t.jsx)(l.th,{children:"templateName"})]})}),(0,t.jsxs)(l.tbody,{children:[(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{children:"any"}),(0,t.jsx)(l.td,{children:"colorOnly"})]}),(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{children:"any"}),(0,t.jsx)(l.td,{children:"customEnvironment"})]})]})]}),"\n",(0,t.jsx)(l.p,{children:(0,t.jsx)(l.strong,{children:"Code"})}),"\n",(0,t.jsx)(l.pre,{children:(0,t.jsx)(l.code,{className:"language-lua",children:'function VehicleMaterial:setTemplateName(templateName, colorOnly, customEnvironment)\n    self.templateName = templateName\n\n    self.materialTemplate = g_vehicleMaterialManager:getMaterialTemplateByName(templateName, customEnvironment)\n    if self.materialTemplate ~ = nil then\n        self.colorScale = self.materialTemplate.colorScale or self.materialTemplate.parentTemplate.colorScale\n        if self.colorScale = = nil then\n            self.colorScale = { 1 , 1 , 1 }\n        end\n\n        if colorOnly then\n            return true\n        end\n\n        self.smoothnessScale = self.materialTemplate.smoothnessScale or self.materialTemplate.parentTemplate.smoothnessScale or 1\n        self.metalnessScale = self.materialTemplate.metalnessScale or self.materialTemplate.parentTemplate.metalnessScale or 1\n        self.clearCoatSmoothness = self.materialTemplate.clearCoatSmoothness or self.materialTemplate.parentTemplate.clearCoatSmoothness or 0\n        self.clearCoatIntensity = self.materialTemplate.clearCoatIntensity or self.materialTemplate.parentTemplate.clearCoatIntensity or 0\n        self.porosity = self.materialTemplate.porosity or self.materialTemplate.parentTemplate.porosity or 0\n\n        self.detailDiffuse = self.materialTemplate.detailDiffuse or self.materialTemplate.parentTemplate.detailDiffuse or "data/shared/detailLibrary/nonMetallic/default_diffuse.png"\n        self.detailNormal = self.materialTemplate.detailNormal or self.materialTemplate.parentTemplate.detailNormal or "data/shared/detailLibrary/nonMetallic/default_normal.png"\n        self.detailSpecular = self.materialTemplate.detailSpecular or self.materialTemplate.parentTemplate.detailSpecular or "data/shared/detailLibrary/nonMetallic/default_specular.png"\n    else\n            return false\n        end\n\n        return true\n    end\n\n'})})]})}function h(e={}){const{wrapper:l}={...(0,r.R)(),...e.components};return l?(0,t.jsx)(l,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}}}]);