"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[76928],{28453(e,n,l){l.d(n,{R:()=>a,x:()=>r});var i=l(96540);const s={},t=i.createContext(s);function a(e){const n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),i.createElement(t.Provider,{value:n},e.children)}},58454(e,n,l){l.r(n),l.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>p,frontMatter:()=>a,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"script/Specializations/SoilSampler","title":"SoilSampler","description":"SoilSampler","source":"@site/../docs/script/Specializations/SoilSampler.md","sourceDirName":"script/Specializations","slug":"/script/Specializations/SoilSampler","permalink":"/FS25-Community-LUADOC/script/Specializations/SoilSampler","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"SmartAttachActivatable","permalink":"/FS25-Community-LUADOC/script/Specializations/SmartAttachActivatable"},"next":{"title":"SowingMachine","permalink":"/FS25-Community-LUADOC/script/Specializations/SowingMachine"}}');var s=l(74848),t=l(28453);const a={},r=void 0,c={},d=[{value:"SoilSampler",id:"soilsampler",level:2},{value:"actionEventSendSamples",id:"actioneventsendsamples",level:3},{value:"actionEventStartSample",id:"actioneventstartsample",level:3},{value:"doCheckSpeedLimit",id:"docheckspeedlimit",level:3},{value:"getCanStartSoilSampling",id:"getcanstartsoilsampling",level:3},{value:"getIsFoldAllowed",id:"getisfoldallowed",level:3},{value:"getNormalizedSampleIndex",id:"getnormalizedsampleindex",level:3},{value:"initSpecialization",id:"initspecialization",level:3},{value:"onFoldStateChanged",id:"onfoldstatechanged",level:3},{value:"onLeaveRootVehicle",id:"onleaverootvehicle",level:3},{value:"onLoad",id:"onload",level:3},{value:"onPostLoad",id:"onpostload",level:3},{value:"onPreDetach",id:"onpredetach",level:3},{value:"onReadStream",id:"onreadstream",level:3},{value:"onRegisterActionEvents",id:"onregisteractionevents",level:3},{value:"onSendSoilSamplesDialog",id:"onsendsoilsamplesdialog",level:3},{value:"onUpdate",id:"onupdate",level:3},{value:"onWriteStream",id:"onwritestream",level:3},{value:"prerequisitesPresent",id:"prerequisitespresent",level:3},{value:"processSoilSampling",id:"processsoilsampling",level:3},{value:"saveToXMLFile",id:"savetoxmlfile",level:3},{value:"sendTakenSoilSamples",id:"sendtakensoilsamples",level:3},{value:"setNumCollectedSoilSamples",id:"setnumcollectedsoilsamples",level:3},{value:"startSoilSampling",id:"startsoilsampling",level:3},{value:"updateActionEventState",id:"updateactioneventstate",level:3}];function o(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"soilsampler",children:"SoilSampler"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Specialization for soil samplers"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Functions"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#actioneventsendsamples",children:"actionEventSendSamples"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#actioneventstartsample",children:"actionEventStartSample"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#docheckspeedlimit",children:"doCheckSpeedLimit"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getcanstartsoilsampling",children:"getCanStartSoilSampling"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getisfoldallowed",children:"getIsFoldAllowed"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getnormalizedsampleindex",children:"getNormalizedSampleIndex"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#initspecialization",children:"initSpecialization"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onfoldstatechanged",children:"onFoldStateChanged"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onleaverootvehicle",children:"onLeaveRootVehicle"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onload",children:"onLoad"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onpostload",children:"onPostLoad"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onpredetach",children:"onPreDetach"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onreadstream",children:"onReadStream"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onregisteractionevents",children:"onRegisterActionEvents"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onsendsoilsamplesdialog",children:"onSendSoilSamplesDialog"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onupdate",children:"onUpdate"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onwritestream",children:"onWriteStream"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#prerequisitespresent",children:"prerequisitesPresent"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#processsoilsampling",children:"processSoilSampling"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#savetoxmlfile",children:"saveToXMLFile"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#sendtakensoilsamples",children:"sendTakenSoilSamples"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#setnumcollectedsoilsamples",children:"setNumCollectedSoilSamples"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#startsoilsampling",children:"startSoilSampling"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#updateactioneventstate",children:"updateActionEventState"})}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"actioneventsendsamples",children:"actionEventSendSamples"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"actionEventSendSamples()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"self"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"actionName"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"inputValue"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"callbackState"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"isAnalog"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function SoilSampler.actionEventSendSamples( self , actionName, inputValue, callbackState, isAnalog)\n    local spec = self [ SoilSampler.SPEC_TABLE_NAME]\n    if spec.numCollectedSamples > 0 and not spec.isSampling then\n        InfoDialog.show(spec.texts.infoSamplesSend, SoilSampler.onSendSoilSamplesDialog, self )\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"actioneventstartsample",children:"actionEventStartSample"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"actionEventStartSample()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"self"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"actionName"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"inputValue"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"callbackState"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"isAnalog"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function SoilSampler.actionEventStartSample( self , actionName, inputValue, callbackState, isAnalog)\n    local canStart, warning = self:getCanStartSoilSampling()\n    if canStart then\n        self:startSoilSampling()\n    elseif warning ~ = nil then\n            g_currentMission:showBlinkingWarning(warning, 2000 )\n        end\n    end\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"docheckspeedlimit",children:"doCheckSpeedLimit"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Returns if speed limit should be checked"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"doCheckSpeedLimit()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"checkSpeedlimit"}),(0,s.jsx)(n.th,{children:"check speed limit"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function SoilSampler:doCheckSpeedLimit(superFunc)\n    return superFunc( self ) or self [ SoilSampler.SPEC_TABLE_NAME].isSampling\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getcanstartsoilsampling",children:"getCanStartSoilSampling"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getCanStartSoilSampling()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function SoilSampler:getCanStartSoilSampling()\n    local spec = self [ SoilSampler.SPEC_TABLE_NAME]\n    local x, _, z = getWorldTranslation(spec.samplingNode)\n    local farmlandId = g_farmlandManager:getFarmlandIdAtWorldPosition(x, z)\n    if farmlandId = = nil then -- no valid farmland, or not buyable\n        return false , g_i18n:getText( "warning_youDontHaveAccessToThisLand" )\n    end\n\n    local landOwner = g_farmlandManager:getFarmlandOwner(farmlandId)\n    local accessible = landOwner ~ = 0 and g_currentMission.accessHandler:canFarmAccessOtherId( self:getActiveFarm(), landOwner)\n    if not accessible then\n        return false , g_i18n:getText( "warning_youDontHaveAccessToThisLand" )\n    end\n\n    if self.getIsMotorStarted ~ = nil then\n        if not self:getIsMotorStarted() then\n            return false , g_i18n:getText( "warning_motorNotStarted" )\n        end\n    else\n            local rootAttacherVehicle = self:getRootVehicle()\n            if rootAttacherVehicle ~ = self then\n                if rootAttacherVehicle.getIsMotorStarted ~ = nil then\n                    if not rootAttacherVehicle:getIsMotorStarted() then\n                        return false , g_i18n:getText( "warning_motorNotStarted" )\n                    end\n                end\n            end\n        end\n\n        if self.getFoldAnimTime ~ = nil then\n            local time = self:getFoldAnimTime()\n            if time > spec.foldMaxLimit or time < spec.foldMinLimit then\n                return false , self.spec_foldable.unfoldWarning\n            end\n        end\n\n        return not self [ SoilSampler.SPEC_TABLE_NAME].isSampling\n    end\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"getisfoldallowed",children:"getIsFoldAllowed"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getIsFoldAllowed()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"superFunc"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"direction"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"onAiTurnOn"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function SoilSampler:getIsFoldAllowed(superFunc, direction, onAiTurnOn)\n    return not self [ SoilSampler.SPEC_TABLE_NAME].isSampling and superFunc( self , direction, onAiTurnOn)\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getnormalizedsampleindex",children:"getNormalizedSampleIndex"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getNormalizedSampleIndex()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function SoilSampler:getNormalizedSampleIndex()\n    local spec = self [ SoilSampler.SPEC_TABLE_NAME]\n    local sampleIndex = spec.numCollectedSamples % #spec.visualSamples\n    if spec.numCollectedSamples = = 0 then\n        return 0\n    else\n            if sampleIndex = = 0 then\n                return #spec.visualSamples\n            end\n        end\n\n        return sampleIndex\n    end\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"initspecialization",children:"initSpecialization"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"initSpecialization()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function SoilSampler.initSpecialization()\n    local schema = Vehicle.xmlSchema\n    schema:setXMLSpecializationType( "SoilSampler" )\n\n    schema:register(XMLValueType.NODE_INDEX, "vehicle.soilSampler#node" , "Sampling Node" )\n    schema:register(XMLValueType.FLOAT, "vehicle.soilSampler#radius" , "Sampling radius" , 10 )\n\n    schema:register(XMLValueType.STRING, "vehicle.soilSampler#actionNameTake" , "Take sample input action name" , "IMPLEMENT_EXTRA" )\n    schema:register(XMLValueType.STRING, "vehicle.soilSampler#actionNameSend" , "Send sample input action name" , "IMPLEMENT_EXTRA3" )\n\n    schema:register(XMLValueType.STRING, "vehicle.soilSampler#animationName" , "Sampling animation name" )\n    schema:register(XMLValueType.FLOAT, "vehicle.soilSampler#animationSpeed" , "Sampling animation speed" , 1 )\n\n    schema:register(XMLValueType.FLOAT, "vehicle.soilSampler#foldMinLimit" , "Fold min.limit" , 0 )\n    schema:register(XMLValueType.FLOAT, "vehicle.soilSampler#foldMaxLimit" , "Fold max.limit" , 1 )\n\n    schema:register(XMLValueType.STRING, "vehicle.soilSampler.samplesAnimation#name" , "Samples animation name" )\n    schema:register(XMLValueType.FLOAT, "vehicle.soilSampler.samplesAnimation#speed" , "Samples animation speed" , 1 )\n    schema:register(XMLValueType.INT, "vehicle.soilSampler.samplesAnimation#minSamples" , "Min.samples" , 0 )\n    schema:register(XMLValueType.INT, "vehicle.soilSampler.samplesAnimation#maxSamples" , "Max.samples" , 0 )\n\n    schema:register(XMLValueType.FLOAT, "vehicle.soilSampler.visualSamples#updateTime" , "Update time" , 0.5 )\n\n    schema:register(XMLValueType.NODE_INDEX, "vehicle.soilSampler.visualSamples.visualSample(?)#node" , "Visual sample node" )\n\n    schema:setXMLSpecializationType()\n\n    local schemaSavegame = Vehicle.xmlSchemaSavegame\n    schemaSavegame:register(XMLValueType.INT, "vehicles.vehicle(?)." .. SoilSampler.SPEC_NAME .. "#numCollectedSamples" , "Num collected samples" )\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"onfoldstatechanged",children:"onFoldStateChanged"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onFoldStateChanged()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"direction"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"moveToMiddle"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function SoilSampler:onFoldStateChanged(direction, moveToMiddle)\n    local spec = self [ SoilSampler.SPEC_TABLE_NAME]\n    if self:getIsActiveForInput( true ) then\n        spec.soilMap:setRequireMinimapDisplay(direction = = 1 , self , self:getIsSelected())\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onleaverootvehicle",children:"onLeaveRootVehicle"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onLeaveRootVehicle()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function SoilSampler:onLeaveRootVehicle()\n    local spec = self [ SoilSampler.SPEC_TABLE_NAME]\n    if spec.soilMap:getMinimapAdditionalElementLinkNode() = = spec.samplingNode then\n        spec.soilMap:setRequireMinimapDisplay( false , self )\n        spec.soilMap:setMinimapAdditionalElementLinkNode( nil )\n        spec.soilMap:setMinimapSamplingState( false )\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onload",children:"onLoad"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onLoad()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"savegame"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function SoilSampler:onLoad(savegame)\n    local spec = self [ SoilSampler.SPEC_TABLE_NAME]\n\n    local baseName = "vehicle.soilSampler"\n\n    spec.samplingNode = self.xmlFile:getValue(baseName .. "#node" , nil , self.components, self.i3dMappings)\n    spec.samplingRadius = self.xmlFile:getValue(baseName .. "#radius" , 10 )\n\n    spec.densityMapCircle = DensityMapCircle.new()\n\n    local actionNameTake = self.xmlFile:getValue(baseName .. "#actionNameTake" , "IMPLEMENT_EXTRA" )\n    spec.inputActionTake = InputAction[actionNameTake] or InputAction.IMPLEMENT_EXTRA\n\n    local actionNameSend = self.xmlFile:getValue(baseName .. "#actionNameSend" , "IMPLEMENT_EXTRA3" )\n    spec.inputActionSend = InputAction[actionNameSend] or InputAction.IMPLEMENT_EXTRA\n\n    spec.isSampling = false\n\n    spec.animationName = self.xmlFile:getValue(baseName .. "#animationName" )\n    spec.animationSpeed = self.xmlFile:getValue(baseName .. "#animationSpeed" , 1 )\n\n    spec.numCollectedSamples = 0\n\n    spec.foldMinLimit = self.xmlFile:getValue(baseName .. "#foldMinLimit" , 0 )\n    spec.foldMaxLimit = self.xmlFile:getValue(baseName .. "#foldMaxLimit" , 1 )\n\n    spec.samplesAnimation = { }\n    spec.samplesAnimation.name = self.xmlFile:getValue(baseName .. ".samplesAnimation#name" )\n    spec.samplesAnimation.speed = self.xmlFile:getValue(baseName .. ".samplesAnimation#speed" , 1 )\n    spec.samplesAnimation.minSamples = self.xmlFile:getValue( baseName .. ".samplesAnimation#minSamples" , 0 )\n    spec.samplesAnimation.maxSamples = self.xmlFile:getValue( baseName .. ".samplesAnimation#maxSamples" , 0 )\n\n    spec.visualSampleUpdateTime = self.xmlFile:getValue(baseName .. ".visualSamples#updateTime" , 0.5 )\n    spec.visualSampleUpdated = true\n    spec.visualSamples = { }\n    local i = 0\n    while true do\n        local visualSampleKey = string.format( "%s.visualSamples.visualSample(%d)" , baseName, i)\n        if not self.xmlFile:hasProperty(visualSampleKey) then\n            break\n        end\n\n        local node = self.xmlFile:getValue(visualSampleKey .. "#node" , nil , self.components, self.i3dMappings)\n        if node ~ = nil then\n            setVisibility(node, false )\n            table.insert(spec.visualSamples, node)\n        end\n\n        i = i + 1\n    end\n\n    spec.texts = { }\n    spec.texts.takeSample = g_i18n:getText( "action_takeSoilSample" , self.customEnvironment)\n    spec.texts.sendSoilSamples = g_i18n:getText( "action_sendSoilSamples" , self.customEnvironment)\n    spec.texts.numSamplesTaken = g_i18n:getText( "info_numSamplesTaken" , self.customEnvironment)\n    spec.texts.infoSamplesSend = g_i18n:getText( "info_samplesSend" , self.customEnvironment)\n\n    if g_precisionFarming ~ = nil then\n        spec.soilMap = g_precisionFarming.soilMap\n        spec.coverMap = g_precisionFarming.coverMap\n        spec.farmlandStatistics = g_precisionFarming.farmlandStatistics\n    end\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"onpostload",children:"onPostLoad"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onPostLoad()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"savegame"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function SoilSampler:onPostLoad(savegame)\n    local spec = self [ SoilSampler.SPEC_TABLE_NAME]\n    if savegame ~ = nil and not savegame.resetVehicles then\n        local numSamples = savegame.xmlFile:getValue(savegame.key .. "." .. SoilSampler.SPEC_NAME .. "#numCollectedSamples" , spec.numCollectedSamples)\n        self:setNumCollectedSoilSamples(numSamples, true )\n    end\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"onpredetach",children:"onPreDetach"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onPreDetach()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function SoilSampler:onPreDetach()\n    local spec = self [ SoilSampler.SPEC_TABLE_NAME]\n    if spec.soilMap:getMinimapAdditionalElementLinkNode() = = spec.samplingNode then\n        spec.soilMap:setRequireMinimapDisplay( false , self )\n        spec.soilMap:setMinimapAdditionalElementLinkNode( nil )\n        spec.soilMap:setMinimapSamplingState( false )\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onreadstream",children:"onReadStream"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Called on client side on join"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onReadStream(integer streamId, Connection connection)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"integer"}),(0,s.jsx)(n.th,{children:"streamId"}),(0,s.jsx)(n.th,{children:"streamId"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Connection"}),(0,s.jsx)(n.td,{children:"connection"}),(0,s.jsx)(n.td,{children:"connection"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function SoilSampler:onReadStream(streamId, connection)\n    local spec = self [ SoilSampler.SPEC_TABLE_NAME]\n\n    local numSamples = streamReadUIntN(streamId, SoilSampler.SEND_NUM_BITS) or spec.numCollectedSamples\n    self:setNumCollectedSoilSamples(numSamples, true )\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onregisteractionevents",children:"onRegisterActionEvents"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onRegisterActionEvents()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"isActiveForInput"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"isActiveForInputIgnoreSelection"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function SoilSampler:onRegisterActionEvents(isActiveForInput, isActiveForInputIgnoreSelection)\n    if self.isClient then\n        local spec = self [ SoilSampler.SPEC_TABLE_NAME]\n        self:clearActionEventsTable(spec.actionEvents)\n        if isActiveForInputIgnoreSelection then\n            local _, actionEventId = self:addActionEvent(spec.actionEvents, spec.inputActionTake, self , SoilSampler.actionEventStartSample, false , true , false , true , nil )\n            g_inputBinding:setActionEventTextPriority(actionEventId, GS_PRIO_HIGH)\n            g_inputBinding:setActionEventText(actionEventId, spec.texts.takeSample)\n\n            _, actionEventId = self:addActionEvent(spec.actionEvents, spec.inputActionSend, self , SoilSampler.actionEventSendSamples, false , true , false , true , nil )\n            g_inputBinding:setActionEventTextPriority(actionEventId, GS_PRIO_HIGH)\n            g_inputBinding:setActionEventText(actionEventId, spec.texts.sendSoilSamples)\n\n            SoilSampler.updateActionEventState( self )\n\n            spec.soilMap:setRequireMinimapDisplay( self:getFoldAnimTime() > 0 , self , self:getIsSelected())\n            spec.soilMap:setMinimapAdditionalElementLinkNode(spec.samplingNode)\n            spec.soilMap:setMinimapAdditionalElementRealSize(spec.samplingRadius * 2 , spec.samplingRadius * 2 )\n        end\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onsendsoilsamplesdialog",children:"onSendSoilSamplesDialog"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onSendSoilSamplesDialog()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"self"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function SoilSampler.onSendSoilSamplesDialog( self )\n    local spec = self [ SoilSampler.SPEC_TABLE_NAME]\n    if spec.soilMap ~ = nil then\n        -- send all samples collected by the farm with any sampler unit to the lab since we cannot only uncover for specific vehicle, only by farm\n            spec.soilMap:sendSoilSamplesByFarm( self:getOwnerFarmId())\n        end\n    end\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onupdate",children:"onUpdate"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Called on update"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onUpdate(float dt, boolean isActiveForInput, boolean isSelected, )"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"float"}),(0,s.jsx)(n.th,{children:"dt"}),(0,s.jsx)(n.th,{children:"time since last call in ms"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"boolean"}),(0,s.jsx)(n.td,{children:"isActiveForInput"}),(0,s.jsx)(n.td,{children:"true if vehicle is active for input"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"boolean"}),(0,s.jsx)(n.td,{children:"isSelected"}),(0,s.jsx)(n.td,{children:"true if vehicle is selected"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"isSelected"}),(0,s.jsx)(n.td,{})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function SoilSampler:onUpdate(dt, isActiveForInput, isActiveForInputIgnoreSelection, isSelected)\n    local spec = self [ SoilSampler.SPEC_TABLE_NAME]\n    if spec.isSampling then\n        if self.isClient then\n            if not spec.visualSampleUpdated then\n                if self:getAnimationTime(spec.animationName) > = spec.visualSampleUpdateTime then\n                    local sampleIndex = self:getNormalizedSampleIndex()\n\n                    for i = 1 , #spec.visualSamples do\n                        setVisibility(spec.visualSamples[i], i < = sampleIndex)\n                    end\n                    spec.visualSampleUpdated = false\n                end\n            end\n        end\n\n        if not self:getIsAnimationPlaying(spec.animationName) then\n            spec.isSampling = false\n            self:setAnimationTime(spec.animationName, 0 , false )\n\n            if spec.soilMap:getMinimapAdditionalElementLinkNode() = = spec.samplingNode then\n                spec.soilMap:setMinimapSamplingState( false )\n            end\n\n            self:processSoilSampling()\n            self.speedLimit = math.huge\n        end\n    end\n\n    if isActiveForInputIgnoreSelection and spec.numCollectedSamples > 0 then\n        g_currentMission:addExtraPrintText( string.format(spec.texts.numSamplesTaken, spec.numCollectedSamples))\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onwritestream",children:"onWriteStream"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Called on server side on join"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onWriteStream(integer streamId, Connection connection)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"integer"}),(0,s.jsx)(n.th,{children:"streamId"}),(0,s.jsx)(n.th,{children:"streamId"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Connection"}),(0,s.jsx)(n.td,{children:"connection"}),(0,s.jsx)(n.td,{children:"connection"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function SoilSampler:onWriteStream(streamId, connection)\n    local spec = self [ SoilSampler.SPEC_TABLE_NAME]\n    streamWriteUIntN(streamId, spec.numCollectedSamples, SoilSampler.SEND_NUM_BITS)\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"prerequisitespresent",children:"prerequisitesPresent"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Checks if all prerequisite specializations are loaded"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"prerequisitesPresent(table specializations)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"table"}),(0,s.jsx)(n.th,{children:"specializations"}),(0,s.jsx)(n.th,{children:"specializations"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"table"}),(0,s.jsx)(n.th,{children:"hasPrerequisite"}),(0,s.jsx)(n.th,{children:"true if all prerequisite specializations are loaded"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function SoilSampler.prerequisitesPresent(specializations)\n    return SpecializationUtil.hasSpecialization( PrecisionFarmingStatistic , specializations)\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"processsoilsampling",children:"processSoilSampling"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"processSoilSampling()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function SoilSampler:processSoilSampling()\n    if self.isServer then\n        local spec = self [ SoilSampler.SPEC_TABLE_NAME]\n        if spec.soilMap ~ = nil then\n            local worldX, _, worldZ = getWorldTranslation(spec.samplingNode)\n            spec.densityMapCircle:updateFromWorldPosition(worldX, worldZ, spec.samplingRadius, 20 )\n            spec.coverMap:analyseArea(spec.densityMapCircle, nil , self:getOwnerFarmId())\n        end\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"savetoxmlfile",children:"saveToXMLFile"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"saveToXMLFile()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"xmlFile"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"key"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"usedModNames"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function SoilSampler:saveToXMLFile(xmlFile, key, usedModNames)\n    local spec = self [ SoilSampler.SPEC_TABLE_NAME]\n    xmlFile:setValue(key .. "#numCollectedSamples" , spec.numCollectedSamples)\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"sendtakensoilsamples",children:"sendTakenSoilSamples"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"sendTakenSoilSamples()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"noEventSend"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function SoilSampler:sendTakenSoilSamples(noEventSend)\n    local spec = self [ SoilSampler.SPEC_TABLE_NAME]\n\n    if self.isServer then\n        if spec.soilMap ~ = nil then\n            spec.soilMap:analyseSoilSamples( self:getOwnerFarmId(), spec.numCollectedSamples)\n        end\n    end\n\n    if self.isClient then\n        for i = 1 , #spec.visualSamples do\n            setVisibility(spec.visualSamples[i], false )\n        end\n\n        self:playAnimation(spec.samplesAnimation.name, - spec.samplesAnimation.speed, self:getAnimationTime(spec.samplesAnimation.name), true )\n    end\n\n    spec.numCollectedSamples = 0\n    SoilSampler.updateActionEventState( self )\n\n    SoilSamplerSendEvent.sendEvent( self , noEventSend)\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"setnumcollectedsoilsamples",children:"setNumCollectedSoilSamples"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"setNumCollectedSoilSamples()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"num"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"updateVisuals"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function SoilSampler:setNumCollectedSoilSamples(num, updateVisuals)\n    local spec = self [ SoilSampler.SPEC_TABLE_NAME]\n    spec.numCollectedSamples = num or(spec.numCollectedSamples + 1 )\n\n    if updateVisuals then\n        local sampleIndex = self:getNormalizedSampleIndex()\n        for j = 1 , #spec.visualSamples do\n            setVisibility(spec.visualSamples[j], j < = sampleIndex)\n        end\n\n        local stopTime = (sampleIndex - spec.samplesAnimation.minSamples) / (spec.samplesAnimation.maxSamples - spec.samplesAnimation.minSamples)\n        self:setAnimationTime(spec.samplesAnimation.name, stopTime, true )\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"startsoilsampling",children:"startSoilSampling"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"startSoilSampling()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"noEventSend"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function SoilSampler:startSoilSampling(noEventSend)\n    local spec = self [ SoilSampler.SPEC_TABLE_NAME]\n    spec.isSampling = true\n\n    if self.isServer then\n        if not self:getIsLowered( false ) then\n            local attacherVehicle = self:getAttacherVehicle()\n            if attacherVehicle ~ = nil then\n                local jointDesc = attacherVehicle:getAttacherJointDescFromObject( self )\n                if jointDesc.allowsLowering then\n                    local jointDescIndex = attacherVehicle:getAttacherJointIndexFromObject( self )\n                    attacherVehicle:setJointMoveDown(jointDescIndex, true , false )\n                end\n            end\n        end\n\n        local _, isOnField, _ = self:getPFStatisticInfo()\n        if isOnField then\n            self:updatePFStatistic( "numSoilSamples" , 1 )\n            self:updatePFStatistic( "soilSampleCosts" , spec.soilMap:getPricePerSoilSample())\n        end\n\n        self.speedLimit = 0\n    end\n\n    self:playAnimation(spec.animationName, spec.animationSpeed, self:getAnimationTime(spec.animationName), true )\n\n    self:setNumCollectedSoilSamples(spec.numCollectedSamples + 1 , false )\n\n    if self:getIsActiveForInput( true ) then\n        spec.soilMap:setMinimapSamplingState( true )\n    end\n\n    if self.isClient then\n        if (spec.numCollectedSamples - 1 ) % #spec.visualSamples = = 0 then\n            for i = 1 , #spec.visualSamples do\n                setVisibility(spec.visualSamples[i], false )\n            end\n\n            self:playAnimation(spec.samplesAnimation.name, - spec.samplesAnimation.speed, self:getAnimationTime(spec.samplesAnimation.name), true )\n        else\n                local sampleIndex = self:getNormalizedSampleIndex()\n                local stopTime = (sampleIndex - spec.samplesAnimation.minSamples) / (spec.samplesAnimation.maxSamples - spec.samplesAnimation.minSamples)\n                if self:getAnimationTime(spec.samplesAnimation.name) < stopTime then\n                    self:setAnimationStopTime(spec.samplesAnimation.name, stopTime)\n                    self:playAnimation(spec.samplesAnimation.name, spec.samplesAnimation.speed, self:getAnimationTime(spec.samplesAnimation.name), true )\n                end\n            end\n\n            spec.visualSampleUpdated = false\n        end\n\n        SoilSampler.updateActionEventState( self )\n\n        SoilSamplerStartEvent.sendEvent( self , noEventSend)\n    end\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"updateactioneventstate",children:"updateActionEventState"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"updateActionEventState()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"self"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function SoilSampler.updateActionEventState( self )\n    local spec = self [ SoilSampler.SPEC_TABLE_NAME]\n    local actionEventSend = spec.actionEvents[spec.inputActionSend]\n    if actionEventSend ~ = nil then\n        g_inputBinding:setActionEventActive(actionEventSend.actionEventId, spec.numCollectedSamples > 0 )\n    end\nend\n\n"})})]})}function p(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}}}]);