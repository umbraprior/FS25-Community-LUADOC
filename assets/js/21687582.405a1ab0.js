"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[3328],{18057(e,n,i){i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"script/Specializations/PlowPacker","title":"PlowPacker","description":"PlowPacker","source":"@site/../docs/script/Specializations/PlowPacker.md","sourceDirName":"script/Specializations","slug":"/script/Specializations/PlowPacker","permalink":"/FS25-Community-LUADOC/script/Specializations/PlowPacker","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"Plow","permalink":"/FS25-Community-LUADOC/script/Specializations/Plow"},"next":{"title":"PowerConsumer","permalink":"/FS25-Community-LUADOC/script/Specializations/PowerConsumer"}}');var s=i(74848),r=i(28453);const l={},c=void 0,a={},d=[{value:"PlowPacker",id:"plowpacker",level:2},{value:"actionEventPackerDeactivate",id:"actioneventpackerdeactivate",level:3},{value:"getIsPackerAllowed",id:"getispackerallowed",level:3},{value:"getUseCultivatorAIRequirements",id:"getusecultivatorairequirements",level:3},{value:"initSpecialization",id:"initspecialization",level:3},{value:"onLoad",id:"onload",level:3},{value:"onPostLoad",id:"onpostload",level:3},{value:"onReadStream",id:"onreadstream",level:3},{value:"onRegisterActionEvents",id:"onregisteractionevents",level:3},{value:"onSetLowered",id:"onsetlowered",level:3},{value:"onUpdate",id:"onupdate",level:3},{value:"onUpdateTick",id:"onupdatetick",level:3},{value:"onWriteStream",id:"onwritestream",level:3},{value:"prerequisitesPresent",id:"prerequisitespresent",level:3},{value:"processCultivatorArea",id:"processcultivatorarea",level:3},{value:"registerEventListeners",id:"registereventlisteners",level:3},{value:"registerFunctions",id:"registerfunctions",level:3},{value:"registerOverwrittenFunctions",id:"registeroverwrittenfunctions",level:3},{value:"saveToXMLFile",id:"savetoxmlfile",level:3},{value:"setFoldState",id:"setfoldstate",level:3},{value:"setPackerState",id:"setpackerstate",level:3},{value:"setPlowAIRequirements",id:"setplowairequirements",level:3},{value:"setRotationMax",id:"setrotationmax",level:3},{value:"updateActionEventText",id:"updateactioneventtext",level:3}];function o(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"plowpacker",children:"PlowPacker"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Specialization for plows with packer to control the state of the packer and change the ai requirments based on the\npacker state"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Functions"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#actioneventpackerdeactivate",children:"actionEventPackerDeactivate"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getispackerallowed",children:"getIsPackerAllowed"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getusecultivatorairequirements",children:"getUseCultivatorAIRequirements"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#initspecialization",children:"initSpecialization"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onload",children:"onLoad"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onpostload",children:"onPostLoad"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onreadstream",children:"onReadStream"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onregisteractionevents",children:"onRegisterActionEvents"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onsetlowered",children:"onSetLowered"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onupdate",children:"onUpdate"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onupdatetick",children:"onUpdateTick"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onwritestream",children:"onWriteStream"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#prerequisitespresent",children:"prerequisitesPresent"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#processcultivatorarea",children:"processCultivatorArea"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#registereventlisteners",children:"registerEventListeners"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#registerfunctions",children:"registerFunctions"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#registeroverwrittenfunctions",children:"registerOverwrittenFunctions"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#savetoxmlfile",children:"saveToXMLFile"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#setfoldstate",children:"setFoldState"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#setpackerstate",children:"setPackerState"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#setplowairequirements",children:"setPlowAIRequirements"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#setrotationmax",children:"setRotationMax"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#updateactioneventtext",children:"updateActionEventText"})}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"actioneventpackerdeactivate",children:"actionEventPackerDeactivate"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"actionEventPackerDeactivate()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"self"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"actionName"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"inputValue"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"callbackState"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"isAnalog"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"isMouse"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function PlowPacker.actionEventPackerDeactivate( self , actionName, inputValue, callbackState, isAnalog, isMouse)\n    self:setPackerState()\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getispackerallowed",children:"getIsPackerAllowed"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getIsPackerAllowed()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function PlowPacker:getIsPackerAllowed()\n    if self:getIsAnimationPlaying( self.spec_plow.rotationPart.turnAnimation) then\n        return false\n    end\n\n    if self:getFoldAnimTime() ~ = ( self.spec_foldable.turnOnFoldDirection > 0 and 1 or 0 ) then\n        return false\n    end\n\n    local spec = self.spec_plowPacker\n    if spec.delayedFoldStateChange ~ = nil then\n        return false\n    end\n\n    if not spec.packerAvailable then\n        return false\n    end\n\n    return true\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getusecultivatorairequirements",children:"getUseCultivatorAIRequirements"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Returns if cultivator ai requirements should be used"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getUseCultivatorAIRequirements()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"useAIRequirements"}),(0,s.jsx)(n.th,{children:"use ai requirements"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function PlowPacker:getUseCultivatorAIRequirements(superFunc)\n    return false\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"initspecialization",children:"initSpecialization"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"initSpecialization()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function PlowPacker.initSpecialization()\n    local schema = Vehicle.xmlSchema\n    schema:setXMLSpecializationType( "PlowPacker" )\n\n    schema:register(XMLValueType.STRING, "vehicle.plow.packer#inputAction" , "Input action name for packer toggling" , "IMPLEMENT_EXTRA4" )\n\n        schema:register(XMLValueType.STRING, "vehicle.plow.packer#deactivateLeft" , "Packer deactivate animation left side" )\n        schema:register(XMLValueType.STRING, "vehicle.plow.packer#deactivateRight" , "Packer deactivate animation left side" )\n        schema:register(XMLValueType.FLOAT, "vehicle.plow.packer#animationSpeed" , "Packer animation speed" , 1 )\n        schema:register(XMLValueType.INT, "vehicle.plow.packer#foldingConfig" , "Folding configuration with available packer" , 1 )\n\n        schema:register(XMLValueType.BOOL, "vehicle.plow.packer#partialDeactivated" , "Only some parts of the packer are deactivated" , false )\n\n        schema:register(XMLValueType.STRING, "vehicle.plow.packer.lowerAnimation#name" , "Lower animation that is played while packer is active" )\n            schema:register(XMLValueType.FLOAT, "vehicle.plow.packer.lowerAnimation#speed" , "Lower animation speed" , 1 )\n\n            schema:setXMLSpecializationType()\n\n            local schemaSavegame = Vehicle.xmlSchemaSavegame\n            schemaSavegame:register(XMLValueType.BOOL, "vehicles.vehicle(?).plowPacker#packerState" , "Packer state" )\n            schemaSavegame:register(XMLValueType.BOOL, "vehicles.vehicle(?).plowPacker#lastPackerState" , "Last packer state while turning" )\n            end\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"onload",children:"onLoad"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onLoad()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"savegame"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function PlowPacker:onLoad(savegame)\n    local spec = self.spec_plowPacker\n\n    local actionName = self.xmlFile:getValue( "vehicle.plow.packer#inputAction" , "IMPLEMENT_EXTRA4" )\n    if actionName ~ = nil then\n        spec.packerInputActionIndex = InputAction[actionName]\n    end\n\n    spec.packerDeactivateLeftAnimation = self.xmlFile:getValue( "vehicle.plow.packer#deactivateLeft" )\n    spec.packerDeactivateRightAnimation = self.xmlFile:getValue( "vehicle.plow.packer#deactivateRight" )\n    spec.packerDeactivateAnimSpeed = self.xmlFile:getValue( "vehicle.plow.packer#animationSpeed" , 1 )\n\n    spec.packerFoldingConfiguration = self.xmlFile:getValue( "vehicle.plow.packer#foldingConfig" , 1 )\n    spec.packerAvailable = self.configurations[ "folding" ] = = spec.packerFoldingConfiguration and spec.packerDeactivateLeftAnimation ~ = nil and spec.packerDeactivateRightAnimation ~ = nil\n\n    spec.partialDeactivated = self.xmlFile:getValue( "vehicle.plow.packer#partialDeactivated" , false )\n\n    spec.lowerAnimation = self.xmlFile:getValue( "vehicle.plow.packer.lowerAnimation#name" )\n    spec.lowerAnimationSpeed = self.xmlFile:getValue( "vehicle.plow.packer.lowerAnimation#speed" , 1 )\n\n    spec.packerActivateText = g_i18n:getText( "action_activatePacker" , self.customEnvironment)\n    spec.packerDeactivateText = g_i18n:getText( "action_deactivatePacker" , self.customEnvironment)\n\n    spec.packerState = true\n\n    spec.delayedFoldStateChange = nil\n    spec.delayedLowerAnimationUpdate = false\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"onpostload",children:"onPostLoad"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onPostLoad()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"savegame"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function PlowPacker:onPostLoad(savegame)\n    local spec = self.spec_plowPacker\n    self:setPlowAIRequirements()\n\n    if savegame ~ = nil and not savegame.resetVehicles then\n        if spec.packerAvailable then\n            local packerState = savegame.xmlFile:getValue(savegame.key .. ".plowPacker#packerState" )\n            if packerState ~ = nil then\n                self:setPackerState(packerState, true , true )\n                AnimatedVehicle.updateAnimations( self , 99999999 , true )\n            end\n\n            spec.lastPackerState = savegame.xmlFile:getValue(savegame.key .. ".plowPacker#lastPackerState" )\n        end\n    end\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"onreadstream",children:"onReadStream"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Called on client side on join"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onReadStream(integer streamId, Connection connection)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"integer"}),(0,s.jsx)(n.th,{children:"streamId"}),(0,s.jsx)(n.th,{children:"streamId"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Connection"}),(0,s.jsx)(n.td,{children:"connection"}),(0,s.jsx)(n.td,{children:"connection"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function PlowPacker:onReadStream(streamId, connection)\n    local spec = self.spec_plowPacker\n    if spec.packerAvailable then\n        local packerState = streamReadBool(streamId)\n\n        if self:getIsPackerAllowed() then\n            self:setPackerState(packerState, true , true )\n            AnimatedVehicle.updateAnimations( self , 99999999 , true )\n        end\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onregisteractionevents",children:"onRegisterActionEvents"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onRegisterActionEvents()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"isActiveForInput"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"isActiveForInputIgnoreSelection"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function PlowPacker:onRegisterActionEvents(isActiveForInput, isActiveForInputIgnoreSelection)\n    if self.isClient then\n        local spec = self.spec_plowPacker\n        if spec.packerAvailable then\n            self:clearActionEventsTable(spec.actionEvents)\n\n            if isActiveForInput and spec.packerInputActionIndex ~ = nil then\n                local _, actionEventId = self:addPoweredActionEvent(spec.actionEvents, spec.packerInputActionIndex, self , PlowPacker.actionEventPackerDeactivate, false , true , false , true )\n                g_inputBinding:setActionEventTextPriority(actionEventId, GS_PRIO_NORMAL)\n                PlowPacker.updateActionEventText( self )\n            end\n        end\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onsetlowered",children:"onSetLowered"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onSetLowered()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"lowered"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function PlowPacker:onSetLowered(lowered)\n    local spec = self.spec_plowPacker\n\n    if self:getIsPackerAllowed() then\n        if spec.packerState then\n            if spec.lowerAnimation ~ = nil then\n                self:playAnimation(spec.lowerAnimation, lowered and spec.lowerAnimationSpeed or - spec.lowerAnimationSpeed, nil , true )\n            end\n        end\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onupdate",children:"onUpdate"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Called on update"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onUpdate(float dt, boolean isActiveForInput, boolean isSelected, )"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"float"}),(0,s.jsx)(n.th,{children:"dt"}),(0,s.jsx)(n.th,{children:"time since last call in ms"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"boolean"}),(0,s.jsx)(n.td,{children:"isActiveForInput"}),(0,s.jsx)(n.td,{children:"true if vehicle is active for input"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"boolean"}),(0,s.jsx)(n.td,{children:"isSelected"}),(0,s.jsx)(n.td,{children:"true if vehicle is selected"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"isSelected"}),(0,s.jsx)(n.td,{})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function PlowPacker:onUpdate(dt, isActiveForInput, isActiveForInputIgnoreSelection, isSelected)\n    if self.isServer then\n        local spec = self.spec_plowPacker\n        if spec.packerAvailable then\n            if spec.lastPackerState ~ = nil then\n                if self:getIsPackerAllowed() then\n                    if spec.lastPackerState = = false then\n                        self:setPackerState( false , true )\n                    end\n\n                    spec.lastPackerState = nil\n                end\n            end\n\n            if spec.delayedFoldStateChange ~ = nil then\n                if not self:getIsAnimationPlaying(spec.packerDeactivateLeftAnimation)\n                    and not self:getIsAnimationPlaying(spec.packerDeactivateRightAnimation) then\n                    local data = spec.delayedFoldStateChange\n                    data.superFunc( self , data.direction, data.moveToMiddle, false )\n                    spec.delayedFoldStateChange = nil\n                end\n            end\n\n            if spec.delayedLowerAnimationUpdate then\n                if not self:getIsAnimationPlaying(spec.packerDeactivateLeftAnimation)\n                    and not self:getIsAnimationPlaying(spec.packerDeactivateRightAnimation) then\n                    local isLowered = self:getIsLowered()\n                    local animationTime = self:getAnimationTime(spec.lowerAnimation)\n                    if (isLowered and animationTime < = 0.5 ) or( not isLowered and animationTime > 0.5 ) then\n                        self:playAnimation(spec.lowerAnimation, isLowered and spec.lowerAnimationSpeed or - spec.lowerAnimationSpeed, nil , true )\n                    end\n\n                    spec.delayedLowerAnimationUpdate = false\n                end\n            end\n        end\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onupdatetick",children:"onUpdateTick"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Called on update"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onUpdateTick(float dt, boolean isActiveForInput, boolean isSelected, )"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"float"}),(0,s.jsx)(n.th,{children:"dt"}),(0,s.jsx)(n.th,{children:"time since last call in ms"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"boolean"}),(0,s.jsx)(n.td,{children:"isActiveForInput"}),(0,s.jsx)(n.td,{children:"true if vehicle is active for input"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"boolean"}),(0,s.jsx)(n.td,{children:"isSelected"}),(0,s.jsx)(n.td,{children:"true if vehicle is selected"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"isSelected"}),(0,s.jsx)(n.td,{})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function PlowPacker:onUpdateTick(dt, isActiveForInput, isActiveForInputIgnoreSelection, isSelected)\n    if self.isClient then\n        if self.spec_plowPacker.packerAvailable then\n            PlowPacker.updateActionEventText( self )\n        end\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onwritestream",children:"onWriteStream"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Called on server side on join"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onWriteStream(integer streamId, Connection connection)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"integer"}),(0,s.jsx)(n.th,{children:"streamId"}),(0,s.jsx)(n.th,{children:"streamId"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Connection"}),(0,s.jsx)(n.td,{children:"connection"}),(0,s.jsx)(n.td,{children:"connection"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function PlowPacker:onWriteStream(streamId, connection)\n    local spec = self.spec_plowPacker\n    if spec.packerAvailable then\n        streamWriteBool(streamId, spec.packerState)\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"prerequisitespresent",children:"prerequisitesPresent"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"prerequisitesPresent()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"specializations"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function PlowPacker.prerequisitesPresent(specializations)\n    return SpecializationUtil.hasSpecialization( Plow , specializations)\n    and SpecializationUtil.hasSpecialization( Cultivator , specializations)\n    and SpecializationUtil.hasSpecialization( AnimatedVehicle , specializations)\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"processcultivatorarea",children:"processCultivatorArea"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"processCultivatorArea()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"superFunc"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"workArea"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"dt"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function PlowPacker:processCultivatorArea(superFunc, workArea, dt)\n    local spec = self.spec_cultivator\n\n    local xs,_,zs = getWorldTranslation(workArea.start)\n    local xw,_,zw = getWorldTranslation(workArea.width)\n    local xh,_,zh = getWorldTranslation(workArea.height)\n\n    FSDensityMapUtil.eraseTireTrack(xs, zs, xw, zw, xh, zh)\n\n    if not self.isServer and self.currentUpdateDistance > PlowPacker.CLIENT_DM_UPDATE_RADIUS then\n        return 0 , 0\n    end\n\n    local params = spec.workAreaParameters\n\n    local realArea, area = FSDensityMapUtil.updatePlowPackerArea(xs, zs, xw, zw, xh, zh, params.angle)\n\n    params.lastChangedArea = params.lastChangedArea + realArea\n    params.lastStatsArea = params.lastStatsArea + realArea\n    params.lastTotalArea = params.lastTotalArea + area\n\n    spec.isWorking = self:getLastSpeed() > 0.5\n\n    return realArea, area\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"registereventlisteners",children:"registerEventListeners"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"registerEventListeners()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function PlowPacker.registerEventListeners(vehicleType)\n    SpecializationUtil.registerEventListener(vehicleType, "onLoad" , PlowPacker )\n    SpecializationUtil.registerEventListener(vehicleType, "onPostLoad" , PlowPacker )\n    SpecializationUtil.registerEventListener(vehicleType, "onReadStream" , PlowPacker )\n    SpecializationUtil.registerEventListener(vehicleType, "onWriteStream" , PlowPacker )\n    SpecializationUtil.registerEventListener(vehicleType, "onUpdate" , PlowPacker )\n    SpecializationUtil.registerEventListener(vehicleType, "onUpdateTick" , PlowPacker )\n    SpecializationUtil.registerEventListener(vehicleType, "onRegisterActionEvents" , PlowPacker )\n    SpecializationUtil.registerEventListener(vehicleType, "onSetLowered" , PlowPacker )\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"registerfunctions",children:"registerFunctions"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"registerFunctions()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function PlowPacker.registerFunctions(vehicleType)\n    SpecializationUtil.registerFunction(vehicleType, "setPackerState" , PlowPacker.setPackerState)\n    SpecializationUtil.registerFunction(vehicleType, "getIsPackerAllowed" , PlowPacker.getIsPackerAllowed)\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"registeroverwrittenfunctions",children:"registerOverwrittenFunctions"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"registerOverwrittenFunctions()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function PlowPacker.registerOverwrittenFunctions(vehicleType)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "setRotationMax" , PlowPacker.setRotationMax)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "setPlowAIRequirements" , PlowPacker.setPlowAIRequirements)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "setFoldState" , PlowPacker.setFoldState)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "processCultivatorArea" , PlowPacker.processCultivatorArea)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getUseCultivatorAIRequirements" , PlowPacker.getUseCultivatorAIRequirements)\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"savetoxmlfile",children:"saveToXMLFile"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"saveToXMLFile()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"xmlFile"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"key"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"usedModNames"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function PlowPacker:saveToXMLFile(xmlFile, key, usedModNames)\n    local spec = self.spec_plowPacker\n    if spec.packerAvailable then\n        xmlFile:setValue(key .. "#packerState" , spec.packerState)\n\n        if spec.lastPackerState ~ = nil then\n            xmlFile:setValue(key .. "#lastPackerState" , spec.lastPackerState)\n        end\n    end\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"setfoldstate",children:"setFoldState"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"setFoldState()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"superFunc"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"direction"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"moveToMiddle"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"noEventSend"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function PlowPacker:setFoldState(superFunc, direction, moveToMiddle, noEventSend)\n    local spec = self.spec_plowPacker\n    if spec.packerAvailable then\n        if direction ~ = 0 and direction ~ = self.spec_foldable.turnOnFoldDirection and self:getIsPackerAllowed() and not spec.packerState then\n            if self.isServer then\n                if spec.lastPackerState = = nil then\n                    spec.lastPackerState = spec.packerState\n                    self:setPackerState( true , true )\n\n                    spec.delayedFoldStateChange = { superFunc = superFunc, direction = direction, moveToMiddle = moveToMiddle }\n                end\n            end\n\n            -- sync the event to the server / client to they can set the 'lastPackerState' correctly\n            local specFoldable = self.spec_foldable\n            if specFoldable.foldMiddleAnimTime = = nil then\n                moveToMiddle = false\n            end\n            if specFoldable.foldMoveDirection ~ = direction or specFoldable.moveToMiddle ~ = moveToMiddle then\n                if noEventSend = = nil or noEventSend = = false then\n                    if g_server ~ = nil then\n                        g_server:broadcastEvent( FoldableSetFoldDirectionEvent.new( self , direction, moveToMiddle), nil , nil , self )\n                    else\n                            g_client:getServerConnection():sendEvent( FoldableSetFoldDirectionEvent.new( self , direction, moveToMiddle))\n                        end\n                    end\n                end\n\n                return\n            end\n        end\n\n        superFunc( self , direction, moveToMiddle, noEventSend)\n    end\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"setpackerstate",children:"setPackerState"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"setPackerState()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"newState"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"updateAnimations"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"noEventSend"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function PlowPacker:setPackerState(newState, updateAnimations, noEventSend)\n    local spec = self.spec_plowPacker\n\n    if newState = = nil then\n        newState = not spec.packerState\n    end\n\n    if updateAnimations = = nil then\n        updateAnimations = true\n    end\n\n    if newState ~ = spec.packerState then\n        spec.packerState = newState\n\n        if updateAnimations then\n            local direction = newState and - 1 or 1\n            if self.spec_plow.rotationMax then\n                self:playAnimation(spec.packerDeactivateLeftAnimation, spec.packerDeactivateAnimSpeed * direction, nil , true )\n            else\n                    self:playAnimation(spec.packerDeactivateRightAnimation, spec.packerDeactivateAnimSpeed * direction, nil , true )\n                end\n            end\n\n            -- if packer is activated we update the lowering animation after the packer has been lowered\n                -- so we sync the lowering state in case it has been changed while the packer was lifted\n                    if newState then\n                        if spec.lowerAnimation ~ = nil then\n                            local isLowered = self:getIsLowered()\n                            local animationTime = self:getAnimationTime(spec.lowerAnimation)\n                            if (isLowered and animationTime < = 0.5 ) or( not isLowered and animationTime > 0.5 ) then\n                                spec.delayedLowerAnimationUpdate = true\n                            end\n                        end\n                    end\n\n                    self:setPlowAIRequirements()\n\n                    PlowPackerStateEvent.sendEvent( self , newState, updateAnimations, noEventSend)\n                end\n\n                PlowPacker.updateActionEventText( self )\n            end\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"setplowairequirements",children:"setPlowAIRequirements"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"setPlowAIRequirements()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"superFunc"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"excludedGroundTypes"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function PlowPacker:setPlowAIRequirements(superFunc, excludedGroundTypes)\n    local spec = self.spec_plowPacker\n    if spec.packerAvailable then\n        if spec.packerState or spec.partialDeactivated then\n            return superFunc( self , PlowPacker.CULTIVATED_GROUND_TYPES)\n        end\n    end\n\n    return superFunc( self , excludedGroundTypes)\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"setrotationmax",children:"setRotationMax"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"setRotationMax()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"superFunc"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"rotationMax"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"noEventSend"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"turnAnimationTime"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function PlowPacker:setRotationMax(superFunc, rotationMax, noEventSend, turnAnimationTime)\n    if self.isServer then\n        if self.spec_plow.rotationMax ~ = rotationMax then\n            local spec = self.spec_plowPacker\n            if spec.packerAvailable then\n                if spec.lastPackerState = = nil then\n                    spec.lastPackerState = spec.packerState\n                    self:setPackerState( true , true )\n                end\n            end\n        end\n    end\n\n    superFunc( self , rotationMax, noEventSend, turnAnimationTime)\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"updateactioneventtext",children:"updateActionEventText"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"updateActionEventText()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"self"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function PlowPacker.updateActionEventText( self )\n    local spec = self.spec_plowPacker\n\n    local actionEvent = spec.actionEvents[spec.packerInputActionIndex]\n    if actionEvent ~ = nil then\n        if spec.packerState then\n            g_inputBinding:setActionEventText(actionEvent.actionEventId, spec.packerDeactivateText)\n        else\n                g_inputBinding:setActionEventText(actionEvent.actionEventId, spec.packerActivateText)\n            end\n\n            g_inputBinding:setActionEventActive(actionEvent.actionEventId, self:getIsPackerAllowed())\n        end\n    end\n\n"})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},28453(e,n,i){i.d(n,{R:()=>l,x:()=>c});var t=i(96540);const s={},r=t.createContext(s);function l(e){const n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);