"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[97976],{12585(e,n,i){i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"script/Specializations/Rideable","title":"Rideable","description":"Rideable","source":"@site/../docs/script/Specializations/Rideable.md","sourceDirName":"script/Specializations","slug":"/script/Specializations/Rideable","permalink":"/FS25-Community-LUADOC/script/Specializations/Rideable","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"ReverseDriving","permalink":"/FS25-Community-LUADOC/script/Specializations/ReverseDriving"},"next":{"title":"RidgeMarker","permalink":"/FS25-Community-LUADOC/script/Specializations/RidgeMarker"}}');var s=i(74848),l=i(28453);const r={},a=void 0,d={},c=[{value:"Rideable",id:"rideable",level:2},{value:"actionEventAccelerate",id:"actioneventaccelerate",level:3},{value:"actionEventBrake",id:"actioneventbrake",level:3},{value:"actionEventJump",id:"actioneventjump",level:3},{value:"actionEventSteer",id:"actioneventsteer",level:3},{value:"calculateLegsDistance",id:"calculatelegsdistance",level:3},{value:"dayChanged",id:"daychanged",level:3},{value:"deleteVehicleCharacter",id:"deletevehiclecharacter",level:3},{value:"endFade",id:"endfade",level:3},{value:"getCanBeReset",id:"getcanbereset",level:3},{value:"getCanBeSold",id:"getcanbesold",level:3},{value:"getCluster",id:"getcluster",level:3},{value:"getCurrentGait",id:"getcurrentgait",level:3},{value:"getFullName",id:"getfullname",level:3},{value:"getHoofSurfaceSound",id:"gethoofsurfacesound",level:3},{value:"getImageFilename",id:"getimagefilename",level:3},{value:"getInteractionHelp",id:"getinteractionhelp",level:3},{value:"getIsRideableJumpAllowed",id:"getisrideablejumpallowed",level:3},{value:"getMapHotspotRotation",id:"getmaphotspotrotation",level:3},{value:"getName",id:"getname",level:3},{value:"getPosition",id:"getposition",level:3},{value:"getRotation",id:"getrotation",level:3},{value:"getShowInVehiclesOverview",id:"getshowinvehiclesoverview",level:3},{value:"groundRaycastCallback",id:"groundraycastcallback",level:3},{value:"initSpecialization",id:"initspecialization",level:3},{value:"jump",id:"jump",level:3},{value:"onDelete",id:"ondelete",level:3},{value:"onDraw",id:"ondraw",level:3},{value:"onEnterVehicle",id:"onentervehicle",level:3},{value:"onLeaveVehicle",id:"onleavevehicle",level:3},{value:"onLoad",id:"onload",level:3},{value:"onLoadFinished",id:"onloadfinished",level:3},{value:"onReadPositionUpdateStream",id:"onreadpositionupdatestream",level:3},{value:"onReadStream",id:"onreadstream",level:3},{value:"onReadUpdateStream",id:"onreadupdatestream",level:3},{value:"onRegisterActionEvents",id:"onregisteractionevents",level:3},{value:"onSetBroken",id:"onsetbroken",level:3},{value:"onUpdate",id:"onupdate",level:3},{value:"onUpdateInterpolation",id:"onupdateinterpolation",level:3},{value:"onVehicleCharacterChanged",id:"onvehiclecharacterchanged",level:3},{value:"onWritePositionUpdateStream",id:"onwritepositionupdatestream",level:3},{value:"onWriteStream",id:"onwritestream",level:3},{value:"onWriteUpdateStream",id:"onwriteupdatestream",level:3},{value:"periodChanged",id:"periodchanged",level:3},{value:"prerequisitesPresent",id:"prerequisitespresent",level:3},{value:"registerEventListeners",id:"registereventlisteners",level:3},{value:"registerFunctions",id:"registerfunctions",level:3},{value:"registerOverwrittenFunctions",id:"registeroverwrittenfunctions",level:3},{value:"resetInputs",id:"resetinputs",level:3},{value:"saveToXMLFile",id:"savetoxmlfile",level:3},{value:"setCluster",id:"setcluster",level:3},{value:"setCurrentGait",id:"setcurrentgait",level:3},{value:"setEquipmentVisibility",id:"setequipmentvisibility",level:3},{value:"setPlayerToEnter",id:"setplayertoenter",level:3},{value:"setRideableSteer",id:"setrideablesteer",level:3},{value:"setWorldPosition",id:"setworldposition",level:3},{value:"setWorldPositionQuat",id:"setworldpositionquat",level:3},{value:"setWorldPositionQuaternion",id:"setworldpositionquaternion",level:3},{value:"showInfo",id:"showinfo",level:3},{value:"testCCTMove",id:"testcctmove",level:3},{value:"unlinkReins",id:"unlinkreins",level:3},{value:"updateAnimation",id:"updateanimation",level:3},{value:"updateDebugValues",id:"updatedebugvalues",level:3},{value:"updateDirt",id:"updatedirt",level:3},{value:"updateFootsteps",id:"updatefootsteps",level:3},{value:"updateInputText",id:"updateinputtext",level:3},{value:"updateKinematic",id:"updatekinematic",level:3},{value:"updateRiding",id:"updateriding",level:3},{value:"updateSound",id:"updatesound",level:3},{value:"updateVehicleSpeed",id:"updatevehiclespeed",level:3}];function o(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"rideable",children:"Rideable"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Specialization class for Rideables"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"XML Configuration Parameters"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"vehicle.rideable#speedBackwards"}),(0,s.jsx)(n.th,{children:"max speed in gait type backwards (m/s)"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"vehicle.rideable#speedWalk"}),(0,s.jsx)(n.td,{children:"max speed in gait type walk (m/s)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"vehicle.rideable#speedTrot"}),(0,s.jsx)(n.td,{children:"max speed in gait type trot (m/s)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"vehicle.rideable#speedGallop"}),(0,s.jsx)(n.td,{children:"max speed in gait type gallop (m/s)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"vehicle.rideable#turnAngle"}),(0,s.jsx)(n.td,{children:"max turn speed (deg/s)"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Functions"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#actioneventaccelerate",children:"actionEventAccelerate"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#actioneventbrake",children:"actionEventBrake"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#actioneventjump",children:"actionEventJump"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#actioneventsteer",children:"actionEventSteer"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#calculatelegsdistance",children:"calculateLegsDistance"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#daychanged",children:"dayChanged"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#deletevehiclecharacter",children:"deleteVehicleCharacter"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#endfade",children:"endFade"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getcanbereset",children:"getCanBeReset"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getcanbesold",children:"getCanBeSold"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getcluster",children:"getCluster"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getcurrentgait",children:"getCurrentGait"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getfullname",children:"getFullName"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#gethoofsurfacesound",children:"getHoofSurfaceSound"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getimagefilename",children:"getImageFilename"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getinteractionhelp",children:"getInteractionHelp"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getisrideablejumpallowed",children:"getIsRideableJumpAllowed"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getmaphotspotrotation",children:"getMapHotspotRotation"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getname",children:"getName"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getposition",children:"getPosition"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getrotation",children:"getRotation"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getshowinvehiclesoverview",children:"getShowInVehiclesOverview"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#groundraycastcallback",children:"groundRaycastCallback"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#initspecialization",children:"initSpecialization"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#jump",children:"jump"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#ondelete",children:"onDelete"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#ondraw",children:"onDraw"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onentervehicle",children:"onEnterVehicle"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onleavevehicle",children:"onLeaveVehicle"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onload",children:"onLoad"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onloadfinished",children:"onLoadFinished"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onreadpositionupdatestream",children:"onReadPositionUpdateStream"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onreadstream",children:"onReadStream"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onreadupdatestream",children:"onReadUpdateStream"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onregisteractionevents",children:"onRegisterActionEvents"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onsetbroken",children:"onSetBroken"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onupdate",children:"onUpdate"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onupdateinterpolation",children:"onUpdateInterpolation"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onvehiclecharacterchanged",children:"onVehicleCharacterChanged"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onwritepositionupdatestream",children:"onWritePositionUpdateStream"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onwritestream",children:"onWriteStream"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onwriteupdatestream",children:"onWriteUpdateStream"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#periodchanged",children:"periodChanged"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#prerequisitespresent",children:"prerequisitesPresent"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#registereventlisteners",children:"registerEventListeners"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#registerfunctions",children:"registerFunctions"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#registeroverwrittenfunctions",children:"registerOverwrittenFunctions"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#resetinputs",children:"resetInputs"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#savetoxmlfile",children:"saveToXMLFile"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#setcluster",children:"setCluster"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#setcurrentgait",children:"setCurrentGait"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#setequipmentvisibility",children:"setEquipmentVisibility"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#setplayertoenter",children:"setPlayerToEnter"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#setrideablesteer",children:"setRideableSteer"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#setworldposition",children:"setWorldPosition"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#setworldpositionquat",children:"setWorldPositionQuat"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#setworldpositionquaternion",children:"setWorldPositionQuaternion"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#showinfo",children:"showInfo"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#testcctmove",children:"testCCTMove"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#unlinkreins",children:"unlinkReins"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#updateanimation",children:"updateAnimation"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#updatedebugvalues",children:"updateDebugValues"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#updatedirt",children:"updateDirt"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#updatefootsteps",children:"updateFootsteps"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#updateinputtext",children:"updateInputText"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#updatekinematic",children:"updateKinematic"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#updateriding",children:"updateRiding"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#updatesound",children:"updateSound"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#updatevehiclespeed",children:"updateVehicleSpeed"})}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"actioneventaccelerate",children:"actionEventAccelerate"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Callback on accelerate event"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"actionEventAccelerate(table self, string actionName, float inputValue, string callbackState, boolean isAnalog)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"table"}),(0,s.jsx)(n.th,{children:"self"}),(0,s.jsx)(n.th,{children:"instance"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"string"}),(0,s.jsx)(n.td,{children:"actionName"}),(0,s.jsx)(n.td,{children:"action name"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"float"}),(0,s.jsx)(n.td,{children:"inputValue"}),(0,s.jsx)(n.td,{children:"input value"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"string"}),(0,s.jsx)(n.td,{children:"callbackState"}),(0,s.jsx)(n.td,{})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"boolean"}),(0,s.jsx)(n.td,{children:"isAnalog"}),(0,s.jsx)(n.td,{children:"true if input is analog"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Rideable.actionEventAccelerate( self , actionName, inputValue, callbackState, isAnalog)\n    local spec = self.spec_rideable\n    local enterable = self.spec_enterable\n\n    if enterable.isEntered and enterable.isControlled and spec.haltTimer < = 0 and spec.isOnGround then\n        self:setCurrentGait( math.min( self:getCurrentGait() + 1 , Rideable.GAITTYPES.MAX))\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"actioneventbrake",children:"actionEventBrake"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Callback on brake event"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"actionEventBrake(table self, string actionName, float inputValue, string callbackState, boolean isAnalog)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"table"}),(0,s.jsx)(n.th,{children:"self"}),(0,s.jsx)(n.th,{children:"instance"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"string"}),(0,s.jsx)(n.td,{children:"actionName"}),(0,s.jsx)(n.td,{children:"action name"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"float"}),(0,s.jsx)(n.td,{children:"inputValue"}),(0,s.jsx)(n.td,{children:"input value"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"string"}),(0,s.jsx)(n.td,{children:"callbackState"}),(0,s.jsx)(n.td,{})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"boolean"}),(0,s.jsx)(n.td,{children:"isAnalog"}),(0,s.jsx)(n.td,{children:"true if input is analog"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Rideable.actionEventBrake( self , actionName, inputValue, callbackState, isAnalog)\n    local spec = self.spec_rideable\n    if self:getIsEntered() and spec.haltTimer < = 0 and spec.isOnGround then\n        self:setCurrentGait( math.max( self:getCurrentGait() - 1 , 1 ))\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"actioneventjump",children:"actionEventJump"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Callback on jump event"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"actionEventJump(table self, string actionName, float inputValue, string callbackState, boolean isAnalog)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"table"}),(0,s.jsx)(n.th,{children:"self"}),(0,s.jsx)(n.th,{children:"instance"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"string"}),(0,s.jsx)(n.td,{children:"actionName"}),(0,s.jsx)(n.td,{children:"action name"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"float"}),(0,s.jsx)(n.td,{children:"inputValue"}),(0,s.jsx)(n.td,{children:"input value"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"string"}),(0,s.jsx)(n.td,{children:"callbackState"}),(0,s.jsx)(n.td,{})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"boolean"}),(0,s.jsx)(n.td,{children:"isAnalog"}),(0,s.jsx)(n.td,{children:"true if input is analog"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Rideable.actionEventJump( self , actionName, inputValue, callbackState, isAnalog)\n    if self:getIsRideableJumpAllowed() then\n        self:jump()\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"actioneventsteer",children:"actionEventSteer"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Callback on steer event"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"actionEventSteer(table self, string actionName, float inputValue, string callbackState, boolean isAnalog)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"table"}),(0,s.jsx)(n.th,{children:"self"}),(0,s.jsx)(n.th,{children:"instance"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"string"}),(0,s.jsx)(n.td,{children:"actionName"}),(0,s.jsx)(n.td,{children:"action name"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"float"}),(0,s.jsx)(n.td,{children:"inputValue"}),(0,s.jsx)(n.td,{children:"input value"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"string"}),(0,s.jsx)(n.td,{children:"callbackState"}),(0,s.jsx)(n.td,{})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"boolean"}),(0,s.jsx)(n.td,{children:"isAnalog"}),(0,s.jsx)(n.td,{children:"true if input is analog"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Rideable.actionEventSteer( self , actionName, inputValue, callbackState, isAnalog)\n    local spec = self.spec_rideable\n    if self:getIsEntered() and spec.haltTimer < = 0 then\n        self:setRideableSteer(inputValue)\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"calculatelegsdistance",children:"calculateLegsDistance"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Gets legs distance from rootNode"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"calculateLegsDistance(integer left, integer right)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"integer"}),(0,s.jsx)(n.th,{children:"left"}),(0,s.jsx)(n.th,{children:"leg node"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"integer"}),(0,s.jsx)(n.td,{children:"right"}),(0,s.jsx)(n.td,{children:"leg node"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"integer"}),(0,s.jsx)(n.th,{children:"distance"}),(0,s.jsx)(n.th,{children:"from root node"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Rideable:calculateLegsDistance(leftLegNode, rightLegNode)\n    local distance = 0.0\n    if leftLegNode ~ = nil and rightLegNode ~ = nil then\n        local _, _, dzL = localToLocal(leftLegNode, self.rootNode, 0.0 , 0.0 , 0.0 )\n        local _, _, dzR = localToLocal(rightLegNode, self.rootNode, 0.0 , 0.0 , 0.0 )\n        distance = (dzL + dzR) * 0.5\n    end\n    return distance\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"daychanged",children:"dayChanged"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"dayChanged()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Rideable:dayChanged(superFunc)\n    superFunc( self )\n\n    local spec = self.spec_rideable\n    if spec.cluster ~ = nil then\n        spec.cluster:onDayChanged()\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"deletevehiclecharacter",children:"deleteVehicleCharacter"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"deleteVehicleCharacter()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Rideable:deleteVehicleCharacter(superFunc)\n    self:setEquipmentVisibility( false )\n    self:unlinkReins()\n\n    superFunc( self )\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"endfade",children:"endFade"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"endFade()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Rideable:endFade()\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getcanbereset",children:"getCanBeReset"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getCanBeReset()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Rideable:getCanBeReset(superFunc)\n    return false\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getcanbesold",children:"getCanBeSold"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getCanBeSold()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Rideable:getCanBeSold(superFunc)\n    return false\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getcluster",children:"getCluster"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getCluster()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Rideable:getCluster()\n    return self.spec_rideable.cluster\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getcurrentgait",children:"getCurrentGait"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getCurrentGait()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Rideable:getCurrentGait()\n    return self.spec_rideable.inputValues.currentGait\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getfullname",children:"getFullName"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getFullName()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Rideable:getFullName(superFunc)\n    return self:getName()\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"gethoofsurfacesound",children:"getHoofSurfaceSound"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getHoofSurfaceSound()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"x"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"y"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"z"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"hitTerrain"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function Rideable:getHoofSurfaceSound(x, y, z, hitTerrain)\n    local spec = self.spec_rideable\n\n    if hitTerrain then\n        local mission = g_currentMission\n        local snowHeight = mission.snowSystem:getSnowHeightAtArea(x, z, x + 0.1 , z + 0.1 , x + 0.1 , z)\n        if snowHeight > 0 then\n            return spec.surfaceNameToSound[ "snow" ]\n        else\n                local isOnField, _ = FSDensityMapUtil.getFieldDataAtWorldPosition(x, y, z)\n                if isOnField then\n                    return spec.surfaceNameToSound[ "field" ]\n                elseif self.isInShallowWater then\n                        return spec.surfaceNameToSound[ "shallowWater" ]\n                    elseif self.isInMediumWater then\n                            return spec.surfaceNameToSound[ "mediumWater" ]\n                        end\n                    end\n\n                    local _, _, _, _ , materialId = getTerrainAttributesAtWorldPos(g_terrainNode, x, y, z, true , true , true , true , false )\n                    return spec.surfaceIdToSound[materialId]\n                else\n                        return spec.surfaceNameToSound[ "asphalt" ]\n                    end\n                end\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"getimagefilename",children:"getImageFilename"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getImageFilename()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Rideable:getImageFilename(superFunc)\n    local imageFilename = superFunc( self )\n\n    local cluster = self:getCluster()\n    if cluster ~ = nil then\n        local mission = g_currentMission\n        local visual = mission.animalSystem:getVisualByAge(cluster.subTypeIndex, cluster:getAge())\n        imageFilename = visual.store.imageFilename\n    end\n\n    return imageFilename\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getinteractionhelp",children:"getInteractionHelp"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Returns interaction help text"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getInteractionHelp()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"text"}),(0,s.jsx)(n.th,{children:"text"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function Rideable:getInteractionHelp(superFunc)\n    if self.interactionFlag = = Vehicle.INTERACTION_FLAG_ENTERABLE then\n        local spec = self.spec_rideable\n        local enterText = string.format(g_i18n:getText( "action_rideAnimal" ), spec.cluster:getName())\n        return enterText\n    else\n            return superFunc( self )\n        end\n    end\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"getisrideablejumpallowed",children:"getIsRideableJumpAllowed"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getIsRideableJumpAllowed()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"allowWhileJump"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Rideable:getIsRideableJumpAllowed(allowWhileJump)\n    local spec = self.spec_rideable\n\n    if not spec.isOnGround and not allowWhileJump then\n        return false\n    end\n\n    if spec.inputValues.currentGait < Rideable.GAITTYPES.CANTER then\n        return false\n    end\n\n    if self.isBroken then\n        return false\n    end\n\n    return true\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getmaphotspotrotation",children:"getMapHotspotRotation"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getMapHotspotRotation()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"superFunc"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"isPlayerHotspot"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Rideable:getMapHotspotRotation(superFunc, isPlayerHotspot)\n    if not isPlayerHotspot then\n        return 0\n    end\n\n    return superFunc( self , isPlayerHotspot)\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getname",children:"getName"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getName()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Rideable:getName(superFunc)\n    local spec = self.spec_rideable\n    return spec.cluster:getName()\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getposition",children:"getPosition"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getPosition()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Rideable:getPosition()\n    return getWorldTranslation( self.rootNode)\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getrotation",children:"getRotation"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getRotation()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Rideable:getRotation()\n    return getWorldRotation( self.rootNode)\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getshowinvehiclesoverview",children:"getShowInVehiclesOverview"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getShowInVehiclesOverview()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Rideable:getShowInVehiclesOverview(superFunc)\n    return false\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"groundraycastcallback",children:"groundRaycastCallback"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Callback used when raycast hists an object. Updates player information so it can be used to pickup the object."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"groundRaycastCallback(integer hitObjectId, float x, float y, float z, float distance)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"integer"}),(0,s.jsx)(n.th,{children:"hitObjectId"}),(0,s.jsx)(n.th,{children:"scenegraph object id"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"float"}),(0,s.jsx)(n.td,{children:"x"}),(0,s.jsx)(n.td,{children:"world x hit position"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"float"}),(0,s.jsx)(n.td,{children:"y"}),(0,s.jsx)(n.td,{children:"world y hit position"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"float"}),(0,s.jsx)(n.td,{children:"z"}),(0,s.jsx)(n.td,{children:"world z hit position"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"float"}),(0,s.jsx)(n.td,{children:"distance"}),(0,s.jsx)(n.td,{children:"distance at which the cast hit the object"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"float"}),(0,s.jsx)(n.th,{children:"returns"}),(0,s.jsx)(n.th,{children:"true object that was hit is valid"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Rideable:groundRaycastCallback(hitObjectId, x, y, z, distance)\n    local spec = self.spec_rideable\n    if hitObjectId = = self.spec_cctdrivable.cctNode then\n        return true\n    end\n\n    if getCollisionFilterMask(hitObjectId) = = CollisionFlag.DEFAULT then\n        return true -- ignore if collision only has default bit = > is not supposed to collide with anything\n        end\n\n        -- DebugUtil.drawSimpleDebugCube(x, y, z, 0.05, 1, 0, 0)\n        spec.groundRaycastResult.y = y\n        spec.groundRaycastResult.object = hitObjectId\n        spec.groundRaycastResult.distance = distance\n\n        return false\n    end\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"initspecialization",children:"initSpecialization"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"initSpecialization()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function Rideable.initSpecialization()\n    local schema = Vehicle.xmlSchema\n    schema:setXMLSpecializationType( "Rideable" )\n\n    schema:register(XMLValueType.FLOAT, "vehicle.rideable#speedBackwards" , "Backward speed" , - 1 )\n    schema:register(XMLValueType.FLOAT, "vehicle.rideable#speedWalk" , "Walk speed" , 2.5 )\n    schema:register(XMLValueType.FLOAT, "vehicle.rideable#speedCanter" , "Canter speed" , 3.5 )\n    schema:register(XMLValueType.FLOAT, "vehicle.rideable#speedTrot" , "Trot speed" , 5.0 )\n    schema:register(XMLValueType.FLOAT, "vehicle.rideable#speedGallop" , "Gallop speed" , 10.0 )\n\n    schema:register(XMLValueType.FLOAT, "vehicle.rideable#minTurnRadiusBackwards" , "Min turning radius backward" , 1 )\n    schema:register(XMLValueType.FLOAT, "vehicle.rideable#minTurnRadiusWalk" , "Min turning radius walk" , 1 )\n    schema:register(XMLValueType.FLOAT, "vehicle.rideable#minTurnRadiusCanter" , "Min turning radius canter" , 2.5 )\n    schema:register(XMLValueType.FLOAT, "vehicle.rideable#minTurnRadiusTrot" , "Min turning radius trot" , 5 )\n    schema:register(XMLValueType.FLOAT, "vehicle.rideable#minTurnRadiusGallop" , "Min turning radius gallop" , 10 )\n\n    schema:register(XMLValueType.ANGLE, "vehicle.rideable#turnSpeed" , "Turn speed(deg/s)" , 45 )\n    schema:register(XMLValueType.FLOAT, "vehicle.rideable#jumpHeight" , "Jump height" , 2 )\n\n    schema:register(XMLValueType.NODE_INDEX, "vehicle.rideable#proxy" , "Proxy node" )\n    schema:register(XMLValueType.NODE_INDEX, "vehicle.rideable.modelInfo.hoofFrontLeft#node" , "Hoof node" )\n    schema:register(XMLValueType.NODE_INDEX, "vehicle.rideable.modelInfo.hoofFrontLeft.particleSystemSlow#node" , "Slow step particle emitterShape" )\n    schema:register(XMLValueType.STRING, "vehicle.rideable.modelInfo.hoofFrontLeft.particleSystemSlow#particleType" , "Slow step particle type" )\n    ParticleUtil.registerParticleCopyXMLPaths(schema, "vehicle.rideable.modelInfo.hoofFrontLeft.particleSystemSlow" )\n    schema:register(XMLValueType.NODE_INDEX, "vehicle.rideable.modelInfo.hoofFrontLeft.particleSystemFast#node" , "Fast step particle emitterShape" )\n    schema:register(XMLValueType.STRING, "vehicle.rideable.modelInfo.hoofFrontLeft.particleSystemFast#particleType" , "Fast step particle type" )\n    ParticleUtil.registerParticleCopyXMLPaths(schema, "vehicle.rideable.modelInfo.hoofFrontLeft.particleSystemFast" )\n\n    schema:register(XMLValueType.NODE_INDEX, "vehicle.rideable.modelInfo.hoofFrontRight#node" , "Hoof node" )\n    schema:register(XMLValueType.NODE_INDEX, "vehicle.rideable.modelInfo.hoofFrontRight.particleSystemSlow#node" , "Slow step particle emitterShape" )\n    schema:register(XMLValueType.STRING, "vehicle.rideable.modelInfo.hoofFrontRight.particleSystemSlow#particleType" , "Slow step particle type" )\n    ParticleUtil.registerParticleCopyXMLPaths(schema, "vehicle.rideable.modelInfo.hoofFrontRight.particleSystemSlow" )\n    schema:register(XMLValueType.NODE_INDEX, "vehicle.rideable.modelInfo.hoofFrontRight.particleSystemFast#node" , "Fast step particle emitterShape" )\n    schema:register(XMLValueType.STRING, "vehicle.rideable.modelInfo.hoofFrontRight.particleSystemFast#particleType" , "Fast step particle type" )\n    ParticleUtil.registerParticleCopyXMLPaths(schema, "vehicle.rideable.modelInfo.hoofFrontRight.particleSystemFast" )\n\n    schema:register(XMLValueType.NODE_INDEX, "vehicle.rideable.modelInfo.hoofBackLeft#node" , "Hoof node" )\n    schema:register(XMLValueType.NODE_INDEX, "vehicle.rideable.modelInfo.hoofBackLeft.particleSystemSlow#node" , "Slow step particle emitterShape" )\n    schema:register(XMLValueType.STRING, "vehicle.rideable.modelInfo.hoofBackLeft.particleSystemSlow#particleType" , "Slow step particle type" )\n    ParticleUtil.registerParticleCopyXMLPaths(schema, "vehicle.rideable.modelInfo.hoofBackLeft.particleSystemSlow" )\n    schema:register(XMLValueType.NODE_INDEX, "vehicle.rideable.modelInfo.hoofBackLeft.particleSystemFast#node" , "Fast step particle emitterShape" )\n    schema:register(XMLValueType.STRING, "vehicle.rideable.modelInfo.hoofBackLeft.particleSystemFast#particleType" , "Fast step particle type" )\n    ParticleUtil.registerParticleCopyXMLPaths(schema, "vehicle.rideable.modelInfo.hoofBackLeft.particleSystemFast" )\n\n    schema:register(XMLValueType.NODE_INDEX, "vehicle.rideable.modelInfo.hoofBackRight#node" , "Hoof node" )\n    schema:register(XMLValueType.NODE_INDEX, "vehicle.rideable.modelInfo.hoofBackRight.particleSystemSlow#node" , "Slow step particle emitterShape" )\n    schema:register(XMLValueType.STRING, "vehicle.rideable.modelInfo.hoofBackRight.particleSystemSlow#particleType" , "Slow step particle type" )\n    ParticleUtil.registerParticleCopyXMLPaths(schema, "vehicle.rideable.modelInfo.hoofBackRight.particleSystemSlow" )\n    schema:register(XMLValueType.NODE_INDEX, "vehicle.rideable.modelInfo.hoofBackRight.particleSystemFast#node" , "Fast step particle emitterShape" )\n    schema:register(XMLValueType.STRING, "vehicle.rideable.modelInfo.hoofBackRight.particleSystemFast#particleType" , "Fast step particle type" )\n    ParticleUtil.registerParticleCopyXMLPaths(schema, "vehicle.rideable.modelInfo.hoofBackRight.particleSystemFast" )\n\n    schema:register(XMLValueType.NODE_INDEX, "vehicle.rideable.modelInfo#animationNode" , "Animation node" )\n    schema:register(XMLValueType.NODE_INDEX, "vehicle.rideable.modelInfo#meshNode" , "Mesh node" )\n    schema:register(XMLValueType.NODE_INDEX, "vehicle.rideable.modelInfo#equipmentNode" , "Equipment node" )\n    schema:register(XMLValueType.NODE_INDEX, "vehicle.rideable.modelInfo#reinsNode" , "Reins node" )\n    schema:register(XMLValueType.NODE_INDEX, "vehicle.rideable.modelInfo#reinLeftNode" , "Rein left node" )\n    schema:register(XMLValueType.NODE_INDEX, "vehicle.rideable.modelInfo#reinRightNode" , "Rein right node" )\n\n    schema:register(XMLValueType.FLOAT, "vehicle.rideable.sounds#breathIntervalNoEffort" , "Breath interval no effort" , 1 )\n    schema:register(XMLValueType.FLOAT, "vehicle.rideable.sounds#breathIntervalEffort" , "Breath interval effort" , 1 )\n    schema:register(XMLValueType.FLOAT, "vehicle.rideable.sounds#minBreathIntervalIdle" , "Min.breath interval idle" , 1 )\n    schema:register(XMLValueType.FLOAT, "vehicle.rideable.sounds#maxBreathIntervalIdle" , "Max.breath interval idle" , 1 )\n\n    SoundManager.registerSampleXMLPaths(schema, "vehicle.rideable.sounds" , "halt" )\n    SoundManager.registerSampleXMLPaths(schema, "vehicle.rideable.sounds" , "breathingNoEffort" )\n    SoundManager.registerSampleXMLPaths(schema, "vehicle.rideable.sounds" , "breathingEffort" )\n\n    -- values loaded only by engine, registration just for documentation/validation purposes\n        ConditionalAnimation.registerXMLPaths(schema, "vehicle.conditionalAnimation" )\n        ConditionalAnimation.registerXMLPaths(schema, "vehicle.riderConditionalAnimation" )\n\n        schema:setXMLSpecializationType()\n\n        local savegameSchema = Vehicle.xmlSchemaSavegame\n        savegameSchema:register(XMLValueType.STRING, "vehicles.vehicle(?).rideable#animalType" , "Animal type name" )\n    end\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"jump",children:"jump"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"jump()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function Rideable:jump()\n    local spec = self.spec_rideable\n\n    if not self.isServer then\n        g_client:getServerConnection():sendEvent( JumpEvent.new( self ))\n    else\n            local total, _ = g_farmManager:updateFarmStats( self:getOwnerFarmId(), "horseJumpCount" , 1 )\n            if total ~ = nil then\n                g_achievementManager:tryUnlock( "HorseJumpsFirst" , total)\n                g_achievementManager:tryUnlock( "HorseJumps" , total)\n            end\n        end\n\n        local jumpHeight = spec.jumpHeight\n        if spec.inputValues.currentGait = = Rideable.GAITTYPES.CANTER then\n            jumpHeight = jumpHeight * 0.5\n        end\n\n        local velY = math.sqrt( 2 * math.abs(spec.gravity) * jumpHeight)\n        spec.currentSpeedY = velY\n    end\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"ondelete",children:"onDelete"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Called on deleting"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onDelete()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Rideable:onDelete()\n    local spec = self.spec_rideable\n\n    local mission = g_currentMission\n    mission.husbandrySystem:removeRideable( self )\n\n    g_soundManager:deleteSamples(spec.surfaceSounds)\n    g_soundManager:deleteSample(spec.horseStopSound)\n    g_soundManager:deleteSample(spec.horseBreathSoundsNoEffort)\n    g_soundManager:deleteSample(spec.horseBreathSoundsEffort)\n\n    if spec.hooves ~ = nil then\n        for _, d in pairs(spec.hooves) do\n            if d.psSlow ~ = nil then\n                ParticleUtil.deleteParticleSystem(d.psSlow)\n                delete(d.psSlow.emitterShape)\n            end\n            if d.psFast ~ = nil then\n                ParticleUtil.deleteParticleSystem(d.psFast)\n                delete(d.psFast.emitterShape)\n            end\n        end\n    end\n\n    if spec.animationPlayer ~ = nil then\n        delete(spec.animationPlayer)\n        spec.animationPlayer = nil\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"ondraw",children:"onDraw"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onDraw()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"isActiveForInput"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"isActiveForInputIgnoreSelection"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"isSelected"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function Rideable:onDraw(isActiveForInput, isActiveForInputIgnoreSelection, isSelected)\n    local spec = self.spec_rideable\n    if isActiveForInputIgnoreSelection and spec.cluster ~ = nil then\n        local mission = g_currentMission\n        mission:addExtraPrintText( string.format( "%s: %d %%" , g_i18n:getText( "infohud_riding" ), spec.cluster:getRidingFactor() * 100 ))\n    end\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"onentervehicle",children:"onEnterVehicle"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Called on enter vehicle"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onEnterVehicle(boolean isControlling)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"boolean"}),(0,s.jsx)(n.th,{children:"isControlling"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Rideable:onEnterVehicle(isControlling)\n    local spec = self.spec_rideable\n\n    if self.isClient then\n        spec.playerToEnter = nil\n        spec.checkPlayerToEnter = false\n\n        spec.currentSpeed = 0.0\n        spec.currentTurnSpeed = 0.0\n        self:setCurrentGait( Rideable.GAITTYPES.STILL)\n        spec.isOnGround = false\n\n        -- rider animation\n        -- local character = self:getVehicleCharacter()\n    end\n\n    if self.isServer then\n        spec.lastOwner = self:getOwnerConnection()\n\n        -- setCollisionFilterMask(self.components[1].node, 0)\n\n        spec.doHusbandryCheck = 0\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onleavevehicle",children:"onLeaveVehicle"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Called on leaving vehicle"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onLeaveVehicle()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Rideable:onLeaveVehicle()\n    local spec = self.spec_rideable\n    if self.isClient then\n        spec.inputValues.currentGait = Rideable.GAITTYPES.STILL\n        self:resetInputs()\n        local mission = g_currentMission\n        if mission.hud.fadeScreenElement:getAlpha() > 0.0 then\n            mission:fadeScreen( - 1 , spec.fadeDuration, self.endFade, self )\n        end\n    end\n\n    if self.isServer then\n        -- setCollisionFilterMask(self.components[1].node, spec.collisionMask)\n        spec.doHusbandryCheck = 5000\n    end\n\n    spec.leaveTimer = 15000\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onload",children:"onLoad"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Called on loading"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onLoad(table savegame)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"table"}),(0,s.jsx)(n.th,{children:"savegame"}),(0,s.jsx)(n.th,{children:"savegame"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function Rideable:onLoad(savegame)\n    local spec = self.spec_rideable\n\n    -- Overwrite the Vehicle high precision setting.Otherwise the precision might lead to large jitter in speed in multiplayer\n    self.highPrecisionPositionSynchronization = true\n\n    spec.leaveTimer = 15000\n    spec.currentDirtScale = 0\n    spec.abandonTimerDuration = g_gameSettings:getValue(GameSettings.SETTING.HORSE_ABANDON_TIMER_DURATION)\n    spec.abandonTimer = spec.abandonTimerDuration\n    spec.fadeDuration = 400\n    spec.isRideableRemoved = false\n    spec.justSpawned = true\n    spec.meshNode = nil\n    -- Animation\n    spec.animationNode = nil\n    spec.charsetId = nil\n    spec.animationPlayer = nil\n    spec.animationParameters = { }\n    spec.animationParameters.forwardVelocity = { id = 1 , value = 0.0 , type = 1 }\n    spec.animationParameters.verticalVelocity = { id = 2 , value = 0.0 , type = 1 }\n    spec.animationParameters.yawVelocity = { id = 3 , value = 0.0 , type = 1 }\n    spec.animationParameters.absForwardVelocity = { id = 4 , value = 0.0 , type = 1 }\n    spec.animationParameters.onGround = { id = 5 , value = false , type = 0 }\n    spec.animationParameters.inWater = { id = 6 , value = false , type = 0 }\n    spec.animationParameters.closeToGround = { id = 7 , value = false , type = 0 }\n    spec.animationParameters.leftRightWeight = { id = 8 , value = 0.0 , type = 1 }\n    spec.animationParameters.absYawVelocity = { id = 9 , value = 0.0 , type = 1 }\n    spec.animationParameters.halted = { id = 10 , value = false , type = 0 }\n    spec.animationParameters.smoothedForwardVelocity = { id = 11 , value = 0.0 , type = 1 }\n    spec.animationParameters.absSmoothedForwardVelocity = { id = 12 , value = 0.0 , type = 1 }\n\n    -- InputAction\n    spec.acceletateEventId = ""\n    spec.brakeEventId = ""\n    spec.steerEventId = ""\n    spec.jumpEventId = ""\n\n    -- movements\n    spec.currentTurnAngle = 0\n    spec.currentTurnSpeed = 0.0\n    spec.currentSpeed = 0.0\n    spec.currentSpeedY = 0.0\n    spec.cctMoveQueue = { }\n    spec.currentCCTPosX = 0.0\n    spec.currentCCTPosY = 0.0\n    spec.currentCCTPosZ = 0.0\n    spec.lastCCTPosX = 0.0\n    spec.lastCCTPosY = 0.0\n    spec.lastCCTPosZ = 0.0\n    spec.topSpeeds = { }\n    spec.topSpeeds[ Rideable.GAITTYPES.BACKWARDS] = self.xmlFile:getValue( "vehicle.rideable#speedBackwards" , - 1.0 )\n    spec.topSpeeds[ Rideable.GAITTYPES.STILL] = 0.0\n    spec.topSpeeds[ Rideable.GAITTYPES.WALK] = self.xmlFile:getValue( "vehicle.rideable#speedWalk" , 2.5 )\n    spec.topSpeeds[ Rideable.GAITTYPES.CANTER] = self.xmlFile:getValue( "vehicle.rideable#speedCanter" , 3.5 )\n    spec.topSpeeds[ Rideable.GAITTYPES.TROT] = self.xmlFile:getValue( "vehicle.rideable#speedTrot" , 5.0 )\n    spec.topSpeeds[ Rideable.GAITTYPES.GALLOP] = self.xmlFile:getValue( "vehicle.rideable#speedGallop" , 10.0 )\n    spec.minTurnRadius = { }\n    spec.minTurnRadius[ Rideable.GAITTYPES.BACKWARDS] = self.xmlFile:getValue( "vehicle.rideable#minTurnRadiusBackwards" , 1.0 )\n    spec.minTurnRadius[ Rideable.GAITTYPES.STILL] = 1.0\n    spec.minTurnRadius[ Rideable.GAITTYPES.WALK] = self.xmlFile:getValue( "vehicle.rideable#minTurnRadiusWalk" , 1.0 )\n    spec.minTurnRadius[ Rideable.GAITTYPES.CANTER] = self.xmlFile:getValue( "vehicle.rideable#minTurnRadiusCanter" , 2.5 )\n    spec.minTurnRadius[ Rideable.GAITTYPES.TROT] = self.xmlFile:getValue( "vehicle.rideable#minTurnRadiusTrot" , 5.0 )\n    spec.minTurnRadius[ Rideable.GAITTYPES.GALLOP] = self.xmlFile:getValue( "vehicle.rideable#minTurnRadiusGallop" , 10.0 )\n    spec.groundRaycastResult = { }\n    spec.groundRaycastResult.y = 0.0\n    spec.groundRaycastResult.object = nil\n    spec.groundRaycastResult.distance = 0.0\n    spec.haltTimer = 0.0\n    spec.smoothedLeftRightWeight = 0.0\n    spec.interpolationDt = 16\n    spec.ridingTimer = 0\n    spec.doHusbandryCheck = 0\n\n    spec.proxy = self.xmlFile:getValue( "vehicle.rideable#proxy" , nil , self.components, self.i3dMappings)\n    if spec.proxy ~ = nil then\n        setRigidBodyType(spec.proxy, RigidBodyType.NONE)\n    end\n    spec.collisionMask = getCollisionFilterMask( self.components[ 1 ].node)\n\n    -- interpolation\n    -- spec.interpolationTime = InterpolationTime.new(1.0)\n    -- spec.interpolatorPosition = InterpolatorPosition.new(0.0, 0.0, 0.0)\n    -- spec.interpolatorQuaternion = InterpolatorQuaternion.new(0.0, 0.0, 0.0, 1.0) -- only used on server side for rotation of camera\n        -- spec.interpolatorOnGround = InterpolatorValue.new(0.0)\n\n        -- steer\n        spec.maxAcceleration = 5 -- m/s^2\n        spec.maxDeceleration = 10 -- m/s^2\n        spec.gravity = - 9.81\n\n        -- ground orientation\n        spec.frontCheckDistance = 0.0\n        spec.backCheckDistance = 0.0\n        spec.isOnGround = true\n        spec.isCloseToGround = true\n\n        assert(spec.topSpeeds[ Rideable.GAITTYPES.MIN] < spec.topSpeeds[ Rideable.GAITTYPES.MAX])\n        spec.maxTurnSpeed = self.xmlFile:getValue( "vehicle.rideable#turnSpeed" , 45.0 ) -- xml:deg/s, script:rad/s\n        spec.jumpHeight = self.xmlFile:getValue( "vehicle.rideable#jumpHeight" , 2.0 )\n\n        local function loadHoof(target, index, key)\n            local hoof = { }\n            hoof.node = self.xmlFile:getValue(key .. "#node" , nil , self.components, self.i3dMappings)\n            hoof.onGround = false\n\n            local nodeSlow = self.xmlFile:getValue(key .. ".particleSystemSlow#node" , nil , self.components, self.i3dMappings)\n            local particleType = self.xmlFile:getValue(key .. ".particleSystemSlow#particleType" )\n            if particleType = = nil then\n                Logging.xmlWarning( self.xmlFile, "Missing horse step slow particleType in \'%s\'" , key .. ".particleSystemSlow" )\n                return\n            end\n            local particleSystem = g_particleSystemManager:getParticleSystem(particleType)\n            if particleSystem ~ = nil then\n                hoof.psSlow = ParticleUtil.copyParticleSystem( self.xmlFile, key .. ".particleSystemSlow" , particleSystem, nodeSlow)\n                link(getRootNode(), hoof.psSlow.emitterShape)\n            end\n\n            local nodeFast = self.xmlFile:getValue(key .. ".particleSystemFast#node" , nil , self.components, self.i3dMappings)\n            local particleTypeFast = self.xmlFile:getValue(key .. ".particleSystemFast#particleType" )\n            if particleTypeFast = = nil then\n                Logging.xmlWarning( self.xmlFile, "Missing horse step fast particleType in \'%s\'" , key .. ".particleSystemFast" )\n                return\n            end\n            local particleSystemFast = g_particleSystemManager:getParticleSystem(particleTypeFast)\n            if particleSystemFast ~ = nil then\n                hoof.psFast = ParticleUtil.copyParticleSystem( self.xmlFile, key .. ".particleSystemFast" , particleSystemFast, nodeFast)\n                link(getRootNode(), hoof.psFast.emitterShape)\n            end\n\n            target[index] = hoof\n        end\n\n        -- Hooves\n        spec.hooves = { }\n        loadHoof(spec.hooves, Rideable.HOOVES.FRONT_LEFT, "vehicle.rideable.modelInfo.hoofFrontLeft" )\n        loadHoof(spec.hooves, Rideable.HOOVES.FRONT_RIGHT, "vehicle.rideable.modelInfo.hoofFrontRight" )\n        loadHoof(spec.hooves, Rideable.HOOVES.BACK_LEFT, "vehicle.rideable.modelInfo.hoofBackLeft" )\n        loadHoof(spec.hooves, Rideable.HOOVES.BACK_RIGHT, "vehicle.rideable.modelInfo.hoofBackRight" )\n\n        spec.frontCheckDistance = self:calculateLegsDistance(spec.hooves[ Rideable.HOOVES.FRONT_LEFT].node, spec.hooves[ Rideable.HOOVES.FRONT_RIGHT].node)\n        spec.backCheckDistance = self:calculateLegsDistance(spec.hooves[ Rideable.HOOVES.BACK_LEFT].node, spec.hooves[ Rideable.HOOVES.BACK_RIGHT].node)\n\n        spec.animationNode = self.xmlFile:getValue( "vehicle.rideable.modelInfo#animationNode" , nil , self.components, self.i3dMappings)\n        spec.meshNode = self.xmlFile:getValue( "vehicle.rideable.modelInfo#meshNode" , nil , self.components, self.i3dMappings)\n        spec.equipmentNode = self.xmlFile:getValue( "vehicle.rideable.modelInfo#equipmentNode" , nil , self.components, self.i3dMappings)\n        spec.reinsNode = self.xmlFile:getValue( "vehicle.rideable.modelInfo#reinsNode" , nil , self.components, self.i3dMappings)\n        spec.leftReinNode = self.xmlFile:getValue( "vehicle.rideable.modelInfo#reinLeftNode" , nil , self.components, self.i3dMappings)\n        spec.rightReinNode = self.xmlFile:getValue( "vehicle.rideable.modelInfo#reinRightNode" , nil , self.components, self.i3dMappings)\n        spec.leftReinParentNode = getParent(spec.leftReinNode)\n        spec.rightReinParentNode = getParent(spec.rightReinNode)\n\n        -- animation\n        if spec.animationNode ~ = nil then\n            spec.charsetId = getAnimCharacterSet(spec.animationNode)\n            local animationPlayer = createConditionalAnimation()\n            if animationPlayer ~ = 0 then\n                spec.animationPlayer = animationPlayer\n                for key, parameter in pairs(spec.animationParameters) do\n                    conditionalAnimationRegisterParameter(spec.animationPlayer, parameter.id, parameter.type , key)\n                end\n                initConditionalAnimation(spec.animationPlayer, spec.charsetId, self.configFileName, "vehicle.conditionalAnimation" )\n                setConditionalAnimationSpecificParameterIds(spec.animationPlayer, spec.animationParameters.absForwardVelocity.id, spec.animationParameters.absYawVelocity.id)\n            end\n        end\n\n        -- Sounds\n        spec.surfaceSounds = { }\n        spec.surfaceIdToSound = { }\n        spec.surfaceNameToSound = { }\n        spec.currentSurfaceSound = nil\n        local mission = g_currentMission\n        for _, surfaceSound in pairs(mission.surfaceSounds) do\n            if surfaceSound.type = = "hoofstep" and surfaceSound.sample ~ = nil then\n                local sample = g_soundManager:cloneSample(surfaceSound.sample, self.components[ 1 ].node, self )\n                sample.sampleName = surfaceSound.name\n\n                table.insert(spec.surfaceSounds, sample)\n                spec.surfaceIdToSound[surfaceSound.materialId] = sample\n                spec.surfaceNameToSound[surfaceSound.name] = sample\n            end\n        end\n        spec.horseStopSound = g_soundManager:loadSampleFromXML( self.xmlFile, "vehicle.rideable.sounds" , "halt" , self.baseDirectory, self.components, 1 , AudioGroup.VEHICLE, self.i3dMappings, self )\n        spec.horseBreathSoundsNoEffort = g_soundManager:loadSampleFromXML( self.xmlFile, "vehicle.rideable.sounds" , "breathingNoEffort" , self.baseDirectory, self.components, 1 , AudioGroup.VEHICLE, self.i3dMappings, self )\n        spec.horseBreathSoundsEffort = g_soundManager:loadSampleFromXML( self.xmlFile, "vehicle.rideable.sounds" , "breathingEffort" , self.baseDirectory, self.components, 1 , AudioGroup.VEHICLE, self.i3dMappings, self )\n        spec.horseBreathIntervalNoEffort = self.xmlFile:getValue( "vehicle.rideable.sounds#breathIntervalNoEffort" , 1.0 ) * 1000.0\n        spec.horseBreathIntervalEffort = self.xmlFile:getValue( "vehicle.rideable.sounds#breathIntervalEffort" , 1.0 ) * 1000.0\n        spec.horseBreathMinIntervalIdle = self.xmlFile:getValue( "vehicle.rideable.sounds#minBreathIntervalIdle" , 1.0 ) * 1000.0\n        spec.horseBreathMaxIntervalIdle = self.xmlFile:getValue( "vehicle.rideable.sounds#maxBreathIntervalIdle" , 1.0 ) * 1000.0\n        spec.currentBreathTimer = 0.0\n\n        -- attributes set by action events\n        spec.inputValues = { }\n        spec.inputValues.axisSteer = 0.0\n        spec.inputValues.axisSteerSend = 0.0\n        spec.inputValues.currentGait = Rideable.GAITTYPES.STILL\n        self:resetInputs()\n\n        spec.interpolatorIsOnGround = InterpolatorValue.new( 0.0 )\n        if self.isServer then\n            spec.interpolatorTurnAngle = InterpolatorAngle.new( 0.0 )\n            self.networkTimeInterpolator.maxInterpolationAlpha = 1.2\n        end\n\n        -- Network\n        spec.dirtyFlag = self:getNextDirtyFlag()\n\n        if savegame ~ = nil then\n            local xmlFile = savegame.xmlFile\n            local key = savegame.key .. ".rideable"\n\n            local subTypeName = xmlFile:getString(key .. "#subType" , "HORSE_GRAY" )\n            local subType = mission.animalSystem:getSubTypeByName(subTypeName)\n            if subType ~ = nil then\n                local cluster = mission.animalSystem:createClusterFromSubTypeIndex(subType.subTypeIndex)\n                cluster:loadFromXMLFile(xmlFile, key .. ".animal" )\n                self:setCluster(cluster)\n            else\n                    Logging.xmlError( self.xmlFile, "Animal sub type \'%s\' not found for \'%s\'!" , subTypeName, key)\n                        self:setLoadingState(VehicleLoadingState.ERROR)\n                        return\n                    end\n                end\n\n                mission.husbandrySystem:addRideable( self )\n\n                self.needWaterInfo = true\n            end\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"onloadfinished",children:"onLoadFinished"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onLoadFinished()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Rideable:onLoadFinished()\n    self:raiseActive()\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onreadpositionupdatestream",children:"onReadPositionUpdateStream"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onReadPositionUpdateStream(integer streamId, Connection connection)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"integer"}),(0,s.jsx)(n.th,{children:"streamId"}),(0,s.jsx)(n.th,{children:"streamId"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Connection"}),(0,s.jsx)(n.td,{children:"connection"}),(0,s.jsx)(n.td,{children:"connection"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Rideable:onReadPositionUpdateStream(streamId, connection)\n    local spec = self.spec_rideable\n    local isOnGround = streamReadBool(streamId)\n    if isOnGround then\n        spec.interpolatorIsOnGround:setValue( 1.0 )\n    else\n            spec.interpolatorIsOnGround:setValue( 0.0 )\n        end\n    end\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onreadstream",children:"onReadStream"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Called on client side on join"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onReadStream(integer streamId, Connection connection)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"integer"}),(0,s.jsx)(n.th,{children:"streamId"}),(0,s.jsx)(n.th,{children:"streamId"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Connection"}),(0,s.jsx)(n.td,{children:"connection"}),(0,s.jsx)(n.td,{children:"connection"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Rideable:onReadStream(streamId, connection)\n    local spec = self.spec_rideable\n    if connection:getIsServer() then\n        local isOnGround = streamReadBool(streamId)\n        if isOnGround then\n            spec.interpolatorIsOnGround:setValue( 1.0 )\n        else\n                spec.interpolatorIsOnGround:setValue( 0.0 )\n            end\n        end\n        if streamReadBool(streamId) then\n            local subTypeIndex = streamReadUIntN(streamId, AnimalCluster.NUM_BITS_SUB_TYPE)\n            local mission = g_currentMission\n            local cluster = mission.animalSystem:createClusterFromSubTypeIndex(subTypeIndex)\n            cluster:readStream(streamId, connection)\n            self:setCluster(cluster)\n        end\n        if streamReadBool(streamId) then\n            local player = NetworkUtil.readNodeObject(streamId)\n            self:setPlayerToEnter(player)\n        end\n    end\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onreadupdatestream",children:"onReadUpdateStream"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Called on on update"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onReadUpdateStream(integer streamId, integer timestamp, table connection)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"integer"}),(0,s.jsx)(n.th,{children:"streamId"}),(0,s.jsx)(n.th,{children:"stream ID"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"integer"}),(0,s.jsx)(n.td,{children:"timestamp"}),(0,s.jsx)(n.td,{children:"timestamp"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"table"}),(0,s.jsx)(n.td,{children:"connection"}),(0,s.jsx)(n.td,{children:"connection"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Rideable:onReadUpdateStream(streamId, timestamp, connection)\n    local spec = self.spec_rideable\n\n    if not connection:getIsServer() then\n        spec.inputValues.axisSteer = streamReadFloat32(streamId)\n        spec.inputValues.currentGait = streamReadUInt8(streamId)\n    else\n            spec.haltTimer = streamReadFloat32(streamId)\n            if spec.haltTimer > 0 then\n                spec.inputValues.currentGait = Rideable.GAITTYPES.STILL\n                spec.inputValues.axisSteerSend = 0\n            end\n\n            if streamReadBool(streamId) then\n                spec.cluster:readUpdateStream(streamId, connection)\n                self:updateDirt()\n            end\n        end\n    end\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onregisteractionevents",children:"onRegisterActionEvents"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Registers action events"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onRegisterActionEvents()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"isActiveForInput"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"isActiveForInputIgnoreSelection"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Rideable:onRegisterActionEvents(isActiveForInput, isActiveForInputIgnoreSelection)\n    if self.isClient then\n        local spec = self.spec_rideable\n        self:clearActionEventsTable(spec.actionEvents)\n\n        if isActiveForInputIgnoreSelection then\n            local _, actionEventId\n            _, actionEventId = self:addActionEvent(spec.actionEvents, InputAction.AXIS_ACCELERATE_VEHICLE, self , Rideable.actionEventAccelerate, false , true , false , true , nil )\n            g_inputBinding:setActionEventTextPriority(actionEventId, GS_PRIO_VERY_HIGH)\n            g_inputBinding:setActionEventTextVisibility(actionEventId, false )\n            spec.acceletateEventId = actionEventId\n\n            _, actionEventId = self:addActionEvent(spec.actionEvents, InputAction.AXIS_BRAKE_VEHICLE, self , Rideable.actionEventBrake, false , true , false , true , nil )\n            g_inputBinding:setActionEventTextPriority(actionEventId, GS_PRIO_HIGH)\n            g_inputBinding:setActionEventTextVisibility(actionEventId, false )\n            spec.brakeEventId = actionEventId\n\n            _, actionEventId = self:addActionEvent(spec.actionEvents, InputAction.AXIS_MOVE_SIDE_VEHICLE, self , Rideable.actionEventSteer, false , false , true , true , nil )\n            g_inputBinding:setActionEventTextVisibility(actionEventId, false )\n            spec.steerEventId = actionEventId\n\n            _, actionEventId = self:addActionEvent(spec.actionEvents, InputAction.JUMP, self , Rideable.actionEventJump, false , true , false , true , nil )\n            g_inputBinding:setActionEventTextPriority(actionEventId, GS_PRIO_VERY_LOW)\n            g_inputBinding:setActionEventTextVisibility(actionEventId, false )\n            spec.jumpEventId = actionEventId\n        end\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onsetbroken",children:"onSetBroken"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onSetBroken()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Rideable:onSetBroken()\n    self:unlinkReins()\n\n    if self.isServer then\n        local husbandry = g_currentMission.husbandrySystem:getFirstAvailableHusbandry( self )\n        local spec = self.spec_rideable\n\n        local isInStable\n        if husbandry ~ = nil then\n            local cluster = self:getCluster()\n            husbandry:addCluster(cluster)\n            self:delete()\n\n            isInStable = true\n        else\n                isInStable = false\n            end\n\n            if spec.lastOwner ~ = nil then\n                spec.lastOwner:sendEvent( RideableStableNotificationEvent.new(isInStable, spec.cluster:getName()), nil , true )\n            end\n        end\n    end\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onupdate",children:"onUpdate"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Called on on update"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onUpdate(float dt, boolean isActiveForInput, boolean isSelected, )"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"float"}),(0,s.jsx)(n.th,{children:"dt"}),(0,s.jsx)(n.th,{children:"delta time"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"boolean"}),(0,s.jsx)(n.td,{children:"isActiveForInput"}),(0,s.jsx)(n.td,{children:"true if specializations is active for input"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"boolean"}),(0,s.jsx)(n.td,{children:"isSelected"}),(0,s.jsx)(n.td,{children:"true if specializations is selected"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"isSelected"}),(0,s.jsx)(n.td,{})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Rideable:onUpdate(dt, isActiveForInput, isActiveForInputIgnoreSelection, isSelected)\n    local spec = self.spec_rideable\n\n    if self:getIsSynchronized() and spec.playerToEnter ~ = nil and spec.checkPlayerToEnter then\n        if spec.playerToEnter = = g_localPlayer then\n            -- force entering as we are sure that the rideable is fully synced on client\n            g_localPlayer:requestToEnterVehicle( self , true )\n            spec.checkPlayerToEnter = false\n        end\n    end\n\n    local isEntered = self:getIsEntered()\n    if isEntered then\n        if isActiveForInputIgnoreSelection then\n            self:updateInputText()\n        end\n        if not self.isServer then\n            spec.inputValues.axisSteerSend = spec.inputValues.axisSteer\n            self:raiseDirtyFlags(spec.dirtyFlag)\n            self:resetInputs()\n        end\n    end\n\n    self:updateAnimation(dt)\n    if self.isClient then\n        self:updateSound(dt)\n    end\n\n    if self.isServer then\n        self:updateRiding(dt)\n    end\n\n    if spec.haltTimer > 0 then\n        self:setCurrentGait( Rideable.GAITTYPES.STILL)\n        spec.haltTimer = spec.haltTimer - dt\n    end\n\n    -- steering based on mobile device orientation\n    if self:getIsActiveForInput( true ) then\n        local inputHelpMode = g_inputBinding:getInputHelpMode()\n        if inputHelpMode ~ = GS_INPUT_HELP_MODE_GAMEPAD or GS_PLATFORM_SWITCH then\n            if g_gameSettings:getValue(GameSettings.SETTING.GYROSCOPE_STEERING) then\n                local dx, dy, dz = getGravityDirection()\n                local steeringValue = MathUtil.getSteeringAngleFromDeviceGravity(dx, dy, dz)\n\n                self:setRideableSteer(steeringValue)\n            end\n        end\n    end\n\n    if self.isServer and spec.doHusbandryCheck > 0 then\n        spec.doHusbandryCheck = spec.doHusbandryCheck - dt\n        -- check if rideable is near husbandry\n            local mission = g_currentMission\n            local isInRange, husbandry = mission.husbandrySystem:getHusbandryInRideableRange( self )\n\n            if isInRange then\n                local isInStable\n                if husbandry ~ = nil then\n                    local cluster = self:getCluster()\n                    husbandry:addCluster(cluster)\n                    self:delete()\n\n                    isInStable = true\n                else\n                        isInStable = false\n                    end\n\n                    if spec.lastOwner ~ = nil then\n                        spec.lastOwner:sendEvent( RideableStableNotificationEvent.new(isInStable, spec.cluster:getName()), nil , true )\n                    end\n                end\n                spec.lastOwner = nil\n            end\n        end\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onupdateinterpolation",children:"onUpdateInterpolation"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onUpdateInterpolation()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"dt"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"isActiveForInput"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"isActiveForInputIgnoreSelection"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"isSelected"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function Rideable:onUpdateInterpolation(dt, isActiveForInput, isActiveForInputIgnoreSelection, isSelected)\n    local spec = self.spec_rideable\n\n    if self.isServer then\n        if not self:getIsControlled() then\n            self:setCurrentGait( Rideable.GAITTYPES.STILL)\n        end\n        -- for key, moveInfo in pairs(spec.cctMoveQueue) do\n            -- print(string.format("-- [Rideable:onUpdateInterpolation][A][%d]\\t%d\\t%d\\t%d\\t%s\\t%.6f", g_updateLoopIndex, getPhysicsUpdateIndex(), key, moveInfo.physicsIndex, tostring(getIsPhysicsUpdateIndexSimulated(moveInfo.physicsIndex)), moveInfo.dt))\n            -- end\n\n            local interpolationDt = dt\n            local oldestMoveInfo = spec.cctMoveQueue[ 1 ]\n            if oldestMoveInfo ~ = nil and getIsPhysicsUpdateIndexSimulated(oldestMoveInfo.physicsIndex) then\n                interpolationDt = oldestMoveInfo.dt\n            end\n            spec.interpolationDt = interpolationDt\n\n            self:testCCTMove(interpolationDt)\n            self:updateKinematic(dt)\n\n            if self:getIsEntered() then\n                self:resetInputs()\n            end\n\n            local component = self.components[ 1 ]\n            local x,y,z = self:getCCTWorldTranslation()\n            component.networkInterpolators.position:setTargetPosition(x,y,z)\n            spec.interpolatorTurnAngle:setTargetAngle(spec.currentTurnAngle)\n            spec.interpolatorIsOnGround:setTargetValue( self:getIsCCTOnGround() and 1.0 or 0.0 )\n\n            -- use 75 or if dt > 75 then dt + 20\n                local phaseDuration = interpolationDt + 30\n\n                self.networkTimeInterpolator:startNewPhase(phaseDuration)\n                self.networkTimeInterpolator:update(interpolationDt)\n\n                -- local deltax, deltay, deltaz = component.networkInterpolators.position.targetPositionX - component.networkInterpolators.position.lastPositionX, component.networkInterpolators.position.targetPositionY - component.networkInterpolators.position.lastPositionY, component.networkInterpolators.position.targetPositionZ - component.networkInterpolators.position.lastPositionZ\n                -- local deltamag = math.sqrt(deltax*deltax+deltay*deltay+deltaz*deltaz)\n                -- print(string.format("-- [Rideable:onUpdateInterpolation][B][%d]\\t%.6f\\t%.6f\\t%d\\t%.6f\\t%.6f\\t%.6f\\t%.6f\\t%.6f\\t%.6f\\t%.6f\\t%.6f\\t%.6f\\t%.6f\\t%.6f\\t%.6f", g_updateLoopIndex, dt, interpolationDt, getPhysicsUpdateIndex(), self.networkTimeInterpolator.interpolationAlpha, self.networkTimeInterpolator.interpolationDuration, component.networkInterpolators.position.targetPositionX, component.networkInterpolators.position.targetPositionY, component.networkInterpolators.position.targetPositionZ, component.networkInterpolators.position.lastPositionX, component.networkInterpolators.position.lastPositionY, component.networkInterpolators.position.lastPositionZ, deltax, deltay, deltaz, deltamag))\n\n                x, y, z = component.networkInterpolators.position:getInterpolatedValues( self.networkTimeInterpolator.interpolationAlpha)\n                setTranslation( self.rootNode, x, y, z)\n\n                local turnAngle = spec.interpolatorTurnAngle:getInterpolatedValue( self.networkTimeInterpolator.interpolationAlpha)\n                local _, dirY, _ = localDirectionToWorld( self.rootNode, 0.0 , 0.0 , 1.0 )\n                local dirX, dirZ = math.sin(turnAngle), math.cos(turnAngle)\n\n                -- rescale direction to length, keeping the original y(but keep it to some reasonable value)\n                local scale = math.sqrt( 1 - math.min(dirY * dirY, 0.9 ))\n                dirX = dirX * scale\n                dirZ = dirZ * scale\n                setDirection( self.rootNode, dirX, dirY, dirZ, 0 , 1 , 0 )\n            end\n\n            if not self:getIsEntered() then\n                if spec.leaveTimer > 0 then\n                    spec.leaveTimer = spec.leaveTimer - dt\n                    self:raiseActive()\n                end\n            end\n\n            local isOnGroundFloat = spec.interpolatorIsOnGround:getInterpolatedValue( self.networkTimeInterpolator:getAlpha())\n            spec.isOnGround = isOnGroundFloat > 0.9\n            spec.isCloseToGround = false\n\n            if spec.isOnGround and( math.abs(spec.currentSpeed) > 0.001 or math.abs(spec.currentTurnSpeed) > 0.001 ) then\n                -- orientation from ground\n                local posX, posY, posZ = getWorldTranslation( self.rootNode)\n                local dirX, dirY, dirZ = localDirectionToWorld( self.rootNode, 0.0 , 0.0 , 1.0 )\n                local fx, fy, fz = posX + dirX * spec.frontCheckDistance, posY + dirY * spec.frontCheckDistance, posZ + dirZ * spec.frontCheckDistance\n                spec.groundRaycastResult.y = fy + Rideable.GROUND_RAYCAST_OFFSET - Rideable.GROUND_RAYCAST_MAXDISTANCE\n                raycastAll(fx, fy + Rideable.GROUND_RAYCAST_OFFSET, fz, 0.0 , - 1.0 , 0.0 , Rideable.GROUND_RAYCAST_MAXDISTANCE, "groundRaycastCallback" , self , Rideable.GROUND_RAYCAST_COLLISIONMASK)\n                fy = spec.groundRaycastResult.y\n                local bx, by, bz = posX + dirX * spec.backCheckDistance, posY + dirY * spec.backCheckDistance, posZ + dirZ * spec.backCheckDistance\n                spec.groundRaycastResult.y = by + Rideable.GROUND_RAYCAST_OFFSET - Rideable.GROUND_RAYCAST_MAXDISTANCE\n                raycastAll(bx, by + Rideable.GROUND_RAYCAST_OFFSET, bz, 0.0 , - 1.0 , 0.0 , Rideable.GROUND_RAYCAST_MAXDISTANCE, "groundRaycastCallback" , self , Rideable.GROUND_RAYCAST_COLLISIONMASK)\n                by = spec.groundRaycastResult.y\n                local dx, dy, dz = fx - bx, fy - by, fz - bz\n                setDirection( self.rootNode, dx, dy, dz, 0 , 1 , 0 )\n            else\n                    local posX, posY, posZ = getWorldTranslation( self.rootNode)\n                    spec.groundRaycastResult.distance = Rideable.GROUND_RAYCAST_MAXDISTANCE\n                    raycastAll(posX, posY, posZ, 0.0 , - 1.0 , 0.0 , Rideable.GROUND_RAYCAST_MAXDISTANCE, "groundRaycastCallback" , self , Rideable.GROUND_RAYCAST_COLLISIONMASK)\n                    spec.isCloseToGround = spec.groundRaycastResult.distance < 1.25\n                end\n            end\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"onvehiclecharacterchanged",children:"onVehicleCharacterChanged"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onVehicleCharacterChanged()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"character"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function Rideable:onVehicleCharacterChanged(character)\n    if character ~ = nil then\n        if self.isClient then\n            local spec = self.spec_rideable\n            link(character.playerModel.thirdPersonLeftHandNode, spec.leftReinNode)\n            link(character.playerModel.thirdPersonRightHandNode, spec.rightReinNode)\n            setVisibility(spec.reinsNode, true )\n\n            if character ~ = nil and character.animationCharsetId ~ = nil and character.animationPlayer ~ = nil then\n                for key, parameter in pairs(spec.animationParameters) do\n                    conditionalAnimationRegisterParameter(character.animationPlayer, parameter.id, parameter.type , key)\n                end\n                initConditionalAnimation(character.animationPlayer, character.animationCharsetId, self.configFileName, "vehicle.riderConditionalAnimation" )\n                setConditionalAnimationSpecificParameterIds(character.animationPlayer, spec.animationParameters.absForwardVelocity.id, spec.animationParameters.absYawVelocity.id)\n\n                self:setEquipmentVisibility( true )\n                conditionalAnimationZeroiseTrackTimes(character.animationPlayer)\n                conditionalAnimationZeroiseTrackTimes(spec.animationPlayer)\n            end\n\n            if self:getIsControlled() then\n                local mission = g_currentMission\n                if mission.hud.fadeScreenElement:getAlpha() > 0.0 then\n                    mission:fadeScreen( - 1 , spec.fadeDuration, self.endFade, self )\n                end\n            end\n        end\n    end\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"onwritepositionupdatestream",children:"onWritePositionUpdateStream"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onWritePositionUpdateStream(integer streamId, Connection connection, )"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"integer"}),(0,s.jsx)(n.th,{children:"streamId"}),(0,s.jsx)(n.th,{children:"streamId"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Connection"}),(0,s.jsx)(n.td,{children:"connection"}),(0,s.jsx)(n.td,{children:"connection"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"dirtyMask"}),(0,s.jsx)(n.td,{})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Rideable:onWritePositionUpdateStream(streamId, connection, dirtyMask)\n    local spec = self.spec_rideable\n    streamWriteBool(streamId, spec.isOnGround)\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onwritestream",children:"onWriteStream"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Called on client side on join"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onWriteStream(integer streamId, Connection connection)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"integer"}),(0,s.jsx)(n.th,{children:"streamId"}),(0,s.jsx)(n.th,{children:"streamId"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Connection"}),(0,s.jsx)(n.td,{children:"connection"}),(0,s.jsx)(n.td,{children:"connection"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Rideable:onWriteStream(streamId, connection)\n    local spec = self.spec_rideable\n    if not connection:getIsServer() then\n        streamWriteBool(streamId, spec.isOnGround)\n    end\n    if streamWriteBool(streamId, spec.cluster ~ = nil ) then\n        streamWriteUIntN(streamId, spec.cluster:getSubTypeIndex(), AnimalCluster.NUM_BITS_SUB_TYPE)\n        spec.cluster:writeStream(streamId, connection)\n    end\n    if streamWriteBool(streamId, spec.playerToEnter ~ = nil ) then\n        NetworkUtil.writeNodeObject(streamId, spec.playerToEnter)\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onwriteupdatestream",children:"onWriteUpdateStream"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Called on on update"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onWriteUpdateStream(integer streamId, table connection, integer dirtyMask)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"integer"}),(0,s.jsx)(n.th,{children:"streamId"}),(0,s.jsx)(n.th,{children:"stream ID"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"table"}),(0,s.jsx)(n.td,{children:"connection"}),(0,s.jsx)(n.td,{children:"connection"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"integer"}),(0,s.jsx)(n.td,{children:"dirtyMask"}),(0,s.jsx)(n.td,{children:"dirty mask"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Rideable:onWriteUpdateStream(streamId, connection, dirtyMask)\n    local spec = self.spec_rideable\n    if connection:getIsServer() then\n        streamWriteFloat32(streamId, spec.inputValues.axisSteerSend)\n        streamWriteUInt8(streamId, spec.inputValues.currentGait)\n    else\n            streamWriteFloat32(streamId, spec.haltTimer)\n\n            if streamWriteBool(streamId, spec.cluster ~ = nil ) then\n                spec.cluster:writeUpdateStream(streamId, connection)\n            end\n        end\n    end\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"periodchanged",children:"periodChanged"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"periodChanged()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Rideable:periodChanged(superFunc)\n    superFunc( self )\n\n    local spec = self.spec_rideable\n    if spec.cluster ~ = nil then\n        spec.cluster:onPeriodChanged()\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"prerequisitespresent",children:"prerequisitesPresent"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Checks if all prerequisite specializations are loaded"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"prerequisitesPresent(table specializations)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"table"}),(0,s.jsx)(n.th,{children:"specializations"}),(0,s.jsx)(n.th,{children:"specializations"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"table"}),(0,s.jsx)(n.th,{children:"hasPrerequisite"}),(0,s.jsx)(n.th,{children:"true if all prerequisite specializations are loaded"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Rideable.prerequisitesPresent(specializations)\n    return SpecializationUtil.hasSpecialization( CCTDrivable , specializations)\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"registereventlisteners",children:"registerEventListeners"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Registers event listeners"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"registerEventListeners(table vehicleType)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"table"}),(0,s.jsx)(n.th,{children:"vehicleType"}),(0,s.jsx)(n.th,{children:"type of vehicle"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function Rideable.registerEventListeners(vehicleType)\n    SpecializationUtil.registerEventListener(vehicleType, "onLoad" , Rideable )\n    SpecializationUtil.registerEventListener(vehicleType, "onLoadFinished" , Rideable )\n    SpecializationUtil.registerEventListener(vehicleType, "onDelete" , Rideable )\n    SpecializationUtil.registerEventListener(vehicleType, "onReadStream" , Rideable )\n    SpecializationUtil.registerEventListener(vehicleType, "onWriteStream" , Rideable )\n    SpecializationUtil.registerEventListener(vehicleType, "onReadUpdateStream" , Rideable )\n    SpecializationUtil.registerEventListener(vehicleType, "onWriteUpdateStream" , Rideable )\n    SpecializationUtil.registerEventListener(vehicleType, "onReadPositionUpdateStream" , Rideable )\n    SpecializationUtil.registerEventListener(vehicleType, "onWritePositionUpdateStream" , Rideable )\n    SpecializationUtil.registerEventListener(vehicleType, "onUpdate" , Rideable )\n    SpecializationUtil.registerEventListener(vehicleType, "onUpdateInterpolation" , Rideable )\n    SpecializationUtil.registerEventListener(vehicleType, "onDraw" , Rideable )\n    SpecializationUtil.registerEventListener(vehicleType, "onRegisterActionEvents" , Rideable )\n    SpecializationUtil.registerEventListener(vehicleType, "onEnterVehicle" , Rideable )\n    SpecializationUtil.registerEventListener(vehicleType, "onLeaveVehicle" , Rideable )\n    SpecializationUtil.registerEventListener(vehicleType, "onSetBroken" , Rideable )\n    SpecializationUtil.registerEventListener(vehicleType, "onVehicleCharacterChanged" , Rideable )\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"registerfunctions",children:"registerFunctions"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Registers functions"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"registerFunctions(table vehicleType)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"table"}),(0,s.jsx)(n.th,{children:"vehicleType"}),(0,s.jsx)(n.th,{children:"type of vehicle"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function Rideable.registerFunctions(vehicleType)\n    SpecializationUtil.registerFunction(vehicleType, "getIsRideableJumpAllowed" , Rideable.getIsRideableJumpAllowed)\n    SpecializationUtil.registerFunction(vehicleType, "jump" , Rideable.jump)\n    SpecializationUtil.registerFunction(vehicleType, "setCurrentGait" , Rideable.setCurrentGait)\n    SpecializationUtil.registerFunction(vehicleType, "getCurrentGait" , Rideable.getCurrentGait)\n    SpecializationUtil.registerFunction(vehicleType, "setRideableSteer" , Rideable.setRideableSteer)\n    SpecializationUtil.registerFunction(vehicleType, "resetInputs" , Rideable.resetInputs)\n    SpecializationUtil.registerFunction(vehicleType, "updateKinematic" , Rideable.updateKinematic)\n    SpecializationUtil.registerFunction(vehicleType, "testCCTMove" , Rideable.testCCTMove)\n    SpecializationUtil.registerFunction(vehicleType, "updateAnimation" , Rideable.updateAnimation)\n    SpecializationUtil.registerFunction(vehicleType, "updateSound" , Rideable.updateSound)\n    SpecializationUtil.registerFunction(vehicleType, "updateRiding" , Rideable.updateRiding)\n    SpecializationUtil.registerFunction(vehicleType, "updateDirt" , Rideable.updateDirt)\n    SpecializationUtil.registerFunction(vehicleType, "calculateLegsDistance" , Rideable.calculateLegsDistance)\n    SpecializationUtil.registerFunction(vehicleType, "setWorldPositionQuat" , Rideable.setWorldPositionQuat)\n    SpecializationUtil.registerFunction(vehicleType, "updateFootsteps" , Rideable.updateFootsteps)\n    SpecializationUtil.registerFunction(vehicleType, "getPosition" , Rideable.getPosition)\n    SpecializationUtil.registerFunction(vehicleType, "getRotation" , Rideable.getRotation)\n    SpecializationUtil.registerFunction(vehicleType, "setEquipmentVisibility" , Rideable.setEquipmentVisibility)\n    SpecializationUtil.registerFunction(vehicleType, "getHoofSurfaceSound" , Rideable.getHoofSurfaceSound)\n    SpecializationUtil.registerFunction(vehicleType, "groundRaycastCallback" , Rideable.groundRaycastCallback)\n    SpecializationUtil.registerFunction(vehicleType, "unlinkReins" , Rideable.unlinkReins)\n    SpecializationUtil.registerFunction(vehicleType, "updateInputText" , Rideable.updateInputText)\n    SpecializationUtil.registerFunction(vehicleType, "setPlayerToEnter" , Rideable.setPlayerToEnter)\n    SpecializationUtil.registerFunction(vehicleType, "endFade" , Rideable.endFade)\n    SpecializationUtil.registerFunction(vehicleType, "setCluster" , Rideable.setCluster)\n    SpecializationUtil.registerFunction(vehicleType, "getCluster" , Rideable.getCluster)\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"registeroverwrittenfunctions",children:"registerOverwrittenFunctions"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"registerOverwrittenFunctions()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function Rideable.registerOverwrittenFunctions(vehicleType)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "setWorldPosition" , Rideable.setWorldPosition)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "setWorldPositionQuaternion" , Rideable.setWorldPositionQuaternion)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "updateVehicleSpeed" , Rideable.updateVehicleSpeed)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getName" , Rideable.getName)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getFullName" , Rideable.getFullName)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getCanBeReset" , Rideable.getCanBeReset)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getMapHotspotRotation" , Rideable.getMapHotspotRotation)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getShowInVehiclesOverview" , Rideable.getShowInVehiclesOverview)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "periodChanged" , Rideable.periodChanged)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "dayChanged" , Rideable.dayChanged)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getImageFilename" , Rideable.getImageFilename)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "showInfo" , Rideable.showInfo)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "deleteVehicleCharacter" , Rideable.deleteVehicleCharacter)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getCanBeSold" , Rideable.getCanBeSold)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getInteractionHelp" , Rideable.getInteractionHelp)\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"resetinputs",children:"resetInputs"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Resets all inputs"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"resetInputs()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Rideable:resetInputs()\n    local spec = self.spec_rideable\n    spec.inputValues.axisSteer = 0\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"savetoxmlfile",children:"saveToXMLFile"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"saveToXMLFile()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"xmlFile"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"key"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"usedModNames"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function Rideable:saveToXMLFile(xmlFile, key, usedModNames)\n    local spec = self.spec_rideable\n\n    if spec.cluster ~ = nil then\n        local mission = g_currentMission\n        local animalSystem = mission.animalSystem\n        local subTypeIndex = spec.cluster:getSubTypeIndex()\n        local subType = animalSystem:getSubTypeByIndex(subTypeIndex)\n        xmlFile:setString(key .. "#subType" , subType.name)\n        spec.cluster:saveToXMLFile(xmlFile, key .. ".animal" , usedModNames)\n    end\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"setcluster",children:"setCluster"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"setCluster()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"cluster"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function Rideable:setCluster(cluster)\n    local spec = self.spec_rideable\n    spec.cluster = cluster\n\n    if cluster ~ = nil then\n        -- set texture\n        local mission = g_currentMission\n        local animalSystem = mission.animalSystem\n        local subTypeIndex = cluster:getSubTypeIndex()\n        local visual = animalSystem:getVisualByAge(subTypeIndex, cluster:getAge())\n        local variation = visual.visualAnimal.variations[ 1 ]\n        local tileU = variation.tileUIndex / variation.numTilesU\n        local tileV = variation.tileVIndex / variation.numTilesV\n\n        I3DUtil.setShaderParameterRec(spec.meshNode, "atlasInvSizeAndOffsetUV" , nil , nil , tileU, tileV)\n\n        self:updateDirt()\n    end\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"setcurrentgait",children:"setCurrentGait"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"setCurrentGait()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"gait"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Rideable:setCurrentGait(gait)\n    local spec = self.spec_rideable\n    spec.inputValues.currentGait = gait\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"setequipmentvisibility",children:"setEquipmentVisibility"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Called on leaving the vehicle"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"setEquipmentVisibility()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"val"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Rideable:setEquipmentVisibility(val)\n    if self.isClient then\n        local spec = self.spec_rideable\n\n        if spec.equipmentNode ~ = nil then\n            setVisibility(spec.equipmentNode, val)\n            setVisibility(spec.reinsNode, val)\n        end\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"setplayertoenter",children:"setPlayerToEnter"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"setPlayerToEnter()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"player"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Rideable:setPlayerToEnter(player)\n    local spec = self.spec_rideable\n    spec.playerToEnter = player\n    spec.checkPlayerToEnter = true\n    self:raiseActive()\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"setrideablesteer",children:"setRideableSteer"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"setRideableSteer()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"axisSteer"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Rideable:setRideableSteer(axisSteer)\n    local spec = self.spec_rideable\n    if axisSteer ~ = 0 then\n        spec.inputValues.axisSteer = - axisSteer\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"setworldposition",children:"setWorldPosition"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"setWorldPosition()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"superFunc"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"x"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"y"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"z"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"xRot"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"yRot"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"zRot"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"i"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"changeInterp"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Rideable:setWorldPosition(superFunc, x,y,z, xRot,yRot,zRot, i, changeInterp)\n    superFunc( self , x,y,z, xRot,yRot,zRot, i, changeInterp)\n    if self.isServer and i = = 1 then\n        local spec = self.spec_rideable\n        local dx, _, dz = localDirectionToWorld( self.rootNode, 0 , 0 , 1 )\n        spec.currentTurnAngle = MathUtil.getYRotationFromDirection(dx, dz)\n        if changeInterp then\n            spec.interpolatorTurnAngle:setAngle(spec.currentTurnAngle)\n        end\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"setworldpositionquat",children:"setWorldPositionQuat"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Set world position and quaternion rotation of component"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"setWorldPositionQuat(float x, float y, float z, float qx, float qy, float qz, float qw, integer i, boolean\nchangeInterp)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"float"}),(0,s.jsx)(n.th,{children:"x"}),(0,s.jsx)(n.th,{children:"x position"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"float"}),(0,s.jsx)(n.td,{children:"y"}),(0,s.jsx)(n.td,{children:"y position"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"float"}),(0,s.jsx)(n.td,{children:"z"}),(0,s.jsx)(n.td,{children:"z position"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"float"}),(0,s.jsx)(n.td,{children:"qx"}),(0,s.jsx)(n.td,{children:"x rotation"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"float"}),(0,s.jsx)(n.td,{children:"qy"}),(0,s.jsx)(n.td,{children:"y rotation"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"float"}),(0,s.jsx)(n.td,{children:"qz"}),(0,s.jsx)(n.td,{children:"z rotation"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"float"}),(0,s.jsx)(n.td,{children:"qw"}),(0,s.jsx)(n.td,{children:"w rotation"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"integer"}),(0,s.jsx)(n.td,{children:"i"}),(0,s.jsx)(n.td,{children:"index if component"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"boolean"}),(0,s.jsx)(n.td,{children:"changeInterp"}),(0,s.jsx)(n.td,{children:"change interpolation"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Rideable:setWorldPositionQuat(x,y,z, qx,qy,qz,qw, changeInterp)\n    setWorldTranslation( self.rootNode, x,y,z)\n    setWorldQuaternion( self.rootNode, qx,qy,qz,qw)\n    if changeInterp then\n        local spec = self.spec_rideable\n        spec.networkInterpolators.position:setPosition(x,y,z)\n        spec.networkInterpolators.quaternion:setQuaternion(qx, qy, qz, qw)\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"setworldpositionquaternion",children:"setWorldPositionQuaternion"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"setWorldPositionQuaternion()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"superFunc"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"x"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"y"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"z"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"qx"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"qy"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"qz"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"qw"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"i"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"changeInterp"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Rideable:setWorldPositionQuaternion(superFunc, x, y, z, qx, qy, qz, qw, i, changeInterp)\n    superFunc( self , x, y, z, qx, qy, qz, qw, i, changeInterp)\n    if self.isServer and i = = 1 then\n        local spec = self.spec_rideable\n        local dx, _, dz = localDirectionToWorld( self.rootNode, 0 , 0 , 1 )\n        spec.currentTurnAngle = MathUtil.getYRotationFromDirection(dx, dz)\n        if changeInterp then\n            spec.interpolatorTurnAngle:setAngle(spec.currentTurnAngle)\n        end\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"showinfo",children:"showInfo"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"showInfo()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"superFunc"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"box"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Rideable:showInfo(superFunc, box)\n    local spec = self.spec_rideable\n\n    if spec.cluster ~ = nil then\n        spec.cluster:showInfo(box)\n    end\n\n    superFunc( self , box)\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"testcctmove",children:"testCCTMove"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Check if a requested CCT move was successful. We need a range for the error because of possible huge fps fluctuation."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"testCCTMove()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"dt"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function Rideable:testCCTMove(dt)\n    local spec = self.spec_rideable\n    spec.lastCCTPosX, spec.lastCCTPosY, spec.lastCCTPosZ = spec.currentCCTPosX, spec.currentCCTPosY, spec.currentCCTPosZ\n    spec.currentCCTPosX, spec.currentCCTPosY, spec.currentCCTPosZ = getWorldTranslation( self.spec_cctdrivable.cctNode)\n\n    local expectedMovementX, expectedMovementZ = 0 , 0\n\n    while spec.cctMoveQueue[ 1 ] ~ = nil and getIsPhysicsUpdateIndexSimulated(spec.cctMoveQueue[ 1 ].physicsIndex) do\n        expectedMovementX = expectedMovementX + spec.cctMoveQueue[ 1 ].moveX\n        expectedMovementZ = expectedMovementZ + spec.cctMoveQueue[ 1 ].moveZ\n        table.remove(spec.cctMoveQueue, 1 )\n    end\n\n    local expectedMovement = math.sqrt(expectedMovementX * expectedMovementX + expectedMovementZ * expectedMovementZ)\n    if expectedMovement > 0.001 * dt then -- only check if we are supposed to move faster than 3.6km/h\n        local movementX = spec.currentCCTPosX - spec.lastCCTPosX\n        local movementZ = spec.currentCCTPosZ - spec.lastCCTPosZ\n        local movement = math.sqrt(movementX * movementX + movementZ * movementZ)\n        if movement < = expectedMovement * 0.7 and spec.haltTimer < = 0.0 then\n            -- print(string.format("-- [Rideable:testCCTMove][%d] movement(%.3f), expectedMovement(%.3f) haltTimer(%.3f)", g_updateLoopIndex, movement, expectedMovement, spec.haltTimer))\n            self:setCurrentGait( Rideable.GAITTYPES.STILL)\n            spec.haltTimer = 900\n            if spec.horseStopSound ~ = nil then\n                g_soundManager:playSample(spec.horseStopSound)\n            end\n        end\n    end\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"unlinkreins",children:"unlinkReins"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"unlinkReins()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Rideable:unlinkReins()\n    if self.isClient then\n        local spec = self.spec_rideable\n\n        link(spec.leftReinParentNode, spec.leftReinNode)\n        link(spec.rightReinParentNode, spec.rightReinNode)\n        setVisibility(spec.reinsNode, false )\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"updateanimation",children:"updateAnimation"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Updates the parameters that will drive the animation"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"updateAnimation(float dt)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"float"}),(0,s.jsx)(n.th,{children:"dt"}),(0,s.jsx)(n.th,{children:"delta time in ms"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function Rideable:updateAnimation(dt)\n    local spec = self.spec_rideable\n    local params = spec.animationParameters\n    local speed = self.lastSignedSpeedReal * 1000.0\n    local smoothedSpeed = self.lastSignedSpeed * 1000.0\n    speed = math.clamp(speed, spec.topSpeeds[ Rideable.GAITTYPES.BACKWARDS], spec.topSpeeds[ Rideable.GAITTYPES.MAX])\n    smoothedSpeed = math.clamp(smoothedSpeed, spec.topSpeeds[ Rideable.GAITTYPES.BACKWARDS], spec.topSpeeds[ Rideable.GAITTYPES.MAX])\n\n    local turnSpeed\n    if self.isServer then\n        turnSpeed = (spec.interpolatorTurnAngle.targetValue - spec.interpolatorTurnAngle.lastValue) / ( self.networkTimeInterpolator.interpolationDuration * 0.001 )\n    else\n            local interpQuat = self.components[ 1 ].networkInterpolators.quaternion\n            local lastDirX, _, lastDirZ = mathQuaternionRotateVector(interpQuat.lastQuaternionX, interpQuat.lastQuaternionY, interpQuat.lastQuaternionZ, interpQuat.lastQuaternionW, 0 , 0 , 1 )\n            local targetDirX, _, targetDirZ = mathQuaternionRotateVector(interpQuat.targetQuaternionX, interpQuat.targetQuaternionY, interpQuat.targetQuaternionZ, interpQuat.targetQuaternionW, 0 , 0 , 1 )\n            local lastTurnAngle = MathUtil.getYRotationFromDirection(lastDirX, lastDirZ)\n            local targetTurnAngle = MathUtil.getYRotationFromDirection(targetDirX, targetDirZ)\n            local turnAngleDiff = targetTurnAngle - lastTurnAngle\n            -- normalize to -180,180deg\n            if turnAngleDiff > math.pi then\n                turnAngleDiff = turnAngleDiff - 2 * math.pi\n            elseif turnAngleDiff < - math.pi then\n                    turnAngleDiff = turnAngleDiff + 2 * math.pi\n                end\n                turnSpeed = turnAngleDiff / ( self.networkTimeInterpolator.interpolationDuration * 0.001 )\n            end\n\n            local interpPos = self.components[ 1 ].networkInterpolators.position\n            local speedY = (interpPos.targetPositionY - interpPos.lastPositionY) / ( self.networkTimeInterpolator.interpolationDuration * 0.001 )\n\n            local leftRightWeight\n            if math.abs(speed) > 0.01 then\n                local closestGait = Rideable.GAITTYPES.STILL\n                local closestDiff = math.huge\n                for i = 1 , Rideable.GAITTYPES.MAX do\n                    local diff = math.abs(speed - spec.topSpeeds[i])\n                    if diff < closestDiff then\n                        closestGait = i\n                        closestDiff = diff\n                    end\n                end\n                local minTurnRadius = spec.minTurnRadius[closestGait]\n                leftRightWeight = minTurnRadius * turnSpeed / speed\n            else\n                    leftRightWeight = turnSpeed / spec.maxTurnSpeed\n                end\n                if leftRightWeight < spec.smoothedLeftRightWeight then\n                    spec.smoothedLeftRightWeight = math.max(leftRightWeight, spec.smoothedLeftRightWeight - 1 / 500 * dt, - 1 )\n                else\n                        spec.smoothedLeftRightWeight = math.min(leftRightWeight, spec.smoothedLeftRightWeight + 1 / 500 * dt, 1 )\n                    end\n\n                    -- print(string.format("-- [Rideable:updateAnimation][%d][%s]\\t%.6f\\t%.6f\\t%.6f\\t%.6f\\t%.6f\\t%.6f\\t%.6f\\t%.6f\\t%.6f\\t%.6f", g_updateLoopIndex, tostring(self), dt, leftRightWeight, spec.smoothedLeftRightWeight, math.clamp(leftRightWeight, -1.0, 1.0), turnSpeed / spec.maxTurnSpeed, math.clamp(turnSpeed / spec.maxTurnSpeed, -1.0, 1.0), turnSpeed, speed, self.movingDirection, self.lastSpeedAcceleration * 1000 * 1000))\n\n                    params.forwardVelocity.value = speed\n                    params.absForwardVelocity.value = math.abs(speed)\n                    params.verticalVelocity.value = speedY\n                    params.yawVelocity.value = turnSpeed\n                    params.absYawVelocity.value = math.abs(turnSpeed)\n                    params.leftRightWeight.value = spec.smoothedLeftRightWeight\n                    params.onGround.value = spec.isOnGround -- or spec.justSpawned\n                    params.closeToGround.value = spec.isCloseToGround\n                    params.inWater.value = self.isInWater\n                    params.halted.value = spec.haltTimer > 0\n                    params.smoothedForwardVelocity.value = smoothedSpeed\n                    params.absSmoothedForwardVelocity.value = math.abs(smoothedSpeed)\n\n                    -- horse animation\n                    if spec.animationPlayer ~ = nil then\n                        for _, parameter in pairs(params) do\n                            if parameter.type = = 0 then\n                                setConditionalAnimationBoolValue(spec.animationPlayer, parameter.id, parameter.value)\n                            elseif parameter.type = = 1 then\n                                    setConditionalAnimationFloatValue(spec.animationPlayer, parameter.id, parameter.value)\n                                end\n                            end\n                            updateConditionalAnimation(spec.animationPlayer, dt)\n                            -- local x,y,z = getWorldTranslation(self.rootNode)\n                            -- conditionalAnimationDebugDraw(spec.animationPlayer, x,y,z)\n                        end\n                        local isEntered = self.getIsEntered ~ = nil and self:getIsEntered()\n                        local isControlled = self.getIsControlled ~ = nil and self:getIsControlled()\n\n                        if isEntered or isControlled then\n                            -- rider animation\n                            local character = self:getVehicleCharacter()\n                            if character ~ = nil and character.animationCharsetId ~ = nil and character.animationPlayer ~ = nil then\n                                for _, parameter in pairs(params) do\n                                    if parameter.type = = 0 then\n                                        setConditionalAnimationBoolValue(character.animationPlayer, parameter.id, parameter.value)\n                                    elseif parameter.type = = 1 then\n                                            setConditionalAnimationFloatValue(character.animationPlayer, parameter.id, parameter.value)\n                                        end\n                                    end\n                                    updateConditionalAnimation(character.animationPlayer, dt)\n                                    -- local x,y,z = getWorldTranslation(self.rootNode)\n                                    -- conditionalAnimationDebugDraw(character.animationPlayer, x,y,z)\n                                end\n                            end\n                            self:updateFootsteps(dt, math.abs(speed))\n                        end\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"updatedebugvalues",children:"updateDebugValues"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"updateDebugValues()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"values"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function Rideable:updateDebugValues(values)\n    local spec = self.spec_rideable\n\n    for k, hoofInfo in pairs(spec.hooves) do\n        table.insert(values, { name = "hoof sample " .. k, value = hoofInfo.sampleDebug } )\n    end\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"updatedirt",children:"updateDirt"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"updateDirt()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function Rideable:updateDirt()\n    local spec = self.spec_rideable\n    local cluster = spec.cluster\n    local dirtFactor = 0\n    if Platform.gameplay.needHorseCleaning and cluster ~ = nil and cluster.getDirtFactor ~ = nil then\n        dirtFactor = cluster:getDirtFactor()\n    end\n    I3DUtil.setShaderParameterRec(spec.meshNode, "dirt" , dirtFactor, nil , nil , nil )\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"updatefootsteps",children:"updateFootsteps"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"updateFootsteps()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"dt"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"speed"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function Rideable:updateFootsteps(dt, speed)\n    local spec = self.spec_rideable\n    local epsilon = 0.001\n\n    if speed > epsilon then\n        local dirX, _, dirZ = localDirectionToWorld( self.rootNode, 0 , 0 , 1 )\n        local rotY = MathUtil.getYRotationFromDirection(dirX, dirZ)\n        for k, hoofInfo in pairs(spec.hooves) do\n            local posX, posY, posZ = getWorldTranslation(hoofInfo.node)\n            spec.groundRaycastResult.object = 0\n            spec.groundRaycastResult.y = posY - 1\n            raycastClosest(posX, posY + Rideable.GROUND_RAYCAST_OFFSET, posZ, 0.0 , - 1.0 , 0.0 , Rideable.GROUND_RAYCAST_MAXDISTANCE, "groundRaycastCallback" , self , Rideable.GROUND_RAYCAST_COLLISIONMASK)\n\n            local hitTerrain = spec.groundRaycastResult.object = = g_terrainNode\n            local terrainY = spec.groundRaycastResult.y\n            local onGround = ((posY - terrainY) < 0.05 )\n\n            -- DebugGizmo.renderAtNode(hoofInfo.node, string.format("[%s] (%.6f/%.6f|%s)", getName(hoofInfo.node), posY, terrainY, tostring(((posY - terrainY) < 0.05))))\n            if onGround and not hoofInfo.onGround then\n                local r, g, b, _, _ = getTerrainAttributesAtWorldPos(g_terrainNode, posX, posY, posZ, true , true , true , true , false )\n                hoofInfo.onGround = true\n                -- particles\n                if spec.inputValues.currentGait < Rideable.GAITTYPES.CANTER then\n                    if hoofInfo.psSlow ~ = nil and hoofInfo.psSlow.emitterShape ~ = nil then\n                        ParticleUtil.resetNumOfEmittedParticles(hoofInfo.psSlow)\n                        ParticleUtil.setEmittingState(hoofInfo.psSlow, true )\n                        setShaderParameter(hoofInfo.psSlow.shape, "psColor" , r, g, b, 1 , false )\n\n                        -- emittershapes are linked to world rootnode\n                        setWorldTranslation(hoofInfo.psSlow.emitterShape, posX, terrainY, posZ)\n                        setWorldRotation(hoofInfo.psSlow.emitterShape, 0 , rotY, 0 )\n                    end\n                else\n                        if hoofInfo.psFast ~ = nil and hoofInfo.psFast.emitterShape ~ = nil then\n                            ParticleUtil.resetNumOfEmittedParticles(hoofInfo.psFast)\n                            ParticleUtil.setEmittingState(hoofInfo.psFast, true )\n                            setShaderParameter(hoofInfo.psFast.shape, "psColor" , r, g, b, 1 , false )\n\n                            -- emittershapes are linked to world rootnode\n                            setWorldTranslation(hoofInfo.psFast.emitterShape, posX, terrainY, posZ)\n                            setWorldRotation(hoofInfo.psSlow.emitterShape, 0 , rotY, 0 )\n                        end\n                    end\n\n                    local sample = self:getHoofSurfaceSound(posX, posY, posZ, hitTerrain)\n                    if sample ~ = nil then\n                        hoofInfo.sampleDebug = string.format( "%s - %s" , sample.sampleName, sample.filename)\n                        g_soundManager:playSample(sample)\n                    end\n\n                elseif not onGround and hoofInfo.onGround then\n                        hoofInfo.onGround = false\n                        if hoofInfo.psSlow ~ = nil and hoofInfo.psSlow.emitterShape ~ = nil then\n                            ParticleUtil.setEmittingState(hoofInfo.psSlow, false )\n                        end\n                        if hoofInfo.psFast ~ = nil and hoofInfo.psFast.emitterShape ~ = nil then\n                            ParticleUtil.setEmittingState(hoofInfo.psFast, false )\n                        end\n                    end\n                end\n            end\n        end\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"updateinputtext",children:"updateInputText"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"updateInputText()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function Rideable:updateInputText()\n    local spec = self.spec_rideable\n\n    if spec.inputValues.currentGait = = Rideable.GAITTYPES.BACKWARDS then\n        g_inputBinding:setActionEventText(spec.acceletateEventId, g_i18n:getText( "action_stop" ))\n        g_inputBinding:setActionEventActive(spec.acceletateEventId, true )\n        g_inputBinding:setActionEventTextVisibility(spec.acceletateEventId, true )\n\n        g_inputBinding:setActionEventActive(spec.brakeEventId, false )\n        g_inputBinding:setActionEventTextVisibility(spec.brakeEventId, false )\n\n        g_inputBinding:setActionEventActive(spec.jumpEventId, false )\n        g_inputBinding:setActionEventTextVisibility(spec.jumpEventId, false )\n    elseif spec.inputValues.currentGait = = Rideable.GAITTYPES.STILL then\n            g_inputBinding:setActionEventText(spec.acceletateEventId, g_i18n:getText( "action_walk" ))\n            g_inputBinding:setActionEventActive(spec.acceletateEventId, true )\n            g_inputBinding:setActionEventTextVisibility(spec.acceletateEventId, true )\n\n            g_inputBinding:setActionEventText(spec.brakeEventId, g_i18n:getText( "action_walkBackwards" ))\n            g_inputBinding:setActionEventActive(spec.brakeEventId, true )\n            g_inputBinding:setActionEventTextVisibility(spec.brakeEventId, true )\n\n            g_inputBinding:setActionEventActive(spec.jumpEventId, false )\n            g_inputBinding:setActionEventTextVisibility(spec.jumpEventId, false )\n        elseif spec.inputValues.currentGait = = Rideable.GAITTYPES.WALK then\n                g_inputBinding:setActionEventText(spec.acceletateEventId, g_i18n:getText( "action_trot" ))\n                g_inputBinding:setActionEventActive(spec.acceletateEventId, true )\n                g_inputBinding:setActionEventTextVisibility(spec.acceletateEventId, true )\n\n                g_inputBinding:setActionEventText(spec.brakeEventId, g_i18n:getText( "action_stop" ))\n                g_inputBinding:setActionEventActive(spec.brakeEventId, true )\n                g_inputBinding:setActionEventTextVisibility(spec.brakeEventId, true )\n\n                g_inputBinding:setActionEventActive(spec.jumpEventId, false )\n                g_inputBinding:setActionEventTextVisibility(spec.jumpEventId, false )\n            elseif spec.inputValues.currentGait = = Rideable.GAITTYPES.TROT then\n                    g_inputBinding:setActionEventText(spec.acceletateEventId, g_i18n:getText( "action_canter" ))\n                    g_inputBinding:setActionEventActive(spec.acceletateEventId, true )\n                    g_inputBinding:setActionEventTextVisibility(spec.acceletateEventId, true )\n\n                    g_inputBinding:setActionEventText(spec.brakeEventId, g_i18n:getText( "action_walk" ))\n                    g_inputBinding:setActionEventActive(spec.brakeEventId, true )\n                    g_inputBinding:setActionEventTextVisibility(spec.brakeEventId, true )\n\n                    g_inputBinding:setActionEventActive(spec.jumpEventId, false )\n                    g_inputBinding:setActionEventTextVisibility(spec.jumpEventId, false )\n                elseif spec.inputValues.currentGait = = Rideable.GAITTYPES.CANTER then\n                        g_inputBinding:setActionEventText(spec.acceletateEventId, g_i18n:getText( "action_gallop" ))\n                        g_inputBinding:setActionEventActive(spec.acceletateEventId, true )\n                        g_inputBinding:setActionEventTextVisibility(spec.acceletateEventId, true )\n\n                        g_inputBinding:setActionEventText(spec.brakeEventId, g_i18n:getText( "action_trot" ))\n                        g_inputBinding:setActionEventActive(spec.brakeEventId, true )\n                        g_inputBinding:setActionEventTextVisibility(spec.brakeEventId, true )\n\n                        g_inputBinding:setActionEventText(spec.jumpEventId, g_i18n:getText( "input_JUMP" ))\n                        g_inputBinding:setActionEventActive(spec.jumpEventId, true )\n                        g_inputBinding:setActionEventTextVisibility(spec.jumpEventId, true )\n                    elseif spec.inputValues.currentGait = = Rideable.GAITTYPES.GALLOP then\n                            g_inputBinding:setActionEventActive(spec.acceletateEventId, false )\n                            g_inputBinding:setActionEventTextVisibility(spec.acceletateEventId, false )\n\n                            g_inputBinding:setActionEventText(spec.brakeEventId, g_i18n:getText( "action_canter" ))\n                            g_inputBinding:setActionEventActive(spec.brakeEventId, true )\n                            g_inputBinding:setActionEventTextVisibility(spec.brakeEventId, true )\n\n                            g_inputBinding:setActionEventText(spec.jumpEventId, g_i18n:getText( "input_JUMP" ))\n                            g_inputBinding:setActionEventActive(spec.jumpEventId, true )\n                            g_inputBinding:setActionEventTextVisibility(spec.jumpEventId, true )\n                        end\n                    end\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"updatekinematic",children:"updateKinematic"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Update animal kinematic; if we reach max speed? we fix velocity else we add force to accelerate. If we need to break,\nwe add a break force. At the end we add gravity force and change direction when needed."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"updateKinematic(float dt)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"float"}),(0,s.jsx)(n.th,{children:"dt"}),(0,s.jsx)(n.th,{children:"delta time in ms"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function Rideable:updateKinematic(dt)\n    local spec = self.spec_rideable\n    local dtInSec = dt * 0.001\n\n    -- Update movement in current direction\n    local desiredSpeed = spec.topSpeeds[spec.inputValues.currentGait]\n    local maxSpeedChange = spec.maxAcceleration\n    if desiredSpeed = = 0.0 then\n        maxSpeedChange = spec.maxDeceleration\n    end\n    maxSpeedChange = maxSpeedChange * dtInSec\n    if not spec.isOnGround then\n        -- reduce acceleration when in the air\n        maxSpeedChange = maxSpeedChange * 0.2\n    end\n\n    local speedChange = (desiredSpeed - spec.currentSpeed)\n    speedChange = math.clamp(speedChange, - maxSpeedChange, maxSpeedChange)\n\n    --local movement = (spec.currentSpeed + 0.5 * speedChange) * dtInSec\n    if spec.haltTimer < = 0.0 then\n        spec.currentSpeed = spec.currentSpeed + speedChange\n    else\n            spec.currentSpeed = 0.0\n        end\n\n        local movement = spec.currentSpeed * dtInSec\n\n        -- Update gravity / vertical movement\n        if spec.isOnGround and spec.currentSpeedY < 0 then\n            spec.currentSpeedY = 0\n        end\n\n        local gravitySpeedChange = spec.gravity * dtInSec\n        spec.currentSpeedY = spec.currentSpeedY + gravitySpeedChange\n        local movementY = spec.currentSpeedY * dtInSec\n\n        -- Update rotation\n        local slowestSpeed = spec.topSpeeds[ Rideable.GAITTYPES.WALK]\n        local fastestSpeed = spec.topSpeeds[ Rideable.GAITTYPES.MAX]\n\n        local maxTurnSpeedChange = ( math.clamp((fastestSpeed - spec.currentSpeed) / (fastestSpeed - slowestSpeed), 0 , 1 ) * 0.4 + 0.8 ) -- Use smaller changes when walking slowly(between 0.8 and 1.2 rad/s^2)\n        maxTurnSpeedChange = maxTurnSpeedChange * dtInSec\n        if not spec.isOnGround then\n            -- reduce turn acceleration when in the air\n            maxTurnSpeedChange = maxTurnSpeedChange * 0.25\n        end\n\n        if self.isServer then\n            if not self:getIsEntered() and not self:getIsControlled() and spec.inputValues.axisSteer ~ = 0.0 then\n                spec.inputValues.axisSteer = 0.0\n            end\n        end\n\n        local desiredTurnSpeed = spec.maxTurnSpeed * spec.inputValues.axisSteer\n        local turnSpeedChange = (desiredTurnSpeed - spec.currentTurnSpeed)\n        turnSpeedChange = math.clamp(turnSpeedChange, - maxTurnSpeedChange, maxTurnSpeedChange)\n        spec.currentTurnSpeed = spec.currentTurnSpeed + turnSpeedChange\n        spec.currentTurnAngle = spec.currentTurnAngle + spec.currentTurnSpeed * dtInSec * (movement > = 0 and 1 or - 1 )\n\n        local movementX, movementZ = math.sin(spec.currentTurnAngle) * movement, math.cos(spec.currentTurnAngle) * movement\n        -- print(string.format("-- [Rideable:updateKinematic][%d]\\t%.6f\\t%.6f\\t%.6f\\t%d", g_updateLoopIndex, dt, spec.currentSpeed, movement, getPhysicsUpdateIndex()))\n        self:moveCCT(movementX, movementY, movementZ, true )\n\n        table.insert(spec.cctMoveQueue, { physicsIndex = getPhysicsUpdateIndex(), moveX = movementX, moveY = movementY, moveZ = movementZ, dt = dt } )\n    end\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"updateriding",children:"updateRiding"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"updateRiding()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"dt"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function Rideable:updateRiding(dt)\n    local spec = self.spec_rideable\n\n    if spec.cluster ~ = nil and spec.currentSpeed ~ = 0.0 then\n        local ridingTime = spec.cluster:getDailyRidingTime()\n        local changeDelta = ridingTime / 100\n        local speedFactor = 1\n\n        local gaitType = spec.inputValues.currentGait\n        if gaitType = = Rideable.GAITTYPES.CANTER then\n            speedFactor = 2\n        elseif gaitType = = Rideable.GAITTYPES.GALLOP then\n                speedFactor = 3\n            end\n\n            spec.ridingTimer = spec.ridingTimer + (dt * speedFactor)\n\n            if spec.ridingTimer > changeDelta then\n                spec.ridingTimer = 0\n                spec.cluster:changeRiding( 1 )\n                spec.cluster:changeDirt( 1 )\n            end\n\n            if self.lastMovedDistance > 0.001 then\n                local distance = self.lastMovedDistance * 0.001\n                g_farmManager:updateFarmStats( self:getOwnerFarmId(), "horseDistance" , distance)\n            end\n\n            self:updateDirt()\n        end\n    end\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"updatesound",children:"updateSound"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"updateSound()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"dt"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Rideable:updateSound(dt)\n    local spec = self.spec_rideable\n\n    if spec.horseBreathSoundsEffort ~ = nil and spec.horseBreathSoundsNoEffort ~ = nil and spec.isOnGround then\n        spec.currentBreathTimer = spec.currentBreathTimer - dt\n        spec.currentBreathTimer = math.max(spec.currentBreathTimer, 0.0 )\n\n        if spec.currentBreathTimer = = 0.0 then\n            if spec.inputValues.currentGait = = Rideable.GAITTYPES.GALLOP then\n                g_soundManager:playSample(spec.horseBreathSoundsEffort)\n                spec.currentBreathTimer = spec.horseBreathIntervalEffort\n            else\n                    g_soundManager:playSample(spec.horseBreathSoundsNoEffort)\n                    if spec.inputValues.currentGait = = Rideable.GAITTYPES.STILL then\n                        spec.currentBreathTimer = spec.horseBreathMinIntervalIdle + ( math.random() * (spec.horseBreathMaxIntervalIdle - spec.horseBreathMinIntervalIdle))\n                    else\n                            spec.currentBreathTimer = spec.horseBreathIntervalNoEffort\n                        end\n                    end\n                end\n            end\n        end\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"updatevehiclespeed",children:"updateVehicleSpeed"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"updateVehicleSpeed()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"superFunc"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"dt"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Rideable:updateVehicleSpeed(superFunc, dt)\n    if self.isServer then\n        local spec = self.spec_rideable\n        superFunc( self , spec.interpolationDt)\n    else\n            superFunc( self , dt)\n        end\n    end\n\n"})})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},28453(e,n,i){i.d(n,{R:()=>r,x:()=>a});var t=i(96540);const s={},l=t.createContext(s);function r(e){const n=t.useContext(l);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),t.createElement(l.Provider,{value:n},e.children)}}}]);