"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[36516],{28453(e,n,t){t.d(n,{R:()=>r,x:()=>c});var i=t(96540);const l={},s=i.createContext(l);function r(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:r(e.components),i.createElement(s.Provider,{value:n},e.children)}},65456(e,n,t){t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>u,frontMatter:()=>r,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"script/Specializations/StumpCutter","title":"StumpCutter","description":"StumpCutter","source":"@site/../docs/script/Specializations/StumpCutter.md","sourceDirName":"script/Specializations","slug":"/script/Specializations/StumpCutter","permalink":"/FS25-Community-LUADOC/script/Specializations/StumpCutter","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"StrawBlower","permalink":"/FS25-Community-LUADOC/script/Specializations/StrawBlower"},"next":{"title":"SupportVehicle","permalink":"/FS25-Community-LUADOC/script/Specializations/SupportVehicle"}}');var l=t(74848),s=t(28453);const r={},c=void 0,d={},o=[{value:"StumpCutter",id:"stumpcutter",level:2},{value:"crushSplitShape",id:"crushsplitshape",level:3},{value:"getConsumingLoad",id:"getconsumingload",level:3},{value:"getCultivatorLimitToField",id:"getcultivatorlimittofield",level:3},{value:"getDirtMultiplier",id:"getdirtmultiplier",level:3},{value:"getPlowForceLimitToField",id:"getplowforcelimittofield",level:3},{value:"getPlowLimitToField",id:"getplowlimittofield",level:3},{value:"getWearMultiplier",id:"getwearmultiplier",level:3},{value:"initSpecialization",id:"initspecialization",level:3},{value:"onDeactivate",id:"ondeactivate",level:3},{value:"onDelete",id:"ondelete",level:3},{value:"onLoad",id:"onload",level:3},{value:"onTurnedOff",id:"onturnedoff",level:3},{value:"onTurnedOn",id:"onturnedon",level:3},{value:"onUpdateTick",id:"onupdatetick",level:3},{value:"prerequisitesPresent",id:"prerequisitespresent",level:3},{value:"processStumpCutterArea",id:"processstumpcutterarea",level:3},{value:"registerEventListeners",id:"registereventlisteners",level:3},{value:"registerFunctions",id:"registerfunctions",level:3},{value:"registerOverwrittenFunctions",id:"registeroverwrittenfunctions",level:3},{value:"stumpCutterSplitShapeCallback",id:"stumpcuttersplitshapecallback",level:3}];function a(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.h2,{id:"stumpcutter",children:"StumpCutter"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"Specialization for stump cutter allowing to cut/remove tree trunks/split shapes"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Functions"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#crushsplitshape",children:"crushSplitShape"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#getconsumingload",children:"getConsumingLoad"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#getcultivatorlimittofield",children:"getCultivatorLimitToField"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#getdirtmultiplier",children:"getDirtMultiplier"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#getplowforcelimittofield",children:"getPlowForceLimitToField"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#getplowlimittofield",children:"getPlowLimitToField"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#getwearmultiplier",children:"getWearMultiplier"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#initspecialization",children:"initSpecialization"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#ondeactivate",children:"onDeactivate"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#ondelete",children:"onDelete"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#onload",children:"onLoad"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#onturnedoff",children:"onTurnedOff"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#onturnedon",children:"onTurnedOn"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#onupdatetick",children:"onUpdateTick"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#prerequisitespresent",children:"prerequisitesPresent"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#processstumpcutterarea",children:"processStumpCutterArea"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#registereventlisteners",children:"registerEventListeners"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#registerfunctions",children:"registerFunctions"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#registeroverwrittenfunctions",children:"registerOverwrittenFunctions"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#stumpcuttersplitshapecallback",children:"stumpCutterSplitShapeCallback"})}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"crushsplitshape",children:"crushSplitShape"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"Crush slit shape"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"crushSplitShape(integer shape)"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,l.jsx)(n.table,{children:(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"integer"}),(0,l.jsx)(n.th,{children:"shape"}),(0,l.jsx)(n.th,{children:"shape"})]})})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"function StumpCutter:crushSplitShape(shape)\n    if self.isServer then\n        local x, _, z = getWorldTranslation(shape)\n        delete(shape)\n\n        local range = 10\n        g_densityMapHeightManager:setCollisionMapAreaDirty(x - range, z - range, x + range, z + range, true )\n        g_currentMission.aiSystem:setAreaDirty(x - range, x + range, z - range, z + range)\n    end\nend\n\n"})}),"\n",(0,l.jsx)(n.h3,{id:"getconsumingload",children:"getConsumingLoad"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"getConsumingLoad()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,l.jsx)(n.table,{children:(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"any"}),(0,l.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"function StumpCutter:getConsumingLoad(superFunc)\n    local value, count = superFunc( self )\n\n    local spec = self.spec_stumpCutter\n    local loadPercentage = 0 -- idle load\n    for i = 1 , #spec.cutNodes do\n        if spec.cutNodes[i].lastWorkTime + 500 > g_ time then\n            loadPercentage = 1\n            break\n        end\n    end\n\n    return value + loadPercentage, count + 1\nend\n\n"})}),"\n",(0,l.jsx)(n.h3,{id:"getcultivatorlimittofield",children:"getCultivatorLimitToField"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"Returns if cultivator is limited to the field"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"getCultivatorLimitToField()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,l.jsx)(n.table,{children:(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"any"}),(0,l.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,l.jsx)(n.table,{children:(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"any"}),(0,l.jsx)(n.th,{children:"isLimited"}),(0,l.jsx)(n.th,{children:"is limited to field"})]})})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"function StumpCutter:getCultivatorLimitToField(superFunc)\n    return false\nend\n\n"})}),"\n",(0,l.jsx)(n.h3,{id:"getdirtmultiplier",children:"getDirtMultiplier"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"Returns current dirt multiplier"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"getDirtMultiplier()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,l.jsx)(n.table,{children:(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"any"}),(0,l.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,l.jsx)(n.table,{children:(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"any"}),(0,l.jsx)(n.th,{children:"dirtMultiplier"}),(0,l.jsx)(n.th,{children:"current dirt multiplier"})]})})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"function StumpCutter:getDirtMultiplier(superFunc)\n    local multiplier = superFunc( self )\n\n    local spec = self.spec_stumpCutter\n    if spec.curSplitShape ~ = nil then\n        multiplier = multiplier + self:getWorkDirtMultiplier()\n    end\n\n    return multiplier\nend\n\n"})}),"\n",(0,l.jsx)(n.h3,{id:"getplowforcelimittofield",children:"getPlowForceLimitToField"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"Returns if plow limit to field is forced and not changeable"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"getPlowForceLimitToField()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,l.jsx)(n.table,{children:(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"any"}),(0,l.jsx)(n.th,{children:"isForced"}),(0,l.jsx)(n.th,{children:"is forced"})]})})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"function StumpCutter:getPlowForceLimitToField()\n    return true\nend\n\n"})}),"\n",(0,l.jsx)(n.h3,{id:"getplowlimittofield",children:"getPlowLimitToField"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"Returns if plow is limited to the field"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"getPlowLimitToField()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,l.jsx)(n.table,{children:(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"any"}),(0,l.jsx)(n.th,{children:"isLimited"}),(0,l.jsx)(n.th,{children:"is limited to field"})]})})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"function StumpCutter:getPlowLimitToField()\n    return false\nend\n\n"})}),"\n",(0,l.jsx)(n.h3,{id:"getwearmultiplier",children:"getWearMultiplier"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"Returns current wear multiplier"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"getWearMultiplier()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,l.jsx)(n.table,{children:(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"any"}),(0,l.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,l.jsx)(n.table,{children:(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"any"}),(0,l.jsx)(n.th,{children:"wearMultiplier"}),(0,l.jsx)(n.th,{children:"current wear multiplier"})]})})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"function StumpCutter:getWearMultiplier(superFunc)\n    local multiplier = superFunc( self )\n\n    local spec = self.spec_stumpCutter\n    if spec.curSplitShape ~ = nil then\n        multiplier = multiplier + self:getWorkWearMultiplier()\n    end\n\n    return multiplier\nend\n\n"})}),"\n",(0,l.jsx)(n.h3,{id:"initspecialization",children:"initSpecialization"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"initSpecialization()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:'function StumpCutter.initSpecialization()\n    g_workAreaTypeManager:addWorkAreaType( "stumpCutter" , true , false , false )\n\n    local schema = Vehicle.xmlSchema\n    schema:setXMLSpecializationType( "StumpCutter" )\n\n    schema:register(XMLValueType.NODE_INDEX, "vehicle.stumpCutter.cutNode(?)#node" , "Cut node" )\n\n    schema:register(XMLValueType.FLOAT, "vehicle.stumpCutter.cutNode(?)#cutSizeY" , "Cut size Y" , 1 )\n    schema:register(XMLValueType.FLOAT, "vehicle.stumpCutter.cutNode(?)#cutSizeZ" , "Cut size X" , 1 )\n\n    schema:register(XMLValueType.TIME, "vehicle.stumpCutter.cutNode(?)#maxCutTime" , "Time until cut" , 4 )\n    schema:register(XMLValueType.TIME, "vehicle.stumpCutter.cutNode(?)#maxResetCutTime" , "Time between cuts" , 4 )\n\n    schema:register(XMLValueType.FLOAT, "vehicle.stumpCutter.cutNode(?)#cutFullTreeThreshold" , "If the tree length below the cut node is smaller than this value it gets removed" , 0.4 )\n    schema:register(XMLValueType.FLOAT, "vehicle.stumpCutter.cutNode(?)#cutPartThreshold" , "Cut part threshold" , 0.2 )\n\n    schema:register(XMLValueType.INT, "vehicle.stumpCutter.cutNode(?)#workAreaIndex" , "Work area index" )\n    schema:register(XMLValueType.TIME, "vehicle.stumpCutter.cutNode(?)#cutDuration" , "Cut duration" , 1 )\n\n    EffectManager.registerEffectXMLPaths(schema, "vehicle.stumpCutter.cutNode(?).effects" )\n\n    SoundManager.registerSampleXMLPaths(schema, "vehicle.stumpCutter.sounds" , "start" )\n    SoundManager.registerSampleXMLPaths(schema, "vehicle.stumpCutter.sounds" , "stop" )\n    SoundManager.registerSampleXMLPaths(schema, "vehicle.stumpCutter.sounds" , "idle" )\n    SoundManager.registerSampleXMLPaths(schema, "vehicle.stumpCutter.sounds" , "work" )\n\n    EffectManager.registerEffectXMLPaths(schema, "vehicle.stumpCutter.effects" )\n    AnimationManager.registerAnimationNodesXMLPaths(schema, "vehicle.stumpCutter.animationNodes" )\n\n    schema:setXMLSpecializationType()\nend\n\n'})}),"\n",(0,l.jsx)(n.h3,{id:"ondeactivate",children:"onDeactivate"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"Called on deactivate"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"onDeactivate()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"function StumpCutter:onDeactivate()\n    if self.isClient then\n        local spec = self.spec_stumpCutter\n        g_effectManager:stopEffects(spec.effects)\n        for i = 1 , #spec.cutNodes do\n            g_effectManager:stopEffects(spec.cutNodes[i].effects)\n        end\n    end\nend\n\n"})}),"\n",(0,l.jsx)(n.h3,{id:"ondelete",children:"onDelete"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"Called on deleting"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"onDelete()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"function StumpCutter:onDelete()\n    local spec = self.spec_stumpCutter\n    g_soundManager:deleteSamples(spec.samples)\n    g_animationManager:deleteAnimations(spec.animationNodes)\n    g_effectManager:deleteEffects(spec.effects)\n\n    if spec.cutNodes ~ = nil then\n        for i = 1 , #spec.cutNodes do\n            g_effectManager:deleteEffects(spec.cutNodes[i].effects)\n        end\n    end\nend\n\n"})}),"\n",(0,l.jsx)(n.h3,{id:"onload",children:"onLoad"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"Called on loading"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"onLoad(table savegame)"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,l.jsx)(n.table,{children:(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"table"}),(0,l.jsx)(n.th,{children:"savegame"}),(0,l.jsx)(n.th,{children:"savegame"})]})})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:'function StumpCutter:onLoad(savegame)\n    local spec = self.spec_stumpCutter\n\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.turnedOnRotationNodes.turnedOnRotationNode" , "vehicle.stumpCutter.animationNodes.animationNode" , "stumbCutter" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.stumpCutterStartSound" , "vehicle.stumpCutter.sounds.start" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.stumpCutterIdleSound" , "vehicle.stumpCutter.sounds.idle" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.stumpCutterWorkSound" , "vehicle.stumpCutter.sounds.work" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.stumpCutterStopSound" , "vehicle.stumpCutter.sounds.stop" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.stumpCutter.emitterShape(0)" , "vehicle.stumpCutter.effects.effectNode" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.stumpCutter.particleSystem(0)" , "vehicle.stumpCutter.effects.effectNode" ) --FS17 to FS19\n\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.stumpCutter#cutNode" , "vehicle.stumpCutter.cutNode#node" ) --FS19 to FS22\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.stumpCutter#cutSizeY" , "vehicle.stumpCutter.cutNode#cutSizeY" ) --FS19 to FS22\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.stumpCutter#cutSizeZ" , "vehicle.stumpCutter.cutNode#cutSizeZ" ) --FS19 to FS22\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.stumpCutter#cutFullTreeThreshold" , "vehicle.stumpCutter.cutNode#cutFullTreeThreshold" ) --FS19 to FS22\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.stumpCutter#cutPartThreshold" , "vehicle.stumpCutter.cutNode#cutPartThreshold" ) --FS19 to FS22\n\n    local baseKey = "vehicle.stumpCutter"\n\n    spec.cutNodes = { }\n    spec.currentCutNodeIndex = 1\n\n    local i = 0\n    while true do\n        local key = string.format( "%s.cutNode(%d)" , baseKey, i)\n        if not self.xmlFile:hasProperty(key) then\n            break\n        end\n\n        local node = self.xmlFile:getValue(key .. "#node" , nil , self.components, self.i3dMappings)\n        if node = = nil then\n            Logging.xmlWarning( self.xmlFile, "Missing \'node\' for \'%s\'!" , key)\n                break\n            end\n\n            local cutNode = { }\n            cutNode.node = node\n            cutNode.cutSizeY = self.xmlFile:getValue(key .. "#cutSizeY" , 1 )\n            cutNode.cutSizeZ = self.xmlFile:getValue(key .. "#cutSizeZ" , 1 )\n            cutNode.maxCutTime = self.xmlFile:getValue(key .. "#maxCutTime" , 4 )\n            cutNode.nextCutTime = cutNode.maxCutTime\n            cutNode.maxResetCutTime = self.xmlFile:getValue(key .. "#maxResetCutTime" , 1 )\n            cutNode.resetCutTime = cutNode.maxResetCutTime\n            cutNode.cutFullTreeThreshold = self.xmlFile:getValue(key .. "#cutFullTreeThreshold" , 0.4 )\n            cutNode.cutPartThreshold = self.xmlFile:getValue(key .. "#cutPartThreshold" , 0.2 )\n            cutNode.workAreaIndex = self.xmlFile:getValue(key .. "#workAreaIndex" )\n            cutNode.workTimer = 0\n            cutNode.workDuration = self.xmlFile:getValue(key .. "#cutDuration" , 1 )\n\n            cutNode.lastWorkTime = - 1000\n\n            cutNode.workFadeTime = 0\n            cutNode.maxWorkFadeTime = 1000\n\n            if self.isClient then\n                cutNode.effects = g_effectManager:loadEffect( self.xmlFile, key .. ".effects" , self.components, self , self.i3dMappings)\n            end\n\n            table.insert(spec.cutNodes, cutNode)\n            i = i + 1\n        end\n\n        if self.isClient then\n            spec.samples = { }\n            spec.samples.start = g_soundManager:loadSampleFromXML( self.xmlFile, baseKey .. ".sounds" , "start" , self.baseDirectory, self.components, 1 , AudioGroup.VEHICLE, self.i3dMappings, self )\n            spec.samples.stop = g_soundManager:loadSampleFromXML( self.xmlFile, baseKey .. ".sounds" , "stop" , self.baseDirectory, self.components, 1 , AudioGroup.VEHICLE, self.i3dMappings, self )\n            spec.samples.idle = g_soundManager:loadSampleFromXML( self.xmlFile, baseKey .. ".sounds" , "idle" , self.baseDirectory, self.components, 0 , AudioGroup.VEHICLE, self.i3dMappings, self )\n            spec.samples.work = g_soundManager:loadSampleFromXML( self.xmlFile, baseKey .. ".sounds" , "work" , self.baseDirectory, self.components, 0 , AudioGroup.VEHICLE, self.i3dMappings, self )\n\n            spec.maxWorkFadeTime = 1000\n            spec.workFadeTime = 0\n\n            spec.effects = g_effectManager:loadEffect( self.xmlFile, baseKey .. ".effects" , self.components, self , self.i3dMappings)\n            spec.animationNodes = g_animationManager:loadAnimations( self.xmlFile, baseKey .. ".animationNodes" , self.components, self , self.i3dMappings)\n        end\n    end\n\n'})}),"\n",(0,l.jsx)(n.h3,{id:"onturnedoff",children:"onTurnedOff"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"Called on turn off"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"onTurnedOff(boolean noEventSend)"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,l.jsx)(n.table,{children:(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"boolean"}),(0,l.jsx)(n.th,{children:"noEventSend"}),(0,l.jsx)(n.th,{children:"no event send"})]})})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"function StumpCutter:onTurnedOff()\n    if self.isClient then\n        local spec = self.spec_stumpCutter\n        spec.workFadeTime = 0\n        g_effectManager:stopEffects(spec.effects)\n        for i = 1 , #spec.cutNodes do\n            g_effectManager:stopEffects(spec.cutNodes[i].effects)\n        end\n\n        g_soundManager:stopSamples(spec.samples)\n        g_soundManager:playSample(spec.samples.stop)\n        g_animationManager:stopAnimations(spec.animationNodes)\n    end\nend\n\n"})}),"\n",(0,l.jsx)(n.h3,{id:"onturnedon",children:"onTurnedOn"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"Called on turn on"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"onTurnedOn(boolean noEventSend)"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,l.jsx)(n.table,{children:(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"boolean"}),(0,l.jsx)(n.th,{children:"noEventSend"}),(0,l.jsx)(n.th,{children:"no event send"})]})})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"function StumpCutter:onTurnedOn()\n    if self.isClient then\n        local spec = self.spec_stumpCutter\n        g_soundManager:stopSamples(spec.samples)\n        g_soundManager:playSample(spec.samples.start)\n        g_soundManager:playSample(spec.samples.idle, 0 , spec.samples.start)\n        g_animationManager:startAnimations(spec.animationNodes)\n    end\nend\n\n"})}),"\n",(0,l.jsx)(n.h3,{id:"onupdatetick",children:"onUpdateTick"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"Called on update tick"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"onUpdateTick(float dt, boolean isActiveForInput, boolean isSelected, )"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"float"}),(0,l.jsx)(n.th,{children:"dt"}),(0,l.jsx)(n.th,{children:"time since last call in ms"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"boolean"}),(0,l.jsx)(n.td,{children:"isActiveForInput"}),(0,l.jsx)(n.td,{children:"true if vehicle is active for input"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"boolean"}),(0,l.jsx)(n.td,{children:"isSelected"}),(0,l.jsx)(n.td,{children:"true if vehicle is selected"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"isSelected"}),(0,l.jsx)(n.td,{})]})]})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:'function StumpCutter:onUpdateTick(dt, isActiveForInput, isActiveForInputIgnoreSelection, isSelected)\n    if self:getIsTurnedOn() then\n        local spec = self.spec_stumpCutter\n\n        local numCutNodes = #spec.cutNodes\n        if numCutNodes > 0 then\n            local nextCutNodeIndex = spec.currentCutNodeIndex + 1\n            if nextCutNodeIndex > numCutNodes then\n                nextCutNodeIndex = 1\n            end\n\n            spec.currentCutNodeIndex = nextCutNodeIndex\n            local cutNode = spec.cutNodes[nextCutNodeIndex]\n\n            cutNode.curLenAbove = 0\n            cutNode.curLenBelow = 0\n\n            local x,y,z = getWorldTranslation(cutNode.node)\n            local nx,ny,nz = localDirectionToWorld(cutNode.node, 1 , 0 , 0 )\n            local yx,yy,yz = localDirectionToWorld(cutNode.node, 0 , 1 , 0 )\n            if cutNode.curSplitShape ~ = nil then\n                if not entityExists(cutNode.curSplitShape) or testSplitShape(cutNode.curSplitShape, x,y,z, nx,ny,nz, yx,yy,yz, cutNode.cutSizeY, cutNode.cutSizeZ) = = nil then\n                    cutNode.curSplitShape = nil\n                end\n            end\n            if cutNode.curSplitShape = = nil then\n                local shape, _, _, _, _ = findSplitShape(x,y,z, nx,ny,nz, yx,yy,yz, cutNode.cutSizeY, cutNode.cutSizeZ)\n                if shape ~ = 0 then\n                    cutNode.curSplitShape = shape\n                end\n            end\n\n            if VehicleDebug.state = = VehicleDebug.DEBUG_ATTRIBUTES then\n                local x1, y1, z1 = localToWorld(cutNode.node, 0 , 0 , cutNode.cutSizeZ)\n                local x2, y2, z2 = localToWorld(cutNode.node, 0 , cutNode.cutSizeY, 0 )\n\n                DebugPlane.renderWithPositions(x, y, z, x1, y1, z1, x2, y2, z2, Color.PRESETS.PINK, false )\n            end\n\n            if cutNode.curSplitShape ~ = nil then\n                local lenBelow, lenAbove = getSplitShapePlaneExtents(cutNode.curSplitShape, x,y,z, nx,ny,nz)\n\n                if lenAbove > = cutNode.cutPartThreshold then\n                    cutNode.lastWorkTime = g_ time\n                end\n\n                cutNode.workFadeTime = math.min(cutNode.maxWorkFadeTime, cutNode.workFadeTime + dt * numCutNodes)\n                if self.isServer then\n                    cutNode.resetCutTime = cutNode.maxResetCutTime\n                    if cutNode.nextCutTime > 0 then\n                        cutNode.nextCutTime = cutNode.nextCutTime - dt\n                        if cutNode.nextCutTime < = 0 then\n                            -- cut\n                            local _,ly,_ = worldToLocal(cutNode.curSplitShape, x,y,z)\n                            if (lenBelow < = cutNode.cutFullTreeThreshold or ly < cutNode.cutPartThreshold + 0.01 ) and lenAbove < 1 then -- only delete tree if lenAbove < 1 to avoid full tree deletion\n                                -- Delete full tree:Not much left below the cut or cutting near the ground\n                                self:crushSplitShape(cutNode.curSplitShape)\n                                cutNode.curSplitShape = nil\n                            elseif lenAbove > = cutNode.cutPartThreshold and lenBelow > = cutNode.cutPartThreshold then\n                                    -- Normal cut:Splitting 20cm below the top\n                                    cutNode.nextCutTime = cutNode.maxCutTime\n                                    local curSplitShape = cutNode.curSplitShape\n                                    cutNode.curSplitShape = nil\n                                    cutNode.curLenAbove = lenAbove\n                                    cutNode.curLenBelow = lenBelow\n\n                                    self.shapeBeingCut = curSplitShape\n                                    splitShape(curSplitShape, x,y,z, nx,ny,nz, yx,yy,yz, cutNode.cutSizeY, cutNode.cutSizeZ, "stumpCutterSplitShapeCallback" , self )\n                                    g_treePlantManager:removingSplitShape(curSplitShape)\n                                else\n                                        cutNode.curSplitShape = nil\n                                        cutNode.nextCutTime = cutNode.maxCutTime\n                                    end\n                                end\n                            end\n                        end\n                    else\n                            cutNode.workFadeTime = math.max( 0 , cutNode.workFadeTime - dt)\n                            if self.isServer then\n                                if cutNode.resetCutTime > 0 then\n                                    cutNode.resetCutTime = cutNode.resetCutTime - dt\n                                    if cutNode.resetCutTime < = 0 then\n                                        cutNode.nextCutTime = cutNode.maxCutTime\n                                    end\n                                end\n                            end\n                        end\n\n                        if self.isClient then\n                            if cutNode.lastWorkTime + 500 > g_ time then\n                                g_effectManager:setEffectTypeInfo(cutNode.effects, FillType.WOODCHIPS)\n                                g_effectManager:startEffects(cutNode.effects)\n                            else\n                                    g_effectManager:stopEffects(cutNode.effects)\n                                end\n\n                                local anyCutNodeWorking = false\n                                for i = 1 , #spec.cutNodes do\n                                    if spec.cutNodes[i].lastWorkTime + 500 > g_ time then\n                                        anyCutNodeWorking = true\n                                        break\n                                    end\n                                end\n\n                                if anyCutNodeWorking then\n                                    g_effectManager:setEffectTypeInfo(spec.effects, FillType.WOODCHIPS)\n                                    g_effectManager:startEffects(spec.effects)\n                                    if not g_soundManager:getIsSamplePlaying(spec.samples.work) then\n                                        g_soundManager:playSample(spec.samples.work)\n                                    end\n                                else\n                                        g_effectManager:stopEffects(spec.effects)\n                                        if g_soundManager:getIsSamplePlaying(spec.samples.work) then\n                                            g_soundManager:stopSample(spec.samples.work)\n                                        end\n                                    end\n                                end\n                            end\n                        end\n                    end\n\n'})}),"\n",(0,l.jsx)(n.h3,{id:"prerequisitespresent",children:"prerequisitesPresent"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"Checks if all prerequisite specializations are loaded"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"prerequisitesPresent(table specializations)"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,l.jsx)(n.table,{children:(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"table"}),(0,l.jsx)(n.th,{children:"specializations"}),(0,l.jsx)(n.th,{children:"specializations"})]})})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,l.jsx)(n.table,{children:(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"table"}),(0,l.jsx)(n.th,{children:"hasPrerequisite"}),(0,l.jsx)(n.th,{children:"true if all prerequisite specializations are loaded"})]})})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"function StumpCutter.prerequisitesPresent(specializations)\n    return SpecializationUtil.hasSpecialization( TurnOnVehicle , specializations)\nend\n\n"})}),"\n",(0,l.jsx)(n.h3,{id:"processstumpcutterarea",children:"processStumpCutterArea"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"processStumpCutterArea()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"any"}),(0,l.jsx)(n.th,{children:"workArea"})]})}),(0,l.jsx)(n.tbody,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"dt"})]})})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"function StumpCutter:processStumpCutterArea(workArea, dt)\n    local spec = self.spec_stumpCutter\n\n    if not self.isServer and self.currentUpdateDistance > StumpCutter.CLIENT_DM_UPDATE_RADIUS then\n        return 0 , 0\n    end\n\n    local area, totalArea = 0 , 0\n    for _, cutNode in ipairs(spec.cutNodes) do\n        if cutNode.workAreaIndex = = workArea.index then\n            local xs,_,zs = getWorldTranslation(workArea.start)\n            local xw,_,zw = getWorldTranslation(workArea.width)\n            local xh,_,zh = getWorldTranslation(workArea.height)\n\n            local _area, _totalArea, nonMowableCut = FSDensityMapUtil.clearDecoArea(xs, zs, xw, zw, xh, zh)\n            if _area > 0 and nonMowableCut then\n                cutNode.lastWorkTime = g_ time\n            end\n\n            area = area + _area\n            totalArea = totalArea + _totalArea\n        end\n    end\n\n    return area, totalArea\nend\n\n"})}),"\n",(0,l.jsx)(n.h3,{id:"registereventlisteners",children:"registerEventListeners"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"registerEventListeners()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,l.jsx)(n.table,{children:(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"any"}),(0,l.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:'function StumpCutter.registerEventListeners(vehicleType)\n    SpecializationUtil.registerEventListener(vehicleType, "onLoad" , StumpCutter )\n    SpecializationUtil.registerEventListener(vehicleType, "onDelete" , StumpCutter )\n    SpecializationUtil.registerEventListener(vehicleType, "onUpdateTick" , StumpCutter )\n    SpecializationUtil.registerEventListener(vehicleType, "onDeactivate" , StumpCutter )\n    SpecializationUtil.registerEventListener(vehicleType, "onTurnedOn" , StumpCutter )\n    SpecializationUtil.registerEventListener(vehicleType, "onTurnedOff" , StumpCutter )\nend\n\n'})}),"\n",(0,l.jsx)(n.h3,{id:"registerfunctions",children:"registerFunctions"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"registerFunctions()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,l.jsx)(n.table,{children:(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"any"}),(0,l.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:'function StumpCutter.registerFunctions(vehicleType)\n    SpecializationUtil.registerFunction(vehicleType, "crushSplitShape" , StumpCutter.crushSplitShape)\n    SpecializationUtil.registerFunction(vehicleType, "stumpCutterSplitShapeCallback" , StumpCutter.stumpCutterSplitShapeCallback)\n    SpecializationUtil.registerFunction(vehicleType, "processStumpCutterArea" , StumpCutter.processStumpCutterArea)\nend\n\n'})}),"\n",(0,l.jsx)(n.h3,{id:"registeroverwrittenfunctions",children:"registerOverwrittenFunctions"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"registerOverwrittenFunctions()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,l.jsx)(n.table,{children:(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"any"}),(0,l.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:'function StumpCutter.registerOverwrittenFunctions(vehicleType)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getDirtMultiplier" , StumpCutter.getDirtMultiplier)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getWearMultiplier" , StumpCutter.getWearMultiplier)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getCultivatorLimitToField" , StumpCutter.getCultivatorLimitToField)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getPlowLimitToField" , StumpCutter.getPlowLimitToField)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getPlowForceLimitToField" , StumpCutter.getPlowForceLimitToField)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getConsumingLoad" , StumpCutter.getConsumingLoad)\nend\n\n'})}),"\n",(0,l.jsx)(n.h3,{id:"stumpcuttersplitshapecallback",children:"stumpCutterSplitShapeCallback"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"Split shape callback"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"stumpCutterSplitShapeCallback(integer shape, boolean isBelow, boolean isAbove, float minY, float maxY, float minZ,\nfloat maxZ)"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"integer"}),(0,l.jsx)(n.th,{children:"shape"}),(0,l.jsx)(n.th,{children:"shape"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"boolean"}),(0,l.jsx)(n.td,{children:"isBelow"}),(0,l.jsx)(n.td,{children:"is below"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"boolean"}),(0,l.jsx)(n.td,{children:"isAbove"}),(0,l.jsx)(n.td,{children:"is above"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"float"}),(0,l.jsx)(n.td,{children:"minY"}),(0,l.jsx)(n.td,{children:"min y split position"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"float"}),(0,l.jsx)(n.td,{children:"maxY"}),(0,l.jsx)(n.td,{children:"max y split position"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"float"}),(0,l.jsx)(n.td,{children:"minZ"}),(0,l.jsx)(n.td,{children:"min z split position"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"float"}),(0,l.jsx)(n.td,{children:"maxZ"}),(0,l.jsx)(n.td,{children:"max z split position"})]})]})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"function StumpCutter:stumpCutterSplitShapeCallback(shape, isBelow, isAbove, minY, maxY, minZ, maxZ)\n    local spec = self.spec_stumpCutter\n    local cutNode = spec.cutNodes[spec.currentCutNodeIndex]\n\n    if not isBelow then\n        if cutNode.curLenAbove < 1 then -- split tree if lenAbove > 1 to avoid fulltree deletion\n            self:crushSplitShape(shape)\n        else\n                g_treePlantManager:addingSplitShape(shape, self.shapeBeingCut)\n            end\n        else\n                local yPos = minY + (maxY - minY) / 2\n                local zPos = minZ + (maxZ - minZ) / 2\n\n                local _,y,_ = localToWorld(cutNode.node, - 0.05 , yPos, zPos)\n                local height = getTerrainHeightAtWorldPos(g_terrainNode, getWorldTranslation(cutNode.node))\n                if y < height then\n                    self:crushSplitShape(shape)\n                else\n                        spec.curSplitShape = shape\n                        g_treePlantManager:addingSplitShape(shape, self.shapeBeingCut)\n                    end\n                end\n            end\n\n"})})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(a,{...e})}):a(e)}}}]);