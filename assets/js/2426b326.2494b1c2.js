"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[59692],{28453(e,n,t){t.d(n,{R:()=>r,x:()=>d});var s=t(96540);const i={},l=s.createContext(i);function r(e){const n=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),s.createElement(l.Provider,{value:n},e.children)}},87810(e,n,t){t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>d,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"script/GUI/TextInputElement","title":"TextInputElement","description":"TextInputElement","source":"@site/../docs/script/GUI/TextInputElement.md","sourceDirName":"script/GUI","slug":"/script/GUI/TextInputElement","permalink":"/FS25-Community-LUADOC/script/GUI/TextInputElement","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"TextElement","permalink":"/FS25-Community-LUADOC/script/GUI/TextElement"},"next":{"title":"ThreePartBitmapElement","permalink":"/FS25-Community-LUADOC/script/GUI/ThreePartBitmapElement"}}');var i=t(74848),l=t(28453);const r={},d=void 0,a={},o=[{value:"TextInputElement",id:"textinputelement",level:2},{value:"abortIme",id:"abortime",level:3},{value:"copyAttributes",id:"copyattributes",level:3},{value:"delete",id:"delete",level:3},{value:"deleteText",id:"deletetext",level:3},{value:"draw",id:"draw",level:3},{value:"drawCursor",id:"drawcursor",level:3},{value:"drawTextPart",id:"drawtextpart",level:3},{value:"finalize",id:"finalize",level:3},{value:"getAvailableTextWidth",id:"getavailabletextwidth",level:3},{value:"getDoRenderText",id:"getdorendertext",level:3},{value:"getIsActive",id:"getisactive",level:3},{value:"getIsUnicodeAllowed",id:"getisunicodeallowed",level:3},{value:"getNeededTextWidth",id:"getneededtextwidth",level:3},{value:"getText",id:"gettext",level:3},{value:"inputEvent",id:"inputevent",level:3},{value:"keyEvent",id:"keyevent",level:3},{value:"limitTextToAvailableWidth",id:"limittexttoavailablewidth",level:3},{value:"loadFromXML",id:"loadfromxml",level:3},{value:"loadProfile",id:"loadprofile",level:3},{value:"mouseEvent",id:"mouseevent",level:3},{value:"moveCursorLeft",id:"movecursorleft",level:3},{value:"moveCursorRight",id:"movecursorright",level:3},{value:"new",id:"new",level:3},{value:"onClose",id:"onclose",level:3},{value:"onFocusActivate",id:"onfocusactivate",level:3},{value:"onFocusLeave",id:"onfocusleave",level:3},{value:"openIme",id:"openime",level:3},{value:"reset",id:"reset",level:3},{value:"setAlpha",id:"setalpha",level:3},{value:"setCaptureInput",id:"setcaptureinput",level:3},{value:"setCursorPosition",id:"setcursorposition",level:3},{value:"setForcePressed",id:"setforcepressed",level:3},{value:"setText",id:"settext",level:3},{value:"shouldFocusChange",id:"shouldfocuschange",level:3},{value:"stopSpecialKeyRepeating",id:"stopspecialkeyrepeating",level:3},{value:"translate",id:"translate",level:3},{value:"update",id:"update",level:3},{value:"updateVisibleTextElements",id:"updatevisibletextelements",level:3}];function c(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"textinputelement",children:"TextInputElement"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:'Text input element which captures strings from player input.\nUsed layers: "cursor" for a text input cursor icon.\nTODO: IME property docs'}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Parent"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"?version=script&category=43&class=504",children:"ButtonElement"})}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Functions"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#abortime",children:"abortIme"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#copyattributes",children:"copyAttributes"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#delete",children:"delete"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#deletetext",children:"deleteText"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#draw",children:"draw"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#drawcursor",children:"drawCursor"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#drawtextpart",children:"drawTextPart"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#finalize",children:"finalize"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getavailabletextwidth",children:"getAvailableTextWidth"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getdorendertext",children:"getDoRenderText"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getisactive",children:"getIsActive"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getisunicodeallowed",children:"getIsUnicodeAllowed"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getneededtextwidth",children:"getNeededTextWidth"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#gettext",children:"getText"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#inputevent",children:"inputEvent"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#keyevent",children:"keyEvent"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#limittexttoavailablewidth",children:"limitTextToAvailableWidth"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#loadfromxml",children:"loadFromXML"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#loadprofile",children:"loadProfile"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#mouseevent",children:"mouseEvent"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#movecursorleft",children:"moveCursorLeft"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#movecursorright",children:"moveCursorRight"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#new",children:"new"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onclose",children:"onClose"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onfocusactivate",children:"onFocusActivate"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onfocusleave",children:"onFocusLeave"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#openime",children:"openIme"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#reset",children:"reset"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#setalpha",children:"setAlpha"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#setcaptureinput",children:"setCaptureInput"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#setcursorposition",children:"setCursorPosition"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#setforcepressed",children:"setForcePressed"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#settext",children:"setText"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#shouldfocuschange",children:"shouldFocusChange"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#stopspecialkeyrepeating",children:"stopSpecialKeyRepeating"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#translate",children:"translate"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#update",children:"update"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#updatevisibletextelements",children:"updateVisibleTextElements"})}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"abortime",children:"abortIme"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"abortIme()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function TextInputElement:abortIme()\n    if self.useIme and self.imeActive then\n        self.imeActive = false\n        self.preImeText = ""\n        imeAbort()\n\n        g_messageCenter:unsubscribe(MessageType.PAUSE, self )\n    end\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"copyattributes",children:"copyAttributes"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"copyAttributes()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"src"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function TextInputElement:copyAttributes(src)\n    TextInputElement:superClass().copyAttributes( self , src)\n\n    self.imeKeyboardType = src.imeKeyboardType\n    self.imeTitle = src.imeTitle\n    self.imeDescription = src.imeDescription\n    self.imePlaceholder = src.imePlaceholder\n\n    self.maxCharacters = src.maxCharacters\n    self.maxInputTextWidth = src.maxInputTextWidth\n\n    GuiOverlay.copyOverlay( self.cursor, src.cursor)\n    self.cursorOffset = table.clone(src.cursorOffset)\n    self.cursorSize = table.clone(src.cursorSize)\n    self.isPassword = src.isPassword\n\n    self.onEnterCallback = src.onEnterCallback\n    self.onTextChangedCallback = src.onTextChangedCallback\n    self.onEnterPressedCallback = src.onEnterPressedCallback\n    self.onEscPressedCallback = src.onEscPressedCallback\n    self.onIsUnicodeAllowedCallback = src.onIsUnicodeAllowedCallback\n\n    self.enterWhenClickOutside = src.enterWhenClickOutside\n    self.applyProfanityFilter = src.applyProfanityFilter\n\n    self:finalize()\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"delete",children:"delete"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"delete()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function TextInputElement:delete()\n    self:abortIme()\n    GuiOverlay.deleteOverlay( self.cursor)\n    TextInputElement:superClass().delete( self )\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"deletetext",children:"deleteText"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"deleteText()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"deleteRightCharacterFromCursor"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function TextInputElement:deleteText(deleteRightCharacterFromCursor)\n    local textLength = utf8Strlen( self.text)\n\n    if textLength > 0 then\n        local canDelete = false\n        local deleteOffset\n\n        if deleteRightCharacterFromCursor then\n            if self.cursorPosition < = textLength then\n                canDelete = true\n                deleteOffset = 0\n            end\n        else\n                if self.cursorPosition > 1 then\n                    canDelete = true\n                    deleteOffset = - 1\n                end\n            end\n\n            if canDelete then\n                self.text =\n                ((( self.cursorPosition + deleteOffset) > 1 ) and utf8Substr( self.text, 0 , self.cursorPosition + deleteOffset - 1 ) or "" ) ..\n                ((( self.cursorPosition + deleteOffset) < textLength) and utf8Substr( self.text, self.cursorPosition + deleteOffset, - 1 ) or "" )\n\n                self.cursorPosition = self.cursorPosition + deleteOffset\n\n                self:raiseCallback( "onTextChangedCallback" , self , self.text)\n            end\n        end\n    end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"draw",children:"draw"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"draw()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"clipX1"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"clipY1"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"clipX2"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"clipY2"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function TextInputElement:draw(clipX1, clipY1, clipX2, clipY2)\n    -- call ancestor drawing functions with empty text:\n    local text = self.text\n    self.text = ""\n    TextInputElement:superClass().draw( self , clipX1, clipY1, clipX2, clipY2)\n    self.text = text\n\n    setTextAlignment( self.textAlignment)\n    local neededWidth = self:getNeededTextWidth()\n\n    local textXPos = self.absPosition[ 1 ] + self.textOffset[ 1 ]\n    if self.textAlignment = = RenderText.ALIGN_CENTER then\n        textXPos = textXPos + ( self.maxInputTextWidth * 0.5 ) - (neededWidth * 0.5 )\n    elseif self.textAlignment = = RenderText.ALIGN_RIGHT then\n            textXPos = textXPos + self.maxInputTextWidth - neededWidth\n        end\n        textXPos = textXPos + ( self.size[ 1 ] - self.maxInputTextWidth) / 2\n\n        local _, yOffset = self:getTextOffset()\n        local _, yPos = self:getTextPosition( self.text)\n        local textYPos = yPos + yOffset\n\n        if clipX1 ~ = nil then\n            setTextClipArea(clipX1, clipY1, clipX2, clipY2)\n        end\n\n        local displacementX = 0\n        if self.areFrontDotsVisible then\n            local additionalDisplacement = self:drawTextPart( self.frontDotsText, textXPos, displacementX, textYPos)\n            displacementX = displacementX + additionalDisplacement\n        end\n        if self.isVisibleTextPart1Visible then\n            local additionalDisplacement = self:drawTextPart( self.visibleTextPart1, textXPos, displacementX, textYPos)\n            displacementX = displacementX + additionalDisplacement\n        end\n        if self.isCursorVisible then\n            local additionalDisplacement = self:drawCursor(textXPos, displacementX, textYPos)\n            displacementX = displacementX + additionalDisplacement\n        end\n        if self.isVisibleTextPart2Visible then\n            local additionalDisplacement = self:drawTextPart( self.visibleTextPart2, textXPos, displacementX, textYPos)\n            displacementX = displacementX + additionalDisplacement\n        end\n\n        if self.areBackDotsVisible then\n            self:drawTextPart( self.backDotsText, textXPos, displacementX, textYPos)\n        end\n\n        setTextBold( false )\n        setTextAlignment(RenderText.ALIGN_LEFT)\n        setTextColor( 1 , 1 , 1 , 1 )\n\n        if clipX1 ~ = nil then\n            setTextClipArea( 0 , 0 , 1 , 1 )\n        end\n    end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"drawcursor",children:"drawCursor"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"drawCursor()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"textXPos"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"displacementX"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"textYPos"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function TextInputElement:drawCursor(textXPos, displacementX, textYPos)\n    if self.cursorBlinkTime < self.cursorBlinkInterval then\n        local x = textXPos + displacementX + self.cursorOffset[ 1 ]\n        x = math.floor(x / g_pixelSizeX) * (g_pixelSizeX)\n        GuiOverlay.renderOverlay( self.cursor, x, textYPos + self.cursorOffset[ 2 ], self.cursorSize[ 1 ], self.cursorSize[ 2 ])\n    end\n\n    return self.cursorNeededSize[ 1 ]\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"drawtextpart",children:"drawTextPart"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"drawTextPart()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"text"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"textXPos"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"displacementX"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"textYPos"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function TextInputElement:drawTextPart(text, textXPos, displacementX, textYPos)\n    local textWidth = 0\n    if text ~ = "" then\n        setTextBold( self.textBold)\n        textWidth = getTextWidth( self.textSize, text)\n        local alignmentDisplacement = 0\n        if self.textAlignment = = RenderText.ALIGN_CENTER then\n            alignmentDisplacement = textWidth * 0.5\n        elseif self.textAlignment = = RenderText.ALIGN_RIGHT then\n                alignmentDisplacement = textWidth\n            end\n\n            if self.text2Size > 0 then\n                setTextBold( self.text2Bold)\n                setTextColor( unpack( self:getText2Color()))\n                renderText(textXPos + alignmentDisplacement + displacementX + ( self.text2Offset[ 1 ] - self.textOffset[ 1 ]), textYPos + ( self.text2Offset[ 2 ] - self.textOffset[ 2 ]), self.text2Size, text)\n            end\n\n            setTextBold( self.textBold)\n            setTextColor( unpack( self:getTextColor()))\n            renderText(textXPos + alignmentDisplacement + displacementX, textYPos, self.textSize, text)\n        end\n        return textWidth\n    end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"finalize",children:"finalize"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"finalize()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function TextInputElement:finalize()\n    self.cursorNeededSize = {\n    self.cursorOffset[ 1 ] + self.cursorSize[ 1 ],\n    self.cursorOffset[ 2 ] + self.cursorSize[ 2 ]\n    }\n\n    if not self.maxInputTextWidth and( self.textAlignment = = RenderText.ALIGN_CENTER or self.textAlignment = = RenderText.ALIGN_RIGHT) then\n        Logging.error(\' TextInputElement loading using "center" or "right" alignment requires specification of "maxInputTextWidth" \')\n    end\n\n    if self.maxInputTextWidth and self.maxInputTextWidth < = (getTextWidth( self.textSize, self.frontDotsText) + self.cursorNeededSize[ 1 ] + getTextWidth( self.textSize, self.backDotsText)) then\n        Logging.warning(\' TextInputElement loading specified "maxInputTextWidth" is too small( % .4f) to display needed data\', self.maxInputTextWidth)\n    end\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"getavailabletextwidth",children:"getAvailableTextWidth"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getAvailableTextWidth()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function TextInputElement:getAvailableTextWidth()\n    if not self.maxInputTextWidth then\n        return nil\n    end\n\n    local availableTextWidth = self.maxInputTextWidth\n\n    if self.areFrontDotsVisible then\n        availableTextWidth = availableTextWidth - getTextWidth( self.textSize, self.frontDotsText)\n    end\n\n    if self.isCursorVisible then\n        availableTextWidth = availableTextWidth - self.cursorNeededSize[ 1 ]\n    end\n\n    if self.areBackDotsVisible then\n        availableTextWidth = availableTextWidth - getTextWidth( self.textSize, self.backDotsText)\n    end\n\n    return availableTextWidth\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getdorendertext",children:"getDoRenderText"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getDoRenderText()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function TextInputElement:getDoRenderText()\n    return false\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getisactive",children:"getIsActive"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getIsActive()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function TextInputElement:getIsActive()\n    return GuiElement.getIsActive( self ) -- parent type ButtonElement behaves incompatibly, use the base method\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getisunicodeallowed",children:"getIsUnicodeAllowed"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getIsUnicodeAllowed()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"unicode"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function TextInputElement:getIsUnicodeAllowed(unicode)\n    if unicode = = 13 or unicode = = 10 then\n        return false\n    end\n    if not getCanRenderUnicode(unicode) then\n        return false\n    end\n\n    return Utils.getNoNil( self:raiseCallback( "onIsUnicodeAllowedCallback" , unicode), true )\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"getneededtextwidth",children:"getNeededTextWidth"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getNeededTextWidth()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function TextInputElement:getNeededTextWidth()\n    local neededWidth = 0\n    if self.areFrontDotsVisible then\n        neededWidth = neededWidth + getTextWidth( self.textSize, self.frontDotsText)\n    end\n\n    if self.isVisibleTextPart1Visible then\n        neededWidth = neededWidth + getTextWidth( self.textSize, self.visibleTextPart1)\n    end\n\n    if self.isCursorVisible then\n        neededWidth = neededWidth + self.cursorNeededSize[ 1 ]\n    end\n\n    if self.isVisibleTextPart2Visible then\n        neededWidth = neededWidth + getTextWidth( self.textSize, self.visibleTextPart2)\n    end\n\n    if self.areBackDotsVisible then\n        neededWidth = neededWidth + getTextWidth( self.textSize, self.backDotsText)\n    end\n\n    return neededWidth\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"gettext",children:"getText"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Get text"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getText()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function TextInputElement:getText()\n    return self.text\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"inputevent",children:"inputEvent"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Handle GUI input events.\nReacts to confirmation and cancel actions. Also see GuiElement.inputEvent()."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"inputEvent()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"action"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"value"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"eventUsed"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function TextInputElement:inputEvent(action, value, eventUsed)\n    -- break inheritance from ButtonElement, text input needs custom logic\n    if self.blockTime < = 0 then\n        if not self.imeActive and self:getIsActive() and self.forcePressed then\n            if action = = InputAction.MENU_ACCEPT then\n                if self.forcePressed then\n                    self:setForcePressed( false )\n                else\n                        self:setForcePressed( true )\n                    end\n                    self:raiseCallback( "onEnterPressedCallback" , self )\n                    eventUsed = true\n                elseif action = = InputAction.MENU_CANCEL or action = = InputAction.MENU_BACK then\n                        if self.forcePressed then\n                            self:setForcePressed( false )\n                        else\n                                self:setForcePressed( true )\n                            end\n                            self:raiseCallback( "onEscPressedCallback" , self )\n                            eventUsed = true\n                        end\n                    end\n                end\n\n                return eventUsed\n            end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"keyevent",children:"keyEvent"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"keyEvent()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"unicode"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"sym"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"modifier"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"isDown"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"eventUsed"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function TextInputElement:keyEvent(unicode, sym, modifier, isDown, eventUsed)\n    if TextInputElement:superClass().keyEvent( self , unicode, sym, modifier, isDown, eventUsed) then\n        eventUsed = true\n    end\n\n    if self.isRepeatingSpecialKeyDown and not isDown and self.repeatingSpecialKeySym = = sym then\n        self:stopSpecialKeyRepeating()\n    end\n\n    if self.blockTime < = 0 and self:getIsActive() and self.forcePressed then\n        local wasSpecialKey = false\n\n        if not isDown then\n            -- react to input state-changing keys on key "up" to avoid double inputs in the menu\n            if (sym = = Input.KEY_ return or sym = = Input.KEY_KP_enter) and self.isReturnDown then\n                self.isReturnDown = false\n                self:setForcePressed( not self.forcePressed)\n                self:raiseCallback( "onEnterPressedCallback" , self )\n            elseif sym = = Input.KEY_esc then\n                    self.isEscDown = false\n                    self:setForcePressed( not self.forcePressed)\n                    self:raiseCallback( "onEscPressedCallback" , self )\n                end\n            else\n                    local lctrlModifier = Input.MOD_LCTRL\n                    if GS_PLATFORM_ID = = PlatformId.MAC then\n                        lctrlModifier = Input.MOD_LMETA\n                    end\n\n                    local startSpecialKeyRepeating = false\n                    if sym = = Input.KEY_left then\n                        -- is now handled by Focus system\n                        self:moveCursorLeft(bit32.band(modifier, lctrlModifier) > 0 )\n                        startSpecialKeyRepeating = true\n                        wasSpecialKey = true\n                    elseif sym = = Input.KEY_right then\n                            -- is now handled by focus system\n                            self:moveCursorRight(bit32.band(modifier, lctrlModifier) > 0 )\n                            startSpecialKeyRepeating = true\n                            wasSpecialKey = true\n                        elseif sym = = Input.KEY_home then\n                                self.cursorPosition = 1\n                                wasSpecialKey = true\n                            elseif sym = = Input.KEY_ end then\n                                self.cursorPosition = utf8Strlen( self.text) + 1\n                                wasSpecialKey = true\n                            elseif sym = = Input.KEY_delete then\n                                    self:deleteText( true )\n                                    startSpecialKeyRepeating = true\n                                    wasSpecialKey = true\n                                elseif sym = = Input.KEY_backspace then\n                                        -- if ctrl + backspace is pressed, we delete characters from the back until we reach a whitespace\n                                            if bit32.band(modifier, lctrlModifier) > 0 then\n                                                if self.isPassword then\n                                                    --if password always delete whole text\n                                                        self:setText( "" )\n                                                    else\n                                                            -- delete characters from the back until we reach a whitespace, if no whitespace is present remove everything\n                                                                local textLeftOfCursor = utf8Substr( self:getText(), 0 , self.cursorPosition - 1 ) or ""\n                                                                local textRightOfCursor = utf8Substr( self:getText(), self.cursorPosition - 1 ) or ""\n\n                                                                local text = string.rtrim(textLeftOfCursor)\n                                                                local lastSpacePos = string.findLast(text, " " )\n\n                                                                local newText = utf8Substr(text, 0 , lastSpacePos)\n                                                                local cursorPosition = self.cursorPosition\n                                                                self:setText(newText .. textRightOfCursor)\n                                                                self.cursorPosition = cursorPosition - (utf8Strlen(textLeftOfCursor) - utf8Strlen(newText))\n\n                                                                --onTextChanged callback is usually called by deleteText(), since we dont use that function in this case we need to call it here\n                                                                    self:raiseCallback( "onTextChangedCallback" , self , self.text)\n                                                                end\n                                                            else\n                                                                    self:deleteText( false )\n                                                                end\n\n                                                                startSpecialKeyRepeating = true\n                                                                wasSpecialKey = true\n                                                            elseif sym = = Input.KEY_esc then\n                                                                    self.isEscDown = true\n                                                                    wasSpecialKey = true\n                                                                elseif sym = = Input.KEY_ return or sym = = Input.KEY_KP_enter then\n                                                                        self.isReturnDown = true\n                                                                        wasSpecialKey = true\n                                                                    elseif sym = = Input.KEY_v and bit32.band(modifier, lctrlModifier) > 0 then\n                                                                            local clipboardText = localGetClipboard()\n                                                                            self:setText( self:getText() .. clipboardText)\n                                                                            wasSpecialKey = true\n                                                                        end\n\n                                                                        if startSpecialKeyRepeating then\n                                                                            self.isRepeatingSpecialKeyDown = true\n                                                                            self.repeatingSpecialKeySym = sym\n                                                                            self.repeatingSpecialKeyDelayTime = TextInputElement.INITIAL_REPEAT_DELAY\n                                                                            self.repeatingSpecialKeyRemainingDelayTime = self.repeatingSpecialKeyDelayTime\n                                                                        end\n\n                                                                        if not wasSpecialKey then\n                                                                            if self:getIsUnicodeAllowed(unicode) then\n                                                                                local textLength = utf8Strlen( self.text)\n                                                                                if self.maxCharacters = = nil or textLength < self.maxCharacters then\n                                                                                    self.text =\n                                                                                    (( self.cursorPosition > 1 ) and utf8Substr( self.text, 0 , self.cursorPosition - 1 ) or "" ) ..\n                                                                                    unicodeToUtf8(unicode) ..\n                                                                                    (( self.cursorPosition < = textLength) and utf8Substr( self.text, self.cursorPosition - 1 ) or "" )\n\n                                                                                    self.cursorPosition = self.cursorPosition + 1\n\n                                                                                    self:raiseCallback( "onTextChangedCallback" , self , self.text)\n                                                                                end\n                                                                            end\n                                                                        end\n\n                                                                        self:updateVisibleTextElements()\n\n                                                                        eventUsed = true\n                                                                    end\n                                                                end\n\n                                                                return eventUsed\n                                                            end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"limittexttoavailablewidth",children:"limitTextToAvailableWidth"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"limitTextToAvailableWidth()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"text"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"textSize"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"availableWidth"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"trimFront"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function TextInputElement.limitTextToAvailableWidth(text, textSize, availableWidth, trimFront)\n    local resultingText = text\n    local indexOfFirstCharacter = 0\n    local indexOfLastCharacter = utf8Strlen(text)\n\n    if availableWidth then\n        if trimFront then\n            while getTextWidth(textSize, resultingText) > availableWidth do\n                --print("1a limiting text: " .. resultingText)\n                resultingText = utf8Substr(resultingText, 1 )\n                indexOfFirstCharacter = indexOfFirstCharacter + 1\n                --print("1b limiting text: " .. resultingText)\n            end\n        else\n                local textLength = utf8Strlen(resultingText)\n                while getTextWidth(textSize, resultingText) > availableWidth do\n                    --print("2a limiting text: " .. resultingText)\n                    textLength = textLength - 1\n                    resultingText = utf8Substr(resultingText, 0 , textLength)\n                    indexOfLastCharacter = indexOfLastCharacter - 1\n                    --print("2b limiting text: " .. resultingText)\n                end\n            end\n        end\n\n        return resultingText, indexOfFirstCharacter, indexOfLastCharacter\n    end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"loadfromxml",children:"loadFromXML"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"loadFromXML()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"xmlFile"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"key"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function TextInputElement:loadFromXML(xmlFile, key)\n    TextInputElement:superClass().loadFromXML( self , xmlFile, key)\n\n    self:addCallback(xmlFile, key .. "#onEnter" , "onEnterCallback" )\n    self:addCallback(xmlFile, key .. "#onTextChanged" , "onTextChangedCallback" )\n    self:addCallback(xmlFile, key .. "#onEnterPressed" , "onEnterPressedCallback" )\n    self:addCallback(xmlFile, key .. "#onEscPressed" , "onEscPressedCallback" )\n    self:addCallback(xmlFile, key .. "#onIsUnicodeAllowed" , "onIsUnicodeAllowedCallback" )\n\n    self.imeKeyboardType = getXMLString(xmlFile, key .. "#imeKeyboardType" ) or self.imeKeyboardType\n    self.imeTitle = self:translate(getXMLString(xmlFile, key .. "#imeTitle" ))\n    self.imeDescription = self:translate(getXMLString(xmlFile, key .. "#imeDescription" ))\n    self.imePlaceholder = self:translate(getXMLString(xmlFile, key .. "#imePlaceholder" ))\n\n    self.maxCharacters = getXMLInt(xmlFile, key .. "#maxCharacters" ) or self.maxCharacters\n    self.maxInputTextWidth = GuiUtils.getNormalizedXValue(getXMLString(xmlFile, key .. "#maxInputTextWidth" ), self.maxInputTextWidth)\n    self.cursorOffset = GuiUtils.getNormalizedScreenValues(getXMLString(xmlFile, key .. "#cursorOffset" ), self.cursorOffset)\n    self.cursorSize = GuiUtils.getNormalizedScreenValues(getXMLString(xmlFile, key .. "#cursorSize" ), self.cursorSize)\n\n    if g_screenWidth > 1 then\n        self.cursorSize[ 1 ] = math.max( self.cursorSize[ 1 ], g_pixelSizeX)\n    end\n\n    self.enterWhenClickOutside = Utils.getNoNil(getXMLBool(xmlFile, key .. "#enterWhenClickOutside" ), self.enterWhenClickOutside)\n    self.applyProfanityFilter = Utils.getNoNil(getXMLBool(xmlFile, key .. "#applyProfanityFilter" ), self.applyProfanityFilter)\n\n    GuiOverlay.loadOverlay( self , self.cursor, "cursor" , self.imageSize, nil , xmlFile, key)\n    GuiOverlay.createOverlay( self.cursor)\n\n    self.isPassword = Utils.getNoNil(getXMLBool(xmlFile, key .. "#isPassword" ), self.isPassword)\n\n    self:finalize()\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"loadprofile",children:"loadProfile"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"loadProfile()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"profile"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"applyProfile"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function TextInputElement:loadProfile(profile, applyProfile)\n    TextInputElement:superClass().loadProfile( self , profile, applyProfile)\n\n    self.maxCharacters = profile:getNumber( "maxCharacters" , self.maxCharacters)\n    self.maxInputTextWidth = GuiUtils.getNormalizedXValue(profile:getValue( "maxInputTextWidth" ), self.maxInputTextWidth)\n    self.cursorOffset = GuiUtils.getNormalizedScreenValues(profile:getValue( "cursorOffset" ), self.cursorOffset)\n    self.cursorSize = GuiUtils.getNormalizedScreenValues(profile:getValue( "cursorSize" ), self.cursorSize)\n    self.isPassword = profile:getBool( "isPassword" , self.isPassword)\n    self.cursorImageSize = GuiUtils.getNormalizedValues(profile:getValue( "cursorImageSize" ), self.outputSize, self.imageSize)\n\n    self.applyProfanityFilter = profile:getBool( "applyProfanityFilter" , self.applyProfanityFilter)\n\n    GuiOverlay.loadOverlay( self , self.cursor, "cursor" , self.cursorImageSize, profile, nil , nil )\n\n    if g_screenWidth > 1 then\n        self.cursorSize[ 1 ] = math.max( self.cursorSize[ 1 ], g_pixelSizeX)\n    end\n\n    self:finalize()\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"mouseevent",children:"mouseEvent"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"mouseEvent()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"posX"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"posY"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"isDown"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"isUp"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"button"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"eventUsed"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function TextInputElement:mouseEvent(posX, posY, isDown, isUp, button, eventUsed)\n    if self:getIsActive() then\n        local isCursorInside = GuiUtils.checkOverlayOverlap(posX, posY, self.absPosition[ 1 ], self.absPosition[ 2 ], self.size[ 1 ], self.size[ 2 ])\n\n        if not self.forcePressed then\n            if not eventUsed and isCursorInside and not FocusManager:isLocked() then\n                FocusManager:setHighlight( self )\n\n                eventUsed = true\n\n                if isDown and button = = Input.MOUSE_BUTTON_LEFT then\n                    self.textInputMouseDown = true\n\n                    if not self.useIme then\n                        self:setForcePressed( true )\n                    end\n                end\n\n                if isUp and button = = Input.MOUSE_BUTTON_LEFT and self.textInputMouseDown then\n                    self.textInputMouseDown = false\n\n                    self:setForcePressed( true )\n                    if self.useIme then\n                        self:openIme()\n                    end\n                end\n            else\n                    if (isDown and button = = Input.MOUSE_BUTTON_LEFT) or self.textInputMouseDown or not self.forcePressed then\n                        FocusManager:unsetHighlight( self )\n                    end\n\n                    self.textInputMouseDown = false\n                end\n            else\n                    if not isCursorInside and isUp and button = = Input.MOUSE_BUTTON_LEFT then\n                        self:setForcePressed( false )\n\n                        if self.enterWhenClickOutside then\n                            -- Dismiss when clicking outside of the box\n                            self:abortIme()\n                            self:raiseCallback( "onEnterPressedCallback" , self , true )\n                        end\n                    end\n                end\n\n                if not eventUsed then\n                    eventUsed = TextInputElement:superClass().mouseEvent( self , posX, posY, isDown, isUp, button, eventUsed)\n                end\n            end\n\n            return eventUsed\n        end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"movecursorleft",children:"moveCursorLeft"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"moveCursorLeft()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"isLeftCtrlPressed"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function TextInputElement:moveCursorLeft(isLeftCtrlPressed)\n    if isLeftCtrlPressed then\n        local textBeforeCursor = utf8Substr( self:getText(), 0 , self.cursorPosition - 1 )\n        textBeforeCursor = string.rtrim(textBeforeCursor)\n        local lastSpacePos = string.findLast(textBeforeCursor, " " )\n\n        if lastSpacePos ~ = nil then\n            self:setCursorPosition(lastSpacePos + 1 )\n        else\n                self:setCursorPosition( 1 )\n            end\n\n            return\n        end\n\n        self:setCursorPosition( self.cursorPosition - 1 )\n    end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"movecursorright",children:"moveCursorRight"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"moveCursorRight()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"isLeftCtrlPressed"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function TextInputElement:moveCursorRight(isLeftCtrlPressed)\n    if isLeftCtrlPressed then\n        local nextSpacePos = string.find( self:getText(), " " , self.cursorPosition)\n        local nextNonSpacePos = nextSpacePos ~ = nil and string.find( self:getText(), "%w" , nextSpacePos) or math.huge\n\n        if nextNonSpacePos ~ = nil then\n            self:setCursorPosition(nextNonSpacePos)\n            return\n        end\n    end\n\n    self:setCursorPosition( self.cursorPosition + 1 )\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"new",children:"new"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"new()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"target"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"custom_mt"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function TextInputElement.new(target, custom_mt)\n    local self = ButtonElement.new(target, custom_mt or TextInputElement _mt)\n\n    self.textInputMouseDown = false\n    self.forcePressed = false\n    self.isPassword = false\n    self.displayText = "" -- actually displayed text, masked if this is a password input field\n        self.cursor = { }\n        self.cursorBlinkTime = 0\n        self.cursorBlinkInterval = 400\n        self.cursorOffset = { 0 , 0 }\n        self.cursorSize = { 0.0016 , 0.018 }\n        self.cursorNeededSize = {\n        self.cursorOffset[ 1 ] + self.cursorSize[ 1 ],\n        self.cursorOffset[ 2 ] + self.cursorSize[ 2 ]\n        }\n        self.cursorPosition = 1\n        self.firstVisibleCharacterPosition = 1\n        self.lastVisibleCharacterPosition = 1\n        self.maxCharacters = nil\n        self.maxInputTextWidth = nil\n        self.frontDotsText = " .. ."\n        self.backDotsText = " .. ."\n        self.text = ""\n        self.useIme = imeIsSupported()\n        self.preImeText = ""\n        self.imeActive = false\n        self.blockTime = 0\n\n        self.isReturnDown = false\n        self.isEscDown = false\n        self.isCapturingInput = false\n        self.hadFocusOnCapture = false\n        self.enterWhenClickOutside = true\n        self.applyProfanityFilter = nil --default:true\n\n        -- Handle hightlight on focused elements differently:if highlight is removed,\n            -- do not change focus.\n                self.disallowFocusedHighlight = true\n\n                self.imeKeyboardType = "normal"\n\n                self.forceFocus = true\n\n                self.customFocusSample = GuiSoundPlayer.SOUND_SAMPLES.TEXTBOX\n\n                return self\n            end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"onclose",children:"onClose"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onClose()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function TextInputElement:onClose()\n    TextInputElement:superClass().onClose( self )\n    -- makes sure that the input mode is disabled when clicking directly on a "back" button while text input is active\n        self:abortIme()\n        self:setForcePressed( false )\n    end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"onfocusactivate",children:"onFocusActivate"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onFocusActivate()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function TextInputElement:onFocusActivate()\n    if self.blockTime < = 0 then\n        TextInputElement:superClass().onFocusActivate( self )\n        self:raiseCallback( "onEnterCallback" , self )\n\n        if self.forcePressed then\n            self:abortIme()\n            -- deactivate input\n            self:setForcePressed( false )\n            self:raiseCallback( "onEnterPressedCallback" , self )\n        else\n                self:openIme()\n                self:setForcePressed( true )\n            end\n        end\n    end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"onfocusleave",children:"onFocusLeave"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onFocusLeave()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function TextInputElement:onFocusLeave()\n    self:abortIme()\n    self:setForcePressed( false )\n    TextInputElement:superClass().onFocusLeave( self )\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"openime",children:"openIme"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"openIme()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function TextInputElement:openIme()\n    if self.useIme and imeOpen( self.text, self.imeTitle or "" , self.imeDescription or "" , self.imePlaceholder or "" , self.imeKeyboardType or "normal" , Utils.getNoNil( self.maxCharacters, 512 ), self.absPosition[ 1 ], self.absPosition[ 2 ], self.size[ 1 ], self.size[ 2 ]) then\n        self.imeActive = true\n        self.preImeText = self.text\n        g_messageCenter:subscribe(MessageType.PAUSE, self.onPauseChanged, self )\n\n        return true\n    end\n\n    return false\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"reset",children:"reset"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"reset()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function TextInputElement:reset()\n    TextInputElement:superClass().reset( self )\n\n    if self.isRepeatingSpecialKeyDown then\n        self:stopSpecialKeyRepeating()\n    end\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"setalpha",children:"setAlpha"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"setAlpha()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"alpha"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function TextInputElement:setAlpha(alpha)\n    TextInputElement:superClass().setAlpha( self , alpha)\n    if self.cursor ~ = nil then\n        self.cursor.alpha = self.alpha\n    end\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"setcaptureinput",children:"setCaptureInput"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Set input capturing state.\nWhen capturing, the standard input bindings are disabled (input context switch)."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"setCaptureInput()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"isCapturing"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function TextInputElement:setCaptureInput(isCapturing)\n    self.blockTime = 200\n    if not self.isCapturingInput and isCapturing then\n        -- reset control key flags to avoid immediately returning out of edit mode:\n        self.isReturnDown = false\n        self.isEscDown = false\n\n        self.target:disableInputForDuration( 0 )\n\n        if TextInputElement.inputContextActive then\n            -- Special case handling for mouse click activation of text input elements.Because of the call order,\n                -- another text element may previously have been active when this one has been activated by click.Avoid\n                -- corrupting the input context by reverting here first.\n                g_inputBinding:revertContext( true )\n            end\n\n            g_inputBinding:setContext( TextInputElement.INPUT_CONTEXT_NAME, true , false )\n            TextInputElement.inputContextActive = true\n\n            if not GS_IS_CONSOLE_VERSION then\n                -- Special case handling for gaming stations which do not have keyboards available for players:\n                    -- Register menu back and accept actions so players can exit text boxes with gamepads using either input,\n                    -- by default bound to buttons "A" for accept and "B" for back.\n                        g_inputBinding:registerActionEvent(InputAction.MENU_BACK, self , self.inputEvent, false , true , false , true )\n                        g_inputBinding:registerActionEvent(InputAction.MENU_ACCEPT, self , self.inputEvent, false , true , false , true )\n                    end\n\n                    self.isCapturingInput = true\n                elseif self.isCapturingInput and not isCapturing then\n                        if TextInputElement.inputContextActive then\n                            -- Special case handling for mouse click activation of text input elements.Ensure to avoid double reverts\n                                -- when switching from one text input to another.\n                                g_inputBinding:revertContext( true ) -- revert and clear text input context\n                                TextInputElement.inputContextActive = false\n                            end\n\n                            self.target:disableInputForDuration( 200 )\n                            self.isCapturingInput = false\n\n                            if not self.isPassword and self.applyProfanityFilter ~ = false then\n                                local baseText = self.text\n                                local filteredText = filterText(baseText, true , true )\n\n                                if baseText ~ = "" and baseText ~ = filteredText then\n                                    self:setText(filteredText)\n                                end\n                            end\n                        end\n                    end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"setcursorposition",children:"setCursorPosition"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"setCursorPosition()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"position"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function TextInputElement:setCursorPosition(position)\n    self.cursorPosition = math.max( 1 , math.min(utf8Strlen( self.text) + 1 , position))\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"setforcepressed",children:"setForcePressed"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"setForcePressed()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"force"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function TextInputElement:setForcePressed(force)\n    if force then\n        self.hadFocusOnCapture = self:getIsFocused()\n        self:setCaptureInput( true )\n    else\n            self:setCaptureInput( false )\n        end\n\n        self.forcePressed = force\n        if self.forcePressed then\n            FocusManager:setFocus( self )\n        else\n                --focusEnter/Leave functions are called directly instead of via the FocusManager and of the super class to avoid an infinite loop\n                if self.hadFocusOnCapture then\n                    FocusManager:setFocus( self )\n                    TextInputElement:superClass().onFocusEnter( self )\n                else\n                        self:setFocused( false )\n                        TextInputElement:superClass().onFocusLeave( self )\n                    end\n                    self.hadFocusOnCapture = false\n                end\n\n                if self.isRepeatingSpecialKeyDown then\n                    self:stopSpecialKeyRepeating()\n                end\n\n                self:updateVisibleTextElements()\n            end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"settext",children:"setText"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"setText()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"text"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function TextInputElement:setText(text)\n    local textLength = utf8Strlen(text)\n    if self.maxCharacters and textLength > self.maxCharacters then\n        text = utf8Substr(text, 0 , self.maxCharacters)\n        textLength = utf8Strlen(text)\n    end\n\n    TextInputElement:superClass().setText( self , text)\n\n    self.cursorPosition = textLength + 1\n    self:updateVisibleTextElements()\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"shouldfocuschange",children:"shouldFocusChange"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Focus methods"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"shouldFocusChange()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"direction"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function TextInputElement:shouldFocusChange(direction)\n    return not self.forcePressed\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"stopspecialkeyrepeating",children:"stopSpecialKeyRepeating"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"stopSpecialKeyRepeating()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function TextInputElement:stopSpecialKeyRepeating()\n    self.isRepeatingSpecialKeyDown = false\n    self.repeatingSpecialKeySym = nil\n    self.repeatingSpecialKeyDelayTime = nil\n    self.repeatingSpecialKeyRemainingDelayTime = nil\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"translate",children:"translate"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"translate()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"str"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function TextInputElement:translate(str)\n    if str then\n        str = g_i18n:convertText(str)\n    end\n    return str\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"update",children:"update"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"update()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"dt"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function TextInputElement:update(dt)\n    TextInputElement:superClass().update( self , dt)\n\n    self.cursorBlinkTime = self.cursorBlinkTime + dt\n    while self.cursorBlinkTime > 2 * self.cursorBlinkInterval do\n        self.cursorBlinkTime = self.cursorBlinkTime - 2 * self.cursorBlinkInterval\n    end\n\n    if self.isRepeatingSpecialKeyDown then\n        self.repeatingSpecialKeyRemainingDelayTime = self.repeatingSpecialKeyRemainingDelayTime - dt\n        if self.repeatingSpecialKeyRemainingDelayTime < = 0 then\n            if self.repeatingSpecialKeySym = = Input.KEY_left then\n                self:moveCursorLeft()\n            elseif self.repeatingSpecialKeySym = = Input.KEY_right then\n                    self:moveCursorRight()\n                elseif self.repeatingSpecialKeySym = = Input.KEY_delete then\n                        self:deleteText( true )\n                    elseif self.repeatingSpecialKeySym = = Input.KEY_backspace then\n                            self:deleteText( false )\n                        end\n                        self:updateVisibleTextElements()\n\n                        -- reduce key delay each frame down to the minimum to accelerate input when holding control keys\n                        self.repeatingSpecialKeyDelayTime = math.max( TextInputElement.MIN_REPEAT_DELAY, ( self.repeatingSpecialKeyDelayTime or TextInputElement.INITIAL_REPEAT_DELAY) * ( 0.1 ^ (dt / 100 )))\n                        self.repeatingSpecialKeyRemainingDelayTime = self.repeatingSpecialKeyDelayTime\n                    end\n                end\n                if self.useIme and self.imeActive then\n                    local done,cancel = imeIsComplete()\n                    if done then\n                        self.imeActive = false\n\n                        self:setForcePressed( false )\n                        if not cancel then\n                            self:setText(imeGetLastString())\n                            self:raiseCallback( "onEnterPressedCallback" , self )\n                        else\n                                self:setText( self.preImeText)\n                                self.preImeText = ""\n                                self:raiseCallback( "onEscPressedCallback" , self )\n                            end\n                        else\n                                self:setText(imeGetLastString())\n                                self:setCursorPosition(imeGetCursorPos() + 1 )\n                                self:updateVisibleTextElements()\n                            end\n                        end\n\n                        if self.blockTime > 0 then\n                            self.blockTime = self.blockTime - dt\n                        end\n                    end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"updatevisibletextelements",children:"updateVisibleTextElements"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"updateVisibleTextElements()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function TextInputElement:updateVisibleTextElements()\n    self.isCursorVisible = false\n    self.isVisibleTextPart1Visible = false\n    self.visibleTextPart1 = ""\n    self.isVisibleTextPart2Visible = false\n    self.visibleTextPart2 = ""\n\n    self.areFrontDotsVisible = false\n    self.areBackDotsVisible = false\n\n    self.firstVisibleCharacterPosition = 1\n\n    setTextBold( self.textBold)\n\n    local displayText = self.text\n    if self.isPassword then\n        displayText = string.rep( "*" , utf8Strlen( self.text))\n    end\n\n    local textLength = utf8Strlen(displayText)\n    local availableTextWidth = self:getAvailableTextWidth()\n\n    if self:getIsActive() and self.forcePressed then\n        -- input is gathered, cursor is shown,\n        -- text is displayed at an arbitrary position, both additonal text markers may be displayed\n\n        self.isCursorVisible = true\n\n        if self.cursorPosition < self.firstVisibleCharacterPosition then\n            -- cursor was moved to the left to display additional text\n            self.firstVisibleCharacterPosition = self.cursorPosition\n        end\n\n        if self.firstVisibleCharacterPosition > 1 then\n            self.areFrontDotsVisible = true\n        end\n\n        local textInvisibleFrontTrimmed = utf8Substr(displayText, self.firstVisibleCharacterPosition - 1 )\n        local textWidthInvisibleFrontTrimmed = getTextWidth( self.textSize, textInvisibleFrontTrimmed)\n        availableTextWidth = self:getAvailableTextWidth()\n\n        if availableTextWidth and textWidthInvisibleFrontTrimmed > availableTextWidth then\n            -- not all text fits into the visible area\n            if self.cursorPosition < = textLength then\n                -- the cursor is not at the last position of the text\n                --self.isBackAdditionalTextMarkerVisible = true\n                self.areBackDotsVisible = true\n                availableTextWidth = self:getAvailableTextWidth()\n            end\n        end\n\n        local visibleText = TextInputElement.limitTextToAvailableWidth(textInvisibleFrontTrimmed, self.textSize, availableTextWidth)\n        local visibleTextWidth = getTextWidth( self.textSize, visibleText)\n        local visibleTextLength = utf8Strlen(visibleText)\n\n        if availableTextWidth and self.cursorPosition > self.firstVisibleCharacterPosition + visibleTextLength then\n            -- the cursor is on the right side and not visible anymore\n            -- text has to be shifted for the cursor to become visible again\n                --self.isFrontAdditionalTextMarkerVisible = true\n                self.areFrontDotsVisible = true\n                availableTextWidth = self:getAvailableTextWidth()\n\n                local textTrimmedAtCursor = utf8Substr(textInvisibleFrontTrimmed, 0 , self.cursorPosition - self.firstVisibleCharacterPosition)\n                visibleText = TextInputElement.limitTextToAvailableWidth(textTrimmedAtCursor, self.textSize, availableTextWidth, true )\n                visibleTextWidth = getTextWidth( self.textSize, visibleText)\n                visibleTextLength = utf8Strlen(visibleText)\n                self.firstVisibleCharacterPosition = self.cursorPosition - visibleTextLength\n            end\n\n            if availableTextWidth and not self.areBackDotsVisible and self.firstVisibleCharacterPosition > 1 then\n                -- check if there is still room for additonal characters(can happen if text gets deleted)\n                    local lastCharacterPosition = visibleTextLength + self.firstVisibleCharacterPosition\n                    local nextCharacter = utf8Substr(displayText, self.firstVisibleCharacterPosition - 1 , 1 ) or ""\n                    local additionalCharacterWidth = getTextWidth( self.textSize, nextCharacter)\n                    if visibleTextWidth + additionalCharacterWidth < = availableTextWidth and self.firstVisibleCharacterPosition > 1 then\n                        while visibleTextWidth + additionalCharacterWidth < = availableTextWidth and self.firstVisibleCharacterPosition > 1 do\n                            -- there is still room for additonal characters\n                                self.firstVisibleCharacterPosition = self.firstVisibleCharacterPosition - 1\n                                visibleTextWidth = visibleTextWidth + additionalCharacterWidth\n                                nextCharacter = utf8Substr(displayText, self.firstVisibleCharacterPosition - 1 , 1 ) or ""\n                                additionalCharacterWidth = getTextWidth( self.textSize, nextCharacter)\n                            end\n\n                            if self.firstVisibleCharacterPosition > 1 then\n                                self.areFrontDotsVisible = false\n                                local availableWidthWithoutFrontDots = self:getAvailableTextWidth()\n                                self.areFrontDotsVisible = true\n                                local neededWidthForCompleteText = getTextWidth( self.textSize, displayText)\n                                if neededWidthForCompleteText < = availableWidthWithoutFrontDots then\n                                    self.areFrontDotsVisible = false\n                                    self.firstVisibleCharacterPosition = 1\n                                end\n                            else\n                                    -- all characters are visible\n                                    self.areFrontDotsVisible = false\n                                end\n\n                                visibleText = utf8Substr(displayText, self.firstVisibleCharacterPosition - 1 , lastCharacterPosition)\n                            end\n                        end\n\n                        self.isVisibleTextPart1Visible = true\n                        self.visibleTextPart1 = utf8Substr(visibleText, 0 , self.cursorPosition - self.firstVisibleCharacterPosition)\n                        if visibleTextLength > self.cursorPosition - self.firstVisibleCharacterPosition then\n                            self.isVisibleTextPart2Visible = true\n                            self.visibleTextPart2 = utf8Substr(visibleText, self.cursorPosition - self.firstVisibleCharacterPosition)\n                        end\n\n                    else\n                            -- input is not gathered, cursor is not shown,\n                            -- text is displayed from its beginning, only back additonal text marker may be displayed if text is too long\n                                local textWidth = getTextWidth( self.textSize, displayText)\n                                -- check if additional text marker has to be displayed\n                                    if availableTextWidth and textWidth > availableTextWidth then\n                                        --self.isBackAdditionalTextMarkerVisible = true\n                                        self.areBackDotsVisible = true\n                                        availableTextWidth = self:getAvailableTextWidth()\n                                    end\n\n                                    -- set visible text\n                                    if availableTextWidth and textWidth > availableTextWidth then\n                                        -- not all text fits into the visible area\n                                        self.visibleTextPart1 = TextInputElement.limitTextToAvailableWidth(displayText, self.textSize, availableTextWidth)\n                                        self.isVisibleTextPart1Visible = true\n                                    else\n                                            -- all text fits into the visible area\n                                            self.visibleTextPart1 = displayText\n                                            self.isVisibleTextPart1Visible = true\n                                        end\n                                    end\n                                    setTextBold( false )\n\n                                    -- print(string.format("updateVisibleTextElements finished:"))\n                                    -- print(string.format(\n                                    -- "text: %s - cursorPosition: %d - firstVisibleCharacterPosition: %d - areFrontDotsVisible: %s - isVisibleTextPart1Visible: %s - visibleTextPart1: %s - isCursorVisible: %s - isVisibleTextPart2Visible: %s - visibleTextPart2: %s - areBackDotsVisible: %s",\n                                    -- self.text, self.cursorPosition, self.firstVisibleCharacterPosition, tostring(self.areFrontDotsVisible), tostring(self.isVisibleTextPart1Visible), self.visibleTextPart1, tostring(self.isCursorVisible), tostring(self.isVisibleTextPart2Visible), self.visibleTextPart2, tostring(self.areBackDotsVisible)))\n                                end\n\n'})})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}}}]);