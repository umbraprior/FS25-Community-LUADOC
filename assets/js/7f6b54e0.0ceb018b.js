"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[94748],{28453(n,e,s){s.d(e,{R:()=>t,x:()=>l});var i=s(96540);const o={},r=i.createContext(o);function t(n){const e=i.useContext(r);return i.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(o):n.components||o:t(n.components),i.createElement(r.Provider,{value:e},n.children)}},52081(n,e,s){s.r(e),s.d(e,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"script/Specializations/CropSensor","title":"CropSensor","description":"CropSensor","source":"@site/../docs/script/Specializations/CropSensor.md","sourceDirName":"script/Specializations","slug":"/script/Specializations/CropSensor","permalink":"/FS25-Community-LUADOC/script/Specializations/CropSensor","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"CropRowAdjustedNodes","permalink":"/FS25-Community-LUADOC/script/Specializations/CropRowAdjustedNodes"},"next":{"title":"Cultivator","permalink":"/FS25-Community-LUADOC/script/Specializations/Cultivator"}}');var o=s(74848),r=s(28453);const t={},l=void 0,d={},c=[{value:"CropSensor",id:"cropsensor",level:2},{value:"actionControllerToggleEvent",id:"actioncontrollertoggleevent",level:3},{value:"actionEventToggle",id:"actioneventtoggle",level:3},{value:"doCheckSpeedLimit",id:"docheckspeedlimit",level:3},{value:"getMaxWorkingWidth",id:"getmaxworkingwidth",level:3},{value:"getUseTurnedOnSchema",id:"getuseturnedonschema",level:3},{value:"initSpecialization",id:"initspecialization",level:3},{value:"linkCropSensor",id:"linkcropsensor",level:3},{value:"onDraw",id:"ondraw",level:3},{value:"onLoad",id:"onload",level:3},{value:"onRegisterActionEvents",id:"onregisteractionevents",level:3},{value:"onRootVehicleChanged",id:"onrootvehiclechanged",level:3},{value:"onUpdate",id:"onupdate",level:3},{value:"prerequisitesPresent",id:"prerequisitespresent",level:3},{value:"setCropSensorActive",id:"setcropsensoractive",level:3},{value:"updateActionEventTexts",id:"updateactioneventtexts",level:3},{value:"updateCropSensorWorkingWidth",id:"updatecropsensorworkingwidth",level:3},{value:"updateSensorNode",id:"updatesensornode",level:3},{value:"updateSensorRadius",id:"updatesensorradius",level:3}];function a(n){const e={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...n.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(e.h2,{id:"cropsensor",children:"CropSensor"}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Description"})}),"\n",(0,o.jsxs)(e.blockquote,{children:["\n",(0,o.jsx)(e.p,{children:"Specialization for crop sensors"}),"\n"]}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Functions"})}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:(0,o.jsx)(e.a,{href:"#actioncontrollertoggleevent",children:"actionControllerToggleEvent"})}),"\n",(0,o.jsx)(e.li,{children:(0,o.jsx)(e.a,{href:"#actioneventtoggle",children:"actionEventToggle"})}),"\n",(0,o.jsx)(e.li,{children:(0,o.jsx)(e.a,{href:"#docheckspeedlimit",children:"doCheckSpeedLimit"})}),"\n",(0,o.jsx)(e.li,{children:(0,o.jsx)(e.a,{href:"#getmaxworkingwidth",children:"getMaxWorkingWidth"})}),"\n",(0,o.jsx)(e.li,{children:(0,o.jsx)(e.a,{href:"#getuseturnedonschema",children:"getUseTurnedOnSchema"})}),"\n",(0,o.jsx)(e.li,{children:(0,o.jsx)(e.a,{href:"#initspecialization",children:"initSpecialization"})}),"\n",(0,o.jsx)(e.li,{children:(0,o.jsx)(e.a,{href:"#linkcropsensor",children:"linkCropSensor"})}),"\n",(0,o.jsx)(e.li,{children:(0,o.jsx)(e.a,{href:"#ondraw",children:"onDraw"})}),"\n",(0,o.jsx)(e.li,{children:(0,o.jsx)(e.a,{href:"#onload",children:"onLoad"})}),"\n",(0,o.jsx)(e.li,{children:(0,o.jsx)(e.a,{href:"#onregisteractionevents",children:"onRegisterActionEvents"})}),"\n",(0,o.jsx)(e.li,{children:(0,o.jsx)(e.a,{href:"#onrootvehiclechanged",children:"onRootVehicleChanged"})}),"\n",(0,o.jsx)(e.li,{children:(0,o.jsx)(e.a,{href:"#onupdate",children:"onUpdate"})}),"\n",(0,o.jsx)(e.li,{children:(0,o.jsx)(e.a,{href:"#prerequisitespresent",children:"prerequisitesPresent"})}),"\n",(0,o.jsx)(e.li,{children:(0,o.jsx)(e.a,{href:"#setcropsensoractive",children:"setCropSensorActive"})}),"\n",(0,o.jsx)(e.li,{children:(0,o.jsx)(e.a,{href:"#updateactioneventtexts",children:"updateActionEventTexts"})}),"\n",(0,o.jsx)(e.li,{children:(0,o.jsx)(e.a,{href:"#updatecropsensorworkingwidth",children:"updateCropSensorWorkingWidth"})}),"\n",(0,o.jsx)(e.li,{children:(0,o.jsx)(e.a,{href:"#updatesensornode",children:"updateSensorNode"})}),"\n",(0,o.jsx)(e.li,{children:(0,o.jsx)(e.a,{href:"#updatesensorradius",children:"updateSensorRadius"})}),"\n"]}),"\n",(0,o.jsx)(e.h3,{id:"actioncontrollertoggleevent",children:"actionControllerToggleEvent"}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Description"})}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Definition"})}),"\n",(0,o.jsxs)(e.blockquote,{children:["\n",(0,o.jsx)(e.p,{children:"actionControllerToggleEvent()"}),"\n"]}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,o.jsxs)(e.table,{children:[(0,o.jsx)(e.thead,{children:(0,o.jsxs)(e.tr,{children:[(0,o.jsx)(e.th,{children:"any"}),(0,o.jsx)(e.th,{children:"self"})]})}),(0,o.jsx)(e.tbody,{children:(0,o.jsxs)(e.tr,{children:[(0,o.jsx)(e.td,{children:"any"}),(0,o.jsx)(e.td,{children:"direction"})]})})]}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Code"})}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-lua",children:"function CropSensor.actionControllerToggleEvent( self , direction)\n    self:setCropSensorActive(direction > = 0 )\n\n    return true\nend\n\n"})}),"\n",(0,o.jsx)(e.h3,{id:"actioneventtoggle",children:"actionEventToggle"}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Description"})}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Definition"})}),"\n",(0,o.jsxs)(e.blockquote,{children:["\n",(0,o.jsx)(e.p,{children:"actionEventToggle()"}),"\n"]}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,o.jsxs)(e.table,{children:[(0,o.jsx)(e.thead,{children:(0,o.jsxs)(e.tr,{children:[(0,o.jsx)(e.th,{children:"any"}),(0,o.jsx)(e.th,{children:"self"})]})}),(0,o.jsxs)(e.tbody,{children:[(0,o.jsxs)(e.tr,{children:[(0,o.jsx)(e.td,{children:"any"}),(0,o.jsx)(e.td,{children:"actionName"})]}),(0,o.jsxs)(e.tr,{children:[(0,o.jsx)(e.td,{children:"any"}),(0,o.jsx)(e.td,{children:"inputValue"})]}),(0,o.jsxs)(e.tr,{children:[(0,o.jsx)(e.td,{children:"any"}),(0,o.jsx)(e.td,{children:"callbackState"})]}),(0,o.jsxs)(e.tr,{children:[(0,o.jsx)(e.td,{children:"any"}),(0,o.jsx)(e.td,{children:"isAnalog"})]})]})]}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Code"})}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-lua",children:"function CropSensor.actionEventToggle( self , actionName, inputValue, callbackState, isAnalog)\n    self:setCropSensorActive()\nend\n\n"})}),"\n",(0,o.jsx)(e.h3,{id:"docheckspeedlimit",children:"doCheckSpeedLimit"}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Description"})}),"\n",(0,o.jsxs)(e.blockquote,{children:["\n",(0,o.jsx)(e.p,{children:"Returns if speed limit should be checked"}),"\n"]}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Definition"})}),"\n",(0,o.jsxs)(e.blockquote,{children:["\n",(0,o.jsx)(e.p,{children:"doCheckSpeedLimit()"}),"\n"]}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,o.jsx)(e.table,{children:(0,o.jsx)(e.thead,{children:(0,o.jsxs)(e.tr,{children:[(0,o.jsx)(e.th,{children:"any"}),(0,o.jsx)(e.th,{children:"superFunc"})]})})}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,o.jsx)(e.table,{children:(0,o.jsx)(e.thead,{children:(0,o.jsxs)(e.tr,{children:[(0,o.jsx)(e.th,{children:"any"}),(0,o.jsx)(e.th,{children:"checkSpeedlimit"}),(0,o.jsx)(e.th,{children:"check speed limit"})]})})}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Code"})}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-lua",children:"function CropSensor:doCheckSpeedLimit(superFunc)\n    local spec = self [ CropSensor.SPEC_TABLE_NAME]\n    return superFunc( self ) or(spec ~ = nil and spec.isStandaloneSensor and spec.isActive)\nend\n\n"})}),"\n",(0,o.jsx)(e.h3,{id:"getmaxworkingwidth",children:"getMaxWorkingWidth"}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Description"})}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Definition"})}),"\n",(0,o.jsxs)(e.blockquote,{children:["\n",(0,o.jsx)(e.p,{children:"getMaxWorkingWidth()"}),"\n"]}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,o.jsx)(e.table,{children:(0,o.jsx)(e.thead,{children:(0,o.jsxs)(e.tr,{children:[(0,o.jsx)(e.th,{children:"any"}),(0,o.jsx)(e.th,{children:"sensorVehicle"})]})})}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Code"})}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-lua",children:"function CropSensor.getMaxWorkingWidth(sensorVehicle)\n    local childVehicles = sensorVehicle.rootVehicle.childVehicles\n\n    local maxWidth = 0\n\n    for i = 1 , #childVehicles do\n        local childVehicle = childVehicles[i]\n        if SpecializationUtil.hasSpecialization( ExtendedSprayer , childVehicle.specializations) then\n            if childVehicle.getWorkAreaByIndex ~ = nil then\n                local workAreas = childVehicle.spec_workArea.workAreas\n                for j = 1 , #workAreas do\n                    local workArea = workAreas[j]\n                    if workArea.start ~ = nil and workArea.width ~ = nil then\n                        local width = calcDistanceFrom(workArea.start, workArea.width)\n                        maxWidth = math.max(maxWidth, width)\n\n                        local x1, _, _ = localToLocal(workArea.start, sensorVehicle.rootNode, 0 , 0 , 0 )\n                        local x2, _, _ = localToLocal(workArea.width, sensorVehicle.rootNode, 0 , 0 , 0 )\n                        maxWidth = math.max(maxWidth, math.abs(x1) * 2 , math.abs(x2) * 2 )\n                    end\n                end\n            end\n\n            if childVehicle.getAIMarkers ~ = nil then\n                local leftMarker, rightMarker, _, _ = childVehicle:getAIMarkers()\n                if leftMarker ~ = nil and rightMarker ~ = nil then\n                    local width = calcDistanceFrom(leftMarker, rightMarker)\n                    maxWidth = math.max(maxWidth, width)\n\n                    local x1, _, _ = localToLocal(leftMarker, sensorVehicle.rootNode, 0 , 0 , 0 )\n                    local x2, _, _ = localToLocal(rightMarker, sensorVehicle.rootNode, 0 , 0 , 0 )\n                    maxWidth = math.max(maxWidth, math.abs(x1) * 2 , math.abs(x2) * 2 )\n                end\n            end\n        end\n    end\n\n    return maxWidth\nend\n\n"})}),"\n",(0,o.jsx)(e.h3,{id:"getuseturnedonschema",children:"getUseTurnedOnSchema"}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Description"})}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Definition"})}),"\n",(0,o.jsxs)(e.blockquote,{children:["\n",(0,o.jsx)(e.p,{children:"getUseTurnedOnSchema()"}),"\n"]}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,o.jsx)(e.table,{children:(0,o.jsx)(e.thead,{children:(0,o.jsxs)(e.tr,{children:[(0,o.jsx)(e.th,{children:"any"}),(0,o.jsx)(e.th,{children:"superFunc"})]})})}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Code"})}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-lua",children:"function CropSensor:getUseTurnedOnSchema(superFunc)\n    local spec = self [ CropSensor.SPEC_TABLE_NAME]\n    return superFunc( self ) or(spec ~ = nil and spec.isStandaloneSensor and spec.isActive)\nend\n\n"})}),"\n",(0,o.jsx)(e.h3,{id:"initspecialization",children:"initSpecialization"}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Description"})}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Definition"})}),"\n",(0,o.jsxs)(e.blockquote,{children:["\n",(0,o.jsx)(e.p,{children:"initSpecialization()"}),"\n"]}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Code"})}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-lua",children:'function CropSensor.initSpecialization()\n    g_vehicleConfigurationManager:addConfigurationType( "cropSensor" , g_i18n:getText( "configuration_cropSensor" ), "cropSensor" , VehicleConfigurationItem )\n\n    local schema = Vehicle.xmlSchema\n    schema:setXMLSpecializationType( "CropSensor" )\n\n    schema:register(XMLValueType.NODE_INDEX, "vehicle.cropSensor.sensorNode(?)#node" , "Sensor Node" )\n    schema:register(XMLValueType.NODE_INDEX, "vehicle.cropSensor.sensorNode(?)#lightNode" , "Real light source node" )\n    schema:register(XMLValueType.NODE_INDEX, "vehicle.cropSensor.sensorNode(?)#staticLight" , "Static light shape" )\n    schema:register(XMLValueType.FLOAT, "vehicle.cropSensor.sensorNode(?)#radius" , "Sensor radius" , 18 )\n    schema:register(XMLValueType.BOOL, "vehicle.cropSensor.sensorNode(?)#requiresDaylight" , "Sensor requires daylight to work" , false )\n    schema:register(XMLValueType.STRING, "vehicle.cropSensor.sensorNode(?)#shape" , "Sensor shape(CIRCLE | HALF_CIRCLE_LEFT | HALF_CIRCLE_RIGHT)" , "CIRCLE" )\n\n    CropSensor.registerSensorLinkNodePaths(schema, "vehicle.cropSensor.cropSensorConfigurations.cropSensorConfiguration(?).sensorLinkNode(?)" )\n\n    schema:setXMLSpecializationType()\nend\n\n'})}),"\n",(0,o.jsx)(e.h3,{id:"linkcropsensor",children:"linkCropSensor"}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Description"})}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Definition"})}),"\n",(0,o.jsxs)(e.blockquote,{children:["\n",(0,o.jsx)(e.p,{children:"linkCropSensor()"}),"\n"]}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,o.jsx)(e.table,{children:(0,o.jsx)(e.thead,{children:(0,o.jsxs)(e.tr,{children:[(0,o.jsx)(e.th,{children:"any"}),(0,o.jsx)(e.th,{children:"linkData"})]})})}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Code"})}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-lua",children:'function CropSensor:linkCropSensor(linkData)\n    for i = 1 , #linkData.linkNodes do\n        local linkNodeData = linkData.linkNodes[i]\n\n        local linkNode = linkNodeData.node\n        if linkNode = = nil and linkNodeData.nodeName ~ = nil then\n            if self.i3dMappings[linkNodeData.nodeName] ~ = nil then\n                linkNode = self.i3dMappings[linkNodeData.nodeName].nodeId\n            end\n        end\n\n        if linkNode ~ = nil then\n            local sensorData = g_precisionFarming:getClonedCropSensorNode(linkNodeData.typeName)\n            if sensorData ~ = nil then\n                link(linkNode, sensorData.node)\n\n                setTranslation(sensorData.node, linkNodeData.translation[ 1 ], linkNodeData.translation[ 2 ], linkNodeData.translation[ 3 ])\n                setRotation(sensorData.node, linkNodeData.rotation[ 1 ], linkNodeData.rotation[ 2 ], linkNodeData.rotation[ 3 ])\n\n                for j = 1 , #sensorData.rotationNodes do\n                    local rotationNode = sensorData.rotationNodes[j]\n\n                    local autoRotate = false\n                    if linkNodeData.rotationNodes[j] ~ = nil then\n                        local vRotationNode = linkNodeData.rotationNodes[j]\n                        if rotationNode.autoRotate and vRotationNode.autoRotate ~ = false and vRotationNode.rotation = = nil then\n                            autoRotate = true\n                        elseif vRotationNode.rotation ~ = nil then\n                                setRotation(rotationNode.node, vRotationNode.rotation[ 1 ], vRotationNode.rotation[ 2 ], vRotationNode.rotation[ 3 ])\n                            end\n                        else\n                                autoRotate = rotationNode.autoRotate\n                            end\n\n                            if autoRotate then\n                                local rx, ry, rz = localRotationToLocal( self:getParentComponent(sensorData.node), getParent(rotationNode.node), 0 , 0 , 0 )\n                                setRotation(rotationNode.node, rx, ry, rz)\n                            end\n                        end\n\n                        if sensorData.measurementNode ~ = nil then\n                            local sensorNode = { }\n                            sensorNode.node = sensorData.measurementNode\n                            sensorNode.radius = 10\n                            sensorNode.origRadius = sensorNode.radius\n\n                            if linkNodeData.typeName = = "SENSOR_LEFT" then\n                                sensorNode.shape = DensityMapPolygon.new()\n                                sensorNode.shape:addPolygonPoint( 0 , 0 )\n                                for i = math.rad( 110 ), math.rad( - 30 ), math.rad( - 30 ) do\n                                    sensorNode.shape:addPolygonPoint( math.cos(i), math.sin(i))\n                                end\n                            elseif linkNodeData.typeName = = "SENSOR_RIGHT" then\n                                    sensorNode.shape = DensityMapPolygon.new()\n                                    sensorNode.shape:addPolygonPoint( 0 , 0 )\n                                    for i = math.rad( 60 ), math.rad( 200 ), math.rad( 30 ) do\n                                        sensorNode.shape:addPolygonPoint( math.cos(i), math.sin(i))\n                                    end\n                                end\n\n                                sensorNode.requiresDaylight = sensorData.requiresDaylight\n                                sensorNode.index = 1\n\n                                table.insert( self [ CropSensor.SPEC_TABLE_NAME].sensorNodes, sensorNode)\n                            end\n                        end\n                    end\n                end\n            end\n\n'})}),"\n",(0,o.jsx)(e.h3,{id:"ondraw",children:"onDraw"}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Description"})}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Definition"})}),"\n",(0,o.jsxs)(e.blockquote,{children:["\n",(0,o.jsx)(e.p,{children:"onDraw()"}),"\n"]}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Code"})}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-lua",children:"function CropSensor:onDraw()\n    if self.isClient then\n        if not self:getIsAIActive() then\n            local spec = self [ CropSensor.SPEC_TABLE_NAME]\n            if spec.isAvailable and spec.isActive then\n                for i = 1 , #spec.sensorNodes do\n                    local sensorNode = spec.sensorNodes[i]\n                    if sensorNode.requiresDaylight then\n                        if not g_currentMission.environment.isSunOn then\n                            g_currentMission:showBlinkingWarning(spec.texts.warningSensorDaylight, 1000 )\n                        end\n                    end\n                end\n            end\n        end\n    end\nend\n\n"})}),"\n",(0,o.jsx)(e.h3,{id:"onload",children:"onLoad"}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Description"})}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Definition"})}),"\n",(0,o.jsxs)(e.blockquote,{children:["\n",(0,o.jsx)(e.p,{children:"onLoad()"}),"\n"]}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,o.jsx)(e.table,{children:(0,o.jsx)(e.thead,{children:(0,o.jsxs)(e.tr,{children:[(0,o.jsx)(e.th,{children:"any"}),(0,o.jsx)(e.th,{children:"savegame"})]})})}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Code"})}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-lua",children:'function CropSensor:onLoad(savegame)\n    local spec = self [ CropSensor.SPEC_TABLE_NAME]\n\n    local baseName = "vehicle.cropSensor"\n\n    spec.sensorNodes = { }\n    self.xmlFile:iterate(baseName .. ".sensorNode" , function (index, key)\n        local sensorNode = { }\n        sensorNode.node = self.xmlFile:getValue(key .. "#node" , nil , self.components, self.i3dMappings)\n        if sensorNode.node ~ = nil then\n            sensorNode.radius = self.xmlFile:getValue(key .. "#radius" , 20 )\n            sensorNode.origRadius = sensorNode.radius\n            sensorNode.requiresDaylight = self.xmlFile:getValue(key .. "#requiresDaylight" , false )\n\n            local shapeStr = string.upper( self.xmlFile:getValue(key .. "#shape" , "CIRCLE" ))\n            if shapeStr = = "CIRCLE" then\n                sensorNode.shape = DensityMapCircle.createCircle( 0 , 0 , sensorNode.radius, 8 )\n            elseif shapeStr = = "HALF_CIRCLE_LEFT" then\n                    sensorNode.shape = DensityMapPolygon.new()\n\n                    for i = math.rad( - 30 ), math.rad( 110 ), math.rad( 30 ) do\n                        sensorNode.shape:addPolygonPoint( math.cos(i), math.sin(i))\n                    end\n                elseif shapeStr = = "HALF_CIRCLE_RIGHT" then\n                        sensorNode.shape = DensityMapPolygon.new()\n                        for i = math.rad( 30 ), math.rad( - 110 ), math.rad( - 30 ) do\n                            sensorNode.shape:addPolygonPoint( math.cos(i), math.sin(i))\n                        end\n                    end\n\n                    if sensorNode.shape ~ = nil then\n                        sensorNode.lightNode = self.xmlFile:getValue(key .. "#lightNode" , nil , self.components, self.i3dMappings)\n                        if sensorNode.lightNode ~ = nil then\n                            setVisibility(sensorNode.lightNode, false )\n                        end\n\n                        sensorNode.staticLight = self.xmlFile:getValue(key .. "#staticLight" , nil , self.components, self.i3dMappings)\n                        if sensorNode.staticLight ~ = nil then\n                            setShaderParameter(sensorNode.staticLight, "lightIds0" , 0 , 0 , 0 , 0 , false )\n                        end\n\n                        sensorNode.index = 1\n\n                        table.insert(spec.sensorNodes, sensorNode)\n                    else\n                            Logging.xmlWarning( self.xmlFile, "Invalid sensor shape \'%s\' in \'%s\'" , shapeStr, key)\n                        end\n                    end\n                end )\n\n                spec.isStandaloneSensor = #spec.sensorNodes > 0\n                spec.inputActionToggle = InputAction.PRECISIONFARMING_TOGGLE_CROP_SENSOR\n\n                local configIndex = self.configurations[ "cropSensor" ]\n                if configIndex ~ = nil then\n                    local configKey = string.format( "vehicle.cropSensor.cropSensorConfigurations.cropSensorConfiguration(%d)" , configIndex - 1 )\n\n                    spec.sensorLinkNodeData = { }\n                    spec.sensorLinkNodeData.linkNodes = { }\n                    self.xmlFile:iterate(configKey .. ".sensorLinkNode" , function (index, key)\n                        local linkNode = { }\n                        linkNode.node = self.xmlFile:getValue(key .. "#node" , nil , self.components, self.i3dMappings)\n                        if linkNode.node ~ = nil then\n                            linkNode.typeName = string.upper( self.xmlFile:getValue(key .. "#type" , "SENSOR_LEFT" ))\n                            linkNode.translation = self.xmlFile:getValue(key .. "#translation" , "0 0 0" , true )\n                            linkNode.rotation = self.xmlFile:getValue(key .. "#rotation" , "0 0 0" , true )\n\n                            linkNode.rotationNodes = { }\n                            self.xmlFile:iterate(key .. ".rotationNode" , function (_, rotationNodeKey)\n                                local rotatioNode = { }\n                                rotatioNode.autoRotate = self.xmlFile:getValue(rotationNodeKey .. "#autoRotate" )\n                                rotatioNode.rotation = self.xmlFile:getValue(rotationNodeKey .. "#rotation" , nil , true )\n\n                                table.insert(linkNode.rotationNodes, rotatioNode)\n                            end )\n\n                            table.insert(spec.sensorLinkNodeData.linkNodes, linkNode)\n                        end\n                    end )\n\n                    if #spec.sensorLinkNodeData.linkNodes > 0 then\n                        self:linkCropSensor(spec.sensorLinkNodeData)\n                    end\n\n                    if configIndex > 1 then\n                        if g_precisionFarming ~ = nil then\n                            local linkData = g_precisionFarming:getCropSensorLinkageData( self.configFileName)\n                            if linkData ~ = nil then\n                                self:linkCropSensor(linkData)\n                            end\n                        end\n                    end\n                end\n\n                spec.isAvailable = #spec.sensorNodes > 0\n                spec.isActive = false\n\n                spec.workingWidth = 0\n\n                if spec.isAvailable then\n                    spec.texts = { }\n                    spec.texts.toggleCropSensorPos = g_i18n:getText( "action_toggleCropSensorPos" , self.customEnvironment)\n                    spec.texts.toggleCropSensorNeg = g_i18n:getText( "action_toggleCropSensorNeg" , self.customEnvironment)\n                    spec.texts.warningSensorDaylight = g_i18n:getText( "warning_sensorRequiresDaylight" , self.customEnvironment)\n\n                    if g_precisionFarming ~ = nil then\n                        spec.soilMap = g_precisionFarming.soilMap\n                        spec.coverMap = g_precisionFarming.coverMap\n                        spec.nitrogenMap = g_precisionFarming.nitrogenMap\n                        spec.farmlandStatistics = g_precisionFarming.farmlandStatistics\n                    end\n                end\n            end\n\n'})}),"\n",(0,o.jsx)(e.h3,{id:"onregisteractionevents",children:"onRegisterActionEvents"}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Description"})}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Definition"})}),"\n",(0,o.jsxs)(e.blockquote,{children:["\n",(0,o.jsx)(e.p,{children:"onRegisterActionEvents()"}),"\n"]}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,o.jsxs)(e.table,{children:[(0,o.jsx)(e.thead,{children:(0,o.jsxs)(e.tr,{children:[(0,o.jsx)(e.th,{children:"any"}),(0,o.jsx)(e.th,{children:"isActiveForInput"})]})}),(0,o.jsx)(e.tbody,{children:(0,o.jsxs)(e.tr,{children:[(0,o.jsx)(e.td,{children:"any"}),(0,o.jsx)(e.td,{children:"isActiveForInputIgnoreSelection"})]})})]}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Code"})}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-lua",children:"function CropSensor:onRegisterActionEvents(isActiveForInput, isActiveForInputIgnoreSelection)\n    if self.isClient then\n        local spec = self [ CropSensor.SPEC_TABLE_NAME]\n        if spec.isAvailable then\n            self:clearActionEventsTable(spec.actionEvents)\n            if isActiveForInputIgnoreSelection then\n                local _, actionEventId = self:addActionEvent(spec.actionEvents, spec.inputActionToggle, self , CropSensor.actionEventToggle, false , true , false , true , nil )\n                g_inputBinding:setActionEventTextPriority(actionEventId, GS_PRIO_HIGH)\n                CropSensor.updateActionEventTexts( self )\n            end\n        end\n    end\nend\n\n"})}),"\n",(0,o.jsx)(e.h3,{id:"onrootvehiclechanged",children:"onRootVehicleChanged"}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Description"})}),"\n",(0,o.jsxs)(e.blockquote,{children:["\n",(0,o.jsx)(e.p,{children:"Called if root vehicle changes"}),"\n"]}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Definition"})}),"\n",(0,o.jsxs)(e.blockquote,{children:["\n",(0,o.jsx)(e.p,{children:"onRootVehicleChanged(table rootVehicle)"}),"\n"]}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,o.jsx)(e.table,{children:(0,o.jsx)(e.thead,{children:(0,o.jsxs)(e.tr,{children:[(0,o.jsx)(e.th,{children:"table"}),(0,o.jsx)(e.th,{children:"rootVehicle"}),(0,o.jsx)(e.th,{children:"root vehicle"})]})})}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Code"})}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-lua",children:'function CropSensor:onRootVehicleChanged(rootVehicle)\n    if self.isServer then\n        local spec = self [ CropSensor.SPEC_TABLE_NAME]\n        if spec.isAvailable then\n            local actionController = rootVehicle.actionController\n            if actionController ~ = nil then\n                if spec.controlledAction ~ = nil then\n                    spec.controlledAction:updateParent(actionController)\n                    return\n                end\n\n                spec.controlledAction = actionController:registerAction( "cropSensorTurnOn" , nil , 1 )\n                spec.controlledAction:setCallback( self , CropSensor.actionControllerToggleEvent)\n                spec.controlledAction:setFinishedFunctions( self , function () return spec.isActive end , true , false )\n                spec.controlledAction:setIsSaved( true )\n\n                spec.controlledAction:addAIEventListener( self , "onAIFieldWorkerStart" , 1 )\n                spec.controlledAction:addAIEventListener( self , "onAIFieldWorkerEnd" , - 1 )\n\n                spec.controlledAction:addAIEventListener( self , "onAIImplementStart" , 1 )\n                spec.controlledAction:addAIEventListener( self , "onAIImplementEnd" , - 1 )\n            else\n                    if spec.controlledAction ~ = nil then\n                        spec.controlledAction:remove()\n                    end\n                end\n            end\n        end\n    end\n\n'})}),"\n",(0,o.jsx)(e.h3,{id:"onupdate",children:"onUpdate"}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Description"})}),"\n",(0,o.jsxs)(e.blockquote,{children:["\n",(0,o.jsx)(e.p,{children:"Called on update"}),"\n"]}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Definition"})}),"\n",(0,o.jsxs)(e.blockquote,{children:["\n",(0,o.jsx)(e.p,{children:"onUpdate(float dt, boolean isActiveForInput, boolean isSelected, )"}),"\n"]}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,o.jsxs)(e.table,{children:[(0,o.jsx)(e.thead,{children:(0,o.jsxs)(e.tr,{children:[(0,o.jsx)(e.th,{children:"float"}),(0,o.jsx)(e.th,{children:"dt"}),(0,o.jsx)(e.th,{children:"time since last call in ms"})]})}),(0,o.jsxs)(e.tbody,{children:[(0,o.jsxs)(e.tr,{children:[(0,o.jsx)(e.td,{children:"boolean"}),(0,o.jsx)(e.td,{children:"isActiveForInput"}),(0,o.jsx)(e.td,{children:"true if vehicle is active for input"})]}),(0,o.jsxs)(e.tr,{children:[(0,o.jsx)(e.td,{children:"boolean"}),(0,o.jsx)(e.td,{children:"isSelected"}),(0,o.jsx)(e.td,{children:"true if vehicle is selected"})]}),(0,o.jsxs)(e.tr,{children:[(0,o.jsx)(e.td,{children:"any"}),(0,o.jsx)(e.td,{children:"isSelected"}),(0,o.jsx)(e.td,{})]})]})]}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Code"})}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-lua",children:"function CropSensor:onUpdate(dt, isActiveForInput, isActiveForInputIgnoreSelection, isSelected)\n    if self.isServer then\n        local spec = self [ CropSensor.SPEC_TABLE_NAME]\n        if spec.isAvailable and spec.isActive then\n            for i = 1 , #spec.sensorNodes do\n                local sensorNode = spec.sensorNodes[i]\n                if not sensorNode.requiresDaylight or g_currentMission.environment.isSunOn then\n                    self:updateSensorNode(sensorNode)\n                end\n            end\n        end\n    end\nend\n\n"})}),"\n",(0,o.jsx)(e.h3,{id:"prerequisitespresent",children:"prerequisitesPresent"}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Description"})}),"\n",(0,o.jsxs)(e.blockquote,{children:["\n",(0,o.jsx)(e.p,{children:"Checks if all prerequisite specializations are loaded"}),"\n"]}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Definition"})}),"\n",(0,o.jsxs)(e.blockquote,{children:["\n",(0,o.jsx)(e.p,{children:"prerequisitesPresent(table specializations)"}),"\n"]}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,o.jsx)(e.table,{children:(0,o.jsx)(e.thead,{children:(0,o.jsxs)(e.tr,{children:[(0,o.jsx)(e.th,{children:"table"}),(0,o.jsx)(e.th,{children:"specializations"}),(0,o.jsx)(e.th,{children:"specializations"})]})})}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,o.jsx)(e.table,{children:(0,o.jsx)(e.thead,{children:(0,o.jsxs)(e.tr,{children:[(0,o.jsx)(e.th,{children:"table"}),(0,o.jsx)(e.th,{children:"hasPrerequisite"}),(0,o.jsx)(e.th,{children:"true if all prerequisite specializations are loaded"})]})})}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Code"})}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-lua",children:"function CropSensor.prerequisitesPresent(specializations)\n    return SpecializationUtil.hasSpecialization( PrecisionFarmingStatistic , specializations)\nend\n\n"})}),"\n",(0,o.jsx)(e.h3,{id:"setcropsensoractive",children:"setCropSensorActive"}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Description"})}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Definition"})}),"\n",(0,o.jsxs)(e.blockquote,{children:["\n",(0,o.jsx)(e.p,{children:"setCropSensorActive()"}),"\n"]}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,o.jsxs)(e.table,{children:[(0,o.jsx)(e.thead,{children:(0,o.jsxs)(e.tr,{children:[(0,o.jsx)(e.th,{children:"any"}),(0,o.jsx)(e.th,{children:"state"})]})}),(0,o.jsx)(e.tbody,{children:(0,o.jsxs)(e.tr,{children:[(0,o.jsx)(e.td,{children:"any"}),(0,o.jsx)(e.td,{children:"noEventSend"})]})})]}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Code"})}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-lua",children:'function CropSensor:setCropSensorActive(state, noEventSend)\n    local spec = self [ CropSensor.SPEC_TABLE_NAME]\n    if state = = nil then\n        state = not spec.isActive\n    end\n\n    if state ~ = spec.isActive then\n        if self.isClient then\n            for i = 1 , #spec.sensorNodes do\n                local sensorNode = spec.sensorNodes[i]\n                if sensorNode.lightNode ~ = nil then\n                    setVisibility(sensorNode.lightNode, state)\n                end\n                if sensorNode.staticLight ~ = nil then\n                    setShaderParameter(sensorNode.staticLight, "lightIds0" , state and 0.2 or 0 , 0 , 0 , 0 , false )\n                end\n            end\n        end\n\n        if state then\n            self:updateCropSensorWorkingWidth()\n        end\n\n        spec.isActive = state\n\n        CropSensor.updateActionEventTexts( self )\n        CropSensorStateEvent.sendEvent( self , state, noEventSend)\n    end\nend\n\n'})}),"\n",(0,o.jsx)(e.h3,{id:"updateactioneventtexts",children:"updateActionEventTexts"}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Description"})}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Definition"})}),"\n",(0,o.jsxs)(e.blockquote,{children:["\n",(0,o.jsx)(e.p,{children:"updateActionEventTexts()"}),"\n"]}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,o.jsx)(e.table,{children:(0,o.jsx)(e.thead,{children:(0,o.jsxs)(e.tr,{children:[(0,o.jsx)(e.th,{children:"any"}),(0,o.jsx)(e.th,{children:"self"})]})})}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Code"})}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-lua",children:"function CropSensor.updateActionEventTexts( self )\n    local spec = self [ CropSensor.SPEC_TABLE_NAME]\n    local actionEvent = spec.actionEvents[spec.inputActionToggle]\n    if actionEvent ~ = nil then\n        g_inputBinding:setActionEventText(actionEvent.actionEventId, spec.isActive and spec.texts.toggleCropSensorNeg or spec.texts.toggleCropSensorPos)\n    end\nend\n\n"})}),"\n",(0,o.jsx)(e.h3,{id:"updatecropsensorworkingwidth",children:"updateCropSensorWorkingWidth"}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Description"})}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Definition"})}),"\n",(0,o.jsxs)(e.blockquote,{children:["\n",(0,o.jsx)(e.p,{children:"updateCropSensorWorkingWidth()"}),"\n"]}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Code"})}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-lua",children:"function CropSensor:updateCropSensorWorkingWidth()\n    local spec = self [ CropSensor.SPEC_TABLE_NAME]\n    spec.workingWidth = CropSensor.getMaxWorkingWidth( self )\n\n    for i = 1 , #spec.sensorNodes do\n        local sensorNode = spec.sensorNodes[i]\n        self:updateSensorRadius(sensorNode, spec.workingWidth)\n    end\nend\n\n"})}),"\n",(0,o.jsx)(e.h3,{id:"updatesensornode",children:"updateSensorNode"}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Description"})}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Definition"})}),"\n",(0,o.jsxs)(e.blockquote,{children:["\n",(0,o.jsx)(e.p,{children:"updateSensorNode()"}),"\n"]}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,o.jsx)(e.table,{children:(0,o.jsx)(e.thead,{children:(0,o.jsxs)(e.tr,{children:[(0,o.jsx)(e.th,{children:"any"}),(0,o.jsx)(e.th,{children:"sensorNode"})]})})}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Code"})}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-lua",children:"function CropSensor:updateSensorNode(sensorNode)\n    local spec = self [ CropSensor.SPEC_TABLE_NAME]\n\n    if sensorNode.shape:isa(DensityMapCircle) then\n        local x, _, z = getWorldTranslation(sensorNode.node)\n        sensorNode.shape:updateFromWorldPosition(x, z, sensorNode.radius, 8 )\n    elseif sensorNode.shape:isa(DensityMapPolygon) then\n            local x, _, z = getWorldTranslation(sensorNode.node)\n            local dirX, _, dirZ = localDirectionToWorld(sensorNode.node, 0 , 0 , 1 )\n            dirX, dirZ = MathUtil.vector2Normalize(dirX, dirZ)\n            sensorNode.shape:updateOrigin(x, z, dirX, dirZ)\n            sensorNode.shape:updateScale(sensorNode.radius, sensorNode.radius)\n        end\n\n        spec.nitrogenMap:updateCropSensorArea(sensorNode.shape)\n    end\n\n"})}),"\n",(0,o.jsx)(e.h3,{id:"updatesensorradius",children:"updateSensorRadius"}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Description"})}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Definition"})}),"\n",(0,o.jsxs)(e.blockquote,{children:["\n",(0,o.jsx)(e.p,{children:"updateSensorRadius()"}),"\n"]}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,o.jsxs)(e.table,{children:[(0,o.jsx)(e.thead,{children:(0,o.jsxs)(e.tr,{children:[(0,o.jsx)(e.th,{children:"any"}),(0,o.jsx)(e.th,{children:"sensorNode"})]})}),(0,o.jsx)(e.tbody,{children:(0,o.jsxs)(e.tr,{children:[(0,o.jsx)(e.td,{children:"any"}),(0,o.jsx)(e.td,{children:"workingWidth"})]})})]}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.strong,{children:"Code"})}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-lua",children:"function CropSensor:updateSensorRadius(sensorNode, workingWidth)\n    if workingWidth > 0 then\n        local xOffset, _, _ = localToLocal(sensorNode.node, self.rootNode, 0 , 0 , 0 )\n\n        -- 10% wider as the working width\n        workingWidth = workingWidth * 1.1\n\n        sensorNode.radius = math.max(workingWidth / 2 - math.abs(xOffset), CropSensor.MIN_SENSOR_RADIUS)\n    else\n            sensorNode.radius = sensorNode.origRadius\n        end\n    end\n\n"})})]})}function h(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,o.jsx)(e,{...n,children:(0,o.jsx)(a,{...n})}):a(n)}}}]);