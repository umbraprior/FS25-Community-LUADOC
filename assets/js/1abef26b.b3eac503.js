"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[12922],{11803(e,n,r){r.r(n),r.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>p,frontMatter:()=>d,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"script/Specializations/WeedSpotSpray","title":"WeedSpotSpray","description":"WeedSpotSpray","source":"@site/../docs/script/Specializations/WeedSpotSpray.md","sourceDirName":"script/Specializations","slug":"/script/Specializations/WeedSpotSpray","permalink":"/FS25-Community-LUADOC/script/Specializations/WeedSpotSpray","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"Wearable","permalink":"/FS25-Community-LUADOC/script/Specializations/Wearable"},"next":{"title":"Weeder","permalink":"/FS25-Community-LUADOC/script/Specializations/Weeder"}}');var i=r(74848),t=r(28453);const d={},l=void 0,a={},c=[{value:"WeedSpotSpray",id:"weedspotspray",level:2},{value:"addExtendedSprayerNozzleEffect",id:"addextendedsprayernozzleeffect",level:3},{value:"addWeedSpotSpraySensorNodes",id:"addweedspotspraysensornodes",level:3},{value:"getIsSpotSprayEnabled",id:"getisspotsprayenabled",level:3},{value:"getSprayerUsage",id:"getsprayerusage",level:3},{value:"initSpecialization",id:"initspecialization",level:3},{value:"loadWorkAreaFromXML",id:"loadworkareafromxml",level:3},{value:"onEndWorkAreaProcessing",id:"onendworkareaprocessing",level:3},{value:"onLoad",id:"onload",level:3},{value:"onPreLoad",id:"onpreload",level:3},{value:"prerequisitesPresent",id:"prerequisitespresent",level:3},{value:"registerEventListeners",id:"registereventlisteners",level:3},{value:"registerFunctions",id:"registerfunctions",level:3},{value:"registerOverwrittenFunctions",id:"registeroverwrittenfunctions",level:3},{value:"updateExtendedSprayerNozzleEffectState",id:"updateextendedsprayernozzleeffectstate",level:3}];function o(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"weedspotspray",children:"WeedSpotSpray"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Specialization for spot spraying of weeds"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Functions"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#addextendedsprayernozzleeffect",children:"addExtendedSprayerNozzleEffect"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#addweedspotspraysensornodes",children:"addWeedSpotSpraySensorNodes"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getisspotsprayenabled",children:"getIsSpotSprayEnabled"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getsprayerusage",children:"getSprayerUsage"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#initspecialization",children:"initSpecialization"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#loadworkareafromxml",children:"loadWorkAreaFromXML"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onendworkareaprocessing",children:"onEndWorkAreaProcessing"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onload",children:"onLoad"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onpreload",children:"onPreLoad"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#prerequisitespresent",children:"prerequisitesPresent"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#registereventlisteners",children:"registerEventListeners"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#registerfunctions",children:"registerFunctions"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#registeroverwrittenfunctions",children:"registerOverwrittenFunctions"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#updateextendedsprayernozzleeffectstate",children:"updateExtendedSprayerNozzleEffectState"})}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"addextendedsprayernozzleeffect",children:"addExtendedSprayerNozzleEffect"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"addExtendedSprayerNozzleEffect()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"superFunc"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"effectData"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"effectNode"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"linkNode"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"linkNodeData"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function WeedSpotSpray:addExtendedSprayerNozzleEffect(superFunc, effectData, effectNode, linkNode, linkNodeData)\n    if not superFunc( self , effectData, effectNode, linkNode, linkNodeData) then\n        return false\n    end\n\n    return true\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"addweedspotspraysensornodes",children:"addWeedSpotSpraySensorNodes"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"addWeedSpotSpraySensorNodes()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"linkData"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function WeedSpotSpray:addWeedSpotSpraySensorNodes(linkData)\n    for _, sensorNodeData in pairs(linkData.sensorNodes) do\n        local linkNode\n        if sensorNodeData.nodeName ~ = nil then\n            if self.i3dMappings[sensorNodeData.nodeName] ~ = nil then\n                linkNode = self.i3dMappings[sensorNodeData.nodeName].nodeId\n            end\n        end\n\n        if linkNode ~ = nil then\n            local sensorNode, hasBracket = g_precisionFarming:getClonedSprayerWeedSensorNode(sensorNodeData.id)\n            if sensorNode ~ = nil then\n                link(linkNode, sensorNode)\n                setTranslation(sensorNode, sensorNodeData.translation[ 1 ], sensorNodeData.translation[ 2 ], sensorNodeData.translation[ 3 ])\n                setRotation(sensorNode, sensorNodeData.rotation[ 1 ], sensorNodeData.rotation[ 2 ], sensorNodeData.rotation[ 3 ])\n\n                if hasBracket and sensorNodeData.bracketSize ~ = 1 then\n                    setScale(getChildAt(sensorNode, 0 ), 1 , sensorNodeData.bracketSize, sensorNodeData.bracketSize)\n                end\n            end\n        end\n    end\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getisspotsprayenabled",children:"getIsSpotSprayEnabled"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getIsSpotSprayEnabled()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function WeedSpotSpray:getIsSpotSprayEnabled()\n    return self [ WeedSpotSpray.SPEC_TABLE_NAME].isEnabled\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getsprayerusage",children:"getSprayerUsage"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getSprayerUsage()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"superFunc"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"fillType"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"dt"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function WeedSpotSpray:getSprayerUsage(superFunc, fillType, dt)\n    local spec = self [ WeedSpotSpray.SPEC_TABLE_NAME]\n\n    local usage = superFunc( self , fillType, dt)\n    spec.lastRegularUsage = usage\n\n    if self.getNumExtendedSprayerNozzleEffectsActive ~ = nil then\n        local _, alpha = self:getNumExtendedSprayerNozzleEffectsActive()\n        usage = usage * alpha\n    end\n\n    return usage\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"initspecialization",children:"initSpecialization"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"initSpecialization()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function WeedSpotSpray.initSpecialization()\n    g_vehicleConfigurationManager:addConfigurationType( "weedSpotSpray" , g_i18n:getText( "configuration_weedSpotSpray" ), "weedSpotSpray" , VehicleConfigurationItem )\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"loadworkareafromxml",children:"loadWorkAreaFromXML"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"loadWorkAreaFromXML()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"superFunc"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"workArea"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"xmlFile"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"key"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function WeedSpotSpray:loadWorkAreaFromXML(superFunc, workArea, xmlFile, key)\n    if not superFunc( self , workArea, xmlFile, key) then\n        return false\n    end\n\n    if self [ WeedSpotSpray.SPEC_TABLE_NAME].isEnabled then\n        workArea.disableBackwards = true -- do not allow backwards spraying as the cameras are in front of the sprayer\n        end\n\n        return true\n    end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"onendworkareaprocessing",children:"onEndWorkAreaProcessing"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onEndWorkAreaProcessing()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"dt"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function WeedSpotSpray:onEndWorkAreaProcessing(dt)\n    local spec = self [ WeedSpotSpray.SPEC_TABLE_NAME]\n\n    if self:getLastSpeed() > 0.5 then\n        local specSprayer = self.spec_sprayer\n        if self.isServer then\n            if specSprayer.workAreaParameters.isActive then\n                local sprayFillType = specSprayer.workAreaParameters.sprayFillType\n                if sprayFillType = = FillType.HERBICIDE then\n                    local sprayVehicle = specSprayer.workAreaParameters.sprayVehicle\n                    local usage = specSprayer.workAreaParameters.usage\n                    if sprayVehicle ~ = nil or self:getIsAIActive() then\n                        self:updatePFStatistic( "usedHerbicide" , usage)\n                        self:updatePFStatistic( "usedHerbicideRegular" , spec.lastRegularUsage)\n                    end\n                end\n            end\n        end\n    end\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"onload",children:"onLoad"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onLoad()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"savegame"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function WeedSpotSpray:onLoad(savegame)\n    local spec = self [ WeedSpotSpray.SPEC_TABLE_NAME]\n\n    spec.lastRegularUsage = 0\n\n    spec.weedDetectionStates = { }\n    local weedSystem = g_currentMission.weedSystem\n    local replacementData = weedSystem:getHerbicideReplacements()\n    if replacementData.weed ~ = nil then\n        for sourceState, targetState in pairs(replacementData.weed.replacements) do\n            if targetState ~ = 0 then -- ignore preventative spraying\n                spec.weedDetectionStates[sourceState] = true\n            end\n        end\n    end\n\n    if spec.isEnabled then\n        if g_precisionFarming ~ = nil then\n            local linkData, _ = g_precisionFarming:getSprayerNodeData( self.configFileName, self.configurations)\n            if linkData ~ = nil then\n                self:addWeedSpotSpraySensorNodes(linkData)\n            end\n        end\n    end\n\n    spec.weedMapId, spec.weedFirstChannel, spec.weedNumChannels = g_currentMission.weedSystem:getDensityMapData()\n    spec.groundTypeMapId, spec.groundTypeFirstChannel, spec.groundTypeNumChannels = g_currentMission.fieldGroundSystem:getDensityMapData(FieldDensityMap.GROUND_TYPE)\n    spec.sprayTypeMapId, spec.sprayTypeFirstChannel, spec.sprayTypeNumChannels = g_currentMission.fieldGroundSystem:getDensityMapData(FieldDensityMap.SPRAY_TYPE)\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"onpreload",children:"onPreLoad"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onPreLoad()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"savegame"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function WeedSpotSpray:onPreLoad(savegame)\n    local spec = self [ WeedSpotSpray.SPEC_TABLE_NAME]\n\n    spec.isEnabled = ( self.configurations[ "weedSpotSpray" ] or 1 ) > 1\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"prerequisitespresent",children:"prerequisitesPresent"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Checks if all prerequisite specializations are loaded"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"prerequisitesPresent(table specializations)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"table"}),(0,i.jsx)(n.th,{children:"specializations"}),(0,i.jsx)(n.th,{children:"specializations"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"table"}),(0,i.jsx)(n.th,{children:"hasPrerequisite"}),(0,i.jsx)(n.th,{children:"true if all prerequisite specializations are loaded"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function WeedSpotSpray.prerequisitesPresent(specializations)\n    return SpecializationUtil.hasSpecialization( Sprayer , specializations) and SpecializationUtil.hasSpecialization( PrecisionFarmingStatistic , specializations)\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"registereventlisteners",children:"registerEventListeners"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"registerEventListeners()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function WeedSpotSpray.registerEventListeners(vehicleType)\n    SpecializationUtil.registerEventListener(vehicleType, "onPreLoad" , WeedSpotSpray )\n    SpecializationUtil.registerEventListener(vehicleType, "onLoad" , WeedSpotSpray )\n    SpecializationUtil.registerEventListener(vehicleType, "onEndWorkAreaProcessing" , WeedSpotSpray )\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"registerfunctions",children:"registerFunctions"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"registerFunctions()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function WeedSpotSpray.registerFunctions(vehicleType)\n    SpecializationUtil.registerFunction(vehicleType, "getIsSpotSprayEnabled" , WeedSpotSpray.getIsSpotSprayEnabled)\n    SpecializationUtil.registerFunction(vehicleType, "addWeedSpotSpraySensorNodes" , WeedSpotSpray.addWeedSpotSpraySensorNodes)\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"registeroverwrittenfunctions",children:"registerOverwrittenFunctions"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"registerOverwrittenFunctions()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function WeedSpotSpray.registerOverwrittenFunctions(vehicleType)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getSprayerUsage" , WeedSpotSpray.getSprayerUsage)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "addExtendedSprayerNozzleEffect" , WeedSpotSpray.addExtendedSprayerNozzleEffect)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "updateExtendedSprayerNozzleEffectState" , WeedSpotSpray.updateExtendedSprayerNozzleEffectState)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "loadWorkAreaFromXML" , WeedSpotSpray.loadWorkAreaFromXML)\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"updateextendedsprayernozzleeffectstate",children:"updateExtendedSprayerNozzleEffectState"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"updateExtendedSprayerNozzleEffectState()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"superFunc"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"effectData"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"dt"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"isTurnedOn"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"lastSpeed"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function WeedSpotSpray:updateExtendedSprayerNozzleEffectState(superFunc, effectData, dt, isTurnedOn, lastSpeed)\n    local isActive, amountScale = superFunc( self , effectData, dt, isTurnedOn, lastSpeed)\n\n    local spec = self [ WeedSpotSpray.SPEC_TABLE_NAME]\n    if isActive and spec.isEnabled then\n        if self.movingDirection < 0 or(lastSpeed or 0 ) < 0.25 then\n            isActive = false\n        end\n    end\n\n    if isActive then\n        local sprayFillType = self.spec_sprayer.workAreaParameters.sprayFillType\n        if sprayFillType = = FillType.HERBICIDE then\n            if spec.isEnabled then\n                local x, y, z = localToWorld(effectData.effectNode, 0 , 0 , 1 )\n                local densityBits = getDensityAtWorldPos(spec.weedMapId, x, y, z)\n                local weedState = bit32.band(bit32.rshift(densityBits, spec.weedFirstChannel), 2 ^ spec.weedNumChannels - 1 )\n\n                if not spec.weedDetectionStates[weedState] then\n                    isActive = false\n                end\n            else\n                    local x, y, z = localToWorld(effectData.effectNode, 0 , 0 , 1 )\n                    local densityBitsGround = getDensityAtWorldPos(spec.groundTypeMapId, x, y, z)\n                    local groundTypeValue = bit32.band(bit32.rshift(densityBitsGround, spec.groundTypeFirstChannel), 2 ^ spec.groundTypeNumChannels - 1 )\n                    local groundType = FieldGroundType.getTypeByValue(groundTypeValue)\n\n                    if groundType = = FieldGroundType.NONE then\n                        isActive = false\n                    end\n                end\n            elseif sprayFillType = = FillType.LIQUIDFERTILIZER then\n                    local x, y, z = localToWorld(effectData.effectNode, 0 , 0 , 1.5 )\n                    local densityBitsGround = getDensityAtWorldPos(spec.groundTypeMapId, x, y, z)\n                    local groundTypeValue = bit32.band(bit32.rshift(densityBitsGround, spec.groundTypeFirstChannel), 2 ^ spec.groundTypeNumChannels - 1 )\n                    local groundType = FieldGroundType.getTypeByValue(groundTypeValue)\n\n                    if groundType = = FieldGroundType.NONE then\n                        isActive = false\n                    end\n\n                    if isActive then\n                        local densityBitsSpray = densityBitsGround\n                        if spec.sprayTypeMapId ~ = spec.groundTypeMapId then\n                            densityBitsSpray = getDensityAtWorldPos(spec.sprayTypeMapId, x, y, z)\n                        end\n\n                        local sprayValue = bit32.band(bit32.rshift(densityBitsSpray, spec.sprayTypeFirstChannel), 2 ^ spec.sprayTypeNumChannels - 1 )\n                        local sprayType = FieldSprayType.getTypeByValue(sprayValue)\n\n                        if sprayType = = FieldSprayType.FERTILIZER then\n                            isActive = false\n                        end\n                    end\n                end\n            end\n\n            return isActive, amountScale\n        end\n\n"})})]})}function p(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},28453(e,n,r){r.d(n,{R:()=>d,x:()=>l});var s=r(96540);const i={},t=s.createContext(i);function d(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);