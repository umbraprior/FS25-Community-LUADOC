"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[73781],{28453(e,n,r){r.d(n,{R:()=>l,x:()=>d});var i=r(96540);const s={},t=i.createContext(s);function l(e){const n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),i.createElement(t.Provider,{value:n},e.children)}},65231(e,n,r){r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"script/Specializations/Tedder","title":"Tedder","description":"Tedder","source":"@site/../docs/script/Specializations/Tedder.md","sourceDirName":"script/Specializations","slug":"/script/Specializations/Tedder","permalink":"/FS25-Community-LUADOC/script/Specializations/Tedder","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"Suspensions","permalink":"/FS25-Community-LUADOC/script/Specializations/Suspensions"},"next":{"title":"TensionBeltObject","permalink":"/FS25-Community-LUADOC/script/Specializations/TensionBeltObject"}}');var s=r(74848),t=r(28453);const l={},d=void 0,c={},a=[{value:"Tedder",id:"tedder",level:2},{value:"doCheckSpeedLimit",id:"docheckspeedlimit",level:3},{value:"getDefaultSpeedLimit",id:"getdefaultspeedlimit",level:3},{value:"getDirtMultiplier",id:"getdirtmultiplier",level:3},{value:"getWearMultiplier",id:"getwearmultiplier",level:3},{value:"initSpecialization",id:"initspecialization",level:3},{value:"loadWorkAreaFromXML",id:"loadworkareafromxml",level:3},{value:"onAIFieldCourseSettingsInitialized",id:"onaifieldcoursesettingsinitialized",level:3},{value:"onDeactivate",id:"ondeactivate",level:3},{value:"onDelete",id:"ondelete",level:3},{value:"onEndWorkAreaProcessing",id:"onendworkareaprocessing",level:3},{value:"onLoad",id:"onload",level:3},{value:"onPostLoad",id:"onpostload",level:3},{value:"onReadStream",id:"onreadstream",level:3},{value:"onReadUpdateStream",id:"onreadupdatestream",level:3},{value:"onStartWorkAreaProcessing",id:"onstartworkareaprocessing",level:3},{value:"onTurnedOff",id:"onturnedoff",level:3},{value:"onTurnedOn",id:"onturnedon",level:3},{value:"onUpdateTick",id:"onupdatetick",level:3},{value:"onWriteStream",id:"onwritestream",level:3},{value:"onWriteUpdateStream",id:"onwriteupdatestream",level:3},{value:"preprocessTedderArea",id:"preprocesstedderarea",level:3},{value:"prerequisitesPresent",id:"prerequisitespresent",level:3},{value:"processDropArea",id:"processdroparea",level:3},{value:"processTedderArea",id:"processtedderarea",level:3},{value:"registerEventListeners",id:"registereventlisteners",level:3},{value:"registerFunctions",id:"registerfunctions",level:3},{value:"registerOverwrittenFunctions",id:"registeroverwrittenfunctions",level:3}];function o(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"tedder",children:"Tedder"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Specialization for tedders providing dropAreas and fruitType conversion"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Functions"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#docheckspeedlimit",children:"doCheckSpeedLimit"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getdefaultspeedlimit",children:"getDefaultSpeedLimit"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getdirtmultiplier",children:"getDirtMultiplier"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getwearmultiplier",children:"getWearMultiplier"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#initspecialization",children:"initSpecialization"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#loadworkareafromxml",children:"loadWorkAreaFromXML"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onaifieldcoursesettingsinitialized",children:"onAIFieldCourseSettingsInitialized"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#ondeactivate",children:"onDeactivate"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#ondelete",children:"onDelete"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onendworkareaprocessing",children:"onEndWorkAreaProcessing"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onload",children:"onLoad"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onpostload",children:"onPostLoad"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onreadstream",children:"onReadStream"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onreadupdatestream",children:"onReadUpdateStream"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onstartworkareaprocessing",children:"onStartWorkAreaProcessing"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onturnedoff",children:"onTurnedOff"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onturnedon",children:"onTurnedOn"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onupdatetick",children:"onUpdateTick"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onwritestream",children:"onWriteStream"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onwriteupdatestream",children:"onWriteUpdateStream"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#preprocesstedderarea",children:"preprocessTedderArea"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#prerequisitespresent",children:"prerequisitesPresent"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#processdroparea",children:"processDropArea"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#processtedderarea",children:"processTedderArea"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#registereventlisteners",children:"registerEventListeners"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#registerfunctions",children:"registerFunctions"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#registeroverwrittenfunctions",children:"registerOverwrittenFunctions"})}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"docheckspeedlimit",children:"doCheckSpeedLimit"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"doCheckSpeedLimit()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Tedder:doCheckSpeedLimit(superFunc)\n    return superFunc( self ) or( self:getIsTurnedOn() and self:getIsImplementChainLowered())\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getdefaultspeedlimit",children:"getDefaultSpeedLimit"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getDefaultSpeedLimit()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Tedder.getDefaultSpeedLimit()\n    return 15\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getdirtmultiplier",children:"getDirtMultiplier"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getDirtMultiplier()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Tedder:getDirtMultiplier(superFunc)\n    local spec = self.spec_tedder\n\n    local multiplier = superFunc( self )\n\n    if spec.isWorking then\n        multiplier = multiplier + self:getWorkDirtMultiplier() * self:getLastSpeed() / self.speedLimit\n    end\n\n    return multiplier\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getwearmultiplier",children:"getWearMultiplier"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getWearMultiplier()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Tedder:getWearMultiplier(superFunc)\n    local spec = self.spec_tedder\n\n    local multiplier = superFunc( self )\n\n    if spec.isWorking then\n        local stoneMultiplier = 1\n        if spec.stoneLastState ~ = 0 and spec.stoneWearMultiplierData ~ = nil then\n            stoneMultiplier = spec.stoneWearMultiplierData[spec.stoneLastState] or 1\n        end\n\n        multiplier = multiplier + self:getWorkWearMultiplier() * self:getLastSpeed() / self.speedLimit * stoneMultiplier\n    end\n\n    return multiplier\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"initspecialization",children:"initSpecialization"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"initSpecialization()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function Tedder.initSpecialization()\n    g_workAreaTypeManager:addWorkAreaType( "tedder" , false , true , true )\n\n    local schema = Vehicle.xmlSchema\n    schema:setXMLSpecializationType( "Tedder" )\n\n    schema:register(XMLValueType.STRING, "vehicle.tedder#fillTypeConverter" , "Fill type converter name" )\n    EffectManager.registerEffectXMLPaths(schema, "vehicle.tedder.effects.effect(?)" )\n    schema:register(XMLValueType.INT, "vehicle.tedder.effects.effect(?)#workAreaIndex" , "Work area index" , 1 )\n    SoundManager.registerSampleXMLPaths(schema, "vehicle.tedder.effects.effect(?).sounds" , "work" )\n\n    AnimationManager.registerAnimationNodesXMLPaths(schema, "vehicle.tedder.animationNodes" )\n    SoundManager.registerSampleXMLPaths(schema, "vehicle.tedder.sounds" , "work(?)" )\n\n    schema:register(XMLValueType.INT, WorkArea.WORK_AREA_XML_KEY .. ".tedder#dropWindrowWorkAreaIndex" , "Drop work area index" , 1 )\n    schema:register(XMLValueType.INT, WorkArea.WORK_AREA_XML_CONFIG_KEY .. ".tedder#dropWindrowWorkAreaIndex" , "Drop work area index" , 1 )\n\n    schema:setXMLSpecializationType()\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"loadworkareafromxml",children:"loadWorkAreaFromXML"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"loadWorkAreaFromXML()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"superFunc"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"workArea"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"xmlFile"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"key"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function Tedder:loadWorkAreaFromXML(superFunc, workArea, xmlFile, key)\n    local retValue = superFunc( self , workArea, xmlFile, key)\n\n    if workArea.type = = WorkAreaType.DEFAULT then\n        workArea.type = WorkAreaType.TEDDER\n    end\n\n    if workArea.type = = WorkAreaType.TEDDER then\n        workArea.dropWindrowWorkAreaIndex = xmlFile:getValue(key .. ".tedder#dropWindrowWorkAreaIndex" , 1 )\n        workArea.litersToDrop = 0\n        workArea.lastPickupLiters = 0\n        workArea.lastDropFillType = FillType.UNKNOWN\n        workArea.lastDroppedLiters = 0\n        workArea.tedderParticlesActive = false\n        workArea.tedderParticlesActiveSent = false\n\n        local spec = self.spec_tedder\n        if spec.tedderWorkAreaFillTypes = = nil then\n            spec.tedderWorkAreaFillTypes = { }\n        end\n        table.insert(spec.tedderWorkAreaFillTypes, FruitType.UNKNOWN)\n        workArea.tedderWorkAreaIndex = #spec.tedderWorkAreaFillTypes\n    end\n\n    return retValue\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"onaifieldcoursesettingsinitialized",children:"onAIFieldCourseSettingsInitialized"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onAIFieldCourseSettingsInitialized()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"fieldCourseSettings"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Tedder:onAIFieldCourseSettingsInitialized(fieldCourseSettings)\n    fieldCourseSettings.headlandsFirst = true\n    fieldCourseSettings.workInitialSegment = true\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"ondeactivate",children:"onDeactivate"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onDeactivate()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Tedder:onDeactivate()\n    if self.isClient then\n        local spec = self.spec_tedder\n        for _, effect in ipairs(spec.effects) do\n            g_effectManager:stopEffects(effect.effects)\n        end\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"ondelete",children:"onDelete"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onDelete()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Tedder:onDelete()\n    local spec = self.spec_tedder\n\n    if spec.effects ~ = nil then\n        for _, effect in ipairs(spec.effects) do\n            g_effectManager:deleteEffects(effect.effects)\n\n            if effect.samples ~ = nil then\n                g_soundManager:deleteSample(effect.samples.work)\n            end\n        end\n    end\n\n    if spec.samples ~ = nil then\n        g_soundManager:deleteSamples(spec.samples.work)\n    end\n\n    g_animationManager:deleteAnimations(spec.animationNodes)\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onendworkareaprocessing",children:"onEndWorkAreaProcessing"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onEndWorkAreaProcessing()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"dt"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"hasProcessed"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Tedder:onEndWorkAreaProcessing(dt, hasProcessed)\n    local spec = self.spec_tedder\n\n    spec.isWorking = spec.lastDroppedLiters > 0\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onload",children:"onLoad"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onLoad()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"savegame"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function Tedder:onLoad(savegame)\n    local spec = self.spec_tedder\n\n    spec.fillTypeConverters = { }\n    spec.fillTypeConvertersReverse = { }\n    local converter = self.xmlFile:getValue( "vehicle.tedder#fillTypeConverter" )\n    if converter ~ = nil then\n        local data = g_fillTypeManager:getConverterDataByName(converter)\n        if data ~ = nil then\n            for input , converted in pairs(data) do\n                spec.fillTypeConverters[ input ] = converted\n\n                if spec.fillTypeConvertersReverse[converted.targetFillTypeIndex] = = nil then\n                    spec.fillTypeConvertersReverse[converted.targetFillTypeIndex] = { }\n                end\n                table.insert(spec.fillTypeConvertersReverse[converted.targetFillTypeIndex], input )\n            end\n        end\n    else\n            printWarning( string.format( "Warning:Missing fill type converter in \'%s\'" , self.configFileName))\n        end\n\n        if self.isClient then\n            spec.animationNodes = g_animationManager:loadAnimations( self.xmlFile, "vehicle.tedder.animationNodes" , self.components, self , self.i3dMappings)\n\n            spec.effects = { }\n            spec.workAreaToEffects = { }\n            local i = 0\n            while true do\n                local key = string.format( "vehicle.tedder.effects.effect(%d)" , i)\n                if not self.xmlFile:hasProperty(key) then\n                    break\n                end\n                local effects = g_effectManager:loadEffect( self.xmlFile, key, self.components, self , self.i3dMappings)\n                if effects ~ = nil then\n                    local effect = { }\n                    effect.effects = effects\n                    effect.workAreaIndex = self.xmlFile:getValue(key .. "#workAreaIndex" , 1 )\n                    effect.activeTime = - 1\n                    effect.activeTimeDuration = 250\n                    effect.isActive = false\n                    effect.isActiveSent = false\n\n                    effect.samples = { }\n                    effect.samples.work = g_soundManager:loadSampleFromXML( self.xmlFile, key .. ".sounds" , "work" , self.baseDirectory, self.components, 0 , AudioGroup.VEHICLE, self.i3dMappings, self )\n\n                    table.insert(spec.effects, effect)\n                end\n                i = i + 1\n            end\n\n            spec.samples = { }\n            spec.samples.work = g_soundManager:loadSamplesFromXML( self.xmlFile, "vehicle.tedder.sounds" , "work" , self.baseDirectory, self.components, 0 , AudioGroup.VEHICLE, self.i3dMappings, self )\n        end\n\n        spec.lastDroppedLiters = 0\n\n        spec.stoneLastState = 0\n        spec.stoneWearMultiplierData = g_currentMission.stoneSystem:getWearMultiplierByType( "TEDDER" )\n\n        spec.fillTypesDirtyFlag = self:getNextDirtyFlag()\n        spec.effectDirtyFlag = self:getNextDirtyFlag()\n\n        if self.addAIDensityHeightTypeRequirement ~ = nil then\n            self:addAIDensityHeightTypeRequirement(FillType.GRASS_WINDROW)\n        end\n    end\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"onpostload",children:"onPostLoad"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onPostLoad()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"savegame"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Tedder:onPostLoad(savegame)\n    local spec = self.spec_tedder\n    for i = #spec.effects, 1 , - 1 do\n        local effect = spec.effects[i]\n        local workArea = self:getWorkAreaByIndex(effect.workAreaIndex)\n        if workArea ~ = nil then\n            effect.tedderWorkAreaFillTypeIndex = workArea.tedderWorkAreaIndex\n\n            if spec.workAreaToEffects[workArea.index] = = nil then\n                spec.workAreaToEffects[workArea.index] = { }\n            end\n            table.insert(spec.workAreaToEffects[workArea.index], effect)\n        else\n                Logging.xmlWarning( self.xmlFile, \"Invalid workAreaIndex '%d' for effect 'vehicle.tedder.effects.effect(%d)'!\" , effect.workAreaIndex, i)\n                    table.insert(spec.effects, i)\n                end\n            end\n\n            if not self.isServer then\n                SpecializationUtil.removeEventListener( self , \"onUpdateTick\" , Tedder )\n            end\n        end\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onreadstream",children:"onReadStream"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onReadStream()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"streamId"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"connection"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Tedder:onReadStream(streamId, connection)\n    local spec = self.spec_tedder\n    for index, _ in ipairs(spec.tedderWorkAreaFillTypes) do\n        local fillType = streamReadUIntN(streamId, FillTypeManager.SEND_NUM_BITS)\n        spec.tedderWorkAreaFillTypes[index] = fillType\n    end\n    for _, effect in ipairs(spec.effects) do\n        if streamReadBool(streamId) then\n            local fillType = spec.tedderWorkAreaFillTypes[effect.tedderWorkAreaFillTypeIndex]\n            g_effectManager:setEffectTypeInfo(effect.effects, fillType)\n            g_effectManager:startEffects(effect.effects)\n        else\n                g_effectManager:stopEffects(effect.effects)\n            end\n        end\n    end\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onreadupdatestream",children:"onReadUpdateStream"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onReadUpdateStream()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"streamId"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"timestamp"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"connection"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Tedder:onReadUpdateStream(streamId, timestamp, connection)\n    if connection:getIsServer() then\n        local spec = self.spec_tedder\n\n        if streamReadBool(streamId) then\n            for index, _ in ipairs(spec.tedderWorkAreaFillTypes) do\n                local fillType = streamReadUIntN(streamId, FillTypeManager.SEND_NUM_BITS)\n                spec.tedderWorkAreaFillTypes[index] = fillType\n            end\n        end\n\n        if streamReadBool(streamId) then\n            local anyEffectActive = false\n            for _, effect in ipairs(spec.effects) do\n                if streamReadBool(streamId) then\n                    local fillType = spec.tedderWorkAreaFillTypes[effect.tedderWorkAreaFillTypeIndex]\n                    g_effectManager:setEffectTypeInfo(effect.effects, fillType)\n                    g_effectManager:startEffects(effect.effects)\n                    anyEffectActive = true\n\n                    if not g_soundManager:getIsSamplePlaying(effect.samples.work) then\n                        g_soundManager:playSample(effect.samples.work)\n                    end\n                else\n                        g_effectManager:stopEffects(effect.effects)\n                        g_soundManager:stopSample(effect.samples.work)\n                    end\n                end\n\n                if anyEffectActive then\n                    if not g_soundManager:getIsSamplePlaying(spec.samples.work[ 1 ]) then\n                        g_soundManager:playSamples(spec.samples.work)\n                    end\n                else\n                        g_soundManager:stopSamples(spec.samples.work)\n                    end\n                end\n            end\n        end\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onstartworkareaprocessing",children:"onStartWorkAreaProcessing"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onStartWorkAreaProcessing()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"dt"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Tedder:onStartWorkAreaProcessing(dt)\n    local spec = self.spec_tedder\n\n    spec.lastDroppedLiters = 0\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onturnedoff",children:"onTurnedOff"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Called on turn off"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onTurnedOff(boolean noEventSend)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"boolean"}),(0,s.jsx)(n.th,{children:"noEventSend"}),(0,s.jsx)(n.th,{children:"no event send"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Tedder:onTurnedOff()\n    if self.isClient then\n        local spec = self.spec_tedder\n        g_animationManager:stopAnimations(spec.animationNodes)\n        for _, effect in ipairs(spec.effects) do\n            g_effectManager:stopEffects(effect.effects)\n        end\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onturnedon",children:"onTurnedOn"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Called on turn off"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onTurnedOn(boolean noEventSend)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"boolean"}),(0,s.jsx)(n.th,{children:"noEventSend"}),(0,s.jsx)(n.th,{children:"no event send"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Tedder:onTurnedOn()\n    if self.isClient then\n        local spec = self.spec_tedder\n        g_animationManager:startAnimations(spec.animationNodes)\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onupdatetick",children:"onUpdateTick"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onUpdateTick()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"dt"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"isActiveForInput"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"isActiveForInputIgnoreSelection"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"isSelected"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Tedder:onUpdateTick(dt, isActiveForInput, isActiveForInputIgnoreSelection, isSelected)\n    local spec = self.spec_tedder\n    if self.isServer then\n        local anyEffectActive = false\n        for _, effect in ipairs(spec.effects) do\n            if effect.isActive and g_currentMission.time > effect.activeTime then\n                effect.isActive = false\n                if effect.isActiveSent then\n                    effect.isActiveSent = false\n                    self:raiseDirtyFlags(spec.effectDirtyFlag)\n                end\n\n                if self.isClient then\n                    g_effectManager:stopEffects(effect.effects)\n                    g_soundManager:stopSample(effect.samples.work)\n                end\n            end\n\n            anyEffectActive = anyEffectActive or effect.isActive\n        end\n\n        if self.isClient then\n            if not anyEffectActive then\n                g_soundManager:stopSamples(spec.samples.work)\n            end\n        end\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onwritestream",children:"onWriteStream"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onWriteStream()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"streamId"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"connection"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Tedder:onWriteStream(streamId, connection)\n    local spec = self.spec_tedder\n    for _, fillTypeIndex in ipairs(spec.tedderWorkAreaFillTypes) do\n        streamWriteUIntN(streamId, fillTypeIndex, FillTypeManager.SEND_NUM_BITS)\n    end\n    for _, effect in ipairs(spec.effects) do\n        streamWriteBool(streamId, effect.isActiveSent)\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onwriteupdatestream",children:"onWriteUpdateStream"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onWriteUpdateStream()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"streamId"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"connection"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"dirtyMask"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Tedder:onWriteUpdateStream(streamId, connection, dirtyMask)\n    if not connection:getIsServer() then\n        local spec = self.spec_tedder\n\n        if streamWriteBool(streamId, bit32.band(dirtyMask, spec.fillTypesDirtyFlag) ~ = 0 ) then\n            for _, fillTypeIndex in ipairs(spec.tedderWorkAreaFillTypes) do\n                streamWriteUIntN(streamId, fillTypeIndex, FillTypeManager.SEND_NUM_BITS)\n            end\n        end\n\n        if streamWriteBool(streamId, bit32.band(dirtyMask, spec.effectDirtyFlag) ~ = 0 ) then\n            for _, effect in ipairs(spec.effects) do\n                streamWriteBool(streamId, effect.isActiveSent)\n            end\n        end\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"preprocesstedderarea",children:"preprocessTedderArea"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"preprocessTedderArea()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"workArea"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Tedder:preprocessTedderArea(workArea)\n    workArea.lastPickupLiters = 0\n    workArea.lastDroppedLiters = 0\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"prerequisitespresent",children:"prerequisitesPresent"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"prerequisitesPresent()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"specializations"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Tedder.prerequisitesPresent(specializations)\n    return SpecializationUtil.hasSpecialization( WorkArea , specializations) and SpecializationUtil.hasSpecialization( TurnOnVehicle , specializations)\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"processdroparea",children:"processDropArea"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"processDropArea()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"dropArea"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"fillType"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"litersToDrop"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Tedder:processDropArea(dropArea, fillType, litersToDrop)\n    if not self.isServer and self.currentUpdateDistance > Tedder.CLIENT_DM_UPDATE_RADIUS then\n        return 0 , 0\n    end\n\n    local lsx, lsy, lsz, lex, ley, lez, lineRadius = DensityMapHeightUtil.getLineByArea(dropArea.start, dropArea.width, dropArea.height, true )\n    local dropped, lineOffset = DensityMapHeightUtil.tipToGroundAroundLine( self , litersToDrop, fillType, lsx, lsy, lsz, lex, ley, lez, lineRadius, nil , dropArea.lineOffset, false , nil , false )\n    dropArea.lineOffset = lineOffset\n\n    return dropped\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"processtedderarea",children:"processTedderArea"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"processTedderArea()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"workArea"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"dt"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Tedder:processTedderArea(workArea, dt)\n    local spec = self.spec_tedder\n    local workAreaSpec = self.spec_workArea\n\n    if not self.isServer and self.currentUpdateDistance > Tedder.CLIENT_DM_UPDATE_RADIUS then\n        return 0 , 0\n    end\n\n    local sx, sy, sz = getWorldTranslation(workArea.start)\n    local wx, wy, wz = getWorldTranslation(workArea.width)\n    local hx, hy, hz = getWorldTranslation(workArea.height)\n\n    -- pick up\n    local lsx, lsy, lsz, lex, ley, lez, lineRadius = DensityMapHeightUtil.getLineByAreaDimensions(sx, sy, sz, wx, wy, wz, hx, hy, hz, true )\n\n    for targetFillType, inputFillTypes in pairs(spec.fillTypeConvertersReverse) do\n        local pickedUpLiters = 0\n        for _, inputFillType in ipairs(inputFillTypes) do\n            pickedUpLiters = pickedUpLiters + DensityMapHeightUtil.tipToGroundAroundLine( self , - math.huge, inputFillType, lsx, lsy, lsz, lex, ley, lez, lineRadius, nil , nil , false , nil )\n        end\n\n        if pickedUpLiters = = 0 and workArea.lastDropFillType ~ = FillType.UNKNOWN then\n            targetFillType = workArea.lastDropFillType\n        end\n\n        workArea.lastPickupLiters = - pickedUpLiters\n        workArea.litersToDrop = workArea.litersToDrop + workArea.lastPickupLiters\n\n        -- drop\n        local dropArea = workAreaSpec.workAreas[workArea.dropWindrowWorkAreaIndex]\n        if dropArea ~ = nil and workArea.litersToDrop > 0 then\n            local dropped = self:processDropArea(dropArea, targetFillType, workArea.litersToDrop)\n\n            workArea.lastDropFillType = targetFillType\n            workArea.lastDroppedLiters = dropped\n            spec.lastDroppedLiters = spec.lastDroppedLiters + dropped\n            workArea.litersToDrop = workArea.litersToDrop - dropped\n\n            if self.isServer then\n                --particles\n                local lastSpeed = self:getLastSpeed( true )\n                if dropped > 0 and lastSpeed > 0.5 then\n                    local changedFillType = false\n                    if spec.tedderWorkAreaFillTypes[workArea.tedderWorkAreaIndex] ~ = targetFillType then\n                        spec.tedderWorkAreaFillTypes[workArea.tedderWorkAreaIndex] = targetFillType\n                        self:raiseDirtyFlags(spec.fillTypesDirtyFlag)\n                        changedFillType = true\n                    end\n\n                    local effects = spec.workAreaToEffects[workArea.index]\n                    if effects ~ = nil then\n                        for _, effect in ipairs(effects) do\n                            effect.activeTime = g_currentMission.time + effect.activeTimeDuration\n\n                            -- sync mp\n                            if not effect.isActiveSent then\n                                effect.isActiveSent = true\n                                self:raiseDirtyFlags(spec.effectDirtyFlag)\n                            end\n\n                            if self.isClient then\n                                if changedFillType then\n                                    g_effectManager:setEffectTypeInfo(effect.effects, targetFillType)\n                                end\n\n                                -- enable effect\n                                if not effect.isActive then\n                                    g_effectManager:setEffectTypeInfo(effect.effects, targetFillType)\n                                    g_effectManager:startEffects(effect.effects)\n\n                                    g_soundManager:playSample(effect.samples.work)\n\n                                    if not g_soundManager:getIsSamplePlaying(spec.samples.work[ 1 ]) then\n                                        g_soundManager:playSamples(spec.samples.work)\n                                    end\n                                end\n\n                                g_effectManager:setDensity(effect.effects, math.max(lastSpeed / self:getSpeedLimit(), 0.6 ))\n                            end\n\n                            effect.isActive = true\n                        end\n                    end\n                end\n            end\n        end\n    end\n\n    if self:getLastSpeed() > 0.5 then\n        spec.stoneLastState = FSDensityMapUtil.getStoneArea(sx, sz, wx, wz, hx, hz)\n    else\n            spec.stoneLastState = 0\n        end\n\n        --calculating area by area width multiplied by last moved distance(not 100% accuracy in corners)\n        local areaWidth = MathUtil.vector3Length(lsx - lex, lsy - ley, lsz - lez)\n        local area = areaWidth * self.lastMovedDistance\n\n        return area, area\n    end\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"registereventlisteners",children:"registerEventListeners"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"registerEventListeners()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function Tedder.registerEventListeners(vehicleType)\n    SpecializationUtil.registerEventListener(vehicleType, "onLoad" , Tedder )\n    SpecializationUtil.registerEventListener(vehicleType, "onPostLoad" , Tedder )\n    SpecializationUtil.registerEventListener(vehicleType, "onDelete" , Tedder )\n    SpecializationUtil.registerEventListener(vehicleType, "onReadStream" , Tedder )\n    SpecializationUtil.registerEventListener(vehicleType, "onWriteStream" , Tedder )\n    SpecializationUtil.registerEventListener(vehicleType, "onReadUpdateStream" , Tedder )\n    SpecializationUtil.registerEventListener(vehicleType, "onWriteUpdateStream" , Tedder )\n    SpecializationUtil.registerEventListener(vehicleType, "onUpdateTick" , Tedder )\n    SpecializationUtil.registerEventListener(vehicleType, "onStartWorkAreaProcessing" , Tedder )\n    SpecializationUtil.registerEventListener(vehicleType, "onEndWorkAreaProcessing" , Tedder )\n    SpecializationUtil.registerEventListener(vehicleType, "onDeactivate" , Tedder )\n    SpecializationUtil.registerEventListener(vehicleType, "onTurnedOn" , Tedder )\n    SpecializationUtil.registerEventListener(vehicleType, "onTurnedOff" , Tedder )\n    SpecializationUtil.registerEventListener(vehicleType, "onAIFieldCourseSettingsInitialized" , Tedder )\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"registerfunctions",children:"registerFunctions"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"registerFunctions()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function Tedder.registerFunctions(vehicleType)\n    SpecializationUtil.registerFunction(vehicleType, "preprocessTedderArea" , Tedder.preprocessTedderArea)\n    SpecializationUtil.registerFunction(vehicleType, "processTedderArea" , Tedder.processTedderArea)\n    SpecializationUtil.registerFunction(vehicleType, "processDropArea" , Tedder.processDropArea)\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"registeroverwrittenfunctions",children:"registerOverwrittenFunctions"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"registerOverwrittenFunctions()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function Tedder.registerOverwrittenFunctions(vehicleType)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getDirtMultiplier" , Tedder.getDirtMultiplier)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getWearMultiplier" , Tedder.getWearMultiplier)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "loadWorkAreaFromXML" , Tedder.loadWorkAreaFromXML)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "doCheckSpeedLimit" , Tedder.doCheckSpeedLimit)\nend\n\n'})})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}}}]);