"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[20252],{980(e,n,i){i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>t,toc:()=>o});const t=JSON.parse('{"id":"script/Specializations/VariableWorkWidth","title":"VariableWorkWidth","description":"VariableWorkWidth","source":"@site/../docs/script/Specializations/VariableWorkWidth.md","sourceDirName":"script/Specializations","slug":"/script/Specializations/VariableWorkWidth","permalink":"/FS25-Community-LUADOC/script/Specializations/VariableWorkWidth","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"TurnOnVehicle","permalink":"/FS25-Community-LUADOC/script/Specializations/TurnOnVehicle"},"next":{"title":"VehicleSettings","permalink":"/FS25-Community-LUADOC/script/Specializations/VehicleSettings"}}');var s=i(74848),r=i(28453);const l={},c=void 0,d={},o=[{value:"VariableWorkWidth",id:"variableworkwidth",level:2},{value:"actionEventWorkWidthLeft",id:"actioneventworkwidthleft",level:3},{value:"actionEventWorkWidthRight",id:"actioneventworkwidthright",level:3},{value:"actionEventWorkWidthToggle",id:"actioneventworkwidthtoggle",level:3},{value:"getEffectByNode",id:"geteffectbynode",level:3},{value:"getIsWorkAreaActive",id:"getisworkareaactive",level:3},{value:"getVariableWorkWidth",id:"getvariableworkwidth",level:3},{value:"getVariableWorkWidthUsage",id:"getvariableworkwidthusage",level:3},{value:"initSpecialization",id:"initspecialization",level:3},{value:"loadWorkAreaFromXML",id:"loadworkareafromxml",level:3},{value:"onAIFieldWorkerStart",id:"onaifieldworkerstart",level:3},{value:"onAIImplementStart",id:"onaiimplementstart",level:3},{value:"onPostLoad",id:"onpostload",level:3},{value:"onReadStream",id:"onreadstream",level:3},{value:"onRegisterActionEvents",id:"onregisteractionevents",level:3},{value:"onWriteStream",id:"onwritestream",level:3},{value:"prerequisitesPresent",id:"prerequisitespresent",level:3},{value:"registerEventListeners",id:"registereventlisteners",level:3},{value:"registerEvents",id:"registerevents",level:3},{value:"registerFunctions",id:"registerfunctions",level:3},{value:"registerOverwrittenFunctions",id:"registeroverwrittenfunctions",level:3},{value:"registerSectionPaths",id:"registersectionpaths",level:3},{value:"saveToXMLFile",id:"savetoxmlfile",level:3},{value:"setSectionNodePercentage",id:"setsectionnodepercentage",level:3},{value:"setSectionsActive",id:"setsectionsactive",level:3},{value:"setVariableWorkWidthActive",id:"setvariableworkwidthactive",level:3},{value:"updateSections",id:"updatesections",level:3},{value:"updateSectionStates",id:"updatesectionstates",level:3}];function a(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"variableworkwidth",children:"VariableWorkWidth"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Specialization to change the work width by keys"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Functions"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#actioneventworkwidthleft",children:"actionEventWorkWidthLeft"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#actioneventworkwidthright",children:"actionEventWorkWidthRight"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#actioneventworkwidthtoggle",children:"actionEventWorkWidthToggle"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#geteffectbynode",children:"getEffectByNode"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getisworkareaactive",children:"getIsWorkAreaActive"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getvariableworkwidth",children:"getVariableWorkWidth"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getvariableworkwidthusage",children:"getVariableWorkWidthUsage"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#initspecialization",children:"initSpecialization"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#loadworkareafromxml",children:"loadWorkAreaFromXML"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onaifieldworkerstart",children:"onAIFieldWorkerStart"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onaiimplementstart",children:"onAIImplementStart"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onpostload",children:"onPostLoad"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onreadstream",children:"onReadStream"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onregisteractionevents",children:"onRegisterActionEvents"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onwritestream",children:"onWriteStream"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#prerequisitespresent",children:"prerequisitesPresent"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#registereventlisteners",children:"registerEventListeners"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#registerevents",children:"registerEvents"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#registerfunctions",children:"registerFunctions"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#registeroverwrittenfunctions",children:"registerOverwrittenFunctions"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#registersectionpaths",children:"registerSectionPaths"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#savetoxmlfile",children:"saveToXMLFile"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#setsectionnodepercentage",children:"setSectionNodePercentage"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#setsectionsactive",children:"setSectionsActive"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#setvariableworkwidthactive",children:"setVariableWorkWidthActive"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#updatesections",children:"updateSections"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#updatesectionstates",children:"updateSectionStates"})}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"actioneventworkwidthleft",children:"actionEventWorkWidthLeft"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"actionEventWorkWidthLeft()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"self"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"actionName"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"inputValue"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"callbackState"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"isAnalog"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function VariableWorkWidth.actionEventWorkWidthLeft( self , actionName, inputValue, callbackState, isAnalog)\n    local spec = self.spec_variableWorkWidth\n    self:setSectionsActive(spec.leftSide - inputValue, spec.rightSide)\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"actioneventworkwidthright",children:"actionEventWorkWidthRight"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"actionEventWorkWidthRight()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"self"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"actionName"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"inputValue"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"callbackState"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"isAnalog"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function VariableWorkWidth.actionEventWorkWidthRight( self , actionName, inputValue, callbackState, isAnalog)\n    local spec = self.spec_variableWorkWidth\n    self:setSectionsActive(spec.leftSide, spec.rightSide - inputValue)\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"actioneventworkwidthtoggle",children:"actionEventWorkWidthToggle"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"actionEventWorkWidthToggle()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"self"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"actionName"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"inputValue"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"callbackState"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"isAnalog"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function VariableWorkWidth.actionEventWorkWidthToggle( self , actionName, inputValue, callbackState, isAnalog)\n    local spec = self.spec_variableWorkWidth\n\n    local minValue = math.min(spec.leftSide, spec.rightSide)\n    local newState = minValue - 1\n    if newState < spec.minSideState then\n        newState = math.min(spec.leftSideMax, spec.rightSideMax)\n    end\n\n    self:setSectionsActive(newState, newState)\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"geteffectbynode",children:"getEffectByNode"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Returns the effect object with the given node"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getEffectByNode(integer node)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"integer"}),(0,s.jsx)(n.th,{children:"node"}),(0,s.jsx)(n.th,{children:"node"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function VariableWorkWidth:getEffectByNode(node)\n    return\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getisworkareaactive",children:"getIsWorkAreaActive"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getIsWorkAreaActive()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"superFunc"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"workArea"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function VariableWorkWidth:getIsWorkAreaActive(superFunc, workArea)\n    if workArea.sectionIndex ~ = nil then\n        local section = self.spec_variableWorkWidth.sections[workArea.sectionIndex]\n        if section ~ = nil then\n            if not section.isActive then\n                return false\n            end\n        end\n    end\n\n    return superFunc( self , workArea)\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getvariableworkwidth",children:"getVariableWorkWidth"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Returns the current work width for the given side"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getVariableWorkWidth(boolean isLeft)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"boolean"}),(0,s.jsx)(n.th,{children:"isLeft"}),(0,s.jsx)(n.th,{children:"is left effect"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"boolean"}),(0,s.jsx)(n.th,{children:"width"}),(0,s.jsx)(n.th,{children:"width"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"boolean"}),(0,s.jsx)(n.td,{children:"maxWidth"}),(0,s.jsx)(n.td,{children:"max width"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"boolean"}),(0,s.jsx)(n.td,{children:"isValid"}),(0,s.jsx)(n.td,{children:"is valid - has variable working width sections"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function VariableWorkWidth:getVariableWorkWidth(isLeft)\n    local spec = self.spec_variableWorkWidth\n    local sections = isLeft and spec.sectionsLeft or spec.sectionsRight\n    if #sections = = 0 then\n        return 1 , 1 , false\n    end\n\n    local maxWidth\n    for i = #sections, 1 , - 1 do\n        local section = sections[i]\n        maxWidth = maxWidth or section.widthAbs\n        if section.isActive then\n            return section.widthAbs, maxWidth, true\n        end\n    end\n\n    return 0 , maxWidth or 1 , true\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getvariableworkwidthusage",children:"getVariableWorkWidthUsage"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Returns the current usage for variable work width (nil if usage should not be displayed)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getVariableWorkWidthUsage()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"boolean"}),(0,s.jsx)(n.th,{children:"usage"}),(0,s.jsx)(n.th,{children:"usage"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function VariableWorkWidth:getVariableWorkWidthUsage()\n    return nil\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"initspecialization",children:"initSpecialization"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"initSpecialization()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function VariableWorkWidth.initSpecialization()\n    g_vehicleConfigurationManager:addConfigurationType( "variableWorkWidth" , g_i18n:getText( "configuration_workingWidth" ), "variableWorkWidth" , VehicleConfigurationItem )\n\n    local schema = Vehicle.xmlSchema\n    schema:setXMLSpecializationType( "VariableWorkWidth" )\n\n    VariableWorkWidth.registerSectionPaths(schema, "vehicle.variableWorkWidth" )\n    VariableWorkWidth.registerSectionPaths(schema, "vehicle.variableWorkWidth.variableWorkWidthConfigurations.variableWorkWidthConfiguration(?)" )\n\n    schema:register(XMLValueType.INT, "vehicle.variableWorkWidth#widthReferenceWorkAreaIndex" , "Width of this work area is used as reference for the HUD display" , 1 )\n        schema:register(XMLValueType.INT, "vehicle.variableWorkWidth#defaultStateLeft" , "Default state on left side" , "Max.possible state" )\n        schema:register(XMLValueType.INT, "vehicle.variableWorkWidth#defaultStateRight" , "Default state on right side" , "Max.possible state" )\n\n        schema:register(XMLValueType.BOOL, "vehicle.variableWorkWidth#aiKeepCurrentWidth" , "Defines if the ai should keep the current width or change it" , false )\n            schema:register(XMLValueType.INT, "vehicle.variableWorkWidth#aiStateLeft" , "AI state on left side" , "Max.possible state" )\n            schema:register(XMLValueType.INT, "vehicle.variableWorkWidth#aiStateRight" , "AI state on right side" , "Max.possible state" )\n\n            schema:register(XMLValueType.INT, WorkArea.WORK_AREA_XML_KEY .. ".section#index" , "Section index(Section needs to be active to activate workArea)" )\n            schema:register(XMLValueType.INT, WorkArea.WORK_AREA_XML_CONFIG_KEY .. ".section#index" , "Section index(Section needs to be active to activate workArea)" )\n\n            schema:setXMLSpecializationType()\n\n            local schemaSavegame = Vehicle.xmlSchemaSavegame\n            schemaSavegame:register(XMLValueType.INT, "vehicles.vehicle(?).variableWorkWidth#leftSide" , "Left side section states" , "Max.state" )\n            schemaSavegame:register(XMLValueType.INT, "vehicles.vehicle(?).variableWorkWidth#rightSide" , "Right side section states" , "Max.state" )\n        end\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"loadworkareafromxml",children:"loadWorkAreaFromXML"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"loadWorkAreaFromXML()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"superFunc"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"workArea"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"xmlFile"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"key"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function VariableWorkWidth:loadWorkAreaFromXML(superFunc, workArea, xmlFile, key)\n    workArea.sectionIndex = xmlFile:getValue(key .. ".section#index" )\n\n    return superFunc( self , workArea, xmlFile, key)\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"onaifieldworkerstart",children:"onAIFieldWorkerStart"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onAIFieldWorkerStart()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function VariableWorkWidth:onAIFieldWorkerStart()\n    if self.isServer then\n        local spec = self.spec_variableWorkWidth\n        if not spec.aiKeepCurrentWidth then\n            self:setSectionsActive(spec.aiStateLeft, spec.aiStateRight)\n        end\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onaiimplementstart",children:"onAIImplementStart"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onAIImplementStart()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function VariableWorkWidth:onAIImplementStart()\n    if self.isServer then\n        local spec = self.spec_variableWorkWidth\n        if not spec.aiKeepCurrentWidth then\n            self:setSectionsActive(spec.aiStateLeft, spec.aiStateRight)\n        end\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onpostload",children:"onPostLoad"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onPostLoad()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"savegame"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function VariableWorkWidth:onPostLoad(savegame)\n    local spec = self.spec_variableWorkWidth\n\n    local configurationId = Utils.getNoNil( self.configurations[ "variableWorkWidth" ], 1 )\n    local configKey = string.format( "vehicle.variableWorkWidth.variableWorkWidthConfigurations.variableWorkWidthConfiguration(%d)" , configurationId - 1 )\n\n    if not self.xmlFile:hasProperty(configKey) then\n        configKey = "vehicle.variableWorkWidth"\n    end\n\n    local deleteListener = function (section, effect)\n        for i = #section.effects, 1 , - 1 do\n            if section.effects[i] = = effect then\n                section.effects[i] = nil\n                break\n            end\n        end\n    end\n\n    local startRestriction = function (section)\n        return section.isActive\n    end\n\n    spec.hasCenter = false\n\n    spec.sections = { }\n    spec.sectionsLeft = { }\n    spec.sectionsRight = { }\n    self.xmlFile:iterate(configKey .. ".sections.section" , function (index, key)\n        local section = { }\n        section.isLeft = self.xmlFile:getValue(key .. "#isLeft" , false )\n        section.isCenter = self.xmlFile:getValue(key .. "#isCenter" , false )\n\n        section.maxWidthNode = self.xmlFile:getValue(key .. "#maxWidthNode" , nil , self.components, self.i3dMappings)\n        section.width = self.xmlFile:getValue(key .. "#width" )\n\n        section.effects = { }\n        self.xmlFile:iterate(key .. ".effect" , function (effectIndex, effectKey)\n            local effectNode = self.xmlFile:getValue(effectKey .. "#node" , nil , self.components, self.i3dMappings)\n            if effectNode ~ = nil then\n                local effect = self:getEffectByNode(effectNode)\n                if effect ~ = nil then\n                    effect:addDeleteListener(deleteListener, section, effect)\n                    effect:addStartRestriction(startRestriction, section)\n                    table.insert(section.effects, effect)\n                end\n            end\n        end )\n\n        section.isActive = true\n\n        if section.isLeft then\n            table.insert(spec.sectionsLeft, section)\n        elseif not section.isCenter then\n                table.insert(spec.sectionsRight, section)\n            else\n                    spec.hasCenter = true\n                end\n\n                table.insert(spec.sections, section)\n                section.index = #spec.sections\n            end )\n\n            spec.sectionNodes = { }\n            spec.sectionNodesLeft = { }\n            spec.sectionNodesRight = { }\n            self.xmlFile:iterate(configKey .. ".sectionNodes.sectionNode" , function (index, key)\n                local sectionNode = { }\n                sectionNode.node = self.xmlFile:getValue(key .. "#node" , nil , self.components, self.i3dMappings)\n                if sectionNode.node ~ = nil then\n                    sectionNode.isLeft = self.xmlFile:getValue(key .. "#isLeft" , false )\n\n                    sectionNode.startTrans = self.xmlFile:getValue(key .. "#minTrans" , nil , true )\n                    sectionNode.startTransX = self.xmlFile:getValue(key .. "#minTransX" )\n                    sectionNode.endTrans = self.xmlFile:getValue(key .. "#maxTrans" , nil , true )\n                    sectionNode.endTransX = self.xmlFile:getValue(key .. "#maxTransX" )\n                    sectionNode.startRot = self.xmlFile:getValue(key .. "#minRot" , nil , true )\n                    sectionNode.endRot = self.xmlFile:getValue(key .. "#endRot" , nil , true )\n\n                    if sectionNode.startTrans = = nil and sectionNode.startTransX = = nil then\n                        Logging.xmlWarning( self.xmlFile, "sectionNode \'%s\' needs either \'minTrans\' or \'minTransX\' set" , key)\n                        return\n                    end\n                    if sectionNode.endTrans = = nil and sectionNode.endTransX = = nil then\n                        Logging.xmlWarning( self.xmlFile, "sectionNode \'%s\' needs either \'maxTrans\' or \'maxTransX\' set" , key)\n                        return\n                    end\n\n                    sectionNode.workAreaIndex = self.xmlFile:getValue(key .. "#workAreaIndex" , 1 )\n\n                    if sectionNode.isLeft then\n                        table.insert(spec.sectionNodesLeft, sectionNode)\n                    else\n                            table.insert(spec.sectionNodesRight, sectionNode)\n                        end\n\n                        table.insert(spec.sectionNodes, sectionNode)\n                    end\n                end )\n\n                for i = 1 , #spec.sections do\n                    local section = spec.sections[i]\n                    if section.maxWidthNode ~ = nil then\n                        if not section.isCenter then\n                            for j = 1 , #spec.sectionNodes do\n                                local sectionNode = spec.sectionNodes[j]\n                                if sectionNode.isLeft = = section.isLeft then\n                                    local x, _, _ = localToLocal(section.maxWidthNode, getParent(sectionNode.node), 0 , 0 , 0 )\n\n                                    local minX, maxX = sectionNode.startTransX or sectionNode.startTrans[ 1 ], sectionNode.endTransX or sectionNode.endTrans[ 1 ]\n                                    section.width = math.clamp( math.abs((x - minX) / (maxX - minX)), 0 , 1 )\n                                    section.widthAbs = x\n                                    break\n                                end\n                            end\n                        end\n                    else\n                            section.width = 0\n                        end\n\n                        if section.width = = nil then\n                            Logging.xmlWarning( self.xmlFile, "Unable to get width for section \'vehicle.variableWorkWidth.sections.section(%d)\'" , i)\n                                section.width = 0\n                            end\n                        end\n\n                        local function sort(a, b)\n                            return a.width < b.width\n                        end\n                        table.sort(spec.sectionsLeft, sort )\n                        table.sort(spec.sectionsRight, sort )\n\n                        spec.widthReferenceWorkArea = self.xmlFile:getValue( "vehicle.variableWorkWidth#widthReferenceWorkAreaIndex" , 1 )\n\n                        spec.leftSideMax = #spec.sectionsLeft\n                        spec.leftSide = self.xmlFile:getValue( "vehicle.variableWorkWidth#defaultStateLeft" , spec.leftSideMax)\n                        spec.rightSideMax = #spec.sectionsRight\n                        spec.rightSide = self.xmlFile:getValue( "vehicle.variableWorkWidth#defaultStateRight" , spec.rightSideMax)\n\n                        spec.aiKeepCurrentWidth = self.xmlFile:getValue( "vehicle.variableWorkWidth#aiKeepCurrentWidth" , false )\n                        spec.aiStateLeft = self.xmlFile:getValue( "vehicle.variableWorkWidth#aiStateLeft" , spec.leftSideMax)\n                        spec.aiStateRight = self.xmlFile:getValue( "vehicle.variableWorkWidth#aiStateRight" , spec.rightSideMax)\n\n                        spec.minSideState = spec.hasCenter and 0 or 1\n\n                        if savegame ~ = nil and not savegame.resetVehicles then\n                            spec.leftSide = math.min(savegame.xmlFile:getValue(savegame.key .. ".variableWorkWidth#leftSide" , spec.leftSide), spec.leftSideMax)\n                            spec.rightSide = math.min(savegame.xmlFile:getValue(savegame.key .. ".variableWorkWidth#rightSide" , spec.rightSide), spec.rightSideMax)\n                        end\n\n                        self:updateSections()\n\n                        spec.drawInputHelp = false\n                        spec.hasSections = #spec.sections > 0\n                        spec.isActive = spec.hasSections\n\n                        if spec.hasSections then\n                            spec.hudExtension = VariableWorkWidthHUDExtension.new( self )\n                        else\n                                SpecializationUtil.removeEventListener( self , "onReadStream" , VariableWorkWidth )\n                                SpecializationUtil.removeEventListener( self , "onWriteStream" , VariableWorkWidth )\n                            end\n\n                            if not self.isClient or not spec.hasSections then\n                                SpecializationUtil.removeEventListener( self , "onRegisterActionEvents" , VariableWorkWidth )\n                            end\n                        end\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"onreadstream",children:"onReadStream"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Called on client side on join"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onReadStream(integer streamId, Connection connection)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"integer"}),(0,s.jsx)(n.th,{children:"streamId"}),(0,s.jsx)(n.th,{children:"streamId"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Connection"}),(0,s.jsx)(n.td,{children:"connection"}),(0,s.jsx)(n.td,{children:"connection"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function VariableWorkWidth:onReadStream(streamId, connection)\n    local leftSide = streamReadUIntN(streamId, VariableWorkWidth.SEND_NUM_BITS)\n    local rightSide = streamReadUIntN(streamId, VariableWorkWidth.SEND_NUM_BITS)\n    self:setSectionsActive(leftSide, rightSide, true )\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onregisteractionevents",children:"onRegisterActionEvents"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onRegisterActionEvents()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"isActiveForInput"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"isActiveForInputIgnoreSelection"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function VariableWorkWidth:onRegisterActionEvents(isActiveForInput, isActiveForInputIgnoreSelection)\n    local spec = self.spec_variableWorkWidth\n    self:clearActionEventsTable(spec.actionEvents)\n\n    if isActiveForInputIgnoreSelection then\n        if spec.isActive then\n            local _, actionEventIdLeft = self:addActionEvent(spec.actionEvents, InputAction.VARIABLE_WORK_WIDTH_LEFT, self , VariableWorkWidth.actionEventWorkWidthLeft, false , true , false , true , nil )\n            g_inputBinding:setActionEventTextPriority(actionEventIdLeft, GS_PRIO_HIGH)\n\n            local _, actionEventIdRight = self:addActionEvent(spec.actionEvents, InputAction.VARIABLE_WORK_WIDTH_RIGHT, self , VariableWorkWidth.actionEventWorkWidthRight, false , true , false , true , nil )\n            g_inputBinding:setActionEventTextPriority(actionEventIdRight, GS_PRIO_HIGH)\n\n            local _, actionEventIdToggle = self:addActionEvent(spec.actionEvents, InputAction.VARIABLE_WORK_WIDTH_TOGGLE, self , VariableWorkWidth.actionEventWorkWidthToggle, false , true , false , true , nil )\n            g_inputBinding:setActionEventTextPriority(actionEventIdToggle, GS_PRIO_HIGH)\n\n            spec.drawInputHelp = g_inputBinding:getActionEventsHasBinding(actionEventIdLeft) or g_inputBinding:getActionEventsHasBinding(actionEventIdRight) or g_inputBinding:getActionEventsHasBinding(actionEventIdToggle)\n        else\n                spec.drawInputHelp = false\n            end\n        end\n    end\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onwritestream",children:"onWriteStream"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Called on server side on join"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onWriteStream(integer streamId, Connection connection)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"integer"}),(0,s.jsx)(n.th,{children:"streamId"}),(0,s.jsx)(n.th,{children:"streamId"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Connection"}),(0,s.jsx)(n.td,{children:"connection"}),(0,s.jsx)(n.td,{children:"connection"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function VariableWorkWidth:onWriteStream(streamId, connection)\n    local spec = self.spec_variableWorkWidth\n    streamWriteUIntN(streamId, spec.leftSide, VariableWorkWidth.SEND_NUM_BITS)\n    streamWriteUIntN(streamId, spec.rightSide, VariableWorkWidth.SEND_NUM_BITS)\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"prerequisitespresent",children:"prerequisitesPresent"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"prerequisitesPresent()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"specializations"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function VariableWorkWidth.prerequisitesPresent(specializations)\n    return true\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"registereventlisteners",children:"registerEventListeners"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"registerEventListeners()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function VariableWorkWidth.registerEventListeners(vehicleType)\n    SpecializationUtil.registerEventListener(vehicleType, "onPostLoad" , VariableWorkWidth )\n    SpecializationUtil.registerEventListener(vehicleType, "onReadStream" , VariableWorkWidth )\n    SpecializationUtil.registerEventListener(vehicleType, "onWriteStream" , VariableWorkWidth )\n    SpecializationUtil.registerEventListener(vehicleType, "onRegisterActionEvents" , VariableWorkWidth )\n    SpecializationUtil.registerEventListener(vehicleType, "onAIFieldWorkerStart" , VariableWorkWidth )\n    SpecializationUtil.registerEventListener(vehicleType, "onAIImplementStart" , VariableWorkWidth )\n    SpecializationUtil.registerEventListener(vehicleType, "onDraw" , VariableWorkWidth )\n    SpecializationUtil.registerEventListener(vehicleType, "onDelete" , VariableWorkWidth )\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"registerevents",children:"registerEvents"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"registerEvents()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function VariableWorkWidth.registerEvents(vehicleType)\n    SpecializationUtil.registerEvent(vehicleType, "onVariableWorkWidthSectionChanged" )\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"registerfunctions",children:"registerFunctions"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"registerFunctions()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function VariableWorkWidth.registerFunctions(vehicleType)\n    SpecializationUtil.registerFunction(vehicleType, "setVariableWorkWidthActive" , VariableWorkWidth.setVariableWorkWidthActive)\n    SpecializationUtil.registerFunction(vehicleType, "setSectionsActive" , VariableWorkWidth.setSectionsActive)\n    SpecializationUtil.registerFunction(vehicleType, "setSectionNodePercentage" , VariableWorkWidth.setSectionNodePercentage)\n    SpecializationUtil.registerFunction(vehicleType, "updateSections" , VariableWorkWidth.updateSections)\n    SpecializationUtil.registerFunction(vehicleType, "updateSectionStates" , VariableWorkWidth.updateSectionStates)\n    SpecializationUtil.registerFunction(vehicleType, "getEffectByNode" , VariableWorkWidth.getEffectByNode)\n    SpecializationUtil.registerFunction(vehicleType, "getVariableWorkWidth" , VariableWorkWidth.getVariableWorkWidth)\n    SpecializationUtil.registerFunction(vehicleType, "getVariableWorkWidthUsage" , VariableWorkWidth.getVariableWorkWidthUsage)\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"registeroverwrittenfunctions",children:"registerOverwrittenFunctions"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"registerOverwrittenFunctions()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function VariableWorkWidth.registerOverwrittenFunctions(vehicleType)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "loadWorkAreaFromXML" , VariableWorkWidth.loadWorkAreaFromXML)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getIsWorkAreaActive" , VariableWorkWidth.getIsWorkAreaActive)\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"registersectionpaths",children:"registerSectionPaths"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"registerSectionPaths()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"schema"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"basePath"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function VariableWorkWidth.registerSectionPaths(schema, basePath)\n    schema:register(XMLValueType.BOOL, basePath .. ".sections.section(?)#isLeft" , "Section side" , false )\n    schema:register(XMLValueType.BOOL, basePath .. ".sections.section(?)#isCenter" , "Is center section" , false )\n    schema:register(XMLValueType.FLOAT, basePath .. ".sections.section(?)#width" , "Section max.width as percentage [0 .. 1]" , "Automatically calculated" )\n    schema:register(XMLValueType.NODE_INDEX, basePath .. ".sections.section(?)#maxWidthNode" , "Position of this node defines max.width of this section" )\n    schema:register(XMLValueType.NODE_INDEX, basePath .. ".sections.section(?).effect(?)#node" , "Effect to deactivate/activate" )\n\n    schema:register(XMLValueType.NODE_INDEX, basePath .. ".sectionNodes.sectionNode(?)#node" , "Section node" )\n    schema:register(XMLValueType.BOOL, basePath .. ".sectionNodes.sectionNode(?)#isLeft" , "Section node" )\n    schema:register(XMLValueType.VECTOR_TRANS, basePath .. ".sectionNodes.sectionNode(?)#minTrans" , "Min.translation" )\n    schema:register(XMLValueType.FLOAT, basePath .. ".sectionNodes.sectionNode(?)#minTransX" , "Min.X translation" )\n    schema:register(XMLValueType.VECTOR_TRANS, basePath .. ".sectionNodes.sectionNode(?)#maxTrans" , "Max.translation" )\n    schema:register(XMLValueType.FLOAT, basePath .. ".sectionNodes.sectionNode(?)#maxTransX" , "Max.X translation" )\n    schema:register(XMLValueType.VECTOR_ROT, basePath .. ".sectionNodes.sectionNode(?)#minRot" , "Min.rotation" )\n    schema:register(XMLValueType.VECTOR_ROT, basePath .. ".sectionNodes.sectionNode(?)#endRot" , "Max.rotation" )\n    schema:register(XMLValueType.INT, basePath .. ".sectionNodes.sectionNode(?)#workAreaIndex" , "Work area index" , 1 )\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"savetoxmlfile",children:"saveToXMLFile"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"saveToXMLFile()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"xmlFile"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"key"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"usedModNames"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function VariableWorkWidth:saveToXMLFile(xmlFile, key, usedModNames)\n    local spec = self.spec_variableWorkWidth\n    if spec.hasSections then\n        xmlFile:setValue(key .. "#leftSide" , spec.leftSide)\n        xmlFile:setValue(key .. "#rightSide" , spec.rightSide)\n    end\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"setsectionnodepercentage",children:"setSectionNodePercentage"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"setSectionNodePercentage()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"sectionNodes"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"percentage"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function VariableWorkWidth:setSectionNodePercentage(sectionNodes, percentage)\n    percentage = math.max( math.min(percentage, 1 ), 0 )\n    for i = 1 , #sectionNodes do\n        local sectionNode = sectionNodes[i]\n\n        if sectionNode.startTrans ~ = nil and sectionNode.endTrans ~ = nil then\n            setTranslation(sectionNode.node, MathUtil.vector3ArrayLerp(sectionNode.startTrans, sectionNode.endTrans, percentage))\n        end\n\n        if sectionNode.startTransX ~ = nil and sectionNode.endTransX ~ = nil then\n            local _, y, z = getTranslation(sectionNode.node)\n            local x = MathUtil.lerp(sectionNode.startTransX, sectionNode.endTransX, percentage)\n            setTranslation(sectionNode.node, x, y, z)\n        end\n\n        if sectionNode.startRot ~ = nil and sectionNode.endRot ~ = nil then\n            setRotation(sectionNode.node, MathUtil.vector3ArrayLerp(sectionNode.startRot, sectionNode.endRot, percentage))\n        end\n\n        if sectionNode.workAreaIndex ~ = nil then\n            self:updateWorkAreaWidth(sectionNode.workAreaIndex)\n        end\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"setsectionsactive",children:"setSectionsActive"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"setSectionsActive()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"leftSide"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"rightSide"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"noEventSend"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function VariableWorkWidth:setSectionsActive(leftSide, rightSide, noEventSend)\n    local spec = self.spec_variableWorkWidth\n    leftSide = math.clamp(leftSide, 0 , spec.leftSideMax)\n    rightSide = math.clamp(rightSide, 0 , spec.rightSideMax)\n\n    if spec.leftSide ~ = leftSide or spec.rightSide ~ = rightSide then\n        spec.leftSide = leftSide\n        spec.rightSide = rightSide\n\n        self:updateSections()\n\n        VariableWorkWidthStateEvent.sendEvent( self , spec.leftSide, spec.rightSide, noEventSend)\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"setvariableworkwidthactive",children:"setVariableWorkWidthActive"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"setVariableWorkWidthActive()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"isActive"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function VariableWorkWidth:setVariableWorkWidthActive(isActive)\n    local spec = self.spec_variableWorkWidth\n    spec.isActive = isActive\n\n    if self.isServer then\n        if not isActive then\n            self:setSectionsActive(spec.leftSideMax, spec.rightSideMax)\n        end\n    end\n\n    self:requestActionEventUpdate()\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"updatesections",children:"updateSections"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"updateSections()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function VariableWorkWidth:updateSections()\n    local spec = self.spec_variableWorkWidth\n\n    self:updateSectionStates(spec.sectionsLeft, spec.leftSide)\n    self:updateSectionStates(spec.sectionsRight, spec.rightSide)\n\n    local leftSectionWidth = spec.leftSide = = 0 and 0 or spec.sectionsLeft[spec.leftSide].width\n    self:setSectionNodePercentage(spec.sectionNodesLeft, leftSectionWidth)\n\n    local rightSectionWidth = spec.rightSide = = 0 and 0 or spec.sectionsRight[spec.rightSide].width\n    self:setSectionNodePercentage(spec.sectionNodesRight, rightSectionWidth)\n\n    SpecializationUtil.raiseEvent( self , "onVariableWorkWidthSectionChanged" )\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"updatesectionstates",children:"updateSectionStates"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"updateSectionStates()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"sections"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"state"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function VariableWorkWidth:updateSectionStates(sections, state)\n    for i = 1 , #sections do\n        local section = sections[i]\n        section.isActive = i < = state\n\n        for j = 1 , #section.effects do\n            local effect = section.effects[j]\n\n            if not section.isActive then\n                if effect:isRunning() then\n                    effect:stop()\n                end\n            end\n        end\n    end\nend\n\n"})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},28453(e,n,i){i.d(n,{R:()=>l,x:()=>c});var t=i(96540);const s={},r=t.createContext(s);function l(e){const n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);