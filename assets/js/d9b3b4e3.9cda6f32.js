"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[80953],{28453(n,e,t){t.d(e,{R:()=>s,x:()=>a});var l=t(96540);const i={},r=l.createContext(i);function s(n){const e=l.useContext(r);return l.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:s(n.components),l.createElement(r.Provider,{value:e},n.children)}},90942(n,e,t){t.r(e),t.d(e,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>s,metadata:()=>l,toc:()=>c});const l=JSON.parse('{"id":"script/Misc/TensionBeltManager","title":"TensionBeltManager","description":"TensionBeltManager","source":"@site/../docs/script/Misc/TensionBeltManager.md","sourceDirName":"script/Misc","slug":"/script/Misc/TensionBeltManager","permalink":"/FS25-Community-LUADOC/script/Misc/TensionBeltManager","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"SprayTypeManager","permalink":"/FS25-Community-LUADOC/script/Misc/SprayTypeManager"},"next":{"title":"ToolTypeManager","permalink":"/FS25-Community-LUADOC/script/Misc/ToolTypeManager"}}');var i=t(74848),r=t(28453);const s={},a=void 0,d={},c=[{value:"TensionBeltManager",id:"tensionbeltmanager",level:2},{value:"getBeltData",id:"getbeltdata",level:3},{value:"getType",id:"gettype",level:3},{value:"initDataStructures",id:"initdatastructures",level:3},{value:"new",id:"new",level:3},{value:"onCreateTensionBelt",id:"oncreatetensionbelt",level:3},{value:"unloadMapData",id:"unloadmapdata",level:3}];function o(n){const e={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.h2,{id:"tensionbeltmanager",children:"TensionBeltManager"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"This class handles all tension belts"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Functions"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#getbeltdata",children:"getBeltData"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#gettype",children:"getType"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#initdatastructures",children:"initDataStructures"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#new",children:"new"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#oncreatetensionbelt",children:"onCreateTensionBelt"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#unloadmapdata",children:"unloadMapData"})}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"getbeltdata",children:"getBeltData"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"getBeltData()"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(e.table,{children:(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"any"}),(0,i.jsx)(e.th,{children:"beltName"})]})})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Code"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-lua",children:"function TensionBeltManager:getBeltData(beltName)\n    if beltName = = nil then\n        return self.defaultBeltData\n    end\n\n    local beltType = self:getType(beltName)\n\n    local beltData = self.belts[beltType]\n    if beltData = = nil then\n        return self.defaultBeltData\n    end\n\n    return beltData\nend\n\n"})}),"\n",(0,i.jsx)(e.h3,{id:"gettype",children:"getType"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"getType()"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(e.table,{children:(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"any"}),(0,i.jsx)(e.th,{children:"beltName"})]})})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Code"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-lua",children:'function TensionBeltManager:getType(beltName)\n    return "BELT_TYPE_" .. string.upper(beltName)\nend\n\n'})}),"\n",(0,i.jsx)(e.h3,{id:"initdatastructures",children:"initDataStructures"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"Initialize data structures"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"initDataStructures()"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Code"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-lua",children:"function TensionBeltManager:initDataStructures()\n    self.belts = { }\n    self.defaultBeltData = nil\nend\n\n"})}),"\n",(0,i.jsx)(e.h3,{id:"new",children:"new"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"Creating manager"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"new()"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(e.table,{children:(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"any"}),(0,i.jsx)(e.th,{children:"customMt"})]})})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(e.table,{children:(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"any"}),(0,i.jsx)(e.th,{children:"instance"}),(0,i.jsx)(e.th,{children:"instance of object"})]})})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Code"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-lua",children:"function TensionBeltManager.new(customMt)\n    local self = setmetatable( { } , customMt or TensionBeltManager _mt)\n\n    self:initDataStructures()\n\n    return self\nend\n\n"})}),"\n",(0,i.jsx)(e.h3,{id:"oncreatetensionbelt",children:"onCreateTensionBelt"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"onCreateTensionBelt()"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"any"}),(0,i.jsx)(e.th,{children:"_"})]})}),(0,i.jsx)(e.tbody,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"any"}),(0,i.jsx)(e.td,{children:"id"})]})})]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Code"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-lua",children:"function TensionBeltManager.onCreateTensionBelt(_, id)\n    local self = g_tensionBeltManager\n\n    local name = Utils.getNoNil(getUserAttribute(id, \"name\" ), \"default\" )\n    local width = Utils.getNoNil(getUserAttribute(id, \"width\" ), 0.15 )\n    local beltType = self:getType(name)\n\n    if self.belts[beltType] ~ = nil then\n        printWarning( \"Warning:Tension belt type '\" .. name .. \"' already exists!\" )\n        return\n    end\n\n    local belt = { }\n    belt.width = width\n\n    for i = 0 , getNumOfChildren(id) - 1 do\n        local node = getChildAt(id, i)\n\n        if getUserAttribute(node, 'isMaterial') then\n            belt.material = { materialId = getMaterial(node, 0 ), uvScale = Utils.getNoNil(getUserAttribute(node, 'uvScale'), 0.1 ) }\n\n        elseif getUserAttribute(node, 'isDummyMaterial') then\n                belt.dummyMaterial = { materialId = getMaterial(node, 0 ), uvScale = Utils.getNoNil(getUserAttribute(node, 'uvScale'), 0.1 ) }\n\n            elseif getUserAttribute(node, 'isHook') then\n                    if belt.hook ~ = nil then\n                        local _,_,z = getTranslation(getChildAt(node, 0 ))\n                        belt.hook2 = { node = node, sizeRatio = z }\n                    else\n                            local _,_,z = getTranslation(getChildAt(node, 0 ))\n                            belt.hook = { node = node, sizeRatio = z }\n                        end\n\n                    elseif getUserAttribute(node, 'isRatchet') then\n                            local _,_,z = getTranslation(getChildAt(node, 0 ))\n                            belt.ratchet = { node = node, sizeRatio = z }\n                        end\n                    end\n\n                    if belt.material = = nil then\n                        printWarning( \"Warning:No material defined for tension belt type '\" .. name .. \"'!\" )\n                            return\n                        end\n\n                        if belt.dummyMaterial = = nil then\n                            printWarning( \"Warning:No material defined for tension belt type '\" .. name .. \"'!\" )\n                                return\n                            end\n\n                            self.belts[beltType] = belt\n\n                            if self.defaultBeltData = = nil then\n                                self.defaultBeltData = belt\n                            end\n                        end\n\n"})}),"\n",(0,i.jsx)(e.h3,{id:"unloadmapdata",children:"unloadMapData"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"unloadMapData()"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Code"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-lua",children:"function TensionBeltManager:unloadMapData()\n    self:initDataStructures()\nend\n\n"})})]})}function h(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(o,{...n})}):o(n)}}}]);