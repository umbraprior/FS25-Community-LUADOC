"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[70275],{28453(n,i,e){e.d(i,{R:()=>s,x:()=>l});var t=e(96540);const r={},o=t.createContext(r);function s(n){const i=t.useContext(o);return t.useMemo(function(){return"function"==typeof n?n(i):{...i,...n}},[i,n])}function l(n){let i;return i=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:s(n.components),t.createElement(o.Provider,{value:i},n.children)}},38272(n,i,e){e.r(i),e.d(i,{assets:()=>c,contentTitle:()=>l,default:()=>g,frontMatter:()=>s,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"script/Configurations/ConfigurationUtil","title":"ConfigurationUtil","description":"ConfigurationUtil","source":"@site/../docs/script/Configurations/ConfigurationUtil.md","sourceDirName":"script/Configurations","slug":"/script/Configurations/ConfigurationUtil","permalink":"/FS25-Community-LUADOC/script/Configurations/ConfigurationUtil","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"ConfigurationManager","permalink":"/FS25-Community-LUADOC/script/Configurations/ConfigurationManager"},"next":{"title":"PlaceableConfigurationItem","permalink":"/FS25-Community-LUADOC/script/Configurations/PlaceableConfigurationItem"}}');var r=e(74848),o=e(28453);const s={},l=void 0,c={},d=[{value:"ConfigurationUtil",id:"configurationutil",level:2},{value:"addBoughtConfiguration",id:"addboughtconfiguration",level:3},{value:"getClosestConfigurationSet",id:"getclosestconfigurationset",level:3},{value:"getColorByConfigId",id:"getcolorbyconfigid",level:3},{value:"getConfigIdBySaveId",id:"getconfigidbysaveid",level:3},{value:"getConfigItemByConfigId",id:"getconfigitembyconfigid",level:3},{value:"getConfigurationDataHasChanged",id:"getconfigurationdatahaschanged",level:3},{value:"getConfigurationSetsFromXML",id:"getconfigurationsetsfromxml",level:3},{value:"getConfigurationsFromXML",id:"getconfigurationsfromxml",level:3},{value:"getConfigurationsMatchConfigSets",id:"getconfigurationsmatchconfigsets",level:3},{value:"getConfigurationValue",id:"getconfigurationvalue",level:3},{value:"getDefaultConfigIdFromItems",id:"getdefaultconfigidfromitems",level:3},{value:"getSaveIdByConfigId",id:"getsaveidbyconfigid",level:3},{value:"getSubConfigurationsFromConfigurations",id:"getsubconfigurationsfromconfigurations",level:3},{value:"getXMLConfigurationKey",id:"getxmlconfigurationkey",level:3},{value:"hasBoughtConfiguration",id:"hasboughtconfiguration",level:3},{value:"isColorMetallic",id:"iscolormetallic",level:3},{value:"loadConfigurationsFromXMLFile",id:"loadconfigurationsfromxmlfile",level:3},{value:"raiseConfigurationItemEvent",id:"raiseconfigurationitemevent",level:3},{value:"readConfigurationsFromStream",id:"readconfigurationsfromstream",level:3},{value:"saveConfigurationsToXMLFile",id:"saveconfigurationstoxmlfile",level:3},{value:"saveConfigurationToXMLFile",id:"saveconfigurationtoxmlfile",level:3},{value:"setConfiguration",id:"setconfiguration",level:3},{value:"writeConfigurationsToStream",id:"writeconfigurationstostream",level:3}];function a(n){const i={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.h2,{id:"configurationutil",children:"ConfigurationUtil"}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Description"})}),"\n",(0,r.jsxs)(i.blockquote,{children:["\n",(0,r.jsx)(i.p,{children:"Configuration util class"}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Functions"})}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.a,{href:"#addboughtconfiguration",children:"addBoughtConfiguration"})}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.a,{href:"#getclosestconfigurationset",children:"getClosestConfigurationSet"})}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.a,{href:"#getcolorbyconfigid",children:"getColorByConfigId"})}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.a,{href:"#getconfigidbysaveid",children:"getConfigIdBySaveId"})}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.a,{href:"#getconfigitembyconfigid",children:"getConfigItemByConfigId"})}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.a,{href:"#getconfigurationdatahaschanged",children:"getConfigurationDataHasChanged"})}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.a,{href:"#getconfigurationsetsfromxml",children:"getConfigurationSetsFromXML"})}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.a,{href:"#getconfigurationsfromxml",children:"getConfigurationsFromXML"})}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.a,{href:"#getconfigurationsmatchconfigsets",children:"getConfigurationsMatchConfigSets"})}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.a,{href:"#getconfigurationvalue",children:"getConfigurationValue"})}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.a,{href:"#getdefaultconfigidfromitems",children:"getDefaultConfigIdFromItems"})}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.a,{href:"#getsaveidbyconfigid",children:"getSaveIdByConfigId"})}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.a,{href:"#getsubconfigurationsfromconfigurations",children:"getSubConfigurationsFromConfigurations"})}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.a,{href:"#getxmlconfigurationkey",children:"getXMLConfigurationKey"})}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.a,{href:"#hasboughtconfiguration",children:"hasBoughtConfiguration"})}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.a,{href:"#iscolormetallic",children:"isColorMetallic"})}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.a,{href:"#loadconfigurationsfromxmlfile",children:"loadConfigurationsFromXMLFile"})}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.a,{href:"#raiseconfigurationitemevent",children:"raiseConfigurationItemEvent"})}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.a,{href:"#readconfigurationsfromstream",children:"readConfigurationsFromStream"})}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.a,{href:"#saveconfigurationstoxmlfile",children:"saveConfigurationsToXMLFile"})}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.a,{href:"#saveconfigurationtoxmlfile",children:"saveConfigurationToXMLFile"})}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.a,{href:"#setconfiguration",children:"setConfiguration"})}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.a,{href:"#writeconfigurationstostream",children:"writeConfigurationsToStream"})}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"addboughtconfiguration",children:"addBoughtConfiguration"}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Description"})}),"\n",(0,r.jsxs)(i.blockquote,{children:["\n",(0,r.jsx)(i.p,{children:"Add bought configuration"}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(i.blockquote,{children:["\n",(0,r.jsx)(i.p,{children:"addBoughtConfiguration(string name, integer id, , )"}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(i.table,{children:[(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{children:"string"}),(0,r.jsx)(i.th,{children:"name"}),(0,r.jsx)(i.th,{children:"of bought configuration type"})]})}),(0,r.jsxs)(i.tbody,{children:[(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"integer"}),(0,r.jsx)(i.td,{children:"id"}),(0,r.jsx)(i.td,{children:"id of bought configuration"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"any"}),(0,r.jsx)(i.td,{children:"name"}),(0,r.jsx)(i.td,{})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"any"}),(0,r.jsx)(i.td,{children:"id"}),(0,r.jsx)(i.td,{})]})]})]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Code"})}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-lua",children:"function ConfigurationUtil.addBoughtConfiguration(manager, object, name, id)\n    if manager:getConfigurationIndexByName(name) ~ = nil then\n        if object.boughtConfigurations[name] = = nil then\n            object.boughtConfigurations[name] = { }\n        end\n        object.boughtConfigurations[name][id] = true\n    end\nend\n\n"})}),"\n",(0,r.jsx)(i.h3,{id:"getclosestconfigurationset",children:"getClosestConfigurationSet"}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Description"})}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(i.blockquote,{children:["\n",(0,r.jsx)(i.p,{children:"getClosestConfigurationSet()"}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(i.table,{children:[(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{children:"any"}),(0,r.jsx)(i.th,{children:"configurations"})]})}),(0,r.jsx)(i.tbody,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"any"}),(0,r.jsx)(i.td,{children:"configSets"})]})})]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Code"})}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-lua",children:"function ConfigurationUtil.getClosestConfigurationSet(configurations, configSets)\n    local closestSet = nil\n    local closestSetMatches = 0\n    for _, configSet in pairs(configSets) do\n        local numMatches = 0\n        for configName, index in pairs(configSet.configurations) do\n            if configurations[configName] = = index then\n                numMatches = numMatches + 1\n            end\n        end\n        if numMatches > closestSetMatches then\n            closestSet = configSet\n            closestSetMatches = numMatches\n        end\n    end\n\n    return closestSet, closestSetMatches\nend\n\n"})}),"\n",(0,r.jsx)(i.h3,{id:"getcolorbyconfigid",children:"getColorByConfigId"}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Description"})}),"\n",(0,r.jsxs)(i.blockquote,{children:["\n",(0,r.jsx)(i.p,{children:"Returns color of config id"}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(i.blockquote,{children:["\n",(0,r.jsx)(i.p,{children:"getColorByConfigId(string configName, integer configId, )"}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(i.table,{children:[(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{children:"string"}),(0,r.jsx)(i.th,{children:"configName"}),(0,r.jsx)(i.th,{children:"name if config"})]})}),(0,r.jsxs)(i.tbody,{children:[(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"integer"}),(0,r.jsx)(i.td,{children:"configId"}),(0,r.jsx)(i.td,{children:"id of config to get color"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"any"}),(0,r.jsx)(i.td,{children:"configId"}),(0,r.jsx)(i.td,{})]})]})]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,r.jsx)(i.table,{children:(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{children:"any"}),(0,r.jsx)(i.th,{children:"color"}),(0,r.jsx)(i.th,{children:"color and material(r, g, b, mat)"})]})})}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Code"})}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-lua",children:"function ConfigurationUtil.getColorByConfigId(object, configName, configId)\n    if configId ~ = nil then\n        local item = g_storeManager:getItemByXMLFilename(object.configFileName)\n        if item.configurations ~ = nil then\n            local config = item.configurations[configName][configId]\n            if config ~ = nil and config:isa( VehicleConfigurationItemColor ) then\n                return config:getColor()\n            end\n        end\n    end\n\n    return nil\nend\n\n"})}),"\n",(0,r.jsx)(i.h3,{id:"getconfigidbysaveid",children:"getConfigIdBySaveId"}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Description"})}),"\n",(0,r.jsxs)(i.blockquote,{children:["\n",(0,r.jsx)(i.p,{children:"Returns config id from given save identifier"}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(i.blockquote,{children:["\n",(0,r.jsx)(i.p,{children:"getConfigIdBySaveId(table object, string configName, string saveId)"}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(i.table,{children:[(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{children:"table"}),(0,r.jsx)(i.th,{children:"object"}),(0,r.jsx)(i.th,{children:"object"})]})}),(0,r.jsxs)(i.tbody,{children:[(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"string"}),(0,r.jsx)(i.td,{children:"configName"}),(0,r.jsx)(i.td,{children:"name if config"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"string"}),(0,r.jsx)(i.td,{children:"saveId"}),(0,r.jsx)(i.td,{children:"save identifier"})]})]})]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,r.jsx)(i.table,{children:(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{children:"string"}),(0,r.jsx)(i.th,{children:"configId"}),(0,r.jsx)(i.th,{children:"config id"})]})})}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Code"})}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-lua",children:"function ConfigurationUtil.getConfigIdBySaveId(configFileName, configName, configId)\n    local item = g_storeManager:getItemByXMLFilename(configFileName)\n    if item.configurations ~ = nil then\n        local configs = item.configurations[configName]\n        if configs ~ = nil then\n            for j = 1 , #configs do\n                if configs[j].saveId = = configId then\n                    return configs[j].index\n                end\n            end\n\n            local configItemClass = ClassUtil.getClassObjectByObject(configs[ 1 ])\n            if configItemClass ~ = nil and configItemClass.getFallbackConfigId ~ = nil then\n                local fallbackIndex, fallbackSaveId = configItemClass.getFallbackConfigId(configs, configId, configName, configFileName)\n                if fallbackIndex ~ = nil then\n                    Logging.info( \"Unable to find %s configuration '%s' for object '%s'.Using config '%s' as closest match instead.\" , configName, configId, configFileName, fallbackSaveId)\n                        return fallbackIndex\n                    end\n                end\n\n                -- return first selectable config as fallback\n                for j = 1 , #configs do\n                    if configs[j].isSelectable ~ = false then\n                        Logging.info( \"Unable to find %s configuration '%s' for object '%s'.Using config '%s' instead.\" , configName, configId, configFileName, configs[j].saveId)\n                            return configs[j].index\n                        end\n                    end\n                end\n            end\n\n            return 1\n        end\n\n"})}),"\n",(0,r.jsx)(i.h3,{id:"getconfigitembyconfigid",children:"getConfigItemByConfigId"}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Description"})}),"\n",(0,r.jsxs)(i.blockquote,{children:["\n",(0,r.jsx)(i.p,{children:"Returns config item object of config id"}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(i.blockquote,{children:["\n",(0,r.jsx)(i.p,{children:"getConfigItemByConfigId(string configFileName, string configName, integer configId)"}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(i.table,{children:[(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{children:"string"}),(0,r.jsx)(i.th,{children:"configFileName"}),(0,r.jsx)(i.th,{children:"path to xml file of store item"})]})}),(0,r.jsxs)(i.tbody,{children:[(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"string"}),(0,r.jsx)(i.td,{children:"configName"}),(0,r.jsx)(i.td,{children:"name if config"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"integer"}),(0,r.jsx)(i.td,{children:"configId"}),(0,r.jsx)(i.td,{children:"id of config"})]})]})]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Code"})}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-lua",children:"function ConfigurationUtil.getConfigItemByConfigId(configFileName, configName, configId)\n    if configId ~ = nil then\n        local item = g_storeManager:getItemByXMLFilename(configFileName)\n        if item.configurations ~ = nil then\n            local configItems = item.configurations[configName]\n            if configItems ~ = nil and configItems[configId] ~ = nil then\n                return configItems[configId]\n            end\n        end\n    end\n\n    return nil\nend\n\n"})}),"\n",(0,r.jsx)(i.h3,{id:"getconfigurationdatahaschanged",children:"getConfigurationDataHasChanged"}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Description"})}),"\n",(0,r.jsxs)(i.blockquote,{children:["\n",(0,r.jsx)(i.p,{children:"Returns true if configuration data has changed"}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(i.blockquote,{children:["\n",(0,r.jsx)(i.p,{children:"getConfigurationDataHasChanged(string configFileName, table configurationData1, table configurationData2)"}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(i.table,{children:[(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{children:"string"}),(0,r.jsx)(i.th,{children:"configFileName"}),(0,r.jsx)(i.th,{children:"path to xml file of store item"})]})}),(0,r.jsxs)(i.tbody,{children:[(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"table"}),(0,r.jsx)(i.td,{children:"configurationData1"}),(0,r.jsx)(i.td,{children:"configuration data 1"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"table"}),(0,r.jsx)(i.td,{children:"configurationData2"}),(0,r.jsx)(i.td,{children:"configuration data 2"})]})]})]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,r.jsx)(i.table,{children:(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{children:"table"}),(0,r.jsx)(i.th,{children:"hasChanged"}),(0,r.jsx)(i.th,{children:"configuration data has changed"})]})})}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Code"})}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-lua",children:"function ConfigurationUtil.getConfigurationDataHasChanged(configFileName, configurationData1, configurationData2)\n    if configurationData1 = = nil and configurationData2 = = nil then\n        return false\n    end\n\n    if configurationData1 = = nil or configurationData2 = = nil then\n        return true\n    end\n\n    for configName, data in pairs(configurationData1) do\n        if configurationData2[configName] = = nil then\n            return true\n        end\n\n        for configId, configData in pairs(data) do\n            if configurationData2[configName][configId] = = nil then\n                return true\n            end\n\n            local configItem = ConfigurationUtil.getConfigItemByConfigId(configFileName, configName, configId)\n            if configItem.hasDataChanged ~ = nil and configItem:hasDataChanged(configData, configurationData2[configName][configId]) then\n                return true\n            end\n        end\n    end\n\n    return false\nend\n\n"})}),"\n",(0,r.jsx)(i.h3,{id:"getconfigurationsetsfromxml",children:"getConfigurationSetsFromXML"}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Description"})}),"\n",(0,r.jsxs)(i.blockquote,{children:["\n",(0,r.jsx)(i.p,{children:"Gets predefined configuration sets"}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(i.blockquote,{children:["\n",(0,r.jsx)(i.p,{children:"getConfigurationSetsFromXML(table storeItem, XMLFile xmlFile, string key, string baseDir, string customEnvironment,\nboolean isMod)"}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(i.table,{children:[(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{children:"table"}),(0,r.jsx)(i.th,{children:"storeItem"}),(0,r.jsx)(i.th,{children:"a storeItem"})]})}),(0,r.jsxs)(i.tbody,{children:[(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"XMLFile"}),(0,r.jsx)(i.td,{children:"xmlFile"}),(0,r.jsx)(i.td,{children:"XMLFile instance"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"string"}),(0,r.jsx)(i.td,{children:"key"}),(0,r.jsx)(i.td,{children:"the key of the base xml element"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"string"}),(0,r.jsx)(i.td,{children:"baseDir"}),(0,r.jsx)(i.td,{children:"the base directory"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"string"}),(0,r.jsx)(i.td,{children:"customEnvironment"}),(0,r.jsx)(i.td,{children:"a custom environment"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"boolean"}),(0,r.jsx)(i.td,{children:"isMod"}),(0,r.jsx)(i.td,{children:"true if the storeitem is a mod, else false"})]})]})]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,r.jsx)(i.table,{children:(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{children:"boolean"}),(0,r.jsx)(i.th,{children:"configuration"}),(0,r.jsx)(i.th,{children:"sets"})]})})}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Code"})}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-lua",children:'function ConfigurationUtil.getConfigurationSetsFromXML(storeItem, xmlFile, key, baseDir, customEnvironment, isMod)\n    local configurationSetsKey = string.format( "%s.configurationSets" , key)\n    local overwrittenTitle = xmlFile:getValue(configurationSetsKey .. "#title" , nil , customEnvironment, false )\n    local isYesNoOption = xmlFile:getValue(configurationSetsKey .. "#isYesNoOption" , false )\n\n    local configurationsSets = { }\n    local i = 0\n    while true do\n        local configSetKey = string.format( "%s.configurationSet(%d)" , configurationSetsKey, i)\n        if not xmlFile:hasProperty(configSetKey) then\n            break\n        end\n\n        local configSet = { }\n        configSet.name = xmlFile:getValue(configSetKey .. "#name" , nil , customEnvironment, false )\n\n        local params = xmlFile:getValue(configSetKey .. "#params" )\n        if params ~ = nil then\n            configSet.name = g_i18n:insertTextParams(configSet.name, params, customEnvironment, xmlFile)\n        end\n\n        configSet.isDefault = xmlFile:getValue(configSetKey .. "#isDefault" , false )\n\n        configSet.overwrittenTitle = overwrittenTitle\n        configSet.isYesNoOption = isYesNoOption\n        configSet.configurations = { }\n\n        local j = 0\n        while true do\n            local configKey = string.format( "%s.configuration(%d)" , configSetKey, j)\n            if not xmlFile:hasProperty(configKey) then\n                break\n            end\n\n            local name = xmlFile:getValue(configKey .. "#name" )\n            if name ~ = nil then\n                if storeItem.configurations[name] ~ = nil then\n                    local index = xmlFile:getValue(configKey .. "#index" )\n                    if index ~ = nil then\n                        if storeItem.configurations[name][index] ~ = nil then\n                            configSet.configurations[name] = index\n                        else\n                                Logging.xmlWarning(xmlFile, "Index \'%d\' not defined for configuration \'%s\'!" , index, name)\n                                end\n                            end\n                        elseif xmlFile:getValue(configKey .. "#showWarning" , true ) then\n                                Logging.xmlWarning(xmlFile, "Configuration name \'%s\' is not defined!" , name)\n                            end\n                        else\n                                Logging.xmlWarning(xmlFile, "Missing name for configuration set item \'%s\'!" , configSetKey)\n                                end\n\n                                j = j + 1\n                            end\n\n                            table.insert(configurationsSets, configSet)\n                            configSet.index = #configurationsSets\n\n                            i = i + 1\n                        end\n\n                        return configurationsSets\n                    end\n\n'})}),"\n",(0,r.jsx)(i.h3,{id:"getconfigurationsfromxml",children:"getConfigurationsFromXML"}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Description"})}),"\n",(0,r.jsxs)(i.blockquote,{children:["\n",(0,r.jsx)(i.p,{children:"Gets the storeitem configurations from xml"}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(i.blockquote,{children:["\n",(0,r.jsx)(i.p,{children:"getConfigurationsFromXML(XMLFile xmlFile, string key, string baseDir, string customEnvironment, boolean isMod, , )"}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(i.table,{children:[(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{children:"XMLFile"}),(0,r.jsx)(i.th,{children:"xmlFile"}),(0,r.jsx)(i.th,{children:"XMLFile instance"})]})}),(0,r.jsxs)(i.tbody,{children:[(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"string"}),(0,r.jsx)(i.td,{children:"key"}),(0,r.jsx)(i.td,{children:"the name of the base xml element"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"string"}),(0,r.jsx)(i.td,{children:"baseDir"}),(0,r.jsx)(i.td,{children:"the base directory"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"string"}),(0,r.jsx)(i.td,{children:"customEnvironment"}),(0,r.jsx)(i.td,{children:"a custom environment"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"boolean"}),(0,r.jsx)(i.td,{children:"isMod"}),(0,r.jsx)(i.td,{children:"true if the storeitem is a mod, else false"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"any"}),(0,r.jsx)(i.td,{children:"isMod"}),(0,r.jsx)(i.td,{})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"any"}),(0,r.jsx)(i.td,{children:"storeItem"}),(0,r.jsx)(i.td,{})]})]})]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,r.jsx)(i.table,{children:(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{children:"any"}),(0,r.jsx)(i.th,{children:"configurations"}),(0,r.jsx)(i.th,{children:"a list of configurations"})]})})}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Code"})}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-lua",children:'function ConfigurationUtil.getConfigurationsFromXML(manager, xmlFile, key, baseDir, customEnvironment, isMod, storeItem)\n    local configurations = { }\n    local defaultConfigurationIds = { }\n    local numConfigs = 0\n    -- try to load default configuration values(title(shown in shop), name, desc, price) - additional parameters can be loaded with loadFunc\n\n    local configurationDescs = manager:getConfigurations()\n    for _, configurationDesc in pairs(configurationDescs) do\n        local configurationItems = { }\n\n        if configurationDesc.itemClass.preLoad ~ = nil then\n            configurationDesc.itemClass.preLoad(xmlFile, configurationDesc.configurationsKey, baseDir, customEnvironment, isMod, configurationItems)\n        end\n\n        local i = 0\n        while true do\n            if i > 2 ^ ConfigurationUtil.SEND_NUM_BITS then\n                Logging.xmlWarning(xmlFile, "Maximum number of configurations are reached for %s.Only %d configurations per type are allowed!" , configurationDesc.name, 2 ^ ConfigurationUtil.SEND_NUM_BITS)\n                end\n                local configKey = string.format(configurationDesc.configurationKey .. "(%d)" , i)\n                if not xmlFile:hasProperty(configKey) then\n                    break\n                end\n\n                local configItem = configurationDesc.itemClass.new(configurationDesc.name)\n                configItem:setIndex(#configurationItems + 1 )\n                if configItem:loadFromXML(xmlFile, configurationDesc.configurationsKey, configKey, baseDir, customEnvironment) then\n                    table.insert(configurationItems, configItem)\n                end\n\n                i = i + 1\n            end\n\n            if configurationDesc.itemClass.postLoad ~ = nil then\n                configurationDesc.itemClass.postLoad(xmlFile, configurationDesc.configurationsKey, baseDir, customEnvironment, isMod, configurationItems, storeItem, configurationDesc.name)\n            end\n\n            if #configurationItems > 0 then\n                defaultConfigurationIds[configurationDesc.name] = ConfigurationUtil.getDefaultConfigIdFromItems(configurationItems)\n\n                configurations[configurationDesc.name] = configurationItems\n                numConfigs = numConfigs + 1\n            end\n        end\n        if numConfigs = = 0 then\n            return nil , nil\n        end\n\n        return configurations, defaultConfigurationIds\n    end\n\n'})}),"\n",(0,r.jsx)(i.h3,{id:"getconfigurationsmatchconfigsets",children:"getConfigurationsMatchConfigSets"}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Description"})}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(i.blockquote,{children:["\n",(0,r.jsx)(i.p,{children:"getConfigurationsMatchConfigSets()"}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(i.table,{children:[(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{children:"any"}),(0,r.jsx)(i.th,{children:"configurations"})]})}),(0,r.jsx)(i.tbody,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"any"}),(0,r.jsx)(i.td,{children:"configSets"})]})})]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Code"})}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-lua",children:"function ConfigurationUtil.getConfigurationsMatchConfigSets(configurations, configSets)\n    for _, configSet in pairs(configSets) do\n        local isMatch = true\n        for configName, index in pairs(configSet.configurations) do\n            if configurations[configName] ~ = index then\n                isMatch = false\n                break\n            end\n        end\n\n        if isMatch then\n            return true\n        end\n    end\n\n    return false\nend\n\n"})}),"\n",(0,r.jsx)(i.h3,{id:"getconfigurationvalue",children:"getConfigurationValue"}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Description"})}),"\n",(0,r.jsxs)(i.blockquote,{children:["\n",(0,r.jsx)(i.p,{children:"Get value of configuration"}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(i.blockquote,{children:["\n",(0,r.jsx)(i.p,{children:"getConfigurationValue(XMLFile xmlFile, string key, string subKey, string param, any defaultValue, string?\nfallbackConfigKey, string? fallbackOldgKey)"}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(i.table,{children:[(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{children:"XMLFile"}),(0,r.jsx)(i.th,{children:"xmlFile"}),(0,r.jsx)(i.th,{children:"XMLFile instance"})]})}),(0,r.jsxs)(i.tbody,{children:[(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"string"}),(0,r.jsx)(i.td,{children:"key"}),(0,r.jsx)(i.td,{children:"key"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"string"}),(0,r.jsx)(i.td,{children:"subKey"}),(0,r.jsx)(i.td,{children:"sub key"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"string"}),(0,r.jsx)(i.td,{children:"param"}),(0,r.jsx)(i.td,{children:"parameter"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"any"}),(0,r.jsx)(i.td,{children:"defaultValue"}),(0,r.jsx)(i.td,{children:"default value"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"string?"}),(0,r.jsx)(i.td,{children:"fallbackConfigKey"}),(0,r.jsx)(i.td,{children:"fallback config key"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"string?"}),(0,r.jsx)(i.td,{children:"fallbackOldgKey"}),(0,r.jsx)(i.td,{children:"fallback old key"})]})]})]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,r.jsx)(i.table,{children:(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{children:"string?"}),(0,r.jsx)(i.th,{children:"value"}),(0,r.jsx)(i.th,{children:"value of config"})]})})}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Code"})}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-lua",children:'function ConfigurationUtil.getConfigurationValue(xmlFile, key, subKey, param, defaultValue, fallbackConfigKey, fallbackOldKey)\n    if type(subKey) = = "table" then\n        printCallstack()\n    end\n    local value = nil\n    if key ~ = nil then\n        value = xmlFile:getValue(key .. subKey .. param)\n    end\n\n    if value = = nil and fallbackConfigKey ~ = nil then\n        value = xmlFile:getValue(fallbackConfigKey .. subKey .. param) -- Check for default configuration(xml index 0)\n        end\n        if value = = nil and fallbackOldKey ~ = nil then\n            value = xmlFile:getValue(fallbackOldKey .. subKey .. param) -- Fallback to old xml setup\n        end\n        return Utils.getNoNil(value, defaultValue) -- using default value\n    end\n\n'})}),"\n",(0,r.jsx)(i.h3,{id:"getdefaultconfigidfromitems",children:"getDefaultConfigIdFromItems"}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Description"})}),"\n",(0,r.jsxs)(i.blockquote,{children:["\n",(0,r.jsx)(i.p,{children:"Get the default config id"}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(i.blockquote,{children:["\n",(0,r.jsx)(i.p,{children:"getDefaultConfigIdFromItems(table storeItem, string configurationName)"}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(i.table,{children:[(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{children:"table"}),(0,r.jsx)(i.th,{children:"storeItem"}),(0,r.jsx)(i.th,{children:"a storeitem object"})]})}),(0,r.jsx)(i.tbody,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"string"}),(0,r.jsx)(i.td,{children:"configurationName"}),(0,r.jsx)(i.td,{children:"name of the configuration"})]})})]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,r.jsx)(i.table,{children:(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{children:"string"}),(0,r.jsx)(i.th,{children:"configId"}),(0,r.jsx)(i.th,{children:"the default config id"})]})})}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Code"})}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-lua",children:"function ConfigurationUtil.getDefaultConfigIdFromItems(configItems)\n    if configItems ~ = nil then\n        for k, item in pairs(configItems) do\n            if item.isDefault then\n                if item.isSelectable ~ = false then\n                    return k\n                end\n            end\n        end\n\n        for k, item in pairs(configItems) do\n            if item.isSelectable ~ = false then\n                return k\n            end\n        end\n    end\n\n    return 1\nend\n\n"})}),"\n",(0,r.jsx)(i.h3,{id:"getsaveidbyconfigid",children:"getSaveIdByConfigId"}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Description"})}),"\n",(0,r.jsxs)(i.blockquote,{children:["\n",(0,r.jsx)(i.p,{children:"Returns save identifier from given config id"}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(i.blockquote,{children:["\n",(0,r.jsx)(i.p,{children:"getSaveIdByConfigId(table object, string configName, integer configId)"}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(i.table,{children:[(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{children:"table"}),(0,r.jsx)(i.th,{children:"object"}),(0,r.jsx)(i.th,{children:"object"})]})}),(0,r.jsxs)(i.tbody,{children:[(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"string"}),(0,r.jsx)(i.td,{children:"configName"}),(0,r.jsx)(i.td,{children:"name if config"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"integer"}),(0,r.jsx)(i.td,{children:"configId"}),(0,r.jsx)(i.td,{children:"id of config to get color"})]})]})]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,r.jsx)(i.table,{children:(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{children:"integer"}),(0,r.jsx)(i.th,{children:"saveId"}),(0,r.jsx)(i.th,{children:"save identifier"})]})})}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Code"})}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-lua",children:"function ConfigurationUtil.getSaveIdByConfigId(configFileName, configName, configId)\n    local item = g_storeManager:getItemByXMLFilename(configFileName)\n    if item.configurations ~ = nil then\n        local configs = item.configurations[configName]\n        if configs ~ = nil then\n            local config = configs[configId]\n            if config ~ = nil then\n                return config.saveId\n            end\n        end\n    end\n\n    return nil\nend\n\n"})}),"\n",(0,r.jsx)(i.h3,{id:"getsubconfigurationsfromconfigurations",children:"getSubConfigurationsFromConfigurations"}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Description"})}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(i.blockquote,{children:["\n",(0,r.jsx)(i.p,{children:"getSubConfigurationsFromConfigurations()"}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(i.table,{children:[(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{children:"any"}),(0,r.jsx)(i.th,{children:"manager"})]})}),(0,r.jsx)(i.tbody,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"any"}),(0,r.jsx)(i.td,{children:"configurations"})]})})]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Code"})}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-lua",children:"function ConfigurationUtil.getSubConfigurationsFromConfigurations(manager, configurations)\n    local subConfigurations = nil\n\n    if configurations ~ = nil then\n        subConfigurations = { }\n\n        for name, items in pairs(configurations) do\n            local config = manager:getConfigurationDescByName(name)\n            if config.hasSubselection then\n                local subConfigValues = config.getSubConfigurationValuesFunc(items)\n                if #subConfigValues > 1 then\n                    local subConfigItemMapping = { }\n                    subConfigurations[name] = { subConfigValues = subConfigValues, subConfigItemMapping = subConfigItemMapping }\n\n                    for k, value in ipairs(subConfigValues) do\n                        subConfigItemMapping[value] = config.getItemsBySubConfigurationIdentifierFunc(items, value)\n                    end\n                end\n            end\n        end\n    end\n\n    return subConfigurations\nend\n\n"})}),"\n",(0,r.jsx)(i.h3,{id:"getxmlconfigurationkey",children:"getXMLConfigurationKey"}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Description"})}),"\n",(0,r.jsxs)(i.blockquote,{children:["\n",(0,r.jsx)(i.p,{children:"Get xml configuration key"}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(i.blockquote,{children:["\n",(0,r.jsx)(i.p,{children:"getXMLConfigurationKey(XMLFile xmlFile, integer index, string key, string? defaultKey, string configurationKey)"}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(i.table,{children:[(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{children:"XMLFile"}),(0,r.jsx)(i.th,{children:"xmlFile"}),(0,r.jsx)(i.th,{children:"XMLFile instance"})]})}),(0,r.jsxs)(i.tbody,{children:[(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"integer"}),(0,r.jsx)(i.td,{children:"index"}),(0,r.jsx)(i.td,{children:"index"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"string"}),(0,r.jsx)(i.td,{children:"key"}),(0,r.jsx)(i.td,{children:"key"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"string?"}),(0,r.jsx)(i.td,{children:"defaultKey"}),(0,r.jsx)(i.td,{children:"default key"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"string"}),(0,r.jsx)(i.td,{children:"configurationKey"}),(0,r.jsx)(i.td,{children:"configuration key"})]})]})]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(i.table,{children:[(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{children:"string"}),(0,r.jsx)(i.th,{children:"configKey"}),(0,r.jsx)(i.th,{children:"key of configuration"})]})}),(0,r.jsx)(i.tbody,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"string"}),(0,r.jsx)(i.td,{children:"configIndex"}),(0,r.jsx)(i.td,{children:"index of configuration"})]})})]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Code"})}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-lua",children:'function ConfigurationUtil.getXMLConfigurationKey(xmlFile, index, key, defaultKey, configurationKey)\n    local configIndex = Utils.getNoNil(index, 1 )\n    local configKey = string.format(key .. "(%d)" , configIndex - 1 )\n    if index ~ = nil and not xmlFile:hasProperty(configKey) then\n        printWarning( "Warning:Invalid " .. configurationKey .. " index \'" .. tostring(index) .. "\' in \'" .. key .. "\'.Using default " .. configurationKey .. " settings instead!" )\n    end\n\n    if not xmlFile:hasProperty(configKey) then\n        configKey = key .. "(0)"\n    end\n    if not xmlFile:hasProperty(configKey) then\n        configKey = defaultKey\n    end\n\n    return configKey, configIndex\nend\n\n'})}),"\n",(0,r.jsx)(i.h3,{id:"hasboughtconfiguration",children:"hasBoughtConfiguration"}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Description"})}),"\n",(0,r.jsxs)(i.blockquote,{children:["\n",(0,r.jsx)(i.p,{children:"Returns true if configuration has been bought"}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(i.blockquote,{children:["\n",(0,r.jsx)(i.p,{children:"hasBoughtConfiguration(string name, integer id, )"}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(i.table,{children:[(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{children:"string"}),(0,r.jsx)(i.th,{children:"name"}),(0,r.jsx)(i.th,{children:"of bought configuration type"})]})}),(0,r.jsxs)(i.tbody,{children:[(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"integer"}),(0,r.jsx)(i.td,{children:"id"}),(0,r.jsx)(i.td,{children:"id of bought configuration"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"any"}),(0,r.jsx)(i.td,{children:"id"}),(0,r.jsx)(i.td,{})]})]})]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,r.jsx)(i.table,{children:(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{children:"any"}),(0,r.jsx)(i.th,{children:"configurationHasBeenBought"}),(0,r.jsx)(i.th,{children:"configuration has been bought"})]})})}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Code"})}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-lua",children:"function ConfigurationUtil.hasBoughtConfiguration(object, name, id)\n    if object.boughtConfigurations[name] ~ = nil and object.boughtConfigurations[name][id] then\n        return true\n    end\n    return false\nend\n\n"})}),"\n",(0,r.jsx)(i.h3,{id:"iscolormetallic",children:"isColorMetallic"}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Description"})}),"\n",(0,r.jsxs)(i.blockquote,{children:["\n",(0,r.jsx)(i.p,{children:"Get whether a material is visualized as metallic in UI"}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(i.blockquote,{children:["\n",(0,r.jsx)(i.p,{children:"isColorMetallic()"}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,r.jsx)(i.table,{children:(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{children:"any"}),(0,r.jsx)(i.th,{children:"materialId"})]})})}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Code"})}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-lua",children:"function ConfigurationUtil.isColorMetallic(materialId)\n    return materialId = = 2\n    or materialId = = 3\n    or materialId = = 19\n    or materialId = = 30\n    or materialId = = 31\n    or materialId = = 35\nend\n\n"})}),"\n",(0,r.jsx)(i.h3,{id:"loadconfigurationsfromxmlfile",children:"loadConfigurationsFromXMLFile"}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Description"})}),"\n",(0,r.jsxs)(i.blockquote,{children:["\n",(0,r.jsx)(i.p,{children:"Load all configurations from the given xml key"}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(i.blockquote,{children:["\n",(0,r.jsx)(i.p,{children:"loadConfigurationsFromXMLFile(string configFileName, table xmlFile, string key)"}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(i.table,{children:[(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{children:"string"}),(0,r.jsx)(i.th,{children:"configFileName"}),(0,r.jsx)(i.th,{children:"path to xml file of store item"})]})}),(0,r.jsxs)(i.tbody,{children:[(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"table"}),(0,r.jsx)(i.td,{children:"xmlFile"}),(0,r.jsx)(i.td,{children:"xml file object"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"string"}),(0,r.jsx)(i.td,{children:"key"}),(0,r.jsx)(i.td,{children:"key"})]})]})]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(i.table,{children:[(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{children:"string"}),(0,r.jsx)(i.th,{children:"configurations"}),(0,r.jsx)(i.th,{children:"configurations"})]})}),(0,r.jsxs)(i.tbody,{children:[(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"string"}),(0,r.jsx)(i.td,{children:"boughtConfigurations"}),(0,r.jsx)(i.td,{children:"bought configurations"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"string"}),(0,r.jsx)(i.td,{children:"configurationData"}),(0,r.jsx)(i.td,{children:"configuration data"})]})]})]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Code"})}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-lua",children:"function ConfigurationUtil.loadConfigurationsFromXMLFile(configFileName, xmlFile, key)\n    local configurations = { }\n    local boughtConfigurations = { }\n    local configurationData = { }\n\n    local item = g_storeManager:getItemByXMLFilename(configFileName)\n    if item.configurations ~ = nil then\n        for _, configKey in xmlFile:iterator(key) do\n            local configName = xmlFile:getValue(configKey .. \"#name\" )\n            local configId = xmlFile:getValue(configKey .. \"#id\" )\n            local isActive = xmlFile:getValue(configKey .. \"#isActive\" , true )\n\n            local configurationItems = item.configurations[configName]\n            if configurationItems ~ = nil then\n                local configurationItem = nil\n                for j = 1 , #configurationItems do\n                    if configurationItems[j].saveId = = configId then\n                        configurationItem = configurationItems[j]\n                    end\n                end\n\n                if configurationItem = = nil then\n                    local configItemClass = ClassUtil.getClassObjectByObject(configurationItems[ 1 ])\n                    if configItemClass ~ = nil and configItemClass.getFallbackConfigId ~ = nil then\n                        local fallbackIndex, fallbackSaveId = configItemClass.getFallbackConfigId(configurationItems, configId, configName, configFileName)\n                        if fallbackIndex ~ = nil then\n                            Logging.info( \"Unable to find %s configuration '%s' for object '%s'.Using config '%s' as closest match instead.\" , configName, configId, configFileName, fallbackSaveId)\n                                configurationItem = configurationItems[fallbackIndex]\n                            end\n                        end\n                    end\n\n                    if configurationItem = = nil then\n                        -- return first selectable config as fallback\n                        for j = 1 , #configurationItems do\n                            if configurationItems[j].isSelectable ~ = false then\n                                Logging.info( \"Unable to find %s configuration '%s' for object '%s'.Using config '%s' instead.\" , configName, configId, configFileName, configurationItems[j].saveId)\n                                    configurationItem = configurationItems[j]\n                                    break\n                                end\n                            end\n                        end\n\n                        if configurationItem ~ = nil then\n                            if boughtConfigurations[configName] = = nil then\n                                boughtConfigurations[configName] = { }\n                            end\n                            boughtConfigurations[configName][configurationItem.index] = true\n\n                            if isActive then\n                                configurations[configName] = configurationItem.index\n                            end\n\n                            if configurationData[configName] = = nil then\n                                configurationData[configName] = { }\n                            end\n\n                            if configurationData[configName][configurationItem.index] = = nil then\n                                configurationData[configName][configurationItem.index] = { }\n                            end\n\n                            configurationItem:loadFromSavegameXMLFile(xmlFile, configKey, configurationData[configName][configurationItem.index])\n                        end\n                    end\n                end\n            end\n\n            return configurations, boughtConfigurations, configurationData\n        end\n\n"})}),"\n",(0,r.jsx)(i.h3,{id:"raiseconfigurationitemevent",children:"raiseConfigurationItemEvent"}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Description"})}),"\n",(0,r.jsxs)(i.blockquote,{children:["\n",(0,r.jsx)(i.p,{children:"Calls the given eventName function on all configItem objects"}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(i.blockquote,{children:["\n",(0,r.jsx)(i.p,{children:"raiseConfigurationItemEvent(table object, string eventName)"}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(i.table,{children:[(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{children:"table"}),(0,r.jsx)(i.th,{children:"object"}),(0,r.jsx)(i.th,{children:"vehicle/placeable object"})]})}),(0,r.jsx)(i.tbody,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"string"}),(0,r.jsx)(i.td,{children:"eventName"}),(0,r.jsx)(i.td,{children:"name of function to call"})]})})]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Code"})}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-lua",children:"function ConfigurationUtil.raiseConfigurationItemEvent(object, eventName)\n    local item = g_storeManager:getItemByXMLFilename(object.configFileName)\n    if item.configurations ~ = nil and object.sortedConfigurationNames ~ = nil then\n        for _, configName in ipairs(object.sortedConfigurationNames) do\n            local configItems = item.configurations[configName]\n            if configItems ~ = nil then\n                local configId = object.configurations[configName]\n                local configItem = configItems[configId]\n                if configItem ~ = nil and configItem[eventName] ~ = nil then\n                    configItem[eventName](configItem, object, configId)\n                end\n            end\n        end\n    end\nend\n\n"})}),"\n",(0,r.jsx)(i.h3,{id:"readconfigurationsfromstream",children:"readConfigurationsFromStream"}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Description"})}),"\n",(0,r.jsxs)(i.blockquote,{children:["\n",(0,r.jsx)(i.p,{children:"Reads all configurations from network stream"}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(i.blockquote,{children:["\n",(0,r.jsx)(i.p,{children:"readConfigurationsFromStream(table manager, integer streamId, table connection, string configFileName)"}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(i.table,{children:[(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{children:"table"}),(0,r.jsx)(i.th,{children:"manager"}),(0,r.jsx)(i.th,{children:"configuration manager"})]})}),(0,r.jsxs)(i.tbody,{children:[(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"integer"}),(0,r.jsx)(i.td,{children:"streamId"}),(0,r.jsx)(i.td,{children:"stream id"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"table"}),(0,r.jsx)(i.td,{children:"connection"}),(0,r.jsx)(i.td,{children:"connection"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"string"}),(0,r.jsx)(i.td,{children:"configFileName"}),(0,r.jsx)(i.td,{children:"path to xml file of store item"})]})]})]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(i.table,{children:[(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{children:"string"}),(0,r.jsx)(i.th,{children:"configurations"}),(0,r.jsx)(i.th,{children:"configurations"})]})}),(0,r.jsxs)(i.tbody,{children:[(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"string"}),(0,r.jsx)(i.td,{children:"boughtConfigurations"}),(0,r.jsx)(i.td,{children:"bought configurations"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"string"}),(0,r.jsx)(i.td,{children:"configurationData"}),(0,r.jsx)(i.td,{children:"configuration data"})]})]})]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Code"})}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-lua",children:"function ConfigurationUtil.readConfigurationsFromStream(manager, streamId, connection, configFileName)\n    local configurations = { }\n    local boughtConfigurations = { }\n    local configurationData = { }\n\n    local numConfigs = streamReadUIntN(streamId, ConfigurationUtil.SEND_NUM_BITS)\n    for _ = 1 , numConfigs do\n        local configNameId = streamReadUIntN(streamId, ConfigurationUtil.SEND_NUM_BITS)\n        local configName = manager:getConfigurationNameByIndex(configNameId + 1 )\n        boughtConfigurations[configName] = { }\n\n        local numConfigIds = streamReadUInt16(streamId)\n        for _ = 1 , numConfigIds do\n            local configId = streamReadUInt16(streamId) + 1\n            boughtConfigurations[configName][configId] = true\n\n            if streamReadBool(streamId) then\n                configurations[configName] = configId\n            end\n\n            if streamReadBool(streamId) then\n                local configItem = ConfigurationUtil.getConfigItemByConfigId(configFileName, configName, configId)\n                if configItem ~ = nil then\n                    if configurationData[configName] = = nil then\n                        configurationData[configName] = { }\n                    end\n\n                    if configurationData[configName][configId] = = nil then\n                        configurationData[configName][configId] = { }\n                    end\n\n                    configItem:readFromStream(streamId, connection, configurationData[configName][configId])\n                else\n                        Logging.error( \"Unable to find configuration item for %s configuration '%s' with id %d on client side!\" , configFileName, configName, configId)\n                        end\n                    end\n                end\n            end\n\n            return configurations, boughtConfigurations, configurationData\n        end\n\n"})}),"\n",(0,r.jsx)(i.h3,{id:"saveconfigurationstoxmlfile",children:"saveConfigurationsToXMLFile"}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Description"})}),"\n",(0,r.jsxs)(i.blockquote,{children:["\n",(0,r.jsx)(i.p,{children:"Saves the given configurations to the given xml file"}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(i.blockquote,{children:["\n",(0,r.jsx)(i.p,{children:"saveConfigurationsToXMLFile(string configFileName, table xmlFile, string key, table configurations, table\nconfigurationData, )"}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(i.table,{children:[(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{children:"string"}),(0,r.jsx)(i.th,{children:"configFileName"}),(0,r.jsx)(i.th,{children:"path to xml file of store item"})]})}),(0,r.jsxs)(i.tbody,{children:[(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"table"}),(0,r.jsx)(i.td,{children:"xmlFile"}),(0,r.jsx)(i.td,{children:"xml file object"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"string"}),(0,r.jsx)(i.td,{children:"key"}),(0,r.jsx)(i.td,{children:"key"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"table"}),(0,r.jsx)(i.td,{children:"configurations"}),(0,r.jsx)(i.td,{children:"configurations"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"table"}),(0,r.jsx)(i.td,{children:"configurationData"}),(0,r.jsx)(i.td,{children:"configuration data"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"any"}),(0,r.jsx)(i.td,{children:"configurationData"}),(0,r.jsx)(i.td,{})]})]})]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Code"})}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-lua",children:"function ConfigurationUtil.saveConfigurationsToXMLFile(configFileName, xmlFile, key, configurations, boughtConfigurations, configurationData)\n    local item = g_storeManager:getItemByXMLFilename(configFileName)\n    if item.configurations ~ = nil then\n        local xmlIndex = 0\n        for configName, configsToSave in pairs(boughtConfigurations) do\n            for index, _ in pairs(configsToSave) do\n                local isActive = configurations[configName] = = index\n                xmlIndex = ConfigurationUtil.saveConfigurationToXMLFile(item.configurations, configName, index, xmlFile, key, isActive, configurationData, xmlIndex)\n            end\n        end\n    end\nend\n\n"})}),"\n",(0,r.jsx)(i.h3,{id:"saveconfigurationtoxmlfile",children:"saveConfigurationToXMLFile"}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Description"})}),"\n",(0,r.jsxs)(i.blockquote,{children:["\n",(0,r.jsx)(i.p,{children:"Save the given single configuration to the given xml file"}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(i.blockquote,{children:["\n",(0,r.jsx)(i.p,{children:"saveConfigurationToXMLFile(table itemConfigurations, string configName, integer configId, table xmlFile, string key,\nboolean isActive, table configurationData, integer xmlIndex)"}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(i.table,{children:[(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{children:"table"}),(0,r.jsx)(i.th,{children:"itemConfigurations"}),(0,r.jsx)(i.th,{children:"item configurations"})]})}),(0,r.jsxs)(i.tbody,{children:[(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"string"}),(0,r.jsx)(i.td,{children:"configName"}),(0,r.jsx)(i.td,{children:"name of configuration"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"integer"}),(0,r.jsx)(i.td,{children:"configId"}),(0,r.jsx)(i.td,{children:"id of configuration"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"table"}),(0,r.jsx)(i.td,{children:"xmlFile"}),(0,r.jsx)(i.td,{children:"xml file object"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"string"}),(0,r.jsx)(i.td,{children:"key"}),(0,r.jsx)(i.td,{children:"key"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"boolean"}),(0,r.jsx)(i.td,{children:"isActive"}),(0,r.jsx)(i.td,{children:"true if configuration is active"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"table"}),(0,r.jsx)(i.td,{children:"configurationData"}),(0,r.jsx)(i.td,{children:"configuration data"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"integer"}),(0,r.jsx)(i.td,{children:"xmlIndex"}),(0,r.jsx)(i.td,{children:"index of xml entry"})]})]})]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,r.jsx)(i.table,{children:(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{children:"integer"}),(0,r.jsx)(i.th,{children:"xmlIndex"}),(0,r.jsx)(i.th,{children:"new index of xml entry"})]})})}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Code"})}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-lua",children:'function ConfigurationUtil.saveConfigurationToXMLFile(itemConfigurations, configName, configId, xmlFile, key, isActive, configurationData, xmlIndex)\n    local configKey = string.format( "%s(%d)" , key, xmlIndex)\n\n    local configurationItems = itemConfigurations[configName]\n    if configurationItems ~ = nil then\n        local configurationItem = configurationItems[configId]\n        if configurationItem ~ = nil then\n            local data = configurationData[configName]\n            if data ~ = nil then\n                configurationItem:saveToXMLFile(xmlFile, configKey, isActive, data[configId])\n                xmlIndex = xmlIndex + 1\n            else\n                    configurationItem:saveToXMLFile(xmlFile, configKey, isActive)\n                    xmlIndex = xmlIndex + 1\n                end\n            end\n        end\n\n        return xmlIndex\n    end\n\n'})}),"\n",(0,r.jsx)(i.h3,{id:"setconfiguration",children:"setConfiguration"}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Description"})}),"\n",(0,r.jsxs)(i.blockquote,{children:["\n",(0,r.jsx)(i.p,{children:"Set configuration value"}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(i.blockquote,{children:["\n",(0,r.jsx)(i.p,{children:"setConfiguration(string name, integer id, )"}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(i.table,{children:[(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{children:"string"}),(0,r.jsx)(i.th,{children:"name"}),(0,r.jsx)(i.th,{children:"name of configuration type"})]})}),(0,r.jsxs)(i.tbody,{children:[(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"integer"}),(0,r.jsx)(i.td,{children:"id"}),(0,r.jsx)(i.td,{children:"id of configuration value"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"any"}),(0,r.jsx)(i.td,{children:"id"}),(0,r.jsx)(i.td,{})]})]})]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Code"})}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-lua",children:"function ConfigurationUtil.setConfiguration(object, name, id)\n    object.configurations[name] = id\nend\n\n"})}),"\n",(0,r.jsx)(i.h3,{id:"writeconfigurationstostream",children:"writeConfigurationsToStream"}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Description"})}),"\n",(0,r.jsxs)(i.blockquote,{children:["\n",(0,r.jsx)(i.p,{children:"Writes all configurations to network stream"}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(i.blockquote,{children:["\n",(0,r.jsx)(i.p,{children:"writeConfigurationsToStream(table manager, integer streamId, table connection, string configFileName, table\nconfigurations, table boughtConfigurations, table configurationData)"}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(i.table,{children:[(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{children:"table"}),(0,r.jsx)(i.th,{children:"manager"}),(0,r.jsx)(i.th,{children:"configuration manager"})]})}),(0,r.jsxs)(i.tbody,{children:[(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"integer"}),(0,r.jsx)(i.td,{children:"streamId"}),(0,r.jsx)(i.td,{children:"stream id"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"table"}),(0,r.jsx)(i.td,{children:"connection"}),(0,r.jsx)(i.td,{children:"connection"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"string"}),(0,r.jsx)(i.td,{children:"configFileName"}),(0,r.jsx)(i.td,{children:"path to xml file of store item"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"table"}),(0,r.jsx)(i.td,{children:"configurations"}),(0,r.jsx)(i.td,{children:"configurations"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"table"}),(0,r.jsx)(i.td,{children:"boughtConfigurations"}),(0,r.jsx)(i.td,{children:"bought configurations"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"table"}),(0,r.jsx)(i.td,{children:"configurationData"}),(0,r.jsx)(i.td,{children:"configuration data"})]})]})]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Code"})}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-lua",children:"function ConfigurationUtil.writeConfigurationsToStream(manager, streamId, connection, configFileName, configurations, boughtConfigurations, configurationData)\n    streamWriteUIntN(streamId, table.size(boughtConfigurations), ConfigurationUtil.SEND_NUM_BITS)\n    for configName, configIds in pairs(boughtConfigurations) do\n        local configNameId = manager:getConfigurationIndexByName(configName)\n        streamWriteUIntN(streamId, configNameId - 1 , ConfigurationUtil.SEND_NUM_BITS)\n\n        streamWriteUInt16(streamId, table.size(configIds))\n        for configId, _ in pairs(configIds) do\n            streamWriteUInt16(streamId, configId - 1 )\n            streamWriteBool(streamId, configurations[configName] = = configId)\n\n            local configItem = ConfigurationUtil.getConfigItemByConfigId(configFileName, configName, configId)\n            if streamWriteBool(streamId, configItem ~ = nil and configItem.writeToStream ~ = nil ) then\n                local data = configurationData[configName]\n                if data ~ = nil then\n                    configItem:writeToStream(streamId, connection, data[configId])\n                else\n                        configItem:writeToStream(streamId, connection)\n                    end\n                end\n            end\n        end\n    end\n\n"})})]})}function g(n={}){const{wrapper:i}={...(0,o.R)(),...n.components};return i?(0,r.jsx)(i,{...n,children:(0,r.jsx)(a,{...n})}):a(n)}}}]);