"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[52209],{28453(n,e,t){t.d(e,{R:()=>o,x:()=>r});var l=t(96540);const i={},s=l.createContext(i);function o(n){const e=l.useContext(s);return l.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function r(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:o(n.components),l.createElement(s.Provider,{value:e},n.children)}},79989(n,e,t){t.r(e),t.d(e,{assets:()=>d,contentTitle:()=>r,default:()=>h,frontMatter:()=>o,metadata:()=>l,toc:()=>c});const l=JSON.parse('{"id":"script/Contracts/Field","title":"Field","description":"Field","source":"@site/../docs/script/Contracts/Field.md","sourceDirName":"script/Contracts","slug":"/script/Contracts/Field","permalink":"/FS25-Community-LUADOC/script/Contracts/Field","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"VehicleConfigurationItemWheel","permalink":"/FS25-Community-LUADOC/script/Configurations/VehicleConfigurationItemWheel"},"next":{"title":"FieldManager","permalink":"/FS25-Community-LUADOC/script/Contracts/FieldManager"}}');var i=t(74848),s=t(28453);const o={},r=void 0,d={},c=[{value:"Field",id:"field",level:2},{value:"delete",id:"delete",level:3},{value:"load",id:"load",level:3},{value:"new",id:"new",level:3}];function a(n){const e={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.h2,{id:"field",children:"Field"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"This class wraps all Field data"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Functions"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#delete",children:"delete"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#load",children:"load"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#new",children:"new"})}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"delete",children:"delete"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"Delete field definition object"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"delete()"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Code"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-lua",children:"function Field:delete()\n    g_messageCenter:unsubscribeAll( self )\nend\n\n"})}),"\n",(0,i.jsx)(e.h3,{id:"load",children:"load"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"Load Field data from node"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"load(integer id)"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(e.table,{children:(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"integer"}),(0,i.jsx)(e.th,{children:"id"}),(0,i.jsx)(e.th,{children:"ai field node id"})]})})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(e.table,{children:(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"integer"}),(0,i.jsx)(e.th,{children:"true"}),(0,i.jsx)(e.th,{children:"if loading was successful else false"})]})})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Code"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-lua",children:'function Field:load(id)\n    self.rootNode = id\n\n    local name = getUserAttribute(id, "name" )\n    if not string.isNilOrWhitespace(name) then\n        self.name = g_i18n:convertText(name, g_currentMission.loadingMapModName)\n    end\n\n    for oldAttribute, newAttribute in pairs( Field.DEPRECATED_USER_ATTRIBUTES) do\n        if getUserAttribute(id, oldAttribute) ~ = nil then\n            Logging.warning( "User attribute \'%s\' is not supported anymore for field \'%s\'.Please use \'%s\' instead!" , oldAttribute, getName(id), newAttribute)\n            end\n        end\n\n        local polygonIndex = getUserAttribute(id, "polygonIndex" )\n        if polygonIndex = = nil then\n            Logging.warning( "No polygonIndex defined for field \'%s\'!" , getName(id))\n                return false\n            end\n\n            local polygonPointsRoot = I3DUtil.indexToObject(id, polygonIndex)\n            if polygonPointsRoot = = nil then\n                Logging.warning( "Could not resolve polygonIndex \'%s\' for field \'%s\'!" , polygonIndex, getName(id))\n                    return false\n                end\n\n                for i = 0 , getNumOfChildren(polygonPointsRoot) - 1 do\n                    local polygonPoint = getChildAt(polygonPointsRoot, i)\n                    table.insert( self.polygonPoints, polygonPoint)\n                end\n\n                self.densityMapPolygon:updateFromNodes( self.polygonPoints)\n\n                local sqm = MathUtil.getPolygon2DSize( self.polygonPoints)\n                self.areaHa = sqm / 10000\n\n                self.posX, self.posZ = MathUtil.getPolygonLabel( self.polygonPoints, 1 )\n\n                self.nameIndicator = I3DUtil.indexToObject(id, getUserAttribute(id, "nameIndicatorIndex" )) -- this is where the field number appears on the ingamemap\n                self.teleportNode = I3DUtil.indexToObject(id, getUserAttribute(id, "teleportIndicatorIndex" ))\n\n                local angle = getUserAttribute(id, "angle" ) or 0\n                local angleRad = math.rad(angle)\n                self.angle = FSDensityMapUtil.convertToDensityMapAngle(angleRad, g_currentMission.fieldGroundSystem:getGroundAngleMaxValue())\n\n                self.isMissionAllowed = Utils.getNoNil(getUserAttribute(id, "missionAllowed" ), true )\n                self.grassMissionOnly = Utils.getNoNil(getUserAttribute(id, "missionOnlyGrass" ), false )\n\n                return true\n            end\n\n'})}),"\n",(0,i.jsx)(e.h3,{id:"new",children:"new"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"Create ai field definition object"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"new()"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(e.table,{children:(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"any"}),(0,i.jsx)(e.th,{children:"customMt"})]})})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(e.table,{children:(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"any"}),(0,i.jsx)(e.th,{children:"instance"}),(0,i.jsx)(e.th,{children:"Instance of object"})]})})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Code"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-lua",children:"function Field.new(customMt)\n    local self = setmetatable( { } , customMt or Field _mt)\n\n    self.name = nil\n    self.rootNode = nil\n    self.densityMapPolygon = DensityMapPolygon.new()\n    self.polygonPoints = { }\n    self.angle = 0.0\n    self.areaHa = 1.0\n    self.farmland = nil\n    self.currentMission = nil\n    self.plannedFruitTypeIndex = FruitType.UNKNOWN\n    self.isMissionAllowed = true\n    self.grassMissionOnly = false\n    self.posX = 0\n    self.posZ = 0\n\n    self.fieldState = FieldState.new()\n\n    return self\nend\n\n"})})]})}function h(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(a,{...n})}):a(n)}}}]);