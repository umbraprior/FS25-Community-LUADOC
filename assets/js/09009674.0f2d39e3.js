"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[47298],{28453(n,e,i){i.d(e,{R:()=>t,x:()=>a});var l=i(96540);const r={},s=l.createContext(r);function t(n){const e=l.useContext(s);return l.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:t(n.components),l.createElement(s.Provider,{value:e},n.children)}},88806(n,e,i){i.r(e),i.d(e,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>t,metadata:()=>l,toc:()=>c});const l=JSON.parse('{"id":"script/Triggers/AnimalLoadingTrigger","title":"AnimalLoadingTrigger","description":"AnimalLoadingTrigger","source":"@site/../docs/script/Triggers/AnimalLoadingTrigger.md","sourceDirName":"script/Triggers","slug":"/script/Triggers/AnimalLoadingTrigger","permalink":"/FS25-Community-LUADOC/script/Triggers/AnimalLoadingTrigger","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"AITaskWaitForFilling","permalink":"/FS25-Community-LUADOC/script/Tasks/AITaskWaitForFilling"},"next":{"title":"BasketTrigger","permalink":"/FS25-Community-LUADOC/script/Triggers/BasketTrigger"}}');var r=i(74848),s=i(28453);const t={},a=void 0,d={},c=[{value:"AnimalLoadingTrigger",id:"animalloadingtrigger",level:2},{value:"delete",id:"delete",level:3},{value:"getAnimals",id:"getanimals",level:3},{value:"load",id:"load",level:3},{value:"loadFromXML",id:"loadfromxml",level:3},{value:"new",id:"new",level:3},{value:"onCreate",id:"oncreate",level:3},{value:"openAnimalMenu",id:"openanimalmenu",level:3},{value:"registerXMLPaths",id:"registerxmlpaths",level:3},{value:"setLoadingTrailer",id:"setloadingtrailer",level:3},{value:"triggerCallback",id:"triggercallback",level:3},{value:"updateActivatableObject",id:"updateactivatableobject",level:3}];function o(n){const e={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.h2,{id:"animalloadingtrigger",children:"AnimalLoadingTrigger"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Description"})}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"class to handle the animal load triggers"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Functions"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"#delete",children:"delete"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"#getanimals",children:"getAnimals"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"#load",children:"load"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"#loadfromxml",children:"loadFromXML"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"#new",children:"new"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"#oncreate",children:"onCreate"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"#openanimalmenu",children:"openAnimalMenu"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"#registerxmlpaths",children:"registerXMLPaths"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"#setloadingtrailer",children:"setLoadingTrailer"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"#triggercallback",children:"triggerCallback"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"#updateactivatableobject",children:"updateActivatableObject"})}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"delete",children:"delete"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Description"})}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"Deletes instance"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"delete()"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Code"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-lua",children:"function AnimalLoadingTrigger:delete()\n    g_currentMission.activatableObjectsSystem:removeActivatable( self.activatable)\n\n    if self.triggerNode ~ = nil then\n        removeTrigger( self.triggerNode)\n        self.triggerNode = nil\n    end\n\n    self.husbandry = nil\nend\n\n"})}),"\n",(0,r.jsx)(e.h3,{id:"getanimals",children:"getAnimals"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Description"})}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"getAnimals()"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Code"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-lua",children:"function AnimalLoadingTrigger:getAnimals()\n    return self.animalTypes\nend\n\n"})}),"\n",(0,r.jsx)(e.h3,{id:"load",children:"load"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Description"})}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"Loads information from scenegraph node."}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"load(integer id, )"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(e.table,{children:[(0,r.jsx)(e.thead,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.th,{children:"integer"}),(0,r.jsx)(e.th,{children:"id"}),(0,r.jsx)(e.th,{children:"nodeid that the trigger is created from"})]})}),(0,r.jsx)(e.tbody,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"any"}),(0,r.jsx)(e.td,{children:"husbandry"}),(0,r.jsx)(e.td,{})]})})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Code"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-lua",children:'function AnimalLoadingTrigger:load(node, husbandry)\n    self.husbandry = husbandry\n    self.isDealer = Utils.getNoNil(getUserAttribute(node, "isDealer" ), false )\n\n    if self.isDealer then\n        local animalTypesString = getUserAttribute(node, "animalTypes" )\n        if animalTypesString ~ = nil then\n            local animalTypes = animalTypesString:split( " " )\n            for _, animalTypeStr in pairs(animalTypes) do\n                local animalTypeIndex = g_currentMission.animalSystem:getTypeIndexByName(animalTypeStr)\n                if animalTypeIndex ~ = nil then\n                    if self.animalTypes = = nil then\n                        self.animalTypes = { }\n                    end\n\n                    table.insert( self.animalTypes, animalTypeIndex)\n                else\n                        Logging.warning( "Invalid animal type \'%s\' for animalLoadingTrigger \'%s\'!" , animalTypeStr, getName(node))\n                        end\n                    end\n                end\n            end\n\n            self.triggerNode = node\n            addTrigger( self.triggerNode, "triggerCallback" , self )\n\n            self.title = g_i18n:getText( Utils.getNoNil(getUserAttribute(node, "title" ), "ui_farm" ), self.customEnvironment)\n            self.isEnabled = true\n\n            return true\n        end\n\n'})}),"\n",(0,r.jsx)(e.h3,{id:"loadfromxml",children:"loadFromXML"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Description"})}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"Loads information from a xml file"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"loadFromXML(integer id, integer xmlFile, string key, )"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(e.table,{children:[(0,r.jsx)(e.thead,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.th,{children:"integer"}),(0,r.jsx)(e.th,{children:"id"}),(0,r.jsx)(e.th,{children:"nodeid that the trigger is created from"})]})}),(0,r.jsxs)(e.tbody,{children:[(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"integer"}),(0,r.jsx)(e.td,{children:"xmlFile"}),(0,r.jsx)(e.td,{children:"id of xml file"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"string"}),(0,r.jsx)(e.td,{children:"key"}),(0,r.jsx)(e.td,{children:"xml path to load from"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"any"}),(0,r.jsx)(e.td,{children:"i3dMappings"}),(0,r.jsx)(e.td,{})]})]})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Code"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-lua",children:'function AnimalLoadingTrigger:loadFromXML(xmlFile, key, components, i3dMappings)\n    self.triggerNode = xmlFile:getValue(key .. "#node" , nil , components, i3dMappings)\n    if self.triggerNode = = nil then\n        Logging.xmlWarning(xmlFile, "Missing trigger node for animalLoadingTrigger!" )\n            return false\n        end\n\n        self.husbandry = nil\n        self.isDealer = xmlFile:getValue(key .. "#isDealer" , false )\n\n        if self.isDealer then\n            local animalTypesString = xmlFile:getValue(key .. "#animalTypes" )\n            if animalTypesString ~ = nil then\n                local animalTypes = animalTypesString:split( " " )\n                for _, animalTypeStr in pairs(animalTypes) do\n                    local animalTypeIndex = g_currentMission.animalSystem:getTypeIndexByName(animalTypeStr)\n                    if animalTypeIndex ~ = nil then\n                        if self.animalTypes = = nil then\n                            self.animalTypes = { }\n                        end\n\n                        table.insert( self.animalTypes, animalTypeIndex)\n                    else\n                            Logging.xmlWarning(xmlFile, "Invalid animal type \'%s\' for animalLoadingTrigger!" , animalTypeStr)\n                            end\n                        end\n                    end\n                end\n\n                addTrigger( self.triggerNode, "triggerCallback" , self )\n\n                self.title = g_i18n:convertText(xmlFile:getValue(key .. "#title" , "ui_farm" ), self.customEnvironment)\n                self.isEnabled = true\n\n                return true\n            end\n\n'})}),"\n",(0,r.jsx)(e.h3,{id:"new",children:"new"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Description"})}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"Creates an instance of the class"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"new(boolean isServer, boolean isClient)"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(e.table,{children:[(0,r.jsx)(e.thead,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.th,{children:"boolean"}),(0,r.jsx)(e.th,{children:"isServer"})]})}),(0,r.jsx)(e.tbody,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"boolean"}),(0,r.jsx)(e.td,{children:"isClient"})]})})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,r.jsx)(e.table,{children:(0,r.jsx)(e.thead,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.th,{children:"boolean"}),(0,r.jsx)(e.th,{children:"self"}),(0,r.jsx)(e.th,{children:"instance"})]})})}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Code"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-lua",children:'function AnimalLoadingTrigger.new(isServer, isClient)\n    local self = Object.new(isServer, isClient, AnimalLoadingTrigger _mt)\n\n    self.customEnvironment = g_currentMission.loadingMapModName\n    self.isDealer = false\n    self.triggerNode = nil\n    self.title = g_i18n:getText( "ui_farm" )\n\n    self.animals = nil\n\n    self.activatable = AnimalLoadingTriggerActivatable.new( self )\n    self.isPlayerInRange = false\n\n    self.isEnabled = false\n\n    self.loadingVehicle = nil\n    self.activatedTarget = nil\n\n    return self\nend\n\n'})}),"\n",(0,r.jsx)(e.h3,{id:"oncreate",children:"onCreate"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Description"})}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"Callback of scenegraph object"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"onCreate(integer id)"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,r.jsx)(e.table,{children:(0,r.jsx)(e.thead,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.th,{children:"integer"}),(0,r.jsx)(e.th,{children:"id"}),(0,r.jsx)(e.th,{children:"nodeid that the trigger is created from"})]})})}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Code"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-lua",children:"function AnimalLoadingTrigger:onCreate(id)\n    local trigger = AnimalLoadingTrigger.new(g_server ~ = nil , g_client ~ = nil )\n    if trigger ~ = nil then\n        if trigger:load(id) then\n            g_currentMission:addNonUpdateable(trigger)\n        else\n                trigger:delete()\n            end\n        end\n    end\n\n"})}),"\n",(0,r.jsx)(e.h3,{id:"openanimalmenu",children:"openAnimalMenu"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Description"})}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"openAnimalMenu()"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Code"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-lua",children:"function AnimalLoadingTrigger:openAnimalMenu()\n    if self.husbandry = = nil then\n        self:updateActivatableObject()\n    end\n\n    AnimalScreen.show( self.husbandry, self.loadingVehicle, self.isDealer)\n    self.activatedTarget = self.loadingVehicle\nend\n\n"})}),"\n",(0,r.jsx)(e.h3,{id:"registerxmlpaths",children:"registerXMLPaths"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Description"})}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"Register xml paths"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"registerXMLPaths()"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(e.table,{children:[(0,r.jsx)(e.thead,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.th,{children:"any"}),(0,r.jsx)(e.th,{children:"schema"})]})}),(0,r.jsx)(e.tbody,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"any"}),(0,r.jsx)(e.td,{children:"basePath"})]})})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Code"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-lua",children:'function AnimalLoadingTrigger.registerXMLPaths(schema, basePath)\n    schema:register(XMLValueType.NODE_INDEX, basePath .. "#node" , "Trigger node of animal loading trigger" )\n    schema:register(XMLValueType.BOOL, basePath .. "#isDealer" , "Is dealer or not" , false )\n    schema:register(XMLValueType.STRING, basePath .. "#animalTypes" , "List of supported animal types(only for dealer)" )\n        schema:register(XMLValueType.STRING, basePath .. "#title" , "Title to show in the UI" , "ui_farm" )\n    end\n\n'})}),"\n",(0,r.jsx)(e.h3,{id:"setloadingtrailer",children:"setLoadingTrailer"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Description"})}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"Sets the loading trailer"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"setLoadingTrailer(table loadingVehicle)"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,r.jsx)(e.table,{children:(0,r.jsx)(e.thead,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.th,{children:"table"}),(0,r.jsx)(e.th,{children:"loadingVehicle"})]})})}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Code"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-lua",children:"function AnimalLoadingTrigger:setLoadingTrailer(loadingVehicle)\n    if self.loadingVehicle ~ = nil and self.loadingVehicle.setLoadingTrigger ~ = nil then\n        self.loadingVehicle:setLoadingTrigger( nil )\n    end\n\n    self.loadingVehicle = loadingVehicle\n\n    if self.loadingVehicle ~ = nil and self.loadingVehicle.setLoadingTrigger ~ = nil then\n        self.loadingVehicle:setLoadingTrigger( self )\n    end\n\n    self:updateActivatableObject()\nend\n\n"})}),"\n",(0,r.jsx)(e.h3,{id:"triggercallback",children:"triggerCallback"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Description"})}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"Callback when trigger changes state"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"triggerCallback(integer triggerId, integer otherId, boolean onEnter, boolean onLeave, boolean onStay)"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(e.table,{children:[(0,r.jsx)(e.thead,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.th,{children:"integer"}),(0,r.jsx)(e.th,{children:"triggerId"})]})}),(0,r.jsxs)(e.tbody,{children:[(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"integer"}),(0,r.jsx)(e.td,{children:"otherId"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"boolean"}),(0,r.jsx)(e.td,{children:"onEnter"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"boolean"}),(0,r.jsx)(e.td,{children:"onLeave"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"boolean"}),(0,r.jsx)(e.td,{children:"onStay"})]})]})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Code"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-lua",children:"function AnimalLoadingTrigger:triggerCallback(triggerId, otherId, onEnter, onLeave, onStay)\n    if self.isEnabled and(onEnter or onLeave) then\n        local vehicle = g_currentMission.nodeToObject[otherId]\n        if vehicle ~ = nil and vehicle.getSupportsAnimalType ~ = nil then\n            if onEnter then\n                self:setLoadingTrailer(vehicle)\n\n                if Platform.gameplay.autoActivateTrigger and self.activatable:getIsActivatable() then\n                    self.activatable:run()\n                    local rootVehicle = vehicle.rootVehicle\n                    if rootVehicle.brakeToStop ~ = nil then\n                        rootVehicle:brakeToStop()\n                    end\n\n                    return\n                end\n            elseif onLeave then\n                    if vehicle = = self.loadingVehicle then\n                        self:setLoadingTrailer( nil )\n                    end\n                    if vehicle = = self.activatedTarget then\n                        -- close dialog!\n                        g_animalScreen:onVehicleLeftTrigger()\n                    end\n                end\n            elseif g_localPlayer ~ = nil and otherId = = g_localPlayer.rootNode then\n                    if onEnter then\n                        self.isPlayerInRange = true\n\n                        if Platform.gameplay.autoActivateTrigger and self.activatable:getIsActivatable() then\n                            self.activatable:run()\n                        end\n                    else\n                            self.isPlayerInRange = false\n                        end\n                        self:updateActivatableObject()\n                    end\n                end\n            end\n\n"})}),"\n",(0,r.jsx)(e.h3,{id:"updateactivatableobject",children:"updateActivatableObject"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Description"})}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"Adds or removes the trigger as an activable object to the mission"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"updateActivatableObject()"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Code"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-lua",children:"function AnimalLoadingTrigger:updateActivatableObject()\n    if self.loadingVehicle ~ = nil or self.isPlayerInRange then\n        g_currentMission.activatableObjectsSystem:addActivatable( self.activatable)\n    elseif self.loadingVehicle = = nil and not self.isPlayerInRange then\n            g_currentMission.activatableObjectsSystem:removeActivatable( self.activatable)\n        end\n    end\n\n"})})]})}function h(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(o,{...n})}):o(n)}}}]);