"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[99546],{25809(n,e,i){i.r(e),i.d(e,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>t,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"script/Field/AbstractFieldMission","title":"AbstractFieldMission","description":"AbstractFieldMission","source":"@site/../docs/script/Field/AbstractFieldMission.md","sourceDirName":"script/Field","slug":"/script/Field/AbstractFieldMission","permalink":"/FS25-Community-LUADOC/script/Field/AbstractFieldMission","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"FerryActivatable","permalink":"/FS25-Community-LUADOC/script/Ferry/FerryActivatable"},"next":{"title":"FieldState","permalink":"/FS25-Community-LUADOC/script/Field/FieldState"}}');var l=i(74848),r=i(28453);const t={},d=void 0,c={},o=[{value:"AbstractFieldMission",id:"abstractfieldmission",level:2},{value:"addHotspots",id:"addhotspots",level:3},{value:"addToMissionMap",id:"addtomissionmap",level:3},{value:"createMapHotspot",id:"createmaphotspot",level:3},{value:"createModifier",id:"createmodifier",level:3},{value:"delete",id:"delete",level:3},{value:"dismiss",id:"dismiss",level:3},{value:"finish",id:"finish",level:3},{value:"finishField",id:"finishfield",level:3},{value:"getCompletion",id:"getcompletion",level:3},{value:"getDetails",id:"getdetails",level:3},{value:"getFarmlandId",id:"getfarmlandid",level:3},{value:"getField",id:"getfield",level:3},{value:"getFieldCompletion",id:"getfieldcompletion",level:3},{value:"getFieldFinishTask",id:"getfieldfinishtask",level:3},{value:"getFieldPreparingTask",id:"getfieldpreparingtask",level:3},{value:"getIsPrepared",id:"getisprepared",level:3},{value:"getIsWorkAllowed",id:"getisworkallowed",level:3},{value:"getLocation",id:"getlocation",level:3},{value:"getMapHotspots",id:"getmaphotspots",level:3},{value:"getNPC",id:"getnpc",level:3},{value:"getPartitionCompletion",id:"getpartitioncompletion",level:3},{value:"getReward",id:"getreward",level:3},{value:"getRewardPerHa",id:"getrewardperha",level:3},{value:"getVehicleSize",id:"getvehiclesize",level:3},{value:"getWorldPosition",id:"getworldposition",level:3},{value:"init",id:"init",level:3},{value:"initializeModifier",id:"initializemodifier",level:3},{value:"loadFromXMLFile",id:"loadfromxmlfile",level:3},{value:"new",id:"new",level:3},{value:"prepare",id:"prepare",level:3},{value:"prepareField",id:"preparefield",level:3},{value:"reactivate",id:"reactivate",level:3},{value:"readStream",id:"readstream",level:3},{value:"removeAccess",id:"removeaccess",level:3},{value:"removeFromMissionMap",id:"removefrommissionmap",level:3},{value:"removeHotspot",id:"removehotspot",level:3},{value:"saveToXMLFile",id:"savetoxmlfile",level:3},{value:"setField",id:"setfield",level:3},{value:"setPartitionRegion",id:"setpartitionregion",level:3},{value:"start",id:"start",level:3},{value:"started",id:"started",level:3},{value:"update",id:"update",level:3},{value:"updateMissionMap",id:"updatemissionmap",level:3},{value:"validate",id:"validate",level:3},{value:"writeStream",id:"writestream",level:3}];function a(n){const e={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e.h2,{id:"abstractfieldmission",children:"AbstractFieldMission"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Parent"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.a,{href:"?version=script&category=35&class=409",children:"AbstractMission"})}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Functions"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#addhotspots",children:"addHotspots"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#addtomissionmap",children:"addToMissionMap"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#createmaphotspot",children:"createMapHotspot"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#createmodifier",children:"createModifier"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#delete",children:"delete"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#dismiss",children:"dismiss"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#finish",children:"finish"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#finishfield",children:"finishField"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#getcompletion",children:"getCompletion"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#getdetails",children:"getDetails"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#getfarmlandid",children:"getFarmlandId"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#getfield",children:"getField"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#getfieldcompletion",children:"getFieldCompletion"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#getfieldfinishtask",children:"getFieldFinishTask"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#getfieldpreparingtask",children:"getFieldPreparingTask"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#getisprepared",children:"getIsPrepared"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#getisworkallowed",children:"getIsWorkAllowed"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#getlocation",children:"getLocation"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#getmaphotspots",children:"getMapHotspots"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#getnpc",children:"getNPC"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#getpartitioncompletion",children:"getPartitionCompletion"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#getreward",children:"getReward"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#getrewardperha",children:"getRewardPerHa"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#getvehiclesize",children:"getVehicleSize"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#getworldposition",children:"getWorldPosition"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#init",children:"init"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#initializemodifier",children:"initializeModifier"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#loadfromxmlfile",children:"loadFromXMLFile"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#new",children:"new"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#prepare",children:"prepare"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#preparefield",children:"prepareField"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#reactivate",children:"reactivate"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#readstream",children:"readStream"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#removeaccess",children:"removeAccess"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#removefrommissionmap",children:"removeFromMissionMap"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#removehotspot",children:"removeHotspot"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#savetoxmlfile",children:"saveToXMLFile"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#setfield",children:"setField"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#setpartitionregion",children:"setPartitionRegion"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#start",children:"start"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#started",children:"started"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#update",children:"update"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#updatemissionmap",children:"updateMissionMap"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#validate",children:"validate"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#writestream",children:"writeStream"})}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"addhotspots",children:"addHotspots"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"addHotspots()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function AbstractFieldMission:addHotspots()\n    if self.mapHotspot ~ = nil then\n        self.isHotspotAdded = true\n        g_currentMission:addMapHotspot( self.mapHotspot)\n    end\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"addtomissionmap",children:"addToMissionMap"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"Create BitVector indicating whether the point is in the field of the mission\nUsed to find a mission given (x, z)"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"addToMissionMap()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function AbstractFieldMission:addToMissionMap()\n    if not self.isInMissionMap then\n        self:updateMissionMap( self.activeMissionId)\n        self.isInMissionMap = true\n    end\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"createmaphotspot",children:"createMapHotspot"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"createMapHotspot()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function AbstractFieldMission:createMapHotspot()\n    if self.mapHotspot = = nil then\n        self.mapHotspot = AbstractFieldMissionHotspot.new()\n    end\n    self.mapHotspot:setField( self.field)\n\n    self.mapHotspots = {\n    self.mapHotspot\n    }\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"createmodifier",children:"createModifier"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"createModifier()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function AbstractFieldMission:createModifier()\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"delete",children:"delete"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"Delete mission"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"delete()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function AbstractFieldMission:delete()\n    self:removeFromMissionMap()\n\n    self:removeHotspot()\n\n    if self.mapHotspot ~ = nil then\n        self.mapHotspot:delete()\n        self.mapHotspot = nil\n    end\n\n    self.mapHotspots = nil\n\n    if self.field ~ = nil then\n        self.field:setMission( nil )\n        g_fieldManager:onFieldMissionDeleted()\n    end\n\n    AbstractFieldMission:superClass().delete( self )\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"dismiss",children:"dismiss"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"Dismiss mission from board. Called when mission moves from FINISH to deleted."}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"dismiss()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function AbstractFieldMission:dismiss()\n    self:finishField()\n    AbstractFieldMission:superClass().dismiss( self )\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"finish",children:"finish"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"Mission was finished with or without finishState"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"finish()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,l.jsx)(e.table,{children:(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"any"}),(0,l.jsx)(e.th,{children:"finishState"})]})})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:'function AbstractFieldMission:finish(finishState)\n    AbstractFieldMission:superClass().finish( self , finishState)\n\n    self:removeHotspot()\n\n    local mission = g_currentMission\n    if mission:getFarmId() = = self.farmId then\n        if finishState = = MissionFinishState.SUCCESS then\n            mission:addIngameNotification(FSBaseMission.INGAME_NOTIFICATION_OK, string.format(g_i18n:getText( "contract_field_finished" ), self.field:getId()))\n        elseif finishState = = MissionFinishState.FAILED then\n                mission:addIngameNotification(FSBaseMission.INGAME_NOTIFICATION_CRITICAL, string.format(g_i18n:getText( "contract_field_failed" ), self.field:getId()))\n            elseif finishState = = MissionFinishState.TIMED_OUT then\n                    mission:addIngameNotification(FSBaseMission.INGAME_NOTIFICATION_CRITICAL, string.format(g_i18n:getText( "contract_field_timedOut" ), self.field:getId()))\n                end\n            end\n        end\n\n'})}),"\n",(0,l.jsx)(e.h3,{id:"finishfield",children:"finishField"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"finishField()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function AbstractFieldMission:finishField()\n    if self.isServer then\n        local task = self:getFieldFinishTask()\n        if task ~ = nil then\n            task:setField( self.field)\n            g_fieldManager:addFieldUpdateTask(task)\n        end\n    end\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"getcompletion",children:"getCompletion"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"Get current completion."}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"getCompletion()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function AbstractFieldMission:getCompletion()\n    local fieldCompletion = self:getFieldCompletion()\n\n    return fieldCompletion / AbstractMission.SUCCESS_FACTOR\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"getdetails",children:"getDetails"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"getDetails()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:'function AbstractFieldMission:getDetails()\n    local details = AbstractFieldMission:superClass().getDetails( self )\n\n    table.insert(details, { title = g_i18n:getText( "contract_details_field" ), value = self.field:getName() } )\n    table.insert(details, { title = g_i18n:getText( "contract_details_fieldSize" ), value = g_i18n:formatArea( self.field:getAreaHa(), 2 ) } )\n\n    return details\nend\n\n'})}),"\n",(0,l.jsx)(e.h3,{id:"getfarmlandid",children:"getFarmlandId"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"getFarmlandId()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function AbstractFieldMission:getFarmlandId()\n    local field = self.field\n    if field ~ = nil then\n        return field:getId()\n    end\n\n    return nil\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"getfield",children:"getField"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"getField()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function AbstractFieldMission:getField()\n    return self.field\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"getfieldcompletion",children:"getFieldCompletion"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"Calculate field completion in an optimized way, split over multiple updates"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"getFieldCompletion()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function AbstractFieldMission:getFieldCompletion()\n    if not self.isFieldCompletionInitialized then\n        self:initializeModifier()\n        self.isFieldCompletionInitialized = true\n    end\n\n    if self.currentPartitionCompletionIndex = = nil then\n        self.currentPartitionCompletionIndex = 1\n    end\n\n    local sumPixels, area, totalArea = self:getPartitionCompletion( self.currentPartitionCompletionIndex)\n    if area ~ = nil then\n        local partition = self.completionPartitions[ self.currentPartitionCompletionIndex]\n        partition.wasCalculated = true\n        partition.sumPixels = sumPixels\n        partition.area = area\n        partition.totalArea = totalArea\n    end\n\n    self:updateFieldPercentageDone(totalArea)\n\n    self.currentPartitionCompletionIndex = self.currentPartitionCompletionIndex + 1\n    if self.currentPartitionCompletionIndex > # self.completionPartitions then\n        self.currentPartitionCompletionIndex = 1\n    end\n\n    return self.fieldPercentageDone\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"getfieldfinishtask",children:"getFieldFinishTask"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"getFieldFinishTask()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function AbstractFieldMission:getFieldFinishTask()\n    local fieldState = self.field:getFieldState()\n    if fieldState.isValid then\n        return fieldState:createFieldUpdateTask()\n    end\n\n    return nil\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"getfieldpreparingtask",children:"getFieldPreparingTask"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"getFieldPreparingTask()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function AbstractFieldMission:getFieldPreparingTask()\n    local fieldState = self.field:getFieldState()\n    if not fieldState.isValid then\n        return\n    end\n\n    local fieldPreparingTask = fieldState:createFieldUpdateTask()\n    fieldPreparingTask:clearHeight()\n    fieldPreparingTask:setField( self.field)\n\n    return fieldPreparingTask\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"getisprepared",children:"getIsPrepared"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"getIsPrepared()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function AbstractFieldMission:getIsPrepared()\n    if not AbstractFieldMission:superClass().getIsPrepared( self ) then\n        return false\n    end\n\n    if self.fieldPreparingTask = = nil then\n        return true\n    end\n\n    return self.fieldPreparingTask:getIsFinished()\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"getisworkallowed",children:"getIsWorkAllowed"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"getIsWorkAllowed()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"any"}),(0,l.jsx)(e.th,{children:"farmId"})]})}),(0,l.jsxs)(e.tbody,{children:[(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"any"}),(0,l.jsx)(e.td,{children:"x"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"any"}),(0,l.jsx)(e.td,{children:"z"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"any"}),(0,l.jsx)(e.td,{children:"workAreaType"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"any"}),(0,l.jsx)(e.td,{children:"vehicle"})]})]})]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function AbstractFieldMission:getIsWorkAllowed(farmId, x, z, workAreaType, vehicle)\n    return self:getIsRunning() and(workAreaType = = nil or self.workAreaTypes[workAreaType])\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"getlocation",children:"getLocation"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"getLocation()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:'function AbstractFieldMission:getLocation()\n    local name = self.field:getName()\n    return string.format(g_i18n:getText( "contract_farmland" ), name)\nend\n\n'})}),"\n",(0,l.jsx)(e.h3,{id:"getmaphotspots",children:"getMapHotspots"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"getMapHotspots()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function AbstractFieldMission:getMapHotspots()\n    return self.mapHotspots\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"getnpc",children:"getNPC"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"Get the NPC giving this mission"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"getNPC()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function AbstractFieldMission:getNPC()\n    return self.field.farmland:getNPC()\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"getpartitioncompletion",children:"getPartitionCompletion"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"getPartitionCompletion()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,l.jsx)(e.table,{children:(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"any"}),(0,l.jsx)(e.th,{children:"partitionIndex"})]})})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function AbstractFieldMission:getPartitionCompletion(partitionIndex)\n    self:setPartitionRegion(partitionIndex)\n\n    if self.completionModifier ~ = nil then\n        local sumPixels, area, totalArea = self.completionModifier:executeGet( self.completionFilter)\n\n        return sumPixels, area, totalArea\n    end\n\n    return 0 , 0 , 0\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"getreward",children:"getReward"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"getReward()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function AbstractFieldMission:getReward()\n    local mission = g_currentMission\n    -- Less on harder modes.1.2, 1.1, 1.0\n    local difficultyMultiplier = 1.3 - 0.1 * mission.missionInfo.economicDifficulty\n    local area = self.field:getAreaHa()\n\n    local base = AbstractFieldMission:superClass().getReward( self )\n    local rewardPerHa = self:getRewardPerHa()\n    local reward = rewardPerHa * area\n\n    return base + reward * difficultyMultiplier\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"getrewardperha",children:"getRewardPerHa"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"getRewardPerHa()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function AbstractFieldMission:getRewardPerHa()\n    return 1\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"getvehiclesize",children:"getVehicleSize"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"Get a categorized field size for leased vehicle groups."}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"getVehicleSize()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:'function AbstractFieldMission:getVehicleSize()\n    local areaHa = self.field:getAreaHa()\n    local fieldSize = "small"\n    if areaHa > AbstractFieldMission.FIELD_SIZE_LARGE then\n        fieldSize = "large"\n    elseif areaHa > AbstractFieldMission.FIELD_SIZE_MEDIUM then\n            fieldSize = "medium"\n        end\n\n        return fieldSize\n    end\n\n'})}),"\n",(0,l.jsx)(e.h3,{id:"getworldposition",children:"getWorldPosition"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"getWorldPosition()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function AbstractFieldMission:getWorldPosition()\n    return self.field:getIndicatorPosition()\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"init",children:"init"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"init()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,l.jsx)(e.table,{children:(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"any"}),(0,l.jsx)(e.th,{children:"field"})]})})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function AbstractFieldMission:init(field)\n    self:setField(field)\n    return AbstractFieldMission:superClass().init( self )\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"initializemodifier",children:"initializeModifier"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"initializeModifier()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function AbstractFieldMission:initializeModifier()\n    if self.completionModifier ~ = nil then\n        local densityMapPolygon = self.field:getDensityMapPolygon()\n        densityMapPolygon:applyToModifier( self.completionModifier)\n\n        self.completionPartitions = { }\n        local numPartitions = 1\n        local minZ, maxZ = self.completionModifier:getPolygonMinMaxZ()\n        if minZ ~ = nil then\n            local sizeSqm = MathUtil.haToSqm( self.field:getAreaHa())\n            numPartitions = math.ceil(sizeSqm / AbstractFieldMission.SQM_PER_PARTITION)\n\n            local currentMinZ, currentMaxZ\n            local regionPerPartition = (maxZ - minZ) / numPartitions\n            for i = 1 , numPartitions do\n                if currentMinZ = = nil then\n                    currentMinZ = minZ\n                else\n                        currentMinZ = currentMaxZ\n                    end\n\n                    currentMaxZ = math.ceil(currentMinZ + regionPerPartition)\n\n                    local partition = {\n                    wasCalculated = false ,\n                    percentageDone = 0 ,\n                    sumPixels = 0 ,\n                    area = 0 ,\n                    totalArea = 0 ,\n                    minZ = currentMinZ,\n                    maxZ = math.min(currentMaxZ, maxZ)\n                    }\n\n                    table.insert( self.completionPartitions, partition)\n\n                    if currentMinZ = = nil or currentMaxZ > = maxZ then\n                        break\n                    end\n                end\n            else\n                    local partition = {\n                    wasCalculated = false ,\n                    percentageDone = 0 ,\n                    sumPixels = 0 ,\n                    area = 0 ,\n                    totalArea = 0\n                    }\n\n                    table.insert( self.completionPartitions, partition)\n                end\n            end\n        end\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"loadfromxmlfile",children:"loadFromXMLFile"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"Load mission from savegame"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"loadFromXMLFile()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"any"}),(0,l.jsx)(e.th,{children:"xmlFile"})]})}),(0,l.jsx)(e.tbody,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"any"}),(0,l.jsx)(e.td,{children:"key"})]})})]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:'function AbstractFieldMission:loadFromXMLFile(xmlFile, key)\n    local fieldId = xmlFile:getValue(key .. ".field#id" )\n    local field = g_fieldManager:getFieldById(fieldId)\n\n    if field = = nil then\n        Logging.xmlWarning(xmlFile, "Mission \'%s\' field \'%s\' is not available." , key, fieldId)\n        return false\n    end\n\n    self:setField(field)\n\n    if not AbstractFieldMission:superClass().loadFromXMLFile( self , xmlFile, key) then\n        return false\n    end\n\n    local fieldPreparingTaskKey = key .. ".field.preparingTask"\n    if xmlFile:hasProperty(fieldPreparingTaskKey) then\n        local className = xmlFile:getValue(fieldPreparingTaskKey .. "#className" , "FieldUpdateTask" )\n        local class = ClassUtil.getClassObject(className)\n        if class ~ = nil then\n            local fieldPreparingTask = class.new()\n            if fieldPreparingTask:loadFromXMLFile(xmlFile, fieldPreparingTaskKey) then\n                fieldPreparingTask:setNeedsSaving( false )\n                fieldPreparingTask:enqueue()\n                self.fieldPreparingTask = fieldPreparingTask\n            end\n        else\n                Logging.xmlWarning(xmlFile, "Class \'%s\' not defined for update task \'%s\'" , className, fieldPreparingTaskKey)\n                end\n            end\n\n            if self.status = = MissionStatus.PREPARING or self.status = = MissionStatus.RUNNING then\n                self:addToMissionMap()\n            end\n\n            return true\n        end\n\n'})}),"\n",(0,l.jsx)(e.h3,{id:"new",children:"new"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"Create new mission"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"new()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"any"}),(0,l.jsx)(e.th,{children:"isServer"})]})}),(0,l.jsxs)(e.tbody,{children:[(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"any"}),(0,l.jsx)(e.td,{children:"isClient"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"any"}),(0,l.jsx)(e.td,{children:"title"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"any"}),(0,l.jsx)(e.td,{children:"description"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"any"}),(0,l.jsx)(e.td,{children:"customMt"})]})]})]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function AbstractFieldMission.new(isServer, isClient, title, description, customMt)\n    local self = AbstractMission.new(isServer, isClient, title, description, customMt or AbstractFieldMission _mt)\n\n    self.workAreaTypes = { }\n    self.moneyMultiplier = 1.0\n    self.isInMissionMap = false\n    self.fieldPercentageDone = 0.0\n\n    self.completionModifier = nil\n    self.completionFilter = nil\n\n    self.isHotspotAdded = false\n    self.mapHotspot = nil\n\n    return self\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"prepare",children:"prepare"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"prepare()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,l.jsx)(e.table,{children:(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"any"}),(0,l.jsx)(e.th,{children:"spawnVehicles"})]})})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function AbstractFieldMission:prepare(spawnVehicles)\n    AbstractFieldMission:superClass().prepare( self , spawnVehicles)\n\n    self:prepareField()\n    self:createModifier()\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"preparefield",children:"prepareField"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"prepareField()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function AbstractFieldMission:prepareField()\n    if self.isServer then\n        self.fieldPreparingTask = self:getFieldPreparingTask()\n        if self.fieldPreparingTask ~ = nil then\n            self.fieldPreparingTask:setNeedsSaving( false )\n            g_fieldManager:addFieldUpdateTask( self.fieldPreparingTask)\n        end\n    end\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"reactivate",children:"reactivate"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"reactivate()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function AbstractFieldMission:reactivate()\n    self:createModifier()\n\n    AbstractFieldMission:superClass().reactivate( self )\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"readstream",children:"readStream"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"readStream()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"any"}),(0,l.jsx)(e.th,{children:"streamId"})]})}),(0,l.jsx)(e.tbody,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"any"}),(0,l.jsx)(e.td,{children:"connection"})]})})]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function AbstractFieldMission:readStream(streamId, connection)\n    local fieldId = streamReadInt32(streamId)\n    local field = g_fieldManager:getFieldById(fieldId)\n\n    self:setField(field)\n\n    AbstractFieldMission:superClass().readStream( self , streamId, connection)\n\n    if self.status = = MissionStatus.PREPARING or self.status = = MissionStatus.RUNNING then\n        self:addToMissionMap()\n    end\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"removeaccess",children:"removeAccess"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"Remove access from the field"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"removeAccess()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function AbstractFieldMission:removeAccess()\n    self:removeFromMissionMap()\n    AbstractFieldMission:superClass().removeAccess( self )\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"removefrommissionmap",children:"removeFromMissionMap"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"removeFromMissionMap()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function AbstractFieldMission:removeFromMissionMap()\n    if self.isInMissionMap then\n        self:updateMissionMap( 0 )\n        self.isInMissionMap = false\n    end\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"removehotspot",children:"removeHotspot"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"removeHotspot()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function AbstractFieldMission:removeHotspot()\n    if self.mapHotspot ~ = nil then\n        g_currentMission:removeMapHotspot( self.mapHotspot)\n        self.isHotspotAdded = false\n    end\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"savetoxmlfile",children:"saveToXMLFile"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"Save mission"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"saveToXMLFile()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"any"}),(0,l.jsx)(e.th,{children:"xmlFile"})]})}),(0,l.jsx)(e.tbody,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"any"}),(0,l.jsx)(e.td,{children:"key"})]})})]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:'function AbstractFieldMission:saveToXMLFile(xmlFile, key)\n    AbstractFieldMission:superClass().saveToXMLFile( self , xmlFile, key)\n    xmlFile:setValue(key .. ".field#id" , self.field:getId())\n\n    if self.status = = MissionStatus.PREPARING and self.fieldPreparingTask ~ = nil and self.fieldPreparingTask:getIsFinished() then\n        local taskKey = key .. ".field.preparingTask"\n        xmlFile:setValue(taskKey .. "#className" , ClassUtil.getClassNameByObject( self.fieldPreparingTask))\n        self.fieldPreparingTask:saveToXMLFile(xmlFile, taskKey)\n    end\nend\n\n'})}),"\n",(0,l.jsx)(e.h3,{id:"setfield",children:"setField"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"setField()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,l.jsx)(e.table,{children:(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"any"}),(0,l.jsx)(e.th,{children:"field"})]})})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:'function AbstractFieldMission:setField(field)\n    self.field = field\n    field:setMission( self )\n\n    local fieldId = field:getId()\n    if fieldId ~ = nil then\n        self.progressTitle = string.format( "%s(%s %d)" , self.title, g_i18n:getText( "contract_details_field" ), fieldId)\n    end\n\n    g_fieldManager:onFieldMissionStarted()\n\n    self:createMapHotspot()\nend\n\n'})}),"\n",(0,l.jsx)(e.h3,{id:"setpartitionregion",children:"setPartitionRegion"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"setPartitionRegion()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,l.jsx)(e.table,{children:(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"any"}),(0,l.jsx)(e.th,{children:"partitionIndex"})]})})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function AbstractFieldMission:setPartitionRegion(partitionIndex)\n    if self.completionPartitions = = nil or # self.completionPartitions = = 1 then\n        return\n    end\n\n    if self.completionModifier ~ = nil then\n        local partition = self.completionPartitions[partitionIndex]\n        self.completionModifier:setPolygonClipRegion(partition.minZ, partition.maxZ)\n    end\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"start",children:"start"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"Start the mission with or without borrowed vehicles"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"start()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,l.jsx)(e.table,{children:(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"any"}),(0,l.jsx)(e.th,{children:"spawnVehicles"})]})})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function AbstractFieldMission:start(spawnVehicles)\n    if not AbstractFieldMission:superClass().start( self , spawnVehicles) then\n        return false\n    end\n\n    self:addToMissionMap()\n\n    return true\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"started",children:"started"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"started()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function AbstractFieldMission:started()\n    self:addToMissionMap()\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"update",children:"update"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"update()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,l.jsx)(e.table,{children:(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"any"}),(0,l.jsx)(e.th,{children:"dt"})]})})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function AbstractFieldMission:update(dt)\n    AbstractFieldMission:superClass().update( self , dt)\n\n    if self.status = = MissionStatus.RUNNING and g_localPlayer ~ = nil and g_localPlayer.farmId = = self.farmId and not self.isHotspotAdded then\n        self:addHotspots()\n    end\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"updatemissionmap",children:"updateMissionMap"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"updateMissionMap()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,l.jsx)(e.table,{children:(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"any"}),(0,l.jsx)(e.th,{children:"missionId"})]})})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function AbstractFieldMission:updateMissionMap(missionId)\n    local polygon = self.field:getDensityMapPolygon()\n    g_missionManager:setMissionMapActiveMissionId(polygon, missionId)\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"validate",children:"validate"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"validate()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function AbstractFieldMission:validate()\n    if not AbstractFieldMission:superClass().validate( self ) then\n        return false\n    end\n\n    if self.field = = nil then\n        return false\n    end\n\n    return not self.field:getHasOwner()\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"writestream",children:"writeStream"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"writeStream()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"any"}),(0,l.jsx)(e.th,{children:"streamId"})]})}),(0,l.jsx)(e.tbody,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"any"}),(0,l.jsx)(e.td,{children:"connection"})]})})]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function AbstractFieldMission:writeStream(streamId, connection)\n    streamWriteInt32(streamId, self.field:getId())\n\n    AbstractFieldMission:superClass().writeStream( self , streamId, connection)\nend\n\n"})})]})}function h(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(a,{...n})}):a(n)}},28453(n,e,i){i.d(e,{R:()=>t,x:()=>d});var s=i(96540);const l={},r=s.createContext(l);function t(n){const e=s.useContext(r);return s.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function d(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(l):n.components||l:t(n.components),s.createElement(r.Provider,{value:e},n.children)}}}]);