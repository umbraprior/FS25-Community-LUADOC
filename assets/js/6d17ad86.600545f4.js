"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[73024],{28453(e,n,i){i.d(n,{R:()=>a,x:()=>s});var t=i(96540);const l={},r=t.createContext(l);function a(e){const n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:a(e.components),t.createElement(r.Provider,{value:n},e.children)}},37670(e,n,i){i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>s,default:()=>p,frontMatter:()=>a,metadata:()=>t,toc:()=>o});const t=JSON.parse('{"id":"script/Specializations/Trailer","title":"Trailer","description":"Trailer","source":"@site/../docs/script/Specializations/Trailer.md","sourceDirName":"script/Specializations","slug":"/script/Specializations/Trailer","permalink":"/FS25-Community-LUADOC/script/Specializations/Trailer","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"TireTracks","permalink":"/FS25-Community-LUADOC/script/Specializations/TireTracks"},"next":{"title":"TreePlanter","permalink":"/FS25-Community-LUADOC/script/Specializations/TreePlanter"}}');var l=i(74848),r=i(28453);const a={},s=void 0,d={},o=[{value:"Trailer",id:"trailer",level:2},{value:"actionEventManualToggleDoor",id:"actioneventmanualtoggledoor",level:3},{value:"actionEventManualToggleTip",id:"actioneventmanualtoggletip",level:3},{value:"actionEventToggleTipSide",id:"actioneventtoggletipside",level:3},{value:"endTipping",id:"endtipping",level:3},{value:"externalActionEventDoorToggleRegister",id:"externalactioneventdoortoggleregister",level:3},{value:"externalActionEventDoorToggleUpdate",id:"externalactioneventdoortoggleupdate",level:3},{value:"getAIHasFinishedDischarge",id:"getaihasfinisheddischarge",level:3},{value:"getAllowTrailerDoorToggle",id:"getallowtrailerdoortoggle",level:3},{value:"getCanBeSelected",id:"getcanbeselected",level:3},{value:"getCanChangePickupState",id:"getcanchangepickupstate",level:3},{value:"getCanDischargeToGround",id:"getcandischargetoground",level:3},{value:"getCanDischargeToObject",id:"getcandischargetoobject",level:3},{value:"getCanTogglePreferdTipSide",id:"getcantogglepreferdtipside",level:3},{value:"getDischargeNodeEmptyFactor",id:"getdischargenodeemptyfactor",level:3},{value:"getIsNextCoverStateAllowed",id:"getisnextcoverstateallowed",level:3},{value:"getIsTipSideAvailable",id:"getistipsideavailable",level:3},{value:"getIsTurnedOnAnimationActive",id:"getisturnedonanimationactive",level:3},{value:"getNextAvailableTipSide",id:"getnextavailabletipside",level:3},{value:"getRequiresPower",id:"getrequirespower",level:3},{value:"getTipState",id:"gettipstate",level:3},{value:"initSpecialization",id:"initspecialization",level:3},{value:"loadPickupFromXML",id:"loadpickupfromxml",level:3},{value:"loadTipSide",id:"loadtipside",level:3},{value:"loadTurnedOnAnimationFromXML",id:"loadturnedonanimationfromxml",level:3},{value:"onDeactivate",id:"ondeactivate",level:3},{value:"onDelete",id:"ondelete",level:3},{value:"onDischargeStateChanged",id:"ondischargestatechanged",level:3},{value:"onFillUnitFillLevelChanged",id:"onfillunitfilllevelchanged",level:3},{value:"onLoad",id:"onload",level:3},{value:"onLoadFinished",id:"onloadfinished",level:3},{value:"onPostLoad",id:"onpostload",level:3},{value:"onReadStream",id:"onreadstream",level:3},{value:"onRegisterActionEvents",id:"onregisteractionevents",level:3},{value:"onRegisterAnimationValueTypes",id:"onregisteranimationvaluetypes",level:3},{value:"onRegisterExternalActionEvents",id:"onregisterexternalactionevents",level:3},{value:"onUpdate",id:"onupdate",level:3},{value:"onWriteStream",id:"onwritestream",level:3},{value:"prerequisitesPresent",id:"prerequisitespresent",level:3},{value:"registerEventListeners",id:"registereventlisteners",level:3},{value:"registerEvents",id:"registerevents",level:3},{value:"registerFunctions",id:"registerfunctions",level:3},{value:"registerOverwrittenFunctions",id:"registeroverwrittenfunctions",level:3},{value:"saveToXMLFile",id:"savetoxmlfile",level:3},{value:"setManualDischargeState",id:"setmanualdischargestate",level:3},{value:"setPreferedTipSide",id:"setpreferedtipside",level:3},{value:"setTipSideUpdateDirty",id:"settipsideupdatedirty",level:3},{value:"setTipState",id:"settipstate",level:3},{value:"setTrailerDoorState",id:"settrailerdoorstate",level:3},{value:"startAIDischarge",id:"startaidischarge",level:3},{value:"startTipping",id:"starttipping",level:3},{value:"stopTipping",id:"stoptipping",level:3},{value:"updateTrailerAutomaticRedischarge",id:"updatetrailerautomaticredischarge",level:3}];function c(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.h2,{id:"trailer",children:"Trailer"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"Specialization for trailers providing tipping animation and tip side selection functionlity"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Functions"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#actioneventmanualtoggledoor",children:"actionEventManualToggleDoor"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#actioneventmanualtoggletip",children:"actionEventManualToggleTip"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#actioneventtoggletipside",children:"actionEventToggleTipSide"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#endtipping",children:"endTipping"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#externalactioneventdoortoggleregister",children:"externalActionEventDoorToggleRegister"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#externalactioneventdoortoggleupdate",children:"externalActionEventDoorToggleUpdate"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#getaihasfinisheddischarge",children:"getAIHasFinishedDischarge"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#getallowtrailerdoortoggle",children:"getAllowTrailerDoorToggle"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#getcanbeselected",children:"getCanBeSelected"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#getcanchangepickupstate",children:"getCanChangePickupState"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#getcandischargetoground",children:"getCanDischargeToGround"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#getcandischargetoobject",children:"getCanDischargeToObject"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#getcantogglepreferdtipside",children:"getCanTogglePreferdTipSide"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#getdischargenodeemptyfactor",children:"getDischargeNodeEmptyFactor"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#getisnextcoverstateallowed",children:"getIsNextCoverStateAllowed"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#getistipsideavailable",children:"getIsTipSideAvailable"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#getisturnedonanimationactive",children:"getIsTurnedOnAnimationActive"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#getnextavailabletipside",children:"getNextAvailableTipSide"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#getrequirespower",children:"getRequiresPower"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#gettipstate",children:"getTipState"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#initspecialization",children:"initSpecialization"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#loadpickupfromxml",children:"loadPickupFromXML"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#loadtipside",children:"loadTipSide"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#loadturnedonanimationfromxml",children:"loadTurnedOnAnimationFromXML"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#ondeactivate",children:"onDeactivate"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#ondelete",children:"onDelete"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#ondischargestatechanged",children:"onDischargeStateChanged"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#onfillunitfilllevelchanged",children:"onFillUnitFillLevelChanged"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#onload",children:"onLoad"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#onloadfinished",children:"onLoadFinished"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#onpostload",children:"onPostLoad"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#onreadstream",children:"onReadStream"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#onregisteractionevents",children:"onRegisterActionEvents"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#onregisteranimationvaluetypes",children:"onRegisterAnimationValueTypes"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#onregisterexternalactionevents",children:"onRegisterExternalActionEvents"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#onupdate",children:"onUpdate"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#onwritestream",children:"onWriteStream"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#prerequisitespresent",children:"prerequisitesPresent"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#registereventlisteners",children:"registerEventListeners"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#registerevents",children:"registerEvents"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#registerfunctions",children:"registerFunctions"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#registeroverwrittenfunctions",children:"registerOverwrittenFunctions"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#savetoxmlfile",children:"saveToXMLFile"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#setmanualdischargestate",children:"setManualDischargeState"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#setpreferedtipside",children:"setPreferedTipSide"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#settipsideupdatedirty",children:"setTipSideUpdateDirty"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#settipstate",children:"setTipState"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#settrailerdoorstate",children:"setTrailerDoorState"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#startaidischarge",children:"startAIDischarge"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#starttipping",children:"startTipping"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#stoptipping",children:"stopTipping"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#updatetrailerautomaticredischarge",children:"updateTrailerAutomaticRedischarge"})}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"actioneventmanualtoggledoor",children:"actionEventManualToggleDoor"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"actionEventManualToggleDoor()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"any"}),(0,l.jsx)(n.th,{children:"self"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"actionName"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"inputValue"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"callbackState"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"isAnalog"})]})]})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:'function Trailer.actionEventManualToggleDoor( self , actionName, inputValue, callbackState, isAnalog)\n    local spec = self.spec_trailer\n    if self:getAllowTrailerDoorToggle(spec.preferedTipSideIndex) then\n        self:setTrailerDoorState(spec.preferedTipSideIndex)\n    else\n            g_currentMission:showBlinkingWarning(g_i18n:getText( "warning_actionNotAllowedNow" ), 5000 )\n        end\n    end\n\n'})}),"\n",(0,l.jsx)(n.h3,{id:"actioneventmanualtoggletip",children:"actionEventManualToggleTip"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"actionEventManualToggleTip()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"any"}),(0,l.jsx)(n.th,{children:"self"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"actionName"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"inputValue"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"callbackState"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"isAnalog"})]})]})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"function Trailer.actionEventManualToggleTip( self , actionName, inputValue, callbackState, isAnalog)\n    local tipState = self:getTipState()\n    if tipState = = Trailer.TIPSTATE_CLOSED or tipState = = Trailer.TIPSTATE_CLOSING then\n        self:startTipping( nil , false )\n        TrailerToggleManualTipEvent.sendEvent( self , true )\n    else\n            self:stopTipping()\n            TrailerToggleManualTipEvent.sendEvent( self , false )\n        end\n    end\n\n"})}),"\n",(0,l.jsx)(n.h3,{id:"actioneventtoggletipside",children:"actionEventToggleTipSide"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"actionEventToggleTipSide()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"any"}),(0,l.jsx)(n.th,{children:"self"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"actionName"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"inputValue"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"callbackState"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"isAnalog"})]})]})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"function Trailer.actionEventToggleTipSide( self , actionName, inputValue, callbackState, isAnalog)\n    local spec = self.spec_trailer\n\n    if self:getCanTogglePreferdTipSide() then\n        self:setPreferedTipSide( self:getNextAvailableTipSide(spec.preferedTipSideIndex))\n    end\nend\n\n"})}),"\n",(0,l.jsx)(n.h3,{id:"endtipping",children:"endTipping"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"endTipping()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,l.jsx)(n.table,{children:(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"any"}),(0,l.jsx)(n.th,{children:"noEventSend"})]})})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:'function Trailer:endTipping(noEventSend)\n    local spec = self.spec_trailer\n\n    local tipSide = spec.tipSides[spec.currentTipSideIndex]\n    if tipSide ~ = nil then\n        if ( not tipSide.manualDoorToggle or tipSide.manualDoorToggleWhileTipping) and tipSide.doorAnimation.name ~ = nil then\n            if tipSide.doorAnimation.delayedClosing then\n                self:setTrailerDoorState(spec.currentTipSideIndex, false , true )\n            end\n        end\n    end\n\n    spec.tipState = Trailer.TIPSTATE_CLOSED\n    spec.currentTipSideIndex = nil\n\n    SpecializationUtil.raiseEvent( self , "onEndTipping" )\nend\n\n'})}),"\n",(0,l.jsx)(n.h3,{id:"externalactioneventdoortoggleregister",children:"externalActionEventDoorToggleRegister"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"externalActionEventDoorToggleRegister()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"any"}),(0,l.jsx)(n.th,{children:"data"})]})}),(0,l.jsx)(n.tbody,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"vehicle"})]})})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"function Trailer.externalActionEventDoorToggleRegister(data, vehicle)\n    local spec = vehicle.spec_trailer\n    local tipSide = spec.tipSides[data.trailerTipSideIndex]\n    if tipSide = = nil or not tipSide.manualDoorToggle then\n        return\n    end\n\n    local function actionEvent(_, actionName, inputValue, callbackState, isAnalog)\n        if vehicle:getIsTipSideAvailable(data.trailerTipSideIndex) then\n            vehicle:setPreferedTipSide(data.trailerTipSideIndex)\n\n            Trailer.actionEventManualToggleDoor(vehicle, actionName, inputValue, callbackState, isAnalog)\n        end\n    end\n\n    local _\n    _, data.actionEventId = g_inputBinding:registerActionEvent(tipSide.manualDoorToggleAction, data, actionEvent, false , true , false , true )\n    g_inputBinding:setActionEventTextPriority(data.actionEventId, GS_PRIO_HIGH)\nend\n\n"})}),"\n",(0,l.jsx)(n.h3,{id:"externalactioneventdoortoggleupdate",children:"externalActionEventDoorToggleUpdate"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"externalActionEventDoorToggleUpdate()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"any"}),(0,l.jsx)(n.th,{children:"data"})]})}),(0,l.jsx)(n.tbody,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"vehicle"})]})})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"function Trailer.externalActionEventDoorToggleUpdate(data, vehicle)\n    local spec = vehicle.spec_trailer\n    local tipSide = spec.tipSides[data.trailerTipSideIndex]\n    if tipSide = = nil or not tipSide.manualDoorToggle then\n        return\n    end\n\n    local text\n    if vehicle:getIsAnimationPlaying(tipSide.doorAnimation.name) then\n        if vehicle:getAnimationSpeed(tipSide.doorAnimation.name) > 0 then\n            text = tipSide.manualDoorToggleActionTextNeg\n        else\n                text = tipSide.manualDoorToggleActionTextPos\n            end\n        else\n                if vehicle:getAnimationTime(tipSide.doorAnimation.name) < = 0 then\n                    text = tipSide.manualDoorToggleActionTextPos\n                else\n                        text = tipSide.manualDoorToggleActionTextNeg\n                    end\n                end\n\n                g_inputBinding:setActionEventText(data.actionEventId, text)\n            end\n\n"})}),"\n",(0,l.jsx)(n.h3,{id:"getaihasfinisheddischarge",children:"getAIHasFinishedDischarge"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"getAIHasFinishedDischarge()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"any"}),(0,l.jsx)(n.th,{children:"superFunc"})]})}),(0,l.jsx)(n.tbody,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"dischargeNode"})]})})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"function Trailer:getAIHasFinishedDischarge(superFunc, dischargeNode)\n    if self:getTipState() ~ = Trailer.TIPSTATE_CLOSED then\n        return false\n    end\n\n    return superFunc( self , dischargeNode)\nend\n\n"})}),"\n",(0,l.jsx)(n.h3,{id:"getallowtrailerdoortoggle",children:"getAllowTrailerDoorToggle"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"getAllowTrailerDoorToggle()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,l.jsx)(n.table,{children:(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"any"}),(0,l.jsx)(n.th,{children:"tipSideIndex"})]})})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"function Trailer:getAllowTrailerDoorToggle(tipSideIndex)\n    local spec = self.spec_trailer\n    local tipSide = spec.tipSides[tipSideIndex]\n    if tipSide ~ = nil then\n        if tipSide.manualDoorToggleFillUnitIndex ~ = nil and not tipSide.manualDoorToggleFillUnitAllowWhileFilled then\n            if self:getFillUnitFillLevel(tipSide.manualDoorToggleFillUnitIndex) > 0 then\n                return false\n            end\n        end\n\n        -- do not allow door closing while tipping\n            if tipSide.doorAnimation.state then\n                if spec.tipState = = Trailer.TIPSTATE_OPENING or spec.tipState = = Trailer.TIPSTATE_OPEN then\n                    return false\n                end\n            else\n                    if tipSide.manualDoorResetWhileTipping then\n                        if spec.tipState = = Trailer.TIPSTATE_OPENING or spec.tipState = = Trailer.TIPSTATE_OPEN or spec.tipState = = Trailer.TIPSTATE_CLOSING then\n                            return false\n                        end\n                    end\n                end\n            end\n\n            return true\n        end\n\n"})}),"\n",(0,l.jsx)(n.h3,{id:"getcanbeselected",children:"getCanBeSelected"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"getCanBeSelected()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,l.jsx)(n.table,{children:(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"any"}),(0,l.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"function Trailer:getCanBeSelected(superFunc)\n    return true\nend\n\n"})}),"\n",(0,l.jsx)(n.h3,{id:"getcanchangepickupstate",children:"getCanChangePickupState"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"getCanChangePickupState()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"any"}),(0,l.jsx)(n.th,{children:"superFunc"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"spec"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"newState"})]})]})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"function Trailer:getCanChangePickupState(superFunc, spec, newState)\n    if not superFunc( self , spec, newState) then\n        return false\n    end\n\n    if not spec.allowWhileTipping then\n        return self:getTipState() = = Trailer.TIPSTATE_CLOSED\n    end\n\n    return true\nend\n\n"})}),"\n",(0,l.jsx)(n.h3,{id:"getcandischargetoground",children:"getCanDischargeToGround"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"getCanDischargeToGround()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"any"}),(0,l.jsx)(n.th,{children:"superFunc"})]})}),(0,l.jsx)(n.tbody,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"dischargeNode"})]})})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"function Trailer:getCanDischargeToGround(superFunc, dischargeNode)\n    local canTip = superFunc( self , dischargeNode)\n\n    if dischargeNode ~ = nil then\n        local spec = self.spec_trailer\n        local tipSide = spec.tipSides[spec.currentTipSideIndex or spec.preferedTipSideIndex]\n        if tipSide ~ = nil then\n            if not tipSide.canTip then\n                canTip = false\n            else\n                    local fillUnitIndex = dischargeNode.fillUnitIndex\n                    if not tipSide.canTipIfEmpty and self:getFillUnitFillLevel(fillUnitIndex) = = 0 then\n                        canTip = false\n                    end\n                end\n            end\n        end\n\n        return canTip\n    end\n\n"})}),"\n",(0,l.jsx)(n.h3,{id:"getcandischargetoobject",children:"getCanDischargeToObject"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"getCanDischargeToObject()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"any"}),(0,l.jsx)(n.th,{children:"superFunc"})]})}),(0,l.jsx)(n.tbody,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"dischargeNode"})]})})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"function Trailer:getCanDischargeToObject(superFunc, dischargeNode)\n    local canTip = superFunc( self , dischargeNode)\n\n    if dischargeNode ~ = nil then\n        local spec = self.spec_trailer\n        local tipSide = spec.tipSides[spec.currentTipSideIndex or spec.preferedTipSideIndex]\n        if tipSide ~ = nil then\n            if not tipSide.canTip then\n                canTip = false\n            end\n        end\n    end\n\n    return canTip\nend\n\n"})}),"\n",(0,l.jsx)(n.h3,{id:"getcantogglepreferdtipside",children:"getCanTogglePreferdTipSide"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"getCanTogglePreferdTipSide()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"function Trailer:getCanTogglePreferdTipSide()\n    local spec = self.spec_trailer\n    return spec.tipState = = Trailer.TIPSTATE_CLOSED and spec.tipSideCount > 0\nend\n\n"})}),"\n",(0,l.jsx)(n.h3,{id:"getdischargenodeemptyfactor",children:"getDischargeNodeEmptyFactor"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"getDischargeNodeEmptyFactor()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"any"}),(0,l.jsx)(n.th,{children:"superFunc"})]})}),(0,l.jsx)(n.tbody,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"dischargeNode"})]})})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"function Trailer:getDischargeNodeEmptyFactor(superFunc, dischargeNode)\n    local spec = self.spec_trailer\n    local tipSide = spec.dischargeNodeIndexToTipSide[dischargeNode.index]\n\n    if tipSide ~ = nil then\n        if tipSide.animation.name ~ = nil and tipSide.animation.startTipTime ~ = 0 then\n            if self:getAnimationDuration(tipSide.animation.name) > 0 then\n                if self:getAnimationTime(tipSide.animation.name) < tipSide.animation.startTipTime then\n                    return 0\n                end\n            end\n        end\n\n        if tipSide.doorAnimation.name ~ = nil and tipSide.doorAnimation.startTipTime ~ = 0 then\n            if self:getAnimationDuration(tipSide.doorAnimation.name) > 0 then\n                if self:getAnimationTime(tipSide.doorAnimation.name) < tipSide.doorAnimation.startTipTime then\n                    return 0\n                end\n            end\n        end\n\n        return tipSide.currentEmptyFactor\n    end\n\n    return superFunc( self , dischargeNode)\nend\n\n"})}),"\n",(0,l.jsx)(n.h3,{id:"getisnextcoverstateallowed",children:"getIsNextCoverStateAllowed"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"getIsNextCoverStateAllowed()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"any"}),(0,l.jsx)(n.th,{children:"superFunc"})]})}),(0,l.jsx)(n.tbody,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"nextState"})]})})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"function Trailer:getIsNextCoverStateAllowed(superFunc, nextState)\n    local spec = self.spec_trailer\n\n    local tipSide\n    if spec.currentTipSideIndex ~ = nil then\n        tipSide = spec.tipSides[spec.currentTipSideIndex]\n    end\n\n    if spec.preferedTipSideIndex ~ = nil then\n        local preferedTipSide = spec.tipSides[spec.preferedTipSideIndex]\n        if preferedTipSide ~ = nil and preferedTipSide.manualDoorToggle and preferedTipSide.doorAnimation.state then\n            tipSide = preferedTipSide\n        end\n    end\n\n    if tipSide ~ = nil then\n        if tipSide.dischargeNodeIndex ~ = nil then\n            local dischargeNode = self:getDischargeNodeByIndex(tipSide.dischargeNodeIndex)\n\n            local cover = self:getCoverByFillUnitIndex(dischargeNode.fillUnitIndex)\n            if cover ~ = nil then\n                if nextState ~ = cover.index then\n                    return false\n                end\n            end\n        end\n    end\n\n    return superFunc( self , nextState)\nend\n\n"})}),"\n",(0,l.jsx)(n.h3,{id:"getistipsideavailable",children:"getIsTipSideAvailable"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"getIsTipSideAvailable()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,l.jsx)(n.table,{children:(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"any"}),(0,l.jsx)(n.th,{children:"sideIndex"})]})})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"function Trailer:getIsTipSideAvailable(sideIndex)\n    local spec = self.spec_trailer\n    local tipSide = spec.tipSides[sideIndex]\n    if tipSide ~ = nil then\n        if tipSide.fillLevel.fillUnitIndex ~ = nil then\n            local fillLevelPct = self:getFillUnitFillLevelPercentage(tipSide.fillLevel.fillUnitIndex)\n            if fillLevelPct < tipSide.fillLevel.minFillLevelPct or fillLevelPct > tipSide.fillLevel.maxFillLevelPct then\n                return false\n            end\n        end\n\n        return true\n    end\n\n    return false\nend\n\n"})}),"\n",(0,l.jsx)(n.h3,{id:"getisturnedonanimationactive",children:"getIsTurnedOnAnimationActive"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"getIsTurnedOnAnimationActive()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"any"}),(0,l.jsx)(n.th,{children:"superFunc"})]})}),(0,l.jsx)(n.tbody,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"turnedOnAnimation"})]})})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"function Trailer:getIsTurnedOnAnimationActive(superFunc, turnedOnAnimation)\n    if turnedOnAnimation.playWhileTipping then\n        return superFunc( self , turnedOnAnimation) or( self:getTipState() ~ = Trailer.TIPSTATE_CLOSED and self:getDischargeNodeEmptyFactor( self:getCurrentDischargeNode()) > 0 )\n    end\n\n    return superFunc( self , turnedOnAnimation)\nend\n\n"})}),"\n",(0,l.jsx)(n.h3,{id:"getnextavailabletipside",children:"getNextAvailableTipSide"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"getNextAvailableTipSide()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,l.jsx)(n.table,{children:(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"any"}),(0,l.jsx)(n.th,{children:"index"})]})})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"function Trailer:getNextAvailableTipSide(index)\n    local spec = self.spec_trailer\n    local newTipSideIndex = index\n    local checkCount = spec.tipSideCount\n    local tipSideToCheck = index\n    while checkCount > 0 do\n        tipSideToCheck = tipSideToCheck + 1\n        if tipSideToCheck > spec.tipSideCount then\n            tipSideToCheck = 1\n        end\n\n        if self:getIsTipSideAvailable(tipSideToCheck) then\n            newTipSideIndex = tipSideToCheck\n            break\n        end\n\n        checkCount = checkCount - 1\n    end\n\n    return newTipSideIndex\nend\n\n"})}),"\n",(0,l.jsx)(n.h3,{id:"getrequirespower",children:"getRequiresPower"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"getRequiresPower()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,l.jsx)(n.table,{children:(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"any"}),(0,l.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"function Trailer:getRequiresPower(superFunc)\n    local tipState = self:getTipState()\n    if tipState = = Trailer.TIPSTATE_OPENING or tipState = = Trailer.TIPSTATE_CLOSING then\n        return true\n    end\n\n    return superFunc( self )\nend\n\n"})}),"\n",(0,l.jsx)(n.h3,{id:"gettipstate",children:"getTipState"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"getTipState()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"function Trailer:getTipState()\n    return self.spec_trailer.tipState\nend\n\n"})}),"\n",(0,l.jsx)(n.h3,{id:"initspecialization",children:"initSpecialization"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"initSpecialization()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:'function Trailer.initSpecialization()\n    g_vehicleConfigurationManager:addConfigurationType( "trailer" , g_i18n:getText( "configuration_trailer" ), "trailer" , VehicleConfigurationItem )\n\n    local schema = Vehicle.xmlSchema\n    schema:setXMLSpecializationType( "Trailer" )\n\n    local key = "vehicle.trailer.trailerConfigurations.trailerConfiguration(?).trailer"\n\n    schema:register(XMLValueType.L10N_STRING, key .. "#infoText" , "Info text" , "action_toggleTipSide" )\n\n    schema:register(XMLValueType.STRING, key .. ".tipSide(?)#name" , "Tip side name" )\n    schema:register(XMLValueType.INT, key .. ".tipSide(?)#dischargeNodeIndex" , "Discharge node index" )\n    schema:register(XMLValueType.BOOL, key .. ".tipSide(?)#canTipIfEmpty" , "Can tip if empty" , true )\n        schema:register(XMLValueType.BOOL, key .. ".tipSide(?)#canTip" , "Can tip(if false, only back door control is allowed)" , true )\n\n            schema:register(XMLValueType.BOOL, key .. ".tipSide(?).manualTipToggle#enabled" , "Tip animation can be toggled manually without dischargeable" , false )\n            schema:register(XMLValueType.BOOL, key .. ".tipSide(?).manualTipToggle#stopOnDeactivate" , "Stop manual tipping while vehicle is deactivated(detached, exited etc)" , true )\n                schema:register(XMLValueType.STRING, key .. ".tipSide(?).manualTipToggle#inputAction" , "Input action to toggle tipping" , "IMPLEMENT_EXTRA4" )\n                schema:register(XMLValueType.L10N_STRING, key .. ".tipSide(?).manualTipToggle#inputActionTextPos" , "Positive input text to display" , "action_startTipping" )\n                schema:register(XMLValueType.L10N_STRING, key .. ".tipSide(?).manualTipToggle#inputActionTextNeg" , "Negative input text to display" , "action_stopTipping" )\n\n                schema:register(XMLValueType.BOOL, key .. ".tipSide(?).manualDoorToggle#enabled" , "Door animation can be toggled manually without dischargeable" , false )\n                schema:register(XMLValueType.BOOL, key .. ".tipSide(?).manualDoorToggle#openWhileTipping" , "Still automatically open the door while tipping" , false )\n                    schema:register(XMLValueType.BOOL, key .. ".tipSide(?).manualDoorToggle#resetWhileTipping" , "Snap the door back to closed instantly when starting to tip" , false )\n                    schema:register(XMLValueType.STRING, key .. ".tipSide(?).manualDoorToggle#inputAction" , "Input action to toggle tipping" , "IMPLEMENT_EXTRA3" )\n                    schema:register(XMLValueType.L10N_STRING, key .. ".tipSide(?).manualDoorToggle#inputActionTextPos" , "Positive input text to display" , "action_openBackDoor" )\n                    schema:register(XMLValueType.L10N_STRING, key .. ".tipSide(?).manualDoorToggle#inputActionTextNeg" , "Negative input text to display" , "action_closeBackDoor" )\n                    schema:register(XMLValueType.INT, key .. ".tipSide(?).manualDoorToggle.fillUnit#index" , "Reference fill unit index for fill level detection" )\n                        schema:register(XMLValueType.BOOL, key .. ".tipSide(?).manualDoorToggle.fillUnit#allowWhileFilled" , "Allow manual door opening when fill unit is filled" , true )\n\n                        schema:register(XMLValueType.STRING, key .. ".tipSide(?).animation#name" , "Tip animation name" )\n                        schema:register(XMLValueType.FLOAT, key .. ".tipSide(?).animation#speedScale" , "Tip animation speed scale" , 1 )\n                        schema:register(XMLValueType.FLOAT, key .. ".tipSide(?).animation#closeSpeedScale" , "Tip animation speed scale while stopping to tip" , "inversed speed scale" )\n                            schema:register(XMLValueType.FLOAT, key .. ".tipSide(?).animation#startTipTime" , "Tip animation start tip time" , 0 )\n                            schema:register(XMLValueType.BOOL, key .. ".tipSide(?).animation#resetTipSideChange" , "Reset tip animation to zero while tip side is activated" , false )\n\n                                schema:register(XMLValueType.STRING, key .. ".tipSide(?).doorAnimation#name" , "Door animation name" )\n                                schema:register(XMLValueType.FLOAT, key .. ".tipSide(?).doorAnimation#speedScale" , "Door animation speed scale" , 1 )\n                                schema:register(XMLValueType.FLOAT, key .. ".tipSide(?).doorAnimation#closeSpeedScale" , "Door animation speed scale while stopping to tip" , "inversed speed scale" )\n                                    schema:register(XMLValueType.FLOAT, key .. ".tipSide(?).doorAnimation#startTipTime" , "Door animation start tip time" , 0 )\n                                    schema:register(XMLValueType.BOOL, key .. ".tipSide(?).doorAnimation#delayedClosing" , "Play door animation after tip animation while closing" , false )\n\n                                        schema:register(XMLValueType.STRING, key .. ".tipSide(?).tippingAnimation#name" , "Tipping animation name(continuously played while tipping)" )\n                                            schema:register(XMLValueType.FLOAT, key .. ".tipSide(?).tippingAnimation#speedScale" , "Tipping animation speed scale" , 1 )\n\n                                            schema:register(XMLValueType.INT, key .. ".tipSide(?).fillLevel#fillUnitIndex" , "Fill unit index to check" )\n                                            schema:register(XMLValueType.FLOAT, key .. ".tipSide(?).fillLevel#minFillLevelPct" , "Min.trailer fill level pct to select tip side" , 1 )\n                                            schema:register(XMLValueType.FLOAT, key .. ".tipSide(?).fillLevel#maxFillLevelPct" , "Max.trailer fill level pct to select tip side" , 1 )\n\n                                            AnimationManager.registerAnimationNodesXMLPaths(schema, key .. ".tipSide(?).animationNodes" )\n                                            ObjectChangeUtil.registerObjectChangeXMLPaths(schema, key .. ".tipSide(?)" )\n                                            SoundManager.registerSampleXMLPaths(schema, key .. ".tipSide(?)" , "unloadSound" )\n\n                                            schema:addDelayedRegistrationFunc( "AnimatedVehicle:part" , function (cSchema, cKey)\n                                                cSchema:register(XMLValueType.FLOAT, cKey .. "#startTipSideEmptyFactor" , "Start tip side empty factor" )\n                                                cSchema:register(XMLValueType.FLOAT, cKey .. "#endTipSideEmptyFactor" , "End tip side empty factor" )\n\n                                                cSchema:register(XMLValueType.FLOAT, cKey .. "#startDoorAnimationMaxTime" , "Max.time of door animation" )\n                                                cSchema:register(XMLValueType.FLOAT, cKey .. "#endDoorAnimationMaxTime" , "Max.time of door animation" )\n                                            end )\n\n                                            schema:addDelayedRegistrationFunc( "ExternalVehicleControl:function" , function (cSchema, cKey)\n                                                cSchema:register(XMLValueType.INT, cKey .. ".trailer#tipSideIndex" , "Index of tip side to control" )\n                                            end )\n\n                                            schema:register(XMLValueType.BOOL, Pickup.PICKUP_XML_KEY .. "#allowWhileTipping" , "Allow pickup movement while tipping" , true )\n                                                schema:register(XMLValueType.BOOL, TurnOnVehicle.TURNED_ON_ANIMATION_XML_PATH .. "#playWhileTipping" , "Animation is active while tipping" , false )\n\n                                                    schema:setXMLSpecializationType()\n\n                                                    local schemaSavegame = Vehicle.xmlSchemaSavegame\n                                                    schemaSavegame:register(XMLValueType.INT, "vehicles.vehicle(?).trailer#tipSideIndex" , "Current tip side index" )\n                                                    schemaSavegame:register(XMLValueType.BOOL, "vehicles.vehicle(?).trailer#doorState" , "Current back door state" )\n                                                    schemaSavegame:register(XMLValueType.INT, "vehicles.vehicle(?).trailer#tipState" , "Current tip state" )\n                                                    schemaSavegame:register(XMLValueType.FLOAT, "vehicles.vehicle(?).trailer#tipAnimationTime" , "Current tip animation time" )\n                                                end\n\n'})}),"\n",(0,l.jsx)(n.h3,{id:"loadpickupfromxml",children:"loadPickupFromXML"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"loadPickupFromXML()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"any"}),(0,l.jsx)(n.th,{children:"superFunc"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"xmlFile"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"key"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"spec"})]})]})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:'function Trailer:loadPickupFromXML(superFunc, xmlFile, key, spec)\n    spec.allowWhileTipping = xmlFile:getValue(key .. "#allowWhileTipping" , true )\n\n    return superFunc( self , xmlFile, key, spec)\nend\n\n'})}),"\n",(0,l.jsx)(n.h3,{id:"loadtipside",children:"loadTipSide"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"loadTipSide()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"any"}),(0,l.jsx)(n.th,{children:"xmlFile"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"key"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"entry"})]})]})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:'function Trailer:loadTipSide(xmlFile, key, entry)\n    local name = xmlFile:getValue(key .. "#name" )\n    entry.name = g_i18n:convertText(name, self.customEnvironment)\n    if entry.name = = nil then\n        Logging.xmlWarning( self.xmlFile, "Given tipSide name \'%s\' not found for \'%s\'!" , tostring(name), key)\n            return false\n        end\n\n        entry.dischargeNodeIndex = xmlFile:getValue(key .. "#dischargeNodeIndex" )\n        entry.canTipIfEmpty = xmlFile:getValue(key .. "#canTipIfEmpty" , true )\n        entry.canTip = xmlFile:getValue(key .. "#canTip" , true )\n\n        entry.manualTipToggle = xmlFile:getValue(key .. ".manualTipToggle#enabled" , false )\n        if entry.manualTipToggle then\n            local manualTipToggleActionName = xmlFile:getValue(key .. ".manualTipToggle#inputAction" )\n            entry.manualTipToggleAction = InputAction[manualTipToggleActionName] or InputAction.IMPLEMENT_EXTRA4\n\n            entry.manualTipToggleStopOnDeactivate = xmlFile:getValue(key .. ".manualTipToggle#stopOnDeactivate" , true )\n\n            entry.manualTipToggleActionTextPos = xmlFile:getValue(key .. ".manualTipToggle#inputActionTextPos" , "action_startTipping" , self.customEnvironment, false )\n            entry.manualTipToggleActionTextNeg = xmlFile:getValue(key .. ".manualTipToggle#inputActionTextNeg" , "action_stopTipping" , self.customEnvironment, false )\n        end\n\n        entry.manualDoorToggle = xmlFile:getValue(key .. ".manualDoorToggle#enabled" , false )\n        if entry.manualDoorToggle then\n            entry.manualDoorToggleWhileTipping = xmlFile:getValue(key .. ".manualDoorToggle#openWhileTipping" , false )\n            entry.manualDoorResetWhileTipping = xmlFile:getValue(key .. ".manualDoorToggle#resetWhileTipping" , false )\n\n            local manualDoorToggleActionName = xmlFile:getValue(key .. ".manualDoorToggle#inputAction" )\n            entry.manualDoorToggleAction = InputAction[manualDoorToggleActionName] or InputAction.IMPLEMENT_EXTRA3\n\n            entry.manualDoorToggleActionTextPos = xmlFile:getValue(key .. ".manualDoorToggle#inputActionTextPos" , "action_openBackDoor" , self.customEnvironment, false )\n            entry.manualDoorToggleActionTextNeg = xmlFile:getValue(key .. ".manualDoorToggle#inputActionTextNeg" , "action_closeBackDoor" , self.customEnvironment, false )\n\n            entry.manualDoorToggleFillUnitIndex = xmlFile:getValue(key .. ".manualDoorToggle.fillUnit#index" )\n            entry.manualDoorToggleFillUnitAllowWhileFilled = xmlFile:getValue(key .. ".manualDoorToggle.fillUnit#allowWhileFilled" , true )\n        end\n\n        entry.animation = { }\n        entry.animation.name = xmlFile:getValue(key .. ".animation#name" )\n        if entry.animation.name = = nil or not self:getAnimationExists(entry.animation.name) then\n            Logging.xmlWarning( self.xmlFile, "Missing animation name for \'%s\'!" , key)\n                return false\n            end\n            entry.animation.speedScale = xmlFile:getValue(key .. ".animation#speedScale" , 1.0 ) * Platform.gameplay.dischargeSpeedFactor\n            entry.animation.closeSpeedScale = - xmlFile:getValue(key .. ".animation#closeSpeedScale" , entry.animation.speedScale)\n            entry.animation.startTipTime = xmlFile:getValue(key .. ".animation#startTipTime" , 0 )\n            entry.animation.resetTipSideChange = xmlFile:getValue(key .. ".animation#resetTipSideChange" , false )\n\n            entry.doorAnimation = { }\n            entry.doorAnimation.name = xmlFile:getValue(key .. ".doorAnimation#name" )\n            entry.doorAnimation.speedScale = xmlFile:getValue(key .. ".doorAnimation#speedScale" , 1.0 )\n            entry.doorAnimation.closeSpeedScale = - xmlFile:getValue(key .. ".doorAnimation#closeSpeedScale" , entry.doorAnimation.speedScale)\n            entry.doorAnimation.startTipTime = xmlFile:getValue(key .. ".doorAnimation#startTipTime" , 0 )\n            entry.doorAnimation.delayedClosing = xmlFile:getValue(key .. ".doorAnimation#delayedClosing" , false )\n            entry.doorAnimation.state = false\n            entry.doorAnimation.maxTime = 1\n            if entry.doorAnimation.name ~ = nil and not self:getAnimationExists(entry.doorAnimation.name) then\n                Logging.xmlWarning( self.xmlFile, "Unknown door animation name for \'%s\'!" , key)\n                    return false\n                end\n\n                entry.tippingAnimation = { }\n                entry.tippingAnimation.name = xmlFile:getValue(key .. ".tippingAnimation#name" )\n                entry.tippingAnimation.speedScale = xmlFile:getValue(key .. ".tippingAnimation#speedScale" , 1.0 )\n\n                entry.fillLevel = { }\n                entry.fillLevel.fillUnitIndex = xmlFile:getValue(key .. ".fillLevel#fillUnitIndex" )\n                entry.fillLevel.minFillLevelPct = xmlFile:getValue(key .. ".fillLevel#minFillLevelPct" , 0 )\n                entry.fillLevel.maxFillLevelPct = xmlFile:getValue(key .. ".fillLevel#maxFillLevelPct" , 1 )\n\n                if entry.fillLevel.fillUnitIndex ~ = nil then\n                    self.spec_trailer.fillLevelDependentTipSides = true\n                end\n\n                if self.isClient then\n                    entry.animationNodes = g_animationManager:loadAnimations( self.xmlFile, key .. ".animationNodes" , self.components, self , self.i3dMappings)\n                    entry.unloadSound = g_soundManager:loadSampleFromXML( self.xmlFile, key, "unloadSound" , self.baseDirectory, self.components, 0 , AudioGroup.VEHICLE, self.i3dMappings, self )\n                end\n\n                entry.objectChanges = { }\n                ObjectChangeUtil.loadObjectChangeFromXML(xmlFile, key, entry.objectChanges, self.components, self )\n                ObjectChangeUtil.setObjectChanges(entry.objectChanges, false , self , self.setMovingToolDirty)\n\n                entry.currentEmptyFactor = 1\n\n                return true\n            end\n\n'})}),"\n",(0,l.jsx)(n.h3,{id:"loadturnedonanimationfromxml",children:"loadTurnedOnAnimationFromXML"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"loadTurnedOnAnimationFromXML()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"any"}),(0,l.jsx)(n.th,{children:"superFunc"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"xmlFile"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"key"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"turnedOnAnimation"})]})]})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:'function Trailer:loadTurnedOnAnimationFromXML(superFunc, xmlFile, key, turnedOnAnimation)\n    turnedOnAnimation.playWhileTipping = xmlFile:getValue(key .. "#playWhileTipping" , false )\n\n    return superFunc( self , xmlFile, key, turnedOnAnimation)\nend\n\n'})}),"\n",(0,l.jsx)(n.h3,{id:"ondeactivate",children:"onDeactivate"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"onDeactivate()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"function Trailer:onDeactivate()\n    local spec = self.spec_trailer\n    local tipSide = spec.tipSides[spec.preferedTipSideIndex]\n    if tipSide ~ = nil then\n        if tipSide.manualTipToggle and tipSide.manualTipToggleStopOnDeactivate then\n            local tipState = self:getTipState()\n            if tipState = = Trailer.TIPSTATE_OPEN or tipState = = Trailer.TIPSTATE_OPENING then\n                self:stopTipping( true )\n            end\n        end\n    end\nend\n\n"})}),"\n",(0,l.jsx)(n.h3,{id:"ondelete",children:"onDelete"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"onDelete()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"function Trailer:onDelete()\n    local spec = self.spec_trailer\n    if spec.tipSides ~ = nil then\n        for _, tipSide in ipairs(spec.tipSides) do\n            g_animationManager:deleteAnimations(tipSide.animationNodes)\n            g_soundManager:deleteSample(tipSide.unloadSound)\n        end\n    end\nend\n\n"})}),"\n",(0,l.jsx)(n.h3,{id:"ondischargestatechanged",children:"onDischargeStateChanged"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"onDischargeStateChanged()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,l.jsx)(n.table,{children:(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"any"}),(0,l.jsx)(n.th,{children:"dischargeState"})]})})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"function Trailer:onDischargeStateChanged(dischargeState)\n    local spec = self.spec_trailer\n\n    if dischargeState = = Dischargeable.DISCHARGE_STATE_OFF then\n        self:stopTipping( true )\n    elseif dischargeState = = Dischargeable.DISCHARGE_STATE_GROUND or dischargeState = = Dischargeable.DISCHARGE_STATE_OBJECT then\n            self:startTipping( nil , true )\n        end\n\n        if not spec.redischarge.isDisabled then\n            if dischargeState = = Dischargeable.DISCHARGE_STATE_OBJECT then\n                local dischargeNode = self:getCurrentDischargeNode()\n                if dischargeNode ~ = nil then\n                    local dischargeObject, _ = self:getDischargeTargetObject(dischargeNode)\n                    spec.redischarge.dischargeObject = dischargeObject\n                    spec.redischarge.dischargeNodeLastPos[ 1 ], spec.redischarge.dischargeNodeLastPos[ 2 ], spec.redischarge.dischargeNodeLastPos[ 3 ] = getWorldTranslation(dischargeNode.node)\n                end\n            end\n        end\n    end\n\n"})}),"\n",(0,l.jsx)(n.h3,{id:"onfillunitfilllevelchanged",children:"onFillUnitFillLevelChanged"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"onFillUnitFillLevelChanged()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"any"}),(0,l.jsx)(n.th,{children:"fillUnitIndex"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"fillLevelDelta"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"fillType"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"toolType"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"fillPositionData"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"appliedDelta"})]})]})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"function Trailer:onFillUnitFillLevelChanged(fillUnitIndex, fillLevelDelta, fillType, toolType, fillPositionData, appliedDelta)\n    local spec = self.spec_trailer\n    if spec.fillLevelDependentTipSides then\n        if fillLevelDelta ~ = 0 then\n            if not self:getIsTipSideAvailable(spec.preferedTipSideIndex) then\n                local tipState = self:getTipState()\n                if tipState = = Trailer.TIPSTATE_CLOSED then\n                    self:setPreferedTipSide( self:getNextAvailableTipSide(spec.preferedTipSideIndex))\n                else\n                        self:setTipSideUpdateDirty()\n                    end\n                end\n            end\n        end\n\n        if self.isServer then\n            for tipSideIndex, tipSide in ipairs(spec.tipSides) do\n                if tipSide.manualDoorToggle and not tipSide.manualDoorToggleFillUnitAllowWhileFilled and fillLevelDelta > 0 then\n                    if tipSide.manualDoorToggleFillUnitIndex = = fillUnitIndex then\n                        if self:getFillUnitFillLevel(fillUnitIndex) > 0 then\n                            self:setTrailerDoorState(tipSideIndex, false )\n                        end\n                    end\n                end\n            end\n        end\n    end\n\n"})}),"\n",(0,l.jsx)(n.h3,{id:"onload",children:"onLoad"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"onLoad()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,l.jsx)(n.table,{children:(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"any"}),(0,l.jsx)(n.th,{children:"savegame"})]})})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:'function Trailer:onLoad(savegame)\n    local spec = self.spec_trailer\n\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.tipScrollerNodes.tipScrollerNode" , "vehicle.trailer.trailerConfigurations.trailerConfiguration.trailer.tipSide.animationNodes.animationNode" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.tipRotationNodes.tipRotationNode" , "vehicle.trailer.trailerConfigurations.trailerConfiguration.trailer.tipSide.animationNodes.animationNode" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.tipAnimations.tipAnimation" , "vehicle.trailer.trailerConfigurations.trailerConfiguration.trailer.tipSide" ) --FS17 to FS19\n\n    local trailerConfigurationId = Utils.getNoNil( self.configurations[ "trailer" ], 1 )\n    local configKey = string.format( "vehicle.trailer.trailerConfigurations.trailerConfiguration(%d).trailer" , trailerConfigurationId - 1 )\n\n    spec.fillLevelDependentTipSides = false\n    spec.tipSideUpdateDirty = false\n\n    spec.tipSides = { }\n    spec.dischargeNodeIndexToTipSide = { }\n    local i = 0\n    while true do\n        local key = string.format( "%s.tipSide(%d)" , configKey, i)\n        if not self.xmlFile:hasProperty(key) then\n            break\n        end\n\n        local entry = { }\n        if self:loadTipSide( self.xmlFile, key, entry) then\n            table.insert(spec.tipSides, entry)\n            entry.index = #spec.tipSides\n\n            if entry.dischargeNodeIndex ~ = nil then\n                spec.dischargeNodeIndexToTipSide[entry.dischargeNodeIndex] = entry\n            end\n        end\n        i = i + 1\n    end\n\n    spec.infoText = self.xmlFile:getValue(configKey .. "#infoText" , "action_toggleTipSide" , self.customEnvironment, false )\n\n    spec.tipSideCount = #spec.tipSides\n    spec.preferedTipSideIndex = 1\n    spec.currentTipSideIndex = nil\n\n    spec.tipState = Trailer.TIPSTATE_CLOSED\n\n    spec.remainingFillDelta = 0\n\n    spec.redischarge = { }\n    spec.redischarge.isDisabled = false\n    spec.redischarge.dischargeObject = nil\n    spec.redischarge.dischargeNodeLastPos = { 0 , 0 , 0 }\n\n    spec.dirtyFlag = self:getNextDirtyFlag()\nend\n\n'})}),"\n",(0,l.jsx)(n.h3,{id:"onloadfinished",children:"onLoadFinished"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"onLoadFinished()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,l.jsx)(n.table,{children:(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"any"}),(0,l.jsx)(n.th,{children:"savegame"})]})})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"function Trailer:onLoadFinished(savegame)\n    local spec = self.spec_trailer\n    if spec.tipSideCount > 1 then\n        if not self:getIsTipSideAvailable(spec.preferedTipSideIndex) then\n            self:setTipSideUpdateDirty()\n        end\n    end\nend\n\n"})}),"\n",(0,l.jsx)(n.h3,{id:"onpostload",children:"onPostLoad"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"onPostLoad()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,l.jsx)(n.table,{children:(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"any"}),(0,l.jsx)(n.th,{children:"savegame"})]})})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:'function Trailer:onPostLoad(savegame)\n    local spec = self.spec_trailer\n\n    for tipSideIndex, tipSide in ipairs(spec.tipSides) do\n        if tipSide.dischargeNodeIndex ~ = nil and self:getDischargeNodeByIndex(tipSide.dischargeNodeIndex) = = nil then\n            Logging.xmlWarning( self.xmlFile, "Unknown dischargeNodeIndex \'%s\' for tipSide index \'%s\'" , tipSide.dischargeNodeIndex, tipSideIndex)\n            end\n        end\n\n        if savegame ~ = nil then\n            if spec.tipSideCount > 0 then\n                if spec.tipSideCount > 1 then\n                    local tipSideIndex = savegame.xmlFile:getValue(savegame.key .. ".trailer#tipSideIndex" )\n                    if tipSideIndex ~ = nil then\n                        self:setPreferedTipSide(tipSideIndex, true )\n                    end\n                end\n\n                local doorState = savegame.xmlFile:getValue(savegame.key .. ".trailer#doorState" )\n                if doorState ~ = nil then\n                    self:setTrailerDoorState(spec.preferedTipSideIndex, doorState, true , true )\n                end\n\n                spec.tipState = savegame.xmlFile:getValue(savegame.key .. ".trailer#tipState" , spec.tipState)\n                if spec.tipState = = Trailer.TIPSTATE_OPENING or spec.tipState = = Trailer.TIPSTATE_OPEN then\n                    spec.currentTipSideIndex = spec.preferedTipSideIndex\n                    self:setTipState( true )\n                end\n\n                local tipAnimationTime = savegame.xmlFile:getValue(savegame.key .. ".trailer#tipAnimationTime" )\n                if tipAnimationTime ~ = nil then\n                    local tipSide = spec.tipSides[spec.preferedTipSideIndex]\n                    self:setAnimationTime(tipSide.animation.name, tipAnimationTime, true , false )\n                end\n            end\n        else\n                if spec.tipSideCount > 0 then\n                    self:setPreferedTipSide(spec.preferedTipSideIndex, true )\n                end\n            end\n        end\n\n'})}),"\n",(0,l.jsx)(n.h3,{id:"onreadstream",children:"onReadStream"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"Called on client side on join"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"onReadStream(integer streamId, Connection connection)"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"integer"}),(0,l.jsx)(n.th,{children:"streamId"}),(0,l.jsx)(n.th,{children:"streamId"})]})}),(0,l.jsx)(n.tbody,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Connection"}),(0,l.jsx)(n.td,{children:"connection"}),(0,l.jsx)(n.td,{children:"connection"})]})})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"function Trailer:onReadStream(streamId, connection)\n    local spec = self.spec_trailer\n\n    if spec.tipSideCount > 1 then\n        self:setPreferedTipSide(streamReadUIntN(streamId, Trailer.TIP_SIDE_NUM_BITS), true )\n    end\n\n    spec.tipState = streamReadUIntN(streamId, Trailer.TIP_STATE_NUM_BITS)\n    if streamReadBool(streamId) then\n        spec.currentTipSideIndex = streamReadUIntN(streamId, Trailer.TIP_SIDE_NUM_BITS)\n    end\n\n    if streamReadBool(streamId) then\n        local doorState = streamReadBool(streamId)\n        self:setTrailerDoorState(spec.preferedTipSideIndex, doorState, true , true )\n    end\n\n    if streamReadBool(streamId) then\n        local tipSide = spec.tipSides[spec.preferedTipSideIndex]\n        local tipAnimationTime = streamReadFloat32(streamId)\n        if tipAnimationTime ~ = nil then\n            self:setAnimationTime(tipSide.animation.name, tipAnimationTime, true , false )\n        end\n\n        if streamReadBool(streamId) then\n            if streamReadBool(streamId) then\n                self:playAnimation(tipSide.animation.name, tipSide.animation.speedScale, tipAnimationTime, true )\n            else\n                    self:playAnimation(tipSide.animation.name, tipSide.animation.closeSpeedScale, tipAnimationTime, true )\n                end\n            end\n        end\n\n        if streamReadBool(streamId) then\n            local tipSide = spec.tipSides[spec.preferedTipSideIndex]\n            local doorAnimationTime = streamReadFloat32(streamId)\n            if doorAnimationTime ~ = nil then\n                self:setAnimationTime(tipSide.doorAnimation.name, doorAnimationTime, true , false )\n            end\n\n            if streamReadBool(streamId) then\n                if streamReadBool(streamId) then\n                    self:setAnimationStopTime(tipSide.doorAnimation.name, tipSide.doorAnimation.maxTime)\n                    self:playAnimation(tipSide.doorAnimation.name, tipSide.doorAnimation.speedScale, doorAnimationTime, true )\n                else\n                        self:playAnimation(tipSide.doorAnimation.name, tipSide.doorAnimation.closeSpeedScale, doorAnimationTime, true )\n                    end\n                end\n            end\n        end\n\n"})}),"\n",(0,l.jsx)(n.h3,{id:"onregisteractionevents",children:"onRegisterActionEvents"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"onRegisterActionEvents()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"any"}),(0,l.jsx)(n.th,{children:"isActiveForInput"})]})}),(0,l.jsx)(n.tbody,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"isActiveForInputIgnoreSelection"})]})})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"function Trailer:onRegisterActionEvents(isActiveForInput, isActiveForInputIgnoreSelection)\n    if self.isClient then\n        local spec = self.spec_trailer\n        self:clearActionEventsTable(spec.actionEvents)\n\n        if isActiveForInputIgnoreSelection then\n            if spec.tipSideCount > 1 then\n                local _, actionEventId = self:addActionEvent(spec.actionEvents, InputAction.TOGGLE_TIPSIDE, self , Trailer.actionEventToggleTipSide, false , true , false , true , nil )\n                g_inputBinding:setActionEventTextPriority(actionEventId, GS_PRIO_NORMAL)\n            end\n\n            local tipSide = spec.tipSides[spec.preferedTipSideIndex]\n            if tipSide ~ = nil then\n                if tipSide.manualTipToggle then\n                    local _, actionEventId = self:addPoweredActionEvent(spec.actionEvents, tipSide.manualTipToggleAction, self , Trailer.actionEventManualToggleTip, false , true , false , true , nil )\n                    g_inputBinding:setActionEventTextPriority(actionEventId, GS_PRIO_NORMAL)\n                end\n\n                if tipSide.manualDoorToggle then\n                    local _, actionEventId = self:addPoweredActionEvent(spec.actionEvents, tipSide.manualDoorToggleAction, self , Trailer.actionEventManualToggleDoor, false , true , false , true , nil )\n                    g_inputBinding:setActionEventTextPriority(actionEventId, GS_PRIO_NORMAL)\n                end\n            end\n        end\n    end\nend\n\n"})}),"\n",(0,l.jsx)(n.h3,{id:"onregisteranimationvaluetypes",children:"onRegisterAnimationValueTypes"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"Called on pre load to register animation value types"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"onRegisterAnimationValueTypes()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:'function Trailer:onRegisterAnimationValueTypes()\n    self:registerAnimationValueType( "tipSideEmptyFactor" , "startTipSideEmptyFactor" , "endTipSideEmptyFactor" , false , AnimationValueFloat ,\n    function (value, xmlFile, xmlKey)\n        value.node = xmlFile:getValue(xmlKey .. "#node" , nil , value.part.components, value.part.i3dMappings)\n\n        if value.node ~ = nil then\n            value:setWarningInformation( "node: " .. getName(value.node))\n            value:addCompareParameters( "node" )\n\n            return true\n        end\n\n        return false\n    end ,\n\n    function (value)\n        if value.tipSide = = nil then\n            local dischargeNode = value.vehicle:getDischargeNodeByNode(value.node)\n            local tipSide\n            if dischargeNode ~ = nil then\n                tipSide = value.vehicle.spec_trailer.dischargeNodeIndexToTipSide[dischargeNode.index]\n            end\n            if dischargeNode = = nil or tipSide = = nil then\n                Logging.xmlWarning(value.xmlFile, "Could not update discharge emptyFactor.No tipSide or dischargeNode defined for node \'%s\'!" , getName(value.node))\n                    return 0\n                end\n\n                value.tipSide = tipSide\n            end\n\n            return value.tipSide.currentEmptyFactor\n        end ,\n\n        function (value, emptyFactor)\n            if value.tipSide ~ = nil then\n                value.tipSide.currentEmptyFactor = emptyFactor\n            end\n        end )\n\n        self:registerAnimationValueType( "doorAnimationMaxTime" , "startDoorAnimationMaxTime" , "endDoorAnimationMaxTime" , false , AnimationValueFloat ,\n        function (value, xmlFile, xmlKey)\n            value.node = xmlFile:getValue(xmlKey .. "#node" , nil , value.part.components, value.part.i3dMappings)\n\n            if value.node ~ = nil then\n                value:setWarningInformation( "node: " .. getName(value.node))\n                value:addCompareParameters( "node" )\n\n                return true\n            end\n\n            return false\n        end ,\n\n        function (value)\n            if value.tipSide = = nil then\n                local dischargeNode = value.vehicle:getDischargeNodeByNode(value.node)\n                local tipSide\n                if dischargeNode ~ = nil then\n                    tipSide = value.vehicle.spec_trailer.dischargeNodeIndexToTipSide[dischargeNode.index]\n                end\n                if dischargeNode = = nil or tipSide = = nil then\n                    return 0\n                end\n\n                value.tipSide = tipSide\n            end\n\n            return value.tipSide.doorAnimation.maxTime\n        end ,\n\n        function (value, maxTime)\n            if value.tipSide ~ = nil then\n                value.tipSide.doorAnimation.maxTime = maxTime\n\n                if value.tipSide.doorAnimation.state then\n                    local currentTime = self:getAnimationTime(value.tipSide.doorAnimation.name)\n                    if currentTime > maxTime then\n                        self:setAnimationStopTime(value.tipSide.doorAnimation.name, maxTime)\n                        self:playAnimation(value.tipSide.doorAnimation.name, - 9999 , currentTime, true )\n                        AnimatedVehicle.updateAnimationByName( self , value.tipSide.doorAnimation.name, 999999 , true )\n                    elseif currentTime < maxTime then\n                            self:setAnimationStopTime(value.tipSide.doorAnimation.name, maxTime)\n                            self:playAnimation(value.tipSide.doorAnimation.name, value.tipSide.doorAnimation.speedScale, currentTime, true )\n                        end\n                    end\n                end\n            end )\n        end\n\n'})}),"\n",(0,l.jsx)(n.h3,{id:"onregisterexternalactionevents",children:"onRegisterExternalActionEvents"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"Called on load to register external action events"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"onRegisterExternalActionEvents()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"any"}),(0,l.jsx)(n.th,{children:"trigger"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"name"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"xmlFile"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"key"})]})]})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:'function Trailer:onRegisterExternalActionEvents(trigger, name, xmlFile, key)\n    if name = = "trailerDoorToggle" then\n        local data = self:registerExternalActionEvent(trigger, name, Trailer.externalActionEventDoorToggleRegister, Trailer.externalActionEventDoorToggleUpdate)\n        data.trailerTipSideIndex = xmlFile:getValue(key .. ".trailer#tipSideIndex" , 1 )\n    end\nend\n\n'})}),"\n",(0,l.jsx)(n.h3,{id:"onupdate",children:"onUpdate"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"onUpdate()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"any"}),(0,l.jsx)(n.th,{children:"dt"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"isActiveForInput"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"isActiveForInputIgnoreSelection"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"isSelected"})]})]})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"function Trailer:onUpdate(dt, isActiveForInput, isActiveForInputIgnoreSelection, isSelected)\n    local spec = self.spec_trailer\n\n    if spec.tipSideCount > 1 then\n        local actionEvent = spec.actionEvents[InputAction.TOGGLE_TIPSIDE]\n        if actionEvent ~ = nil then\n            local state = self:getCanTogglePreferdTipSide()\n            g_inputBinding:setActionEventActive(actionEvent.actionEventId, state)\n\n            if state then\n                local text = string.format(spec.infoText, spec.tipSides[spec.preferedTipSideIndex].name)\n                g_inputBinding:setActionEventText(actionEvent.actionEventId, text)\n            end\n        end\n\n        if spec.tipSideUpdateDirty then\n            local tipState = self:getTipState()\n            if tipState = = Trailer.TIPSTATE_CLOSED then\n                self:setPreferedTipSide( self:getNextAvailableTipSide(spec.preferedTipSideIndex), true )\n                spec.tipSideUpdateDirty = false\n            end\n        end\n    end\n\n    local tipSide = spec.tipSides[spec.preferedTipSideIndex]\n    if tipSide ~ = nil then\n        if tipSide.manualTipToggle then\n            local actionEvent = spec.actionEvents[tipSide.manualTipToggleAction]\n            if actionEvent ~ = nil then\n                local text\n                local tipState = self:getTipState()\n                if tipState = = Trailer.TIPSTATE_CLOSED or tipState = = Trailer.TIPSTATE_CLOSING then\n                    text = tipSide.manualTipToggleActionTextPos\n                else\n                        text = tipSide.manualTipToggleActionTextNeg\n                    end\n\n                    g_inputBinding:setActionEventText(actionEvent.actionEventId, text)\n                end\n            end\n\n            if tipSide.manualDoorToggle then\n                local actionEvent = spec.actionEvents[tipSide.manualDoorToggleAction]\n                if actionEvent ~ = nil then\n                    local text\n                    if self:getIsAnimationPlaying(tipSide.doorAnimation.name) then\n                        if self:getAnimationSpeed(tipSide.doorAnimation.name) > 0 then\n                            text = tipSide.manualDoorToggleActionTextNeg\n                        else\n                                text = tipSide.manualDoorToggleActionTextPos\n                            end\n                        else\n                                if self:getAnimationTime(tipSide.doorAnimation.name) < = 0 then\n                                    text = tipSide.manualDoorToggleActionTextPos\n                                else\n                                        text = tipSide.manualDoorToggleActionTextNeg\n                                    end\n                                end\n\n                                g_inputBinding:setActionEventText(actionEvent.actionEventId, text)\n                            end\n                        end\n                    end\n\n                    -- update tipState\n                    if spec.tipState = = Trailer.TIPSTATE_OPENING then\n                        tipSide = spec.tipSides[spec.currentTipSideIndex]\n                        if tipSide ~ = nil then\n                            if self:getAnimationTime(tipSide.animation.name) > = 1.0 or self:getAnimationDuration(tipSide.animation.name) = = 0 then\n                                spec.tipState = Trailer.TIPSTATE_OPEN\n                            end\n                        end\n                    elseif spec.tipState = = Trailer.TIPSTATE_CLOSING then\n                            tipSide = spec.tipSides[spec.currentTipSideIndex]\n                            if tipSide ~ = nil then\n                                if self:getAnimationTime(tipSide.animation.name) < = 0.0 or self:getAnimationDuration(tipSide.animation.name) = = 0 or tipSide.animation.closeSpeedScale = = 0 then\n                                    spec.tipState = Trailer.TIPSTATE_CLOSED\n                                    self:endTipping()\n                                end\n                            end\n                        end\n\n                        if self.isServer then\n                            if self.rootVehicle.getIsControlled = = nil or not self.rootVehicle:getIsControlled() then\n                                if spec.redischarge.dischargeObject ~ = nil then\n                                    if self:getDischargeState() = = Dischargeable.DISCHARGE_STATE_OFF then\n                                        self:updateTrailerAutomaticRedischarge()\n                                    end\n                                    self:raiseActive()\n                                end\n                            end\n                        end\n                    end\n\n"})}),"\n",(0,l.jsx)(n.h3,{id:"onwritestream",children:"onWriteStream"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"Called on server side on join"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"onWriteStream(integer streamId, Connection connection)"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"integer"}),(0,l.jsx)(n.th,{children:"streamId"}),(0,l.jsx)(n.th,{children:"streamId"})]})}),(0,l.jsx)(n.tbody,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Connection"}),(0,l.jsx)(n.td,{children:"connection"}),(0,l.jsx)(n.td,{children:"connection"})]})})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"function Trailer:onWriteStream(streamId, connection)\n    local spec = self.spec_trailer\n\n    if spec.tipSideCount > 1 then\n        streamWriteUIntN(streamId, spec.preferedTipSideIndex, Trailer.TIP_SIDE_NUM_BITS)\n    end\n\n    streamWriteUIntN(streamId, spec.tipState, Trailer.TIP_STATE_NUM_BITS)\n    if streamWriteBool(streamId, spec.currentTipSideIndex ~ = nil ) then\n        streamWriteUIntN(streamId, spec.currentTipSideIndex, Trailer.TIP_SIDE_NUM_BITS)\n    end\n\n    local tipSide = spec.tipSides[spec.preferedTipSideIndex]\n    if streamWriteBool(streamId, tipSide ~ = nil and tipSide.manualDoorToggle) then\n        streamWriteBool(streamId, tipSide.doorAnimation.state)\n    end\n\n    if streamWriteBool(streamId, tipSide ~ = nil and tipSide.animation.name ~ = nil ) then\n        streamWriteFloat32(streamId, self:getAnimationTime(tipSide.animation.name))\n        if streamWriteBool(streamId, self:getIsAnimationPlaying(tipSide.animation.name)) then\n            streamWriteBool(streamId, self:getAnimationSpeed(tipSide.animation.name) > 0 )\n        end\n    end\n\n    if streamWriteBool(streamId, tipSide ~ = nil and not tipSide.manualDoorToggle and tipSide.doorAnimation.name ~ = nil ) then\n        streamWriteFloat32(streamId, self:getAnimationTime(tipSide.doorAnimation.name))\n        if streamWriteBool(streamId, self:getIsAnimationPlaying(tipSide.doorAnimation.name)) then\n            streamWriteBool(streamId, self:getAnimationSpeed(tipSide.doorAnimation.name) > 0 )\n        end\n    end\nend\n\n"})}),"\n",(0,l.jsx)(n.h3,{id:"prerequisitespresent",children:"prerequisitesPresent"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"prerequisitesPresent()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,l.jsx)(n.table,{children:(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"any"}),(0,l.jsx)(n.th,{children:"specializations"})]})})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"function Trailer.prerequisitesPresent(specializations)\n    return SpecializationUtil.hasSpecialization( FillUnit , specializations) and\n    SpecializationUtil.hasSpecialization( Dischargeable , specializations) and\n    SpecializationUtil.hasSpecialization( AnimatedVehicle , specializations)\nend\n\n"})}),"\n",(0,l.jsx)(n.h3,{id:"registereventlisteners",children:"registerEventListeners"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"registerEventListeners()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,l.jsx)(n.table,{children:(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"any"}),(0,l.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:'function Trailer.registerEventListeners(vehicleType)\n    SpecializationUtil.registerEventListener(vehicleType, "onLoad" , Trailer )\n    SpecializationUtil.registerEventListener(vehicleType, "onPostLoad" , Trailer )\n    SpecializationUtil.registerEventListener(vehicleType, "onLoadFinished" , Trailer )\n    SpecializationUtil.registerEventListener(vehicleType, "onDelete" , Trailer )\n    SpecializationUtil.registerEventListener(vehicleType, "onReadStream" , Trailer )\n    SpecializationUtil.registerEventListener(vehicleType, "onWriteStream" , Trailer )\n    SpecializationUtil.registerEventListener(vehicleType, "onUpdate" , Trailer )\n    SpecializationUtil.registerEventListener(vehicleType, "onRegisterActionEvents" , Trailer )\n    SpecializationUtil.registerEventListener(vehicleType, "onDischargeStateChanged" , Trailer )\n    SpecializationUtil.registerEventListener(vehicleType, "onDeactivate" , Trailer )\n    SpecializationUtil.registerEventListener(vehicleType, "onRegisterAnimationValueTypes" , Trailer )\n    SpecializationUtil.registerEventListener(vehicleType, "onRegisterExternalActionEvents" , Trailer )\n    SpecializationUtil.registerEventListener(vehicleType, "onFillUnitFillLevelChanged" , Trailer )\nend\n\n'})}),"\n",(0,l.jsx)(n.h3,{id:"registerevents",children:"registerEvents"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"registerEvents()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,l.jsx)(n.table,{children:(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"any"}),(0,l.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:'function Trailer.registerEvents(vehicleType)\n    SpecializationUtil.registerEvent(vehicleType, "onStartTipping" )\n    SpecializationUtil.registerEvent(vehicleType, "onOpenBackDoor" )\n    SpecializationUtil.registerEvent(vehicleType, "onStopTipping" )\n    SpecializationUtil.registerEvent(vehicleType, "onCloseBackDoor" )\n    SpecializationUtil.registerEvent(vehicleType, "onEndTipping" )\nend\n\n'})}),"\n",(0,l.jsx)(n.h3,{id:"registerfunctions",children:"registerFunctions"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"registerFunctions()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,l.jsx)(n.table,{children:(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"any"}),(0,l.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:'function Trailer.registerFunctions(vehicleType)\n    SpecializationUtil.registerFunction(vehicleType, "loadTipSide" , Trailer.loadTipSide)\n    SpecializationUtil.registerFunction(vehicleType, "getCanTogglePreferdTipSide" , Trailer.getCanTogglePreferdTipSide)\n    SpecializationUtil.registerFunction(vehicleType, "getIsTipSideAvailable" , Trailer.getIsTipSideAvailable)\n    SpecializationUtil.registerFunction(vehicleType, "getNextAvailableTipSide" , Trailer.getNextAvailableTipSide)\n    SpecializationUtil.registerFunction(vehicleType, "setPreferedTipSide" , Trailer.setPreferedTipSide)\n    SpecializationUtil.registerFunction(vehicleType, "setTipSideUpdateDirty" , Trailer.setTipSideUpdateDirty)\n    SpecializationUtil.registerFunction(vehicleType, "startTipping" , Trailer.startTipping)\n    SpecializationUtil.registerFunction(vehicleType, "stopTipping" , Trailer.stopTipping)\n    SpecializationUtil.registerFunction(vehicleType, "endTipping" , Trailer.endTipping)\n    SpecializationUtil.registerFunction(vehicleType, "setTrailerDoorState" , Trailer.setTrailerDoorState)\n    SpecializationUtil.registerFunction(vehicleType, "getAllowTrailerDoorToggle" , Trailer.getAllowTrailerDoorToggle)\n    SpecializationUtil.registerFunction(vehicleType, "getTipState" , Trailer.getTipState)\n    SpecializationUtil.registerFunction(vehicleType, "setTipState" , Trailer.setTipState)\n    SpecializationUtil.registerFunction(vehicleType, "updateTrailerAutomaticRedischarge" , Trailer.updateTrailerAutomaticRedischarge)\nend\n\n'})}),"\n",(0,l.jsx)(n.h3,{id:"registeroverwrittenfunctions",children:"registerOverwrittenFunctions"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"registerOverwrittenFunctions()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,l.jsx)(n.table,{children:(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"any"}),(0,l.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:'function Trailer.registerOverwrittenFunctions(vehicleType)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getDischargeNodeEmptyFactor" , Trailer.getDischargeNodeEmptyFactor)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getCanDischargeToGround" , Trailer.getCanDischargeToGround)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getCanDischargeToObject" , Trailer.getCanDischargeToObject)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getIsNextCoverStateAllowed" , Trailer.getIsNextCoverStateAllowed)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getCanBeSelected" , Trailer.getCanBeSelected)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getAIHasFinishedDischarge" , Trailer.getAIHasFinishedDischarge)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "startAIDischarge" , Trailer.startAIDischarge)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "loadPickupFromXML" , Trailer.loadPickupFromXML)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getCanChangePickupState" , Trailer.getCanChangePickupState)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getIsTurnedOnAnimationActive" , Trailer.getIsTurnedOnAnimationActive)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "loadTurnedOnAnimationFromXML" , Trailer.loadTurnedOnAnimationFromXML)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getRequiresPower" , Trailer.getRequiresPower)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "setManualDischargeState" , Trailer.setManualDischargeState)\nend\n\n'})}),"\n",(0,l.jsx)(n.h3,{id:"savetoxmlfile",children:"saveToXMLFile"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"saveToXMLFile()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"any"}),(0,l.jsx)(n.th,{children:"xmlFile"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"key"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"usedModNames"})]})]})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:'function Trailer:saveToXMLFile(xmlFile, key, usedModNames)\n    local spec = self.spec_trailer\n\n    if spec.tipSideCount > 1 then\n        xmlFile:setValue(key .. "#tipSideIndex" , spec.preferedTipSideIndex)\n    end\n\n    local tipSide = spec.tipSides[spec.preferedTipSideIndex]\n    if tipSide ~ = nil then\n        xmlFile:setValue(key .. "#doorState" , self:getAnimationTime(tipSide.doorAnimation.name) > 0 )\n        xmlFile:setValue(key .. "#tipAnimationTime" , self:getAnimationTime(tipSide.animation.name))\n    end\n\n    xmlFile:setValue(key .. "#tipState" , spec.tipState)\nend\n\n'})}),"\n",(0,l.jsx)(n.h3,{id:"setmanualdischargestate",children:"setManualDischargeState"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"setManualDischargeState()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"any"}),(0,l.jsx)(n.th,{children:"superFunc"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"state"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"noEventSend"})]})]})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"function Trailer:setManualDischargeState(superFunc, state, noEventSend)\n    if state = = Dischargeable.DISCHARGE_STATE_OFF then\n        -- redischarge function is disabled by a manual user discharge cancel\n            local spec = self.spec_trailer\n            spec.redischarge.dischargeObject = nil\n            spec.redischarge.dischargeNodeLastPos[ 1 ], spec.redischarge.dischargeNodeLastPos[ 2 ], spec.redischarge.dischargeNodeLastPos[ 3 ] = 0 , 0 , 0\n        end\n\n        return superFunc( self , state, noEventSend)\n    end\n\n"})}),"\n",(0,l.jsx)(n.h3,{id:"setpreferedtipside",children:"setPreferedTipSide"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"setPreferedTipSide()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"any"}),(0,l.jsx)(n.th,{children:"index"})]})}),(0,l.jsx)(n.tbody,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"noEventSend"})]})})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"function Trailer:setPreferedTipSide(index, noEventSend)\n    local spec = self.spec_trailer\n    index = math.max( 1 , math.min(spec.tipSideCount, index))\n\n    local tipState = self:getTipState()\n    if tipState ~ = Trailer.TIPSTATE_CLOSED and tipState ~ = Trailer.TIPSTATE_CLOSING then\n        self:stopTipping( true )\n    end\n\n    if index ~ = spec.preferedTipSideIndex then\n        if spec.tipSideCount > 1 then\n            if noEventSend = = nil or noEventSend = = false then\n                if g_server ~ = nil then\n                    g_server:broadcastEvent( TrailerToggleTipSideEvent.new( self , index), nil , nil , self )\n                else\n                        g_client:getServerConnection():sendEvent( TrailerToggleTipSideEvent.new( self , index))\n                    end\n                end\n            end\n        end\n\n        for i = 1 , #spec.tipSides do\n            ObjectChangeUtil.setObjectChanges(spec.tipSides[i].objectChanges, i = = index, self , self.setMovingToolDirty)\n        end\n\n        local oldTipSide = spec.tipSides[spec.preferedTipSideIndex]\n\n        spec.preferedTipSideIndex = index\n        local newTipSide = spec.tipSides[index]\n\n        if oldTipSide ~ = nil then\n            -- if we use the same back door animation we keep the state as it is, if not we are closing\n                if newTipSide.doorAnimation.name ~ = oldTipSide.doorAnimation.name then\n                    if oldTipSide.doorAnimation.name ~ = nil and self:getAnimationTime(oldTipSide.doorAnimation.name) > 0 then\n                        self:setTrailerDoorState(oldTipSide.index, false , true )\n                    end\n                end\n            end\n\n            if newTipSide.animation.resetTipSideChange then\n                self:setAnimationTime(newTipSide.animation.name, 0 , true , false )\n            end\n\n            if newTipSide.dischargeNodeIndex ~ = nil then\n                self:setCurrentDischargeNodeIndex(newTipSide.dischargeNodeIndex)\n            end\n\n            self:requestActionEventUpdate()\n        end\n\n"})}),"\n",(0,l.jsx)(n.h3,{id:"settipsideupdatedirty",children:"setTipSideUpdateDirty"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"setTipSideUpdateDirty()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"function Trailer:setTipSideUpdateDirty()\n    local spec = self.spec_trailer\n    spec.tipSideUpdateDirty = true\nend\n\n"})}),"\n",(0,l.jsx)(n.h3,{id:"settipstate",children:"setTipState"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"Set inital tip state to open or closed"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"setTipState()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,l.jsx)(n.table,{children:(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"any"}),(0,l.jsx)(n.th,{children:"isOpen"})]})})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"function Trailer:setTipState(isOpen)\n    local spec = self.spec_trailer\n    local tipSide = spec.tipSides[spec.currentTipSideIndex]\n    if tipSide ~ = nil then\n        if isOpen then\n            self:playAnimation(tipSide.animation.name, tipSide.animation.speedScale, self:getAnimationTime(tipSide.animation.name), true )\n\n            if not tipSide.manualDoorToggle and tipSide.doorAnimation.name ~ = nil then\n                self:setAnimationStopTime(tipSide.doorAnimation.name, tipSide.doorAnimation.maxTime)\n                self:playAnimation(tipSide.doorAnimation.name, tipSide.doorAnimation.speedScale, self:getAnimationTime(tipSide.doorAnimation.name), true )\n            end\n        else\n                self:playAnimation(tipSide.animation.name, tipSide.animation.closeSpeedScale, self:getAnimationTime(tipSide.animation.name), true )\n\n                if not tipSide.manualDoorToggle and tipSide.doorAnimation.name ~ = nil then\n                    self:playAnimation(tipSide.doorAnimation.name, tipSide.doorAnimation.closeSpeedScale, self:getAnimationTime(tipSide.doorAnimation.name), true )\n                end\n            end\n\n            AnimatedVehicle.updateAnimationByName( self , tipSide.animation.name, 999999 , true )\n            AnimatedVehicle.updateAnimationByName( self , tipSide.doorAnimation.name, 999999 , true )\n        end\n    end\n\n"})}),"\n",(0,l.jsx)(n.h3,{id:"settrailerdoorstate",children:"setTrailerDoorState"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"setTrailerDoorState()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"any"}),(0,l.jsx)(n.th,{children:"tipSideIndex"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"state"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"noEventSend"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"instantUpdate"})]})]})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:'function Trailer:setTrailerDoorState(tipSideIndex, state, noEventSend, instantUpdate)\n    local spec = self.spec_trailer\n    local tipSide = spec.tipSides[tipSideIndex]\n    if tipSide ~ = nil then\n        if state = = nil then\n            state = not tipSide.doorAnimation.state\n        end\n\n        tipSide.doorAnimation.state = state\n\n        self:setAnimationStopTime(tipSide.doorAnimation.name, state and tipSide.doorAnimation.maxTime or 0 )\n        self:playAnimation(tipSide.doorAnimation.name, state and tipSide.doorAnimation.speedScale or tipSide.doorAnimation.closeSpeedScale, self:getAnimationTime(tipSide.doorAnimation.name), true )\n\n        if instantUpdate then\n            AnimatedVehicle.updateAnimationByName( self , tipSide.doorAnimation.name, 999999 , true )\n        end\n\n        if tipSide.manualDoorToggle and tipSide.doorAnimation.name ~ = nil then\n            if state then\n                SpecializationUtil.raiseEvent( self , "onOpenBackDoor" , tipSideIndex)\n            else\n                    SpecializationUtil.raiseEvent( self , "onCloseBackDoor" , tipSideIndex)\n                end\n            end\n\n            TrailerToggleManualDoorEvent.sendEvent( self , tipSideIndex, state, noEventSend)\n        end\n    end\n\n'})}),"\n",(0,l.jsx)(n.h3,{id:"startaidischarge",children:"startAIDischarge"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"startAIDischarge()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"any"}),(0,l.jsx)(n.th,{children:"superFunc"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"dischargeNode"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"task"})]})]})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"function Trailer:startAIDischarge(superFunc, dischargeNode, task)\n    local spec = self.spec_trailer\n    local tipSide = spec.dischargeNodeIndexToTipSide[dischargeNode.index]\n    if tipSide ~ = nil then\n        self:setPreferedTipSide(tipSide.index)\n    end\n\n    superFunc( self , dischargeNode, task)\nend\n\n"})}),"\n",(0,l.jsx)(n.h3,{id:"starttipping",children:"startTipping"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"startTipping()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"any"}),(0,l.jsx)(n.th,{children:"tipSideIndex"})]})}),(0,l.jsx)(n.tbody,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"noEventSend"})]})})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:'function Trailer:startTipping(tipSideIndex, noEventSend)\n    local spec = self.spec_trailer\n    tipSideIndex = tipSideIndex or spec.preferedTipSideIndex\n    local tipSide = spec.tipSides[tipSideIndex]\n    if tipSide ~ = nil then\n        local animTime = self:getAnimationTime(tipSide.animation.name)\n        self:playAnimation(tipSide.animation.name, tipSide.animation.speedScale, animTime, true )\n\n        if ( not tipSide.manualDoorToggle or tipSide.manualDoorToggleWhileTipping) and tipSide.doorAnimation.name ~ = nil then\n            self:setTrailerDoorState(spec.preferedTipSideIndex, true , true )\n        elseif tipSide.manualDoorResetWhileTipping then\n                self:setTrailerDoorState(spec.preferedTipSideIndex, false , true , true )\n            end\n\n            if tipSide.tippingAnimation.name ~ = nil then\n                self:playAnimation(tipSide.tippingAnimation.name, tipSide.tippingAnimation.speedScale, self:getAnimationTime(tipSide.tippingAnimation.name), true )\n            end\n\n            if self.isClient then\n                g_animationManager:startAnimations(tipSide.animationNodes)\n                g_soundManager:playSample(tipSide.unloadSound)\n            end\n\n            spec.tipState = Trailer.TIPSTATE_OPENING\n            spec.currentTipSideIndex = tipSideIndex\n\n            if tipSide.dischargeNodeIndex ~ = nil then\n                self:setCurrentDischargeNodeIndex(tipSide.dischargeNodeIndex)\n            end\n\n            spec.remainingFillDelta = 0\n\n            SpecializationUtil.raiseEvent( self , "onStartTipping" , tipSideIndex)\n            self:raiseActive()\n        end\n    end\n\n'})}),"\n",(0,l.jsx)(n.h3,{id:"stoptipping",children:"stopTipping"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"stopTipping()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,l.jsx)(n.table,{children:(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"any"}),(0,l.jsx)(n.th,{children:"noEventSend"})]})})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:'function Trailer:stopTipping(noEventSend)\n    local spec = self.spec_trailer\n    local tipSide = spec.tipSides[spec.currentTipSideIndex]\n    if tipSide ~ = nil then\n        if tipSide.animation.closeSpeedScale ~ = 0 then\n            local animTime = self:getAnimationTime(tipSide.animation.name)\n            self:playAnimation(tipSide.animation.name, tipSide.animation.closeSpeedScale, animTime, true )\n        else\n                if self:getIsAnimationPlaying(tipSide.animation.name) then\n                    self:stopAnimation(tipSide.animation.name, true )\n                end\n            end\n\n            if ( not tipSide.manualDoorToggle or tipSide.manualDoorToggleWhileTipping) and tipSide.doorAnimation.name ~ = nil then\n                if not tipSide.doorAnimation.delayedClosing then\n                    self:setTrailerDoorState(spec.currentTipSideIndex, false , true )\n                end\n            end\n\n            if tipSide.tippingAnimation.name ~ = nil then\n                self:setAnimationStopTime(tipSide.tippingAnimation.name, 1 )\n            end\n\n            if self.isClient then\n                g_animationManager:stopAnimations(tipSide.animationNodes)\n                g_soundManager:stopSample(tipSide.unloadSound)\n            end\n\n            spec.tipState = Trailer.TIPSTATE_CLOSING\n\n            spec.remainingFillDelta = 0\n\n            SpecializationUtil.raiseEvent( self , "onStopTipping" )\n            self:raiseActive()\n        end\n    end\n\n'})}),"\n",(0,l.jsx)(n.h3,{id:"updatetrailerautomaticredischarge",children:"updateTrailerAutomaticRedischarge"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"updateTrailerAutomaticRedischarge()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"function Trailer:updateTrailerAutomaticRedischarge()\n    local spec = self.spec_trailer\n\n    local dischargeNode = self:getCurrentDischargeNode()\n    if dischargeNode ~ = nil then\n        local failed = false\n        local x, y, z = getWorldTranslation(dischargeNode.node)\n        local pos = spec.redischarge.dischargeNodeLastPos\n        local distance = MathUtil.vector3Length(pos[ 1 ] - x, pos[ 2 ] - y, pos[ 3 ] - z)\n        if distance < 1.5 then\n            local dischargeObject, dischargeFillUnitIndex = self:getDischargeTargetObject(dischargeNode)\n            if dischargeObject ~ = nil and dischargeObject = = spec.redischarge.dischargeObject then\n                local fillLevel = self:getFillUnitFillLevel(dischargeNode.fillUnitIndex)\n                if fillLevel > 0 then\n                    local dischargeAllowed = true\n                    local threshold = 0.5\n                    if dischargeObject.getTrailerAutomaticRedischargeThreshold ~ = nil then\n                        threshold = dischargeObject:getTrailerAutomaticRedischargeThreshold() or threshold\n                    end\n\n                    if dischargeObject.getFillUnitCapacity ~ = nil and dischargeObject.getFillUnitFreeCapacity ~ = nil then\n                        local capacity = dischargeObject:getFillUnitCapacity(dischargeFillUnitIndex)\n                        local freeCapacity = dischargeObject:getFillUnitFreeCapacity(dischargeFillUnitIndex, self:getDischargeFillType(dischargeNode), self:getActiveFarm())\n                        dischargeAllowed = freeCapacity > (capacity * threshold) or fillLevel < freeCapacity\n                    end\n\n                    if dischargeAllowed then\n                        spec.redischarge.isDisabled = true\n                        self:setDischargeState( Dischargeable.DISCHARGE_STATE_OBJECT)\n                        spec.redischarge.isDisabled = false\n                    end\n                else\n                        failed = true\n                    end\n                end\n            else\n                    failed = true\n                end\n\n                if failed then\n                    spec.redischarge.dischargeObject = nil\n                    spec.redischarge.dischargeNodeLastPos[ 1 ], spec.redischarge.dischargeNodeLastPos[ 2 ], spec.redischarge.dischargeNodeLastPos[ 3 ] = 0 , 0 , 0\n                end\n            end\n        end\n\n"})})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(c,{...e})}):c(e)}}}]);