"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[72768],{12651(n,e,i){i.r(e),i.d(e,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>t,metadata:()=>l,toc:()=>d});const l=JSON.parse('{"id":"script/Specializations/PlaceableHusbandryMilk","title":"PlaceableHusbandryMilk","description":"PlaceableHusbandryMilk","source":"@site/../docs/script/Specializations/PlaceableHusbandryMilk.md","sourceDirName":"script/Specializations","slug":"/script/Specializations/PlaceableHusbandryMilk","permalink":"/FS25-Community-LUADOC/script/Specializations/PlaceableHusbandryMilk","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"PlaceableHusbandryMeadow","permalink":"/FS25-Community-LUADOC/script/Specializations/PlaceableHusbandryMeadow"},"next":{"title":"PlaceableHusbandryPallets","permalink":"/FS25-Community-LUADOC/script/Specializations/PlaceableHusbandryPallets"}}');var s=i(74848),r=i(28453);const t={},a=void 0,c={},d=[{value:"PlaceableHusbandryMilk",id:"placeablehusbandrymilk",level:2},{value:"getConditionInfos",id:"getconditioninfos",level:3},{value:"initSpecialization",id:"initspecialization",level:3},{value:"onDelete",id:"ondelete",level:3},{value:"onFinalizePlacement",id:"onfinalizeplacement",level:3},{value:"onHusbandryAnimalsUpdate",id:"onhusbandryanimalsupdate",level:3},{value:"onLoad",id:"onload",level:3},{value:"onMilkingRobotLoaded",id:"onmilkingrobotloaded",level:3},{value:"prerequisitesPresent",id:"prerequisitespresent",level:3},{value:"registerEventListeners",id:"registereventlisteners",level:3},{value:"registerFunctions",id:"registerfunctions",level:3},{value:"registerOverwrittenFunctions",id:"registeroverwrittenfunctions",level:3},{value:"registerXMLPaths",id:"registerxmlpaths",level:3},{value:"updateInfo",id:"updateinfo",level:3},{value:"updateOutput",id:"updateoutput",level:3},{value:"updateProduction",id:"updateproduction",level:3}];function o(n){const e={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.h2,{id:"placeablehusbandrymilk",children:"PlaceableHusbandryMilk"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Description"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"Specialization for placeables"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Functions"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#getconditioninfos",children:"getConditionInfos"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#initspecialization",children:"initSpecialization"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#ondelete",children:"onDelete"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#onfinalizeplacement",children:"onFinalizePlacement"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#onhusbandryanimalsupdate",children:"onHusbandryAnimalsUpdate"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#onload",children:"onLoad"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#onmilkingrobotloaded",children:"onMilkingRobotLoaded"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#prerequisitespresent",children:"prerequisitesPresent"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#registereventlisteners",children:"registerEventListeners"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#registerfunctions",children:"registerFunctions"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#registeroverwrittenfunctions",children:"registerOverwrittenFunctions"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#registerxmlpaths",children:"registerXMLPaths"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#updateinfo",children:"updateInfo"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#updateoutput",children:"updateOutput"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#updateproduction",children:"updateProduction"})}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"getconditioninfos",children:"getConditionInfos"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Description"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"getConditionInfos()"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(e.table,{children:(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"any"}),(0,s.jsx)(e.th,{children:"superFunc"})]})})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Code"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-lua",children:"function PlaceableHusbandryMilk:getConditionInfos(superFunc)\n    local spec = self.spec_husbandryMilk\n    local infos = superFunc( self )\n\n    if spec.hasMilkProduction then\n        for _, fillTypeIndex in ipairs(spec.activeFillTypes) do\n            local info = { }\n            local fillType = g_fillTypeManager:getFillTypeByIndex(fillTypeIndex)\n            if fillType ~ = nil then\n                info.title = fillType.title\n                info.value = self:getHusbandryFillLevel(fillTypeIndex)\n                local capacity = self:getHusbandryCapacity(fillTypeIndex)\n                local ratio = 0\n                if capacity > 0 then\n                    ratio = info.value / capacity\n                end\n                info.ratio = math.clamp(ratio, 0 , 1 )\n                info.invertedBar = true\n\n                table.insert(infos, info)\n            end\n        end\n    end\n\n    return infos\nend\n\n"})}),"\n",(0,s.jsx)(e.h3,{id:"initspecialization",children:"initSpecialization"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Description"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"initSpecialization()"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Code"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-lua",children:'function PlaceableHusbandryMilk.initSpecialization()\n    g_placeableConfigurationManager:addConfigurationType( "milk" , g_i18n:getText( "configuration_milk" ), "husbandry.milk" , PlaceableConfigurationItem )\nend\n\n'})}),"\n",(0,s.jsx)(e.h3,{id:"ondelete",children:"onDelete"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Description"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"onDelete()"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Code"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-lua",children:"function PlaceableHusbandryMilk:onDelete()\n    local spec = self.spec_husbandryMilk\n    if spec.milkingRobots ~ = nil then\n        for _, robot in ipairs(spec.milkingRobots) do\n            robot:delete()\n        end\n        spec.milkingRobots = { }\n    end\nend\n\n"})}),"\n",(0,s.jsx)(e.h3,{id:"onfinalizeplacement",children:"onFinalizePlacement"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Description"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"onFinalizePlacement()"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Code"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-lua",children:"function PlaceableHusbandryMilk:onFinalizePlacement()\n    local spec = self.spec_husbandryMilk\n    if spec.hasMilkProduction then\n        for _, fillTypeIndex in ipairs(spec.fillTypes) do\n            if not self:getHusbandryIsFillTypeSupported(fillTypeIndex) then\n                local fillTypeName = g_fillTypeManager:getFillTypeNameByIndex(fillTypeIndex)\n                Logging.warning( \"Missing filltype '%s' in husbandry storage!\" , fillTypeName)\n            end\n        end\n\n        for _, robot in ipairs(spec.milkingRobots) do\n            robot:finalizePlacement()\n        end\n    end\nend\n\n"})}),"\n",(0,s.jsx)(e.h3,{id:"onhusbandryanimalsupdate",children:"onHusbandryAnimalsUpdate"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Description"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"onHusbandryAnimalsUpdate()"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(e.table,{children:(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"any"}),(0,s.jsx)(e.th,{children:"clusters"})]})})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Code"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-lua",children:"function PlaceableHusbandryMilk:onHusbandryAnimalsUpdate(clusters)\n    local spec = self.spec_husbandryMilk\n\n    if spec.hasMilkProduction then\n        for fillType, _ in pairs(spec.litersPerHour) do\n            spec.litersPerHour[fillType] = 0\n        end\n\n        spec.activeFillTypes = { }\n\n        for _, cluster in ipairs(clusters) do\n            local subType = g_currentMission.animalSystem:getSubTypeByIndex(cluster.subTypeIndex)\n            if subType ~ = nil then\n                local milk = subType.output.milk\n                if milk ~ = nil then\n                    local age = cluster:getAge()\n                    local litersPerAnimals = milk.curve:get(age)\n                    local litersPerDay = litersPerAnimals * cluster:getNumAnimals()\n\n                    spec.litersPerHour[milk.fillType] = spec.litersPerHour[milk.fillType] + (litersPerDay / 24 )\n\n                    table.addElement(spec.activeFillTypes, milk.fillType)\n                end\n            end\n        end\n    end\nend\n\n"})}),"\n",(0,s.jsx)(e.h3,{id:"onload",children:"onLoad"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Description"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"onLoad()"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(e.table,{children:(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"any"}),(0,s.jsx)(e.th,{children:"savegame"})]})})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Code"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-lua",children:'function PlaceableHusbandryMilk:onLoad(savegame)\n    local spec = self.spec_husbandryMilk\n\n    local milkConfigurationId = Utils.getNoNil( self.configurations[ "milk" ], 1 )\n    local configKey = string.format( "placeable.husbandry.milk.milkConfigurations.milkConfiguration(%d)" , milkConfigurationId - 1 )\n\n    if not self.xmlFile:hasProperty(configKey) then\n        configKey = "placeable.husbandry.milk"\n    end\n\n    spec.hasMilkProduction = self.xmlFile:getBool(configKey .. "#hasMilkProduction" , true )\n    if spec.hasMilkProduction then\n        local animalTypeIndex = self:getAnimalTypeIndex()\n        local animalType = g_currentMission.animalSystem:getTypeByIndex(animalTypeIndex)\n        spec.litersPerHour = { }\n        spec.fillTypes = { }\n        spec.infos = { }\n        spec.activeFillTypes = { }\n\n        if animalType ~ = nil then\n            for _, subTypeIndex in ipairs(animalType.subTypes) do\n                local subType = g_currentMission.animalSystem:getSubTypeByIndex(subTypeIndex)\n                if subType.output ~ = nil then\n                    local milk = subType.output.milk\n                    if milk ~ = nil then\n                        spec.litersPerHour[milk.fillType] = 0\n                        table.addElement(spec.fillTypes, milk.fillType)\n                        spec.infos[milk.fillType] = { title = g_fillTypeManager:getFillTypeTitleByIndex(milk.fillType), text = "" }\n                    end\n                end\n            end\n        end\n\n        spec.milkingRobots = { }\n\n        for _, key in self.xmlFile:iterator(configKey .. ".milkingRobots.milkingRobot" ) do\n            local filename = Utils.getFilename( self.xmlFile:getValue(key .. "#filename" , nil ), self.baseDirectory)\n            if filename = = nil then\n                Logging.xmlWarning( self.xmlFile, "Milkingrobot filename missing for \'%s\'" , key)\n                    continue\n                end\n\n                local className = self.xmlFile:getValue(key .. "#class" , "" )\n                local class = ClassUtil.getClassObject(className)\n                if class = = nil then\n                    Logging.xmlWarning( self.xmlFile, "Milkingrobot class \'%s\' not defined for \'%s\'" , className, key)\n                        continue\n                    end\n\n                    local linkNode = self.xmlFile:getValue(key .. "#linkNode" , nil , self.components, self.i3dMappings)\n                    if linkNode = = nil then\n                        Logging.xmlWarning( self.xmlFile, "Milkingrobot linkNode not defined for \'%s\'" , key)\n                            continue\n                        end\n\n                        local args = { }\n                        args.loadingTask = self:createLoadingTask( self )\n                        local robot = class.new( self , self.baseDirectory)\n                        if robot:load(linkNode, filename, self.onMilkingRobotLoaded, self , args) then\n                            table.insert(spec.milkingRobots, robot)\n                        else\n                                self:finishLoadingTask(args.loadingTask)\n                                robot:delete()\n                            end\n                        end\n                    end\n                end\n\n'})}),"\n",(0,s.jsx)(e.h3,{id:"onmilkingrobotloaded",children:"onMilkingRobotLoaded"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Description"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"onMilkingRobotLoaded()"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"any"}),(0,s.jsx)(e.th,{children:"robot"})]})}),(0,s.jsx)(e.tbody,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"any"}),(0,s.jsx)(e.td,{children:"args"})]})})]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Code"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-lua",children:"function PlaceableHusbandryMilk:onMilkingRobotLoaded(robot, args)\n    self:finishLoadingTask(args.loadingTask)\nend\n\n"})}),"\n",(0,s.jsx)(e.h3,{id:"prerequisitespresent",children:"prerequisitesPresent"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Description"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"Checks if all prerequisite specializations are loaded"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"prerequisitesPresent(table specializations)"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,s.jsx)(e.table,{children:(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"table"}),(0,s.jsx)(e.th,{children:"specializations"}),(0,s.jsx)(e.th,{children:"specializations"})]})})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,s.jsx)(e.table,{children:(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"table"}),(0,s.jsx)(e.th,{children:"hasPrerequisite"}),(0,s.jsx)(e.th,{children:"true if all prerequisite specializations are loaded"})]})})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Code"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-lua",children:"function PlaceableHusbandryMilk.prerequisitesPresent(specializations)\n    return SpecializationUtil.hasSpecialization( PlaceableHusbandry , specializations) and SpecializationUtil.hasSpecialization( PlaceableHusbandryAnimals , specializations)\nend\n\n"})}),"\n",(0,s.jsx)(e.h3,{id:"registereventlisteners",children:"registerEventListeners"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Description"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"registerEventListeners()"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(e.table,{children:(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"any"}),(0,s.jsx)(e.th,{children:"placeableType"})]})})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Code"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-lua",children:'function PlaceableHusbandryMilk.registerEventListeners(placeableType)\n    SpecializationUtil.registerEventListener(placeableType, "onLoad" , PlaceableHusbandryMilk )\n    SpecializationUtil.registerEventListener(placeableType, "onDelete" , PlaceableHusbandryMilk )\n    SpecializationUtil.registerEventListener(placeableType, "onFinalizePlacement" , PlaceableHusbandryMilk )\n    SpecializationUtil.registerEventListener(placeableType, "onHusbandryAnimalsUpdate" , PlaceableHusbandryMilk )\nend\n\n'})}),"\n",(0,s.jsx)(e.h3,{id:"registerfunctions",children:"registerFunctions"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Description"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"registerFunctions()"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(e.table,{children:(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"any"}),(0,s.jsx)(e.th,{children:"placeableType"})]})})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Code"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-lua",children:'function PlaceableHusbandryMilk.registerFunctions(placeableType)\n    SpecializationUtil.registerFunction(placeableType, "onMilkingRobotLoaded" , PlaceableHusbandryMilk.onMilkingRobotLoaded)\nend\n\n'})}),"\n",(0,s.jsx)(e.h3,{id:"registeroverwrittenfunctions",children:"registerOverwrittenFunctions"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Description"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"registerOverwrittenFunctions()"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(e.table,{children:(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"any"}),(0,s.jsx)(e.th,{children:"placeableType"})]})})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Code"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-lua",children:'function PlaceableHusbandryMilk.registerOverwrittenFunctions(placeableType)\n    SpecializationUtil.registerOverwrittenFunction(placeableType, "updateOutput" , PlaceableHusbandryMilk.updateOutput)\n    SpecializationUtil.registerOverwrittenFunction(placeableType, "updateProduction" , PlaceableHusbandryMilk.updateProduction)\n    SpecializationUtil.registerOverwrittenFunction(placeableType, "updateInfo" , PlaceableHusbandryMilk.updateInfo)\n    SpecializationUtil.registerOverwrittenFunction(placeableType, "getConditionInfos" , PlaceableHusbandryMilk.getConditionInfos)\nend\n\n'})}),"\n",(0,s.jsx)(e.h3,{id:"registerxmlpaths",children:"registerXMLPaths"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Description"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"registerXMLPaths()"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"any"}),(0,s.jsx)(e.th,{children:"schema"})]})}),(0,s.jsx)(e.tbody,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"any"}),(0,s.jsx)(e.td,{children:"basePath"})]})})]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Code"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-lua",children:'function PlaceableHusbandryMilk.registerXMLPaths(schema, basePath)\n    schema:setXMLSpecializationType( "Husbandry" )\n\n    PlaceableHusbandryMilk.registerMilkXMLPaths(schema, basePath .. ".husbandry.milk" )\n    PlaceableHusbandryMilk.registerMilkXMLPaths(schema, basePath .. ".husbandry.milk.milkConfigurations.milkConfiguration(?)" )\n\n    schema:setXMLSpecializationType()\nend\n\n'})}),"\n",(0,s.jsx)(e.h3,{id:"updateinfo",children:"updateInfo"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Description"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"updateInfo()"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"any"}),(0,s.jsx)(e.th,{children:"superFunc"})]})}),(0,s.jsx)(e.tbody,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"any"}),(0,s.jsx)(e.td,{children:"infoTable"})]})})]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Code"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-lua",children:'function PlaceableHusbandryMilk:updateInfo(superFunc, infoTable)\n    local spec = self.spec_husbandryMilk\n    superFunc( self , infoTable)\n\n    if spec.hasMilkProduction then\n        for k, fillTypeIndex in ipairs(spec.activeFillTypes) do\n            local info = spec.infos[fillTypeIndex]\n            local fillLevel = self:getHusbandryFillLevel(fillTypeIndex)\n            info.text = string.format( "%d l" , fillLevel)\n            table.insert(infoTable, info)\n        end\n    end\nend\n\n'})}),"\n",(0,s.jsx)(e.h3,{id:"updateoutput",children:"updateOutput"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Description"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"updateOutput()"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"any"}),(0,s.jsx)(e.th,{children:"superFunc"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"any"}),(0,s.jsx)(e.td,{children:"foodFactor"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"any"}),(0,s.jsx)(e.td,{children:"productionFactor"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"any"}),(0,s.jsx)(e.td,{children:"globalProductionFactor"})]})]})]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Code"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-lua",children:"function PlaceableHusbandryMilk:updateOutput(superFunc, foodFactor, productionFactor, globalProductionFactor)\n    local spec = self.spec_husbandryMilk\n    if spec.hasMilkProduction and self.isServer and #spec.fillTypes > 0 then\n        for _, fillTypeIndex in ipairs(spec.fillTypes) do\n            local litersPerHour = spec.litersPerHour[fillTypeIndex]\n            local liters = productionFactor * globalProductionFactor * litersPerHour * g_currentMission.environment.timeAdjustment\n            self:addHusbandryFillLevelFromTool( self:getOwnerFarmId(), liters, fillTypeIndex, nil , nil , nil )\n        end\n    end\n\n    superFunc( self , foodFactor, productionFactor, globalProductionFactor)\nend\n\n"})}),"\n",(0,s.jsx)(e.h3,{id:"updateproduction",children:"updateProduction"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Description"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"updateProduction()"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"any"}),(0,s.jsx)(e.th,{children:"superFunc"})]})}),(0,s.jsx)(e.tbody,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"any"}),(0,s.jsx)(e.td,{children:"foodFactor"})]})})]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Code"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-lua",children:"function PlaceableHusbandryMilk:updateProduction(superFunc, foodFactor)\n    local spec = self.spec_husbandryMilk\n    local factor = superFunc( self , foodFactor)\n\n    if spec.hasMilkProduction then\n        for _, fillTypeIndex in ipairs(spec.fillTypes) do\n            local freeCapacity = self:getHusbandryFreeCapacity(fillTypeIndex)\n            if freeCapacity < = 0 then\n                factor = 0\n                break\n            end\n        end\n    end\n\n    return factor\nend\n\n"})})]})}function h(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(o,{...n})}):o(n)}},28453(n,e,i){i.d(e,{R:()=>t,x:()=>a});var l=i(96540);const s={},r=l.createContext(s);function t(n){const e=l.useContext(r);return l.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:t(n.components),l.createElement(r.Provider,{value:e},n.children)}}}]);