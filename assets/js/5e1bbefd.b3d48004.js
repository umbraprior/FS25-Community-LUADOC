"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[49913],{28453(e,n,l){l.d(n,{R:()=>t,x:()=>a});var i=l(96540);const r={},s=i.createContext(r);function t(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),i.createElement(s.Provider,{value:n},e.children)}},94568(e,n,l){l.r(n),l.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"script/Specializations/MixerWagon","title":"MixerWagon","description":"MixerWagon","source":"@site/../docs/script/Specializations/MixerWagon.md","sourceDirName":"script/Specializations","slug":"/script/Specializations/MixerWagon","permalink":"/FS25-Community-LUADOC/script/Specializations/MixerWagon","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"ManureSensor","permalink":"/FS25-Community-LUADOC/script/Specializations/ManureSensor"},"next":{"title":"Motorbike","permalink":"/FS25-Community-LUADOC/script/Specializations/Motorbike"}}');var r=l(74848),s=l(28453);const t={},a=void 0,d={},c=[{value:"MixerWagon",id:"mixerwagon",level:2},{value:"addFillUnitFillLevel",id:"addfillunitfilllevel",level:3},{value:"getConsumingLoad",id:"getconsumingload",level:3},{value:"getDischargeFillType",id:"getdischargefilltype",level:3},{value:"getDoConsumePtoPower",id:"getdoconsumeptopower",level:3},{value:"getFillUnitAllowsFillType",id:"getfillunitallowsfilltype",level:3},{value:"getIsBaleAutoLoadable",id:"getisbaleautoloadable",level:3},{value:"getIsPowerTakeOffActive",id:"getispowertakeoffactive",level:3},{value:"initSpecialization",id:"initspecialization",level:3},{value:"mixerWagonBaleTriggerCallback",id:"mixerwagonbaletriggercallback",level:3},{value:"onDelete",id:"ondelete",level:3},{value:"onFillUnitFillLevelChanged",id:"onfillunitfilllevelchanged",level:3},{value:"onLoad",id:"onload",level:3},{value:"onMixerWagonBaleDeleted",id:"onmixerwagonbaledeleted",level:3},{value:"onPostLoad",id:"onpostload",level:3},{value:"onReadStream",id:"onreadstream",level:3},{value:"onReadUpdateStream",id:"onreadupdatestream",level:3},{value:"onTurnedOff",id:"onturnedoff",level:3},{value:"onTurnedOn",id:"onturnedon",level:3},{value:"onUpdate",id:"onupdate",level:3},{value:"onWriteStream",id:"onwritestream",level:3},{value:"onWriteUpdateStream",id:"onwriteupdatestream",level:3},{value:"prerequisitesPresent",id:"prerequisitespresent",level:3},{value:"registerEventListeners",id:"registereventlisteners",level:3},{value:"registerFunctions",id:"registerfunctions",level:3},{value:"registerOverwrittenFunctions",id:"registeroverwrittenfunctions",level:3},{value:"saveToXMLFile",id:"savetoxmlfile",level:3},{value:"updateDebugValues",id:"updatedebugvalues",level:3}];function o(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"mixerwagon",children:"MixerWagon"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Specialization for forage mixer wagons creating forage from bales, chaff, straw and/or hay"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Functions"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#addfillunitfilllevel",children:"addFillUnitFillLevel"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#getconsumingload",children:"getConsumingLoad"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#getdischargefilltype",children:"getDischargeFillType"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#getdoconsumeptopower",children:"getDoConsumePtoPower"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#getfillunitallowsfilltype",children:"getFillUnitAllowsFillType"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#getisbaleautoloadable",children:"getIsBaleAutoLoadable"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#getispowertakeoffactive",children:"getIsPowerTakeOffActive"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#initspecialization",children:"initSpecialization"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#mixerwagonbaletriggercallback",children:"mixerWagonBaleTriggerCallback"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#ondelete",children:"onDelete"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#onfillunitfilllevelchanged",children:"onFillUnitFillLevelChanged"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#onload",children:"onLoad"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#onmixerwagonbaledeleted",children:"onMixerWagonBaleDeleted"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#onpostload",children:"onPostLoad"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#onreadstream",children:"onReadStream"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#onreadupdatestream",children:"onReadUpdateStream"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#onturnedoff",children:"onTurnedOff"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#onturnedon",children:"onTurnedOn"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#onupdate",children:"onUpdate"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#onwritestream",children:"onWriteStream"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#onwriteupdatestream",children:"onWriteUpdateStream"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#prerequisitespresent",children:"prerequisitesPresent"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#registereventlisteners",children:"registerEventListeners"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#registerfunctions",children:"registerFunctions"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#registeroverwrittenfunctions",children:"registerOverwrittenFunctions"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#savetoxmlfile",children:"saveToXMLFile"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#updatedebugvalues",children:"updateDebugValues"})}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"addfillunitfilllevel",children:"addFillUnitFillLevel"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"addFillUnitFillLevel()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"any"}),(0,r.jsx)(n.th,{children:"superFunc"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"farmId"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"fillUnitIndex"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"fillLevelDelta"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"fillTypeIndex"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"toolType"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"fillPositionData"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function MixerWagon:addFillUnitFillLevel(superFunc, farmId, fillUnitIndex, fillLevelDelta, fillTypeIndex, toolType, fillPositionData)\n    local spec = self.spec_mixerWagon\n\n    if fillUnitIndex ~ = spec.fillUnitIndex then\n        return superFunc( self , farmId, fillUnitIndex, fillLevelDelta, fillTypeIndex, toolType, fillPositionData)\n    end\n\n    if #spec.mixerWagonFillTypes = = 0 then\n        if fillLevelDelta ~ = 0 and self:getIsSynchronized() then\n            spec.activeTimer = spec.activeTimerMax\n        end\n\n        return superFunc( self , farmId, fillUnitIndex, fillLevelDelta, fillTypeIndex, toolType, fillPositionData)\n    end\n\n    local oldFillLevel = self:getFillUnitFillLevel(fillUnitIndex)\n\n    local mixerWagonFillType = spec.fillTypeToMixerWagonFillType[fillTypeIndex]\n\n    -- allow to put forage back to mixer.Split it up into valid forage mixing ratios\n    if fillTypeIndex = = FillType.FORAGE and fillLevelDelta > 0 then\n        for _, entry in pairs(spec.mixerWagonFillTypes) do\n            local delta = fillLevelDelta * entry.ratio\n            self:addFillUnitFillLevel(farmId, fillUnitIndex, delta, next(entry.fillTypes), toolType, fillPositionData)\n        end\n\n        return fillLevelDelta\n    end\n\n    if mixerWagonFillType = = nil then\n        -- used for discharge\n            if fillLevelDelta < 0 and oldFillLevel > 0 then\n                -- remove values from all fill types such that the ratio doesn't change\n                fillLevelDelta = math.max(fillLevelDelta, - oldFillLevel)\n\n                local newFillLevel = 0\n                for _, entry in pairs(spec.mixerWagonFillTypes) do\n                    local entryDelta = fillLevelDelta * (entry.fillLevel / oldFillLevel)\n                    entry.fillLevel = math.max(entry.fillLevel + entryDelta, 0 )\n                    newFillLevel = newFillLevel + entry.fillLevel\n                end\n\n                if newFillLevel < 0.1 then\n                    for _, entry in pairs(spec.mixerWagonFillTypes) do\n                        entry.fillLevel = 0\n                    end\n                    fillLevelDelta = - oldFillLevel\n                end\n\n                self:raiseDirtyFlags(spec.dirtyFlag)\n                local ret = superFunc( self , farmId, fillUnitIndex, fillLevelDelta, fillTypeIndex, toolType, fillPositionData)\n                return ret\n            end\n\n            return 0\n        end\n\n        local capacity = self:getFillUnitCapacity(fillUnitIndex)\n        local free = capacity - oldFillLevel\n\n        if fillLevelDelta > 0 then\n            mixerWagonFillType.fillLevel = mixerWagonFillType.fillLevel + math.min(free, fillLevelDelta)\n\n            if self:getIsSynchronized() then\n                spec.activeTimer = spec.activeTimerMax\n            end\n        else\n                mixerWagonFillType.fillLevel = math.max( 0 , mixerWagonFillType.fillLevel + fillLevelDelta)\n            end\n\n            local newFillLevel = 0\n            for _, fillType in pairs(spec.mixerWagonFillTypes) do\n                newFillLevel = newFillLevel + fillType.fillLevel\n            end\n            newFillLevel = math.clamp(newFillLevel, 0 , self:getFillUnitCapacity(fillUnitIndex))\n\n            local newFillType = FillType.UNKNOWN\n            local isSingleFilled = false\n            local isForageOk = false\n\n            for _, fillType in pairs(spec.mixerWagonFillTypes) do\n                if newFillLevel = = fillType.fillLevel then\n                    isSingleFilled = true\n                    newFillType = next(mixerWagonFillType.fillTypes)\n                    break\n                end\n            end\n\n            if not isSingleFilled then\n                isForageOk = true\n                for _, fillType in pairs(spec.mixerWagonFillTypes) do\n                    if fillType.fillLevel < fillType.minPercentage * newFillLevel - 0.01 or fillType.fillLevel > fillType.maxPercentage * newFillLevel + 0.01 then\n                        isForageOk = false\n                        break\n                    end\n                end\n            end\n\n            if isForageOk then\n                newFillType = FillType.FORAGE\n            elseif not isSingleFilled then\n                    newFillType = FillType.FORAGE_MIXING\n                end\n\n                self:raiseDirtyFlags(spec.dirtyFlag)\n\n                self:setFillUnitFillType(fillUnitIndex, newFillType)\n\n                return superFunc( self , farmId, fillUnitIndex, newFillLevel - oldFillLevel, newFillType, toolType, fillPositionData)\n            end\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"getconsumingload",children:"getConsumingLoad"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"getConsumingLoad()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,r.jsx)(n.table,{children:(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"any"}),(0,r.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function MixerWagon:getConsumingLoad(superFunc)\n    local value, count = superFunc( self )\n\n    local loadPercentage = 0\n    if self.spec_mixerWagon.activeTimer > 0 then\n        loadPercentage = 1\n    end\n\n    return value + loadPercentage, count + 1\nend\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"getdischargefilltype",children:"getDischargeFillType"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"getDischargeFillType()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"any"}),(0,r.jsx)(n.th,{children:"superFunc"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"dischargeNode"})]})})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function MixerWagon:getDischargeFillType(superFunc, dischargeNode)\n    local spec = self.spec_mixerWagon\n    local fillUnitIndex = dischargeNode.fillUnitIndex\n\n    if fillUnitIndex = = spec.fillUnitIndex then\n        local currentFillType = self:getFillUnitFillType(fillUnitIndex)\n        local fillLevel = self:getFillUnitFillLevel(fillUnitIndex)\n\n        if currentFillType = = FillType.FORAGE_MIXING and fillLevel > 0 then\n            for _, entry in pairs(spec.mixerWagonFillTypes) do\n                if entry.fillLevel > 0 then\n                    currentFillType = next(entry.fillTypes)\n                    break\n                end\n            end\n        end\n\n        return currentFillType, 1\n    end\n\n    return superFunc( self , dischargeNode)\nend\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"getdoconsumeptopower",children:"getDoConsumePtoPower"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Returns if should consume pto power"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"getDoConsumePtoPower()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,r.jsx)(n.table,{children:(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"any"}),(0,r.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,r.jsx)(n.table,{children:(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"any"}),(0,r.jsx)(n.th,{children:"consume"}),(0,r.jsx)(n.th,{children:"consumePtoPower"})]})})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function MixerWagon:getDoConsumePtoPower(superFunc)\n    if self.spec_mixerWagon.activeTimer > 0 then\n        return true\n    end\n\n    return superFunc( self )\nend\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"getfillunitallowsfilltype",children:"getFillUnitAllowsFillType"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"getFillUnitAllowsFillType()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"any"}),(0,r.jsx)(n.th,{children:"superFunc"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"fillUnitIndex"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"fillTypeIndex"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function MixerWagon:getFillUnitAllowsFillType(superFunc, fillUnitIndex, fillTypeIndex)\n    local spec = self.spec_mixerWagon\n\n    if spec.fillUnitIndex = = fillUnitIndex and #spec.mixerWagonFillTypes > 0 then\n        local mixerWagonFillType = spec.fillTypeToMixerWagonFillType[fillTypeIndex]\n        if mixerWagonFillType ~ = nil then\n            return true\n        end\n    end\n\n    return superFunc( self , fillUnitIndex, fillTypeIndex)\nend\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"getisbaleautoloadable",children:"getIsBaleAutoLoadable"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"getIsBaleAutoLoadable()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"any"}),(0,r.jsx)(n.th,{children:"superFunc"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"bale"})]})})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function MixerWagon:getIsBaleAutoLoadable(superFunc, bale)\n    local spec = self.spec_mixerWagon\n    if not self:getIsTurnedOn() then\n        return false\n    end\n\n    for i = 1 , #spec.baleTriggers do\n        local baleTrigger = spec.baleTriggers[i]\n        -- only allow picking up of the next bale after the last bale has been consumed fully\n        if next(baleTrigger.balesInTrigger) ~ = nil then\n            return false\n        end\n    end\n\n    local loadedFillTypeIndex = self:getFillUnitFillType(spec.fillUnitIndex)\n    if loadedFillTypeIndex ~ = FillType.UNKNOWN and bale:getFillType() ~ = loadedFillTypeIndex then\n        return false\n    end\n\n    if self:getFillUnitFreeCapacity(spec.fillUnitIndex) < = 0 then\n        return false\n    end\n\n    return superFunc( self , bale)\nend\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"getispowertakeoffactive",children:"getIsPowerTakeOffActive"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"getIsPowerTakeOffActive()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,r.jsx)(n.table,{children:(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"any"}),(0,r.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function MixerWagon:getIsPowerTakeOffActive(superFunc)\n    return self.spec_mixerWagon.activeTimer > 0 or superFunc( self )\nend\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"initspecialization",children:"initSpecialization"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"initSpecialization()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'function MixerWagon.initSpecialization()\n    local schema = Vehicle.xmlSchema\n    schema:setXMLSpecializationType( "MixerWagon" )\n\n    AnimationManager.registerAnimationNodesXMLPaths(schema, "vehicle.mixerWagon.mixAnimationNodes" )\n    AnimationManager.registerAnimationNodesXMLPaths(schema, "vehicle.mixerWagon.pickupAnimationNodes" )\n\n    schema:register(XMLValueType.NODE_INDEX, "vehicle.mixerWagon.baleTriggers.baleTrigger(?)#node" , "Bale trigger node" )\n    schema:register(XMLValueType.FLOAT, "vehicle.mixerWagon.baleTriggers.baleTrigger(?)#pickupSpeed" , "Bale pickup speed in liter per second" , 500 )\n    schema:register(XMLValueType.BOOL, "vehicle.mixerWagon.baleTriggers.baleTrigger(?)#needsSetIsTurnedOn" , "Vehicle needs to be turned on to pickup bales with this trigger" , false )\n    schema:register(XMLValueType.BOOL, "vehicle.mixerWagon.baleTriggers.baleTrigger(?)#useEffect" , "Filling effect is played while picking up a bale" , false )\n\n        schema:register(XMLValueType.TIME, "vehicle.mixerWagon#mixingTime" , "Mixing time after the fill level was changed" , 5 )\n        schema:register(XMLValueType.INT, "vehicle.mixerWagon#fillUnitIndex" , "Fill unit index" , 1 )\n        schema:register(XMLValueType.STRING, "vehicle.mixerWagon#recipe" , "Recipe fill type name" )\n\n        EffectManager.registerEffectXMLPaths(schema, "vehicle.mixerWagon.fillEffect" )\n\n        schema:setXMLSpecializationType()\n\n        local schemaSavegame = Vehicle.xmlSchemaSavegame\n        schemaSavegame:register(XMLValueType.FLOAT, "vehicles.vehicle(?).mixerWagon.fillType(?)#fillLevel" , "Fill level" , 0 )\n    end\n\n'})}),"\n",(0,r.jsx)(n.h3,{id:"mixerwagonbaletriggercallback",children:"mixerWagonBaleTriggerCallback"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Trigger callback"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"mixerWagonBaleTriggerCallback(integer triggerId, integer otherActorId, boolean onEnter, boolean onLeave, boolean\nonStay, integer otherShapeId)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"integer"}),(0,r.jsx)(n.th,{children:"triggerId"}),(0,r.jsx)(n.th,{children:"id of trigger"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"integer"}),(0,r.jsx)(n.td,{children:"otherActorId"}),(0,r.jsx)(n.td,{children:"id of other actor"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"boolean"}),(0,r.jsx)(n.td,{children:"onEnter"}),(0,r.jsx)(n.td,{children:"on enter"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"boolean"}),(0,r.jsx)(n.td,{children:"onLeave"}),(0,r.jsx)(n.td,{children:"on leave"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"boolean"}),(0,r.jsx)(n.td,{children:"onStay"}),(0,r.jsx)(n.td,{children:"on stay"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"integer"}),(0,r.jsx)(n.td,{children:"otherShapeId"}),(0,r.jsx)(n.td,{children:"id of other shape"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function MixerWagon:mixerWagonBaleTriggerCallback(triggerId, otherActorId, onEnter, onLeave, onStay, otherShapeId)\n    -- this happens if a compound child of a deleted compound is entering\n        if otherActorId ~ = 0 then\n            local bale = g_currentMission:getNodeObject(otherActorId)\n            if bale ~ = nil then\n                if bale:isa( Bale ) then\n                    local spec = self.spec_mixerWagon\n\n                    if self:getFillUnitSupportsFillType(spec.fillUnitIndex, bale:getFillType()) then\n                        for i = 1 , #spec.baleTriggers do\n                            local baleTrigger = spec.baleTriggers[i]\n                            if baleTrigger.node = = triggerId then\n                                if onEnter then\n                                    baleTrigger.balesInTrigger[bale] = (baleTrigger.balesInTrigger[bale] or 0 ) + 1\n                                    if baleTrigger.balesInTrigger[bale] = = 1 then\n                                        bale:addDeleteListener( self , self.onMixerWagonBaleDeleted)\n                                    end\n                                elseif onLeave then\n                                        baleTrigger.balesInTrigger[bale] = (baleTrigger.balesInTrigger[bale] or 1 ) - 1\n                                        if baleTrigger.balesInTrigger[bale] = = 0 then\n                                            baleTrigger.balesInTrigger[bale] = nil\n                                            bale:removeDeleteListener( self , self.onMixerWagonBaleDeleted)\n                                        end\n                                    end\n                                end\n                            end\n                        else\n                                if onEnter and otherActorId = = bale.nodeId then\n                                    g_currentMission:broadcastEventToFarm( MixerWagonBaleNotAcceptedEvent.new(), self:getOwnerFarmId(), true )\n                                end\n                            end\n                        end\n                    end\n                end\n            end\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"ondelete",children:"onDelete"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Called on deleting"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"onDelete()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function MixerWagon:onDelete()\n    local spec = self.spec_mixerWagon\n    if spec.baleTriggers ~ = nil then\n        for _, baleTrigger in ipairs(spec.baleTriggers) do\n            removeTrigger(baleTrigger.node)\n\n            for bale, _ in pairs(baleTrigger.balesInTrigger) do\n                if bale.removeDeleteListener ~ = nil then\n                    bale:removeDeleteListener( self , self.onMixerWagonBaleDeleted)\n                end\n            end\n            table.clear(baleTrigger.balesInTrigger)\n        end\n        table.clear(spec.baleTriggers)\n    end\n\n    g_animationManager:deleteAnimations(spec.mixAnimationNodes)\n    g_animationManager:deleteAnimations(spec.pickupAnimationNodes)\n    g_effectManager:deleteEffects(spec.fillEffects)\n\n    if spec.hudExtension ~ = nil then\n        g_currentMission.hud:removeInfoExtension(spec.hudExtension)\n        spec.hudExtension:delete()\n    end\nend\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"onfillunitfilllevelchanged",children:"onFillUnitFillLevelChanged"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"onFillUnitFillLevelChanged()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"any"}),(0,r.jsx)(n.th,{children:"fillUnitIndex"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"fillLevelDelta"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"fillTypeIndex"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"toolType"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"fillPositionData"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"appliedDelta"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function MixerWagon:onFillUnitFillLevelChanged(fillUnitIndex, fillLevelDelta, fillTypeIndex, toolType, fillPositionData, appliedDelta)\n    local spec = self.spec_mixerWagon\n\n    if spec.fillUnitIndex = = fillUnitIndex then\n        local fillLevel = self:getFillUnitFillLevel(fillUnitIndex)\n        if fillLevel = = 0 then\n            for _, entry in pairs(spec.mixerWagonFillTypes) do\n                entry.fillLevel = 0\n            end\n        end\n    end\nend\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"onload",children:"onLoad"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Called on loading"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"onLoad(table savegame)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,r.jsx)(n.table,{children:(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"table"}),(0,r.jsx)(n.th,{children:"savegame"}),(0,r.jsx)(n.th,{children:"savegame"})]})})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'function MixerWagon:onLoad(savegame)\n\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.mixerWagonBaleTrigger#index" , "vehicle.mixerWagon.baleTrigger#node" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.mixerWagon.baleTrigger#index" , "vehicle.mixerWagon.baleTrigger#node" ) --FS19 to FS19\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.mixerWagonPickupStartSound" , "vehicle.turnOnVehicle.sounds.start" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.mixerWagonPickupStopSound" , "vehicle.turnOnVehicle.sounds.stop" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.mixerWagonPickupSound" , "vehicle.turnOnVehicle.sounds.work" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.mixerWagonRotatingParts.mixerWagonRotatingPart#type" , "vehicle.mixerWagon.mixAnimationNodes.animationNode" , "mixerWagonMix" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.mixerWagonRotatingParts.mixerWagonRotatingPart#type" , "vehicle.mixerWagon.pickupAnimationNodes.animationNode" , "mixerWagonPickup" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.mixerWagonRotatingParts.mixerWagonScroller" , "vehicle.mixerWagon.pickupAnimationNodes.pickupAnimationNode" ) --FS17 to FS19\n\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.mixerWagon.baleTrigger#node" , "vehicle.mixerWagon.baleTriggers.baleTrigger#node" ) --FS19 to FS22\n\n    local spec = self.spec_mixerWagon\n\n    if self.isClient then\n        spec.mixAnimationNodes = g_animationManager:loadAnimations( self.xmlFile, "vehicle.mixerWagon.mixAnimationNodes" , self.components, self , self.i3dMappings)\n        spec.pickupAnimationNodes = g_animationManager:loadAnimations( self.xmlFile, "vehicle.mixerWagon.pickupAnimationNodes" , self.components, self , self.i3dMappings)\n\n        spec.fillEffects = g_effectManager:loadEffect( self.xmlFile, "vehicle.mixerWagon.fillEffect" , self.components, self , self.i3dMappings)\n        spec.fillEffectsFillType = FillType.UNKNOWN\n        spec.fillEffectsState = false\n    end\n\n    if self.isServer then\n        spec.baleTriggers = { }\n        self.xmlFile:iterate( "vehicle.mixerWagon.baleTriggers.baleTrigger" , function (_, key)\n            local baleTrigger = { }\n            baleTrigger.node = self.xmlFile:getValue(key .. "#node" , nil , self.components, self.i3dMappings)\n            if baleTrigger.node ~ = nil then\n                addTrigger(baleTrigger.node, "mixerWagonBaleTriggerCallback" , self )\n\n                baleTrigger.pickupSpeed = self.xmlFile:getValue(key .. "#pickupSpeed" , 500 ) / 1000\n                baleTrigger.needsSetIsTurnedOn = self.xmlFile:getValue(key .. "#needsSetIsTurnedOn" , false )\n                baleTrigger.useEffect = self.xmlFile:getValue(key .. "#useEffect" , false )\n                baleTrigger.balesInTrigger = { }\n                table.insert(spec.baleTriggers, baleTrigger)\n            end\n        end )\n    end\n\n    spec.activeTimerMax = self.xmlFile:getValue( "vehicle.mixerWagon#mixingTime" , 5 )\n    spec.activeTimer = 0\n\n    spec.fillUnitIndex = self.xmlFile:getValue( "vehicle.mixerWagon#fillUnitIndex" , 1 )\n\n    spec.mixerWagonFillTypes = { }\n    spec.fillTypeToMixerWagonFillType = { }\n\n    local recipeFillTypeName = self.xmlFile:getValue( "vehicle.mixerWagon#recipe" )\n    if recipeFillTypeName ~ = nil then\n        local recipeFillTypeIndex = g_fillTypeManager:getFillTypeIndexByName(recipeFillTypeName)\n        if recipeFillTypeIndex = = nil then\n            Logging.xmlError( self.xmlFile, "MixerWagon recipe \'%s\' not defined!" , recipeFillTypeName)\n        end\n\n        local recipe = g_currentMission.animalFoodSystem:getRecipeByFillTypeIndex(recipeFillTypeIndex)\n        if recipe = = nil then\n            Logging.xmlWarning( self.xmlFile, "MixerWagon recipe \'%s\' not defined!" , recipeFillTypeName)\n        end\n\n        if recipe ~ = nil then\n            for _, ingredient in ipairs(recipe.ingredients) do\n                local entry = { }\n                entry.fillLevel = 0\n                entry.fillTypes = { }\n                entry.name = ingredient.name\n                entry.minPercentage = ingredient.minPercentage\n                entry.maxPercentage = ingredient.maxPercentage\n                entry.ratio = ingredient.ratio\n\n                for _, fillTypeIndex in ipairs(ingredient.fillTypes) do\n                    entry.fillTypes[fillTypeIndex] = true\n                    spec.fillTypeToMixerWagonFillType[fillTypeIndex] = entry\n                end\n\n                table.insert(spec.mixerWagonFillTypes, entry)\n            end\n        end\n    end\n\n    -- saving and sync of fill level will be handled by the mixer wagon\n    -- in case we don\'t have a recipe defined the fill unit will take care of it\n    if #spec.mixerWagonFillTypes > 0 then\n        local fillUnit = self:getFillUnitByIndex(spec.fillUnitIndex)\n        if fillUnit ~ = nil then\n            fillUnit.needsSaving = false\n            fillUnit.synchronizeFillLevel = false\n        end\n    end\n\n    spec.dirtyFlag = self:getNextDirtyFlag()\n    spec.effectDirtyFlag = self:getNextDirtyFlag()\n\n    spec.hudExtension = MixerWagonHUDExtension.new( self )\nend\n\n'})}),"\n",(0,r.jsx)(n.h3,{id:"onmixerwagonbaledeleted",children:"onMixerWagonBaleDeleted"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"onMixerWagonBaleDeleted()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,r.jsx)(n.table,{children:(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"any"}),(0,r.jsx)(n.th,{children:"bale"})]})})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function MixerWagon:onMixerWagonBaleDeleted(bale)\n    local spec = self.spec_mixerWagon\n    for i = 1 , #spec.baleTriggers do\n        local baleTrigger = spec.baleTriggers[i]\n        baleTrigger.balesInTrigger[bale] = nil\n    end\nend\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"onpostload",children:"onPostLoad"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Called after loading"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"onPostLoad(table savegame)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,r.jsx)(n.table,{children:(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"table"}),(0,r.jsx)(n.th,{children:"savegame"}),(0,r.jsx)(n.th,{children:"savegame"})]})})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'function MixerWagon:onPostLoad(savegame)\n    if savegame ~ = nil then\n        local spec = self.spec_mixerWagon\n        for i, entry in ipairs(spec.mixerWagonFillTypes) do\n            local fillTypeKey = savegame.key .. string.format( ".mixerWagon.fillType(%d)#fillLevel" , i - 1 )\n            local fillLevel = savegame.xmlFile:getValue(fillTypeKey, 0 )\n\n            if fillLevel > 0 then\n                self:addFillUnitFillLevel( self:getOwnerFarmId(), spec.fillUnitIndex, fillLevel, next(entry.fillTypes), ToolType.UNDEFINED, nil )\n            end\n        end\n    end\n\n    if self.spec_hudInfoTrigger = = nil or self.spec_hudInfoTrigger.triggerNode = = nil then\n        Logging.xmlDevWarning( self.xmlFile, "Missing hudInfoTrigger for mixer wagon.Required for external mixer wagon hud visibility!" )\n        end\n    end\n\n'})}),"\n",(0,r.jsx)(n.h3,{id:"onreadstream",children:"onReadStream"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Called on client side on join"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"onReadStream(integer streamId, Connection connection)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"integer"}),(0,r.jsx)(n.th,{children:"streamId"}),(0,r.jsx)(n.th,{children:"streamId"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Connection"}),(0,r.jsx)(n.td,{children:"connection"}),(0,r.jsx)(n.td,{children:"connection"})]})})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function MixerWagon:onReadStream(streamId, connection)\n    local spec = self.spec_mixerWagon\n    for _, entry in ipairs(spec.mixerWagonFillTypes) do\n        local fillLevel = streamReadFloat32(streamId)\n        if fillLevel > 0 then\n            self:addFillUnitFillLevel( self:getOwnerFarmId(), spec.fillUnitIndex, fillLevel, next(entry.fillTypes), ToolType.UNDEFINED, nil )\n        end\n    end\n\n    spec.fillEffectsFillType = streamReadUIntN(streamId, FillTypeManager.SEND_NUM_BITS)\nend\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"onreadupdatestream",children:"onReadUpdateStream"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Called on on update"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"onReadUpdateStream(integer streamId, integer timestamp, table connection)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"integer"}),(0,r.jsx)(n.th,{children:"streamId"}),(0,r.jsx)(n.th,{children:"stream ID"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"integer"}),(0,r.jsx)(n.td,{children:"timestamp"}),(0,r.jsx)(n.td,{children:"timestamp"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"table"}),(0,r.jsx)(n.td,{children:"connection"}),(0,r.jsx)(n.td,{children:"connection"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function MixerWagon:onReadUpdateStream(streamId, timestamp, connection)\n    if connection:getIsServer() then\n        local spec = self.spec_mixerWagon\n        if streamReadBool(streamId) then\n            for _, entry in ipairs(spec.mixerWagonFillTypes) do\n                local fillLevel = streamReadFloat32(streamId)\n                local delta = fillLevel - entry.fillLevel\n                if delta ~ = 0 then\n                    self:addFillUnitFillLevel( self:getOwnerFarmId(), spec.fillUnitIndex, delta, next(entry.fillTypes), ToolType.UNDEFINED, nil )\n                end\n            end\n        end\n\n        if streamReadBool(streamId) then\n            spec.fillEffectsFillType = streamReadUIntN(streamId, FillTypeManager.SEND_NUM_BITS)\n        end\n    end\nend\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"onturnedoff",children:"onTurnedOff"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"onTurnedOff()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function MixerWagon:onTurnedOff()\n    if self.isClient then\n        local spec = self.spec_mixerWagon\n        g_animationManager:stopAnimations(spec.pickupAnimationNodes)\n    end\nend\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"onturnedon",children:"onTurnedOn"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"onTurnedOn()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function MixerWagon:onTurnedOn()\n    if self.isClient then\n        local spec = self.spec_mixerWagon\n        g_animationManager:startAnimations(spec.pickupAnimationNodes)\n    end\nend\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"onupdate",children:"onUpdate"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Called on update"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"onUpdate(float dt, boolean isActiveForInput, boolean isSelected, )"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"float"}),(0,r.jsx)(n.th,{children:"dt"}),(0,r.jsx)(n.th,{children:"time since last call in ms"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"boolean"}),(0,r.jsx)(n.td,{children:"isActiveForInput"}),(0,r.jsx)(n.td,{children:"true if vehicle is active for input"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"boolean"}),(0,r.jsx)(n.td,{children:"isSelected"}),(0,r.jsx)(n.td,{children:"true if vehicle is selected"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"isSelected"}),(0,r.jsx)(n.td,{})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function MixerWagon:onUpdate(dt, isActiveForInput, isActiveForInputIgnoreSelection, isSelected)\n    local spec = self.spec_mixerWagon\n\n    local tipState = self:getTipState()\n    local isTurnedOn = self:getIsTurnedOn()\n    local isDischarging = tipState = = Trailer.TIPSTATE_OPENING or tipState = = Trailer.TIPSTATE_OPEN\n\n    if self:getIsPowered() and(spec.activeTimer > 0 or isTurnedOn or isDischarging) then\n        spec.activeTimer = spec.activeTimer - dt\n        g_animationManager:startAnimations(spec.mixAnimationNodes)\n    else\n            g_animationManager:stopAnimations(spec.mixAnimationNodes)\n        end\n\n        if self.isServer then\n            local fillEffectsFillType = FillType.UNKNOWN\n            if self:getFillUnitFreeCapacity(spec.fillUnitIndex) > 0 then\n                for i = 1 , #spec.baleTriggers do\n                    local baleTrigger = spec.baleTriggers[i]\n                    if not baleTrigger.needsSetIsTurnedOn or self:getIsTurnedOn() then\n                        for bale, _ in pairs(baleTrigger.balesInTrigger) do\n                            local baleFillLevel = bale:getFillLevel()\n                            local deltaFillLevel = math.min(baleTrigger.pickupSpeed * dt, baleFillLevel)\n                            local fillType = bale:getFillType()\n\n                            deltaFillLevel = self:addFillUnitFillLevel( self:getOwnerFarmId(), spec.fillUnitIndex, deltaFillLevel, fillType, ToolType.BALE, nil )\n\n                            baleFillLevel = baleFillLevel - deltaFillLevel\n                            bale:setFillLevel(baleFillLevel)\n                            if baleFillLevel < 0.01 then\n                                bale:delete()\n                                baleTrigger.balesInTrigger[bale] = nil\n                            end\n\n                            if baleTrigger.useEffect then\n                                fillEffectsFillType = fillType\n                            end\n                        end\n                    end\n                end\n            end\n\n            if fillEffectsFillType = = FillType.UNKNOWN then\n                if self.getIsShovelEffectState ~ = nil then\n                    local state, fillType = self:getIsShovelEffectState()\n                    if state then\n                        fillEffectsFillType = fillType\n                    end\n                end\n            end\n\n            if spec.fillEffectsFillType ~ = fillEffectsFillType then\n                spec.fillEffectsFillType = fillEffectsFillType\n                self:raiseDirtyFlags(spec.effectDirtyFlag)\n            end\n        end\n\n        if self.isClient then\n            local state = spec.fillEffectsFillType ~ = FillType.UNKNOWN\n            if state ~ = spec.fillEffectsState then\n                if state then\n                    g_effectManager:setEffectTypeInfo(spec.fillEffects, spec.fillEffectsFillType)\n                    g_effectManager:startEffects(spec.fillEffects)\n                else\n                        g_effectManager:stopEffects(spec.fillEffects)\n                    end\n\n                    spec.fillEffectsState = state\n                end\n            end\n        end\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"onwritestream",children:"onWriteStream"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Called on server side on join"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"onWriteStream(integer streamId, Connection connection)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"integer"}),(0,r.jsx)(n.th,{children:"streamId"}),(0,r.jsx)(n.th,{children:"streamId"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Connection"}),(0,r.jsx)(n.td,{children:"connection"}),(0,r.jsx)(n.td,{children:"connection"})]})})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function MixerWagon:onWriteStream(streamId, connection)\n    local spec = self.spec_mixerWagon\n    for _, entry in ipairs(spec.mixerWagonFillTypes) do\n        streamWriteFloat32(streamId, entry.fillLevel)\n    end\n\n    streamWriteUIntN(streamId, spec.fillEffectsFillType, FillTypeManager.SEND_NUM_BITS)\nend\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"onwriteupdatestream",children:"onWriteUpdateStream"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Called on on update"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"onWriteUpdateStream(integer streamId, table connection, integer dirtyMask)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"integer"}),(0,r.jsx)(n.th,{children:"streamId"}),(0,r.jsx)(n.th,{children:"stream ID"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"table"}),(0,r.jsx)(n.td,{children:"connection"}),(0,r.jsx)(n.td,{children:"connection"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"integer"}),(0,r.jsx)(n.td,{children:"dirtyMask"}),(0,r.jsx)(n.td,{children:"dirty mask"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function MixerWagon:onWriteUpdateStream(streamId, connection, dirtyMask)\n    if not connection:getIsServer() then\n        local spec = self.spec_mixerWagon\n        if streamWriteBool(streamId, bit32.band(dirtyMask, spec.dirtyFlag) ~ = 0 ) then\n            for _, entry in ipairs(spec.mixerWagonFillTypes) do\n                streamWriteFloat32(streamId, entry.fillLevel)\n            end\n        end\n\n        if streamWriteBool(streamId, bit32.band(dirtyMask, spec.effectDirtyFlag) ~ = 0 ) then\n            streamWriteUIntN(streamId, spec.fillEffectsFillType, FillTypeManager.SEND_NUM_BITS)\n        end\n    end\nend\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"prerequisitespresent",children:"prerequisitesPresent"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Checks if all prerequisite specializations are loaded"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"prerequisitesPresent(table specializations)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,r.jsx)(n.table,{children:(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"table"}),(0,r.jsx)(n.th,{children:"specializations"}),(0,r.jsx)(n.th,{children:"specializations"})]})})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,r.jsx)(n.table,{children:(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"table"}),(0,r.jsx)(n.th,{children:"hasPrerequisite"}),(0,r.jsx)(n.th,{children:"true if all prerequisite specializations are loaded"})]})})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function MixerWagon.prerequisitesPresent(specializations)\n    return SpecializationUtil.hasSpecialization( Trailer , specializations) and SpecializationUtil.hasSpecialization( TurnOnVehicle , specializations)\nend\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"registereventlisteners",children:"registerEventListeners"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"registerEventListeners()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,r.jsx)(n.table,{children:(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"any"}),(0,r.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'function MixerWagon.registerEventListeners(vehicleType)\n    SpecializationUtil.registerEventListener(vehicleType, "onLoad" , MixerWagon )\n    SpecializationUtil.registerEventListener(vehicleType, "onPostLoad" , MixerWagon )\n    SpecializationUtil.registerEventListener(vehicleType, "onDelete" , MixerWagon )\n    SpecializationUtil.registerEventListener(vehicleType, "onReadStream" , MixerWagon )\n    SpecializationUtil.registerEventListener(vehicleType, "onWriteStream" , MixerWagon )\n    SpecializationUtil.registerEventListener(vehicleType, "onReadUpdateStream" , MixerWagon )\n    SpecializationUtil.registerEventListener(vehicleType, "onWriteUpdateStream" , MixerWagon )\n    SpecializationUtil.registerEventListener(vehicleType, "onUpdate" , MixerWagon )\n    SpecializationUtil.registerEventListener(vehicleType, "onDraw" , MixerWagon )\n    SpecializationUtil.registerEventListener(vehicleType, "onTurnedOn" , MixerWagon )\n    SpecializationUtil.registerEventListener(vehicleType, "onTurnedOff" , MixerWagon )\n    SpecializationUtil.registerEventListener(vehicleType, "onFillUnitFillLevelChanged" , MixerWagon )\nend\n\n'})}),"\n",(0,r.jsx)(n.h3,{id:"registerfunctions",children:"registerFunctions"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"registerFunctions()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,r.jsx)(n.table,{children:(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"any"}),(0,r.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'function MixerWagon.registerFunctions(vehicleType)\n    SpecializationUtil.registerFunction(vehicleType, "mixerWagonBaleTriggerCallback" , MixerWagon.mixerWagonBaleTriggerCallback)\n    SpecializationUtil.registerFunction(vehicleType, "onMixerWagonBaleDeleted" , MixerWagon.onMixerWagonBaleDeleted)\nend\n\n'})}),"\n",(0,r.jsx)(n.h3,{id:"registeroverwrittenfunctions",children:"registerOverwrittenFunctions"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"registerOverwrittenFunctions()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,r.jsx)(n.table,{children:(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"any"}),(0,r.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'function MixerWagon.registerOverwrittenFunctions(vehicleType)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "addFillUnitFillLevel" , MixerWagon.addFillUnitFillLevel)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getFillUnitAllowsFillType" , MixerWagon.getFillUnitAllowsFillType)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getDischargeFillType" , MixerWagon.getDischargeFillType)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getIsBaleAutoLoadable" , MixerWagon.getIsBaleAutoLoadable)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getDoConsumePtoPower" , MixerWagon.getDoConsumePtoPower)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getConsumingLoad" , MixerWagon.getConsumingLoad)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getIsPowerTakeOffActive" , MixerWagon.getIsPowerTakeOffActive)\nend\n\n'})}),"\n",(0,r.jsx)(n.h3,{id:"savetoxmlfile",children:"saveToXMLFile"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"saveToXMLFile()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"any"}),(0,r.jsx)(n.th,{children:"xmlFile"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"key"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"usedModNames"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'function MixerWagon:saveToXMLFile(xmlFile, key, usedModNames)\n    local spec = self.spec_mixerWagon\n\n    for i, fillType in ipairs(spec.mixerWagonFillTypes) do\n        local fillTypeKey = string.format( "%s.fillType(%d)" , key, i - 1 )\n        xmlFile:setValue(fillTypeKey .. "#fillLevel" , fillType.fillLevel)\n    end\nend\n\n'})}),"\n",(0,r.jsx)(n.h3,{id:"updatedebugvalues",children:"updateDebugValues"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"updateDebugValues()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,r.jsx)(n.table,{children:(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"any"}),(0,r.jsx)(n.th,{children:"values"})]})})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'function MixerWagon:updateDebugValues(values)\n    local spec = self.spec_mixerWagon\n\n    table.insert(values, { name = "Forage isOK" , value = tostring( self:getFillUnitFillType(spec.fillUnitIndex) = = FillType.FORAGE) } )\n\n    for _, mixerWagonFillType in ipairs(spec.mixerWagonFillTypes) do\n        local fillTypes = ""\n        for fillTypeIndex, _ in pairs(mixerWagonFillType.fillTypes) do\n            fillTypes = fillTypes .. " " .. tostring(g_fillTypeManager:getFillTypeNameByIndex(fillTypeIndex))\n        end\n        table.insert(values, { name = fillTypes, value = mixerWagonFillType.fillLevel } )\n    end\nend\n\n'})})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}}}]);