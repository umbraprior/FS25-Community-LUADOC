"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[51017],{6296(n,e,s){s.r(e),s.d(e,{assets:()=>o,contentTitle:()=>a,default:()=>c,frontMatter:()=>r,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"script/Player/Player","title":"Player","description":"Player","source":"@site/../docs/script/Player/Player.md","sourceDirName":"script/Player","slug":"/script/Player/","permalink":"/FS25-Community-LUADOC/script/Player/","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"PlacementGrid2D","permalink":"/FS25-Community-LUADOC/script/Placement/PlacementGrid2D"},"next":{"title":"PlayerCCT","permalink":"/FS25-Community-LUADOC/script/Player/PlayerCCT"}}');var l=s(74848),i=s(28453);const r={},a=void 0,o={},d=[{value:"Player",id:"player",level:2},{value:"createServerInstance",id:"createserverinstance",level:3},{value:"debugDraw",id:"debugdraw",level:3},{value:"delete",id:"delete",level:3},{value:"findEmptyAreaAroundPosition",id:"findemptyareaaroundposition",level:3},{value:"findSpawnPositionAndYaw",id:"findspawnpositionandyaw",level:3},{value:"getCanPickupHandTool",id:"getcanpickuphandtool",level:3},{value:"getCarriedHandToolMass",id:"getcarriedhandtoolmass",level:3},{value:"getHasSpawnPosition",id:"gethasspawnposition",level:3},{value:"getHasSpawnYaw",id:"gethasspawnyaw",level:3},{value:"getIsCarryingHandTool",id:"getiscarryinghandtool",level:3},{value:"getIsHoldingHandTool",id:"getisholdinghandtool",level:3},{value:"getMapPositionAndLookYaw",id:"getmappositionandlookyaw",level:3},{value:"getMovementYaw",id:"getmovementyaw",level:3},{value:"getSpawnPosition",id:"getspawnposition",level:3},{value:"getSpawnYaw",id:"getspawnyaw",level:3},{value:"getUniqueUserId",id:"getuniqueuserid",level:3},{value:"initialise",id:"initialise",level:3},{value:"load",id:"load",level:3},{value:"new",id:"new",level:3},{value:"onDropHandTool",id:"ondrophandtool",level:3},{value:"onPickupHandTool",id:"onpickuphandtool",level:3},{value:"readStream",id:"readstream",level:3},{value:"readUpdateStream",id:"readupdatestream",level:3},{value:"setSpawnYaw",id:"setspawnyaw",level:3},{value:"setUniqueUserId",id:"setuniqueuserid",level:3},{value:"show",id:"show",level:3},{value:"update",id:"update",level:3},{value:"updateControlledState",id:"updatecontrolledstate",level:3},{value:"updateTick",id:"updatetick",level:3},{value:"writeStream",id:"writestream",level:3},{value:"writeUpdateStream",id:"writeupdatestream",level:3}];function h(n){const e={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e.h2,{id:"player",children:"Player"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"A player, either local or replicated from the server."}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Parent"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.a,{href:"?version=script&category=&class=",children:"Object"})}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Functions"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#createserverinstance",children:"createServerInstance"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#debugdraw",children:"debugDraw"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#delete",children:"delete"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#findemptyareaaroundposition",children:"findEmptyAreaAroundPosition"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#findspawnpositionandyaw",children:"findSpawnPositionAndYaw"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#getcanpickuphandtool",children:"getCanPickupHandTool"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#getcarriedhandtoolmass",children:"getCarriedHandToolMass"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#gethasspawnposition",children:"getHasSpawnPosition"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#gethasspawnyaw",children:"getHasSpawnYaw"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#getiscarryinghandtool",children:"getIsCarryingHandTool"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#getisholdinghandtool",children:"getIsHoldingHandTool"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#getmappositionandlookyaw",children:"getMapPositionAndLookYaw"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#getmovementyaw",children:"getMovementYaw"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#getspawnposition",children:"getSpawnPosition"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#getspawnyaw",children:"getSpawnYaw"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#getuniqueuserid",children:"getUniqueUserId"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#initialise",children:"initialise"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#load",children:"load"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#new",children:"new"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#ondrophandtool",children:"onDropHandTool"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#onpickuphandtool",children:"onPickupHandTool"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#readstream",children:"readStream"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#readupdatestream",children:"readUpdateStream"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#setspawnyaw",children:"setSpawnYaw"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#setuniqueuserid",children:"setUniqueUserId"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#show",children:"show"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#update",children:"update"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#updatecontrolledstate",children:"updateControlledState"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#updatetick",children:"updateTick"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#writestream",children:"writeStream"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#writeupdatestream",children:"writeUpdateStream"})}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"createserverinstance",children:"createServerInstance"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"Creates a player instance for use on the server. Automatically calls the load function."}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"createServerInstance(boolean isClient, boolean isOwner, Connection connection, integer userId, integer farmId,\nUserManager userManager)"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"boolean"}),(0,l.jsx)(e.th,{children:"isClient"}),(0,l.jsx)(e.th,{children:"Is true if this player exists on the client."})]})}),(0,l.jsxs)(e.tbody,{children:[(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"boolean"}),(0,l.jsx)(e.td,{children:"isOwner"}),(0,l.jsx)(e.td,{children:"Is true if this player is the controlling player."})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"Connection"}),(0,l.jsx)(e.td,{children:"connection"}),(0,l.jsx)(e.td,{children:"The connection of this player to the target client."})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"integer"}),(0,l.jsx)(e.td,{children:"userId"}),(0,l.jsx)(e.td,{children:"The id of the player's user."})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"integer"}),(0,l.jsx)(e.td,{children:"farmId"}),(0,l.jsx)(e.td,{children:"The id of the player's farm."})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"UserManager"}),(0,l.jsx)(e.td,{children:"userManager"}),(0,l.jsx)(e.td,{children:"The user manager of the world."})]})]})]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,l.jsx)(e.table,{children:(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"UserManager"}),(0,l.jsx)(e.th,{children:"instance"}),(0,l.jsx)(e.th,{children:"The created instance."})]})})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function Player.createServerInstance(isClient, isOwner, connection, userId, farmId, userManager)\n\n    -- Create the player.\n    local self = Player.new( true , isClient)\n\n    -- Set the farm and user ids.\n    self.farmId = farmId\n    self.userId = userId\n    self:setUniqueUserId(userManager:getUniqueUserIdByUserId(userId))\n\n    self.walkDistance = 0\n    self.animUpdateTime = 0\n\n    self.allowPlayerPickUp = Platform.allowPlayerPickUp\n\n    self.debugFlightMode = false\n    self.debugFlightCoolDown = 0\n\n    self.requestedFieldData = false\n\n    -- Load, setting up the player in the scene.\n    self:initialise(connection, isOwner)\n\n    -- Get the player data for this player, and load using it.\n        local mission = g_currentMission\n        local playerData = mission.playerSystem:getPlayerDataByUniqueId( self.uniqueUserId)\n\n        self:load(playerData)\n\n        local style\n        local isDefaultStyle = false\n        if playerData ~ = nil then\n            style = playerData.style\n        end\n\n        if style = = nil then\n            local lastPlayerStyle = g_gameSettings.lastPlayerStyle\n            if isOwner and lastPlayerStyle ~ = nil and lastPlayerStyle:isValid() then\n                style = PlayerStyle.defaultStyle()\n                style:copyFrom(lastPlayerStyle)\n            end\n\n            if style = = nil then\n                style = PlayerStyle.defaultStyle()\n                isDefaultStyle = true\n            end\n        end\n\n        self:setStyleAsync(style, isDefaultStyle, nil , true )\n\n        -- Register the player, syncing it to the clients.\n        self:register( false )\n\n        -- Return the created instance.\n        return self\n    end\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"debugdraw",children:"debugDraw"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"Displays the debug information."}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"debugDraw(float x, float y, float textSize)"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"float"}),(0,l.jsx)(e.th,{children:"x"}),(0,l.jsx)(e.th,{children:"The x position on the screen to begin drawing the values."})]})}),(0,l.jsxs)(e.tbody,{children:[(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"float"}),(0,l.jsx)(e.td,{children:"y"}),(0,l.jsx)(e.td,{children:"The y position on the screen to begin drawing the values."})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"float"}),(0,l.jsx)(e.td,{children:"textSize"}),(0,l.jsx)(e.td,{children:"The height of the text."})]})]})]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,l.jsx)(e.table,{children:(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"float"}),(0,l.jsx)(e.th,{children:"y"}),(0,l.jsx)(e.th,{children:"The y position on the screen after the entire debug info was drawn."})]})})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:'function Player:debugDraw(x, y, textSize)\n\n    -- Display the currently active debug flags.\n    if self.isOwner then\n        local flagTextY = textSize * ( table.size( Player.DEBUG_DISPLAY_FLAG) + 1 )\n        flagTextY = DebugUtil.renderTextLine( 0.9 , flagTextY, textSize, "Enabled debug views:" , nil , true )\n        for flagName, flagValue in pairs( Player.DEBUG_DISPLAY_FLAG) do\n            if flagValue ~ = 0 and bit32.band(flagValue, Player.currentDebugFlag) = = flagValue then\n                flagTextY = DebugUtil.renderTextLine( 0.9 , flagTextY, textSize, flagName, nil , true )\n            end\n        end\n    end\n\n    if self.userId = = nil then\n        return\n    end\n\n    -- Draw the root node for all players.\n        DebugUtil.drawDebugNode( self.rootNode, "Root" , false , 0 )\n\n        -- Render the header.\n        y = DebugUtil.renderTextLine(x, y, textSize * 2 , string.format( "Player %d(farm: %d)" , self.userId, self.farmId), nil , true , self.isOwner and Color.PRESETS.DARKGREEN or Color.PRESETS.WHITE)\n        y = DebugUtil.renderTextLine(x, y, textSize, string.format( "Controlled(server, local): %s, %s" , tostring( self.isControlled), tostring( self.isLocallyControlled)), nil , true )\n\n        if bit32.band( Player.DEBUG_DISPLAY_FLAG.STATE, Player.currentDebugFlag) ~ = 0 then\n            y = DebugUtil.renderTextLine(x, y, textSize * 2 , self.stateMachine.states.onFoot:getCurrentStateName(), nil , true )\n\n            y = DebugUtil.renderTextLine(x, y, textSize * 1.5 , "State functions" , nil , true )\n            for functionName in pairs( self.stateFunctions) do\n                y = DebugUtil.renderTextLine(x, y, textSize, functionName, nil , true )\n            end\n\n            y = DebugUtil.renderNewLine(y, textSize)\n        end\n\n        if self.stateMachine.currentState ~ = self.stateMachine.states.onFoot then\n            return\n        end\n\n        -- Draw the debug info for each component.\n            if bit32.band( Player.DEBUG_DISPLAY_FLAG.MOVEMENT, Player.currentDebugFlag) ~ = 0 then\n                y = self.mover:debugDraw(x, y, textSize)\n                y = self.capsuleController:debugDraw(x, y, textSize)\n                y = DebugUtil.renderNewLine(y, textSize)\n            end\n\n            if self.inputComponent ~ = nil and bit32.band( Player.DEBUG_DISPLAY_FLAG.INPUT, Player.currentDebugFlag) ~ = 0 then\n                y = self.inputComponent:debugDraw(x, y, textSize)\n            end\n\n            if bit32.band( Player.DEBUG_DISPLAY_FLAG.GRAPHICS, Player.currentDebugFlag) ~ = 0 then\n\n                if self.isOwner then\n                    self.graphicsComponent:debugDrawAnimator( 0.75 , 0.5 , 0.25 , 0.3 , 0.01 )\n                    if self.camera ~ = nil then\n                        y = self.camera:debugDraw(x, y, textSize)\n                    end\n                end\n\n                y = self.graphicsComponent:debugDraw(x, y, textSize, self.camera = = nil or not self.camera.isFirstPerson)\n                y = DebugUtil.renderNewLine(y, textSize)\n            end\n\n            if bit32.band( Player.DEBUG_DISPLAY_FLAG.HANDTOOLS, Player.currentDebugFlag) ~ = 0 then\n\n                if self.targeter ~ = nil then\n                    y = self.targeter:debugDraw(x, y, textSize)\n                    y = DebugUtil.renderNewLine(y, textSize)\n                end\n\n                y = DebugUtil.renderTextLine(x, y, textSize * 1.5 , "Tools" , nil , true )\n                for i, handTool in ipairs( self.carriedHandTools) do\n                    if handTool = = self.currentHandTool then\n                        y = DebugUtil.renderTextLine(x, y, textSize, string.format( "%d: %s" , i, handTool.typeName), nil , true )\n                    else\n                            y = DebugUtil.renderTextLine(x, y, textSize, string.format( "%d: %s" , i, handTool.typeName))\n                        end\n                    end\n\n                    if self:getIsHoldingHandTool() then\n                        y = self.currentHandTool:debugDraw(x, y, textSize)\n                    end\n                    y = DebugUtil.renderNewLine(y, textSize)\n                end\n\n                -- Draw the network component if it exists.\n                    if self.networkComponent ~ = nil and bit32.band( Player.DEBUG_DISPLAY_FLAG.NETWORK, Player.currentDebugFlag) ~ = 0 then\n                        y = self.networkComponent:debugDraw(x, y, textSize)\n\n                        y = DebugUtil.renderNewLine(y, textSize)\n                    end\n\n                    -- Return the final y value.\n                    return y\n                end\n\n'})}),"\n",(0,l.jsx)(e.h3,{id:"delete",children:"delete"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"Handles the deletion of the player."}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"delete()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:'function Player:delete()\n    local currentVehicle = self:getCurrentVehicle()\n    if currentVehicle ~ = nil and not currentVehicle:getIsBeingDeleted() then\n        local seatIndex\n        if currentVehicle.getPassengerSeatIndexByPlayer ~ = nil then\n            seatIndex = currentVehicle:getPassengerSeatIndexByPlayer( self.userId)\n        end\n\n        if seatIndex = = nil then\n            currentVehicle:onPlayerLeaveVehicle()\n        else\n                currentVehicle:leavePassengerSeat( self.isOwner, seatIndex)\n            end\n        end\n\n        local mission = g_currentMission\n\n        mission.playerSystem:removePlayer( self )\n\n        if self.pendingStartHandTools ~ = nil then\n            for loadingData in pairs( self.pendingStartHandTools) do\n                loadingData:cancelLoading()\n            end\n        end\n\n        if self.swsObstacle ~ = nil then\n            mission.shallowWaterSimulation:removeObstacle( self.swsObstacle)\n            self.swsObstacle = nil\n        end\n\n        if mission.aiSystem ~ = nil then\n            mission.aiSystem:removeObstacle( self.rootNode)\n        end\n\n        -- Unbind all message listeners.\n        g_messageCenter:unsubscribeAll( self )\n\n        if self.hudUpdater ~ = nil then\n            self.hudUpdater:delete()\n            self.hudUpdater = nil\n        end\n\n        -- If this player is the client\'s player, unbind the controls and remove the console commands.\n        if self.isOwner then\n            self.inputComponent:unregisterActionEvents()\n            self.inputComponent:stopListeningForBindingChanges()\n\n            removeConsoleCommand( "gsPlayerDebugFlagToggle" )\n            removeConsoleCommand( "gsPlayerDebugFlagVerbosityToggle" )\n            removeConsoleCommand( "gsPlayerFlightToggle" )\n        end\n\n        if self.playerHotspot ~ = nil then\n            mission:removeMapHotspot( self.playerHotspot)\n            self.playerHotspot:delete()\n            self.playerHotspot = nil\n        end\n\n        if self.stateMachine ~ = nil then\n            self.stateMachine:delete()\n            self.stateMachine = nil\n        end\n\n        -- Delete the hands tool.\n        if self.hands ~ = nil then\n            self.hands:delete()\n            self.hands = nil\n        end\n\n        for i = # self.carriedHandTools, 1 , - 1 do\n            local handTool = self.carriedHandTools[i]\n            if handTool.isPlayerStartHandTool then\n                handTool:delete()\n            else\n                    handTool:setHolder( nil , true )\n                end\n            end\n\n            -- Delete the components.\n            if self.graphicsComponent ~ = nil then\n                self.graphicsComponent:delete()\n                self.graphicsComponent = nil\n            end\n\n            if self.mover ~ = nil then\n                self.mover:delete()\n                self.mover = nil\n            end\n\n            if self.capsuleController ~ = nil then\n                self.capsuleController:delete()\n                self.capsuleController = nil\n            end\n\n            if self.camera ~ = nil then\n                self.camera:delete()\n                self.camera = nil\n            end\n\n            g_currentMission:removeNodeObject( self.rootNode)\n\n            -- Delete the root node.\n            delete( self.rootNode)\n\n            self.isDeleted = true\n\n            -- Call the base object delete function.\n                Player:superClass().delete( self )\n            end\n\n'})}),"\n",(0,l.jsx)(e.h3,{id:"findemptyareaaroundposition",children:"findEmptyAreaAroundPosition"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"Finds the closest position around the given position that is clear."}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"findEmptyAreaAroundPosition(float x, float y, float z)"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"float"}),(0,l.jsx)(e.th,{children:"x"}),(0,l.jsx)(e.th,{children:"The x of the position to check around."})]})}),(0,l.jsxs)(e.tbody,{children:[(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"float"}),(0,l.jsx)(e.td,{children:"y"}),(0,l.jsx)(e.td,{children:"The y of the position to check around."})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"float"}),(0,l.jsx)(e.td,{children:"z"}),(0,l.jsx)(e.td,{children:"The z of the position to check around."})]})]})]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"float"}),(0,l.jsx)(e.th,{children:"spawnPositionX"}),(0,l.jsx)(e.th,{children:"The closest clear x position."})]})}),(0,l.jsxs)(e.tbody,{children:[(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"float"}),(0,l.jsx)(e.td,{children:"spawnPositionY"}),(0,l.jsx)(e.td,{children:"The closest clear y position."})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"float"}),(0,l.jsx)(e.td,{children:"spawnPositionZ"}),(0,l.jsx)(e.td,{children:"The closest clear z position."})]})]})]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:'function Player:findEmptyAreaAroundPosition(x, y, z)\n    -- TODO:Check around the position, using overlaps with the CCT size until an empty position is found.\n    --#debug Logging.warning("findEmptyAreaAroundPosition has not yet been implemented, returning given position")\n    return x, y, z\nend\n\n'})}),"\n",(0,l.jsx)(e.h3,{id:"findspawnpositionandyaw",children:"findSpawnPositionAndYaw"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"Finds the most valid spawn position and yaw for the player to use. Starting with the player's saved spawn position,\nthen the auto load parameters, then the mission start point, then 0, 0, 0."}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"findSpawnPositionAndYaw()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"float"}),(0,l.jsx)(e.th,{children:"spawnPositionX"}),(0,l.jsx)(e.th,{children:"The x position of the player's spawn."})]})}),(0,l.jsxs)(e.tbody,{children:[(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"float"}),(0,l.jsx)(e.td,{children:"spawnPositionY"}),(0,l.jsx)(e.td,{children:"The y position of the player's spawn."})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"float"}),(0,l.jsx)(e.td,{children:"spawnPositionZ"}),(0,l.jsx)(e.td,{children:"The z position of the player's spawn."})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"float"}),(0,l.jsx)(e.td,{children:"spawnYaw"}),(0,l.jsx)(e.td,{children:"The yaw of the player's spawn."})]})]})]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:'function Player:findSpawnPositionAndYaw()\n\n    -- Always use whatever spawn data the player has saved, as long as it exists.\n    local spawnYaw = self:getHasSpawnYaw() and self:getSpawnYaw() or 0\n    if self:getHasSpawnPosition() then\n        return self.spawnPositionX, self.spawnPositionY, self.spawnPositionZ, spawnYaw\n    end\n\n    -- If any auto-loading parameters were given, use those.\n    if AutoLoadParams.enable = = true and AutoLoadParams.x ~ = nil and AutoLoadParams.z ~ = nil then\n        local y = getTerrainHeightAtWorldPos(g_terrainNode, AutoLoadParams.x, 0 , AutoLoadParams.z) + 0.2\n        return AutoLoadParams.x, y, AutoLoadParams.z, spawnYaw\n    end\n\n    local spawnPoint = g_farmManager:getSpawnPoint( self.farmId)\n    local mission = g_currentMission\n    if spawnPoint = = nil or(mission ~ = nil and mission:getIsServer() and not mission.missionInfo.isValid) then\n        spawnPoint = g_mission00StartPoint\n    end\n\n    -- If there is a mission start point, use it.\n    if spawnPoint ~ = nil then\n\n        -- Get the spawn position and yaw from the start node.\n        local startPositionX, startPositionY, startPositionZ = getWorldTranslation(spawnPoint)\n        local dx, _, dz = localDirectionToWorld(spawnPoint, 0 , 0 , 1 )\n\n        -- Return the position and yaw.\n        return startPositionX, startPositionY, startPositionZ, MathUtil.getYRotationFromDirection(dx, dz)\n    end\n\n    -- Finally, since there\'s absolutely no valid spawn for the player, return 0, 0, 0 with no yaw, and log an error.\n        Logging.error( "Player could not find any valid spawn position!" )\n        return 0 , 0 , 0 , spawnYaw\n    end\n\n'})}),"\n",(0,l.jsx)(e.h3,{id:"getcanpickuphandtool",children:"getCanPickupHandTool"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"getCanPickupHandTool()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,l.jsx)(e.table,{children:(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"any"}),(0,l.jsx)(e.th,{children:"handTool"})]})})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function Player:getCanPickupHandTool(handTool)\n    if handTool = = nil then\n        return false\n    end\n\n    local mission = g_currentMission\n    if not mission.accessHandler:canPlayerAccess(handTool, self , true ) then\n        return false\n    end\n\n    -- If the given tool would over-encumber the player, return false.\n    if self:getReachedHandToolLimit(handTool) then\n        return false\n    end\n\n    return true\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"getcarriedhandtoolmass",children:"getCarriedHandToolMass"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"Calculates and returns the total combined weight for all hand tools that this player is carrying."}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"getCarriedHandToolMass()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,l.jsx)(e.table,{children:(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"any"}),(0,l.jsx)(e.th,{children:"summedWeight"}),(0,l.jsx)(e.th,{children:"The combined weight of all carried hand tools."})]})})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function Player:getCarriedHandToolMass()\n    local summedWeight = 0\n\n    for _, handTool in ipairs( self.carriedHandTools) do\n        summedWeight = summedWeight + handTool.mass\n    end\n\n    return summedWeight\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"gethasspawnposition",children:"getHasSpawnPosition"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"Finds if this player has a spawn position set."}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"getHasSpawnPosition()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,l.jsx)(e.table,{children:(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"any"}),(0,l.jsx)(e.th,{children:"hasSpawnPosition"}),(0,l.jsx)(e.th,{children:"True if the player has a spawn position; otherwise false."})]})})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function Player:getHasSpawnPosition()\n    return self.spawnPositionX ~ = nil and self.spawnPositionY ~ = nil and self.spawnPositionZ ~ = nil\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"gethasspawnyaw",children:"getHasSpawnYaw"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"Finds if this player has a spawn yaw set."}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"getHasSpawnYaw()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,l.jsx)(e.table,{children:(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"any"}),(0,l.jsx)(e.th,{children:"hasSpawnYaw"}),(0,l.jsx)(e.th,{children:"True if the player has a spawn yaw set; otherwise false."})]})})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function Player:getHasSpawnYaw()\n    return self.spawnYaw ~ = nil\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"getiscarryinghandtool",children:"getIsCarryingHandTool"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"Gets the value representing whether or not the player is carrying the given tool, either in their hands or in their\nbackpack."}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"getIsCarryingHandTool(HandTool handTool)"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,l.jsx)(e.table,{children:(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"HandTool"}),(0,l.jsx)(e.th,{children:"handTool"}),(0,l.jsx)(e.th,{children:"The hand tool to check."})]})})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,l.jsx)(e.table,{children:(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"HandTool"}),(0,l.jsx)(e.th,{children:"isCarryingHandTool"}),(0,l.jsx)(e.th,{children:"True if the player is carrying the given tool; otherwise false."})]})})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function Player:getIsCarryingHandTool(handTool)\n    return handTool ~ = nil and table.find( self.carriedHandTools, handTool) ~ = nil\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"getisholdinghandtool",children:"getIsHoldingHandTool"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"Gets the value repesenting whether or not the player is currently holding a hand tool in their hands."}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"getIsHoldingHandTool()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,l.jsx)(e.table,{children:(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"HandTool"}),(0,l.jsx)(e.th,{children:"isHoldingHandTool"}),(0,l.jsx)(e.th,{children:"True if the player has a currentHandTool; otherwise false."})]})})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function Player:getIsHoldingHandTool()\n    local handTool = self:getHeldHandTool()\n    return handTool ~ = nil\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"getmappositionandlookyaw",children:"getMapPositionAndLookYaw"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"Gets the x and z position of the player, as well as the yaw (y rotation) of their current camera."}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"getMapPositionAndLookYaw()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"HandTool"}),(0,l.jsx)(e.th,{children:"x"}),(0,l.jsx)(e.th,{children:"The x position."})]})}),(0,l.jsxs)(e.tbody,{children:[(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"HandTool"}),(0,l.jsx)(e.td,{children:"z"}),(0,l.jsx)(e.td,{children:"The z position."})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"HandTool"}),(0,l.jsx)(e.td,{children:"cameraYaw"}),(0,l.jsx)(e.td,{children:"The yaw (y rotation) of the player's current camera."})]})]})]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function Player:getMapPositionAndLookYaw()\n\n    -- Get the yaw of the current camera node.\n    local currentCameraNode = self:getCurrentCameraNode()\n    local cameraDirectionX, _, cameraDirectionZ = localDirectionToWorld(currentCameraNode, 0 , 0 , - 1 )\n    local cameraYaw = MathUtil.getYRotationFromDirection(cameraDirectionX, cameraDirectionZ)\n\n    -- Get the current position of the player.\n    local x, _, z = self:getPosition()\n\n    -- Return the x, z, and camera yaw.\n    return x, z, cameraYaw\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"getmovementyaw",children:"getMovementYaw"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"Gets the yaw (y rotation) of the player's movement direction. This is more or less the actual yaw that the player has,\nand the graphical node's yaw smoothly follows it."}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"getMovementYaw()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,l.jsx)(e.table,{children:(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"HandTool"}),(0,l.jsx)(e.th,{children:"currentForceYaw"}),(0,l.jsx)(e.th,{children:"The movement yaw of the player."})]})})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function Player:getMovementYaw()\n    return self.mover:getMovementYaw()\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"getspawnposition",children:"getSpawnPosition"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"Gets the spawn position of this player."}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"getSpawnPosition()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"HandTool"}),(0,l.jsx)(e.th,{children:"spawnPositionX"}),(0,l.jsx)(e.th,{children:"The x position of the player's spawn, or nil if there is no spawn position."})]})}),(0,l.jsxs)(e.tbody,{children:[(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"HandTool"}),(0,l.jsx)(e.td,{children:"spawnPositionY"}),(0,l.jsx)(e.td,{children:"The y position of the player's spawn, or nil if there is no spawn position."})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"HandTool"}),(0,l.jsx)(e.td,{children:"spawnPositionZ"}),(0,l.jsx)(e.td,{children:"The z position of the player's spawn, or nil if there is no spawn position."})]})]})]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function Player:getSpawnPosition()\n    return self.spawnPositionX, self.spawnPositionY, self.spawnPositionZ\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"getspawnyaw",children:"getSpawnYaw"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"Gets the player's current spawn yaw."}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"getSpawnYaw()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,l.jsx)(e.table,{children:(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"HandTool"}),(0,l.jsx)(e.th,{children:"spawnYaw"}),(0,l.jsx)(e.th,{children:"The player's current spawn yaw, or nil if it does not exist."})]})})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function Player:getSpawnYaw()\n    return self.spawnYaw\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"getuniqueuserid",children:"getUniqueUserId"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"Gets this player's unique user id."}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"getUniqueUserId()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,l.jsx)(e.table,{children:(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"HandTool"}),(0,l.jsx)(e.th,{children:"uniqueUserId"}),(0,l.jsx)(e.th,{children:"The unique user id of the player, or nil if it has not yet been set."})]})})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function Player:getUniqueUserId()\n    return self.uniqueUserId\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"initialise",children:"initialise"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"Loads and sets up the player in the scene."}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"initialise(Connection connection, boolean isOwner)"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"Connection"}),(0,l.jsx)(e.th,{children:"connection"}),(0,l.jsx)(e.th,{children:"The connection to the server or client."})]})}),(0,l.jsx)(e.tbody,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"boolean"}),(0,l.jsx)(e.td,{children:"isOwner"}),(0,l.jsx)(e.td,{children:"True if this player is being controlled by the client; otherwise false."})]})})]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:'function Player:initialise(connection, isOwner)\n\n    --#debug self:debugLog(Player.DEBUG_DISPLAY_FLAG.INITIALISATION, "initialise(isOwner: %s)", isOwner)\n\n    -- Set the connection.\n    self.connection = connection\n\n    -- Set the owner status.\n    self.isOwner = isOwner = = true\n\n    if self.isOwner or self.isClient then\n        g_messageCenter:subscribeOneshot(MessageType.CURRENT_MISSION_LOADED, Player.onStartMission, self )\n    end\n\n    if self.isServer then\n        g_messageCenter:subscribe(MessageType.PLAYER_FARM_CHANGED, Player.playerFarmChanged, self )\n    end\n\n    g_messageCenter:subscribe(ContractingStateEvent, Player.onContractingStateChanged, self )\n\n    -- Remote players(not on the server, and not being controlled by the player) are fully driven by the network, so their state machine is passive.\n    self.stateMachine.states.onFoot:setIsPassive( not self.isOwner)\n\n    -- Create the root node and place it into the scene.\n    self.rootNode = createTransformGroup( "Player Root" )\n    link(getRootNode(), self.rootNode)\n\n    -- Initialise the CCT.\n    self.capsuleController:setMass( self.graphicsComponent.model:getMass())\n    self.capsuleController:setRootNode( self.rootNode)\n    self.capsuleController:rebuild()\n\n    g_currentMission:addNodeObject( self.rootNode, self )\n\n    -- If the player is the owner, set up their camera, input, and targeter.\n    if self.isOwner then\n        -- Create the components.\n        self.inputComponent = PlayerInputComponent.new( self )\n        self.camera = PlayerCamera.new( self )\n        self.targeter = PlayerTargeter.new( self )\n\n        -- Initialise the input.\n        self.inputComponent:registerActionEvents()\n\n        -- Initialise the camera.\n        self.camera:initialise()\n\n        -- Add the hand tool holder as a target.\n        HandToolUtil.addHandToolHolderTarget( self.targeter)\n    else\n            if self.isServer then\n                self.positionalInterpolator = PlayerPositionalInterpolator.new( self , PlayerPositionalInterpolator.INTERPOLATION_TARGET_ENUM.GRAPHICAL_NODE)\n            else\n                    self.positionalInterpolator = PlayerPositionalInterpolator.new( self , PlayerPositionalInterpolator.INTERPOLATION_TARGET_ENUM.ROOT_NODE)\n                end\n            end\n\n            -- Set up hand tool events.\n            self:addStateEvent( function ( .. .)\n                for i, handTool in ipairs( self.carriedHandTools) do\n                    handTool:setCarryingPlayerEnteredVehicle()\n                end\n            end , nil , "onEnterVehicle" )\n\n            self:addStateEvent( function ( .. .)\n                for i, handTool in ipairs( self.carriedHandTools) do\n                    handTool:setCarryingPlayerExitedVehicle()\n                end\n            end , nil , "onLeaveVehicle" )\n\n            -- Initialise the graphics.\n            self.graphicsComponent:initialize()\n\n            -- Initialise the mover.\n            self.mover:initialise()\n\n            -- Create the network component depending on if this player is the server or client.\n                -- If this player is on the server, it uses a server component.Even if the player is also a client(locally hosting) they do not need a client component as they already see the world as it is.\n                    if self.isServer then\n                        self.networkComponent = PlayerServerNetworkComponent.new( self )\n                        -- Otherwise; the player uses a client networking component.\n                    else\n                            -- If the player is the owner, they require networking to reconcile their position.\n                            if isOwner then\n                                self.networkComponent = PlayerLocalNetworkComponent.new( self )\n                                -- Otherwise; they require a component to smoothly position the player in the world.This is for the other players that a player will see on a server.\n                                else\n                                        self.networkComponent = PlayerRemoteNetworkComponent.new( self )\n                                    end\n                                end\n\n                                self.isStrafeWalkMode = not self.isOwner\n                                self.forceHandToolFirstPerson = self.isOwner\n\n                                -- Position the player away from everything.\n                                self.mover:setPosition( 0 , - 200 , 0 , true )\n\n                                -- If this player is controlled by the user, register their console commands.\n                                if self.isOwner then\n                                    if g_addTestCommands then\n                                        addConsoleCommand( "gsTipToTrigger" , "Tips a fillType into a trigger" , "consoleCommandTipToTrigger" , self , "fillTypeName; amount" )\n                                        addConsoleCommand( "gsPlayerToggleStrafeWalkMode" , "Toggles strafe walk mode" , "consoleCommandToggleStrafeWalkMode" , self )\n                                        addConsoleCommand( "gsPlayerToggleForceHandToolFirstPerson" , "Toggle the force handtool mode" , "consoleCommandToggleForceHandToolFirstPerson" , self )\n                                        -- addConsoleCommand("gsPlayerIKChainsReload", "Reloads player IKChains", "Player.consoleCommandReloadIKChains", nil)\n                                        -- addConsoleCommand("gsPlayerRaycastDebug", "Enables/disables player pickup raycast debug information", "consoleCommandTogglePickupRaycastDebug", self)\n                                    end\n                                end\n                            end\n\n'})}),"\n",(0,l.jsx)(e.h3,{id:"load",children:"load"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"Loads the player's model, sets up their style, and performs any other setup that requires the player's data."}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"load(table? playerData)"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,l.jsx)(e.table,{children:(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"table?"}),(0,l.jsx)(e.th,{children:"playerData"}),(0,l.jsx)(e.th,{children:"The save data of the player, or nil if they are new. Only used when loading via createServerInstance on the server."})]})})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:'function Player:load(playerData)\n    local mission = g_currentMission\n\n    --#debug self:debugLog(Player.DEBUG_DISPLAY_FLAG.INITIALISATION, "load(playerData: %s)", playerData)\n\n    -- Load any console commands.\n    self:createConsoleCommands()\n\n    if self.isServer then\n        -- Handle the spawn data of the player, loading it from the player data.\n        if playerData ~ = nil then\n            self.spawnPositionX, self.spawnPositionY, self.spawnPositionZ = playerData.spawnPositionX, playerData.spawnPositionY, playerData.spawnPositionZ\n            self.spawnYaw = playerData.spawnYaw\n            self.spawnVehicle = self:resolveSpawnVehicle(playerData.spawnVehicleUniqueId)\n\n            self.pendingHandToolUniqueIds = { }\n            for _, handToolUniqueId in ipairs(playerData.handToolUniqueIds) do\n                table.insert( self.pendingHandToolUniqueIds, handToolUniqueId)\n            end\n        end\n\n        self.pendingStartHandTools = { }\n        local handData = HandToolLoadingData.new()\n        handData:setFilename( "data/handTools/hands.xml" )\n        handData:setOwnerFarmId( self.farmId)\n        handData:setIsSaved( false )\n        handData:setCanBeDropped( false )\n        self.pendingStartHandTools[handData] = true\n        handData.areHands = true\n        handData:load( self.onStartHandToolLoaded, self , handData)\n\n        local flashlightData = HandToolLoadingData.new()\n        flashlightData:setFilename( "data/handTools/brandless/flashlight/flashlight.xml" )\n        flashlightData:setOwnerFarmId( self.farmId)\n        flashlightData:setIsSaved( false )\n        flashlightData:setCanBeDropped( false )\n        flashlightData:setHolder( self )\n        self.pendingStartHandTools[flashlightData] = true\n        flashlightData:load( self.onStartHandToolLoaded, self , flashlightData)\n\n        local startHandTools = mission.handToolSystem:getStartingHandTools()\n        for _, xmlFilename in ipairs(startHandTools) do\n            local data = HandToolLoadingData.new()\n            data:setFilename(xmlFilename)\n            data:setOwnerFarmId( self.farmId)\n            data:setHolder( self )\n            data:setIsSaved( false )\n            data:setCanBeDropped( false )\n            self.pendingStartHandTools[data] = true\n            data:load( self.onStartHandToolLoaded, self , data)\n        end\n\n        self.mover:teleportToSpawnPoint()\n    end\n\n    -- Rebuild the CCT after setting the style, as it may have changed.\n    self.capsuleController:rebuild()\n\n    -- Load the mover.\n    self.mover:onPlayerLoad()\n\n    -- Allow the player\'s input component to set up anything after the player has loaded.\n    if self.isOwner then\n\n        self.inputComponent:onPlayerLoad()\n        self.capsuleController:onPlayerLoad( self )\n        self.camera:onPlayerLoad()\n    else\n            self.mover:disablePhysics()\n        end\n\n        -- Now that the player has been loaded, add them to the player system.This deletes their unloaded data, as it now exists via this instance.\n        mission.playerSystem:addPlayer( self )\n\n        -- As other players can only join once the mission has already started, the start mission function must be called manually, after everything else has loaded.\n            if self.isServer and not self.isOwner then\n                self:onStartMission()\n            end\n        end\n\n'})}),"\n",(0,l.jsx)(e.h3,{id:"new",children:"new"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"Creates a player object. This is not called explicitly, but rather dynamically via the base Object.new()."}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"new(boolean isServer, boolean isClient)"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"boolean"}),(0,l.jsx)(e.th,{children:"isServer"}),(0,l.jsx)(e.th,{children:"Is true if this player exists on the server."})]})}),(0,l.jsx)(e.tbody,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"boolean"}),(0,l.jsx)(e.td,{children:"isClient"}),(0,l.jsx)(e.td,{children:"Is true if this player exists on the client."})]})})]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,l.jsx)(e.table,{children:(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"boolean"}),(0,l.jsx)(e.th,{children:"self"}),(0,l.jsx)(e.th,{children:"The created instance."})]})})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function Player.new(isServer, isClient)\n\n    -- Create the instance.\n    local self = Object.new(isServer, isClient, Player _mt)\n\n    --#debug self:debugLog(Player.DEBUG_DISPLAY_FLAG.INITIALISATION, \"new(isServer: %s isClient: %s)\", isServer, isClient)\n\n    -- The id of this player's associated user.\n    self.userId = nil\n\n    self.isDefaultStyle = true\n\n    -- The filename of the player's data configuration xml file.\n    self.filename = nil\n\n    -- The connection to the server/client.This starts as nil, but will be initialised in load().\n    self.connection = nil\n\n    -- The network component.Just like the connection, this starts as nil but may be created in load().\n    self.networkComponent = nil\n\n    self.positionalInterpolator = nil\n\n    -- The vehicle in which the player will spawn.\n    self.spawnVehicle = nil\n\n    -- The position at which the player should spawn.If this is nil, the player will spawn at the spawn point of the map.\n    self.spawnPositionX, self.spawnPositionY, self.spawnPositionZ = nil , nil , nil\n\n    -- The yaw(rotation around the y axis) that the player should have when the spawn.\n    self.spawnYaw = nil\n\n    -- The base player dirty flag.\n    self.dirtyFlag = self:getNextDirtyFlag()\n\n    -- If this player is the player who is being controlled by the client.\n    -- On a dedicated server, this will be false on every player.\n    -- In all other cases, it will be true on exactly one player.\n    -- On a locally hosted server, this will be true on the host.\n    self.isOwner = false\n\n    -- If this player is currently able to control themselves.\n    self.isControlled = false\n\n    -- If this server is ignoring what the server is saying, and keeping itself hidden or shown.\n    -- There are limits to what the client can do in this state, it's mainly used to hide the player locally while in the wardrobe, and have them still be shown to other players.\n        self.isLocallyControlled = nil\n\n        -- The farm id, starting as a spectator.\n        self.farmId = FarmManager.SPECTATOR_FARM_ID\n\n        self.stateEvents = { }\n        self:registerStateEvents()\n\n        self.stateFunctions = { }\n        self:registerStateFunctions()\n\n        -- The player's hotspot, used to display them on the map.\n        self.playerHotspot = PlayerHotspot.new()\n\n        -- The player's hands.These are technically a tool that cannot be changed and save no data.\n        self.hands = nil\n\n        self.carriedHandTools = { }\n        self.currentHandTool = nil\n        self.currentHandToolIndex = 0\n\n        self.lastHandToolIndex = 0\n\n        -- The maximum weight of hand tools that the player can carry.\n        self.maximumHandToolCarryMass = Player.MAX_HAND_TOOL_CARRY_MASS\n\n        -- Create the input component.\n        self.inputComponent = nil\n\n        -- The player's camera.Only exists on the owning player.\n        self.camera = nil\n\n        -- The player's targeter.Only exists on the owning player.\n        self.targeter = nil\n\n        -- Create the graphics component.\n        self.graphicsComponent = HumanGraphicsComponent.new()\n        self.graphicsState = PlayerGraphicsState.new()\n\n        -- Create the CCT.\n        self.capsuleController = PlayerCCT.new()\n\n        -- Create the mover.\n        self.mover = PlayerMover.new( self )\n\n        -- Create the state machine.\n        self.stateMachine = PlayerStateMachine.new( self )\n        self.stateMachine:createStateIndexNameMapping()\n\n        self.hudUpdater = PlayerHUDUpdater.new()\n\n        self.debugFunctionId = nil\n\n        self.isFirstPerson = true\n        self.isHoldingChainsaw = false\n        self.isCutting = false\n        self.isVerticalCut = true\n\n        self.toggleFlightModeCommand = nil\n        self.toggleSuperSpeedCommand = nil\n\n        self.isStrafeWalkMode = false\n        self.forceHandToolFirstPerson = false\n\n        self.isFlashlightActive = false\n\n        -- Return the created instance.\n        return self\n    end\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"ondrophandtool",children:"onDropHandTool"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"onDropHandTool()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,l.jsx)(e.table,{children:(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"any"}),(0,l.jsx)(e.th,{children:"handTool"})]})})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:'function Player:onDropHandTool(handTool)\n    Logging.devInfo( "Player.onDropHandTool:try dropping hand tool %q(%s) from player" , handTool.configFileName, handTool.uniqueId)\n    if handTool = = nil then\n        return\n    end\n\n    -- If the player is currently holding the given hand tool, stop holding it.\n    if self.currentHandTool = = handTool then\n        self:setCurrentHandTool( nil , true )\n    end\n\n    self:setFlashlightIsActive( self.isFlashlightActive, true )\n\n    local success = table.removeElement( self.carriedHandTools, handTool)\n    if not success then\n        Logging.error( "Player.onDropHandTool:Could not remove hand tool %q(%s) from player, as it was not carried by the player!" , handTool.configFileName, handTool.uniqueId)\n        printCallstack()\n        return\n    end\n\n    handTool:setCarryingPlayer( nil )\nend\n\n'})}),"\n",(0,l.jsx)(e.h3,{id:"onpickuphandtool",children:"onPickupHandTool"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"onPickupHandTool()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,l.jsx)(e.table,{children:(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"any"}),(0,l.jsx)(e.th,{children:"handTool"})]})})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function Player:onPickupHandTool(handTool)\n    if handTool = = nil then\n        return false\n    end\n\n    table.addElement( self.carriedHandTools, handTool)\n    handTool:setCarryingPlayer( self )\n\n    return true\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"readstream",children:"readStream"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"Reads the initial player state from the server."}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"readStream(integer streamId, Connection connection, integer objectId)"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"integer"}),(0,l.jsx)(e.th,{children:"streamId"}),(0,l.jsx)(e.th,{children:"The id of the stream from which to read."})]})}),(0,l.jsxs)(e.tbody,{children:[(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"Connection"}),(0,l.jsx)(e.td,{children:"connection"}),(0,l.jsx)(e.td,{children:"The connection to the server."})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"integer"}),(0,l.jsx)(e.td,{children:"objectId"}),(0,l.jsx)(e.td,{children:"The id of the player object."})]})]})]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:'function Player:readStream(streamId, connection, objectId)\n    --#debug Assert.isFalse(self.isServer, "Server should never readStream for the player!")\n        Player:superClass().readStream( self , streamId, connection)\n\n        local isOwner = streamReadBool(streamId)\n        local x = streamReadFloat32(streamId)\n        local y = streamReadFloat32(streamId)\n        local z = streamReadFloat32(streamId)\n        local isControlled = streamReadBool(streamId)\n\n        self.farmId = streamReadUIntN(streamId, FarmManager.FARM_ID_SEND_NUM_BITS)\n        self.userId = User.streamReadUserId(streamId)\n\n        self:initialise(connection, isOwner)\n\n        local style\n        if streamReadBool(streamId) then\n            style = self.graphicsComponent:getStyle()\n            style:readStream(streamId, connection)\n        else\n                style = PlayerStyle.defaultStyle()\n            end\n\n            if streamReadBool(streamId) then\n                self.pendingHandsId = NetworkUtil.readNodeObjectId(streamId)\n            end\n\n            self:load( nil )\n            self:setStyleAsync(style, false , nil , true )\n\n            self:teleportTo(x, y, z, true , true )\n\n            -- By default, self.isControlled is false.If the server says that this player is controlled, then call the show function so that it may fully initialise.\n                if isControlled then\n                    self:show()\n                else\n                        self:hide()\n                    end\n                end\n\n'})}),"\n",(0,l.jsx)(e.h3,{id:"readupdatestream",children:"readUpdateStream"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"Reads the incoming update stream."}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"readUpdateStream(integer streamId, integer timestamp, Connection connection)"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"integer"}),(0,l.jsx)(e.th,{children:"streamId"}),(0,l.jsx)(e.th,{children:"The id of the stream from which to read."})]})}),(0,l.jsxs)(e.tbody,{children:[(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"integer"}),(0,l.jsx)(e.td,{children:"timestamp"}),(0,l.jsx)(e.td,{children:"The current timestamp for synchronisation purposes."})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"Connection"}),(0,l.jsx)(e.td,{children:"connection"}),(0,l.jsx)(e.td,{children:"The connection to the client or server sending the data."})]})]})]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function Player:readUpdateStream(streamId, timestamp, connection)\n\n    -- If this player has a network component, allow it to read from the stream.\n    if self.networkComponent then\n        self.networkComponent:readUpdateStream(streamId, connection, timestamp)\n    end\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"setspawnyaw",children:"setSpawnYaw"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"Sets the player's current spawn yaw to the given value."}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"setSpawnYaw(float? spawnYaw)"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,l.jsx)(e.table,{children:(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"float?"}),(0,l.jsx)(e.th,{children:"spawnYaw"}),(0,l.jsx)(e.th,{children:"The spawn yaw to use."})]})})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:'function Player:setSpawnYaw(spawnYaw)\n    --#debug Assert.isNilOrType(spawnYaw, "number", "Spawn yaw should be nil or a number!")\n    self.spawnYaw = spawnYaw\nend\n\n'})}),"\n",(0,l.jsx)(e.h3,{id:"setuniqueuserid",children:"setUniqueUserId"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"Sets this player's unique user id. This should only be done once."}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"setUniqueUserId(string uniqueUserId)"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,l.jsx)(e.table,{children:(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"string"}),(0,l.jsx)(e.th,{children:"uniqueUserId"}),(0,l.jsx)(e.th,{children:"The unique user id of the player."})]})})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:'function Player:setUniqueUserId(uniqueUserId)\n    --#debug Assert.isType(uniqueUserId, "string")\n    --#debug Assert.isStringNotNilOrEmpty(uniqueUserId)\n\n    -- Ensure the unique id will not be changed once it is no longer nil.\n    if not string.isNilOrWhitespace( self.uniqueUserId) and uniqueUserId ~ = self.uniqueUserId then\n        Logging.error( "Cannot change a player\'s unique id after it has been set!" )\n        return\n    end\n\n    -- Set the unique id.\n    self.uniqueUserId = uniqueUserId\n    --#debug self:debugLog(Player.DEBUG_DISPLAY_FLAG.INITIALISATION, "Set unique user id to %q", uniqueUserId)\nend\n\n'})}),"\n",(0,l.jsx)(e.h3,{id:"show",children:"show"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"Fired when the player enters a mission. Sets up some state."}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"show()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"any"}),(0,l.jsx)(e.th,{children:"skipShowingModel"})]})}),(0,l.jsxs)(e.tbody,{children:[(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"any"}),(0,l.jsx)(e.td,{children:"skipEnablingMover"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"any"}),(0,l.jsx)(e.td,{children:"ignoreLocalCheck"})]})]})]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function Player:show(skipShowingModel, skipEnablingMover, ignoreLocalCheck)\n    if self.isDeleted then\n        return\n    end\n\n    if not ignoreLocalCheck and self.isLocallyControlled ~ = nil then\n        return\n    end\n\n    local mission = g_currentMission\n\n    --#debug self:debugLog(Player.DEBUG_DISPLAY_FLAG.GRAPHICS, \"show()\")\n\n    -- TODO:check over this whole function and see if it really should work like this.\n        -- It may also need to be renamed, because the entire idea is that the player is moved somewhere underground and hidden, which is different to their model being hidden.\n        -- Things like setOwner and raiseActive also need to be double checked.\n\n        -- Raise the player as active so they begin receiving updates.\n        self:raiseActive()\n\n        -- If this player exists on the server, set the owning connection.\n        if self.isServer then\n\n            self.networkComponent:setShowHideParameters(skipShowingModel, skipEnablingMover)\n\n            self:setOwnerConnection( self.connection)\n\n            -- If the player exists on the server or is able to be controlled, raise the dirty flag to ensure they are synced.\n            self:raiseDefaultDirtyFlag()\n        end\n\n        -- Set the controlled flag to true, as the player can now control their character.\n        self.isControlled = true\n\n        -- Broadcast that the player has entered the mission.\n        g_messageCenter:publish(MessageType.OWN_PLAYER_ENTERED)\n\n        if self.isOwner then\n\n            -- Add the player to the environment system.\n            if mission ~ = nil then\n                mission.environmentAreaSystem:setReferenceNode( self.camera.cameraRootNode)\n            end\n\n            -- Make the player's camera current.\n            self.camera:makeCurrent()\n\n            -- Start listening for the player's bindings to be changed.\n                self.inputComponent:listenForBindingChanges()\n\n                -- Set up any input functionality.\n                self.inputComponent:addPauseListeners()\n\n                -- Since this is the player who is playing, they should only see their player model in third person.\n                if not skipShowingModel then\n                    local isFirstPerson = self.camera ~ = nil and self.camera.isFirstPerson\n                    local isVisible = not isFirstPerson\n                    self.graphicsComponent:setModelVisibility(isVisible, true )\n                end\n            else\n                    -- Since this is another player, their model should always be visible.\n                    if not skipShowingModel then\n                        self.graphicsComponent:setModelVisibility( true )\n                    end\n                end\n\n                if mission ~ = nil then\n                    if mission.shallowWaterSimulation ~ = nil and self.swsObstacle = = nil then\n                        local getXZVelocityAndRotYFunc = function ()\n                            local vx, _, vz = self.mover:getVelocity()\n\n                            -- add fake velocity when jumping without moving so it splashes\n                            if vx = = 0 and vz = = 0 and self.stateMachine.currentState = = self.stateMachine.states.onFoot then\n                                local state = self.stateMachine.currentState.currentState\n                                if state = = self.stateMachine.currentState.states.falling or state = = self.stateMachine.currentState.states.jumping then\n                                    return math.random( 5 ), math.random( 5 ), 0\n                                end\n                            end\n\n                            return vx, vz, self.mover:getMovementYaw()\n                        end\n\n                        local width = self.capsuleController:getRadius() * 1.5 -- make obstacle a bit smaller than CCT so it matches the visual mesh better\n                        local yOffset = self.capsuleController:getHeight() / 2 -- pivot of self.rootNode is at the end of the half sphere so only the cylinder part of the CCT needs to be offset\n                        self.swsObstacle = mission.shallowWaterSimulation:addObstacle( self.rootNode, width, self.capsuleController:getTotalHeight(), width, getXZVelocityAndRotYFunc, nil , { [ 2 ] = yOffset } )\n                    end\n\n                    if mission.aiSystem ~ = nil then\n                        mission.aiSystem:addObstacle( self.rootNode, nil , nil , nil , 0.8 , 2 , 0.8 , nil , false )\n                    end\n                end\n\n                -- Set up the player's hotspot.\n                if self.playerHotspot ~ = nil then\n                    self.playerHotspot:setPlayer( self )\n                    self.playerHotspot:setOwnerFarmId( self.farmId)\n                    if mission ~ = nil then\n                        mission:addMapHotspot( self.playerHotspot)\n                    end\n                end\n\n                -- Add the player to the traffic system.\n                if self.isServer and mission ~ = nil and mission.trafficSystem ~ = nil and mission.trafficSystem.trafficSystemId ~ = 0 then\n                    addTrafficSystemPlayer(mission.trafficSystem.trafficSystemId, self.graphicsComponent.graphicsRootNode)\n                end\n\n                self:setCurrentHandTool( nil , true )\n\n                for i, handTool in ipairs( self.carriedHandTools) do\n                    handTool:setCarryingPlayerShown()\n                end\n\n                if self.isOwner and not skipEnablingMover then\n                    self.mover:enablePhysics()\n                end\n            end\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"update",children:"update"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"Updates the player and their components every frame."}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"update(float dt)"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,l.jsx)(e.table,{children:(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"float"}),(0,l.jsx)(e.th,{children:"dt"}),(0,l.jsx)(e.th,{children:"delta time in ms"})]})})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:'function Player:update(dt)\n    if self.pendingHandsId ~ = nil then\n        local hands = NetworkUtil.getObject( self.pendingHandsId)\n        if hands ~ = nil then\n            self.hands = hands\n            self.pendingHandsId = nil\n        end\n    end\n\n    if self.pendingHandToolUniqueIds ~ = nil then\n        local mission = g_currentMission\n        local handToolSystem = mission.handToolSystem\n        for _, handToolUniqueId in ipairs( self.pendingHandToolUniqueIds) do\n            local handTool = handToolSystem:getHandToolByUniqueId(handToolUniqueId)\n            if handTool ~ = nil and handTool:getHolder() = = nil then\n                handTool:setHolder( self , false )\n            end\n        end\n        self.pendingHandToolUniqueIds = nil\n    end\n\n    --#profile RemoteProfiler.zoneBeginN("Player-HudUpdater")\n    -- Always raise the player as active so they can always update.\n    if self.isControlled then\n        self:raiseActive()\n\n        if self.isOwner and self.hudUpdater ~ = nil then\n            local x,y,z = self:getPosition()\n            self.hudUpdater:update(dt, x,y,z, self:getYaw())\n        end\n    end\n    --#profile RemoteProfiler.zoneEnd()\n\n    --#profile RemoteProfiler.zoneBeginN("Player-StateMachine")\n    -- Update the state machine.\n    self.stateMachine:update(dt)\n    --#profile RemoteProfiler.zoneEnd()\nend\n\n'})}),"\n",(0,l.jsx)(e.h3,{id:"updatecontrolledstate",children:"updateControlledState"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"Uses the given boolean value to determine if the player has entered or exited a vehicle or the world."}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"updateControlledState(boolean isControlled, , )"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"boolean"}),(0,l.jsx)(e.th,{children:"isControlled"}),(0,l.jsx)(e.th,{children:"Is true if the player is now able to control themselves; otherwise false."})]})}),(0,l.jsxs)(e.tbody,{children:[(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"any"}),(0,l.jsx)(e.td,{children:"skipModel"}),(0,l.jsx)(e.td,{})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"any"}),(0,l.jsx)(e.td,{children:"skipMover"}),(0,l.jsx)(e.td,{})]})]})]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function Player:updateControlledState(isControlled, skipModel, skipMover)\n\n    if isControlled = = self.isControlled then\n        return\n    end\n\n    -- Handle entering or leaving depending on the given boolean.\n    if isControlled then\n        self:show(skipModel, skipMover)\n    else\n            self:hide(skipModel, skipMover)\n        end\n    end\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"updatetick",children:"updateTick"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"Network tick update."}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"updateTick(float dt)"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,l.jsx)(e.table,{children:(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"float"}),(0,l.jsx)(e.th,{children:"dt"}),(0,l.jsx)(e.th,{children:"Delta time in ms."})]})})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function Player:updateTick(dt)\n\n    if self.stateMachine.currentState.updateTick ~ = nil then\n        self.stateMachine.currentState:updateTick(dt)\n    end\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"writestream",children:"writeStream"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"Writes the state of this player to the network stream."}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"writeStream(integer streamId, Connection connection)"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"integer"}),(0,l.jsx)(e.th,{children:"streamId"}),(0,l.jsx)(e.th,{children:"The id of the stream to which to write."})]})}),(0,l.jsx)(e.tbody,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"Connection"}),(0,l.jsx)(e.td,{children:"connection"}),(0,l.jsx)(e.td,{children:"The connection to the specific client who will receive this player data."})]})})]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:'function Player:writeStream(streamId, connection)\n    --#debug Assert.isTrue(self.isServer, "Non-server should never writeStream for the player!")\n        Player:superClass().writeStream( self , streamId, connection)\n\n        local isOwner = connection = = self.connection\n        streamWriteBool(streamId, isOwner)\n\n        local x, y, z = self.capsuleController:getPosition()\n        streamWriteFloat32(streamId, x)\n        streamWriteFloat32(streamId, y)\n        streamWriteFloat32(streamId, z)\n\n        streamWriteBool(streamId, self.isControlled)\n        streamWriteUIntN(streamId, self.farmId, FarmManager.FARM_ID_SEND_NUM_BITS)\n        User.streamWriteUserId(streamId, self.userId)\n\n        if streamWriteBool(streamId, not self.isDefaultStyle) then\n            local currentStyle = self.graphicsComponent:getStyle()\n            currentStyle:writeStream(streamId, connection)\n        end\n\n        if streamWriteBool(streamId, self.hands ~ = nil ) then\n            NetworkUtil.writeNodeObject(streamId, self.hands)\n        end\n    end\n\n'})}),"\n",(0,l.jsx)(e.h3,{id:"writeupdatestream",children:"writeUpdateStream"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"Writes to the outgoing update stream."}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"writeUpdateStream(integer streamId, Connection connection, integer dirtyMask)"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"integer"}),(0,l.jsx)(e.th,{children:"streamId"}),(0,l.jsx)(e.th,{children:"The id of the stream to which to write."})]})}),(0,l.jsxs)(e.tbody,{children:[(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"Connection"}),(0,l.jsx)(e.td,{children:"connection"}),(0,l.jsx)(e.td,{children:"The connection to the client or server receiving the data."})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"integer"}),(0,l.jsx)(e.td,{children:"dirtyMask"}),(0,l.jsx)(e.td,{children:"The current dirty mask."})]})]})]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function Player:writeUpdateStream(streamId, connection, dirtyMask)\n\n    -- If this player has a network component, allow it to write to the stream.\n    if self.networkComponent then\n        self.networkComponent:writeUpdateStream(streamId, connection, dirtyMask)\n    end\nend\n\n"})})]})}function c(n={}){const{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(h,{...n})}):h(n)}},28453(n,e,s){s.d(e,{R:()=>r,x:()=>a});var t=s(96540);const l={},i=t.createContext(l);function r(n){const e=t.useContext(i);return t.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(l):n.components||l:r(n.components),t.createElement(i.Provider,{value:e},n.children)}}}]);