"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[71060],{18271(e,n,a){a.r(n),a.d(n,{assets:()=>d,contentTitle:()=>r,default:()=>h,frontMatter:()=>t,metadata:()=>l,toc:()=>c});const l=JSON.parse('{"id":"script/Specializations/PlaceableHusbandryMeadow","title":"PlaceableHusbandryMeadow","description":"PlaceableHusbandryMeadow","source":"@site/../docs/script/Specializations/PlaceableHusbandryMeadow.md","sourceDirName":"script/Specializations","slug":"/script/Specializations/PlaceableHusbandryMeadow","permalink":"/FS25-Community-LUADOC/script/Specializations/PlaceableHusbandryMeadow","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"PlaceableHusbandryLiquidManure","permalink":"/FS25-Community-LUADOC/script/Specializations/PlaceableHusbandryLiquidManure"},"next":{"title":"PlaceableHusbandryMilk","permalink":"/FS25-Community-LUADOC/script/Specializations/PlaceableHusbandryMilk"}}');var s=a(74848),i=a(28453);const t={},r=void 0,d={},c=[{value:"PlaceableHusbandryMeadow",id:"placeablehusbandrymeadow",level:2},{value:"getFoodInfos",id:"getfoodinfos",level:3},{value:"loadFromXMLFile",id:"loadfromxmlfile",level:3},{value:"onLoad",id:"onload",level:3},{value:"onReadStream",id:"onreadstream",level:3},{value:"onReadUpdateStream",id:"onreadupdatestream",level:3},{value:"onWriteStream",id:"onwritestream",level:3},{value:"onWriteUpdateStream",id:"onwriteupdatestream",level:3},{value:"prerequisitesPresent",id:"prerequisitespresent",level:3},{value:"registerEventListeners",id:"registereventlisteners",level:3},{value:"registerOverwrittenFunctions",id:"registeroverwrittenfunctions",level:3},{value:"registerSavegameXMLPaths",id:"registersavegamexmlpaths",level:3},{value:"registerXMLPaths",id:"registerxmlpaths",level:3},{value:"saveToXMLFile",id:"savetoxmlfile",level:3},{value:"updateInfo",id:"updateinfo",level:3}];function o(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"placeablehusbandrymeadow",children:"PlaceableHusbandryMeadow"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Specialization for placeables"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Functions"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getfoodinfos",children:"getFoodInfos"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#loadfromxmlfile",children:"loadFromXMLFile"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onload",children:"onLoad"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onreadstream",children:"onReadStream"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onreadupdatestream",children:"onReadUpdateStream"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onwritestream",children:"onWriteStream"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onwriteupdatestream",children:"onWriteUpdateStream"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#prerequisitespresent",children:"prerequisitesPresent"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#registereventlisteners",children:"registerEventListeners"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#registeroverwrittenfunctions",children:"registerOverwrittenFunctions"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#registersavegamexmlpaths",children:"registerSavegameXMLPaths"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#registerxmlpaths",children:"registerXMLPaths"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#savetoxmlfile",children:"saveToXMLFile"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#updateinfo",children:"updateInfo"})}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"getfoodinfos",children:"getFoodInfos"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getFoodInfos()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function PlaceableHusbandryMeadow:getFoodInfos(superFunc)\n    local foodInfos = superFunc( self )\n    local spec = self.spec_husbandryMeadow\n\n    if #spec.fruitTypeInfos > 0 then\n        table.insert(foodInfos, spec.foodInfo)\n    end\n\n    return foodInfos\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"loadfromxmlfile",children:"loadFromXMLFile"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"loadFromXMLFile()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"xmlFile"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"key"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function PlaceableHusbandryMeadow:loadFromXMLFile(xmlFile, key)\n    local spec = self.spec_husbandryMeadow\n    local found = false\n    for _, fillLevelKey in xmlFile:iterator(key .. ".fillType" ) do\n        local fillTypeName = xmlFile:getValue(fillLevelKey .. "#name" )\n        if fillTypeName ~ = nil then\n            local fillTypeIndex = g_fillTypeManager:getFillTypeIndexByName(fillTypeName)\n            if fillTypeIndex ~ = nil and spec.fillLevels[fillTypeIndex] ~ = nil then\n                local fillLevel = xmlFile:getValue(fillLevelKey .. "#fillLevel" )\n                local capacity = xmlFile:getValue(fillLevelKey .. "#capacity" )\n                spec.fillLevels[fillTypeIndex] = fillLevel or spec.fillLevels[fillTypeIndex]\n                spec.capacities[fillTypeIndex] = capacity or spec.capacities[fillTypeIndex]\n                found = true\n            end\n        end\n    end\n\n    spec.isMeadowInfoDirty = not found\n\n    self:updateMeadowInfo()\n\n    local fieldTaskKey = key .. ".createTask"\n    if xmlFile:hasProperty(fieldTaskKey) then\n        local createTask = MeadowCreationTask.new()\n        if createTask:loadFromXMLFile(xmlFile, fieldTaskKey) then\n            createTask:setNeedsSaving( false )\n            createTask:enqueue()\n            spec.pendingCreateTask = createTask\n        end\n    end\n    local clearTaskKey = key .. ".clearTask"\n    if xmlFile:hasProperty(clearTaskKey) then\n        local clearTask = MeadowCreationTask.new()\n        if clearTask:loadFromXMLFile(xmlFile, clearTaskKey) then\n            clearTask:setNeedsSaving( false )\n            clearTask:enqueue()\n            spec.pendingClearTask = clearTask\n        end\n    end\n\n    if spec.pendingCreateTask = = nil and spec.pendingClearTask = = nil then\n        g_messageCenter:subscribe(MessageType.START_GROWTH_PERIOD, self.startMeadowGrowthUpdate, self )\n        g_messageCenter:subscribe(MessageType.FINISHED_GROWTH_PERIOD, self.finishMeadowGrowthUpdate, self )\n    end\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"onload",children:"onLoad"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onLoad()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"savegame"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function PlaceableHusbandryMeadow:onLoad(savegame)\n    local spec = self.spec_husbandryMeadow\n\n    spec.canCreateMeadow = false\n\n    spec.foodInfo = {\n    title = "" ,\n    value = 0 ,\n    capacity = 0 ,\n    ratio = 0 ,\n    ignoreCapacity = true\n    }\n    spec.info = {\n    title = g_i18n:getText( "animals_husbandryMeadowFood" ),\n    value = 0 ,\n    capacity = 0 ,\n    ratio = 0\n    }\n\n    spec.fillLevels = { }\n    spec.dirtyFillLevels = { }\n    spec.capacities = { }\n    spec.productionWeight = 0\n\n    spec.dirtyFlag = self:getNextDirtyFlag()\n\n    spec.fruitTypeInfos = { }\n    spec.fruitTypeEatFilters = { }\n    spec.eatFilterMaxValue = 10000\n\n    for _, fruitTypeKey in self.xmlFile:iterator( "placeable.husbandry.meadow.fruitType" ) do\n        local name = self.xmlFile:getValue(fruitTypeKey .. "#name" )\n        local fruitTypeDesc = g_fruitTypeManager:getFruitTypeByName(name)\n        if fruitTypeDesc ~ = nil then\n            local windrowFillTypeIndex = g_fruitTypeManager:getWindrowFillTypeIndexByFruitTypeIndex(fruitTypeDesc.index)\n            spec.fillLevels[windrowFillTypeIndex] = 0\n            spec.capacities[windrowFillTypeIndex] = 0\n\n            local eatableStartGrowthStateName = self.xmlFile:getValue(fruitTypeKey .. "#eatableStartGrowthState" )\n            if eatableStartGrowthStateName = = nil then\n                Logging.xmlWarning( self.xmlFile, "Husbandry meadow fruit type eatableStartGrowthState missing!" )\n                continue\n            end\n            local eatableStartGrowthState = fruitTypeDesc:getGrowthStateByName(eatableStartGrowthStateName)\n            if eatableStartGrowthState = = nil then\n                Logging.xmlWarning( self.xmlFile, "Husbandry meadow fruit type eatableStartGrowthState \'%s\' not defined!" , eatableStartGrowthStateName)\n                continue\n            end\n\n            local eatableEndGrowthStateName = self.xmlFile:getValue(fruitTypeKey .. "#eatableEndGrowthState" )\n            if eatableEndGrowthStateName = = nil then\n                Logging.xmlWarning( self.xmlFile, "Husbandry meadow fruit type eatableEndGrowthState missing!" )\n                continue\n            end\n            local eatableEndGrowthState = fruitTypeDesc:getGrowthStateByName(eatableEndGrowthStateName)\n            if eatableEndGrowthState = = nil then\n                Logging.xmlWarning( self.xmlFile, "Husbandry meadow fruit type eatableEndGrowthState \'%s\' not defined!" , eatableEndGrowthStateName)\n                continue\n            end\n\n            local eatenGrowthStateName = self.xmlFile:getValue(fruitTypeKey .. "#eatenGrowthState" )\n            if eatenGrowthStateName = = nil then\n                Logging.xmlWarning( self.xmlFile, "Husbandry meadow fruit type eatenGrowthState missing!" )\n                continue\n            end\n            local eatenGrowthState = fruitTypeDesc:getGrowthStateByName(eatenGrowthStateName)\n            if eatenGrowthState = = nil then\n                Logging.xmlWarning( self.xmlFile, "Husbandry meadow fruit type eatenGrowthState \'%s\' not defined!" , eatenGrowthStateName)\n                continue\n            end\n\n            local fruitTypeInfo = {\n            fruitType = fruitTypeDesc,\n            eatableStartGrowthState = eatableStartGrowthState,\n            eatableEndGrowthState = eatableEndGrowthState,\n            eatenGrowthState = eatenGrowthState,\n            fillTypeIndex = windrowFillTypeIndex,\n            }\n\n            table.insert(spec.fruitTypeInfos, fruitTypeInfo)\n        end\n    end\n\n    if self.xmlFile:hasProperty( "placeable.husbandry.meadow.createTask" ) then\n        local createTask = MeadowCreationTask.new()\n        if createTask:loadFromXMLFile( self.xmlFile, "placeable.husbandry.meadow.createTask" ) then\n            createTask:setName( "HusbandryMeadowCreate" )\n            createTask:setNeedsSaving( false )\n            spec.createTask = createTask\n        end\n\n        spec.canCreateMeadow = true\n    end\n\n    if self.xmlFile:hasProperty( "placeable.husbandry.meadow.clearTask" ) then\n        local nodes = { }\n        for _, nodeKey in self.xmlFile:iterator( "placeable.husbandry.meadow.clearTask.polygon.node" ) do\n            local node = self.xmlFile:getValue(nodeKey .. "#node" , nil , self.components, self.i3dMappings)\n            if node ~ = nil then\n                table.insert(nodes, node)\n            end\n        end\n\n        local area = DensityMapPolygon.createFromNodes(nodes)\n        if area ~ = nil then\n            local clearTask = MeadowCreationTask.new()\n            clearTask:setArea(area)\n            if clearTask:loadFromXMLFile( self.xmlFile, "placeable.husbandry.meadow.clearTask" ) then\n                clearTask:setName( "HusbandryMeadowClear" )\n                clearTask:setNeedsSaving( false )\n                spec.clearTask = clearTask\n                spec.canCreateMeadow = true\n            end\n        end\n    end\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"onreadstream",children:"onReadStream"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onReadStream()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"streamId"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"connection"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function PlaceableHusbandryMeadow:onReadStream(streamId, connection)\n    local spec = self.spec_husbandryMeadow\n    local numBits = PlaceableHusbandryMeadow.FILLLEVEL_NUM_BITS\n    for fillTypeIndex, filLLevel in pairs(spec.fillLevels) do\n        spec.fillLevels[fillTypeIndex] = streamReadUIntN(streamId, numBits)\n        spec.capacities[fillTypeIndex] = streamReadUIntN(streamId, numBits)\n    end\n    self:updateMeadowInfo()\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onreadupdatestream",children:"onReadUpdateStream"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onReadUpdateStream()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"streamId"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"timestamp"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"connection"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function PlaceableHusbandryMeadow:onReadUpdateStream(streamId, timestamp, connection)\n    if connection:getIsServer() then\n        local spec = self.spec_husbandryMeadow\n        if streamReadBool(streamId) then\n            local numBits = PlaceableHusbandryMeadow.FILLLEVEL_NUM_BITS\n            for fillTypeIndex, filLLevel in pairs(spec.fillLevels) do\n                spec.fillLevels[fillTypeIndex] = streamReadUIntN(streamId, numBits)\n                spec.capacities[fillTypeIndex] = streamReadUIntN(streamId, numBits)\n            end\n            self:updateMeadowInfo()\n        end\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onwritestream",children:"onWriteStream"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onWriteStream()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"streamId"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"connection"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function PlaceableHusbandryMeadow:onWriteStream(streamId, connection)\n    local spec = self.spec_husbandryMeadow\n    local numBits = PlaceableHusbandryMeadow.FILLLEVEL_NUM_BITS\n    for fillTypeIndex, fillLevel in pairs(spec.fillLevels) do\n        streamWriteUIntN(streamId, fillLevel, numBits)\n        streamWriteUIntN(streamId, spec.capacities[fillTypeIndex], numBits)\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onwriteupdatestream",children:"onWriteUpdateStream"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onWriteUpdateStream()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"streamId"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"connection"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"dirtyMask"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function PlaceableHusbandryMeadow:onWriteUpdateStream(streamId, connection, dirtyMask)\n    if not connection:getIsServer() then\n        local spec = self.spec_husbandryMeadow\n        if streamWriteBool(streamId, bit32.band(dirtyMask, spec.dirtyFlag) ~ = 0 ) then\n            local numBits = PlaceableHusbandryMeadow.FILLLEVEL_NUM_BITS\n            for fillTypeIndex, fillLevel in pairs(spec.fillLevels) do\n                streamWriteUIntN(streamId, fillLevel, numBits)\n                streamWriteUIntN(streamId, spec.capacities[fillTypeIndex], numBits)\n            end\n        end\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"prerequisitespresent",children:"prerequisitesPresent"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Checks if all prerequisite specializations are loaded"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"prerequisitesPresent(table specializations)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"table"}),(0,s.jsx)(n.th,{children:"specializations"}),(0,s.jsx)(n.th,{children:"specializations"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"table"}),(0,s.jsx)(n.th,{children:"hasPrerequisite"}),(0,s.jsx)(n.th,{children:"true if all prerequisite specializations are loaded"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function PlaceableHusbandryMeadow.prerequisitesPresent(specializations)\n    return SpecializationUtil.hasSpecialization( PlaceableHusbandryFood , specializations) and\n    SpecializationUtil.hasSpecialization( PlaceableHusbandryFence , specializations) and\n    SpecializationUtil.hasSpecialization( PlaceableHusbandryAnimals , specializations)\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"registereventlisteners",children:"registerEventListeners"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"registerEventListeners()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"placeableType"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function PlaceableHusbandryMeadow.registerEventListeners(placeableType)\n    SpecializationUtil.registerEventListener(placeableType, "onLoad" , PlaceableHusbandryMeadow )\n    SpecializationUtil.registerEventListener(placeableType, "onPostLoad" , PlaceableHusbandryMeadow )\n    SpecializationUtil.registerEventListener(placeableType, "onDelete" , PlaceableHusbandryMeadow )\n    SpecializationUtil.registerEventListener(placeableType, "onUpdate" , PlaceableHusbandryMeadow )\n    SpecializationUtil.registerEventListener(placeableType, "onReadStream" , PlaceableHusbandryMeadow )\n    SpecializationUtil.registerEventListener(placeableType, "onWriteStream" , PlaceableHusbandryMeadow )\n    SpecializationUtil.registerEventListener(placeableType, "onReadUpdateStream" , PlaceableHusbandryMeadow )\n    SpecializationUtil.registerEventListener(placeableType, "onWriteUpdateStream" , PlaceableHusbandryMeadow )\n    SpecializationUtil.registerEventListener(placeableType, "onFinishedFeeding" , PlaceableHusbandryMeadow )\n    SpecializationUtil.registerEventListener(placeableType, "onHusbandryAnimalsCreated" , PlaceableHusbandryMeadow )\n    SpecializationUtil.registerEventListener(placeableType, "onHusbandryFenceCustomizingUserLeft" , PlaceableHusbandryMeadow )\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"registeroverwrittenfunctions",children:"registerOverwrittenFunctions"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"registerOverwrittenFunctions()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"placeableType"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function PlaceableHusbandryMeadow.registerOverwrittenFunctions(placeableType)\n    SpecializationUtil.registerOverwrittenFunction(placeableType, "updateInfo" , PlaceableHusbandryMeadow.updateInfo)\n    SpecializationUtil.registerOverwrittenFunction(placeableType, "getFoodInfos" , PlaceableHusbandryMeadow.getFoodInfos)\n    SpecializationUtil.registerOverwrittenFunction(placeableType, "getAvailableFood" , PlaceableHusbandryMeadow.getAvailableFood)\n    SpecializationUtil.registerOverwrittenFunction(placeableType, "removeFood" , PlaceableHusbandryMeadow.removeFood)\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"registersavegamexmlpaths",children:"registerSavegameXMLPaths"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"registerSavegameXMLPaths()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"schema"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"basePath"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function PlaceableHusbandryMeadow.registerSavegameXMLPaths(schema, basePath)\n    schema:setXMLSpecializationType( "Husbandry" )\n    MeadowCreationTask.registerXMLPaths(schema, basePath .. ".createTask" )\n    MeadowCreationTask.registerXMLPaths(schema, basePath .. ".clearTask" )\n    schema:register(XMLValueType.STRING, basePath .. ".fillType(?)#name" , "Meadow filltype name" )\n    schema:register(XMLValueType.FLOAT, basePath .. ".fillType(?)#fillLevel" , "Meadow fillevel" )\n    schema:register(XMLValueType.FLOAT, basePath .. ".fillType(?)#capacity" , "Meadow capacity" )\n    schema:setXMLSpecializationType()\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"registerxmlpaths",children:"registerXMLPaths"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"registerXMLPaths()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"schema"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"basePath"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function PlaceableHusbandryMeadow.registerXMLPaths(schema, basePath)\n    schema:setXMLSpecializationType( "Husbandry" )\n    basePath = basePath .. ".husbandry.meadow"\n    schema:register(XMLValueType.STRING, basePath .. ".fruitType(?)#name" , "Name of the supported fruitType" )\n    schema:register(XMLValueType.STRING, basePath .. ".fruitType(?)#eatableStartGrowthState" , "Fruit type eatable start growth state name" )\n    schema:register(XMLValueType.STRING, basePath .. ".fruitType(?)#eatableEndGrowthState" , "Fruit type eatable end growth state name" )\n    schema:register(XMLValueType.STRING, basePath .. ".fruitType(?)#eatenGrowthState" , "Fruit type eaten growth state name" )\n    MeadowCreationTask.registerXMLPaths(schema, basePath .. ".createTask" )\n    MeadowCreationTask.registerXMLPaths(schema, basePath .. ".clearTask" )\n    schema:register(XMLValueType.NODE_INDEX, basePath .. ".clearTask.polygon.node(?)#node" , "Polygon node" , nil , false )\n    schema:setXMLSpecializationType()\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"savetoxmlfile",children:"saveToXMLFile"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"saveToXMLFile()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"xmlFile"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"key"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"usedModNames"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function PlaceableHusbandryMeadow:saveToXMLFile(xmlFile, key, usedModNames)\n    local spec = self.spec_husbandryMeadow\n    local index = 0\n    for fillTypeIndex, fillLevel in pairs(spec.fillLevels) do\n        local fillTypeName = g_fillTypeManager:getFillTypeNameByIndex(fillTypeIndex)\n        if fillTypeName ~ = nil then\n            local fillLevelKey = string.format( "%s.fillType(%d)" , key, index)\n            xmlFile:setValue(fillLevelKey .. "#name" , fillTypeName)\n            xmlFile:setValue(fillLevelKey .. "#fillLevel" , fillLevel)\n            xmlFile:setValue(fillLevelKey .. "#capacity" , spec.capacities[fillTypeIndex] or 0 )\n            index = index + 1\n        end\n    end\n\n    if spec.pendingCreateTask ~ = nil then\n        spec.pendingCreateTask:saveToXMLFile(xmlFile, key .. ".createTask" )\n    end\n    if spec.pendingClearTask ~ = nil then\n        spec.pendingClearTask:saveToXMLFile(xmlFile, key .. ".clearTask" )\n    end\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"updateinfo",children:"updateInfo"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"updateInfo()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"superFunc"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"infoTable"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function PlaceableHusbandryMeadow:updateInfo(superFunc, infoTable)\n    superFunc( self , infoTable)\n    local spec = self.spec_husbandryMeadow\n\n    if #spec.fruitTypeInfos > 0 then\n        table.insert(infoTable, spec.info)\n    end\nend\n\n"})})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},28453(e,n,a){a.d(n,{R:()=>t,x:()=>r});var l=a(96540);const s={},i=l.createContext(s);function t(e){const n=l.useContext(i);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),l.createElement(i.Provider,{value:n},e.children)}}}]);