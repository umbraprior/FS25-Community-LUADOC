"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[94833],{28453(e,n,l){l.d(n,{R:()=>s,x:()=>a});var i=l(96540);const t={},r=i.createContext(t);function s(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),i.createElement(r.Provider,{value:n},e.children)}},46709(e,n,l){l.r(n),l.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>h,frontMatter:()=>s,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"script/Objects/BunkerSilo","title":"BunkerSilo","description":"BunkerSilo","source":"@site/../docs/script/Objects/BunkerSilo.md","sourceDirName":"script/Objects","slug":"/script/Objects/BunkerSilo","permalink":"/FS25-Community-LUADOC/script/Objects/BunkerSilo","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"Basketball","permalink":"/FS25-Community-LUADOC/script/Objects/Basketball"},"next":{"title":"DogBall","permalink":"/FS25-Community-LUADOC/script/Objects/DogBall"}}');var t=l(74848),r=l(28453);const s={},a=void 0,o={},d=[{value:"BunkerSilo",id:"bunkersilo",level:2},{value:"clearSiloArea",id:"clearsiloarea",level:3},{value:"delete",id:"delete",level:3},{value:"getBunkerAreaOffset",id:"getbunkerareaoffset",level:3},{value:"getCanCloseSilo",id:"getcanclosesilo",level:3},{value:"getCanInteract",id:"getcaninteract",level:3},{value:"getCanOpenSilo",id:"getcanopensilo",level:3},{value:"getInteractionPosition",id:"getinteractionposition",level:3},{value:"getIsCloserToFront",id:"getisclosertofront",level:3},{value:"interactionTriggerCallback",id:"interactiontriggercallback",level:3},{value:"load",id:"load",level:3},{value:"loadFromXMLFile",id:"loadfromxmlfile",level:3},{value:"new",id:"new",level:3},{value:"onChangedFillLevelCallback",id:"onchangedfilllevelcallback",level:3},{value:"onCreate",id:"oncreate",level:3},{value:"openSilo",id:"opensilo",level:3},{value:"readStream",id:"readstream",level:3},{value:"readUpdateStream",id:"readupdatestream",level:3},{value:"registerSavegameXMLPaths",id:"registersavegamexmlpaths",level:3},{value:"registerXMLPaths",id:"registerxmlpaths",level:3},{value:"saveToXMLFile",id:"savetoxmlfile",level:3},{value:"setState",id:"setstate",level:3},{value:"switchFillTypeAtOffset",id:"switchfilltypeatoffset",level:3},{value:"update",id:"update",level:3},{value:"updateFillLevel",id:"updatefilllevel",level:3},{value:"updateTick",id:"updatetick",level:3},{value:"writeStream",id:"writestream",level:3},{value:"writeUpdateStream",id:"writeupdatestream",level:3}];function c(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"bunkersilo",children:"BunkerSilo"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Class for bunker silo"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Parent"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"?version=script&category=&class=",children:"Object"})}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Functions"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#clearsiloarea",children:"clearSiloArea"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#delete",children:"delete"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#getbunkerareaoffset",children:"getBunkerAreaOffset"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#getcanclosesilo",children:"getCanCloseSilo"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#getcaninteract",children:"getCanInteract"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#getcanopensilo",children:"getCanOpenSilo"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#getinteractionposition",children:"getInteractionPosition"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#getisclosertofront",children:"getIsCloserToFront"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#interactiontriggercallback",children:"interactionTriggerCallback"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#load",children:"load"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#loadfromxmlfile",children:"loadFromXMLFile"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#new",children:"new"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#onchangedfilllevelcallback",children:"onChangedFillLevelCallback"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#oncreate",children:"onCreate"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#opensilo",children:"openSilo"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#readstream",children:"readStream"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#readupdatestream",children:"readUpdateStream"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#registersavegamexmlpaths",children:"registerSavegameXMLPaths"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#registerxmlpaths",children:"registerXMLPaths"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#savetoxmlfile",children:"saveToXMLFile"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#setstate",children:"setState"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#switchfilltypeatoffset",children:"switchFillTypeAtOffset"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#update",children:"update"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#updatefilllevel",children:"updateFillLevel"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#updatetick",children:"updateTick"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#writestream",children:"writeStream"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#writeupdatestream",children:"writeUpdateStream"})}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"clearsiloarea",children:"clearSiloArea"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Clear the silo area"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"clearSiloArea()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function BunkerSilo:clearSiloArea()\n    local xs, _, zs = getWorldTranslation( self.bunkerSiloArea.start)\n    local xw, _, zw = getWorldTranslation( self.bunkerSiloArea.width)\n    local xh, _, zh = getWorldTranslation( self.bunkerSiloArea.height)\n    DensityMapHeightUtil.clearArea(xs,zs, xw,zw, xh,zh)\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"delete",children:"delete"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Deleting bunker silo object"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"delete()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function BunkerSilo:delete()\n    if self.interactionTriggerNode ~ = nil then\n        removeTrigger( self.interactionTriggerNode)\n    end\n\n    g_densityMapHeightManager:removeFixedFillTypesArea( self.bunkerSiloArea)\n    g_densityMapHeightManager:removeConvertingFillTypeAreas( self.bunkerSiloArea)\n\n    g_messageCenter:unsubscribeAll( self )\n\n    g_currentMission.activatableObjectsSystem:removeActivatable( self.activatable)\n    BunkerSilo:superClass().delete( self )\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"getbunkerareaoffset",children:"getBunkerAreaOffset"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Get bunker area offset"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"getBunkerAreaOffset(boolean updateAtFront, float offset, integer fillType)"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"boolean"}),(0,t.jsx)(n.th,{children:"updateAtFront"}),(0,t.jsx)(n.th,{children:"update at front"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"float"}),(0,t.jsx)(n.td,{children:"offset"}),(0,t.jsx)(n.td,{children:"offset"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"integer"}),(0,t.jsx)(n.td,{children:"fillType"}),(0,t.jsx)(n.td,{children:"fill type"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"integer"}),(0,t.jsx)(n.th,{children:"offset"}),(0,t.jsx)(n.th,{children:"offset"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function BunkerSilo:getBunkerAreaOffset(updateAtFront, offset, fillType)\n    local area = self.bunkerSiloArea\n\n    local hx, hz = area.dhx_norm, area.dhz_norm\n    local hl = MathUtil.vector3Length(area.dhx, area.dhy, area.dhz)\n\n    while offset < = (hl - 1 ) do\n        local pos = offset\n        if not updateAtFront then\n            pos = hl - offset - 1\n        end\n        local d1x,d1z = pos * hx, pos * hz\n        local d2x,d2z = (pos + 1 ) * hx, (pos + 1 ) * hz\n\n        local a0x, a0z = area.sx + d1x, area.sz + d1z\n        local a1x, a1z = area.wx + d1x, area.wz + d1z\n        local a2x, a2z = area.sx + d2x, area.sz + d2z\n\n        local fillLevel = DensityMapHeightUtil.getFillLevelAtArea(fillType, a0x,a0z, a1x,a1z, a2x,a2z)\n        if fillLevel > 0 then\n            return offset\n        end\n        offset = offset + 1\n    end\n\n    return math.max(hl - 1 , 0 )\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"getcanclosesilo",children:"getCanCloseSilo"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Get can close silo"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"getCanCloseSilo()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"integer"}),(0,t.jsx)(n.th,{children:"canClose"}),(0,t.jsx)(n.th,{children:"can close silo"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function BunkerSilo:getCanCloseSilo()\n    return self.state = = BunkerSilo.STATE_FILL and self.fillLevel > 0 and self.compactedPercent > = 100\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"getcaninteract",children:"getCanInteract"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Get can interact with silo"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"getCanInteract(boolean showInformationOnly)"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"boolean"}),(0,t.jsx)(n.th,{children:"showInformationOnly"}),(0,t.jsx)(n.th,{children:"show information only"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"boolean"}),(0,t.jsx)(n.th,{children:"canInteract"}),(0,t.jsx)(n.th,{children:"can interact"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function BunkerSilo:getCanInteract(showInformationOnly)\n    local localPlayer = g_localPlayer\n    if localPlayer = = nil then\n        return false\n    end\n\n    if showInformationOnly then\n\n        -- If the player is not in a vehicle and is in range, return true.\n        if not localPlayer:getIsInVehicle() and self.playerInRange then\n            return true\n        end\n\n        -- If the player is in a vehicle, check to see if it is in range.\n            local playerVehicle = localPlayer:getCurrentVehicle()\n            if playerVehicle ~ = nil then\n                for vehicle in pairs( self.vehiclesInRange) do\n                    if vehicle:getIsActiveForInput( true ) and vehicle = = playerVehicle then\n                        return true\n                    end\n                end\n            end\n        elseif not localPlayer:getIsInVehicle() and self.playerInRange then\n                return true\n            end\n\n            return false\n        end\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"getcanopensilo",children:"getCanOpenSilo"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Get can open silo"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"getCanOpenSilo()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"boolean"}),(0,t.jsx)(n.th,{children:"canOpen"}),(0,t.jsx)(n.th,{children:"can open silo"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function BunkerSilo:getCanOpenSilo()\n    if not( self.state = = BunkerSilo.STATE_FERMENTED or self.state = = BunkerSilo.STATE_DRAIN) then\n        return false\n    end\n    local ix,iy,iz = self:getInteractionPosition()\n    if ix ~ = nil then\n        local closerToFront = self:getIsCloserToFront(ix,iy,iz)\n        if closerToFront and not self.isOpenedAtFront then\n            return true\n        end\n        if not closerToFront and not self.isOpenedAtBack then\n            return true\n        end\n    end\n    return false\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"getinteractionposition",children:"getInteractionPosition"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Get interact position"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"getInteractionPosition()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"boolean"}),(0,t.jsx)(n.th,{children:"x"}),(0,t.jsx)(n.th,{children:"x world position"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"boolean"}),(0,t.jsx)(n.td,{children:"y"}),(0,t.jsx)(n.td,{children:"y world position"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"boolean"}),(0,t.jsx)(n.td,{children:"z"}),(0,t.jsx)(n.td,{children:"z world position"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function BunkerSilo:getInteractionPosition()\n    local localPlayer = g_localPlayer\n    if localPlayer = = nil then\n        return nil\n    end\n\n    if not localPlayer:getIsInVehicle() and self.playerInRange then\n        return localPlayer:getPosition()\n    else\n            local playerVehicle = localPlayer:getCurrentVehicle()\n            if self.vehiclesInRange[playerVehicle] ~ = nil then\n                return getWorldTranslation( self.vehiclesInRange[playerVehicle].components[ 1 ].node)\n            end\n        end\n\n        return nil\n    end\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"getisclosertofront",children:"getIsCloserToFront"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Get is closer to front"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"getIsCloserToFront(float ix, float iy, float iz)"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"float"}),(0,t.jsx)(n.th,{children:"ix"}),(0,t.jsx)(n.th,{children:"x position"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"float"}),(0,t.jsx)(n.td,{children:"iy"}),(0,t.jsx)(n.td,{children:"y position"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"float"}),(0,t.jsx)(n.td,{children:"iz"}),(0,t.jsx)(n.td,{children:"z position"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"float"}),(0,t.jsx)(n.th,{children:"isCloserToFront"}),(0,t.jsx)(n.th,{children:"is closer to front"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function BunkerSilo:getIsCloserToFront(ix,iy,iz)\n    local area = self.bunkerSiloArea\n\n    local x = area.sx + ( 0.5 * area.dwx) + (area.offsetFront * area.dhx_norm)\n    local y = area.sy + ( 0.5 * area.dwy) + (area.offsetFront * area.dhy_norm)\n    local z = area.sz + ( 0.5 * area.dwz) + (area.offsetFront * area.dhz_norm)\n    local distFront = MathUtil.vector3Length(x - ix, y - iy, z - iz)\n\n    x = area.sx + ( 0.5 * area.dwx) + area.dhx - (area.offsetBack * area.dhx_norm)\n    y = area.sy + ( 0.5 * area.dwy) + area.dhy - (area.offsetBack * area.dhy_norm)\n    z = area.sz + ( 0.5 * area.dwz) + area.dhz - (area.offsetBack * area.dhz_norm)\n    local distBack = MathUtil.vector3Length(x - ix, y - iy, z - iz)\n\n    return distFront < distBack\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"interactiontriggercallback",children:"interactionTriggerCallback"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"interactionTriggerCallback"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"interactionTriggerCallback(integer triggerId, integer otherId, boolean onEnter, boolean onLeave, boolean onStay,\ninteger otherId)"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"integer"}),(0,t.jsx)(n.th,{children:"triggerId"}),(0,t.jsx)(n.th,{children:"id of trigger"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"integer"}),(0,t.jsx)(n.td,{children:"otherId"}),(0,t.jsx)(n.td,{children:"id of actor"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"boolean"}),(0,t.jsx)(n.td,{children:"onEnter"}),(0,t.jsx)(n.td,{children:"on enter"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"boolean"}),(0,t.jsx)(n.td,{children:"onLeave"}),(0,t.jsx)(n.td,{children:"on leave"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"boolean"}),(0,t.jsx)(n.td,{children:"onStay"}),(0,t.jsx)(n.td,{children:"on stay"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"integer"}),(0,t.jsx)(n.td,{children:"otherId"}),(0,t.jsx)(n.td,{children:"id of other actor"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function BunkerSilo:interactionTriggerCallback(triggerId, otherId, onEnter, onLeave, onStay, otherShapeId)\n    if onEnter or onLeave then\n        if g_localPlayer ~ = nil and otherId = = g_localPlayer.rootNode then\n            if onEnter then\n                self.playerInRange = true\n                g_currentMission.activatableObjectsSystem:addActivatable( self.activatable)\n            else\n                    self.playerInRange = false\n                    if self.numVehiclesInRange = = 0 then\n                        g_currentMission.activatableObjectsSystem:removeActivatable( self.activatable)\n                    end\n                end\n            else\n                    local vehicle = g_currentMission:getNodeObject(otherShapeId)\n                    if vehicle ~ = nil and vehicle:isa( Vehicle ) then\n                        if onEnter then\n                            if self.vehiclesInRange[vehicle] = = nil then\n                                self.vehiclesInRange[vehicle] = true\n                                self.numVehiclesInRange = self.numVehiclesInRange + 1\n\n                                g_currentMission.activatableObjectsSystem:addActivatable( self.activatable)\n\n                                -- add callback if shovel\n                                    if vehicle.setBunkerSiloInteractorCallback ~ = nil then\n                                        vehicle:setBunkerSiloInteractorCallback( BunkerSilo.onChangedFillLevelCallback, self )\n                                    end\n                                end\n                            else\n                                    if self.vehiclesInRange[vehicle] then\n                                        self.vehiclesInRange[vehicle] = nil\n                                        self.numVehiclesInRange = self.numVehiclesInRange - 1\n\n                                        if self.numVehiclesInRange = = 0 and not self.playerInRange then\n                                            g_currentMission.activatableObjectsSystem:removeActivatable( self.activatable)\n                                        end\n\n                                        -- remove callback if shovel\n                                            if vehicle.setBunkerSiloInteractorCallback ~ = nil then\n                                                vehicle:setBunkerSiloInteractorCallback( nil )\n                                            end\n                                        end\n                                    end\n                                end\n                            end\n                        end\n                    end\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"load",children:"load"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Load bunker silo"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"load(table components, table xmlFile, string key, table i3dMappings)"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"table"}),(0,t.jsx)(n.th,{children:"components"}),(0,t.jsx)(n.th,{children:"components"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"table"}),(0,t.jsx)(n.td,{children:"xmlFile"}),(0,t.jsx)(n.td,{children:"xml file object"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"string"}),(0,t.jsx)(n.td,{children:"key"}),(0,t.jsx)(n.td,{children:"xml key"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"table"}),(0,t.jsx)(n.td,{children:"i3dMappings"}),(0,t.jsx)(n.td,{children:"i3dMappings"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"table"}),(0,t.jsx)(n.th,{children:"success"}),(0,t.jsx)(n.th,{children:"success"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function BunkerSilo:load(components, xmlFile, key, i3dMappings)\n    self.bunkerSiloArea.start = xmlFile:getValue(key .. ".area#startNode" , nil , components, i3dMappings)\n    self.bunkerSiloArea.width = xmlFile:getValue(key .. ".area#widthNode" , nil , components, i3dMappings)\n    self.bunkerSiloArea.height = xmlFile:getValue(key .. ".area#heightNode" , nil , components, i3dMappings)\n\n    self.bunkerSiloArea.sx, self.bunkerSiloArea.sy, self.bunkerSiloArea.sz = getWorldTranslation( self.bunkerSiloArea.start)\n    self.bunkerSiloArea.wx, self.bunkerSiloArea.wy, self.bunkerSiloArea.wz = getWorldTranslation( self.bunkerSiloArea.width)\n    self.bunkerSiloArea.hx, self.bunkerSiloArea.hy, self.bunkerSiloArea.hz = getWorldTranslation( self.bunkerSiloArea.height)\n\n    self.bunkerSiloArea.dhx = self.bunkerSiloArea.hx - self.bunkerSiloArea.sx\n    self.bunkerSiloArea.dhy = self.bunkerSiloArea.hy - self.bunkerSiloArea.sy\n    self.bunkerSiloArea.dhz = self.bunkerSiloArea.hz - self.bunkerSiloArea.sz\n    self.bunkerSiloArea.dhx_norm, self.bunkerSiloArea.dhy_norm, self.bunkerSiloArea.dhz_norm = MathUtil.vector3Normalize( self.bunkerSiloArea.dhx, self.bunkerSiloArea.dhy, self.bunkerSiloArea.dhz)\n\n    self.bunkerSiloArea.dwx = self.bunkerSiloArea.wx - self.bunkerSiloArea.sx\n    self.bunkerSiloArea.dwy = self.bunkerSiloArea.wy - self.bunkerSiloArea.sy\n    self.bunkerSiloArea.dwz = self.bunkerSiloArea.wz - self.bunkerSiloArea.sz\n    self.bunkerSiloArea.dwx_norm, self.bunkerSiloArea.dwy_norm, self.bunkerSiloArea.dwz_norm = MathUtil.vector3Normalize( self.bunkerSiloArea.dwx, self.bunkerSiloArea.dwy, self.bunkerSiloArea.dwz)\n\n    self.bunkerSiloArea.inner = { }\n    self.bunkerSiloArea.inner.start = xmlFile:getValue(key .. ".innerArea#startNode" , self.bunkerSiloArea.start, components, i3dMappings)\n    self.bunkerSiloArea.inner.width = xmlFile:getValue(key .. ".innerArea#widthNode" , self.bunkerSiloArea.width, components, i3dMappings)\n    self.bunkerSiloArea.inner.height = xmlFile:getValue(key .. ".innerArea#heightNode" , self.bunkerSiloArea.height, components, i3dMappings)\n\n    self.bunkerSiloArea.inner.sx, self.bunkerSiloArea.inner.sy, self.bunkerSiloArea.inner.sz = getWorldTranslation( self.bunkerSiloArea.inner.start)\n    self.bunkerSiloArea.inner.wx, self.bunkerSiloArea.inner.wy, self.bunkerSiloArea.inner.wz = getWorldTranslation( self.bunkerSiloArea.inner.width)\n    self.bunkerSiloArea.inner.hx, self.bunkerSiloArea.inner.hy, self.bunkerSiloArea.inner.hz = getWorldTranslation( self.bunkerSiloArea.inner.height)\n\n    self.interactionTriggerNode = xmlFile:getValue(key .. ".interactionTrigger#node" , nil , components, i3dMappings)\n    if self.interactionTriggerNode ~ = nil then\n        addTrigger( self.interactionTriggerNode, "interactionTriggerCallback" , self )\n    end\n\n    self.acceptedFillTypes = { }\n    local data = xmlFile:getValue(key .. "#acceptedFillTypes" , "chaff grass_windrow dryGrass_windrow" ):split( " " )\n    for i = 1 , #data do\n        local fillTypeIndex = g_fillTypeManager:getFillTypeIndexByName(data[i])\n        if fillTypeIndex ~ = nil then\n            self.acceptedFillTypes[fillTypeIndex] = true\n        else\n                Logging.warning( "\'%s\' is an invalid fillType for bunkerSilo \'%s\'!" , tostring(data[i]), key .. "#acceptedFillTypes" )\n                end\n            end\n\n            local inputFillTypeName = xmlFile:getValue(key .. "#inputFillType" , "chaff" )\n            local inputFillTypeIndex = g_fillTypeManager:getFillTypeIndexByName(inputFillTypeName)\n            if inputFillTypeIndex ~ = nil then\n                self.inputFillType = inputFillTypeIndex\n            else\n                    Logging.warning( "\'%s\' is an invalid input fillType for bunkerSilo \'%s\'!" , tostring(inputFillTypeName), key .. "#inputFillType" )\n                    end\n\n                    local outputFillTypeName = xmlFile:getValue(key .. "#outputFillType" , "silage" )\n                    local outputFillTypeIndex = g_fillTypeManager:getFillTypeIndexByName(outputFillTypeName)\n                    if outputFillTypeIndex ~ = nil then\n                        self.outputFillType = outputFillTypeIndex\n                    else\n                            Logging.warning( "\'%s\' is an invalid output fillType for bunkerSilo \'%s\'!" , tostring(outputFillTypeName), key .. "#outputFillType" )\n                            end\n\n                            g_densityMapHeightManager:setConvertingFillTypeAreas( self.bunkerSiloArea, self.acceptedFillTypes, self.inputFillType)\n\n                            self.distanceToCompactedFillLevel = xmlFile:getValue(key .. "#distanceToCompactedFillLevel" , self.distanceToCompactedFillLevel)\n                            self.openingLength = xmlFile:getValue(key .. "#openingLength" , 5 )\n\n                            local leftWallNode = xmlFile:getValue(key .. ".wallLeft#node" , nil , components, i3dMappings)\n                            if leftWallNode ~ = nil then\n                                self.wallLeft = { }\n                                self.wallLeft.node = leftWallNode\n                                self.wallLeft.visible = true\n                                self.wallLeft.collision = xmlFile:getValue(key .. ".wallLeft#collision" , nil , components, i3dMappings)\n                            end\n\n                            local rightWallNode = xmlFile:getValue(key .. ".wallRight#node" , nil , components, i3dMappings)\n                            if rightWallNode ~ = nil then\n                                self.wallRight = { }\n                                self.wallRight.node = rightWallNode\n                                self.wallRight.visible = true\n                                self.wallRight.collision = xmlFile:getValue(key .. ".wallRight#collision" , nil , components, i3dMappings)\n                            end\n\n                            self.fillLevel = 0\n\n                            -- adjust timings to difficulty\n                            local difficultyMultiplier = g_currentMission.missionInfo.economicDifficulty\n                            self.distanceToCompactedFillLevel = self.distanceToCompactedFillLevel / difficultyMultiplier\n\n                            self:setState( BunkerSilo.STATE_FILL)\n\n                            return true\n                        end\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"loadfromxmlfile",children:"loadFromXMLFile"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Loading from attributes and nodes"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"loadFromXMLFile(XMLFile xmlFile, string key)"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"XMLFile"}),(0,t.jsx)(n.th,{children:"xmlFile"}),(0,t.jsx)(n.th,{children:"XMLFile instance"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"string"}),(0,t.jsx)(n.td,{children:"key"}),(0,t.jsx)(n.td,{children:"key"})]})})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"string"}),(0,t.jsx)(n.th,{children:"success"}),(0,t.jsx)(n.th,{children:"success"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function BunkerSilo:loadFromXMLFile(xmlFile, key)\n\n    local state = xmlFile:getValue(key .. "#state" )\n    if state ~ = nil then\n        if state > = 0 and state < BunkerSilo.NUM_STATES then\n            self:setState(state)\n        end\n    end\n\n    local fillLevel = xmlFile:getValue(key .. "#fillLevel" )\n    if fillLevel ~ = nil then\n        self.fillLevel = fillLevel\n    end\n    local compactedFillLevel = xmlFile:getValue(key .. "#compactedFillLevel" )\n    if compactedFillLevel ~ = nil then\n        self.compactedFillLevel = math.clamp(compactedFillLevel, 0 , self.fillLevel)\n    end\n    self.compactedPercent = MathUtil.getFlooredPercent( math.min( self.compactedFillLevel, self.fillLevel), self.fillLevel)\n\n    local fermentingTime = xmlFile:getValue(key .. "#fermentingTime" )\n    if fermentingTime ~ = nil then\n        -- Convert to percent\n        self.fermentingPercent = fermentingTime / ( BunkerSilo.MILLISECONDS_PER_DAY * g_currentMission.environment.daysPerPeriod)\n    end\n\n    self.isOpenedAtFront = xmlFile:getValue(key .. "#openedAtFront" , false )\n    self.isOpenedAtBack = xmlFile:getValue(key .. "#openedAtBack" , false )\n\n    if self.isOpenedAtFront then\n        self.bunkerSiloArea.offsetFront = self:getBunkerAreaOffset( true , 0 , self.outputFillType)\n    else\n            self.bunkerSiloArea.offsetFront = self:getBunkerAreaOffset( true , 0 , self.fermentingFillType)\n        end\n        if self.isOpenedAtBack then\n            self.bunkerSiloArea.offsetBack = self:getBunkerAreaOffset( false , 0 , self.outputFillType)\n        else\n                self.bunkerSiloArea.offsetBack = self:getBunkerAreaOffset( false , 0 , self.fermentingFillType)\n            end\n\n            if self.fillLevel > 0 and self.state = = BunkerSilo.STATE_DRAIN then\n                local area = self.bunkerSiloArea\n                local offWx = area.wx - area.sx\n                local offWz = area.wz - area.sz\n                local offW = math.sqrt(offWx * offWx + offWz * offWz)\n\n                local offHx = area.hx - area.sx\n                local offHz = area.hz - area.sz\n                local offH = math.sqrt(offHx * offHx + offHz * offHz)\n\n                if offW > 0.001 and offH > 0.001 then\n                    -- offset by 0.9m in each direction(and max 45%)\n                    local offWScale = math.min( 0.45 , 0.9 / offW)\n                    offWx = offWx * offWScale\n                    offWz = offWz * offWScale\n\n                    local offHScale = math.min( 0.45 , 0.9 / offH)\n                    offHx = offHx * offHScale\n                    offHz = offHz * offHScale\n\n                    local innerFillLevel1 = DensityMapHeightUtil.getFillLevelAtArea( self.fermentingFillType, area.sx + offWx + offHx,area.sz + offWz + offHz, area.wx - offWx + offHx,area.wz - offWz + offHz, area.hx + offWx - offHx,area.hz + offWz - offHz)\n                    local innerFillLevel2 = DensityMapHeightUtil.getFillLevelAtArea( self.outputFillType, area.sx + offWx + offHx,area.sz + offWz + offHz, area.wx - offWx + offHx,area.wz - offWz + offHz, area.hx + offWx - offHx,area.hz + offWz - offHz)\n                    local innerFillLevel = innerFillLevel1 + innerFillLevel2\n                    if innerFillLevel < self.emptyThreshold * 0.5 then\n                        DensityMapHeightUtil.removeFromGroundByArea(area.sx,area.sz, area.wx,area.wz, area.hx,area.hz, self.fermentingFillType)\n                        DensityMapHeightUtil.removeFromGroundByArea(area.sx,area.sz, area.wx,area.wz, area.hx,area.hz, self.outputFillType)\n                        self:setState( BunkerSilo.STATE_FILL, false )\n                    end\n                end\n\n                DensityMapHeightUtil.changeFillTypeAtArea(area.sx, area.sz, area.wx, area.wz, area.hx, area.hz, self.inputFillType, self.outputFillType)\n            elseif self.fillLevel > 0 and( self.state = = BunkerSilo.STATE_CLOSED or self.state = = BunkerSilo.STATE_FERMENTED) then\n                    local area = self.bunkerSiloArea\n                    DensityMapHeightUtil.changeFillTypeAtArea(area.sx, area.sz, area.wx, area.wz, area.hx, area.hz, self.inputFillType, self.fermentingFillType)\n                elseif self.state = = BunkerSilo.STATE_FILL then\n                        local area = self.bunkerSiloArea\n                        local fermentingFillLevel, fermentingPixels, totalFermentingPixels = DensityMapHeightUtil.getFillLevelAtArea( self.fermentingFillType, area.sx,area.sz, area.wx,area.wz, area.hx,area.hz)\n                        -- Set to fermented state if more than 50% of the area is filled with fermenting fill type\n                            if fermentingFillLevel > self.emptyThreshold and fermentingPixels > 0.5 * totalFermentingPixels then\n                                local _inputFillLevel, inputPixels, totalInputPixels = DensityMapHeightUtil.getFillLevelAtArea( self.inputFillType, area.sx,area.sz, area.wx,area.wz, area.hx,area.hz)\n                                -- Only change if less than 10% is filled with input type(chaff) (ie.the silo is not being filled)\n                                    if inputPixels < 0.1 * totalInputPixels then\n                                        self:setState( BunkerSilo.STATE_FERMENTED, false )\n                                    end\n                                end\n                            end\n\n                            return true\n                        end\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"new",children:"new"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Creating bunker silo object"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"new(boolean isServer, boolean isClient, table? customMt)"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"boolean"}),(0,t.jsx)(n.th,{children:"isServer"}),(0,t.jsx)(n.th,{children:"is server"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"boolean"}),(0,t.jsx)(n.td,{children:"isClient"}),(0,t.jsx)(n.td,{children:"is client"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"table?"}),(0,t.jsx)(n.td,{children:"customMt"}),(0,t.jsx)(n.td,{children:"customMt"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"table?"}),(0,t.jsx)(n.th,{children:"instance"}),(0,t.jsx)(n.th,{children:"Instance of object"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function BunkerSilo.new(isServer, isClient, customMt)\n    local self = Object.new(isServer, isClient, customMt or BunkerSilo _mt)\n\n    self.interactionTriggerNode = nil\n\n    self.bunkerSiloArea = { }\n    self.bunkerSiloArea.offsetFront = 0\n    self.bunkerSiloArea.offsetBack = 0\n\n    self.acceptedFillTypes = { }\n\n    self.inputFillType = FillType.CHAFF\n    self.outputFillType = FillType.SILAGE\n    self.fermentingFillType = FillType.TARP\n\n    self.isOpenedAtFront = false\n    self.isOpenedAtBack = false\n    self.distanceToCompactedFillLevel = 100\n\n    self.fermentingPercent = 0 -- float from 0 to 1\n\n    self.fillLevel = 0\n    self.compactedFillLevel = 0\n    self.compactedPercent = 0 -- specially rounded/snapped integer from 0 to 100\n    self.emptyThreshold = 100\n\n    self.playerInRange = false\n    self.vehiclesInRange = { }\n    self.numVehiclesInRange = 0\n\n    self.siloIsFullWarningTimer = 0\n    self.siloIsFullWarningDuration = 2000\n\n    self.updateTimer = 0\n\n    self.activatable = BunkerSiloActivatable.new( self )\n\n    self.state = BunkerSilo.STATE_FILL\n\n    self.bunkerSiloDirtyFlag = self:getNextDirtyFlag()\n\n    g_messageCenter:subscribe(MessageType.HOUR_CHANGED, self.onHourChanged, self )\n\n    return self\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"onchangedfilllevelcallback",children:"onChangedFillLevelCallback"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Called if fill level changed"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"onChangedFillLevelCallback(table vehicle, integer fillDelta, integer fillType, , , , )"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"table"}),(0,t.jsx)(n.th,{children:"vehicle"}),(0,t.jsx)(n.th,{children:"vehicle"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"integer"}),(0,t.jsx)(n.td,{children:"fillDelta"}),(0,t.jsx)(n.td,{children:"fill delta"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"integer"}),(0,t.jsx)(n.td,{children:"fillType"}),(0,t.jsx)(n.td,{children:"fill type"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"fillType"}),(0,t.jsx)(n.td,{})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"x"}),(0,t.jsx)(n.td,{})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"y"}),(0,t.jsx)(n.td,{})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"z"}),(0,t.jsx)(n.td,{})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function BunkerSilo.onChangedFillLevelCallback( self , vehicle, fillDelta, fillType, x, y, z)\n    if fillDelta > = 0 then\n        return\n    end\n\n    local area = self.bunkerSiloArea\n    if x = = nil or y = = nil or z = = nil then\n        x, y, z = getWorldTranslation(vehicle.components[ 1 ].node)\n    end\n\n    local closerToFront = self:getIsCloserToFront(x, y, z)\n    local length = self.openingLength\n\n    if closerToFront then\n        if self.isOpenedAtFront then\n            local p1 = MathUtil.getProjectOnLineParameter(x,z, area.sx,area.sz, area.dhx_norm,area.dhz_norm)\n            if p1 > area.offsetFront - length then\n                local offset = self:getBunkerAreaOffset( true , area.offsetFront, self.fermentingFillType)\n                local targetOffset = math.max(p1, offset) + length\n\n                self:switchFillTypeAtOffset( true , area.offsetFront, targetOffset - area.offsetFront)\n                area.offsetFront = targetOffset\n            end\n        end\n    else\n            if self.isOpenedAtBack then\n                local p1 = MathUtil.getProjectOnLineParameter(x,z, area.hx,area.hz, - area.dhx_norm, - area.dhz_norm)\n                if p1 > area.offsetBack - length then\n                    local offset = self:getBunkerAreaOffset( false , area.offsetBack, self.fermentingFillType)\n                    local targetOffset = math.max(p1, offset) + length\n\n                    self:switchFillTypeAtOffset( false , area.offsetBack, targetOffset - area.offsetBack)\n                    area.offsetBack = targetOffset\n                end\n            end\n        end\n    end\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"oncreate",children:"onCreate"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Creating bunker silo object"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"onCreate(integer id)"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"integer"}),(0,t.jsx)(n.th,{children:"id"}),(0,t.jsx)(n.th,{children:"node id"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function BunkerSilo:onCreate(id)\n    Logging.error( "BunkerSilo.onCreate is deprecated!" )\nend\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"opensilo",children:"openSilo"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Open silo"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"openSilo(float px, float py, float pz)"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"float"}),(0,t.jsx)(n.th,{children:"px"}),(0,t.jsx)(n.th,{children:"x player position"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"float"}),(0,t.jsx)(n.td,{children:"py"}),(0,t.jsx)(n.td,{children:"y player position"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"float"}),(0,t.jsx)(n.td,{children:"pz"}),(0,t.jsx)(n.td,{children:"z player position"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function BunkerSilo:openSilo(px,py,pz)\n    self:setState( BunkerSilo.STATE_DRAIN, true )\n\n    self.bunkerSiloArea.offsetFront = self:getBunkerAreaOffset( true , 0 , self.fermentingFillType)\n    self.bunkerSiloArea.offsetBack = self:getBunkerAreaOffset( false , 0 , self.fermentingFillType)\n\n    -- check which side is closer to player\n    local openAtFront = self:getIsCloserToFront(px,py,pz)\n    if openAtFront and not self.isOpenedAtFront then\n        self:switchFillTypeAtOffset( true , self.bunkerSiloArea.offsetFront, self.openingLength)\n        self.isOpenedAtFront = true\n        self:raiseDirtyFlags( self.bunkerSiloDirtyFlag)\n    elseif not self.isOpenedAtBack then\n            self:switchFillTypeAtOffset( false , self.bunkerSiloArea.offsetBack, self.openingLength)\n            self.isOpenedAtBack = true\n            self:raiseDirtyFlags( self.bunkerSiloDirtyFlag)\n        end\n    end\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"readstream",children:"readStream"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Called on client side on join"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"readStream(integer streamId, table connection)"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"integer"}),(0,t.jsx)(n.th,{children:"streamId"}),(0,t.jsx)(n.th,{children:"stream ID"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"table"}),(0,t.jsx)(n.td,{children:"connection"}),(0,t.jsx)(n.td,{children:"connection"})]})})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function BunkerSilo:readStream(streamId, connection)\n    BunkerSilo:superClass().readStream( self , streamId, connection)\n    if connection:getIsServer() then\n        local state = streamReadUIntN(streamId, 3 )\n        self:setState(state)\n        self.isOpenedAtFront = streamReadBool(streamId)\n        self.isOpenedAtBack = streamReadBool(streamId)\n        self.fillLevel = streamReadFloat32(streamId)\n        self.compactedPercent = streamReadUIntN(streamId, 7 )\n        self.fermentingPercent = NetworkUtil.readCompressedPercentages(streamId)\n    end\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"readupdatestream",children:"readUpdateStream"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Called on client side on update"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"readUpdateStream(integer streamId, integer timestamp, table connection)"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"integer"}),(0,t.jsx)(n.th,{children:"streamId"}),(0,t.jsx)(n.th,{children:"stream ID"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"integer"}),(0,t.jsx)(n.td,{children:"timestamp"}),(0,t.jsx)(n.td,{children:"timestamp"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"table"}),(0,t.jsx)(n.td,{children:"connection"}),(0,t.jsx)(n.td,{children:"connection"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function BunkerSilo:readUpdateStream(streamId, timestamp, connection)\n    BunkerSilo:superClass().readUpdateStream( self , streamId, timestamp, connection)\n    if connection:getIsServer() then\n        if streamReadBool(streamId) then\n            local state = streamReadUIntN(streamId, 3 )\n            if state ~ = self.state then\n                self:setState(state, true )\n            end\n\n            self.fillLevel = streamReadFloat32(streamId)\n            self.isOpenedAtFront = streamReadBool(streamId)\n            self.isOpenedAtBack = streamReadBool(streamId)\n\n            if self.state = = BunkerSilo.STATE_FILL then\n                self.compactedPercent = streamReadUIntN(streamId, 7 )\n            elseif self.state = = BunkerSilo.STATE_CLOSED or self.state = = BunkerSilo.STATE_FERMENTED then\n                    self.fermentingPercent = NetworkUtil.readCompressedPercentages(streamId)\n                end\n            end\n        end\n    end\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"registersavegamexmlpaths",children:"registerSavegameXMLPaths"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"registerSavegameXMLPaths()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"schema"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"basePath"})]})})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function BunkerSilo.registerSavegameXMLPaths(schema, basePath)\n    schema:register(XMLValueType.INT, basePath .. "#state" , "Current silo state(FILL = 0, CLOSED = 1, FERMENTED = 2, DRAIN = 3)" , 0 )\n    schema:register(XMLValueType.FLOAT, basePath .. "#fillLevel" , "Current fill level" )\n    schema:register(XMLValueType.FLOAT, basePath .. "#compactedFillLevel" , "Compacted fill level" )\n    schema:register(XMLValueType.FLOAT, basePath .. "#fermentingTime" , "Fermenting time" )\n    schema:register(XMLValueType.BOOL, basePath .. "#openedAtFront" , "Is opened at front" , false )\n    schema:register(XMLValueType.BOOL, basePath .. "#openedAtBack" , "Is opened at back" , false )\nend\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"registerxmlpaths",children:"registerXMLPaths"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"registerXMLPaths()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"schema"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"basePath"})]})})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function BunkerSilo.registerXMLPaths(schema, basePath)\n    schema:register(XMLValueType.NODE_INDEX, basePath .. ".area#startNode" , "Area start node(placed in the middle of the walls)" )\n    schema:register(XMLValueType.NODE_INDEX, basePath .. ".area#widthNode" , "Area width node(placed in the middle of the walls)" )\n    schema:register(XMLValueType.NODE_INDEX, basePath .. ".area#heightNode" , "Area height node(placed in the middle of the walls)" )\n\n    schema:register(XMLValueType.NODE_INDEX, basePath .. ".innerArea#startNode" , "Inner area start node(Used to detect fill level - placed 25cm from inner walls)" )\n    schema:register(XMLValueType.NODE_INDEX, basePath .. ".innerArea#widthNode" , "Inner area width node(Used to detect fill level - placed 25cm from inner walls)" )\n    schema:register(XMLValueType.NODE_INDEX, basePath .. ".innerArea#heightNode" , "Inner area height node(Used to detect fill level - placed 25cm from inner walls)" )\n\n    schema:register(XMLValueType.NODE_INDEX, basePath .. ".wallLeft#node" , "Left wall node" )\n    schema:register(XMLValueType.NODE_INDEX, basePath .. ".wallLeft#collision" , "Left wall collision" )\n    schema:register(XMLValueType.NODE_INDEX, basePath .. ".wallRight#node" , "Right wall node" )\n    schema:register(XMLValueType.NODE_INDEX, basePath .. ".wallRight#collision" , "Right wall collision" )\n\n    schema:register(XMLValueType.NODE_INDEX, basePath .. ".interactionTrigger#node" , "Interaction trigger node" )\n    schema:register(XMLValueType.STRING, basePath .. "#acceptedFillTypes" , "Accepted fill types" , "chaff grass_windrow dryGrass_windrow" )\n    schema:register(XMLValueType.STRING, basePath .. "#inputFillType" , "Input fill type" , "chaff" )\n    schema:register(XMLValueType.STRING, basePath .. "#outputFillType" , "Output fill type" , "silage" )\n\n    schema:register(XMLValueType.FLOAT, basePath .. "#distanceToCompactedFillLevel" , "Distance to drive on bunker silo for full compaction" , 100 )\n        schema:register(XMLValueType.FLOAT, basePath .. "#openingLength" , "Opening length" , 5 )\n    end\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"savetoxmlfile",children:"saveToXMLFile"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Save to XML file"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"saveToXMLFile(XMLFile xmlFile, string key, table usedModNames)"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"XMLFile"}),(0,t.jsx)(n.th,{children:"xmlFile"}),(0,t.jsx)(n.th,{children:"XMLFile instance"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"string"}),(0,t.jsx)(n.td,{children:"key"}),(0,t.jsx)(n.td,{children:"key"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"table"}),(0,t.jsx)(n.td,{children:"usedModNames"}),(0,t.jsx)(n.td,{children:"list of use dmod names"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function BunkerSilo:saveToXMLFile(xmlFile, key, usedModNames)\n    xmlFile:setValue(key .. "#state" , self.state)\n    xmlFile:setValue(key .. "#fillLevel" , self.fillLevel)\n    xmlFile:setValue(key .. "#compactedFillLevel" , self.compactedFillLevel)\n    xmlFile:setValue(key .. "#fermentingTime" , self.fermentingPercent * BunkerSilo.MILLISECONDS_PER_DAY * g_currentMission.environment.daysPerPeriod)\n    xmlFile:setValue(key .. "#openedAtFront" , self.isOpenedAtFront)\n    xmlFile:setValue(key .. "#openedAtBack" , self.isOpenedAtBack)\nend\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"setstate",children:"setState"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Set state"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"setState(boolean state, boolean showNotification)"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"boolean"}),(0,t.jsx)(n.th,{children:"state"}),(0,t.jsx)(n.th,{children:"new state"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"boolean"}),(0,t.jsx)(n.td,{children:"showNotification"}),(0,t.jsx)(n.td,{children:"show notification"})]})})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function BunkerSilo:setState(state, showNotification)\n    if state ~ = self.state then\n        if state = = BunkerSilo.STATE_FILL then\n            self.fermentingPercent = 0\n            self.compactedFillLevel = 0\n            self.compactedPercent = 0\n            self.isOpenedAtFront = false\n            self.isOpenedAtBack = false\n            self.bunkerSiloArea.offsetFront = 0\n            self.bunkerSiloArea.offsetBack = 0\n\n            if showNotification then\n                self:showBunkerMessage(g_i18n:getText( "ingameNotification_bunkerSiloIsEmpty" ))\n            end\n\n            if self.isServer then\n                g_densityMapHeightManager:removeFixedFillTypesArea( self.bunkerSiloArea)\n                g_densityMapHeightManager:setConvertingFillTypeAreas( self.bunkerSiloArea, self.acceptedFillTypes, self.inputFillType)\n            end\n\n        elseif state = = BunkerSilo.STATE_CLOSED then\n                -- change fillType\n                local area = self.bunkerSiloArea\n                local offsetFront = self:getBunkerAreaOffset( true , 0 , self.inputFillType)\n                local offsetBack = self:getBunkerAreaOffset( false , 0 , self.inputFillType)\n\n                local x0 = area.sx + (offsetFront * area.dhx_norm)\n                local z0 = area.sz + (offsetFront * area.dhz_norm)\n                local x1 = x0 + area.dwx\n                local z1 = z0 + area.dwz\n                local x2 = area.sx + area.dhx - (offsetBack * area.dhx_norm)\n                local z2 = area.sz + area.dhz - (offsetBack * area.dhz_norm)\n\n                if self.isServer then\n                    local _changed = DensityMapHeightUtil.changeFillTypeAtArea(x0,z0, x1,z1, x2,z2, self.inputFillType, self.fermentingFillType)\n\n                    g_densityMapHeightManager:removeFixedFillTypesArea( self.bunkerSiloArea)\n                    g_densityMapHeightManager:removeConvertingFillTypeAreas( self.bunkerSiloArea)\n                end\n\n                -- remove tire tracks and remove displacement for smooth heap\n                    g_currentMission.tireTrackSystem:eraseParallelogram(x0,z0, x1,z1, x2,z2)\n                    FSDensityMapUtil.resetDisplacementArea(x0,z0, x1,z1, x2,z2)\n\n                    if showNotification then\n                        self:showBunkerMessage(g_i18n:getText( "ingameNotification_bunkerSiloCovered" ))\n                    end\n\n                elseif state = = BunkerSilo.STATE_FERMENTED then\n\n                        if showNotification then\n                            self:showBunkerMessage(g_i18n:getText( "ingameNotification_bunkerSiloDoneFermenting" ))\n                        end\n\n                    elseif state = = BunkerSilo.STATE_DRAIN then\n\n                            self.bunkerSiloArea.offsetFront = 0\n                            self.bunkerSiloArea.offsetBack = 0\n\n                            if showNotification then\n                                self:showBunkerMessage(g_i18n:getText( "ingameNotification_bunkerSiloOpened" ))\n                            end\n\n                            if self.isServer then\n                                g_densityMapHeightManager:removeConvertingFillTypeAreas( self.bunkerSiloArea)\n                                local fillTypes = { }\n                                fillTypes[ self.outputFillType] = true\n                                g_densityMapHeightManager:setFixedFillTypesArea( self.bunkerSiloArea, fillTypes)\n                            end\n\n                        end\n\n                        self.state = state\n                        if self.isServer then\n                            self:raiseDirtyFlags( self.bunkerSiloDirtyFlag)\n                        end\n                    end\n                end\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"switchfilltypeatoffset",children:"switchFillTypeAtOffset"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Switch fill type at offset"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"switchFillTypeAtOffset(boolean switchAtFront, float offset, float length)"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"boolean"}),(0,t.jsx)(n.th,{children:"switchAtFront"}),(0,t.jsx)(n.th,{children:"switch at front"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"float"}),(0,t.jsx)(n.td,{children:"offset"}),(0,t.jsx)(n.td,{children:"offset"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"float"}),(0,t.jsx)(n.td,{children:"length"}),(0,t.jsx)(n.td,{children:"length"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function BunkerSilo:switchFillTypeAtOffset(switchAtFront, offset, length)\n\n    local fillType = self.fermentingFillType\n    local newFillType = self.outputFillType\n\n    local a0x, a0z\n    local a1x, a1z\n    local a2x, a2z\n\n    local area = self.bunkerSiloArea\n\n    if switchAtFront then\n        a0x, a0z = area.sx + (offset * area.dhx_norm), area.sz + (offset * area.dhz_norm)\n        a1x, a1z = a0x + area.dwx, a0z + area.dwz\n        a2x, a2z = area.sx + ((offset + length) * area.dhx_norm), area.sz + ((offset + length) * area.dhz_norm)\n    else\n            a0x, a0z = area.hx - (offset * area.dhx_norm), area.hz - (offset * area.dhz_norm)\n            a1x, a1z = a0x + area.dwx, a0z + area.dwz\n            a2x, a2z = area.hx - ((offset + length) * area.dhx_norm), area.hz - ((offset + length) * area.dhz_norm)\n        end\n\n        DensityMapHeightUtil.changeFillTypeAtArea(a0x,a0z, a1x,a1z, a2x,a2z, fillType, newFillType)\n\n    end\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"update",children:"update"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Update"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"update(float dt)"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"float"}),(0,t.jsx)(n.th,{children:"dt"}),(0,t.jsx)(n.th,{children:"time since last call in ms"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function BunkerSilo:update(dt)\n    if self:getCanInteract( true ) then\n        local fillTypeIndex = self.inputFillType\n        if self.state = = BunkerSilo.STATE_CLOSED or self.state = = BunkerSilo.STATE_FERMENTED or self.state = = BunkerSilo.STATE_DRAIN then\n            fillTypeIndex = self.outputFillType\n        end\n        local fillTypeName = ""\n        local fillType = g_fillTypeManager:getFillTypeByIndex(fillTypeIndex)\n        if fillType ~ = nil then\n            fillTypeName = fillType.title\n        end\n\n        g_currentMission:addExtraPrintText( string.format( "%s %s: %d" , g_i18n:getText( "info_fillLevel" ), fillTypeName, self.fillLevel))\n\n        if self.state = = BunkerSilo.STATE_FILL then\n            g_currentMission:addExtraPrintText( string.format( "%s %d%%" , g_i18n:getText( "info_compacting" ), self.compactedPercent))\n        elseif self.state = = BunkerSilo.STATE_CLOSED or self.state = = BunkerSilo.STATE_FERMENTED then\n                g_currentMission:addExtraPrintText( string.format( "%s %d%%" , g_i18n:getText( "info_fermenting" ), math.ceil( self.fermentingPercent * 100 )))\n            end\n        end\n\n        if self.isServer then\n            if self.state = = BunkerSilo.STATE_FILL then\n                for vehicle,state in pairs( self.vehiclesInRange) do\n                    if state then\n                        if vehicle:getIsActive() then\n                            local distance = vehicle.lastMovedDistance\n                            if distance > 0 then\n                                local mass = vehicle:getTotalMass( false )\n\n                                local compactingFactor = (mass / BunkerSilo.COMPACTING_BASE_MASS)\n\n                                local compactingScale = 1\n                                if vehicle.getBunkerSiloCompacterScale ~ = nil then\n                                    compactingScale = vehicle:getBunkerSiloCompacterScale() or compactingScale\n                                end\n                                compactingFactor = compactingFactor * compactingScale\n\n                                local deltaCompact = distance * compactingFactor * self.distanceToCompactedFillLevel\n\n                                if vehicle.getWheels ~ = nil then\n                                    local wheels = vehicle:getWheels()\n                                    local numWheels = #wheels\n                                    if numWheels > 0 then\n                                        local wheelsOnSilo = 0\n                                        local wheelsInAir = 0\n                                        for _, wheel in ipairs(wheels) do\n                                            if wheel.physics.contact = = WheelContactType.GROUND_HEIGHT then\n                                                wheelsOnSilo = wheelsOnSilo + 1\n                                            elseif wheel.physics.contact = = WheelContactType.NONE then\n                                                    wheelsInAir = wheelsInAir + 1\n                                                end\n                                            end\n                                            if wheelsOnSilo > 0 then\n                                                deltaCompact = deltaCompact * ((wheelsOnSilo + wheelsInAir) / numWheels)\n                                            else\n                                                    deltaCompact = 0\n                                                end\n                                            else\n                                                    -- vehicles without wheels are not allowed to compact(e.g.levelers)\n                                                    deltaCompact = 0\n                                                end\n                                            end\n\n                                            if deltaCompact > 0 then\n                                                local compactedFillLevel = math.min( self.compactedFillLevel + deltaCompact, self.fillLevel)\n                                                if compactedFillLevel ~ = self.compactedFillLevel then\n                                                    self:updateCompacting(compactedFillLevel)\n                                                end\n                                            end\n                                        end\n                                    end\n                                end\n                            end\n                        end\n                    end\n\n                    -- for chaff tutorial:always take the highest fill level of all bunker silos\n                        if g_currentMission ~ = nil and g_currentMission.bunkerScore ~ = nil then\n                            if g_currentMission.bunkerScore < self.fillLevel then\n                                g_currentMission.bunkerScore = self.fillLevel\n                            end\n                        end\n\n                        self:raiseActive()\n                    end\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"updatefilllevel",children:"updateFillLevel"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Update fill level"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"updateFillLevel()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function BunkerSilo:updateFillLevel()\n    local area = self.bunkerSiloArea.inner\n    local fillLevel = self.fillLevel\n    local fillType = self.inputFillType\n\n    if fillType ~ = FillType.UNKNOWN then\n        if self.state = = BunkerSilo.STATE_FILL then\n            fillLevel = DensityMapHeightUtil.getFillLevelAtArea(fillType, area.sx,area.sz, area.wx,area.wz, area.hx,area.hz)\n        elseif self.state = = BunkerSilo.STATE_CLOSED then\n                fillLevel = DensityMapHeightUtil.getFillLevelAtArea( self.fermentingFillType, area.sx,area.sz, area.wx,area.wz, area.hx,area.hz)\n            elseif self.state = = BunkerSilo.STATE_FERMENTED then\n                    local fillLevel1 = DensityMapHeightUtil.getFillLevelAtArea( self.fermentingFillType, area.sx,area.sz, area.wx,area.wz, area.hx,area.hz)\n                    local fillLevel2 = DensityMapHeightUtil.getFillLevelAtArea( self.outputFillType, area.sx,area.sz, area.wx,area.wz, area.hx,area.hz)\n                    fillLevel = fillLevel1 + fillLevel2\n                elseif self.state = = BunkerSilo.STATE_DRAIN then\n                        local fillLevel1 = DensityMapHeightUtil.getFillLevelAtArea( self.fermentingFillType, area.sx,area.sz, area.wx,area.wz, area.hx,area.hz)\n                        local fillLevel2 = DensityMapHeightUtil.getFillLevelAtArea( self.outputFillType, area.sx,area.sz, area.wx,area.wz, area.hx,area.hz)\n                        fillLevel = fillLevel1 + fillLevel2\n                        if fillLevel < self.emptyThreshold then\n                            DensityMapHeightUtil.removeFromGroundByArea(area.sx,area.sz, area.wx,area.wz, area.hx,area.hz, self.fermentingFillType)\n                            DensityMapHeightUtil.removeFromGroundByArea(area.sx,area.sz, area.wx,area.wz, area.hx,area.hz, self.outputFillType)\n                            self:setState( BunkerSilo.STATE_FILL, true )\n                        end\n                    end\n                end\n\n                self.fillLevel = fillLevel\n            end\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"updatetick",children:"updateTick"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"UpdateTick"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"updateTick(float dt)"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"float"}),(0,t.jsx)(n.th,{children:"dt"}),(0,t.jsx)(n.th,{children:"time since last call in ms"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function BunkerSilo:updateTick(dt)\n    if self.isServer then\n        self.updateTimer = self.updateTimer - dt\n        if self.updateTimer < = 0 then\n            self.updateTimer = 200 + math.random() * 100 -- update every 200 to 300ms\n\n            local oldFillLevel = self.fillLevel\n            self:updateFillLevel()\n            if oldFillLevel ~ = self.fillLevel then\n                self:updateCompacting( self.compactedFillLevel)\n            end\n        end\n    end\n    if not self.adjustedOpeningLength then\n        self.adjustedOpeningLength = true\n        self.openingLength = math.max( self.openingLength, DensityMapHeightUtil.getDefaultMaxRadius( self.outputFillType) + 1 )\n    end\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"writestream",children:"writeStream"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Called on server side on join"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"writeStream(integer streamId, table connection)"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"integer"}),(0,t.jsx)(n.th,{children:"streamId"}),(0,t.jsx)(n.th,{children:"stream ID"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"table"}),(0,t.jsx)(n.td,{children:"connection"}),(0,t.jsx)(n.td,{children:"connection"})]})})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function BunkerSilo:writeStream(streamId, connection)\n    BunkerSilo:superClass().writeStream( self , streamId, connection)\n    if not connection:getIsServer() then\n        streamWriteUIntN(streamId, self.state, 3 )\n        streamWriteBool(streamId, self.isOpenedAtFront)\n        streamWriteBool(streamId, self.isOpenedAtBack)\n        streamWriteFloat32(streamId, self.fillLevel)\n        streamWriteUIntN(streamId, self.compactedPercent, 7 )\n        NetworkUtil.writeCompressedPercentages(streamId, self.fermentingPercent)\n    end\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"writeupdatestream",children:"writeUpdateStream"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Called on server side on update"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"writeUpdateStream(integer streamId, table connection, integer dirtyMask)"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"integer"}),(0,t.jsx)(n.th,{children:"streamId"}),(0,t.jsx)(n.th,{children:"stream ID"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"table"}),(0,t.jsx)(n.td,{children:"connection"}),(0,t.jsx)(n.td,{children:"connection"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"integer"}),(0,t.jsx)(n.td,{children:"dirtyMask"}),(0,t.jsx)(n.td,{children:"dirty mask"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function BunkerSilo:writeUpdateStream(streamId, connection, dirtyMask)\n    BunkerSilo:superClass().writeUpdateStream( self , streamId, connection, dirtyMask)\n    if not connection:getIsServer() then\n        if streamWriteBool(streamId, bit32.band(dirtyMask, self.bunkerSiloDirtyFlag) ~ = 0 ) then\n            streamWriteUIntN(streamId, self.state, 3 )\n\n            streamWriteFloat32(streamId, self.fillLevel)\n            streamWriteBool(streamId, self.isOpenedAtFront)\n            streamWriteBool(streamId, self.isOpenedAtBack)\n\n            if self.state = = BunkerSilo.STATE_FILL then\n                streamWriteUIntN(streamId, self.compactedPercent, 7 )\n            elseif self.state = = BunkerSilo.STATE_CLOSED or self.state = = BunkerSilo.STATE_FERMENTED then\n                    NetworkUtil.writeCompressedPercentages(streamId, self.fermentingPercent)\n                end\n            end\n        end\n    end\n\n"})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}}}]);