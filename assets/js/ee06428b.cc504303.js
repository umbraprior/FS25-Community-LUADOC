"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[99111],{28453(n,e,s){s.d(e,{R:()=>t,x:()=>d});var r=s(96540);const l={},i=r.createContext(l);function t(n){const e=r.useContext(i);return r.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function d(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(l):n.components||l:t(n.components),r.createElement(i.Provider,{value:e},n.children)}},44401(n,e,s){s.r(e),s.d(e,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>t,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"script/AI/AIJobTypeManager","title":"AIJobTypeManager","description":"AIJobTypeManager","source":"@site/../docs/script/AI/AIJobTypeManager.md","sourceDirName":"script/AI","slug":"/script/AI/AIJobTypeManager","permalink":"/FS25-Community-LUADOC/script/AI/AIJobTypeManager","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"AIDriveStrategyStonePicker","permalink":"/FS25-Community-LUADOC/script/AI/AIDriveStrategyStonePicker"},"next":{"title":"AISystem","permalink":"/FS25-Community-LUADOC/script/AI/AISystem"}}');var l=s(74848),i=s(28453);const t={},d=void 0,c={},o=[{value:"AIJobTypeManager",id:"aijobtypemanager",level:2},{value:"createJob",id:"createjob",level:3},{value:"delete",id:"delete",level:3},{value:"getJobTypeByIndex",id:"getjobtypebyindex",level:3},{value:"getJobTypeIndex",id:"getjobtypeindex",level:3},{value:"getJobTypeIndexByName",id:"getjobtypeindexbyname",level:3},{value:"loadMapData",id:"loadmapdata",level:3},{value:"new",id:"new",level:3},{value:"registerJobType",id:"registerjobtype",level:3}];function a(n){const e={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e.h2,{id:"aijobtypemanager",children:"AIJobTypeManager"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"This class handles all npcs"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Functions"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#createjob",children:"createJob"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#delete",children:"delete"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#getjobtypebyindex",children:"getJobTypeByIndex"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#getjobtypeindex",children:"getJobTypeIndex"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#getjobtypeindexbyname",children:"getJobTypeIndexByName"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#loadmapdata",children:"loadMapData"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#new",children:"new"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#registerjobtype",children:"registerJobType"})}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"createjob",children:"createJob"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"createJob()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,l.jsx)(e.table,{children:(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"any"}),(0,l.jsx)(e.th,{children:"typeIndex"})]})})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function AIJobTypeManager:createJob(typeIndex)\n    if typeIndex = = nil then\n        return nil\n    end\n\n    local jobType = self.jobTypes[typeIndex]\n    if jobType = = nil then\n        return nil\n    end\n\n    local job = jobType.classObject.new( self.isServer)\n    job.jobTypeIndex = typeIndex\n\n    return job\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"delete",children:"delete"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"delete()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function AIJobTypeManager:delete()\n    self.jobTypes = { }\n    self.nameToIndex = { }\n    self.classObjectToIndex = { }\n    AIJobType = self.nameToIndex\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"getjobtypebyindex",children:"getJobTypeByIndex"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"getJobTypeByIndex()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,l.jsx)(e.table,{children:(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"any"}),(0,l.jsx)(e.th,{children:"index"})]})})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function AIJobTypeManager:getJobTypeByIndex(index)\n    return self.jobTypes[index]\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"getjobtypeindex",children:"getJobTypeIndex"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"getJobTypeIndex()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,l.jsx)(e.table,{children:(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"any"}),(0,l.jsx)(e.th,{children:"job"})]})})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function AIJobTypeManager:getJobTypeIndex(job)\n    local classObject = ClassUtil.getClassObjectByObject(job)\n    if classObject = = nil then\n        return nil\n    end\n\n    return self.classObjectToIndex[classObject]\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"getjobtypeindexbyname",children:"getJobTypeIndexByName"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"getJobTypeIndexByName()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,l.jsx)(e.table,{children:(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"any"}),(0,l.jsx)(e.th,{children:"name"})]})})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function AIJobTypeManager:getJobTypeIndexByName(name)\n    if name = = nil then\n        return nil\n    end\n\n    name = string.upper(name)\n\n    return self.nameToIndex[name]\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"loadmapdata",children:"loadMapData"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"Load data on map load"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"loadMapData()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"any"}),(0,l.jsx)(e.th,{children:"xmlFile"})]})}),(0,l.jsxs)(e.tbody,{children:[(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"any"}),(0,l.jsx)(e.td,{children:"missionInfo"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"any"}),(0,l.jsx)(e.td,{children:"baseDirectory"})]})]})]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,l.jsx)(e.table,{children:(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"any"}),(0,l.jsx)(e.th,{children:"true"}),(0,l.jsx)(e.th,{children:"if loading was successful else false"})]})})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:'function AIJobTypeManager:loadMapData(xmlFile, missionInfo, baseDirectory)\n    self.jobTypes = { }\n    self.nameToIndex = { }\n    self.classObjectToIndex = { }\n    AIJobType = self.nameToIndex\n\n    self:registerJobType( "GOTO" , "$l10n_ai_jobTitleGoto" , AIJobGoTo )\n    self:registerJobType( "FIELDWORK" , "$l10n_ai_jobTitleFieldWork" , AIJobFieldWork )\n    self:registerJobType( "CONVEYOR" , "$l10n_ai_jobTitleConveyor" , AIJobConveyor )\n    self:registerJobType( "DELIVER" , "$l10n_ai_jobTitleDeliver" , AIJobDeliver )\n    self:registerJobType( "LOAD_AND_DELIVER" , "$l10n_ai_jobTitleLoadAndDeliver" , AIJobLoadAndDeliver )\nend\n\n'})}),"\n",(0,l.jsx)(e.h3,{id:"new",children:"new"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"Creating manager"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"new()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"any"}),(0,l.jsx)(e.th,{children:"isServer"})]})}),(0,l.jsx)(e.tbody,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"any"}),(0,l.jsx)(e.td,{children:"customMt"})]})})]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,l.jsx)(e.table,{children:(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"any"}),(0,l.jsx)(e.th,{children:"instance"}),(0,l.jsx)(e.th,{children:"instance of object"})]})})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function AIJobTypeManager.new(isServer, customMt)\n    local self = setmetatable( { } , customMt or AIJobTypeManager _mt)\n\n    self.isServer = isServer\n\n    return self\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"registerjobtype",children:"registerJobType"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"registerJobType()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"any"}),(0,l.jsx)(e.th,{children:"name"})]})}),(0,l.jsxs)(e.tbody,{children:[(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"any"}),(0,l.jsx)(e.td,{children:"title"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"any"}),(0,l.jsx)(e.td,{children:"classObject"})]})]})]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function AIJobTypeManager:registerJobType(name, title, classObject)\n    if not ClassUtil.getIsValidIndexName(name) then\n        Logging.warning( \"'%s' is not a valid name for a ai job type!\" , tostring(name))\n            return nil\n        end\n\n        name = string.upper(name)\n\n        if self.nameToIndex[name] ~ = nil then\n            Logging.warning( \"AI job type '%s' already exists!\" , tostring(name))\n            return nil\n        end\n\n        local jobType = { }\n        jobType.name = name\n        jobType.title = g_i18n:convertText(title)\n        jobType.classObject = classObject\n        jobType.index = # self.jobTypes + 1\n\n        table.insert( self.jobTypes, jobType)\n        self.nameToIndex[name] = jobType.index\n        self.classObjectToIndex[classObject] = jobType.index\n\n        return jobType\n    end\n\n"})})]})}function h(n={}){const{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(a,{...n})}):a(n)}}}]);