"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[16774],{28453(e,n,t){t.d(n,{R:()=>r,x:()=>s});var l=t(96540);const i={},o=l.createContext(i);function r(e){const n=l.useContext(o);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),l.createElement(o.Provider,{value:n},e.children)}},53826(e,n,t){t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>s,default:()=>h,frontMatter:()=>r,metadata:()=>l,toc:()=>d});const l=JSON.parse('{"id":"script/Graphical/PlayerStyle","title":"PlayerStyle","description":"PlayerStyle","source":"@site/../docs/script/Graphical/PlayerStyle.md","sourceDirName":"script/Graphical","slug":"/script/Graphical/PlayerStyle","permalink":"/FS25-Community-LUADOC/script/Graphical/PlayerStyle","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"YesNoDialog","permalink":"/FS25-Community-LUADOC/script/GUI/YesNoDialog"},"next":{"title":"PlayerStyleConfig","permalink":"/FS25-Community-LUADOC/script/Graphical/PlayerStyleConfig"}}');var i=t(74848),o=t(28453);const r={},s=void 0,a={},d=[{value:"PlayerStyle",id:"playerstyle",level:2},{value:"copyConfigurationFrom",id:"copyconfigurationfrom",level:3},{value:"copyFrom",id:"copyfrom",level:3},{value:"copySelectionFrom",id:"copyselectionfrom",level:3},{value:"debugDraw",id:"debugdraw",level:3},{value:"loadConfigurationXML",id:"loadconfigurationxml",level:3},{value:"new",id:"new",level:3},{value:"readStream",id:"readstream",level:3},{value:"writeStream",id:"writestream",level:3}];function c(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"playerstyle",children:"PlayerStyle"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"This class handles player avatar customization"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Functions"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#copyconfigurationfrom",children:"copyConfigurationFrom"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#copyfrom",children:"copyFrom"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#copyselectionfrom",children:"copySelectionFrom"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#debugdraw",children:"debugDraw"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#loadconfigurationxml",children:"loadConfigurationXML"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#new",children:"new"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#readstream",children:"readStream"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#writestream",children:"writeStream"})}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"copyconfigurationfrom",children:"copyConfigurationFrom"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Copies the configuration from the given style into this style. The selection will be untouched."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"copyConfigurationFrom(PlayerStyle other)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"PlayerStyle"}),(0,i.jsx)(n.th,{children:"other"}),(0,i.jsx)(n.th,{children:"The style to copy from."})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function PlayerStyle:copyConfigurationFrom(other)\n\n    --#debug Assert.isClass(other, PlayerStyle, "Cannot copy from non-style object!")\n\n    -- If the other style is this, do nothing.\n        if other = = self then\n            return\n        end\n\n        -- If the other style has not yet loaded its configuration, log an error and do nothing more.\n            if not other.isConfigurationLoaded then\n                Logging.error( "Cannot copy configuration from style that has not yet loaded its own configuration!" )\n                printCallstack()\n                return\n            end\n\n            -- Copy the filenames.\n            self.xmlFilename = other.xmlFilename\n            self.filename = other.filename\n\n            -- Copy the basic attributes.\n            self.hatHairstyleIndex = other.hatHairstyleIndex\n            self.faceNeutralDiffuseColor = other.faceNeutralDiffuseColor\n\n            -- Copy the style collections.\n            self.attachPoints = other.attachPoints\n            self.bodyParts = other.bodyParts\n            self.bodyPartIndexByName = other.bodyPartIndexByName\n            self.presets = other.presets\n            self.presetsByName = other.presetsByName\n\n            -- Copy the configurations.\n            for configName, config in pairs(other.configs) do\n                self.configs[configName]:copyConfigurationFrom(config)\n            end\n\n            -- Set the configuration as being loaded and update the disabled options.\n            self.isConfigurationLoaded = true\n            self:updateDisabledOptions()\n        end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"copyfrom",children:"copyFrom"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Copies the selection and configuration from the given style. If the given style has no loaded configuration, this\nstyle will be marked as dirty."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"copyFrom(PlayerStyle other)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"PlayerStyle"}),(0,i.jsx)(n.th,{children:"other"}),(0,i.jsx)(n.th,{children:"The style to copy from."})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function PlayerStyle:copyFrom(other)\n\n    if other = = self then\n        return\n    end\n\n    self.xmlFilename = other.xmlFilename\n    self.filename = other.filename\n\n    self.attachPoints = other.attachPoints\n\n    for configName, config in pairs(other.configs) do\n        self.configs[configName]:copyConfigurationFrom(config)\n        self.configs[configName]:copySelectionFrom(config)\n    end\n\n    -- Unify the hair colors.\n    self.configs.hairStyle:setSelectedColorIndex( self.configs.hairStyle:getSelectedColorIndex())\n\n    -- No need to copy the lists deep:they are static.Also loaded from XML configuration\n    if other.isConfigurationLoaded then\n        self.faceNeutralDiffuseColor = other.faceNeutralDiffuseColor\n\n        self.bodyParts = other.bodyParts\n        self.bodyPartIndexByName = other.bodyPartIndexByName\n\n        self.hatHairstyleIndex = other.hatHairstyleIndex\n\n        self.presets = other.presets\n        self.presetsByName = other.presetsByName\n\n        self.isConfigurationLoaded = true\n\n        self:updateDisabledOptions()\n    else\n            self.isConfigurationLoaded = false\n        end\n    end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"copyselectionfrom",children:"copySelectionFrom"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Copies the selection from the given style into this style. The actual configuration will be untouched.\nIf the configuration for this style has not been loaded or the given style is for a different configuration, this\nstyle's configuration will be marked dirty."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"copySelectionFrom(PlayerStyle other)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"PlayerStyle"}),(0,i.jsx)(n.th,{children:"other"}),(0,i.jsx)(n.th,{children:"The style to copy from."})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function PlayerStyle:copySelectionFrom(other)\n\n    -- If the other style is this, do nothing.\n        if other = = self then\n            return\n        end\n\n        -- The configuration does not need to be loaded if it was already loaded and the two styles are based on the same config.\n            self.isConfigurationLoaded = self.xmlFilename = = other.xmlFilename and self.isConfigurationLoaded\n            self.xmlFilename = other.xmlFilename\n\n            -- Copy the selection for each config.\n                for configName, config in pairs(other.configs) do\n                    self.configs[configName]:copySelectionFrom(config)\n                end\n\n                -- Unify the hair colors.\n                self.configs.hairStyle:setSelectedColorIndex( self.configs.hairStyle:getSelectedColorIndex())\n            end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"debugdraw",children:"debugDraw"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Displays the debug information."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"debugDraw(float x, float y, float textSize)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"float"}),(0,i.jsx)(n.th,{children:"x"}),(0,i.jsx)(n.th,{children:"The x position on the screen to begin drawing the values."})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"float"}),(0,i.jsx)(n.td,{children:"y"}),(0,i.jsx)(n.td,{children:"The y position on the screen to begin drawing the values."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"float"}),(0,i.jsx)(n.td,{children:"textSize"}),(0,i.jsx)(n.td,{children:"The height of the text."})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"float"}),(0,i.jsx)(n.th,{children:"y"}),(0,i.jsx)(n.th,{children:"The y position on the screen after the entire debug info was drawn."})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function PlayerStyle:debugDraw(x, y, textSize)\n\n    -- Render the header.\n    y = DebugUtil.renderTextLine(x, y, textSize * 1.25 , "Style" , nil , true )\n    y = DebugUtil.renderTextLine(x, y, textSize, string.format( "Is loaded: %s" , self.isConfigurationLoaded))\n    if self.isConfigurationLoaded then\n        y = DebugUtil.renderTextLine(x, y, textSize, self.xmlFilename)\n    end\n\n    local startX = x\n    y = DebugUtil.renderTextLine(x, y, textSize, "Config name, item id, color id:" )\n    for configName, config in pairs( self.configs) do\n        DebugUtil.renderTextLine(x, y, textSize, string.format( "%s: %d %d" , string.sub(configName, 1 , 4 ), config.selectedItemIndex, config.selectedColorIndex))\n        x = x + ( 80 * g_pixelSizeX)\n        if (x - startX) / g_pixelSizeX > 250 then\n            x = startX\n            y = y - textSize\n        end\n    end\n    x = startX\n\n    -- Return the final y value.\n    return y\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"loadconfigurationxml",children:"loadConfigurationXML"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Load player style options and configuration info from a player XML"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"loadConfigurationXML()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"xmlFilename"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function PlayerStyle:loadConfigurationXML(xmlFilename)\n\n    xmlFilename = Utils.getFilename(xmlFilename)\n\n    -- If the file has already been loaded, copy from it instead of loading the xml.\n    if PlayerSystem.PLAYER_STYLES_BY_FILENAME[xmlFilename] ~ = nil then\n        self:copyConfigurationFrom( PlayerSystem.PLAYER_STYLES_BY_FILENAME[xmlFilename].style)\n        return\n    end\n\n    -- Try to load the xml file, defaulting if it fails.\n        local xmlFile = XMLFile.loadIfExists( "player" , xmlFilename, PlayerSystem.xmlSchema)\n        if xmlFile = = nil then\n\n            -- Log an error and fall back.\n            Logging.error( "Player config does not exist at %s.Loading default instead" , xmlFilename)\n            xmlFilename = next( PlayerSystem.PLAYER_STYLES_BY_FILENAME)\n            xmlFile = XMLFile.loadIfExists( "player" , xmlFilename, PlayerSystem.xmlSchema)\n\n            -- Nothing can be done if no player exists.\n                if xmlFile = = nil then\n                    Logging.fatal( "Default player config does not exist at %s" , xmlFilename)\n                end\n            end\n\n            self.xmlFilename = xmlFilename\n            local rootKey = "player.playerStyle"\n\n            self.filename = xmlFile:getValue( "player.filename" , nil )\n\n            self.hairColors = PlayerStyle.loadColors(xmlFile, rootKey .. ".colors.hair" )\n            self.defaultClothingColors = PlayerStyle.loadColors(xmlFile, rootKey .. ".colors.clothing" )\n\n            -- Attach points\n            table.clear( self.attachPoints)\n            for _, key in xmlFile:iterator(rootKey .. ".attachPoints.attachPoint" ) do\n\n                -- Get the name of the i3d node from the node.This is used with the i3dMappings to get the desired node.\n                local nodeName = xmlFile:getValue(key .. "#node" )\n\n                -- Get the name of the attachment point.If none is given, default to the node name.\n                local name = xmlFile:getValue(key .. "#name" , nodeName)\n\n                -- Add the attachment point.\n                self.attachPoints[name] = nodeName\n            end\n\n            -- Used for moving from 1 config to another\n                local restoreFaceSelection = nil\n\n                -- Faces\n                if self.configs.face.selectedItemIndex ~ = 0 and self.configs.face:getSelectedItem() ~ = nil then\n                    restoreFaceSelection = self.configs.face:getSelectedItem().name\n                end\n\n                -- Load the configs.\n                for configName, baseKeyName in pairs( PlayerStyleConfig.CONFIG_BASE_KEY_NAMES_BY_NAME) do\n\n                    -- Keep track of the previous selection.\n                    local config = self.configs[configName]\n                    local selectedItem = config:getSelectedItem()\n                    local restoreSelectionName = selectedItem ~ = nil and selectedItem.name or nil\n                    local restoreSelectionIndex = config.selectedItemIndex\n\n                    -- Reset and reload the config.\n                    config:reset()\n                    config:loadFromXMLNode(xmlFile, rootKey, self.defaultClothingColors, self.hairColors, self.attachPoints)\n\n                    -- Try to restore the previous selection.Start with the name, making sure it exists and relates to an item.\n                    if restoreSelectionName ~ = nil and config.itemsByName[restoreSelectionName] ~ = nil then\n                        config:setSelectedItemName(restoreSelectionName)\n                        -- If there is no valid name; fall back to the index.\n                    elseif restoreSelectionIndex > 0 and restoreSelectionIndex < = #config.items then\n                            config:setSelectedItemIndex(restoreSelectionIndex)\n                        end\n                    end\n\n                    -- Set the hat hair style index to the last item with the forHat member.\n                    for i = # self.configs.hairStyle.items, 1 , - 1 do\n                        if self.configs.hairStyle.items[i].forHat then\n                            self.hatHairstyleIndex = i\n                            break\n                        end\n                    end\n\n                    table.clear( self.facesByName)\n                    for i, faceConfig in pairs( self.configs.face.items) do\n                        self.facesByName[faceConfig.name] = faceConfig\n                    end\n\n                    if restoreFaceSelection ~ = nil then\n                        self.configs.face:setSelectedItemName(restoreFaceSelection)\n                    end\n\n                    -- Nude body parts\n                    table.clear( self.bodyParts)\n                    table.clear( self.bodyPartIndexByName)\n                    for _, key in xmlFile:iterator(rootKey .. ".bodyParts.bodyPart" ) do\n\n                        -- Get the name of the i3d node from the node.This is used with the i3dMappings to get the desired node.\n                        local nodeName = xmlFile:getValue(key .. "#node" )\n\n                        -- Get the name of the body part.If none is given, default to the node name.\n                        local name = xmlFile:getValue(key .. "#name" , nodeName)\n\n                        -- Do not add the body part if it has already been defined.\n                            if self.bodyPartIndexByName[name] ~ = nil then\n                                Logging.devError( "Wardrobe body part name \'%s\' already used, skipping!" , name)\n                                continue\n                            end\n\n                            -- Add the body part.\n                            table.insert( self.bodyParts, { nodeName = nodeName, name = name } )\n                            self.bodyPartIndexByName[name] = # self.bodyParts\n                        end\n\n                        -- Load all presets.\n                        table.clear( self.presets)\n                        table.clear( self.presetsByName)\n                        for i, presetKey in xmlFile:iterator(rootKey .. ".presets.preset" ) do\n                            local preset = PlayerStylePreset.new( self.xmlFilename)\n                            preset:loadFromXMLNode(xmlFile, presetKey)\n\n                            local isValid = true\n                            for configName, configData in pairs(preset.configs) do\n                                local itemName = configData.selectionName\n\n                                local config = self.configs[configName]\n\n                                if itemName ~ = "keepCurrent" and config.itemsByName[itemName] = = nil then\n                                    isValid = false\n                                    Logging.xmlWarning(xmlFile, "Style preset with name \'%s\' uses item \'%s\' for \'%s\' which does not exist!" , preset.name, itemName, configName)\n                                    end\n                                end\n\n                                if isValid then\n                                    if self.presetsByName[preset.name] ~ = nil then\n                                        Logging.xmlError(xmlFile, "Style preset with name \'%s\' has already been defined!" , preset.name)\n                                    else\n                                            table.insert( self.presets, preset)\n                                            self.presetsByName[preset.name] = preset\n                                        end\n                                    end\n                                end\n\n                                -- Set the style as having loaded, and close the file.\n                                self.isConfigurationLoaded = true\n                                xmlFile:delete()\n                            end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"new",children:"new"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Creating manager"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"new()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"customMt"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"instance"}),(0,i.jsx)(n.th,{children:"instance of object"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function PlayerStyle.new(customMt)\n    local self = setmetatable( { } , customMt or PlayerStyle _mt)\n\n    self.disabledOptionsForSelection = { }\n\n    -- The clothing presets(outfits).\n    self.presets = { }\n    self.presetsByName = { }\n\n    -- The attachment point paths keyed by name.\n    self.attachPoints = { }\n\n    -- The body part names and paths of the player model.\n    self.bodyParts = { }\n    self.bodyPartIndexByName = { }\n\n    -- The face configs keyed by name.\n    self.facesByName = { }\n\n    -- Is true if the configuration file(the Player0X.xml) has been loaded; otherwise false.\n        self.isConfigurationLoaded = false\n\n        -- Initialise the basic configs.\n        self.configs = { }\n        self.orderedConfigs = { }\n        self:addConfig( PlayerStyleConfig.new( self , "hairStyle" , { PlayerStyleConfig.NOT_FOR_HAT_GETTER_FILTER } , false , true , true ))\n        self:addConfig( PlayerStyleConfig.new( self , "glasses" , { PlayerStyleConfig.ENABLED_GETTER_FILTER, PlayerStyleConfig.SELECTED_GETTER_FILTER } , true ))\n        self:addConfig( PlayerStyleConfig.new( self , "headgear" , { PlayerStyleConfig.ENABLED_GETTER_FILTER, PlayerStyleConfig.NOT_HIDDEN_GETTER_FILTER } ))\n        self:addConfig( PlayerStyleConfig.new( self , "facegear" ))\n        self:addConfig( PlayerStyleConfig.new( self , "face" ))\n        self:addConfig( PlayerStyleConfig.new( self , "beard" , { PlayerStyleConfig.ENABLED_GETTER_FILTER, PlayerStyleConfig.BEARD_FACE_GETTER_FILTER } , false , false , true ))\n        self:addConfig( PlayerStyleConfig.new( self , "top" , { PlayerStyleConfig.ENABLED_GETTER_FILTER, PlayerStyleConfig.NO_ONEPIECE_GETTER_FILTER } ))\n        self:addConfig( PlayerStyleConfig.new( self , "gloves" , { PlayerStyleConfig.ENABLED_GETTER_FILTER, PlayerStyleConfig.NOT_HIDDEN_GETTER_FILTER } ))\n        self:addConfig( PlayerStyleConfig.new( self , "bottom" , { PlayerStyleConfig.ENABLED_GETTER_FILTER, PlayerStyleConfig.NO_ONEPIECE_GETTER_FILTER } ))\n        self:addConfig( PlayerStyleConfig.new( self , "footwear" , { PlayerStyleConfig.ENABLED_GETTER_FILTER } ))\n        self:addConfig( PlayerStyleConfig.new( self , "onepiece" , { PlayerStyleConfig.ENABLED_GETTER_FILTER, PlayerStyleConfig.SELECTED_GETTER_FILTER } , true ))\n\n        -- Unify the hair colors.\n        self.configs.hairStyle:setSelectedColorIndex( self.configs.hairStyle:getSelectedColorIndex())\n\n        -- Start with a face and hair.\n        self.configs.face.selectedItemIndex = 1\n        self.configs.hairStyle.selectedItemIndex = 2\n\n        return self\n    end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"readstream",children:"readStream"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Reads from network stream"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"readStream(integer streamId, table connection)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"integer"}),(0,i.jsx)(n.th,{children:"streamId"}),(0,i.jsx)(n.th,{children:"id of the stream to read"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"table"}),(0,i.jsx)(n.td,{children:"connection"}),(0,i.jsx)(n.td,{children:"connection information"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function PlayerStyle:readStream(streamId, connection)\n\n    self.xmlFilename = NetworkUtil.convertFromNetworkFilename(streamReadString(streamId))\n\n    -- If the configuration needs to be loaded; do so.This is required as selections are saved by name, and the config allows the names to be mapped to indices.\n        self:loadConfigurationIfRequired()\n\n        for _, config in ipairs( self.orderedConfigs) do\n            config:readStream(streamId, connection)\n        end\n\n        self:updateDisabledOptions()\n\n        -- Unify the hair colors.\n        self.configs.hairStyle:setSelectedColorIndex( self.configs.hairStyle:getSelectedColorIndex())\n    end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"writestream",children:"writeStream"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Writes in network stream"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"writeStream(integer streamId, table connection)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"integer"}),(0,i.jsx)(n.th,{children:"streamId"}),(0,i.jsx)(n.th,{children:"id of the stream to read"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"table"}),(0,i.jsx)(n.td,{children:"connection"}),(0,i.jsx)(n.td,{children:"connection information"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function PlayerStyle:writeStream(streamId, connection)\n    streamWriteString(streamId, NetworkUtil.convertToNetworkFilename( self.xmlFilename))\n\n    for _, config in ipairs( self.orderedConfigs) do\n        config:writeStream(streamId, connection)\n    end\nend\n\n"})})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}}}]);