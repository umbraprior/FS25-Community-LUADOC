"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[66906],{28453(e,n,r){r.d(n,{R:()=>s,x:()=>l});var o=r(96540);const t={},i=o.createContext(t);function s(e){const n=o.useContext(i);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),o.createElement(i.Provider,{value:n},e.children)}},99997(e,n,r){r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>s,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"script/Specializations/PowerConsumer","title":"PowerConsumer","description":"PowerConsumer","source":"@site/../docs/script/Specializations/PowerConsumer.md","sourceDirName":"script/Specializations","slug":"/script/Specializations/PowerConsumer","permalink":"/FS25-Community-LUADOC/script/Specializations/PowerConsumer","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"PlowPacker","permalink":"/FS25-Community-LUADOC/script/Specializations/PlowPacker"},"next":{"title":"PowerTakeOffs","permalink":"/FS25-Community-LUADOC/script/Specializations/PowerTakeOffs"}}');var t=r(74848),i=r(28453);const s={},l=void 0,d={},c=[{value:"PowerConsumer",id:"powerconsumer",level:2},{value:"consoleSetPowerConsumer",id:"consolesetpowerconsumer",level:3},{value:"getCanBeTurnedOn",id:"getcanbeturnedon",level:3},{value:"getCanBeTurnedOnAll",id:"getcanbeturnedonall",level:3},{value:"getConsumedPtoTorque",id:"getconsumedptotorque",level:3},{value:"getConsumingLoad",id:"getconsumingload",level:3},{value:"getDoConsumePtoPower",id:"getdoconsumeptopower",level:3},{value:"getMaxPtoRpm",id:"getmaxptorpm",level:3},{value:"getPowerMultiplier",id:"getpowermultiplier",level:3},{value:"getPtoRpm",id:"getptorpm",level:3},{value:"getRawSpeedLimit",id:"getrawspeedlimit",level:3},{value:"getSpecValueNeededPower",id:"getspecvalueneededpower",level:3},{value:"getTotalConsumedPtoTorque",id:"gettotalconsumedptotorque",level:3},{value:"getTurnedOnNotAllowedWarning",id:"getturnedonnotallowedwarning",level:3},{value:"initSpecialization",id:"initspecialization",level:3},{value:"loadPowerSetup",id:"loadpowersetup",level:3},{value:"loadSpecValueNeededPower",id:"loadspecvalueneededpower",level:3},{value:"loadWorkModeFromXML",id:"loadworkmodefromxml",level:3},{value:"onLoad",id:"onload",level:3},{value:"onStateChange",id:"onstatechange",level:3},{value:"onTurnedOn",id:"onturnedon",level:3},{value:"onUpdate",id:"onupdate",level:3},{value:"onWorkModeChanged",id:"onworkmodechanged",level:3},{value:"prerequisitesPresent",id:"prerequisitespresent",level:3},{value:"registerEventListeners",id:"registereventlisteners",level:3},{value:"registerFunctions",id:"registerfunctions",level:3},{value:"registerOverwrittenFunctions",id:"registeroverwrittenfunctions",level:3},{value:"registerPowerConsumerXMLPaths",id:"registerpowerconsumerxmlpaths",level:3}];function a(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"powerconsumer",children:"PowerConsumer"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Specialization for vehicles consuming power (via pto or pulling force)"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Functions"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#consolesetpowerconsumer",children:"consoleSetPowerConsumer"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#getcanbeturnedon",children:"getCanBeTurnedOn"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#getcanbeturnedonall",children:"getCanBeTurnedOnAll"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#getconsumedptotorque",children:"getConsumedPtoTorque"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#getconsumingload",children:"getConsumingLoad"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#getdoconsumeptopower",children:"getDoConsumePtoPower"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#getmaxptorpm",children:"getMaxPtoRpm"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#getpowermultiplier",children:"getPowerMultiplier"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#getptorpm",children:"getPtoRpm"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#getrawspeedlimit",children:"getRawSpeedLimit"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#getspecvalueneededpower",children:"getSpecValueNeededPower"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#gettotalconsumedptotorque",children:"getTotalConsumedPtoTorque"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#getturnedonnotallowedwarning",children:"getTurnedOnNotAllowedWarning"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#initspecialization",children:"initSpecialization"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#loadpowersetup",children:"loadPowerSetup"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#loadspecvalueneededpower",children:"loadSpecValueNeededPower"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#loadworkmodefromxml",children:"loadWorkModeFromXML"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#onload",children:"onLoad"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#onstatechange",children:"onStateChange"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#onturnedon",children:"onTurnedOn"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#onupdate",children:"onUpdate"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#onworkmodechanged",children:"onWorkModeChanged"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#prerequisitespresent",children:"prerequisitesPresent"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#registereventlisteners",children:"registerEventListeners"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#registerfunctions",children:"registerFunctions"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#registeroverwrittenfunctions",children:"registerOverwrittenFunctions"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#registerpowerconsumerxmlpaths",children:"registerPowerConsumerXMLPaths"})}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"consolesetpowerconsumer",children:"consoleSetPowerConsumer"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"consoleSetPowerConsumer()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"neededMinPtoPower"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"neededMaxPtoPower"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"forceFactor"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"maxForce"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"forceDir"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"ptoRpm"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function PowerConsumer:consoleSetPowerConsumer(neededMinPtoPower, neededMaxPtoPower, forceFactor, maxForce, forceDir, ptoRpm)\n    if neededMinPtoPower = = nil then\n        return "No arguments given! Usage:gsPowerConsumerSet <neededMinPtoPower> <neededMaxPtoPower> <forceFactor> <maxForce> <forceDir> <ptoRpm>"\n    end\n    local object\n    if g_currentMission ~ = nil and g_localPlayer:getCurrentVehicle() ~ = nil then\n        if g_localPlayer:getCurrentVehicle():getSelectedImplement() ~ = nil and g_localPlayer:getCurrentVehicle():getSelectedImplement().object.spec_powerConsumer ~ = nil then\n            object = g_localPlayer:getCurrentVehicle():getSelectedImplement().object\n        end\n    end\n    if object = = nil then\n        return "No vehicle with powerConsumer specialization selected"\n    end\n\n    object.spec_powerConsumer.neededMinPtoPower = Utils.getNoNil(neededMinPtoPower, object.spec_powerConsumer.neededMinPtoPower)\n    object.spec_powerConsumer.neededMaxPtoPower = Utils.getNoNil(neededMaxPtoPower, object.spec_powerConsumer.neededMaxPtoPower)\n    object.spec_powerConsumer.forceFactor = Utils.getNoNil(forceFactor, object.spec_powerConsumer.forceFactor)\n    object.spec_powerConsumer.maxForce = Utils.getNoNil(maxForce, object.spec_powerConsumer.maxForce)\n    object.spec_powerConsumer.forceDir = Utils.getNoNil(forceDir, object.spec_powerConsumer.forceDir)\n    object.spec_powerConsumer.ptoRpm = Utils.getNoNil(ptoRpm, object.spec_powerConsumer.ptoRpm)\n\n    for _, veh in pairs(g_currentMission.vehicleSystem.vehicles) do\n        if veh.configFileName = = object.configFileName then\n            veh.spec_powerConsumer.neededMinPtoPower = object.spec_powerConsumer.neededMinPtoPower\n            veh.spec_powerConsumer.neededMaxPtoPower = object.spec_powerConsumer.neededMaxPtoPower\n            veh.spec_powerConsumer.forceFactor = object.spec_powerConsumer.forceFactor\n            veh.spec_powerConsumer.maxForce = object.spec_powerConsumer.maxForce\n            veh.spec_powerConsumer.forceDir = object.spec_powerConsumer.forceDir\n            veh.spec_powerConsumer.ptoRpm = object.spec_powerConsumer.ptoRpm\n        end\n    end\n\n    return string.format( "Updated power consumer for \'%s\'" , object.configFileName)\n    end\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"getcanbeturnedon",children:"getCanBeTurnedOn"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Returns if turn on is allowed"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"getCanBeTurnedOn()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"allow"}),(0,t.jsx)(n.th,{children:"allow turn on"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function PowerConsumer:getCanBeTurnedOn(superFunc)\n    local rootVehicle = self.rootVehicle\n    if rootVehicle ~ = nil and rootVehicle.getMotor ~ = nil then\n        local rootMotor = rootVehicle:getMotor()\n\n        local torqueRequested, _ = self:getConsumedPtoTorque( true )\n        local totalTorque, _ = PowerConsumer.getTotalConsumedPtoTorque(rootVehicle, self )\n        torqueRequested = torqueRequested + totalTorque\n        torqueRequested = torqueRequested / rootMotor:getPtoMotorRpmRatio()\n\n        -- 90% of motor torque should be more than requested torque, because we need some torque to accelerate the vehicle\n        if torqueRequested > 0 and torqueRequested > 0.9 * rootMotor:getPeakTorque() then\n            if not self:getIsTurnedOn() then\n                return false , true\n            end\n        end\n    end\n\n    if superFunc ~ = nil then\n        return superFunc( self )\n    else\n            return true , false\n        end\n    end\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"getcanbeturnedonall",children:"getCanBeTurnedOnAll"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Returns if all vehicles can be turned on"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"getCanBeTurnedOnAll()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"canBeTurnedOn"}),(0,t.jsx)(n.th,{children:"all vehicles can be turned on"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function PowerConsumer:getCanBeTurnedOnAll(superFunc)\n    if not superFunc( self ) then\n        return false\n    end\n\n    local rootVehicle = self.rootVehicle\n    if rootVehicle ~ = nil and rootVehicle.getMotor ~ = nil then\n        local rootMotor = rootVehicle:getMotor()\n\n        local torqueRequested, _ = PowerConsumer.getTotalConsumedPtoTorque(rootVehicle, nil , true )\n        torqueRequested = torqueRequested / rootMotor:getPtoMotorRpmRatio()\n\n        -- 90% of motor torque should be more than requested torque, because we need some torque to accelerate the vehicle\n        if torqueRequested > 0 and torqueRequested > 0.9 * rootMotor:getPeakTorque() then\n            if not self:getIsTurnedOn() then\n                return false , self.spec_powerConsumer.turnOnNotAllowedWarning\n            end\n        end\n    end\n\n    return true , false\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"getconsumedptotorque",children:"getConsumedPtoTorque"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Returns consumed pto torque"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"getConsumedPtoTorque()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"expected"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"ignoreTurnOnPeak"})]})})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"torque"}),(0,t.jsx)(n.th,{children:"consumed pto torque in kNm"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function PowerConsumer:getConsumedPtoTorque(expected, ignoreTurnOnPeak)\n    if self:getDoConsumePtoPower() or(expected ~ = nil and expected) then\n        local spec = self.spec_powerConsumer\n\n        local rpm = spec.ptoRpm\n        if rpm > 0.001 then\n            local consumingLoad, count = self:getConsumingLoad()\n            if count > 0 then\n                consumingLoad = consumingLoad / count\n            else\n                    consumingLoad = 1\n                end\n\n                local turnOnPeakPowerMultiplier = math.max( math.max( math.min(spec.turnOnPeakPowerTimer / spec.turnOnPeakPowerDuration, 1 ), 0 ) * spec.turnOnPeakPowerMultiplier, 1 )\n                if ignoreTurnOnPeak = = true then\n                    turnOnPeakPowerMultiplier = 1\n                end\n\n                local neededPtoPower = spec.neededMinPtoPower + (consumingLoad * (spec.neededMaxPtoPower - spec.neededMinPtoPower))\n                return neededPtoPower / (rpm * math.pi / 30 ), spec.virtualPowerMultiplicator * turnOnPeakPowerMultiplier\n            end\n        end\n\n        return 0 , 1\n    end\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"getconsumingload",children:"getConsumingLoad"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"getConsumingLoad()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function PowerConsumer:getConsumingLoad()\n    return 0 , 0\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"getdoconsumeptopower",children:"getDoConsumePtoPower"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Returns if should consume pto power"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"getDoConsumePtoPower()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"consume"}),(0,t.jsx)(n.th,{children:"consumePtoPower"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function PowerConsumer:getDoConsumePtoPower()\n    return self.spec_powerConsumer.useTurnOnState and self.getIsTurnedOn ~ = nil and self:getIsTurnedOn()\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"getmaxptorpm",children:"getMaxPtoRpm"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Returns max pto rpm"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"getMaxPtoRpm()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"self"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"maxPtoRpm"}),(0,t.jsx)(n.th,{children:"max pto rpm"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function PowerConsumer.getMaxPtoRpm( self )\n    local rpm = 0\n\n    if self.getPtoRpm ~ = nil then\n        rpm = self:getPtoRpm()\n    end\n\n    if self.getAttachedImplements ~ = nil then\n        local attachedImplements = self:getAttachedImplements()\n        for _, implement in pairs(attachedImplements) do\n            rpm = math.max(rpm, PowerConsumer.getMaxPtoRpm(implement.object))\n        end\n    end\n\n    return rpm\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"getpowermultiplier",children:"getPowerMultiplier"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Returns power multiplier"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"getPowerMultiplier()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"powerMultiplier"}),(0,t.jsx)(n.th,{children:"current power multiplier"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function PowerConsumer:getPowerMultiplier()\n    return 1\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"getptorpm",children:"getPtoRpm"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Returns rpm of pto"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"getPtoRpm()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"rpm"}),(0,t.jsx)(n.th,{children:"rpm of pto"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function PowerConsumer:getPtoRpm()\n    if self:getDoConsumePtoPower() then\n        return self.spec_powerConsumer.ptoRpm\n    end\n\n    return 0\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"getrawspeedlimit",children:"getRawSpeedLimit"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"getRawSpeedLimit()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function PowerConsumer:getRawSpeedLimit(superFunc)\n    local rawSpeedLimit = superFunc( self )\n\n    local spec = self.spec_powerConsumer\n    for i = #spec.speedLimitModifier, 1 , - 1 do\n        local modifier = spec.speedLimitModifier[i]\n        if spec.sourceMotorPeakPower > = modifier.minPowerKw and spec.sourceMotorPeakPower < = modifier.maxPowerKw then\n            return rawSpeedLimit + modifier.offset\n        end\n    end\n\n    return rawSpeedLimit\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"getspecvalueneededpower",children:"getSpecValueNeededPower"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Returns needed power spec value"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"getSpecValueNeededPower(table storeItem, table realItem, , , , )"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"table"}),(0,t.jsx)(n.th,{children:"storeItem"}),(0,t.jsx)(n.th,{children:"store item"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"table"}),(0,t.jsx)(n.td,{children:"realItem"}),(0,t.jsx)(n.td,{children:"real item"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"configurations"}),(0,t.jsx)(n.td,{})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"saleItem"}),(0,t.jsx)(n.td,{})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"returnValues"}),(0,t.jsx)(n.td,{})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"returnRange"}),(0,t.jsx)(n.td,{})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"l10n"}),(0,t.jsx)(n.th,{children:"l10n text"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"neededPower"}),(0,t.jsx)(n.td,{children:"needed power in kw"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"neededPower"}),(0,t.jsx)(n.td,{children:"needed power in hp"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function PowerConsumer.getSpecValueNeededPower(storeItem, realItem, configurations, saleItem, returnValues, returnRange)\n    if storeItem.specs.neededPower ~ = nil then\n        local minPower, maxPower = math.huge, - math.huge\n        for _, value in pairs(storeItem.specs.neededPower.config) do\n            minPower = math.min(minPower, value)\n            maxPower = math.max(maxPower, value)\n        end\n\n        if minPower = = math.huge then\n            minPower = storeItem.specs.neededPower.base or 0\n            maxPower = storeItem.specs.neededPower.maxPower\n        end\n\n        if minPower = = 0 then\n            return nil\n        end\n\n        if maxPower = = nil or minPower = = maxPower then\n            local hp, kw = g_i18n:getPower(minPower)\n            return string.format(g_i18n:getText( "shop_neededPowerValue" ), MathUtil.round(kw), MathUtil.round(hp))\n        else\n                local minHP, _ = g_i18n:getPower(minPower)\n                local maxHP, _ = g_i18n:getPower(maxPower)\n                return string.format(g_i18n:getText( "shop_neededPowerValueMinMax" ), MathUtil.round(minHP), MathUtil.round(maxHP))\n            end\n        end\n        return nil\n    end\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"gettotalconsumedptotorque",children:"getTotalConsumedPtoTorque"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Get total amount of consumed pto torque (from every attached vehicle)"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"getTotalConsumedPtoTorque(table? excludeVehicle, boolean? expected, boolean? ignoreTurnOnPeak, )"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"table?"}),(0,t.jsx)(n.th,{children:"excludeVehicle"}),(0,t.jsx)(n.th,{children:"exluded vehicle"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"boolean?"}),(0,t.jsx)(n.td,{children:"expected"}),(0,t.jsx)(n.td,{children:"expected torque"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"boolean?"}),(0,t.jsx)(n.td,{children:"ignoreTurnOnPeak"}),(0,t.jsx)(n.td,{})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"ignoreTurnOnPeak"}),(0,t.jsx)(n.td,{})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"torque"}),(0,t.jsx)(n.th,{children:"total amount of consumed pto torque in kNm"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"virtualMultiplicator"}),(0,t.jsx)(n.td,{children:"virtual multiplicator"})]})})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function PowerConsumer.getTotalConsumedPtoTorque( self , excludeVehicle, expected, ignoreTurnOnPeak)\n    local torque, virtualMultiplicator = 0 , 1\n    if self ~ = excludeVehicle then\n        if self.getConsumedPtoTorque ~ = nil then\n            torque, virtualMultiplicator = self:getConsumedPtoTorque(expected, ignoreTurnOnPeak)\n        end\n    end\n\n    if self.getAttachedImplements ~ = nil then\n        local attachedImplements = self:getAttachedImplements()\n        for _, implement in pairs(attachedImplements) do\n            local implementTorque, implementMultiplicator = PowerConsumer.getTotalConsumedPtoTorque(implement.object, excludeVehicle, expected, ignoreTurnOnPeak)\n            torque = torque + implementTorque\n\n            if torque = = 0 then\n                virtualMultiplicator = implementMultiplicator\n            else\n                    local ratio = implementTorque / torque\n                    virtualMultiplicator = virtualMultiplicator * ( 1 - ratio) + implementMultiplicator * ratio\n                end\n            end\n        end\n\n        return torque, virtualMultiplicator\n    end\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"getturnedonnotallowedwarning",children:"getTurnedOnNotAllowedWarning"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Returns turn on not allowed warning text"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"getTurnedOnNotAllowedWarning()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"warningText"}),(0,t.jsx)(n.th,{children:"turn on not allowed warning text"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function PowerConsumer:getTurnedOnNotAllowedWarning(superFunc)\n    local spec = self.spec_powerConsumer\n    local _, notEnoughPower = PowerConsumer.getCanBeTurnedOn( self )\n    if notEnoughPower then\n        return spec.turnOnNotAllowedWarning\n    else\n            return superFunc( self )\n        end\n    end\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"initspecialization",children:"initSpecialization"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"initSpecialization()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function PowerConsumer.initSpecialization()\n    g_vehicleConfigurationManager:addConfigurationType( "powerConsumer" , g_i18n:getText( "configuration_powerConsumer" ), "powerConsumer" , VehicleConfigurationItem )\n\n    g_storeManager:addSpecType( "neededPower" , "shopListAttributeIconPowerReq" , PowerConsumer.loadSpecValueNeededPower, PowerConsumer.getSpecValueNeededPower, StoreSpecies.VEHICLE)\n\n    local schema = Vehicle.xmlSchema\n    schema:setXMLSpecializationType( "PowerConsumer" )\n\n    PowerConsumer.registerPowerConsumerXMLPaths(schema, "vehicle.powerConsumer" )\n    PowerConsumer.registerPowerConsumerXMLPaths(schema, "vehicle.powerConsumer.powerConsumerConfigurations.powerConsumerConfiguration(?)" )\n\n    schema:register(XMLValueType.INT, "vehicle.storeData.specs.neededPower" , "Needed power" )\n    schema:register(XMLValueType.INT, "vehicle.storeData.specs.neededPower#maxPower" , "Max.recommended power" )\n    schema:register(XMLValueType.INT, "vehicle.powerConsumer.powerConsumerConfigurations.powerConsumerConfiguration(?)#neededPower" , "Needed power" )\n\n    schema:addDelayedRegistrationFunc( "WorkMode:workMode" , function (cSchema, cKey)\n        cSchema:register(XMLValueType.FLOAT, cKey .. "#forceScale" , "Scale the powerConsumer force up or down" , 1 )\n        cSchema:register(XMLValueType.FLOAT, cKey .. "#ptoPowerScale" , "Scale the powerConsumer pto power up or down" , 1 )\n    end )\n\n    schema:setXMLSpecializationType()\nend\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"loadpowersetup",children:"loadPowerSetup"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Called on loading"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"loadPowerSetup(table savegame, )"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"table"}),(0,t.jsx)(n.th,{children:"savegame"}),(0,t.jsx)(n.th,{children:"savegame"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"baseKey"}),(0,t.jsx)(n.td,{})]})})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function PowerConsumer:loadPowerSetup(xmlFile, baseKey)\n    local spec = self.spec_powerConsumer\n\n    XMLUtil.checkDeprecatedXMLElements(xmlFile, baseKey .. "#neededPtoPower" , string.format( "%s#neededMinPtoPower and %s#neededMaxPtoPower" , baseKey, baseKey))\n\n    spec.neededMaxPtoPower = xmlFile:getValue(baseKey .. "#neededMaxPtoPower" , 0 )\n    spec.neededMinPtoPower = xmlFile:getValue(baseKey .. "#neededMinPtoPower" , spec.neededMaxPtoPower) -- in kW at ptoRpm\n    if spec.neededMaxPtoPower < spec.neededMinPtoPower then\n        Logging.xmlWarning( self.xmlFile, "\'%s#neededMaxPtoPower\' is smaller than \'%s#neededMinPtoPower\'" , baseKey, baseKey)\n    end\n\n    spec.ptoRpm = xmlFile:getValue(baseKey .. "#ptoRpm" , 0 )\n    spec.virtualPowerMultiplicator = xmlFile:getValue(baseKey .. "#virtualPowerMultiplicator" , 1 )\nend\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"loadspecvalueneededpower",children:"loadSpecValueNeededPower"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Loads needed power spec value"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"loadSpecValueNeededPower(XMLFile xmlFile, string customEnvironment, )"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"XMLFile"}),(0,t.jsx)(n.th,{children:"xmlFile"}),(0,t.jsx)(n.th,{children:"XMLFile instance"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"string"}),(0,t.jsx)(n.td,{children:"customEnvironment"}),(0,t.jsx)(n.td,{children:"custom environment"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"baseDir"}),(0,t.jsx)(n.td,{})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"neededPower"}),(0,t.jsx)(n.th,{children:"needed power"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function PowerConsumer.loadSpecValueNeededPower(xmlFile, customEnvironment, baseDir)\n    local neededPower = { }\n    neededPower.base = xmlFile:getValue( "vehicle.storeData.specs.neededPower" )\n    neededPower.maxPower = xmlFile:getValue( "vehicle.storeData.specs.neededPower#maxPower" )\n    neededPower.config = { }\n\n    local i = 0\n    while true do\n        local baseKey = string.format( "vehicle.powerConsumer.powerConsumerConfigurations.powerConsumerConfiguration(%d)" , i)\n        if not xmlFile:hasProperty(baseKey) then\n            break\n        end\n\n        neededPower.config[i + 1 ] = xmlFile:getValue(baseKey .. "#neededPower" )\n\n        i = i + 1\n    end\n\n    return neededPower\nend\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"loadworkmodefromxml",children:"loadWorkModeFromXML"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"loadWorkModeFromXML()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"superFunc"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"xmlFile"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"key"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"workMode"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function PowerConsumer:loadWorkModeFromXML(superFunc, xmlFile, key, workMode)\n    if not superFunc( self , xmlFile, key, workMode) then\n        return false\n    end\n\n    workMode.forceScale = xmlFile:getValue(key .. "#forceScale" , 1 )\n    workMode.ptoPowerScale = xmlFile:getValue(key .. "#ptoPowerScale" , 1 )\n\n    return true\nend\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"onload",children:"onLoad"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Called on loading"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"onLoad(table savegame)"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"table"}),(0,t.jsx)(n.th,{children:"savegame"}),(0,t.jsx)(n.th,{children:"savegame"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function PowerConsumer:onLoad(savegame)\n    local spec = self.spec_powerConsumer\n\n    local foldingConfigurationId = Utils.getNoNil( self.configurations[ "powerConsumer" ], 1 )\n    local configKey = string.format( "vehicle.powerConsumer.powerConsumerConfigurations.powerConsumerConfiguration(%d)" , foldingConfigurationId - 1 )\n\n    if not self.xmlFile:hasProperty(configKey) then\n        configKey = "vehicle.powerConsumer"\n    end\n\n    spec.forceNode = self.xmlFile:getValue(configKey .. "#forceNode" , nil , self.components, self.i3dMappings)\n    spec.forceDirNode = self.xmlFile:getValue(configKey .. "#forceDirNode" , spec.forceNode, self.components, self.i3dMappings)\n    spec.forceFactor = self.xmlFile:getValue(configKey .. "#forceFactor" , 1.0 )\n\n    spec.maxForce = self.xmlFile:getValue(configKey .. "#maxForce" , 0 ) -- kN\n    spec.forceDir = self.xmlFile:getValue(configKey .. "#forceDir" , 1 )\n\n    spec.useTurnOnState = self.xmlFile:getValue(configKey .. "#useTurnOnState" , true )\n\n    spec.turnOnNotAllowedWarning = string.format( self.xmlFile:getValue(configKey .. "#turnOnNotAllowedWarning" , "warning_insufficientPowerOutput" , self.customEnvironment), self.typeDesc)\n\n    self:loadPowerSetup( self.xmlFile, configKey)\n\n    spec.speedLimitModifier = { }\n    spec.sourceMotorPeakPower = math.huge\n\n    spec.turnOnPeakPowerMultiplier = self.xmlFile:getValue(configKey .. "#turnOnPeakPowerMultiplier" , 3 )\n    spec.turnOnPeakPowerDuration = self.xmlFile:getValue(configKey .. "#turnOnPeakPowerDuration" , 2.5 )\n    spec.turnOnPeakPowerTimer = - 1\n\n    self.xmlFile:iterate(configKey .. ".speedLimitModifier" , function (index, key)\n        local entry = { }\n        entry.offset = self.xmlFile:getValue(key .. "#offset" )\n\n        if entry.offset ~ = nil then\n            entry.minPowerKw = self.xmlFile:getValue(key .. "#minPowerHp" , 0 ) * 0.735499\n            entry.maxPowerKw = self.xmlFile:getValue(key .. "#maxPowerHp" , 0 ) * 0.735499\n            table.insert(spec.speedLimitModifier, entry)\n        else\n                Logging.xmlWarning( self.xmlFile, "Invalid offset found for \'%s\'" , key)\n                end\n            end )\n\n            if #spec.speedLimitModifier = = 0 then\n                SpecializationUtil.removeEventListener( self , "onPostDetach" , PowerConsumer )\n            end\n        end\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"onstatechange",children:"onStateChange"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"onStateChange()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"state"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"data"})]})})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function PowerConsumer:onStateChange(state, data)\n    if state = = VehicleStateChange.ATTACH or state = = VehicleStateChange.DETACH then\n        local spec = self.spec_powerConsumer\n        local rootVehicle = self.rootVehicle\n        if rootVehicle ~ = nil and rootVehicle.getMotor ~ = nil then\n            local rootMotor = rootVehicle:getMotor()\n            spec.sourceMotorPeakPower = rootMotor.peakMotorPower\n        else\n                spec.sourceMotorPeakPower = math.huge\n            end\n        end\n    end\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"onturnedon",children:"onTurnedOn"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"onTurnedOn()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function PowerConsumer:onTurnedOn()\n    self.spec_powerConsumer.turnOnPeakPowerTimer = self.spec_powerConsumer.turnOnPeakPowerDuration * 1.5\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"onupdate",children:"onUpdate"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Called on update"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"onUpdate(float dt, boolean isActiveForInput, boolean isSelected, )"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"float"}),(0,t.jsx)(n.th,{children:"dt"}),(0,t.jsx)(n.th,{children:"time since last call in ms"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"boolean"}),(0,t.jsx)(n.td,{children:"isActiveForInput"}),(0,t.jsx)(n.td,{children:"true if vehicle is active for input"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"boolean"}),(0,t.jsx)(n.td,{children:"isSelected"}),(0,t.jsx)(n.td,{children:"true if vehicle is selected"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"isSelected"}),(0,t.jsx)(n.td,{})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function PowerConsumer:onUpdate(dt, isActiveForInput, isActiveForInputIgnoreSelection, isSelected)\n    if self.isActive then\n        local spec = self.spec_powerConsumer\n\n        if spec.forceNode ~ = nil and self.movingDirection = = spec.forceDir and self.lastSpeedReal > 0.0001 then\n            local multiplier = self:getPowerMultiplier()\n            if multiplier ~ = 0 then\n                local frictionForce = spec.forceFactor * self.lastSpeedReal * 1000 * self:getTotalMass( false ) / (dt / 1000 )\n\n                local force = - math.min(frictionForce, spec.maxForce) * self.movingDirection * multiplier\n                local dx,dy,dz = localDirectionToWorld(spec.forceDirNode, 0 , 0 , force)\n                local px,py,pz = getCenterOfMass(spec.forceNode)\n\n                addForce(spec.forceNode, dx,dy,dz, px,py,pz, true )\n\n                if (VehicleDebug.state = = VehicleDebug.DEBUG_PHYSICS or VehicleDebug.state = = VehicleDebug.DEBUG_TUNING) and self.isActiveForInputIgnoreSelectionIgnoreAI then\n                    local str = string.format( "frictionForce = %.2f maxForce = %.2f -> force = %.2f" , frictionForce, spec.maxForce, force)\n                    renderText( 0.7 , 0.85 , getCorrectTextSize( 0.02 ), str)\n                end\n            end\n        end\n\n        if spec.turnOnPeakPowerTimer > 0 then\n            spec.turnOnPeakPowerTimer = spec.turnOnPeakPowerTimer - dt\n        end\n    end\nend\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"onworkmodechanged",children:"onWorkModeChanged"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"onWorkModeChanged()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"workMode"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"oldWorkMode"})]})})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function PowerConsumer:onWorkModeChanged(workMode, oldWorkMode)\n    if workMode.forceScale ~ = nil then\n        local spec = self.spec_powerConsumer\n        if spec.maxForceOrig = = nil then\n            spec.maxForceOrig = spec.maxForce\n            spec.neededMinPtoPowerOrig = spec.neededMinPtoPower\n            spec.neededMaxPtoPowerOrig = spec.neededMaxPtoPower\n        end\n\n        spec.maxForce = spec.maxForceOrig * workMode.forceScale\n        spec.neededMinPtoPower = spec.neededMinPtoPowerOrig * workMode.forceScale\n        spec.neededMaxPtoPower = spec.neededMaxPtoPowerOrig * workMode.forceScale\n    end\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"prerequisitespresent",children:"prerequisitesPresent"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Checks if all prerequisite specializations are loaded"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"prerequisitesPresent(table specializations)"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"table"}),(0,t.jsx)(n.th,{children:"specializations"}),(0,t.jsx)(n.th,{children:"specializations"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"table"}),(0,t.jsx)(n.th,{children:"hasPrerequisite"}),(0,t.jsx)(n.th,{children:"true if all prerequisite specializations are loaded"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function PowerConsumer.prerequisitesPresent(specializations)\n    return true\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"registereventlisteners",children:"registerEventListeners"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"registerEventListeners()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function PowerConsumer.registerEventListeners(vehicleType)\n    SpecializationUtil.registerEventListener(vehicleType, "onLoad" , PowerConsumer )\n    SpecializationUtil.registerEventListener(vehicleType, "onUpdate" , PowerConsumer )\n    SpecializationUtil.registerEventListener(vehicleType, "onStateChange" , PowerConsumer )\n    SpecializationUtil.registerEventListener(vehicleType, "onWorkModeChanged" , PowerConsumer )\n    SpecializationUtil.registerEventListener(vehicleType, "onTurnedOn" , PowerConsumer )\nend\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"registerfunctions",children:"registerFunctions"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"registerFunctions()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function PowerConsumer.registerFunctions(vehicleType)\n    SpecializationUtil.registerFunction(vehicleType, "loadPowerSetup" , PowerConsumer.loadPowerSetup)\n    SpecializationUtil.registerFunction(vehicleType, "getPtoRpm" , PowerConsumer.getPtoRpm)\n    SpecializationUtil.registerFunction(vehicleType, "getDoConsumePtoPower" , PowerConsumer.getDoConsumePtoPower)\n    SpecializationUtil.registerFunction(vehicleType, "getPowerMultiplier" , PowerConsumer.getPowerMultiplier)\n    SpecializationUtil.registerFunction(vehicleType, "getConsumedPtoTorque" , PowerConsumer.getConsumedPtoTorque)\n    SpecializationUtil.registerFunction(vehicleType, "getConsumingLoad" , PowerConsumer.getConsumingLoad)\nend\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"registeroverwrittenfunctions",children:"registerOverwrittenFunctions"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"registerOverwrittenFunctions()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function PowerConsumer.registerOverwrittenFunctions(vehicleType)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getCanBeTurnedOn" , PowerConsumer.getCanBeTurnedOn)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getCanBeTurnedOnAll" , PowerConsumer.getCanBeTurnedOnAll)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getTurnedOnNotAllowedWarning" , PowerConsumer.getTurnedOnNotAllowedWarning)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getRawSpeedLimit" , PowerConsumer.getRawSpeedLimit)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "loadWorkModeFromXML" , PowerConsumer.loadWorkModeFromXML)\nend\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"registerpowerconsumerxmlpaths",children:"registerPowerConsumerXMLPaths"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"registerPowerConsumerXMLPaths()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"schema"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"basePath"})]})})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function PowerConsumer.registerPowerConsumerXMLPaths(schema, basePath)\n    schema:register(XMLValueType.NODE_INDEX, basePath .. "#forceNode" , "Force node" )\n    schema:register(XMLValueType.NODE_INDEX, basePath .. "#forceDirNode" , "Force node" , "Force node" )\n    schema:register(XMLValueType.FLOAT, basePath .. "#forceFactor" , "Force factor" , 1 )\n\n    schema:register(XMLValueType.FLOAT, basePath .. "#maxForce" , "Max.force(kN)" , 0 )\n    schema:register(XMLValueType.FLOAT, basePath .. "#forceDir" , "Force direction" , 1 )\n\n    schema:register(XMLValueType.BOOL, basePath .. "#useTurnOnState" , "While vehicle is turned on the vehicle consumes the pto power" , true )\n\n    schema:register(XMLValueType.FLOAT, basePath .. "#turnOnPeakPowerMultiplier" , "While turning the tool on a short peak power with this multiplier is consumed" , 3 )\n    schema:register(XMLValueType.TIME, basePath .. "#turnOnPeakPowerDuration" , "Duration for peak power while turning on(sec)" , 2 )\n\n        schema:register(XMLValueType.L10N_STRING, basePath .. "#turnOnNotAllowedWarning" , "Turn on not allowed text" , "warning_insufficientPowerOutput" )\n\n        schema:register(XMLValueType.FLOAT, basePath .. "#neededMaxPtoPower" , "Needed max.pto power" , 0 )\n        schema:register(XMLValueType.FLOAT, basePath .. "#neededMinPtoPower" , "Needed min.pto power" , "neededMaxPtoPower" )\n        schema:register(XMLValueType.FLOAT, basePath .. "#ptoRpm" , "Pto rpm" , 0 )\n        schema:register(XMLValueType.FLOAT, basePath .. "#virtualPowerMultiplicator" , "Virtual multiplicator for pto power to increased the motor load without reducing the available power for driving" , 1 )\n\n            schema:register(XMLValueType.FLOAT, basePath .. ".speedLimitModifier(?)#offset" , "Speed limit offset to apply" )\n            schema:register(XMLValueType.FLOAT, basePath .. ".speedLimitModifier(?)#minPowerHp" , "Min.power in HP of root motor" , 0 )\n            schema:register(XMLValueType.FLOAT, basePath .. ".speedLimitModifier(?)#maxPowerHp" , "Max.power in HP of root motor" , 0 )\n        end\n\n'})})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}}}]);