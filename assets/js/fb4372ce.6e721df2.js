"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[55451],{28453(e,n,i){i.d(n,{R:()=>t,x:()=>a});var l=i(96540);const r={},s=l.createContext(r);function t(e){const n=l.useContext(s);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),l.createElement(s.Provider,{value:n},e.children)}},95649(e,n,i){i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>p,frontMatter:()=>t,metadata:()=>l,toc:()=>c});const l=JSON.parse('{"id":"script/Specializations/InlineWrapper","title":"InlineWrapper","description":"InlineWrapper","source":"@site/../docs/script/Specializations/InlineWrapper.md","sourceDirName":"script/Specializations","slug":"/script/Specializations/InlineWrapper","permalink":"/FS25-Community-LUADOC/script/Specializations/InlineWrapper","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"IKChains","permalink":"/FS25-Community-LUADOC/script/Specializations/IKChains"},"next":{"title":"JigglingParts","permalink":"/FS25-Community-LUADOC/script/Specializations/JigglingParts"}}');var r=i(74848),s=i(28453);const t={},a=void 0,d={},c=[{value:"InlineWrapper",id:"inlinewrapper",level:2},{value:"getAllowBalePushing",id:"getallowbalepushing",level:3},{value:"getBrakeForce",id:"getbrakeforce",level:3},{value:"getCanInteract",id:"getcaninteract",level:3},{value:"getCanPushOff",id:"getcanpushoff",level:3},{value:"getCurrentInlineBale",id:"getcurrentinlinebale",level:3},{value:"getIsActive",id:"getisactive",level:3},{value:"getIsFoldAllowed",id:"getisfoldallowed",level:3},{value:"getIsInlineBalingAllowed",id:"getisinlinebalingallowed",level:3},{value:"getShowConsumableEmptyWarning",id:"getshowconsumableemptywarning",level:3},{value:"getSpecValueBaleSize",id:"getspecvaluebalesize",level:3},{value:"getSpecValueBaleSizeRound",id:"getspecvaluebalesizeround",level:3},{value:"getSpecValueBaleSizeSquare",id:"getspecvaluebalesizesquare",level:3},{value:"getWrapperBaleType",id:"getwrapperbaletype",level:3},{value:"initSpecialization",id:"initspecialization",level:3},{value:"inlineBaleTriggerCallback",id:"inlinebaletriggercallback",level:3},{value:"inlineWrapTriggerCallback",id:"inlinewraptriggercallback",level:3},{value:"loadSpecValueBaleSize",id:"loadspecvaluebalesize",level:3},{value:"loadSpecValueBaleSizeRound",id:"loadspecvaluebalesizeround",level:3},{value:"loadSpecValueBaleSizeSquare",id:"loadspecvaluebalesizesquare",level:3},{value:"onConsumableVariationChanged",id:"onconsumablevariationchanged",level:3},{value:"onDelete",id:"ondelete",level:3},{value:"onDraw",id:"ondraw",level:3},{value:"onEnterVehicle",id:"onentervehicle",level:3},{value:"onLeaveVehicle",id:"onleavevehicle",level:3},{value:"onLoad",id:"onload",level:3},{value:"onPostLoad",id:"onpostload",level:3},{value:"onReadStream",id:"onreadstream",level:3},{value:"onReadUpdateStream",id:"onreadupdatestream",level:3},{value:"onRegisterActionEvents",id:"onregisteractionevents",level:3},{value:"onUpdate",id:"onupdate",level:3},{value:"onUpdateTick",id:"onupdatetick",level:3},{value:"onWriteStream",id:"onwritestream",level:3},{value:"onWriteUpdateStream",id:"onwriteupdatestream",level:3},{value:"prerequisitesPresent",id:"prerequisitespresent",level:3},{value:"pushOffInlineBale",id:"pushoffinlinebale",level:3},{value:"pushOffInlineBaleEvent",id:"pushoffinlinebaleevent",level:3},{value:"readInlineBales",id:"readinlinebales",level:3},{value:"registerEventListeners",id:"registereventlisteners",level:3},{value:"registerFunctions",id:"registerfunctions",level:3},{value:"registerOverwrittenFunctions",id:"registeroverwrittenfunctions",level:3},{value:"setCurrentInlineBale",id:"setcurrentinlinebale",level:3},{value:"updateInlineSteeringWheels",id:"updateinlinesteeringwheels",level:3},{value:"updateRoundBaleWrappingNode",id:"updateroundbalewrappingnode",level:3},{value:"updateSquareBaleWrappingNode",id:"updatesquarebalewrappingnode",level:3},{value:"updateWrapperRailings",id:"updatewrapperrailings",level:3},{value:"updateWrappingNodes",id:"updatewrappingnodes",level:3},{value:"writeInlineBales",id:"writeinlinebales",level:3}];function o(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"inlinewrapper",children:"InlineWrapper"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Class for inline wrappers"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Functions"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#getallowbalepushing",children:"getAllowBalePushing"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#getbrakeforce",children:"getBrakeForce"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#getcaninteract",children:"getCanInteract"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#getcanpushoff",children:"getCanPushOff"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#getcurrentinlinebale",children:"getCurrentInlineBale"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#getisactive",children:"getIsActive"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#getisfoldallowed",children:"getIsFoldAllowed"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#getisinlinebalingallowed",children:"getIsInlineBalingAllowed"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#getshowconsumableemptywarning",children:"getShowConsumableEmptyWarning"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#getspecvaluebalesize",children:"getSpecValueBaleSize"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#getspecvaluebalesizeround",children:"getSpecValueBaleSizeRound"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#getspecvaluebalesizesquare",children:"getSpecValueBaleSizeSquare"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#getwrapperbaletype",children:"getWrapperBaleType"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#initspecialization",children:"initSpecialization"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#inlinebaletriggercallback",children:"inlineBaleTriggerCallback"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#inlinewraptriggercallback",children:"inlineWrapTriggerCallback"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#loadspecvaluebalesize",children:"loadSpecValueBaleSize"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#loadspecvaluebalesizeround",children:"loadSpecValueBaleSizeRound"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#loadspecvaluebalesizesquare",children:"loadSpecValueBaleSizeSquare"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#onconsumablevariationchanged",children:"onConsumableVariationChanged"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#ondelete",children:"onDelete"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#ondraw",children:"onDraw"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#onentervehicle",children:"onEnterVehicle"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#onleavevehicle",children:"onLeaveVehicle"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#onload",children:"onLoad"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#onpostload",children:"onPostLoad"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#onreadstream",children:"onReadStream"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#onreadupdatestream",children:"onReadUpdateStream"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#onregisteractionevents",children:"onRegisterActionEvents"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#onupdate",children:"onUpdate"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#onupdatetick",children:"onUpdateTick"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#onwritestream",children:"onWriteStream"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#onwriteupdatestream",children:"onWriteUpdateStream"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#prerequisitespresent",children:"prerequisitesPresent"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#pushoffinlinebale",children:"pushOffInlineBale"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#pushoffinlinebaleevent",children:"pushOffInlineBaleEvent"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#readinlinebales",children:"readInlineBales"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#registereventlisteners",children:"registerEventListeners"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#registerfunctions",children:"registerFunctions"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#registeroverwrittenfunctions",children:"registerOverwrittenFunctions"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#setcurrentinlinebale",children:"setCurrentInlineBale"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#updateinlinesteeringwheels",children:"updateInlineSteeringWheels"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#updateroundbalewrappingnode",children:"updateRoundBaleWrappingNode"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#updatesquarebalewrappingnode",children:"updateSquareBaleWrappingNode"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#updatewrapperrailings",children:"updateWrapperRailings"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#updatewrappingnodes",children:"updateWrappingNodes"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#writeinlinebales",children:"writeInlineBales"})}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"getallowbalepushing",children:"getAllowBalePushing"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"getAllowBalePushing()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,r.jsx)(n.table,{children:(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"any"}),(0,r.jsx)(n.th,{children:"bale"})]})})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function InlineWrapper:getAllowBalePushing(bale)\n    if bale.dynamicMountJointIndex ~ = nil then\n        return false\n    end\n\n    return true\nend\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"getbrakeforce",children:"getBrakeForce"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"getBrakeForce()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,r.jsx)(n.table,{children:(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"any"}),(0,r.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function InlineWrapper:getBrakeForce(superFunc)\n    local spec = self.spec_inlineWrapper\n    if spec.releaseBrake then\n        spec.releaseBrakeSet = spec.releaseBrake\n        return 0\n    end\n\n    return superFunc( self )\nend\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"getcaninteract",children:"getCanInteract"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"getCanInteract()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function InlineWrapper:getCanInteract()\n\n    local localPlayer = g_localPlayer\n    if localPlayer:getIsInVehicle() then\n        return false\n    end\n\n    if not g_currentMission.accessHandler:canPlayerAccess( self ) then\n        return false\n    end\n\n    local x1, y1, z1 = localPlayer:getPosition()\n    local x2, y2, z2 = getWorldTranslation( self.components[ 1 ].node)\n\n    local distance = MathUtil.vector3Length(x1 - x2, y1 - y2, z1 - z2)\n\n    return distance < InlineWrapper.INTERACTION_RADIUS\nend\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"getcanpushoff",children:"getCanPushOff"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"getCanPushOff()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function InlineWrapper:getCanPushOff()\n    local spec = self.spec_inlineWrapper\n\n    local currentInlineBale = self:getCurrentInlineBale()\n    if currentInlineBale = = nil then\n        return false\n    end\n\n    if currentInlineBale:getPendingBale() ~ = nil then\n        return false\n    end\n\n    if self:getIsAnimationPlaying(spec.animations.pusher) then\n        return false\n    end\n\n    if self:getIsAnimationPlaying(spec.animations.pushOff) then\n        return false\n    end\n\n    return true\nend\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"getcurrentinlinebale",children:"getCurrentInlineBale"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"getCurrentInlineBale()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function InlineWrapper:getCurrentInlineBale()\n    return NetworkUtil.getObject( self.spec_inlineWrapper.currentInlineBale)\nend\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"getisactive",children:"getIsActive"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"getIsActive()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,r.jsx)(n.table,{children:(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"any"}),(0,r.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function InlineWrapper:getIsActive(superFunc)\n    local spec = self.spec_inlineWrapper\n    if spec.releaseBrake or spec.releaseBrake ~ = spec.releaseBrakeSet then\n        return true\n    end\n\n    return superFunc( self )\nend\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"getisfoldallowed",children:"getIsFoldAllowed"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"getIsFoldAllowed()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"any"}),(0,r.jsx)(n.th,{children:"superFunc"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"direction"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"onAiTurnOn"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function InlineWrapper:getIsFoldAllowed(superFunc, direction, onAiTurnOn)\n    local spec = self.spec_inlineWrapper\n    if next(spec.enteredInlineBales) ~ = nil then\n        return false\n    end\n\n    return superFunc( self , direction, onAiTurnOn)\nend\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"getisinlinebalingallowed",children:"getIsInlineBalingAllowed"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"getIsInlineBalingAllowed()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function InlineWrapper:getIsInlineBalingAllowed()\n    local spec = self.spec_inlineWrapper\n\n    local foldTime = self:getFoldAnimTime()\n    if foldTime < spec.minFoldTime or foldTime > spec.maxFoldTime then\n        return false\n    end\n\n    if self:getIsAnimationPlaying(spec.animations.pusher) then\n        return false\n    end\n\n    if self:getIsAnimationPlaying(spec.animations.pushOff) or self:getAnimationTime(spec.animations.pushOff) > 0 then\n        return false\n    end\n\n    return self:getConsumableIsAvailable( InlineWrapper.CONSUMABLE_TYPE_NAME)\nend\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"getshowconsumableemptywarning",children:"getShowConsumableEmptyWarning"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"getShowConsumableEmptyWarning()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"any"}),(0,r.jsx)(n.th,{children:"superFunc"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"typeName"})]})})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function InlineWrapper:getShowConsumableEmptyWarning(superFunc, typeName)\n    if typeName = = InlineWrapper.CONSUMABLE_TYPE_NAME then\n        if superFunc( self , typeName) then\n            local spec = self.spec_inlineWrapper\n            if next(spec.pendingSingleBales) ~ = nil then\n                local foldTime = self:getFoldAnimTime()\n                if foldTime > = spec.minFoldTime or foldTime < = spec.maxFoldTime then\n                    return true\n                end\n            end\n\n            return false\n        end\n    end\n\n    return superFunc( self , typeName)\nend\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"getspecvaluebalesize",children:"getSpecValueBaleSize"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"getSpecValueBaleSize()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"any"}),(0,r.jsx)(n.th,{children:"storeItem"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"realItem"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"configurations"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"saleItem"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"returnValues"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"returnRange"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"roundBaleWrapper"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'function InlineWrapper.getSpecValueBaleSize(storeItem, realItem, configurations, saleItem, returnValues, returnRange, roundBaleWrapper)\n    local baleSizeAttributes = roundBaleWrapper and storeItem.specs.inlineWrapperBaleSizeRound or storeItem.specs.inlineWrapperBaleSizeSquare\n    if baleSizeAttributes ~ = nil then\n        local minValue = roundBaleWrapper and baleSizeAttributes.minDiameter or baleSizeAttributes.minLength\n        local maxValue = roundBaleWrapper and baleSizeAttributes.maxDiameter or baleSizeAttributes.maxLength\n\n        if returnValues = = nil or not returnValues then\n            local unit = g_i18n:getText( "unit_cmShort" )\n            local size\n            if maxValue ~ = minValue then\n                size = string.format( "%d%s-%d%s" , minValue * 100 , unit, maxValue * 100 , unit)\n            else\n                    size = string.format( "%d%s" , minValue * 100 , unit)\n                end\n\n                return size\n            else\n                    if returnRange = = true and maxValue ~ = minValue then\n                        return minValue * 100 , maxValue * 100 , g_i18n:getText( "unit_cmShort" )\n                    else\n                            return minValue * 100 , g_i18n:getText( "unit_cmShort" )\n                        end\n                    end\n                else\n                        if returnValues and returnRange then\n                            return 0 , 0 , ""\n                        elseif returnValues then\n                                return 0 , ""\n                            else\n                                    return ""\n                                end\n                            end\n                        end\n\n'})}),"\n",(0,r.jsx)(n.h3,{id:"getspecvaluebalesizeround",children:"getSpecValueBaleSizeRound"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"getSpecValueBaleSizeRound()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"any"}),(0,r.jsx)(n.th,{children:"storeItem"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"realItem"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"configurations"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"saleItem"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"returnValues"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"returnRange"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function InlineWrapper.getSpecValueBaleSizeRound(storeItem, realItem, configurations, saleItem, returnValues, returnRange)\n    if storeItem.specs.inlineWrapperBaleSizeRound ~ = nil then\n        return InlineWrapper.getSpecValueBaleSize(storeItem, realItem, configurations, saleItem, returnValues, returnRange, true )\n    end\n\n    return nil\nend\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"getspecvaluebalesizesquare",children:"getSpecValueBaleSizeSquare"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"getSpecValueBaleSizeSquare()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"any"}),(0,r.jsx)(n.th,{children:"storeItem"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"realItem"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"configurations"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"saleItem"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"returnValues"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"returnRange"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function InlineWrapper.getSpecValueBaleSizeSquare(storeItem, realItem, configurations, saleItem, returnValues, returnRange)\n    if storeItem.specs.inlineWrapperBaleSizeSquare ~ = nil then\n        return InlineWrapper.getSpecValueBaleSize(storeItem, realItem, configurations, saleItem, returnValues, returnRange, false )\n    end\n\n    return nil\nend\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"getwrapperbaletype",children:"getWrapperBaleType"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"getWrapperBaleType()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,r.jsx)(n.table,{children:(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"any"}),(0,r.jsx)(n.th,{children:"bale"})]})})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function InlineWrapper:getWrapperBaleType(bale)\n    local spec = self.spec_inlineWrapper\n\n    for _, baleType in pairs(spec.baleTypes) do\n        if bale:getSupportsWrapping() then\n            if bale.isRoundbale then\n                if baleType.isRoundBale then\n                    if bale.diameter = = baleType.diameter\n                        and bale.width = = baleType.width then\n                        return baleType\n                    end\n                end\n            else\n                    if not baleType.isRoundBale then\n                        if bale.width = = baleType.width\n                            and bale.height = = baleType.height\n                            and bale.length = = baleType.length then\n                            return baleType\n                        end\n                    end\n                end\n            end\n        end\n\n        return nil\n    end\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"initspecialization",children:"initSpecialization"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Called on specialization initializing"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"initSpecialization()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'function InlineWrapper.initSpecialization()\n    g_storeManager:addSpecType( "inlineWrapperBaleSizeRound" , "shopListAttributeIconBaleWrapperBaleSizeRound" , InlineWrapper.loadSpecValueBaleSizeRound, InlineWrapper.getSpecValueBaleSizeRound, StoreSpecies.VEHICLE)\n    g_storeManager:addSpecType( "inlineWrapperBaleSizeSquare" , "shopListAttributeIconBaleWrapperBaleSizeSquare" , InlineWrapper.loadSpecValueBaleSizeSquare, InlineWrapper.getSpecValueBaleSizeSquare, StoreSpecies.VEHICLE)\n\n    local schema = Vehicle.xmlSchema\n    schema:setXMLSpecializationType( "InlineWrapper" )\n\n    schema:register(XMLValueType.NODE_INDEX, "vehicle.inlineWrapper.baleTrigger#node" , "Bale pickup trigger" )\n    schema:register(XMLValueType.FLOAT, "vehicle.inlineWrapper.baleTrigger#minFoldTime" , "Min.folding time for bale pickup" , 0 )\n        schema:register(XMLValueType.FLOAT, "vehicle.inlineWrapper.baleTrigger#maxFoldTime" , "Max.folding time for bale pickup" , 1 )\n            schema:register(XMLValueType.NODE_INDEX, "vehicle.inlineWrapper.wrapTrigger#node" , "Wrap trigger" )\n\n            schema:register(XMLValueType.NODE_INDEX, "vehicle.inlineWrapper.baleTypes.baleType(?)#startNode" , "Start placement node for bale" )\n                schema:register(XMLValueType.FLOAT, "vehicle.inlineWrapper.baleTypes.baleType(?)#wrapUsage" , "Usage of wrap rolls per minute" , 0.1 )\n                schema:register(XMLValueType.FLOAT, "vehicle.inlineWrapper.baleTypes.baleType(?).railing#width" , "Railing width to set" )\n                schema:register(XMLValueType.STRING, "vehicle.inlineWrapper.baleTypes.baleType(?).inlineBale#filename" , "Path to inline bale xml file" )\n\n                schema:register(XMLValueType.FLOAT, "vehicle.inlineWrapper.baleTypes.baleType(?).size#diameter" , "Bale diameter" )\n                schema:register(XMLValueType.FLOAT, "vehicle.inlineWrapper.baleTypes.baleType(?).size#width" , "Bale width" )\n                schema:register(XMLValueType.FLOAT, "vehicle.inlineWrapper.baleTypes.baleType(?).size#height" , "Bale height" )\n                schema:register(XMLValueType.FLOAT, "vehicle.inlineWrapper.baleTypes.baleType(?).size#length" , "Bale length" )\n\n                schema:register(XMLValueType.STRING, "vehicle.inlineWrapper.railings#animation" , "Railing animation" )\n                schema:register(XMLValueType.FLOAT, "vehicle.inlineWrapper.railings#animStartX" , "Railing width at start of animation" )\n                schema:register(XMLValueType.FLOAT, "vehicle.inlineWrapper.railings#animEndX" , "Railing width at end of animation" )\n                schema:register(XMLValueType.FLOAT, "vehicle.inlineWrapper.railings#defaultX" , "Default railing width" , 1 )\n\n                schema:register(XMLValueType.NODE_INDEX, "vehicle.inlineWrapper.wrapping#startNode" , "Reference node for wrapping state of bale" )\n\n                    schema:register(XMLValueType.NODE_INDEX, "vehicle.inlineWrapper.steeringNodes.steeringNode(?)#node" , "Steering node that is aligned to the start wrapping direction" )\n\n                    schema:register(XMLValueType.NODE_INDEX, "vehicle.inlineWrapper.wrappingNodes.wrappingNode(?)#node" , "Wrapping node" )\n                    schema:register(XMLValueType.NODE_INDEX, "vehicle.inlineWrapper.wrappingNodes.wrappingNode(?)#target" , "Target node that is aligned to the bale" )\n                    schema:register(XMLValueType.VECTOR_TRANS, "vehicle.inlineWrapper.wrappingNodes.wrappingNode(?)#startTrans" , "Start translation" )\n\n                    schema:register(XMLValueType.STRING, "vehicle.inlineWrapper.animations#pusher" , "Pusher animation" , "pusherAnimation" )\n                    schema:register(XMLValueType.STRING, "vehicle.inlineWrapper.animations#wrapping" , "Wrapping animation" , "wrappingAnimation" )\n                    schema:register(XMLValueType.STRING, "vehicle.inlineWrapper.animations#pushOff" , "Push bale off animation" , "pushOffAnimation" )\n\n                    schema:register(XMLValueType.STRING, "vehicle.inlineWrapper.pushing#brakeForce" , "Brake force while pushing" , 0 )\n                        schema:register(XMLValueType.FLOAT, "vehicle.inlineWrapper.pushing#openBrakeTime" , "Pusher animation time to open brake" , 0.1 )\n                        schema:register(XMLValueType.FLOAT, "vehicle.inlineWrapper.pushing#closeBrakeTime" , "Pusher animation time to close brake" , 0.5 )\n                        schema:register(XMLValueType.INT, "vehicle.inlineWrapper.pushing#minBaleAmount" , "Min.bales wrapped to open brake" , 4 )\n\n                        schema:register(XMLValueType.FLOAT, "vehicle.inlineWrapper#baleMovedThreshold" , "Bale moved threshold for starting wrapping animation" , 0.05 )\n                            schema:register(XMLValueType.INT, "vehicle.inlineWrapper#numObjectBits" , "Num bits for sending bales" , 4 )\n\n                                SoundManager.registerSampleXMLPaths(schema, "vehicle.inlineWrapper.sounds" , "wrap" )\n                                SoundManager.registerSampleXMLPaths(schema, "vehicle.inlineWrapper.sounds" , "start" )\n                                SoundManager.registerSampleXMLPaths(schema, "vehicle.inlineWrapper.sounds" , "stop" )\n\n                                schema:setXMLSpecializationType()\n                            end\n\n'})}),"\n",(0,r.jsx)(n.h3,{id:"inlinebaletriggercallback",children:"inlineBaleTriggerCallback"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"inlineBaleTriggerCallback()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"any"}),(0,r.jsx)(n.th,{children:"triggerId"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"otherActorId"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"onEnter"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"onLeave"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"onStay"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"otherShapeId"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function InlineWrapper:inlineBaleTriggerCallback(triggerId, otherActorId, onEnter, onLeave, onStay, otherShapeId)\n    if self.isServer then\n        local object = g_currentMission:getNodeObject(otherActorId)\n        if object ~ = nil and object:isa( Bale ) then\n            local objectId = NetworkUtil.getObjectId(object)\n            local spec = self.spec_inlineWrapper\n            if onEnter then\n                if not object:isa( InlineBaleSingle ) then\n                    if self:getWrapperBaleType(object) ~ = nil then\n                        spec.pendingSingleBales[objectId] = objectId\n                    else\n                            spec.pendingIncompatibleBales[objectId] = objectId\n                        end\n                    else\n                            spec.enteredInlineBales[objectId] = objectId\n\n                            -- set wrapper and wrapping node again if the bale reenteres\n                                local connectedInlineBale = object:getConnectedInlineBale()\n                                if connectedInlineBale ~ = nil then\n                                    connectedInlineBale:setCurrentWrapperInfo( self , spec.wrappingStartNode)\n                                else\n                                        -- add information to inline bale if the bale was added to the inline bale(while loading)\n                                            object.inlineWrapperToAdd = { wrapper = self , wrappingNode = spec.wrappingStartNode }\n                                        end\n                                    end\n                                elseif onLeave then\n                                        spec.pendingSingleBales[objectId] = nil\n                                        spec.pendingIncompatibleBales[objectId] = nil\n                                        spec.enteredInlineBales[objectId] = nil\n\n                                        if object:isa( InlineBaleSingle ) then\n                                            local connectedInlineBale = object:getConnectedInlineBale()\n                                            if connectedInlineBale ~ = nil then\n                                                local bales = connectedInlineBale:getBales()\n                                                local removeFromWrapper = true\n                                                for _, bale in ipairs(bales) do\n                                                    local baleId = NetworkUtil.getObjectId(bale)\n                                                    if spec.pendingSingleBales[baleId] ~ = nil or\n                                                        spec.enteredInlineBales[baleId] ~ = nil then\n                                                        removeFromWrapper = false\n                                                        break\n                                                    end\n                                                end\n\n                                                if removeFromWrapper then\n                                                    connectedInlineBale:setCurrentWrapperInfo( nil , nil )\n                                                    self:setCurrentInlineBale( nil )\n                                                end\n                                            end\n                                        end\n                                    end\n\n                                    self:raiseDirtyFlags(spec.inlineBalesDirtyFlag)\n                                end\n                            end\n                        end\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"inlinewraptriggercallback",children:"inlineWrapTriggerCallback"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"inlineWrapTriggerCallback()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"any"}),(0,r.jsx)(n.th,{children:"triggerId"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"otherActorId"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"onEnter"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"onLeave"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"onStay"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"otherShapeId"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function InlineWrapper:inlineWrapTriggerCallback(triggerId, otherActorId, onEnter, onLeave, onStay, otherShapeId)\n    if self.isServer then\n        local object = g_currentMission:getNodeObject(otherActorId)\n        if object ~ = nil and object:isa( Bale ) then\n            local spec = self.spec_inlineWrapper\n            local objectId = NetworkUtil.getObjectId(object)\n            if onEnter then\n                spec.enteredBalesToWrap[objectId] = objectId\n            elseif onLeave then\n                    spec.enteredBalesToWrap[objectId] = nil\n                end\n\n                self:raiseActive()\n                self:raiseDirtyFlags(spec.inlineBalesDirtyFlag)\n            end\n        end\n    end\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"loadspecvaluebalesize",children:"loadSpecValueBaleSize"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"loadSpecValueBaleSize()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"any"}),(0,r.jsx)(n.th,{children:"xmlFile"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"customEnvironment"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"baseDir"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"roundBaleWrapper"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'function InlineWrapper.loadSpecValueBaleSize(xmlFile, customEnvironment, baseDir, roundBaleWrapper)\n    local rootName = xmlFile:getRootName()\n\n    local baleSizeAttributes = { }\n    baleSizeAttributes.minDiameter, baleSizeAttributes.maxDiameter = math.huge, - math.huge\n    baleSizeAttributes.minLength, baleSizeAttributes.maxLength = math.huge, - math.huge\n    xmlFile:iterate(rootName .. ".inlineWrapper.baleTypes.baleType" , function (_, key)\n        local diameter = MathUtil.round(xmlFile:getValue(key .. ".size#diameter" , 0 ), 2 )\n        if roundBaleWrapper and diameter ~ = 0 then\n            baleSizeAttributes.minDiameter = math.min(baleSizeAttributes.minDiameter, diameter)\n            baleSizeAttributes.maxDiameter = math.max(baleSizeAttributes.maxDiameter, diameter)\n        end\n\n        local length = MathUtil.round(xmlFile:getValue(key .. ".size#length" , 0 ), 2 )\n        if not roundBaleWrapper and length ~ = 0 then\n            baleSizeAttributes.minLength = math.min(baleSizeAttributes.minLength, length)\n            baleSizeAttributes.maxLength = math.max(baleSizeAttributes.maxLength, length)\n        end\n    end )\n\n    if baleSizeAttributes.minDiameter ~ = math.huge or baleSizeAttributes.minLength ~ = math.huge then\n        return baleSizeAttributes\n    end\n\n    return nil\nend\n\n'})}),"\n",(0,r.jsx)(n.h3,{id:"loadspecvaluebalesizeround",children:"loadSpecValueBaleSizeRound"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"loadSpecValueBaleSizeRound()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"any"}),(0,r.jsx)(n.th,{children:"xmlFile"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"customEnvironment"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"baseDir"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function InlineWrapper.loadSpecValueBaleSizeRound(xmlFile, customEnvironment, baseDir)\n    return InlineWrapper.loadSpecValueBaleSize(xmlFile, customEnvironment, baseDir, true )\nend\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"loadspecvaluebalesizesquare",children:"loadSpecValueBaleSizeSquare"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"loadSpecValueBaleSizeSquare()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"any"}),(0,r.jsx)(n.th,{children:"xmlFile"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"customEnvironment"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"baseDir"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function InlineWrapper.loadSpecValueBaleSizeSquare(xmlFile, customEnvironment, baseDir)\n    return InlineWrapper.loadSpecValueBaleSize(xmlFile, customEnvironment, baseDir, false )\nend\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"onconsumablevariationchanged",children:"onConsumableVariationChanged"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Called while the consumable variation changed on the consum slots"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"onConsumableVariationChanged()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"any"}),(0,r.jsx)(n.th,{children:"variationIndex"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"metaData"})]})})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function InlineWrapper:onConsumableVariationChanged(variationIndex, metaData)\n    if metaData.color ~ = nil then\n        local spec = self.spec_inlineWrapper\n        spec.wrapColor[ 1 ] = metaData.color[ 1 ]\n        spec.wrapColor[ 2 ] = metaData.color[ 2 ]\n        spec.wrapColor[ 3 ] = metaData.color[ 3 ]\n    end\nend\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"ondelete",children:"onDelete"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Called on deleting"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"onDelete()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function InlineWrapper:onDelete()\n    local spec = self.spec_inlineWrapper\n    if spec.triggerNode ~ = nil then\n        removeTrigger(spec.triggerNode)\n    end\n    if spec.wrapTriggerNode ~ = nil then\n        removeTrigger(spec.wrapTriggerNode)\n    end\n\n    g_soundManager:deleteSamples(spec.samples)\n\n    g_currentMission.activatableObjectsSystem:removeActivatable(spec.activatable)\n\n    local inlineBale = self:getCurrentInlineBale()\n    if inlineBale ~ = nil then\n        inlineBale:wakeUp( 50 )\n        inlineBale:setWrappingState( 1 )\n        inlineBale:setCurrentWrapperInfo( nil , nil )\n        self:setCurrentInlineBale( nil )\n    end\nend\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"ondraw",children:"onDraw"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Called on draw"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"onDraw()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"any"}),(0,r.jsx)(n.th,{children:"isActiveForInput"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"isActiveForInputIgnoreSelection"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"isSelected"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'function InlineWrapper:onDraw(isActiveForInput, isActiveForInputIgnoreSelection, isSelected)\n    if self.isClient then\n        local spec = self.spec_inlineWrapper\n        if next(spec.pendingSingleBales) ~ = nil then\n            local foldTime = self:getFoldAnimTime()\n            if foldTime < spec.minFoldTime or foldTime > spec.maxFoldTime then\n                g_currentMission:showBlinkingWarning( self.spec_foldable.unfoldWarning, 500 )\n            end\n        end\n\n        if spec.showIncompatibleBalesWarning then\n            g_currentMission:showBlinkingWarning(g_i18n:getText( "warning_baleNotSupported" ), 500 )\n        end\n    end\nend\n\n'})}),"\n",(0,r.jsx)(n.h3,{id:"onentervehicle",children:"onEnterVehicle"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"onEnterVehicle()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function InlineWrapper:onEnterVehicle()\n    local spec = self.spec_inlineWrapper\n    for _, steeringNode in ipairs(spec.steeringNodes) do\n        setRotation(steeringNode.node, unpack(steeringNode.startRot))\n\n        if self.setMovingToolDirty ~ = nil then\n            self:setMovingToolDirty(steeringNode.node)\n        end\n    end\nend\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"onleavevehicle",children:"onLeaveVehicle"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"onLeaveVehicle()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function InlineWrapper:onLeaveVehicle()\n    self.rotatedTime = 0\nend\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"onload",children:"onLoad"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Called on loading"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"onLoad(table savegame)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,r.jsx)(n.table,{children:(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"table"}),(0,r.jsx)(n.th,{children:"savegame"}),(0,r.jsx)(n.th,{children:"savegame"})]})})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'function InlineWrapper:onLoad(savegame)\n    local spec = self.spec_inlineWrapper\n\n    local baseKey = "vehicle.inlineWrapper"\n\n    spec.triggerNode = self.xmlFile:getValue(baseKey .. ".baleTrigger#node" , nil , self.components, self.i3dMappings)\n    if spec.triggerNode ~ = nil then\n        addTrigger(spec.triggerNode, "inlineBaleTriggerCallback" , self )\n    end\n\n    spec.wrapTriggerNode = self.xmlFile:getValue(baseKey .. ".wrapTrigger#node" , nil , self.components, self.i3dMappings)\n    if spec.wrapTriggerNode ~ = nil then\n        addTrigger(spec.wrapTriggerNode, "inlineWrapTriggerCallback" , self )\n    end\n\n    spec.minFoldTime = self.xmlFile:getValue(baseKey .. ".baleTrigger#minFoldTime" , 0 )\n    spec.maxFoldTime = self.xmlFile:getValue(baseKey .. ".baleTrigger#maxFoldTime" , 1 )\n\n    spec.wrapColor = { 1 , 1 , 1 }\n\n    spec.baleTypes = { }\n    self.xmlFile:iterate(baseKey .. ".baleTypes.baleType" , function (index, key)\n        local entry = { }\n        entry.startNode = self.xmlFile:getValue(key .. "#startNode" , nil , self.components, self.i3dMappings)\n        if entry.startNode ~ = nil then\n            entry.railingWidth = self.xmlFile:getValue(key .. ".railing#width" )\n            entry.wrapUsage = self.xmlFile:getValue(key .. "#wrapUsage" , 0.1 ) / 60 / 1000\n\n            entry.inlineBaleFilename = Utils.getFilename( self.xmlFile:getValue(key .. ".inlineBale#filename" ), self.baseDirectory)\n            if entry.inlineBaleFilename ~ = nil then\n                entry.diameter = MathUtil.round( self.xmlFile:getValue(key .. ".size#diameter" , 0 ), 2 )\n                entry.width = MathUtil.round( self.xmlFile:getValue(key .. ".size#width" , 0 ), 2 )\n                entry.isRoundBale = entry.diameter ~ = 0\n                if not entry.isRoundBale then\n                    entry.height = MathUtil.round( self.xmlFile:getValue(key .. ".size#height" , 0 ), 2 )\n                    entry.length = MathUtil.round( self.xmlFile:getValue(key .. ".size#length" , 0 ), 2 )\n                end\n\n                entry.index = #spec.baleTypes + 1\n\n                table.insert(spec.baleTypes, entry)\n            else\n                    Logging.xmlError( self.xmlFile, "Failed to load bale type.Missing inline bale filename! \'%s\'" , key)\n                end\n            else\n                    Logging.xmlError( self.xmlFile, "Failed to load bale type.Missing start node! \'%s\'" , key)\n                end\n            end )\n\n            spec.railingsAnimation = self.xmlFile:getValue(baseKey .. ".railings#animation" )\n            spec.railingsAnimationStartX = self.xmlFile:getValue(baseKey .. ".railings#animStartX" )\n            spec.railingsAnimationEndX = self.xmlFile:getValue(baseKey .. ".railings#animEndX" )\n            spec.railingStartX = self.xmlFile:getValue(baseKey .. ".railings#defaultX" , 1 )\n            spec.currentPosition = spec.railingStartX + 0.01\n            spec.targetPosition = spec.railingStartX + 0.01\n\n            spec.wrappingStartNode = self.xmlFile:getValue(baseKey .. ".wrapping#startNode" , nil , self.components, self.i3dMappings)\n\n            spec.steeringNodes = { }\n            self.xmlFile:iterate(baseKey .. ".steeringNodes.steeringNode" , function (_, key)\n                local entry = { }\n                entry.node = self.xmlFile:getValue(key .. "#node" , nil , self.components, self.i3dMappings)\n\n                if entry.node ~ = nil then\n                    entry.startRot = { getRotation(entry.node) }\n                    table.insert(spec.steeringNodes, entry)\n                end\n            end )\n\n            spec.wrappingNodes = { }\n            self.xmlFile:iterate(baseKey .. ".wrappingNodes.wrappingNode" , function (_, key)\n                local entry = { }\n                entry.node = self.xmlFile:getValue(key .. "#node" , nil , self.components, self.i3dMappings)\n                entry.target = self.xmlFile:getValue(key .. "#target" , nil , self.components, self.i3dMappings)\n\n                if entry.node ~ = nil and entry.target ~ = nil then\n                    entry.startTrans = self.xmlFile:getValue(key .. "#startTrans" , nil , true ) or { getTranslation(entry.target) }\n                    setTranslation(entry.target, entry.startTrans[ 1 ], entry.startTrans[ 2 ], entry.startTrans[ 3 ])\n\n                    table.insert(spec.wrappingNodes, entry)\n                end\n            end )\n\n            spec.animations = { }\n            spec.animations.pusher = self.xmlFile:getValue(baseKey .. ".animations#pusher" , "pusherAnimation" )\n            spec.animations.wrapping = self.xmlFile:getValue(baseKey .. ".animations#wrapping" , "wrappingAnimation" )\n            spec.animations.pushOff = self.xmlFile:getValue(baseKey .. ".animations#pushOff" , "pushOffAnimation" )\n\n            spec.pushingBrakeForce = self.xmlFile:getValue(baseKey .. ".pushing#brakeForce" , 0 )\n            spec.pushingOpenBrakeTime = self.xmlFile:getValue(baseKey .. ".pushing#openBrakeTime" , 0.1 )\n            spec.pushingCloseBrakeTime = self.xmlFile:getValue(baseKey .. ".pushing#closeBrakeTime" , 0.5 )\n            spec.pushingMinBaleAmount = self.xmlFile:getValue(baseKey .. ".pushing#minBaleAmount" , 4 )\n\n            spec.baleMovedThreshold = self.xmlFile:getValue(baseKey .. "#baleMovedThreshold" , 0.05 )\n\n            spec.pusherAnimationDirty = false\n            spec.showIncompatibleBalesWarning = false\n\n            spec.pendingSingleBales = { }\n            spec.pendingIncompatibleBales = { }\n            spec.enteredInlineBales = { }\n            spec.enteredBalesToWrap = { }\n\n            spec.numObjectBits = self.xmlFile:getValue( "vehicle.inlineWrapper#numObjectBits" , 4 )\n            spec.inlineBalesDirtyFlag = self:getNextDirtyFlag()\n            spec.warningDirtyFlag = self:getNextDirtyFlag()\n\n            spec.currentLineDirection = nil\n            spec.lineDirection = nil\n            spec.activatable = InlineWrapperActivatable.new( self )\n\n            if self.isClient then\n                spec.samples = { }\n                spec.samples.wrap = g_soundManager:loadSampleFromXML( self.xmlFile, baseKey .. ".sounds" , "wrap" , self.baseDirectory, self.components, 0 , AudioGroup.VEHICLE, self.i3dMappings, self )\n                spec.samples.start = g_soundManager:loadSampleFromXML( self.xmlFile, baseKey .. ".sounds" , "start" , self.baseDirectory, self.components, 1 , AudioGroup.VEHICLE, self.i3dMappings, self )\n                spec.samples.stop = g_soundManager:loadSampleFromXML( self.xmlFile, baseKey .. ".sounds" , "stop" , self.baseDirectory, self.components, 1 , AudioGroup.VEHICLE, self.i3dMappings, self )\n            end\n        end\n\n'})}),"\n",(0,r.jsx)(n.h3,{id:"onpostload",children:"onPostLoad"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Called after loading"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"onPostLoad(table savegame)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,r.jsx)(n.table,{children:(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"table"}),(0,r.jsx)(n.th,{children:"savegame"}),(0,r.jsx)(n.th,{children:"savegame"})]})})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function InlineWrapper:onPostLoad(savegame)\n    local spec = self.spec_inlineWrapper\n    if spec.railingsAnimation ~ = nil then\n        self:setAnimationTime(spec.railingsAnimation, 1 , true )\n    end\nend\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"onreadstream",children:"onReadStream"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"onReadStream()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"any"}),(0,r.jsx)(n.th,{children:"streamId"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"connection"})]})})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'function InlineWrapper:onReadStream(streamId, connection)\n    self:readInlineBales( "pendingSingleBales" , streamId, connection)\n    self:readInlineBales( "enteredInlineBales" , streamId, connection)\n    self:readInlineBales( "enteredBalesToWrap" , streamId, connection)\n\n    if streamReadBool(streamId) then\n        local inlineBale = NetworkUtil.readNodeObjectId(streamId)\n        self:setCurrentInlineBale(inlineBale, true )\n    else\n            self:setCurrentInlineBale( nil , true )\n        end\n\n        local spec = self.spec_inlineWrapper\n        spec.showIncompatibleBalesWarning = streamReadBool(streamId)\n\n        g_currentMission.activatableObjectsSystem:addActivatable(spec.activatable)\n    end\n\n'})}),"\n",(0,r.jsx)(n.h3,{id:"onreadupdatestream",children:"onReadUpdateStream"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"onReadUpdateStream()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"any"}),(0,r.jsx)(n.th,{children:"streamId"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"timestamp"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"connection"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'function InlineWrapper:onReadUpdateStream(streamId, timestamp, connection)\n    if connection:getIsServer() then\n        local spec = self.spec_inlineWrapper\n\n        if streamReadBool(streamId) then\n            self:readInlineBales( "pendingSingleBales" , streamId, connection)\n            self:readInlineBales( "enteredInlineBales" , streamId, connection)\n            self:readInlineBales( "enteredBalesToWrap" , streamId, connection)\n\n            if streamReadBool(streamId) then\n                local inlineBale = NetworkUtil.readNodeObjectId(streamId)\n                self:setCurrentInlineBale(inlineBale, true )\n            else\n                    self:setCurrentInlineBale( nil , true )\n                end\n\n                g_currentMission.activatableObjectsSystem:addActivatable(spec.activatable)\n            end\n\n            spec.showIncompatibleBalesWarning = streamReadBool(streamId)\n        end\n    end\n\n'})}),"\n",(0,r.jsx)(n.h3,{id:"onregisteractionevents",children:"onRegisterActionEvents"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"onRegisterActionEvents()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"any"}),(0,r.jsx)(n.th,{children:"isActiveForInput"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"isActiveForInputIgnoreSelection"})]})})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'function InlineWrapper:onRegisterActionEvents(isActiveForInput, isActiveForInputIgnoreSelection)\n    if self.isClient then\n        local spec = self.spec_inlineWrapper\n        self:clearActionEventsTable(spec.actionEvents)\n\n        if isActiveForInput then\n            local _, actionEventId = self:addActionEvent(spec.actionEvents, InputAction.ACTIVATE_OBJECT, self , InlineWrapper.pushOffInlineBaleEvent, false , false , true , true , nil )\n            g_inputBinding:setActionEventTextPriority(actionEventId, GS_PRIO_HIGH)\n            g_inputBinding:setActionEventActive(actionEventId, self:getCanPushOff())\n            g_inputBinding:setActionEventTextVisibility(actionEventId, true )\n            g_inputBinding:setActionEventText(actionEventId, g_i18n:getText( "action_baleloaderUnload" ))\n        end\n    end\nend\n\n'})}),"\n",(0,r.jsx)(n.h3,{id:"onupdate",children:"onUpdate"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Called on update"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"onUpdate(float dt, boolean isActiveForInput, boolean isSelected, )"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"float"}),(0,r.jsx)(n.th,{children:"dt"}),(0,r.jsx)(n.th,{children:"time since last call in ms"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"boolean"}),(0,r.jsx)(n.td,{children:"isActiveForInput"}),(0,r.jsx)(n.td,{children:"true if vehicle is active for input"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"boolean"}),(0,r.jsx)(n.td,{children:"isSelected"}),(0,r.jsx)(n.td,{children:"true if vehicle is selected"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"isSelected"}),(0,r.jsx)(n.td,{})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function InlineWrapper:onUpdate(dt, isActiveForInput, isActiveForInputIgnoreSelection, isSelected)\n    local spec = self.spec_inlineWrapper\n    if self:getIsAnimationPlaying(spec.animations.wrapping) then\n        self:updateWrappingNodes()\n    end\nend\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"onupdatetick",children:"onUpdateTick"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Called on update tick"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"onUpdateTick(float dt, boolean isActiveForInput, boolean isSelected, )"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"float"}),(0,r.jsx)(n.th,{children:"dt"}),(0,r.jsx)(n.th,{children:"time since last call in ms"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"boolean"}),(0,r.jsx)(n.td,{children:"isActiveForInput"}),(0,r.jsx)(n.td,{children:"true if vehicle is active for input"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"boolean"}),(0,r.jsx)(n.td,{children:"isSelected"}),(0,r.jsx)(n.td,{children:"true if vehicle is selected"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"isSelected"}),(0,r.jsx)(n.td,{})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'function InlineWrapper:onUpdateTick(dt, isActiveForInput, isActiveForInputIgnoreSelection, isSelected)\n    local spec = self.spec_inlineWrapper\n    if self.isServer then\n        local pendingBaleId = next(spec.pendingSingleBales)\n        local pendingBale = NetworkUtil.getObject(pendingBaleId)\n        if pendingBale ~ = nil and self:getIsInlineBalingAllowed() then\n            local baleType = self:getWrapperBaleType(pendingBale)\n            local lastBaleId = next(spec.enteredInlineBales)\n            local lastBale = NetworkUtil.getObject(lastBaleId)\n            local inlineBale\n            local success = false\n            if lastBale = = nil then\n                -- first bale\n                inlineBale = InlineBale.new( self.isServer, self.isClient)\n\n                if inlineBale:loadFromConfigXML(baleType.inlineBaleFilename) then\n                    inlineBale:setOwnerFarmId( self:getActiveFarm(), true )\n\n                    inlineBale:setCurrentWrapperInfo( self , spec.wrappingStartNode)\n\n                    inlineBale:register()\n\n                    success = inlineBale:addBale(pendingBale, baleType)\n                else\n                        inlineBale:delete()\n                    end\n                else\n                        -- add another bale\n                        if lastBale:isa( InlineBaleSingle ) then\n                            inlineBale = lastBale:getConnectedInlineBale()\n                            if inlineBale ~ = nil then\n\n                                success = inlineBale:addBale(pendingBale, baleType)\n\n                                if success then\n                                    local currentInlineBale = self:getCurrentInlineBale()\n                                    currentInlineBale:setCurrentWrapperInfo( self , spec.wrappingStartNode)\n                                end\n                            end\n                        end\n                    end\n\n                    if success then\n                        spec.pendingSingleBales[pendingBaleId] = nil\n                        spec.enteredInlineBales[pendingBaleId] = pendingBaleId\n\n                        spec.pusherAnimationDirty = true\n                        self:setCurrentInlineBale(inlineBale)\n\n                        g_currentMission.activatableObjectsSystem:addActivatable(spec.activatable)\n\n                        local total, _ = g_farmManager:updateFarmStats( self:getOwnerFarmId(), "wrappedBales" , 1 )\n                        if total ~ = nil then\n                            g_achievementManager:tryUnlock( "WrappedBales" , total)\n                        end\n\n                        self:raiseDirtyFlags(spec.inlineBalesDirtyFlag)\n                    end\n                end\n\n                local showIncompatibleBalesWarning = next(spec.pendingIncompatibleBales) ~ = nil\n                if showIncompatibleBalesWarning ~ = spec.showIncompatibleBalesWarning then\n                    spec.showIncompatibleBalesWarning = showIncompatibleBalesWarning\n                    self:raiseDirtyFlags(spec.warningDirtyFlag)\n                end\n            end\n\n            -- set currentInlineBale not matter if a new bale ist getting mounted(necessary for clients and singleplayer if the savegame if reloaded)\n                local inlineBaleId = next(spec.enteredInlineBales)\n                local bale = NetworkUtil.getObject(inlineBaleId)\n                if bale ~ = nil then\n                    if self:getCurrentInlineBale() = = nil then\n                        if bale:isa( InlineBaleSingle ) then\n                            local inlineBale = bale:getConnectedInlineBale()\n                            if inlineBale ~ = nil then\n                                self:setCurrentInlineBale(inlineBale)\n\n                                g_currentMission.activatableObjectsSystem:addActivatable(spec.activatable)\n\n                                self:updateWrappingNodes()\n\n                                local currentInlineBale = self:getCurrentInlineBale()\n                                currentInlineBale:setCurrentWrapperInfo( self , spec.wrappingStartNode)\n                            end\n                        end\n                    end\n                else\n                        self:setCurrentInlineBale( nil )\n                    end\n\n                    local needsSteering = ( next(spec.enteredInlineBales) ~ = nil or spec.pushOffStarted) and self:getAttacherVehicle() = = nil\n                    local steeringActive = needsSteering and not self:getIsControlled()\n\n                    if spec.lineDirection = = nil and needsSteering then\n                        local x, _, z = localDirectionToWorld( self.components[ 1 ].node, 0 , 0 , - 1 )\n                        spec.lineDirection = { x, z }\n                    elseif spec.lineDirection ~ = nil and not needsSteering then\n                            spec.lineDirection = nil\n                        end\n\n                        if not steeringActive then\n                            if spec.currentLineDirection ~ = nil then\n                                spec.currentLineDirection = nil\n                                self:updateInlineSteeringWheels()\n                            end\n                        else\n                                spec.currentLineDirection = spec.lineDirection\n                            end\n\n                            if spec.currentLineDirection ~ = nil then\n                                self:updateInlineSteeringWheels(spec.currentLineDirection[ 1 ], spec.currentLineDirection[ 2 ])\n                            end\n\n                            if self.isServer then\n                                spec.releaseBrake = false\n                                local currentInlineBale = self:getCurrentInlineBale()\n\n                                if spec.pusherAnimationDirty then\n                                    local allowedToPush = true\n\n                                    for _, baleId in pairs(spec.pendingSingleBales) do\n                                        if not self:getAllowBalePushing(NetworkUtil.getObject(baleId)) then\n                                            allowedToPush = false\n                                            break\n                                        end\n                                    end\n\n                                    if allowedToPush then\n                                        for _, baleId in pairs(spec.enteredInlineBales) do\n                                            if not self:getAllowBalePushing(NetworkUtil.getObject(baleId)) then\n                                                allowedToPush = false\n                                                break\n                                            end\n                                        end\n                                    end\n\n                                    if allowedToPush then\n                                        if currentInlineBale ~ = nil then\n                                            local pendingBale = currentInlineBale:getPendingBale()\n                                            local pendingBaleId = NetworkUtil.getObjectId(pendingBale)\n                                            local baleType = self:getWrapperBaleType(pendingBale)\n\n                                            local replaced, newBaleId = currentInlineBale:replacePendingBale(baleType.startNode, spec.wrapColor)\n                                            if replaced then\n                                                spec.enteredInlineBales[pendingBaleId] = nil\n                                                spec.enteredInlineBales[newBaleId] = newBaleId\n                                            end\n\n                                            self:playAnimation(spec.animations.pusher, 1 , 0 )\n                                            spec.pusherAnimationDirty = false\n                                            currentInlineBale:connectPendingBale()\n                                            self:raiseDirtyFlags(spec.inlineBalesDirtyFlag)\n                                        end\n                                    end\n\n                                    self:raiseActive()\n                                end\n\n                                if self:getAttacherVehicle() = = nil then\n                                    local allowBrakeOpening = true\n                                    if currentInlineBale ~ = nil then\n                                        if currentInlineBale:getNumberOfBales() < spec.pushingMinBaleAmount then\n                                            allowBrakeOpening = false\n                                        end\n                                    end\n\n                                    local animTime = self:getAnimationTime(spec.animations.pusher)\n                                    local isPushing = self:getIsAnimationPlaying(spec.animations.pusher) and animTime > spec.pushingOpenBrakeTime and animTime < spec.pushingCloseBrakeTime\n                                    local currentSpeed = self:getAnimationSpeed(spec.animations.pushOff)\n                                    local isPushingOff = self:getIsAnimationPlaying(spec.animations.pushOff) and currentSpeed > 0\n\n                                    local releaseBrake = isPushing or isPushingOff\n\n                                    if allowBrakeOpening then\n                                        spec.releaseBrake = releaseBrake\n                                    end\n                                end\n                            end\n\n                            local playWrapAnimation, wrapBaleType = false , nil\n                            for _, wrapBaleId in pairs(spec.enteredBalesToWrap) do\n                                local wrapBale = NetworkUtil.getObject(wrapBaleId)\n                                if wrapBale ~ = nil then\n                                    if entityExists(wrapBale.nodeId) then\n                                        local x, y, z = localToLocal(wrapBale.nodeId, self.components[ 1 ].node, 0 , 0 , 0 )\n                                        if wrapBale.lastWrapTranslation ~ = nil and wrapBale.lastWrapMoveTime ~ = nil then\n                                            if math.abs(wrapBale.lastWrapTranslation[ 1 ] - x) + math.abs(wrapBale.lastWrapTranslation[ 2 ] - y) + math.abs(wrapBale.lastWrapTranslation[ 3 ] - z) > spec.baleMovedThreshold then\n                                                wrapBale.lastWrapMoveTime = g_currentMission.time\n                                                wrapBale.lastWrapTranslation = { x, y, z }\n                                            end\n                                        else\n                                                wrapBale.lastWrapMoveTime = - math.huge\n                                                wrapBale.lastWrapTranslation = { x, y, z }\n                                            end\n\n                                            if wrapBale.lastWrapMoveTime + 1500 > g_currentMission.time then\n                                                playWrapAnimation = true\n                                                wrapBaleType = self:getWrapperBaleType(wrapBale)\n                                                break\n                                            end\n\n                                            self:raiseActive()\n                                        end\n                                    end\n                                end\n\n                                if playWrapAnimation then\n                                    if self.isServer and wrapBaleType ~ = nil then\n                                        self:updateConsumable( InlineWrapper.CONSUMABLE_TYPE_NAME, - wrapBaleType.wrapUsage * dt, true )\n                                    end\n\n                                    if not self:getIsAnimationPlaying(spec.animations.wrapping) then\n                                        self:playAnimation(spec.animations.wrapping, 1 , self:getAnimationTime(spec.animations.wrapping), true )\n                                    end\n\n                                    if self.isClient then\n                                        if not g_soundManager:getIsSamplePlaying(spec.samples.start) and not g_soundManager:getIsSamplePlaying(spec.samples.wrap ) then\n                                            g_soundManager:playSample(spec.samples.start)\n                                            g_soundManager:playSample(spec.samples.wrap , 0 , spec.samples.start)\n                                        end\n                                    end\n                                else\n                                        self:stopAnimation(spec.animations.wrapping, true )\n\n                                        if self.isClient then\n                                            if g_soundManager:getIsSamplePlaying(spec.samples.start) or g_soundManager:getIsSamplePlaying(spec.samples.wrap ) then\n                                                g_soundManager:stopSample(spec.samples.start)\n                                                g_soundManager:stopSample(spec.samples.wrap )\n                                                g_soundManager:playSample(spec.samples.stop)\n                                            end\n                                        end\n                                    end\n\n                                    local baleId = next(spec.pendingSingleBales) or next(spec.enteredInlineBales)\n                                    bale = NetworkUtil.getObject(baleId)\n                                    if bale ~ = nil then\n                                        if self:getIsInlineBalingAllowed() then\n                                            local baleType = self:getWrapperBaleType(bale)\n\n                                            local currentInlineBale = self:getCurrentInlineBale()\n                                            if currentInlineBale ~ = nil then\n                                                if not currentInlineBale:getIsBaleAllowed(bale, baleType) then\n                                                    baleType = nil\n                                                end\n                                            end\n\n                                            if baleType ~ = nil then\n                                                spec.targetPosition = baleType.railingWidth\n\n                                                self:updateWrapperRailings(spec.targetPosition, dt)\n                                            end\n                                        end\n                                    else\n                                            self:updateWrapperRailings(spec.railingStartX, dt)\n                                        end\n\n                                        -- reset push off arm\n                                        if self.isServer then\n                                            if spec.pushOffStarted ~ = nil and spec.pushOffStarted then\n                                                if not self:getIsAnimationPlaying(spec.animations.pushOff) then\n                                                    self:playAnimation(spec.animations.pushOff, - 1 , 1 )\n                                                    spec.pushOffStarted = nil\n                                                end\n                                            end\n                                        end\n\n                                        if self.isClient then\n                                            local actionEvent = spec.actionEvents[InputAction.ACTIVATE_OBJECT]\n                                            if actionEvent ~ = nil then\n                                                g_inputBinding:setActionEventActive(actionEvent.actionEventId, self:getCanPushOff())\n                                            end\n                                        end\n                                    end\n\n'})}),"\n",(0,r.jsx)(n.h3,{id:"onwritestream",children:"onWriteStream"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"onWriteStream()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"any"}),(0,r.jsx)(n.th,{children:"streamId"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"connection"})]})})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'function InlineWrapper:onWriteStream(streamId, connection)\n    self:writeInlineBales( "pendingSingleBales" , streamId, connection)\n    self:writeInlineBales( "enteredInlineBales" , streamId, connection)\n    self:writeInlineBales( "enteredBalesToWrap" , streamId, connection)\n\n    local currentInlineBale = self:getCurrentInlineBale()\n    if streamWriteBool(streamId, currentInlineBale ~ = nil ) then\n        NetworkUtil.writeNodeObject(streamId, currentInlineBale)\n    end\n\n    streamWriteBool(streamId, self.spec_inlineWrapper.showIncompatibleBalesWarning)\nend\n\n'})}),"\n",(0,r.jsx)(n.h3,{id:"onwriteupdatestream",children:"onWriteUpdateStream"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"onWriteUpdateStream()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"any"}),(0,r.jsx)(n.th,{children:"streamId"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"connection"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"dirtyMask"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'function InlineWrapper:onWriteUpdateStream(streamId, connection, dirtyMask)\n    if not connection:getIsServer() then\n        local spec = self.spec_inlineWrapper\n\n        if streamWriteBool(streamId, bit32.band(dirtyMask, spec.inlineBalesDirtyFlag) ~ = 0 ) then\n            self:writeInlineBales( "pendingSingleBales" , streamId, connection)\n            self:writeInlineBales( "enteredInlineBales" , streamId, connection)\n            self:writeInlineBales( "enteredBalesToWrap" , streamId, connection)\n\n            local currentInlineBale = self:getCurrentInlineBale()\n            if streamWriteBool(streamId, currentInlineBale ~ = nil ) then\n                NetworkUtil.writeNodeObject(streamId, currentInlineBale)\n            end\n        end\n\n        streamWriteBool(streamId, spec.showIncompatibleBalesWarning)\n    end\nend\n\n'})}),"\n",(0,r.jsx)(n.h3,{id:"prerequisitespresent",children:"prerequisitesPresent"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Checks if all prerequisite specializations are loaded"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"prerequisitesPresent(table specializations)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,r.jsx)(n.table,{children:(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"table"}),(0,r.jsx)(n.th,{children:"specializations"}),(0,r.jsx)(n.th,{children:"specializations"})]})})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,r.jsx)(n.table,{children:(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"table"}),(0,r.jsx)(n.th,{children:"hasPrerequisite"}),(0,r.jsx)(n.th,{children:"true if all prerequisite specializations are loaded"})]})})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function InlineWrapper.prerequisitesPresent(specializations)\n    return SpecializationUtil.hasSpecialization( Foldable , specializations) and SpecializationUtil.hasSpecialization(Consumable, specializations)\nend\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"pushoffinlinebale",children:"pushOffInlineBale"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"pushOffInlineBale()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function InlineWrapper:pushOffInlineBale()\n    local spec = self.spec_inlineWrapper\n    if not self:getIsAnimationPlaying(spec.animations.pushOff) then\n        self:playAnimation(spec.animations.pushOff, 1 )\n        spec.pushOffStarted = true\n    end\nend\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"pushoffinlinebaleevent",children:"pushOffInlineBaleEvent"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"pushOffInlineBaleEvent()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"any"}),(0,r.jsx)(n.th,{children:"self"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"actionName"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"inputValue"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"callbackState"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"isAnalog"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function InlineWrapper.pushOffInlineBaleEvent( self , actionName, inputValue, callbackState, isAnalog)\n    if inputValue = = 1 then\n        if g_server ~ = nil then\n            self:pushOffInlineBale()\n        else\n                g_client:getServerConnection():sendEvent( InlineWrapperPushOffEvent.new( self ))\n            end\n        end\n    end\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"readinlinebales",children:"readInlineBales"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"readInlineBales()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"any"}),(0,r.jsx)(n.th,{children:"name"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"streamId"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"connection"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function InlineWrapper:readInlineBales(name, streamId, connection)\n    local spec = self.spec_inlineWrapper\n    local sum = streamReadUIntN(streamId, spec.numObjectBits)\n\n    spec[name] = { }\n    for _ = 1 , sum do\n        local object = NetworkUtil.readNodeObjectId(streamId)\n        spec[name][object] = object\n    end\nend\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"registereventlisteners",children:"registerEventListeners"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"registerEventListeners()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,r.jsx)(n.table,{children:(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"any"}),(0,r.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'function InlineWrapper.registerEventListeners(vehicleType)\n    SpecializationUtil.registerEventListener(vehicleType, "onLoad" , InlineWrapper )\n    SpecializationUtil.registerEventListener(vehicleType, "onPostLoad" , InlineWrapper )\n    SpecializationUtil.registerEventListener(vehicleType, "onDelete" , InlineWrapper )\n    SpecializationUtil.registerEventListener(vehicleType, "onReadStream" , InlineWrapper )\n    SpecializationUtil.registerEventListener(vehicleType, "onWriteStream" , InlineWrapper )\n    SpecializationUtil.registerEventListener(vehicleType, "onReadUpdateStream" , InlineWrapper )\n    SpecializationUtil.registerEventListener(vehicleType, "onWriteUpdateStream" , InlineWrapper )\n    SpecializationUtil.registerEventListener(vehicleType, "onUpdate" , InlineWrapper )\n    SpecializationUtil.registerEventListener(vehicleType, "onUpdateTick" , InlineWrapper )\n    SpecializationUtil.registerEventListener(vehicleType, "onDraw" , InlineWrapper )\n    SpecializationUtil.registerEventListener(vehicleType, "onRegisterActionEvents" , InlineWrapper )\n    SpecializationUtil.registerEventListener(vehicleType, "onLeaveVehicle" , InlineWrapper )\n    SpecializationUtil.registerEventListener(vehicleType, "onEnterVehicle" , InlineWrapper )\n    SpecializationUtil.registerEventListener(vehicleType, "onConsumableVariationChanged" , InlineWrapper )\nend\n\n'})}),"\n",(0,r.jsx)(n.h3,{id:"registerfunctions",children:"registerFunctions"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"registerFunctions()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,r.jsx)(n.table,{children:(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"any"}),(0,r.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'function InlineWrapper.registerFunctions(vehicleType)\n    SpecializationUtil.registerFunction(vehicleType, "readInlineBales" , InlineWrapper.readInlineBales)\n    SpecializationUtil.registerFunction(vehicleType, "writeInlineBales" , InlineWrapper.writeInlineBales)\n    SpecializationUtil.registerFunction(vehicleType, "getIsInlineBalingAllowed" , InlineWrapper.getIsInlineBalingAllowed)\n    SpecializationUtil.registerFunction(vehicleType, "inlineBaleTriggerCallback" , InlineWrapper.inlineBaleTriggerCallback)\n    SpecializationUtil.registerFunction(vehicleType, "inlineWrapTriggerCallback" , InlineWrapper.inlineWrapTriggerCallback)\n    SpecializationUtil.registerFunction(vehicleType, "updateWrappingNodes" , InlineWrapper.updateWrappingNodes)\n    SpecializationUtil.registerFunction(vehicleType, "updateRoundBaleWrappingNode" , InlineWrapper.updateRoundBaleWrappingNode)\n    SpecializationUtil.registerFunction(vehicleType, "updateSquareBaleWrappingNode" , InlineWrapper.updateSquareBaleWrappingNode)\n    SpecializationUtil.registerFunction(vehicleType, "getWrapperBaleType" , InlineWrapper.getWrapperBaleType)\n    SpecializationUtil.registerFunction(vehicleType, "getAllowBalePushing" , InlineWrapper.getAllowBalePushing)\n    SpecializationUtil.registerFunction(vehicleType, "updateWrapperRailings" , InlineWrapper.updateWrapperRailings)\n    SpecializationUtil.registerFunction(vehicleType, "updateInlineSteeringWheels" , InlineWrapper.updateInlineSteeringWheels)\n    SpecializationUtil.registerFunction(vehicleType, "getCanInteract" , InlineWrapper.getCanInteract)\n    SpecializationUtil.registerFunction(vehicleType, "getCanPushOff" , InlineWrapper.getCanPushOff)\n    SpecializationUtil.registerFunction(vehicleType, "setCurrentInlineBale" , InlineWrapper.setCurrentInlineBale)\n    SpecializationUtil.registerFunction(vehicleType, "getCurrentInlineBale" , InlineWrapper.getCurrentInlineBale)\n    SpecializationUtil.registerFunction(vehicleType, "pushOffInlineBale" , InlineWrapper.pushOffInlineBale)\nend\n\n'})}),"\n",(0,r.jsx)(n.h3,{id:"registeroverwrittenfunctions",children:"registerOverwrittenFunctions"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"registerOverwrittenFunctions()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,r.jsx)(n.table,{children:(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"any"}),(0,r.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'function InlineWrapper.registerOverwrittenFunctions(vehicleType)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getIsFoldAllowed" , InlineWrapper.getIsFoldAllowed)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getIsActive" , InlineWrapper.getIsActive)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getBrakeForce" , InlineWrapper.getBrakeForce)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getShowConsumableEmptyWarning" , InlineWrapper.getShowConsumableEmptyWarning)\nend\n\n'})}),"\n",(0,r.jsx)(n.h3,{id:"setcurrentinlinebale",children:"setCurrentInlineBale"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"setCurrentInlineBale()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"any"}),(0,r.jsx)(n.th,{children:"inlineBale"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"isClient"})]})})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function InlineWrapper:setCurrentInlineBale(inlineBale, isClient)\n    local spec = self.spec_inlineWrapper\n    if self.isServer then\n        local newInlineBale = NetworkUtil.getObjectId(inlineBale)\n        if newInlineBale ~ = spec.currentInlineBale then\n            spec.currentInlineBale = newInlineBale\n            self:raiseDirtyFlags(spec.inlineBalesDirtyFlag)\n        end\n    end\n\n    if isClient then\n        spec.currentInlineBale = inlineBale\n    end\nend\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"updateinlinesteeringwheels",children:"updateInlineSteeringWheels"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"updateInlineSteeringWheels()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"any"}),(0,r.jsx)(n.th,{children:"dirX"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"dirZ"})]})})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function InlineWrapper:updateInlineSteeringWheels(dirX, dirZ)\n    local spec = self.spec_inlineWrapper\n\n    for _, steeringNode in ipairs(spec.steeringNodes) do\n        if dirX = = nil or dirZ = = nil then\n            setRotation(steeringNode.node, unpack(steeringNode.startRot))\n        else\n                local px, py, pz = getWorldTranslation(steeringNode.node)\n                local targetX, _, targetZ = worldToLocal(getParent(steeringNode.node), px + (dirX) * 10 , py, pz + (dirZ) * 10 )\n                targetX, _, targetZ = MathUtil.vector3Normalize(targetX, 0 , targetZ)\n\n                local upX, upY, upZ = localDirectionToWorld(getParent(steeringNode.node), 0 , 1 , 0 )\n                setDirection(steeringNode.node, targetX, 0 , targetZ, upX, upY, upZ)\n            end\n\n            if self.setMovingToolDirty ~ = nil then\n                self:setMovingToolDirty(steeringNode.node)\n            end\n        end\n    end\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"updateroundbalewrappingnode",children:"updateRoundBaleWrappingNode"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"updateRoundBaleWrappingNode()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"any"}),(0,r.jsx)(n.th,{children:"bale"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"wrappingNode"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"x"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"y"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"z"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function InlineWrapper:updateRoundBaleWrappingNode(bale, wrappingNode, x, y, z)\n    local baleNode = bale.nodeId\n    local baleRadius = bale.diameter / 2\n    local steps = 32\n    local intersectOffset = 0.01\n    local foilOffset = - 0.03\n\n    local w1x, w1y, w1z = worldToLocal(baleNode, x, y, z)\n\n    local distanceToCenter = MathUtil.vector3Length(w1x, w1y, 0 )\n    local maxDirY = - math.huge\n    local targetX, targetY, targetZ\n    for i = 1 , steps do\n        local a = (i / steps) * 2 * math.pi\n\n        local c = math.cos(a) * (baleRadius + intersectOffset)\n        local s = math.sin(a) * (baleRadius + intersectOffset)\n\n        local distance = MathUtil.vector2Length(c - w1x, s - w1y)\n        if distance < distanceToCenter then\n            local intersect, _, _, _, _ = MathUtil.getCircleLineIntersection( 0 , 0 , baleRadius, w1x, w1y, c, s)\n\n            if not intersect then\n                local px, py, pz = localToWorld(baleNode, c, s, 0 )\n                local _, wrapDirY, _ = worldToLocal(wrappingNode, px, py, pz)\n                if wrapDirY > maxDirY then\n                    maxDirY = wrapDirY\n\n                    targetX, targetY, targetZ = localToWorld(baleNode, math.cos(a) * (baleRadius + foilOffset), math.sin(a) * (baleRadius + foilOffset), w1z)\n                end\n            end\n        end\n    end\n\n    return targetX, targetY, targetZ\nend\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"updatesquarebalewrappingnode",children:"updateSquareBaleWrappingNode"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"updateSquareBaleWrappingNode()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"any"}),(0,r.jsx)(n.th,{children:"bale"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"wrappingNode"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"x"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"y"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"z"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function InlineWrapper:updateSquareBaleWrappingNode(bale, wrappingNode, x, y, z)\n    local baleNode = bale.nodeId\n\n    local minAngle = math.huge\n    local targetX, targetY, targetZ\n    local height = bale.height / 2\n    local length = bale.length / 2\n    local intersectOffset = 0.01\n    local foilOffset = - 0.05\n\n    local w1x, w1y, w1z = worldToLocal(baleNode, x, y, z)\n\n    if bale.wrappingEdges = = nil then\n        bale.wrappingEdges = { }\n        bale.wrappingEdges[ 1 ] = { 0 , height, - length }\n        bale.wrappingEdges[ 2 ] = { 0 , - height, - length }\n        bale.wrappingEdges[ 3 ] = { 0 , - height, length }\n        bale.wrappingEdges[ 4 ] = { 0 , height, length }\n    end\n\n    for _, edge in ipairs(bale.wrappingEdges) do\n        local edgeY = edge[ 2 ] + math.sign(edge[ 2 ]) * intersectOffset\n        local edgeZ = edge[ 3 ] + math.sign(edge[ 3 ]) * intersectOffset\n\n        local intersect = false\n        for i = 1 , 4 do\n            local i2 = i < = 3 and i + 1 or 1\n            intersect = intersect or MathUtil.getLineBoundingVolumeIntersect(edgeY, edgeZ, w1y, w1z, bale.wrappingEdges[i][ 2 ], bale.wrappingEdges[i][ 3 ], bale.wrappingEdges[i2][ 2 ], bale.wrappingEdges[i2][ 3 ])\n        end\n\n        if not intersect then\n            local px, py, pz = localToWorld(baleNode, w1x, edgeY, edgeZ)\n            local _, wrapDirY, wrapDirZ = worldToLocal(wrappingNode, px, py, pz)\n            local angle = MathUtil.getYRotationFromDirection(wrapDirY, wrapDirZ)\n\n            if angle < 0 then\n                angle = math.pi + ( math.pi + angle)\n            end\n\n            if angle < minAngle then\n                minAngle = angle\n\n                targetX, targetY, targetZ = localToWorld(baleNode, w1x, edge[ 2 ] + math.sign(edge[ 2 ]) * foilOffset, edge[ 3 ] + math.sign(edge[ 3 ]) * foilOffset)\n            end\n        end\n    end\n\n    return targetX, targetY, targetZ\nend\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"updatewrapperrailings",children:"updateWrapperRailings"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"updateWrapperRailings()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"any"}),(0,r.jsx)(n.th,{children:"targetPosition"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"dt"})]})})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function InlineWrapper:updateWrapperRailings(targetPosition, dt)\n    local spec = self.spec_inlineWrapper\n    if targetPosition ~ = spec.currentPosition then\n        local dir = math.sign(targetPosition - spec.currentPosition)\n        spec.currentPosition = spec.currentPosition + 0.0001 * dt * dir\n        if dir > 0 then\n            spec.currentPosition = math.min(spec.currentPosition, targetPosition)\n        else\n                spec.currentPosition = math.max(spec.currentPosition, targetPosition)\n            end\n\n            local animTime = (spec.currentPosition - spec.railingsAnimationStartX) / (spec.railingsAnimationEndX - spec.railingsAnimationStartX)\n            self:setAnimationTime(spec.railingsAnimation, animTime, true )\n        end\n    end\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"updatewrappingnodes",children:"updateWrappingNodes"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"updateWrappingNodes()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function InlineWrapper:updateWrappingNodes()\n    local spec = self.spec_inlineWrapper\n\n    local inlineBale = self:getCurrentInlineBale()\n    if inlineBale ~ = nil then\n        local bales = spec.enteredBalesToWrap\n\n        for _, wrappingNode in ipairs(spec.wrappingNodes) do\n            local x, y, z = getWorldTranslation(wrappingNode.node)\n            local minDistance = math.huge\n            local minBale\n            for _, baleId in pairs(bales) do\n                local bale = NetworkUtil.getObject(baleId)\n                if bale ~ = nil then\n                    if bale ~ = inlineBale:getPendingBale() then\n                        local bx, _, bz = worldToLocal(bale.nodeId, x, y, z)\n                        local x1, y1, z1\n                        local x2, y2, z2\n                        if bale.isRoundbale then\n                            if bz > = - bale.width / 2 then\n                                x1, y1, z1 = localToWorld(bale.nodeId, 0 , 0 , bale.width / 2 )\n                                x2, y2, z2 = localToWorld(bale.nodeId, 0 , 0 , - bale.width / 2 )\n                            end\n                        else\n                                if bx > = - bale.width / 2 then\n                                    x1, y1, z1 = localToWorld(bale.nodeId, bale.width / 2 , 0 , 0 )\n                                    x2, y2, z2 = localToWorld(bale.nodeId, - bale.width / 2 , 0 , 0 )\n                                end\n                            end\n\n                            if x1 ~ = nil then\n                                local distance = math.min( MathUtil.vector3Length(x - x1, y - y1, z - z1), MathUtil.vector3Length(x - x2, y - y2, z - z2))\n                                if distance < minDistance then\n                                    minDistance = distance\n                                    minBale = bale\n                                end\n                            end\n                        end\n                    end\n                end\n\n                if minBale ~ = nil then\n                    local targetX, targetY, targetZ\n                    if minBale.isRoundbale then\n                        targetX, targetY, targetZ = self:updateRoundBaleWrappingNode(minBale, wrappingNode.node, x, y, z)\n                    else\n                            targetX, targetY, targetZ = self:updateSquareBaleWrappingNode(minBale, wrappingNode.node, x, y, z)\n                        end\n\n                        if targetX ~ = nil then\n                            targetX, targetY, targetZ = worldToLocal(getParent(wrappingNode.target), targetX, targetY, targetZ)\n                            setTranslation(wrappingNode.target, targetX, targetY, targetZ)\n                        else\n                                setTranslation(wrappingNode.target, wrappingNode.startTrans[ 1 ], wrappingNode.startTrans[ 2 ], wrappingNode.startTrans[ 3 ])\n                            end\n                        else\n                                setTranslation(wrappingNode.target, wrappingNode.startTrans[ 1 ], wrappingNode.startTrans[ 2 ], wrappingNode.startTrans[ 3 ])\n                            end\n                        end\n\n                        spec.resetWrappingNodes = true\n                    else\n                            if spec.resetWrappingNodes then\n                                for _, wrappingNode in ipairs(spec.wrappingNodes) do\n                                    setTranslation(wrappingNode.target, wrappingNode.startTrans[ 1 ], wrappingNode.startTrans[ 2 ], wrappingNode.startTrans[ 3 ])\n                                end\n\n                                spec.resetWrappingNodes = nil\n                            end\n                        end\n                    end\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"writeinlinebales",children:"writeInlineBales"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"writeInlineBales()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"any"}),(0,r.jsx)(n.th,{children:"name"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"streamId"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"connection"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'function InlineWrapper:writeInlineBales(name, streamId, connection)\n    local spec = self.spec_inlineWrapper\n    local num = table.size(spec[name])\n    streamWriteUIntN(streamId, num, spec.numObjectBits)\n\n    local objectIndex = 0\n    for object,_ in pairs(spec[name]) do\n        objectIndex = objectIndex + 1\n        if objectIndex < = num then\n            NetworkUtil.writeNodeObjectId(streamId, object)\n        else\n                Logging.xmlWarning( self.xmlFile, "Not enough bits to send all inline objects.Please increase \'%s\'" , "vehicle.inlineWrapper#numObjectBits" )\n            end\n        end\n    end\n\n'})})]})}function p(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}}}]);