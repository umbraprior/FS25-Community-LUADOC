"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[79541],{28453(e,n,s){s.d(n,{R:()=>r,x:()=>c});var t=s(96540);const i={},l=t.createContext(i);function r(e){const n=t.useContext(l);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),t.createElement(l.Provider,{value:n},e.children)}},64562(e,n,s){s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>r,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"script/GUI/ScreenElement","title":"ScreenElement","description":"ScreenElement","source":"@site/../docs/script/GUI/ScreenElement.md","sourceDirName":"script/GUI","slug":"/script/GUI/ScreenElement","permalink":"/FS25-Community-LUADOC/script/GUI/ScreenElement","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"SafeFrameElement","permalink":"/FS25-Community-LUADOC/script/GUI/SafeFrameElement"},"next":{"title":"ScrollingLayoutElement","permalink":"/FS25-Community-LUADOC/script/GUI/ScrollingLayoutElement"}}');var i=s(74848),l=s(28453);const r={},c=void 0,o={},d=[{value:"ScreenElement",id:"screenelement",level:2},{value:"canReceiveFocus",id:"canreceivefocus",level:3},{value:"getIsOpen",id:"getisopen",level:3},{value:"initializeScreen",id:"initializescreen",level:3},{value:"inputEvent",id:"inputevent",level:3},{value:"invalidateScreen",id:"invalidatescreen",level:3},{value:"new",id:"new",level:3},{value:"onClose",id:"onclose",level:3},{value:"onOpen",id:"onopen",level:3},{value:"setNextScreenClickSoundMuted",id:"setnextscreenclicksoundmuted",level:3},{value:"setReturnScreenClass",id:"setreturnscreenclass",level:3}];function a(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"screenelement",children:"ScreenElement"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Base screen element. All full-screen GUI views inherit from this.\nScreenElement inherits from FrameElement and has no additional configuration, but contains UI logic shared across all\nfull screen views."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Parent"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"?version=script&category=43&class=490",children:"FrameElement"})}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Functions"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#canreceivefocus",children:"canReceiveFocus"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getisopen",children:"getIsOpen"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#initializescreen",children:"initializeScreen"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#inputevent",children:"inputEvent"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#invalidatescreen",children:"invalidateScreen"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#new",children:"new"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onclose",children:"onClose"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onopen",children:"onOpen"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#setnextscreenclicksoundmuted",children:"setNextScreenClickSoundMuted"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#setreturnscreenclass",children:"setReturnScreenClass"})}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"canreceivefocus",children:"canReceiveFocus"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"canReceiveFocus()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function ScreenElement:canReceiveFocus()\n    if not self.visible then\n        return false\n    end\n\n    -- element can only receive focus if all sub elements are ready to receive focus\n        for i = 1 , # self.elements do\n            if not self.elements[i]:canReceiveFocus() then\n                return false\n            end\n        end\n\n        return true\n    end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getisopen",children:"getIsOpen"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getIsOpen()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function ScreenElement:getIsOpen()\n    return self.isOpen\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"initializescreen",children:"initializeScreen"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"initializeScreen()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function ScreenElement:initializeScreen()\n    self.isInitialized = true\n\n    if self.pageSelector ~ = nil and self.pageSelector.disableButtonSounds ~ = nil then\n        -- disable click sounds for page selector buttons, we use the paging sound in separate screen logic\n            self.pageSelector:disableButtonSounds()\n        end\n    end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"inputevent",children:"inputEvent"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"inputEvent()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"action"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"value"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"eventUsed"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function ScreenElement:inputEvent(action, value, eventUsed)\n    eventUsed = ScreenElement:superClass().inputEvent( self , action, value, eventUsed)\n\n    if self.inputDisableTime < = 0 then\n        -- handle special case for screen paging controls:\n            if self.pageSelector ~ = nil and(action = = InputAction.MENU_PAGE_PREV or action = = InputAction.MENU_PAGE_NEXT) then\n                if action = = InputAction.MENU_PAGE_PREV then\n                    self:onPagePrevious()\n                elseif action = = InputAction.MENU_PAGE_NEXT then\n                        self:onPageNext()\n                    end\n                    -- always consume event to avoid triggering any other focused elements\n                    eventUsed = true\n                end\n\n                if not eventUsed then\n                    local focusElement = FocusManager:getFocusedElement()\n                    local nameAction = g_inputBinding.nameActions[action]\n                    if focusElement ~ = nil and nameAction:getNumActiveBindings() > 0 then\n                        if action = = InputAction.MENU_LIST_PAGE_START then\n                            if focusElement.scrollToStart ~ = nil then\n                                focusElement:scrollToStart()\n                                eventUsed = true\n                            end\n                        elseif action = = InputAction.MENU_LIST_PAGE_END then\n                                if focusElement.scrollToEnd ~ = nil then\n                                    focusElement:scrollToEnd()\n                                    eventUsed = true\n                                end\n                            end\n\n                            if action = = InputAction.MENU_LIST_PAGE_PREV then\n                                if focusElement.scrollToPrevPage ~ = nil then\n                                    focusElement:scrollToPrevPage()\n                                    eventUsed = true\n                                end\n                            elseif action = = InputAction.MENU_LIST_PAGE_NEXT then\n                                    if focusElement.scrollToNextPage ~ = nil then\n                                        focusElement:scrollToNextPage()\n                                        eventUsed = true\n                                    end\n                                end\n\n                                if action = = InputAction.MENU_LIST_PAGE_START_GAMEPAD then\n                                    if focusElement.scrollToStartGamepad ~ = nil then\n                                        focusElement:scrollToStartGamepad()\n                                        eventUsed = true\n                                    end\n                                elseif action = = InputAction.MENU_LIST_PAGE_END_GAMEPAD then\n                                        if focusElement.scrollToEndGamepad ~ = nil then\n                                            focusElement:scrollToEndGamepad()\n                                            eventUsed = true\n                                        end\n                                    end\n                                end\n                            end\n\n                            if not eventUsed then\n                                -- Directly access screen element subclass events by button presses.The abstract implementation of these\n                                -- methods in this class return true, so that we can evaluate if there is no concrete implementation.In\n                                    -- that case, the event must not be consumed.\n                                    eventUsed = ScreenElement.callButtonsWithAction( self.elements, action)\n                                end\n                            end\n\n                            return eventUsed\n                        end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"invalidatescreen",children:"invalidateScreen"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"invalidateScreen()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function ScreenElement:invalidateScreen()\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"new",children:"new"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"new()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"target"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"custom_mt"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function ScreenElement.new(target, custom_mt)\n    local self = FrameElement.new(target, custom_mt or ScreenElement _mt)\n\n    self.isBackAllowed = true\n    self.handleCursorVisibility = true\n    self.returnScreenClass = nil\n    self.isOpen = false\n    self.lastMouseCursorState = false\n    self.isInitialized = false\n    self.nextClickSoundMuted = false\n\n    return self\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"onclose",children:"onClose"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onClose()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function ScreenElement:onClose()\n    if self.handleCursorVisibility then\n        g_inputBinding:setShowMouseCursor( self.lastMouseCursorState)\n    end\n\n    self.isOpen = false\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"onopen",children:"onOpen"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onOpen()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function ScreenElement:onOpen()\n    if not self.isInitialized then\n        self:initializeScreen()\n    end\n\n    self.lastMouseCursorState = g_inputBinding:getShowMouseCursor()\n    g_inputBinding:setShowMouseCursor( true )\n\n    self.isOpen = true\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"setnextscreenclicksoundmuted",children:"setNextScreenClickSoundMuted"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Mute the next click sound. Used to override click sounds for the activate/cancel actions"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"setNextScreenClickSoundMuted()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"value"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function ScreenElement:setNextScreenClickSoundMuted(value)\n    if value = = nil then\n        value = true\n    end\n    self.nextClickSoundMuted = value\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"setreturnscreenclass",children:"setReturnScreenClass"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:'Set the class of the return screen which should be opened when the "back" action is triggered on this screen.'}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"setReturnScreenClass()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"returnScreenClass"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function ScreenElement:setReturnScreenClass(returnScreenClass)\n    self.returnScreenClass = returnScreenClass\nend\n\n"})})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}}}]);