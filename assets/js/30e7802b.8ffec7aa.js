"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[16818],{12476(e,n,t){t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>o,frontMatter:()=>a,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"script/Utils/BaseStateMachineState","title":"BaseStateMachineState","description":"BaseStateMachineState","source":"@site/../docs/script/Utils/BaseStateMachineState.md","sourceDirName":"script/Utils","slug":"/script/Utils/BaseStateMachineState","permalink":"/FS25-Community-LUADOC/script/Utils/BaseStateMachineState","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"Utils","permalink":"/FS25-Community-LUADOC/script/Utils/"},"next":{"title":"BitmapUtil","permalink":"/FS25-Community-LUADOC/script/Utils/BitmapUtil"}}');var s=t(74848),r=t(28453);const a={},l=void 0,c={},d=[{value:"BaseStateMachineState",id:"basestatemachinestate",level:2},{value:"addTransition",id:"addtransition",level:3},{value:"caclulateDebugScreenBounds",id:"caclulatedebugscreenbounds",level:3},{value:"calculateIfShouldBeForced",id:"calculateifshouldbeforced",level:3},{value:"calculateIfValidEntryState",id:"calculateifvalidentrystate",level:3},{value:"createTransitions",id:"createtransitions",level:3},{value:"debugDraw",id:"debugdraw",level:3},{value:"new",id:"new",level:3},{value:"onStateEntered",id:"onstateentered",level:3},{value:"onStateExited",id:"onstateexited",level:3},{value:"trySwitchToValidTransition",id:"tryswitchtovalidtransition",level:3},{value:"updateAsCurrent",id:"updateascurrent",level:3},{value:"updateAsInactive",id:"updateasinactive",level:3}];function h(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"basestatemachinestate",children:"BaseStateMachineState"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"A base, abstract state to be used with an implementation of the StateMachine class."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Functions"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#addtransition",children:"addTransition"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#caclulatedebugscreenbounds",children:"caclulateDebugScreenBounds"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#calculateifshouldbeforced",children:"calculateIfShouldBeForced"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#calculateifvalidentrystate",children:"calculateIfValidEntryState"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#createtransitions",children:"createTransitions"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#debugdraw",children:"debugDraw"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#new",children:"new"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onstateentered",children:"onStateEntered"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onstateexited",children:"onStateExited"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#tryswitchtovalidtransition",children:"trySwitchToValidTransition"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#updateascurrent",children:"updateAsCurrent"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#updateasinactive",children:"updateAsInactive"})}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"addtransition",children:"addTransition"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Adds a transition to the given targetState whenever the given condition is true."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"addTransition(function conditionFunction, BaseStateMachineState targetState, table contextObject)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"function"}),(0,s.jsx)(n.th,{children:"conditionFunction"}),(0,s.jsx)(n.th,{children:"The condition function that must return true for the target state to be switched to."})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"BaseStateMachineState"}),(0,s.jsx)(n.td,{children:"targetState"}),(0,s.jsx)(n.td,{children:"The state that will be transitioned to if the condition is true."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"table"}),(0,s.jsx)(n.td,{children:"contextObject"}),(0,s.jsx)(n.td,{children:"The object used as the context to fire the condition function, if this is nil then the given targetState is used."})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function BaseStateMachineState:addTransition(conditionFunction, targetState, contextObject)\n\n    --#debug Assert.isType(conditionFunction, "function", "Transition must have a valid condition function!")\n        --#debug Assert.isClass(targetState, BaseStateMachineState, "Transition\'s target state must inherit from BaseStateMachineState!")\n\n        -- Add the transition object to the transitions table.\n        self.transitions[targetState] = { context = contextObject or targetState, conditionFunction = conditionFunction }\n        return self.transitions[targetState]\n    end\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"caclulatedebugscreenbounds",children:"caclulateDebugScreenBounds"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Calculates the bounds in screen-space of the debug draw."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"caclulateDebugScreenBounds(float x, float y, float width, float height)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"float"}),(0,s.jsx)(n.th,{children:"x"}),(0,s.jsx)(n.th,{children:"The x position on the screen to begin drawing the values."})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"float"}),(0,s.jsx)(n.td,{children:"y"}),(0,s.jsx)(n.td,{children:"The y position on the screen to begin drawing the values."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"float"}),(0,s.jsx)(n.td,{children:"width"}),(0,s.jsx)(n.td,{children:"The total width of the whole state machine on the screen."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"float"}),(0,s.jsx)(n.td,{children:"height"}),(0,s.jsx)(n.td,{children:"The total height of the whole state machine on the screen."})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function BaseStateMachineState:caclulateDebugScreenBounds(x, y, width, height)\n\n    -- No drawing can happen if there are no debug bound properties.\n        if self.debugPositionX = = nil or self.debugPositionY = = nil or self.debugWidth = = nil or self.debugHeight = = nil then\n            return nil , nil , nil , nil\n        end\n\n        return x + ( self.debugPositionX * width), y + ( self.debugPositionY * height), self.debugWidth * width, self.debugHeight * height\n    end\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"calculateifshouldbeforced",children:"calculateIfShouldBeForced"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Calculates if this state should be forced as the current state."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"calculateIfShouldBeForced()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"float"}),(0,s.jsx)(n.th,{children:"isValid"}),(0,s.jsx)(n.th,{children:"True if this state is valid and can be forced to be made current; otherwise false. False by default."})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function BaseStateMachineState:calculateIfShouldBeForced()\n    return false\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"calculateifvalidentrystate",children:"calculateIfValidEntryState"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Calculates if this state is a valid state to enter back in on after a forced state."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"calculateIfValidEntryState()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"float"}),(0,s.jsx)(n.th,{children:"isValid"}),(0,s.jsx)(n.th,{children:"True if this state is valid and can be made current; otherwise false. False by default."})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function BaseStateMachineState:calculateIfValidEntryState()\n    return false\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"createtransitions",children:"createTransitions"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Called just after the creation of all states, so that other states can be used to create transitions."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"createTransitions()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function BaseStateMachineState:createTransitions()\n\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"debugdraw",children:"debugDraw"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Draws debug information for this state."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"debugDraw(float x, float y, float width, float height, float textSize, )"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"float"}),(0,s.jsx)(n.th,{children:"x"}),(0,s.jsx)(n.th,{children:"The x position on the screen to begin drawing the values."})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"float"}),(0,s.jsx)(n.td,{children:"y"}),(0,s.jsx)(n.td,{children:"The y position on the screen to begin drawing the values."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"float"}),(0,s.jsx)(n.td,{children:"width"}),(0,s.jsx)(n.td,{children:"The total width of the whole state machine on the screen."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"float"}),(0,s.jsx)(n.td,{children:"height"}),(0,s.jsx)(n.td,{children:"The total height of the whole state machine on the screen."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"float"}),(0,s.jsx)(n.td,{children:"textSize"}),(0,s.jsx)(n.td,{children:"The height of the text."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"color"}),(0,s.jsx)(n.td,{})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function BaseStateMachineState:debugDraw(x, y, width, height, textSize, color)\n\n    local frameX, frameY, frameWidth, frameHeight = self:caclulateDebugScreenBounds(x, y, width, height)\n    if frameX = = nil then\n        return nil , nil , nil , nil\n    end\n\n    if color = = nil then\n        color = self.stateMachine.currentState = = self and Color.PRESETS.GREEN or Color.PRESETS.GRAY\n    end\n\n    drawFilledRect(frameX, frameY, frameWidth, frameHeight, color:unpack())\n\n    return frameX, frameY, frameWidth, frameHeight\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"new",children:"new"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Creates a base state machine state. This should only be done within a derived class, as this is an abstract class."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"new(StateMachine stateMachine, table custom_mt)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"StateMachine"}),(0,s.jsx)(n.th,{children:"stateMachine"}),(0,s.jsx)(n.th,{children:"The state machine that manages this state."})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"table"}),(0,s.jsx)(n.td,{children:"custom_mt"}),(0,s.jsx)(n.td,{children:"The derived metatable to use."})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"table"}),(0,s.jsx)(n.th,{children:"instance"}),(0,s.jsx)(n.th,{children:"The created instance."})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function BaseStateMachineState.new(stateMachine, custom_mt)\n\n    -- Create the instance.\n    local self = setmetatable( { } , custom_mt or BaseStateMachineState _mt)\n\n    -- Set the state machine.\n    self.stateMachine = stateMachine\n\n    -- Create the transitions table.\n    self.transitions = { }\n\n    -- The bounds of the state when debug-drawn to the screen.\n    self.debugPositionX = nil\n    self.debugPositionY = nil\n    self.debugWidth = nil\n    self.debugHeight = nil\n\n    -- Return the created instance.\n    return self\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onstateentered",children:"onStateEntered"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Fired when this state is entered."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onStateEntered(BaseStateMachineState previousState)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"BaseStateMachineState"}),(0,s.jsx)(n.th,{children:"previousState"}),(0,s.jsx)(n.th,{children:"The previous state the machine was in before entering this one."})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function BaseStateMachineState:onStateEntered(previousState)\n\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onstateexited",children:"onStateExited"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Fired when this state is exited."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onStateExited(BaseStateMachineState nextState)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"BaseStateMachineState"}),(0,s.jsx)(n.th,{children:"nextState"}),(0,s.jsx)(n.th,{children:"The state the machine will be in after exiting this one."})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function BaseStateMachineState:onStateExited(nextState)\n\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"tryswitchtovalidtransition",children:"trySwitchToValidTransition"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Goes through each transition and runs the condition function. The first function that returns true will cause the\nstate machine to switch to the associated state, and the state will be returned."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"trySwitchToValidTransition()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"BaseStateMachineState"}),(0,s.jsx)(n.th,{children:"newState"}),(0,s.jsx)(n.th,{children:"The state whose associated condition function returned true, and was successfully switched to in the state machine; otherwise nil."})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function BaseStateMachineState:trySwitchToValidTransition()\n\n    -- Go over each transition pair and check for validity.\n        for state, binding in pairs( self.transitions) do\n\n            -- If the condition passes, switch the state machine's current state to the state, if it successfully changes then return the state.\n                if binding.conditionFunction(binding.context) then\n                    self.stateMachine:changeState(state)\n                    return state\n                end\n            end\n\n            -- If no state was switched to, return nil.\n            return nil\n        end\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"updateascurrent",children:"updateAsCurrent"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Updates this state when it is currently the state machine's current state."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"updateAsCurrent(float dt)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"float"}),(0,s.jsx)(n.th,{children:"dt"}),(0,s.jsx)(n.th,{children:"Delta time in ms."})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function BaseStateMachineState:updateAsCurrent(dt)\n\n    -- Do nothing if the state machine is passive.\n        if self.stateMachine:getIsPassive() then\n            return\n        end\n\n        -- Go through the transitions and see if any are valid.\n            self:trySwitchToValidTransition()\n        end\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"updateasinactive",children:"updateAsInactive"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Updates this state when it is currently NOT the state machine's current state."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"updateAsInactive(float dt)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"float"}),(0,s.jsx)(n.th,{children:"dt"}),(0,s.jsx)(n.th,{children:"Delta time in ms."})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function BaseStateMachineState:updateAsInactive(dt)\n\nend\n\n"})})]})}function o(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},28453(e,n,t){t.d(n,{R:()=>a,x:()=>l});var i=t(96540);const s={},r=i.createContext(s);function a(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);