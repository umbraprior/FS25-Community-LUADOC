"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[90778],{28453(e,n,i){i.d(n,{R:()=>a,x:()=>o});var t=i(96540);const l={},s=t.createContext(l);function a(e){const n=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:a(e.components),t.createElement(s.Provider,{value:n},e.children)}},47283(e,n,i){i.r(n),i.d(n,{assets:()=>r,contentTitle:()=>o,default:()=>c,frontMatter:()=>a,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"script/Configurations/VehicleConfigurationItemWheel","title":"VehicleConfigurationItemWheel","description":"VehicleConfigurationItemWheel","source":"@site/../docs/script/Configurations/VehicleConfigurationItemWheel.md","sourceDirName":"script/Configurations","slug":"/script/Configurations/VehicleConfigurationItemWheel","permalink":"/FS25-Community-LUADOC/script/Configurations/VehicleConfigurationItemWheel","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"VehicleConfigurationItemVehicleType","permalink":"/FS25-Community-LUADOC/script/Configurations/VehicleConfigurationItemVehicleType"},"next":{"title":"Field","permalink":"/FS25-Community-LUADOC/script/Contracts/Field"}}');var l=i(74848),s=i(28453);const a={},o=void 0,r={},d=[{value:"VehicleConfigurationItemWheel",id:"vehicleconfigurationitemwheel",level:2},{value:"applyGeneratedConfiguration",id:"applygeneratedconfiguration",level:3},{value:"applyObjectChanges",id:"applyobjectchanges",level:3},{value:"generateConfigurations",id:"generateconfigurations",level:3},{value:"getFallbackConfigId",id:"getfallbackconfigid",level:3},{value:"getNeedsRenaming",id:"getneedsrenaming",level:3},{value:"loadFromXML",id:"loadfromxml",level:3},{value:"new",id:"new",level:3},{value:"onSizeLoad",id:"onsizeload",level:3},{value:"postLoad",id:"postload",level:3},{value:"registerXMLPaths",id:"registerxmlpaths",level:3}];function h(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.h2,{id:"vehicleconfigurationitemwheel",children:"VehicleConfigurationItemWheel"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"Configuration item for the wheels including a dynamic creation of configurations based on tire dimensions defined in\nthe xml"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Parent"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.a,{href:"?version=script&category=16&class=185",children:"VehicleConfigurationItem"})}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Functions"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#applygeneratedconfiguration",children:"applyGeneratedConfiguration"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#applyobjectchanges",children:"applyObjectChanges"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#generateconfigurations",children:"generateConfigurations"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#getfallbackconfigid",children:"getFallbackConfigId"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#getneedsrenaming",children:"getNeedsRenaming"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#loadfromxml",children:"loadFromXML"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#new",children:"new"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#onsizeload",children:"onSizeLoad"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#postload",children:"postLoad"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#registerxmlpaths",children:"registerXMLPaths"})}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"applygeneratedconfiguration",children:"applyGeneratedConfiguration"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"applyGeneratedConfiguration()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,l.jsx)(n.table,{children:(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"any"}),(0,l.jsx)(n.th,{children:"xmlFile"})]})})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:'function VehicleConfigurationItemWheel:applyGeneratedConfiguration(xmlFile)\n    if self.isDynamicConfig then\n        xmlFile:copyTree( self.baseConfigItem.configKey, self.configKey, true , ".wheel" )\n\n        xmlFile:setValue( self.configKey .. ".wheels#baseConfig" , self.baseConfigItem.saveId)\n\n        local configurationIndexToParentConfigIndex = Wheels.createConfigToParentConfigMapping(xmlFile)\n\n        for wheelIndex, wheelData in ipairs( self.tireCombination.wheels) do\n            local wheelKey = string.format( ".wheels.wheel(%d)" , wheelIndex - 1 )\n\n            local wheeXMLObject = WheelXMLObject.new(xmlFile, "vehicle.wheels.wheelConfigurations.wheelConfiguration" , self.baseConfigItem.index, wheelKey, configurationIndexToParentConfigIndex)\n            wheeXMLObject:setXMLLoadKey( "" )\n\n            if wheelData.path ~ = nil then\n                -- insert the real filename as replacement for the dimensions attribute\n                    local path = wheelData.path\n                    if string.startsWith(path, "data/shared/wheels" ) then\n                        path = "$" .. path\n                    end\n\n                    xmlFile:setValue( self.configKey .. wheelKey .. "#filename" , path)\n\n                    local baseRadius = wheelData.radius\n                    if self.baseConfigItem.baseWheelData ~ = nil and self.baseConfigItem.baseWheelData[wheelIndex] ~ = nil then\n                        baseRadius = self.baseConfigItem.baseWheelData[wheelIndex].radius\n                    end\n\n                    local baseYOffset = wheeXMLObject:getLocalValue( ".physics#yOffset" ) or 0\n                    xmlFile:setValue( self.configKey .. wheelKey .. ".physics#yOffset" , baseYOffset - (baseRadius - wheelData.radius))\n                else\n                        -- dummy wheel tag, so the wheel of the parent config is loaded\n                        xmlFile:setBool( self.configKey .. wheelKey .. "#temp" , true )\n                    end\n\n                    wheeXMLObject:delete()\n                end\n            end\n        end\n\n'})}),"\n",(0,l.jsx)(n.h3,{id:"applyobjectchanges",children:"applyObjectChanges"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"applyObjectChanges()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"any"}),(0,l.jsx)(n.th,{children:"vehicle"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"configurationIndexToParentConfigIndex"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"index"})]})]})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:'function VehicleConfigurationItemWheel:applyObjectChanges(vehicle, configurationIndexToParentConfigIndex, index)\n    local parentConfigIndex = configurationIndexToParentConfigIndex[index or self.index]\n    if parentConfigIndex ~ = nil then\n        self:applyObjectChanges(vehicle, configurationIndexToParentConfigIndex, parentConfigIndex)\n    end\n\n    local key = string.format( "vehicle.wheels.wheelConfigurations.wheelConfiguration(%d)" , (index or self.index) - 1 )\n\n    local objects = { }\n    ObjectChangeUtil.loadObjectChangeFromXML(vehicle.xmlFile, key, objects, vehicle.components, vehicle)\n    ObjectChangeUtil.setObjectChanges(objects, true , vehicle, vehicle.setMovingToolDirty)\nend\n\n'})}),"\n",(0,l.jsx)(n.h3,{id:"generateconfigurations",children:"generateConfigurations"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"generateConfigurations()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"any"}),(0,l.jsx)(n.th,{children:"configurationItems"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"xmlFile"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"configName"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"baseConfigItem"})]})]})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:'function VehicleConfigurationItemWheel.generateConfigurations(configurationItems, xmlFile, configName, baseConfigItem)\n    local tireCombinations = g_wheelManager:getTiresForDimensionCombinations(baseConfigItem.dimensionCombinations, baseConfigItem.tireCategories, baseConfigItem.whitelistedCombinations, baseConfigItem.numDynamicConfigurations, baseConfigItem.customBrandOrder)\n    for _, tireCombination in ipairs(tireCombinations) do\n        local configItem = VehicleConfigurationItemWheel.new(configName)\n        configItem.name = baseConfigItem.name\n        if tireCombination.index > 1 then\n            configItem.name = string.format( "%s(%d)" , configItem.name, tireCombination.index)\n        end\n\n        configItem.price = baseConfigItem.price\n        configItem.wheelBrandName = tireCombination.wheelBrand.name\n        configItem.wheelBrandIconFilename = tireCombination.wheelBrand.image\n        configItem.isDefault = baseConfigItem.isDefault\n\n        configItem.saveId = baseConfigItem.saveId .. "_" .. tireCombination.wheelSaveId\n\n        configItem.isDynamicConfig = true\n        configItem.tireCombination = tireCombination\n        configItem.baseConfigItem = baseConfigItem\n\n        configItem.maxForwardSpeed = baseConfigItem.maxForwardSpeed\n        configItem.maxForwardSpeedShop = baseConfigItem.maxForwardSpeedShop\n\n        table.insert(configurationItems, configItem)\n\n        local index = #configurationItems\n        configItem:setIndex(index)\n        configItem.configKey = string.format( "vehicle.wheels.wheelConfigurations.wheelConfiguration(%d)" , index - 1 )\n\n        --#debug if VehicleConfigurationItemWheel.DEBUG then\n            --#debug local wheelNames = ""\n            --#debug for wheelIndex, wheel in ipairs(tireCombination.wheels) do\n                --#debug if wheel.wheelBrand ~ = nil then\n                    --#debug if wheelNames ~ = "" then\n                        --#debug wheelNames = wheelNames .. ", "\n                        --#debug end\n                        --#debug\n                        --#debug wheelNames = wheelNames .. wheel.wheelBrand.name .. "_" .. wheel.wheelName\n                        --#debug end\n                        --#debug end\n                        --#debug\n                        --#debug Logging.info("Found Dynamic Config(%s) Index: %d SaveId: %s Name: %s(%s)", xmlFile.filename, index, configItem.saveId, configItem.name, wheelNames)\n                        --#debug end\n                    end\n                end\n\n'})}),"\n",(0,l.jsx)(n.h3,{id:"getfallbackconfigid",children:"getFallbackConfigId"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"getFallbackConfigId()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"any"}),(0,l.jsx)(n.th,{children:"configs"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"configId"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"configName"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"configFileName"})]})]})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:'function VehicleConfigurationItemWheel.getFallbackConfigId(configs, configId, configName, configFileName)\n    local parts = configId:split( "_" )\n\n    local maxNumMatches, maxNumMatchesConfig = 0 , nil\n    for _, config in pairs(configs) do\n        local otherParts = config.saveId:split( "_" )\n        local numMatches = 0\n        for i = 1 , math.min(#parts, #otherParts) do\n            if parts[i] = = otherParts[i] then\n                numMatches = numMatches + 1\n            else\n                    break\n                end\n            end\n\n            if numMatches > maxNumMatches then\n                maxNumMatches = numMatches\n                maxNumMatchesConfig = config\n            end\n        end\n\n        if maxNumMatchesConfig ~ = nil then\n            return maxNumMatchesConfig.index, maxNumMatchesConfig.saveId\n        end\n\n        return nil , nil\n    end\n\n'})}),"\n",(0,l.jsx)(n.h3,{id:"getneedsrenaming",children:"getNeedsRenaming"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"getNeedsRenaming()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,l.jsx)(n.table,{children:(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"any"}),(0,l.jsx)(n.th,{children:"otherItem"})]})})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"function VehicleConfigurationItemWheel:getNeedsRenaming(otherItem)\n    if self.wheelBrandName ~ = otherItem.wheelBrandName then\n        return false\n    end\n\n    return VehicleConfigurationItemWheel:superClass().getNeedsRenaming( self , otherItem)\nend\n\n"})}),"\n",(0,l.jsx)(n.h3,{id:"loadfromxml",children:"loadFromXML"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"loadFromXML()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"any"}),(0,l.jsx)(n.th,{children:"xmlFile"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"baseKey"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"configKey"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"baseDirectory"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"customEnvironment"})]})]})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:'function VehicleConfigurationItemWheel:loadFromXML(xmlFile, baseKey, configKey, baseDirectory, customEnvironment)\n    if not VehicleConfigurationItemWheel:superClass().loadFromXML( self , xmlFile, baseKey, configKey, baseDirectory, customEnvironment) then\n        return false\n    end\n\n    local name = xmlFile:getValue(configKey .. "#brand" )\n    self.wheelBrandKey = configKey\n    if name ~ = nil then\n        local brandDesc = g_brandManager:getBrandByName(name)\n        if brandDesc ~ = nil then\n            self.wheelBrandName = brandDesc.title\n            self.wheelBrandIconFilename = brandDesc.image\n        else\n                Logging.xmlWarning(xmlFile, "Wheel brand \'%s\' is not defined for \'%s\'!" , name, configKey)\n                end\n            end\n\n            self.maxForwardSpeed = xmlFile:getValue(configKey .. "#maxForwardSpeed" )\n            self.maxForwardSpeedShop = xmlFile:getValue(configKey .. "#maxForwardSpeedShop" )\n\n            local configurationIndexToParentConfigIndex = Wheels.createConfigToParentConfigMapping(xmlFile)\n\n            self.baseWheelData = { }\n            xmlFile:iterate(configKey .. ".wheels.wheel" , function (index, key)\n                local wheeXMLObject = WheelXMLObject.new(xmlFile, "vehicle.wheels.wheelConfigurations.wheelConfiguration" , 1 , string.format( ".wheels.wheel(%d)" , index - 1 ), configurationIndexToParentConfigIndex)\n                wheeXMLObject:setXMLLoadKey( "" )\n\n                local dimension\n                local dimensionsStr = wheeXMLObject:getLocalValue( "#dimensions" )\n                if dimensionsStr ~ = nil then\n                    local dimensionParts = dimensionsStr:split( " " )\n                    if #dimensionParts > 0 then\n                        dimension = dimensionParts[ 1 ]\n                    end\n                end\n\n                local xOffset = wheeXMLObject:getLocalValue( ".physics#xOffset" , 0 )\n                local rimOffset = wheeXMLObject:getLocalValue( "#rimOffset" , 0 )\n\n                local radius, width\n                if dimension ~ = nil then\n                    radius, width = g_wheelManager:getWheelRadiusAndWidthFromDimension(dimension)\n                else\n                        local filename = wheeXMLObject:getLocalValue( "#filename" )\n                        if filename ~ = nil then\n                            filename = Utils.getFilename(filename, baseDirectory)\n                            radius, width = g_wheelManager:getWheelRadiusAndWidthFromFilename(filename)\n                        end\n                    end\n\n                    wheeXMLObject:delete()\n\n                    if radius ~ = nil and width ~ = nil then\n                        self.baseWheelData[index] = { radius = radius, width = width, xOffset = xOffset, rimOffset = rimOffset }\n                    end\n                end )\n\n                local dimensionCombinations = { }\n                local numWheels = 0\n                xmlFile:iterate(configKey .. ".wheels.wheel" , function (index, key)\n                    local wheeXMLObject = WheelXMLObject.new(xmlFile, "vehicle.wheels.wheelConfigurations.wheelConfiguration" , self.index, string.format( ".wheels.wheel(%d)" , index - 1 ), configurationIndexToParentConfigIndex)\n                    wheeXMLObject:setXMLLoadKey( "" )\n\n                    local dimensionsStr = wheeXMLObject:getLocalValue( "#dimensions" )\n                    if dimensionsStr ~ = nil then\n                        local dimensionParts = dimensionsStr:split( " " )\n                        for i, dimension in ipairs(dimensionParts) do\n                            if dimensionCombinations[i] = = nil then\n                                dimensionCombinations[i] = { }\n                            end\n\n                            table.insert(dimensionCombinations[i], index, dimension)\n                        end\n                    end\n\n                    wheeXMLObject:delete()\n\n                    numWheels = numWheels + 1\n                end )\n\n                for i, dimensions in pairs(dimensionCombinations) do\n                    for i = 1 , numWheels do\n                        if dimensions[i] = = nil then\n                            dimensions[i] = "-"\n                        end\n                    end\n                end\n\n                if #dimensionCombinations = = 0 then\n                    return true\n                else\n                        if self.wheelBrandName ~ = nil then\n                            Logging.xmlWarning(xmlFile, "Wheel brand defined for dynamic configuration, this is not allowed! (%s)" , configKey)\n                                return true\n                            end\n\n                            local customBrandOrder = xmlFile:getValue( "vehicle.wheels.wheelConfigurations#customBrandOrder" , nil , true )\n                            if customBrandOrder ~ = nil then\n                                self.customBrandOrder = { }\n                                for i, v in ipairs(customBrandOrder) do\n                                    self.customBrandOrder[ string.upper(v)] = i\n                                end\n                            end\n\n                            local tireCategories = xmlFile:getValue(configKey .. "#tireCategories" ) or xmlFile:getValue( "vehicle.wheels.wheelConfigurations#tireCategories" )\n                            if tireCategories ~ = nil then\n                                tireCategories = tireCategories:split( " " )\n                                if #tireCategories > 0 then\n                                    self.tireCategories = { }\n                                    for _, category in ipairs(tireCategories) do\n                                        self.tireCategories[category] = true\n                                    end\n                                end\n                            end\n\n                            self.whitelistedCombinations = { }\n                            xmlFile:iterate( "vehicle.wheels.wheelConfigurations.tireCombination" , function (index, key)\n                                local brandName = xmlFile:getValue(key .. "#brand" )\n                                local brand = g_brandManager:getBrandByName(brandName)\n                                if brand ~ = nil then\n                                    local names = xmlFile:getValue(key .. "#names" )\n                                    if names ~ = nil then\n                                        if names = = "-" then\n                                            -- block any configurations from this brand\n                                            table.insert( self.whitelistedCombinations, { brand = brand, names = { } } )\n                                        else\n                                                names = names:split( " " )\n                                                if #names > 0 then\n                                                    table.insert( self.whitelistedCombinations, { brand = brand, names = names } )\n                                                end\n                                            end\n                                        end\n                                    end\n                                end )\n\n                                local configWhitelistedCombinations = { }\n\n                                local function addTireCombinations(index)\n                                    local parentIndex = configurationIndexToParentConfigIndex[index]\n                                    if parentIndex ~ = nil then\n                                        addTireCombinations(parentIndex)\n                                    end\n\n                                    xmlFile:iterate( string.format( "vehicle.wheels.wheelConfigurations.wheelConfiguration(%d).tireCombination" , index - 1 ), function (_, key)\n                                        local brandName = xmlFile:getValue(key .. "#brand" )\n                                        local brand = g_brandManager:getBrandByName(brandName)\n                                        if brand ~ = nil then\n                                            local names = xmlFile:getValue(key .. "#names" )\n                                            if names ~ = nil then\n                                                if names = = "-" then\n                                                    -- block any configurations from this brand\n                                                    table.insert(configWhitelistedCombinations, { brand = brand, names = { } } )\n                                                else\n                                                        names = names:split( " " )\n                                                        if #names > 0 then\n                                                            table.insert(configWhitelistedCombinations, { brand = brand, names = names } )\n                                                        end\n                                                    end\n                                                end\n                                            end\n                                        end )\n                                    end\n\n                                    addTireCombinations( self.index)\n\n                                    self.numDynamicConfigurations = xmlFile:getValue(configKey .. "#numDynamicConfigurations" , math.huge)\n\n                                    for _, combination in ipairs(configWhitelistedCombinations) do\n                                        for i = # self.whitelistedCombinations, 1 , - 1 do\n                                            local defaultCombination = self.whitelistedCombinations[i]\n                                            if defaultCombination.brand = = combination.brand then\n                                                table.remove( self.whitelistedCombinations, i)\n                                            end\n                                        end\n                                    end\n\n                                    for _, combination in ipairs(configWhitelistedCombinations) do\n                                        table.insert( self.whitelistedCombinations, combination)\n                                    end\n\n                                    self.dimensionCombinations = dimensionCombinations\n\n                                    --#debug if VehicleConfigurationItemWheel.DEBUG then\n                                        --#debug Logging.info("Dynamic Configuration Data(%s)", xmlFile.filename)\n                                        --#debug log("dimensionCombinations:")\n                                        --#debug print_r(self.dimensionCombinations)\n                                        --#debug log("whitelistedCombinations:")\n                                        --#debug print_r(self.whitelistedCombinations)\n                                        --#debug end\n                                    end\n\n                                    return true\n                                end\n\n'})}),"\n",(0,l.jsx)(n.h3,{id:"new",children:"new"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"new()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"any"}),(0,l.jsx)(n.th,{children:"configName"})]})}),(0,l.jsx)(n.tbody,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"customMt"})]})})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"function VehicleConfigurationItemWheel.new(configName, customMt)\n    local self = VehicleConfigurationItemWheel:superClass().new(configName, VehicleConfigurationItemWheel _mt)\n\n    return self\nend\n\n"})}),"\n",(0,l.jsx)(n.h3,{id:"onsizeload",children:"onSizeLoad"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"onSizeLoad()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"any"}),(0,l.jsx)(n.th,{children:"xmlFile"})]})}),(0,l.jsx)(n.tbody,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"sizeData"})]})})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:'function VehicleConfigurationItemWheel:onSizeLoad(xmlFile, sizeData)\n    VehicleConfigurationItemWheel:superClass().onSizeLoad( self , xmlFile, sizeData)\n\n    if self.isDynamicConfig then\n        self:applyGeneratedConfiguration(xmlFile)\n\n        -- do not extend the size automatically depending on wheel config if we manually overwrite it in the xmlFile\n            if xmlFile:getValue( self.configKey .. ".size#width" ) ~ = nil then\n                return\n            end\n\n            local configurationIndexToParentConfigIndex = Wheels.createConfigToParentConfigMapping(xmlFile)\n\n            local maxOffset = 0\n            for wheelIndex, wheelData in ipairs( self.tireCombination.wheels) do\n                if wheelData.path ~ = nil then\n                    local wheelKey = string.format( ".wheels.wheel(%d)" , wheelIndex - 1 )\n\n                    local baseWidth, baseXOffset, baseRimOffset = wheelData.width, 0 , 0\n                    if self.baseConfigItem.baseWheelData ~ = nil and self.baseConfigItem.baseWheelData[wheelIndex] ~ = nil then\n                        baseWidth = self.baseConfigItem.baseWheelData[wheelIndex].width\n                        baseXOffset = self.baseConfigItem.baseWheelData[wheelIndex].xOffset\n                        baseRimOffset = self.baseConfigItem.baseWheelData[wheelIndex].rimOffset\n                    end\n\n                    local wheeXMLObject = WheelXMLObject.new(xmlFile, "vehicle.wheels.wheelConfigurations.wheelConfiguration" , self.index, wheelKey, configurationIndexToParentConfigIndex)\n                    wheeXMLObject:setXMLLoadKey( "" )\n\n                    local xOffsetDifference = (wheeXMLObject:getLocalValue( ".physics#xOffset" , 0 ) - baseXOffset) * 2\n                    xOffsetDifference = xOffsetDifference + (wheeXMLObject:getLocalValue( "#rimOffset" , 0 ) - baseRimOffset) * 2\n\n                    maxOffset = math.max(maxOffset, (wheelData.width - baseWidth) + xOffsetDifference)\n\n                    local additionalOffset = 0\n                    local i = 0\n                    while true do\n                        local key = string.format( ".additionalWheel(%d)" , i)\n                        local _xmlFile, _ = wheeXMLObject:getXMLFileAndPropertyKey(key)\n                        if _xmlFile = = nil then\n                            break\n                        end\n\n                        local additionalWheelOffset = wheeXMLObject:getLocalValue(key .. "#offset" , 0 )\n\n                        -- we assume all mounted wheels got the same width\n                        -- otherwise we need to open the external wheel xml file, which would be quite slow\n                        additionalOffset = additionalOffset + (additionalWheelOffset + wheelData.width)\n\n                        i = i + 1\n                    end\n\n                    maxOffset = math.max(maxOffset, additionalOffset * 2 + (wheelData.width - baseWidth) + xOffsetDifference)\n\n                    wheeXMLObject:delete()\n                end\n            end\n\n            sizeData.width = sizeData.width + maxOffset\n        end\n    end\n\n'})}),"\n",(0,l.jsx)(n.h3,{id:"postload",children:"postLoad"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"postLoad()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"any"}),(0,l.jsx)(n.th,{children:"xmlFile"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"baseKey"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"baseDir"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"customEnvironment"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"isMod"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"configurationItems"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"storeItem"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"configName"})]})]})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"function VehicleConfigurationItemWheel.postLoad(xmlFile, baseKey, baseDir, customEnvironment, isMod, configurationItems, storeItem, configName)\n    VehicleConfigurationItemWheel:superClass().postLoad(xmlFile, baseKey, baseDir, customEnvironment, isMod, configurationItems, storeItem, configName)\n\n    for i, baseConfigItem in ipairs(configurationItems) do\n        if baseConfigItem.dimensionCombinations ~ = nil then\n            -- we don't need to create configurations if they are not selectable anyway\n                if baseConfigItem.isSelectable then\n                    baseConfigItem.isSelectable = false -- not selectable, as it only has dimensions defined, not filenames\n                    VehicleConfigurationItemWheel.generateConfigurations(configurationItems, xmlFile, configName, baseConfigItem)\n                end\n            end\n        end\n\n        local hasWheelBrands = false\n        for _, item in ipairs(configurationItems) do\n            if item.wheelBrandName ~ = nil then\n                hasWheelBrands = true\n                break\n            end\n        end\n\n        --#debug if VehicleConfigurationItemWheel.DEBUG then\n            --#debug for itemIndex, item in ipairs(configurationItems) do\n                --#debug Logging.xmlInfo(xmlFile, \"Wheel Config(Index: '%d' SaveId: '%s' Brand: '%s' Name: '%s' Selectable: '%s')\", itemIndex, item.saveId, item.wheelBrandName, item.name, item.isSelectable)\n                --#debug end\n                --#debug end\n\n                if hasWheelBrands then\n                    for _, item in ipairs(configurationItems) do\n                        if item.isSelectable and item.wheelBrandName = = nil then\n                            Logging.xmlWarning(xmlFile, \"Wheel brand missing for wheel configuration '%s'!\" , item.wheelBrandKey)\n                            end\n                        end\n                    end\n                end\n\n"})}),"\n",(0,l.jsx)(n.h3,{id:"registerxmlpaths",children:"registerXMLPaths"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"registerXMLPaths()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"any"}),(0,l.jsx)(n.th,{children:"schema"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"rootPath"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"any"}),(0,l.jsx)(n.td,{children:"configPath"})]})]})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:'function VehicleConfigurationItemWheel.registerXMLPaths(schema, rootPath, configPath)\n    VehicleConfigurationItemWheel:superClass().registerXMLPaths(schema, rootPath, configPath)\n\n    schema:register(XMLValueType.STRING, configPath .. "#brand" , "Name of wheel brand" )\n\n    schema:register(XMLValueType.FLOAT, configPath .. "#maxForwardSpeed" , "Max.speed to set on the transmission" )\n    schema:register(XMLValueType.FLOAT, configPath .. "#maxForwardSpeedShop" , "Max.speed to display in the shop" )\nend\n\n'})})]})}function c(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(h,{...e})}):h(e)}}}]);