"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[27521],{28453(e,n,l){l.d(n,{R:()=>a,x:()=>t});var s=l(96540);const i={},r=s.createContext(i);function a(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(r.Provider,{value:n},e.children)}},64597(e,n,l){l.r(n),l.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"script/Specializations/PlaceableHusbandryWater","title":"PlaceableHusbandryWater","description":"PlaceableHusbandryWater","source":"@site/../docs/script/Specializations/PlaceableHusbandryWater.md","sourceDirName":"script/Specializations","slug":"/script/Specializations/PlaceableHusbandryWater","permalink":"/FS25-Community-LUADOC/script/Specializations/PlaceableHusbandryWater","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"PlaceableHusbandryStraw","permalink":"/FS25-Community-LUADOC/script/Specializations/PlaceableHusbandryStraw"},"next":{"title":"PlaceableIncomePerHour","permalink":"/FS25-Community-LUADOC/script/Specializations/PlaceableIncomePerHour"}}');var i=l(74848),r=l(28453);const a={},t=void 0,c={},d=[{value:"PlaceableHusbandryWater",id:"placeablehusbandrywater",level:2},{value:"getConditionInfos",id:"getconditioninfos",level:3},{value:"onDelete",id:"ondelete",level:3},{value:"onFinalizePlacement",id:"onfinalizeplacement",level:3},{value:"onHusbandryAnimalsCreated",id:"onhusbandryanimalscreated",level:3},{value:"onHusbandryAnimalsUpdate",id:"onhusbandryanimalsupdate",level:3},{value:"onHusbandryFillLevelChanged",id:"onhusbandryfilllevelchanged",level:3},{value:"onLoad",id:"onload",level:3},{value:"onPostFinalizePlacement",id:"onpostfinalizeplacement",level:3},{value:"prerequisitesPresent",id:"prerequisitespresent",level:3},{value:"registerEventListeners",id:"registereventlisteners",level:3},{value:"registerFunctions",id:"registerfunctions",level:3},{value:"registerOverwrittenFunctions",id:"registeroverwrittenfunctions",level:3},{value:"registerXMLPaths",id:"registerxmlpaths",level:3},{value:"updateFeeding",id:"updatefeeding",level:3},{value:"updateInfo",id:"updateinfo",level:3},{value:"updateWaterPlane",id:"updatewaterplane",level:3}];function o(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"placeablehusbandrywater",children:"PlaceableHusbandryWater"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Specialization for placeables"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Functions"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getconditioninfos",children:"getConditionInfos"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#ondelete",children:"onDelete"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onfinalizeplacement",children:"onFinalizePlacement"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onhusbandryanimalscreated",children:"onHusbandryAnimalsCreated"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onhusbandryanimalsupdate",children:"onHusbandryAnimalsUpdate"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onhusbandryfilllevelchanged",children:"onHusbandryFillLevelChanged"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onload",children:"onLoad"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onpostfinalizeplacement",children:"onPostFinalizePlacement"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#prerequisitespresent",children:"prerequisitesPresent"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#registereventlisteners",children:"registerEventListeners"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#registerfunctions",children:"registerFunctions"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#registeroverwrittenfunctions",children:"registerOverwrittenFunctions"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#registerxmlpaths",children:"registerXMLPaths"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#updatefeeding",children:"updateFeeding"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#updateinfo",children:"updateInfo"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#updatewaterplane",children:"updateWaterPlane"})}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"getconditioninfos",children:"getConditionInfos"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getConditionInfos()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function PlaceableHusbandryWater:getConditionInfos(superFunc)\n    local infos = superFunc( self )\n    local spec = self.spec_husbandryWater\n\n    if not spec.automaticWaterSupply then\n        local info = { }\n        local fillType = g_fillTypeManager:getFillTypeByIndex(spec.fillType)\n        if fillType ~ = nil then\n            info.title = fillType.title\n            info.value = self:getHusbandryFillLevel(spec.fillType)\n            local capacity = self:getHusbandryCapacity(spec.fillType)\n            local ratio = 0\n            if capacity > 0 then\n                ratio = info.value / capacity\n            end\n            info.ratio = math.clamp(ratio, 0 , 1 )\n            info.invertedBar = false\n\n            table.insert(infos, info)\n        end\n    end\n\n    return infos\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"ondelete",children:"onDelete"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onDelete()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function PlaceableHusbandryWater:onDelete()\n    local spec = self.spec_husbandryWater\n    if spec.waterPlane ~ = nil then\n        spec.waterPlane:delete()\n        spec.waterPlane = nil\n    end\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"onfinalizeplacement",children:"onFinalizePlacement"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onFinalizePlacement()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function PlaceableHusbandryWater:onFinalizePlacement()\n    local spec = self.spec_husbandryWater\n\n    if not spec.automaticWaterSupply then\n        if not self:getHusbandryIsFillTypeSupported(spec.fillType) then\n            Logging.warning( \"Missing filltype 'water' in husbandry storage! Changing to automatic water supply\" )\n            spec.automaticWaterSupply = true\n        end\n    end\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"onhusbandryanimalscreated",children:"onHusbandryAnimalsCreated"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onHusbandryAnimalsCreated()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"husbandryId"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function PlaceableHusbandryWater:onHusbandryAnimalsCreated(husbandryId)\n    if husbandryId ~ = nil then\n        local spec = self.spec_husbandryWater\n        spec.husbandryId = husbandryId\n        for _, waterPlace in ipairs(spec.waterPlaces) do\n            local feedingPlaceIndex, isAccessible = addFeedingPlace(husbandryId, waterPlace.node, 0.0 , AnimalHusbandryFeedingType.WATER)\n            if isAccessible then\n                waterPlace.place = feedingPlaceIndex\n            else\n                    -- DebugGizmo.new():createWithNode(waterPlace.node, string.format("%q outside of nav mesh", getName(waterPlace.node))):setTextColor(Color.PRESETS.ORANGE):addToManager(nil, 30000)\n                end\n            end\n        end\n    end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"onhusbandryanimalsupdate",children:"onHusbandryAnimalsUpdate"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onHusbandryAnimalsUpdate()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"clusters"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function PlaceableHusbandryWater:onHusbandryAnimalsUpdate(clusters)\n    local spec = self.spec_husbandryWater\n\n    spec.litersPerHour = 0\n    for _, cluster in ipairs(clusters) do\n        local subType = g_currentMission.animalSystem:getSubTypeByIndex(cluster.subTypeIndex)\n        if subType ~ = nil then\n            local water = subType.input.water\n            if water ~ = nil then\n                local age = cluster:getAge()\n                local litersPerAnimal = water:get(age)\n                local litersPerDay = litersPerAnimal * cluster:getNumAnimals()\n\n                spec.litersPerHour = spec.litersPerHour + (litersPerDay / 24 )\n            end\n        end\n    end\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"onhusbandryfilllevelchanged",children:"onHusbandryFillLevelChanged"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onHusbandryFillLevelChanged()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"fillTypeIndex"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"delta"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function PlaceableHusbandryWater:onHusbandryFillLevelChanged(fillTypeIndex, delta)\n    local spec = self.spec_husbandryWater\n    if fillTypeIndex = = spec.fillType then\n        self:updateWaterPlane()\n    end\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"onload",children:"onLoad"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onLoad()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"savegame"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function PlaceableHusbandryWater:onLoad(savegame)\n    local spec = self.spec_husbandryWater\n\n    spec.husbandryId = nil\n    spec.litersPerHour = 0\n    spec.automaticWaterSupply = false\n    spec.fillType = FillType.WATER\n    spec.waterPlaces = { }\n    spec.info = { title = g_i18n:getText( "fillType_water" ), text = "" }\n    spec.automaticWaterSupply = self.xmlFile:getValue( "placeable.husbandry.water#automaticWaterSupply" , spec.automaticWaterSupply)\n\n    spec.waterPlane = FillPlane.new()\n    if spec.waterPlane:load( self.components, self.xmlFile, "placeable.husbandry.water.waterPlane" , self.i3dMappings) then\n        spec.waterPlane:setState(spec.automaticWaterSupply and 1 or 0 )\n    else\n            spec.waterPlane:delete()\n            spec.waterPlane = nil\n        end\n\n        self.xmlFile:iterate( "placeable.husbandry.water.waterPlaces.waterPlace" , function (_, key)\n            local node = self.xmlFile:getValue(key .. "#node" , nil , self.components, self.i3dMappings)\n            table.insert(spec.waterPlaces, { node = node, place = nil } )\n        end )\n    end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"onpostfinalizeplacement",children:"onPostFinalizePlacement"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onPostFinalizePlacement()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function PlaceableHusbandryWater:onPostFinalizePlacement()\n    self:updateWaterPlane()\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"prerequisitespresent",children:"prerequisitesPresent"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Checks if all prerequisite specializations are loaded"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"prerequisitesPresent(table specializations)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"table"}),(0,i.jsx)(n.th,{children:"specializations"}),(0,i.jsx)(n.th,{children:"specializations"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"table"}),(0,i.jsx)(n.th,{children:"hasPrerequisite"}),(0,i.jsx)(n.th,{children:"true if all prerequisite specializations are loaded"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function PlaceableHusbandryWater.prerequisitesPresent(specializations)\n    return true\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"registereventlisteners",children:"registerEventListeners"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"registerEventListeners()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"placeableType"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function PlaceableHusbandryWater.registerEventListeners(placeableType)\n    SpecializationUtil.registerEventListener(placeableType, "onLoad" , PlaceableHusbandryWater )\n    SpecializationUtil.registerEventListener(placeableType, "onDelete" , PlaceableHusbandryWater )\n    SpecializationUtil.registerEventListener(placeableType, "onFinalizePlacement" , PlaceableHusbandryWater )\n    SpecializationUtil.registerEventListener(placeableType, "onPostFinalizePlacement" , PlaceableHusbandryWater )\n    SpecializationUtil.registerEventListener(placeableType, "onHusbandryAnimalsUpdate" , PlaceableHusbandryWater )\n    SpecializationUtil.registerEventListener(placeableType, "onHusbandryAnimalsCreated" , PlaceableHusbandryWater )\n    SpecializationUtil.registerEventListener(placeableType, "onHusbandryFillLevelChanged" , PlaceableHusbandryWater )\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"registerfunctions",children:"registerFunctions"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"registerFunctions()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"placeableType"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function PlaceableHusbandryWater.registerFunctions(placeableType)\n    SpecializationUtil.registerFunction(placeableType, "updateWaterPlane" , PlaceableHusbandryWater.updateWaterPlane)\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"registeroverwrittenfunctions",children:"registerOverwrittenFunctions"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"registerOverwrittenFunctions()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"placeableType"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function PlaceableHusbandryWater.registerOverwrittenFunctions(placeableType)\n    SpecializationUtil.registerOverwrittenFunction(placeableType, "updateFeeding" , PlaceableHusbandryWater.updateFeeding)\n    SpecializationUtil.registerOverwrittenFunction(placeableType, "getConditionInfos" , PlaceableHusbandryWater.getConditionInfos)\n    SpecializationUtil.registerOverwrittenFunction(placeableType, "updateInfo" , PlaceableHusbandryWater.updateInfo)\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"registerxmlpaths",children:"registerXMLPaths"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"registerXMLPaths()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"schema"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"basePath"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function PlaceableHusbandryWater.registerXMLPaths(schema, basePath)\n    schema:setXMLSpecializationType( "Husbandry" )\n    basePath = basePath .. ".husbandry.water"\n    schema:register(XMLValueType.BOOL, basePath .. "#automaticWaterSupply" , "If husbandry has a automatic water supply" , false )\n    schema:register(XMLValueType.NODE_INDEX, basePath .. ".waterPlaces.waterPlace(?)#node" , "Water place" )\n    FillPlane.registerXMLPaths(schema, basePath .. ".waterPlane" )\n    schema:setXMLSpecializationType()\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"updatefeeding",children:"updateFeeding"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"updateFeeding()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function PlaceableHusbandryWater:updateFeeding(superFunc)\n    local factor = superFunc( self )\n    local spec = self.spec_husbandryWater\n\n    if self.isServer and spec.litersPerHour > 0 then\n        local delta = spec.litersPerHour * g_currentMission.environment.timeAdjustment\n\n        if spec.automaticWaterSupply then\n            local fillType = g_fillTypeManager:getFillTypeByIndex(spec.fillType)\n            local price = delta * fillType.pricePerLiter\n            g_currentMission:addMoney( - price, self:getOwnerFarmId(), MoneyType.PURCHASE_WATER, false , false )\n        else\n                local remainingLiters = self:removeHusbandryFillLevel( nil , delta, spec.fillType)\n                local usedDelta = (delta - remainingLiters)\n                factor = factor * math.clamp(usedDelta / delta, 0 , 1 )\n            end\n        end\n\n        return factor\n    end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"updateinfo",children:"updateInfo"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"updateInfo()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"superFunc"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"infoTable"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function PlaceableHusbandryWater:updateInfo(superFunc, infoTable)\n    superFunc( self , infoTable)\n    local spec = self.spec_husbandryWater\n    if not spec.automaticWaterSupply then\n        local fillLevel = self:getHusbandryFillLevel(spec.fillType)\n        spec.info.text = string.format( "%d l" , fillLevel)\n        table.insert(infoTable, spec.info)\n    end\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"updatewaterplane",children:"updateWaterPlane"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"updateWaterPlane()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function PlaceableHusbandryWater:updateWaterPlane()\n    local spec = self.spec_husbandryWater\n    local fillLevel = self:getHusbandryFillLevel(spec.fillType, nil )\n\n    if spec.waterPlane ~ = nil then\n        local capacity = self:getHusbandryCapacity(spec.fillType, nil )\n        local factor = 0\n        if capacity > 0 then\n            factor = fillLevel / capacity\n        end\n        spec.waterPlane:setState(factor)\n    end\n\n    if spec.husbandryId ~ = nil then\n        for _, waterPlace in pairs(spec.waterPlaces) do\n            if waterPlace.place ~ = nil then\n                updateFeedingPlace(spec.husbandryId, waterPlace.place, fillLevel)\n            end\n        end\n    end\nend\n\n"})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}}}]);