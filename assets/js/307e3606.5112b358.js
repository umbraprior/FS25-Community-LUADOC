"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[98531],{28453(e,n,r){r.d(n,{R:()=>t,x:()=>a});var l=r(96540);const i={},s=l.createContext(i);function t(e){const n=l.useContext(s);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),l.createElement(s.Provider,{value:n},e.children)}},30007(e,n,r){r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>o,frontMatter:()=>t,metadata:()=>l,toc:()=>d});const l=JSON.parse('{"id":"script/Specializations/Sprayer","title":"Sprayer","description":"Sprayer","source":"@site/../docs/script/Specializations/Sprayer.md","sourceDirName":"script/Specializations","slug":"/script/Specializations/Sprayer","permalink":"/FS25-Community-LUADOC/script/Specializations/Sprayer","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"SplineVehicle","permalink":"/FS25-Community-LUADOC/script/Specializations/SplineVehicle"},"next":{"title":"StonePicker","permalink":"/FS25-Community-LUADOC/script/Specializations/StonePicker"}}');var i=r(74848),s=r(28453);const t={},a=void 0,c={},d=[{value:"Sprayer",id:"sprayer",level:2},{value:"actionEventDoubledAmount",id:"actioneventdoubledamount",level:3},{value:"doCheckSpeedLimit",id:"docheckspeedlimit",level:3},{value:"getActiveSprayType",id:"getactivespraytype",level:3},{value:"getAIImplementUseVineSegment",id:"getaiimplementusevinesegment",level:3},{value:"getAIRequiresTurnOffOnHeadland",id:"getairequiresturnoffonheadland",level:3},{value:"getAreControlledActionsAllowed",id:"getarecontrolledactionsallowed",level:3},{value:"getAreEffectsVisible",id:"getareeffectsvisible",level:3},{value:"getCanBeTurnedOn",id:"getcanbeturnedon",level:3},{value:"getCanToggleTurnedOn",id:"getcantoggleturnedon",level:3},{value:"getDefaultSpeedLimit",id:"getdefaultspeedlimit",level:3},{value:"getDirtMultiplier",id:"getdirtmultiplier",level:3},{value:"getDrawFirstFillText",id:"getdrawfirstfilltext",level:3},{value:"getEffectByNode",id:"geteffectbynode",level:3},{value:"getExternalFill",id:"getexternalfill",level:3},{value:"getFillVolumeUVScrollSpeed",id:"getfillvolumeuvscrollspeed",level:3},{value:"getIsSprayerExternallyFilled",id:"getissprayerexternallyfilled",level:3},{value:"getIsSprayTypeActive",id:"getisspraytypeactive",level:3},{value:"getIsWorkAreaActive",id:"getisworkareaactive",level:3},{value:"getRawSpeedLimit",id:"getrawspeedlimit",level:3},{value:"getSprayerDoubledAmountActive",id:"getsprayerdoubledamountactive",level:3},{value:"getSprayerFillUnitIndex",id:"getsprayerfillunitindex",level:3},{value:"getSprayerUsage",id:"getsprayerusage",level:3},{value:"getUseSprayerAIRequirements",id:"getusesprayerairequirements",level:3},{value:"getVariableWorkWidthUsage",id:"getvariableworkwidthusage",level:3},{value:"getWearMultiplier",id:"getwearmultiplier",level:3},{value:"initSpecialization",id:"initspecialization",level:3},{value:"loadSprayTypeFromXML",id:"loadspraytypefromxml",level:3},{value:"loadWorkAreaFromXML",id:"loadworkareafromxml",level:3},{value:"onAIImplementEnd",id:"onaiimplementend",level:3},{value:"onDelete",id:"ondelete",level:3},{value:"onEndWorkAreaProcessing",id:"onendworkareaprocessing",level:3},{value:"onFillUnitFillLevelChanged",id:"onfillunitfilllevelchanged",level:3},{value:"onLoad",id:"onload",level:3},{value:"onPreDetach",id:"onpredetach",level:3},{value:"onRegisterActionEvents",id:"onregisteractionevents",level:3},{value:"onSetLowered",id:"onsetlowered",level:3},{value:"onSprayTypeChange",id:"onspraytypechange",level:3},{value:"onStartWorkAreaProcessing",id:"onstartworkareaprocessing",level:3},{value:"onStateChange",id:"onstatechange",level:3},{value:"onTurnedOff",id:"onturnedoff",level:3},{value:"onTurnedOn",id:"onturnedon",level:3},{value:"onUpdateTick",id:"onupdatetick",level:3},{value:"onVariableWorkWidthSectionChanged",id:"onvariableworkwidthsectionchanged",level:3},{value:"prerequisitesPresent",id:"prerequisitespresent",level:3},{value:"processSprayerArea",id:"processsprayerarea",level:3},{value:"registerEventListeners",id:"registereventlisteners",level:3},{value:"registerEvents",id:"registerevents",level:3},{value:"registerFunctions",id:"registerfunctions",level:3},{value:"registerOverwrittenFunctions",id:"registeroverwrittenfunctions",level:3},{value:"setSprayerAITerrainDetailProhibitedRange",id:"setsprayeraiterraindetailprohibitedrange",level:3},{value:"setSprayerDoubledAmountActive",id:"setsprayerdoubledamountactive",level:3},{value:"updateSprayerEffects",id:"updatesprayereffects",level:3}];function p(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"sprayer",children:"Sprayer"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Specialization for vehicles with spraying functionality (fertilizer, lime, herbicide)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Functions"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#actioneventdoubledamount",children:"actionEventDoubledAmount"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#docheckspeedlimit",children:"doCheckSpeedLimit"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getactivespraytype",children:"getActiveSprayType"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getaiimplementusevinesegment",children:"getAIImplementUseVineSegment"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getairequiresturnoffonheadland",children:"getAIRequiresTurnOffOnHeadland"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getarecontrolledactionsallowed",children:"getAreControlledActionsAllowed"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getareeffectsvisible",children:"getAreEffectsVisible"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getcanbeturnedon",children:"getCanBeTurnedOn"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getcantoggleturnedon",children:"getCanToggleTurnedOn"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getdefaultspeedlimit",children:"getDefaultSpeedLimit"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getdirtmultiplier",children:"getDirtMultiplier"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getdrawfirstfilltext",children:"getDrawFirstFillText"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#geteffectbynode",children:"getEffectByNode"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getexternalfill",children:"getExternalFill"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getfillvolumeuvscrollspeed",children:"getFillVolumeUVScrollSpeed"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getissprayerexternallyfilled",children:"getIsSprayerExternallyFilled"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getisspraytypeactive",children:"getIsSprayTypeActive"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getisworkareaactive",children:"getIsWorkAreaActive"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getrawspeedlimit",children:"getRawSpeedLimit"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getsprayerdoubledamountactive",children:"getSprayerDoubledAmountActive"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getsprayerfillunitindex",children:"getSprayerFillUnitIndex"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getsprayerusage",children:"getSprayerUsage"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getusesprayerairequirements",children:"getUseSprayerAIRequirements"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getvariableworkwidthusage",children:"getVariableWorkWidthUsage"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getwearmultiplier",children:"getWearMultiplier"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#initspecialization",children:"initSpecialization"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#loadspraytypefromxml",children:"loadSprayTypeFromXML"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#loadworkareafromxml",children:"loadWorkAreaFromXML"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onaiimplementend",children:"onAIImplementEnd"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#ondelete",children:"onDelete"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onendworkareaprocessing",children:"onEndWorkAreaProcessing"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onfillunitfilllevelchanged",children:"onFillUnitFillLevelChanged"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onload",children:"onLoad"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onpredetach",children:"onPreDetach"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onregisteractionevents",children:"onRegisterActionEvents"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onsetlowered",children:"onSetLowered"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onspraytypechange",children:"onSprayTypeChange"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onstartworkareaprocessing",children:"onStartWorkAreaProcessing"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onstatechange",children:"onStateChange"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onturnedoff",children:"onTurnedOff"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onturnedon",children:"onTurnedOn"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onupdatetick",children:"onUpdateTick"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onvariableworkwidthsectionchanged",children:"onVariableWorkWidthSectionChanged"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#prerequisitespresent",children:"prerequisitesPresent"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#processsprayerarea",children:"processSprayerArea"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#registereventlisteners",children:"registerEventListeners"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#registerevents",children:"registerEvents"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#registerfunctions",children:"registerFunctions"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#registeroverwrittenfunctions",children:"registerOverwrittenFunctions"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#setsprayeraiterraindetailprohibitedrange",children:"setSprayerAITerrainDetailProhibitedRange"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#setsprayerdoubledamountactive",children:"setSprayerDoubledAmountActive"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#updatesprayereffects",children:"updateSprayerEffects"})}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"actioneventdoubledamount",children:"actionEventDoubledAmount"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"actionEventDoubledAmount()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"self"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"actionName"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"inputValue"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"callbackState"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"isAnalog"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Sprayer.actionEventDoubledAmount( self , actionName, inputValue, callbackState, isAnalog)\n    self:setSprayerDoubledAmountActive( not self.spec_sprayer.doubledAmountIsActive)\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"docheckspeedlimit",children:"doCheckSpeedLimit"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"doCheckSpeedLimit()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Sprayer:doCheckSpeedLimit(superFunc)\n    return superFunc( self ) or( self:getIsTurnedOn() and self.spec_sprayer.useSpeedLimit)\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getactivespraytype",children:"getActiveSprayType"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getActiveSprayType()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Sprayer:getActiveSprayType()\n    local spec = self.spec_sprayer\n    for _, sprayType in ipairs(spec.sprayTypes) do\n        if self:getIsSprayTypeActive(sprayType) then\n            return sprayType\n        end\n    end\n\n    return nil\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getaiimplementusevinesegment",children:"getAIImplementUseVineSegment"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getAIImplementUseVineSegment()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"superFunc"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"placeable"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"segment"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"segmentSide"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Sprayer:getAIImplementUseVineSegment(superFunc, placeable, segment, segmentSide)\n    local startWorldX, startWorldZ, widthWorldX, widthWorldZ, heightWorldX, heightWorldZ = placeable:getSegmentSideArea(segment, segmentSide)\n\n    local area, areaTotal = AIVehicleUtil.getAIAreaOfVehicle( self , startWorldX, startWorldZ, widthWorldX, widthWorldZ, heightWorldX, heightWorldZ)\n    if areaTotal > 0 then\n        return(area / areaTotal) > 0.1\n    end\n\n    return false\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getairequiresturnoffonheadland",children:"getAIRequiresTurnOffOnHeadland"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getAIRequiresTurnOffOnHeadland()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Sprayer:getAIRequiresTurnOffOnHeadland(superFunc)\n    return true\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getarecontrolledactionsallowed",children:"getAreControlledActionsAllowed"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Returns if controlled actions are allowed"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getAreControlledActionsAllowed()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"allow"}),(0,i.jsx)(n.th,{children:"allow controlled actions"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"warning"}),(0,i.jsx)(n.td,{children:"not allowed warning"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function Sprayer:getAreControlledActionsAllowed(superFunc)\n    local spec = self.spec_sprayer\n\n    if spec.needsToBeFilledToTurnOn then\n        if self:getFillUnitFillLevel(spec.fillUnitIndex) < = 0 and self:getFillUnitCapacity(spec.fillUnitIndex) ~ = 0 then\n            return false , g_i18n:getText( "info_firstFillTheTool" )\n        end\n    end\n\n    return superFunc( self )\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"getareeffectsvisible",children:"getAreEffectsVisible"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getAreEffectsVisible()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Sprayer:getAreEffectsVisible()\n    return self.spec_sprayer.workAreaParameters.lastSprayTime + 100 > g_ time\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getcanbeturnedon",children:"getCanBeTurnedOn"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getCanBeTurnedOn()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Sprayer:getCanBeTurnedOn(superFunc)\n    local spec = self.spec_sprayer\n    if not spec.allowsSpraying then\n        return false\n    end\n\n    if self:getFillUnitFillLevel( self:getSprayerFillUnitIndex()) < = 0 and spec.needsToBeFilledToTurnOn then\n        if not self:getIsAIActive() then\n            local sprayVehicle = nil\n            for _, supportedSprayType in ipairs(spec.supportedSprayTypes) do\n                for _, src in ipairs(spec.fillTypeSources[supportedSprayType]) do\n                    local vehicle = src.vehicle\n                    if vehicle:getFillUnitFillType(src.fillUnitIndex) = = supportedSprayType and vehicle:getFillUnitFillLevel(src.fillUnitIndex) > 0 then\n                        sprayVehicle = vehicle\n                        break\n                    end\n                end\n            end\n\n            if sprayVehicle = = nil then\n                return false\n            end\n        end\n    end\n\n    return superFunc( self )\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getcantoggleturnedon",children:"getCanToggleTurnedOn"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getCanToggleTurnedOn()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Sprayer:getCanToggleTurnedOn(superFunc)\n    if self.isClient then\n        local spec = self.spec_sprayer\n        if spec.needsToBeFilledToTurnOn then\n            if not self:getCanBeTurnedOn() and self:getFillUnitCapacity( self:getSprayerFillUnitIndex()) < = 0 then\n                return false\n            end\n        end\n    end\n\n    return superFunc( self )\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getdefaultspeedlimit",children:"getDefaultSpeedLimit"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getDefaultSpeedLimit()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Sprayer.getDefaultSpeedLimit()\n    return 15\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getdirtmultiplier",children:"getDirtMultiplier"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getDirtMultiplier()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Sprayer:getDirtMultiplier(superFunc)\n    local spec = self.spec_sprayer\n\n    if spec.isWorking then\n        return superFunc( self ) + self:getWorkDirtMultiplier() * self:getLastSpeed() / self.speedLimit\n    end\n\n    return superFunc( self )\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getdrawfirstfilltext",children:"getDrawFirstFillText"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getDrawFirstFillText()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Sprayer:getDrawFirstFillText(superFunc)\n    if self.isClient then\n        local spec = self.spec_sprayer\n        if spec.needsToBeFilledToTurnOn then\n            if self:getIsActiveForInput() and self:getIsSelected() and not self.isAlwaysTurnedOn then\n                local fillUnitIndex = self:getSprayerFillUnitIndex()\n                if not self:getCanBeTurnedOn() and self:getFillUnitFillLevel(fillUnitIndex) < = 0 and self:getFillUnitCapacity(fillUnitIndex) > 0 then\n                    return true\n                end\n            end\n        end\n    end\n\n    return superFunc( self )\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"geteffectbynode",children:"getEffectByNode"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Returns the effect object with the given node"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getEffectByNode(integer node, )"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"integer"}),(0,i.jsx)(n.th,{children:"node"}),(0,i.jsx)(n.th,{children:"node"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"node"}),(0,i.jsx)(n.td,{})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Sprayer:getEffectByNode(superFunc, node)\n    local spec = self.spec_sprayer\n\n    for i = 1 , #spec.effects do\n        local effect = spec.effects[i]\n        if node = = effect.node then\n            return effect\n        end\n    end\n\n    for i = 1 , #spec.sprayTypes do\n        local sprayType = spec.sprayTypes[i]\n        for j = 1 , #sprayType.effects do\n            local effect = sprayType.effects[j]\n            if node = = effect.node then\n                return effect\n            end\n        end\n    end\n\n    return superFunc( self , node)\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getexternalfill",children:"getExternalFill"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getExternalFill()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"fillType"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"dt"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function Sprayer:getExternalFill(fillType, dt)\n    local found = false\n    local isUnknownFillType = fillType = = FillType.UNKNOWN\n    local fillUnitIndex = self:getSprayerFillUnitIndex()\n    local allowLiquidManure = self:getFillUnitAllowsFillType(fillUnitIndex, FillType.LIQUIDMANURE)\n    local allowDigestate = self:getFillUnitAllowsFillType(fillUnitIndex, FillType.DIGESTATE)\n    local allowManure = self:getFillUnitAllowsFillType(fillUnitIndex, FillType.MANURE)\n    local allowLiquidFertilizer = self:getFillUnitAllowsFillType(fillUnitIndex, FillType.LIQUIDFERTILIZER)\n    local allowFertilizer = self:getFillUnitAllowsFillType(fillUnitIndex, FillType.FERTILIZER)\n    local allowHerbicide = self:getFillUnitAllowsFillType(fillUnitIndex, FillType.HERBICIDE)\n    local allowsLiquidManureDigistate = allowLiquidManure or allowDigestate\n    local usage = 0\n\n    local farmId = self:getActiveFarm()\n    local statsFarmId = self:getLastTouchedFarmlandFarmId()\n\n    if fillType = = FillType.LIQUIDMANURE or fillType = = FillType.DIGESTATE or(isUnknownFillType and allowsLiquidManureDigistate) then\n        if g_currentMission.missionInfo.helperSlurrySource = = 2 then -- buy manure\n            found = true\n            if g_currentMission.economyManager:getCostPerLiter(FillType.LIQUIDMANURE, false ) then\n                fillType = FillType.LIQUIDMANURE\n            else\n                    fillType = FillType.DIGESTATE\n                end\n\n                usage = self:getSprayerUsage(fillType, dt)\n                if self.isServer then\n                    local price = usage * g_currentMission.economyManager:getCostPerLiter(fillType, false ) * 1.5 -- increase price if AI is active to reward the player\'s manual work\n                        g_farmManager:updateFarmStats(statsFarmId, "expenses" , price)\n                        g_currentMission:addMoney( - price, farmId, MoneyType.PURCHASE_FERTILIZER)\n                    end\n                elseif g_currentMission.missionInfo.helperSlurrySource > 2 then\n                        local loadingStation = g_currentMission.liquidManureLoadingStations[g_currentMission.missionInfo.helperSlurrySource - 2 ]\n                        if self.isServer and loadingStation ~ = nil then -- Can be nil if pen was removed\n                            usage = self:getSprayerUsage(FillType.LIQUIDMANURE, dt)\n                            local remainingDelta = loadingStation:removeFillLevel(FillType.LIQUIDMANURE, usage, farmId or self:getOwnerFarmId())\n                            if usage - remainingDelta > 0.000001 then\n                                found = true\n                                fillType = FillType.LIQUIDMANURE\n                            else\n                                    remainingDelta = loadingStation:removeFillLevel(FillType.DIGESTATE, usage, farmId or self:getOwnerFarmId())\n                                    if usage - remainingDelta > 0.000001 then\n                                        found = true\n                                        fillType = FillType.DIGESTATE\n                                    end\n                                end\n                            end\n                        end\n                    elseif fillType = = FillType.MANURE or(fillType = = FillType.UNKNOWN and allowManure) then\n                            if g_currentMission.missionInfo.helperManureSource = = 2 then -- buy manure\n                                found = true\n                                fillType = FillType.MANURE\n\n                                usage = self:getSprayerUsage(fillType, dt)\n                                if self.isServer then\n                                    local price = usage * g_currentMission.economyManager:getCostPerLiter(fillType, false ) * 1.5 -- increase price if AI is active to reward the player\'s manual work\n                                        g_farmManager:updateFarmStats(statsFarmId, "expenses" , price)\n                                        g_currentMission:addMoney( - price, farmId, MoneyType.PURCHASE_FERTILIZER)\n                                    end\n                                elseif g_currentMission.missionInfo.helperManureSource > 2 then\n                                        local loadingStation = g_currentMission.manureLoadingStations[g_currentMission.missionInfo.helperManureSource - 2 ]\n                                        if self.isServer and loadingStation ~ = nil then -- Can be nil if pen was removed\n                                            usage = self:getSprayerUsage(FillType.MANURE, dt)\n                                            local remainingDelta = loadingStation:removeFillLevel(FillType.MANURE, usage, farmId or self:getOwnerFarmId())\n                                            if usage - remainingDelta > 0.000001 then\n                                                found = true\n                                                fillType = FillType.MANURE\n                                            end\n                                        end\n                                    end\n                                elseif fillType = = FillType.FERTILIZER or\n                                        fillType = = FillType.LIQUIDFERTILIZER or\n                                        fillType = = FillType.HERBICIDE or\n                                        fillType = = FillType.LIME or\n                                        (fillType = = FillType.UNKNOWN and(allowLiquidFertilizer or allowFertilizer or allowHerbicide)) then\n                                        if g_currentMission.missionInfo.helperBuyFertilizer then\n                                            found = true\n                                            if fillType = = FillType.UNKNOWN then\n                                                if allowLiquidFertilizer then\n                                                    fillType = FillType.LIQUIDFERTILIZER\n                                                elseif allowFertilizer then\n                                                        fillType = FillType.FERTILIZER\n                                                    elseif allowHerbicide then\n                                                            fillType = FillType.HERBICIDE\n                                                        end\n                                                    end\n\n                                                    usage = self:getSprayerUsage(fillType, dt)\n                                                    if self.isServer then\n                                                        local price = usage * g_currentMission.economyManager:getCostPerLiter(fillType, false ) * 1.5 -- increase price if AI is active to reward the player\'s manual work\n                                                            g_farmManager:updateFarmStats(statsFarmId, "expenses" , price)\n                                                            g_currentMission:addMoney( - price, farmId, MoneyType.PURCHASE_FERTILIZER)\n                                                        end\n                                                    end\n                                                end\n\n                                                if found then\n                                                    return fillType, usage\n                                                end\n\n                                                return FillType.UNKNOWN, 0\n                                            end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"getfillvolumeuvscrollspeed",children:"getFillVolumeUVScrollSpeed"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getFillVolumeUVScrollSpeed()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"superFunc"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"fillVolumeIndex"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Sprayer:getFillVolumeUVScrollSpeed(superFunc, fillVolumeIndex)\n    local spec = self.spec_sprayer\n\n    local sprayerFillVolumeIndex = spec.fillVolumeIndex\n    local sprayType = self:getActiveSprayType()\n    if sprayType ~ = nil then\n        sprayerFillVolumeIndex = sprayType.fillVolumeIndex or sprayerFillVolumeIndex\n    end\n\n    if fillVolumeIndex = = sprayerFillVolumeIndex then\n        if self:getIsTurnedOn() then\n            if not self:getIsSprayerExternallyFilled() then\n                return spec.dischargeUVScrollSpeed[ 1 ], spec.dischargeUVScrollSpeed[ 2 ], spec.dischargeUVScrollSpeed[ 3 ]\n            end\n        end\n    end\n\n    return superFunc( self , fillVolumeIndex)\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getissprayerexternallyfilled",children:"getIsSprayerExternallyFilled"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Returns if sprayer is currently filled by external sources"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getIsSprayerExternallyFilled()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Sprayer:getIsSprayerExternallyFilled()\n    if self:getIsAIActive() then\n        -- we do not allow the ai to fill externally if no tank is mounted\n            local sprayCapacity = self:getFillUnitCapacity( self:getSprayerFillUnitIndex())\n            if sprayCapacity = = 0 then\n                local spec = self.spec_sprayer\n                local hasSource = false\n                for _, supportedSprayType in ipairs(spec.supportedSprayTypes) do\n                    if #spec.fillTypeSources[supportedSprayType] > 0 then\n                        hasSource = true\n                        break\n                    end\n                end\n\n                if not hasSource then\n                    return false\n                end\n            end\n\n            if self.rootVehicle.getIsFieldWorkActive = = nil or not self.rootVehicle:getIsFieldWorkActive() then\n                return false\n            end\n\n            local spec = self.spec_sprayer\n            return(spec.isSlurryTanker and g_currentMission.missionInfo.helperSlurrySource > 1 )\n            or(spec.isManureSpreader and g_currentMission.missionInfo.helperManureSource > 1 )\n            or(spec.isFertilizerSprayer and g_currentMission.missionInfo.helperBuyFertilizer)\n        end\n\n        return false\n    end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getisspraytypeactive",children:"getIsSprayTypeActive"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getIsSprayTypeActive()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"sprayType"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Sprayer:getIsSprayTypeActive(sprayType)\n    if sprayType.fillTypes ~ = nil then\n        local retValue = false\n\n        local currentFillType = self:getFillUnitFillType(sprayType.fillUnitIndex or self.spec_sprayer.fillUnitIndex)\n        for _, fillType in ipairs(sprayType.fillTypes) do\n            if currentFillType = = g_fillTypeManager:getFillTypeIndexByName(fillType) then\n                retValue = true\n            end\n        end\n\n        if not retValue then\n            return false\n        end\n    end\n\n    return true\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getisworkareaactive",children:"getIsWorkAreaActive"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getIsWorkAreaActive()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"superFunc"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"workArea"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Sprayer:getIsWorkAreaActive(superFunc, workArea)\n    if workArea.sprayType ~ = nil then\n        local sprayType = self:getActiveSprayType()\n        if sprayType ~ = nil then\n            if sprayType.index ~ = workArea.sprayType then\n                return false\n            end\n        end\n    end\n\n    return superFunc( self , workArea)\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getrawspeedlimit",children:"getRawSpeedLimit"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getRawSpeedLimit()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Sprayer:getRawSpeedLimit(superFunc)\n    local spec = self.spec_sprayer\n    local sprayType\n    if spec.workAreaParameters ~ = nil then\n        sprayType = spec.workAreaParameters.sprayType\n    end\n\n    if self:getSprayerDoubledAmountActive(sprayType) and self:getIsTurnedOn() then\n        return spec.doubledAmountSpeed\n    end\n\n    return superFunc( self )\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getsprayerdoubledamountactive",children:"getSprayerDoubledAmountActive"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getSprayerDoubledAmountActive()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"sprayTypeIndex"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Sprayer:getSprayerDoubledAmountActive(sprayTypeIndex)\n    local spec = self.spec_sprayer\n    -- only allow double spray amount for manure, digestate and slurry\n        if not spec.isFertilizerSprayer then\n            if sprayTypeIndex = = nil then\n                return spec.doubledAmountIsActive, true\n            else\n                    local desc = g_sprayTypeManager:getSprayTypeByIndex(sprayTypeIndex)\n                    if desc ~ = nil then\n                        if desc.isFertilizer then\n                            return spec.doubledAmountIsActive, true\n                        end\n                    else\n                            return spec.doubledAmountIsActive, true\n                        end\n                    end\n                end\n\n                return false , false\n            end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getsprayerfillunitindex",children:"getSprayerFillUnitIndex"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getSprayerFillUnitIndex()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Sprayer:getSprayerFillUnitIndex()\n    local sprayType = self:getActiveSprayType()\n    if sprayType ~ = nil then\n        return sprayType.fillUnitIndex\n    end\n\n    return self.spec_sprayer.fillUnitIndex\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getsprayerusage",children:"getSprayerUsage"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getSprayerUsage()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"fillType"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"dt"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Sprayer:getSprayerUsage(fillType, dt)\n    if fillType = = FillType.UNKNOWN then\n        return 0\n    end\n\n    local spec = self.spec_sprayer\n\n    local scale = Utils.getNoNil(spec.usageScale.fillTypeScales[fillType], spec.usageScale.default)\n    local litersPerSecond = 1\n\n    local sprayType = g_sprayTypeManager:getSprayTypeByFillTypeIndex(fillType)\n    if sprayType ~ = nil then\n        litersPerSecond = sprayType.litersPerSecond\n    end\n\n    local usageScale = spec.usageScale\n    local activeSprayType = self:getActiveSprayType()\n    if activeSprayType ~ = nil then\n        usageScale = activeSprayType.usageScale\n    end\n\n    local workWidth\n    if usageScale.workAreaIndex ~ = nil then\n        workWidth = self:getWorkAreaWidth(usageScale.workAreaIndex)\n    else\n            workWidth = usageScale.workingWidth\n        end\n\n        return scale * litersPerSecond * self.speedLimit * workWidth * dt * 0.001\n    end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getusesprayerairequirements",children:"getUseSprayerAIRequirements"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getUseSprayerAIRequirements()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Sprayer:getUseSprayerAIRequirements()\n    return true\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getvariableworkwidthusage",children:"getVariableWorkWidthUsage"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Returns the current usage for variable work width (nil if usage should not be displayed)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getVariableWorkWidthUsage()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"usage"}),(0,i.jsx)(n.th,{children:"usage"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Sprayer:getVariableWorkWidthUsage(superFunc)\n    local usage = superFunc( self )\n    if usage = = nil then\n        if self:getIsTurnedOn() then\n            return self.spec_sprayer.workAreaParameters.usagePerMin\n        end\n\n        return 0\n    end\n\n    return usage\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getwearmultiplier",children:"getWearMultiplier"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getWearMultiplier()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Sprayer:getWearMultiplier(superFunc)\n    local spec = self.spec_sprayer\n\n    if spec.isWorking then\n        return superFunc( self ) + self:getWorkWearMultiplier() * self:getLastSpeed() / self.speedLimit\n    end\n\n    return superFunc( self )\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"initspecialization",children:"initSpecialization"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"initSpecialization()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function Sprayer.initSpecialization()\n    g_workAreaTypeManager:addWorkAreaType( "sprayer" , false , true , true )\n\n    local schema = Vehicle.xmlSchema\n    schema:setXMLSpecializationType( "Sprayer" )\n\n    schema:register(XMLValueType.BOOL, "vehicle.sprayer#allowsSpraying" , "Allows spraying" , true )\n    schema:register(XMLValueType.BOOL, "vehicle.sprayer#activateTankOnLowering" , "Activate tank on lowering" , false )\n    schema:register(XMLValueType.BOOL, "vehicle.sprayer#activateOnLowering" , "Activate on lowering" , false )\n\n    schema:register(XMLValueType.FLOAT, "vehicle.sprayer.usageScales#scale" , "Usage scale" , 1 )\n    schema:register(XMLValueType.FLOAT, "vehicle.sprayer.usageScales#workingWidth" , "Working width" , 12 )\n    schema:register(XMLValueType.INT, "vehicle.sprayer.usageScales#workAreaIndex" , "Work area that is used for working width reference instead of #workingWidth" )\n\n        schema:register(XMLValueType.STRING, "vehicle.sprayer.usageScales.sprayUsageScale(?)#fillType" , "Fill type name" )\n        schema:register(XMLValueType.FLOAT, "vehicle.sprayer.usageScales.sprayUsageScale(?)#scale" , "Scale" )\n\n        schema:register(XMLValueType.INT, Sprayer.SPRAY_TYPE_XML_KEY .. "#fillUnitIndex" , "Fill unit index" )\n        schema:register(XMLValueType.INT, Sprayer.SPRAY_TYPE_XML_KEY .. "#unloadInfoIndex" , "Unload info index" )\n        schema:register(XMLValueType.INT, Sprayer.SPRAY_TYPE_XML_KEY .. "#fillVolumeIndex" , "Fill volume index" )\n\n        schema:register(XMLValueType.BOOL, Sprayer.SPRAY_TYPE_XML_KEY .. "#supportsVariableWorkWidth" , "Spray type support variable work width" , true )\n\n        SoundManager.registerSampleXMLPaths(schema, Sprayer.SPRAY_TYPE_XML_KEY .. ".sounds" , "work(?)" )\n        SoundManager.registerSampleXMLPaths(schema, Sprayer.SPRAY_TYPE_XML_KEY .. ".sounds" , "spray(?)" )\n        AnimationManager.registerAnimationNodesXMLPaths(schema, Sprayer.SPRAY_TYPE_XML_KEY .. ".animationNodes" )\n        EffectManager.registerEffectXMLPaths(schema, Sprayer.SPRAY_TYPE_XML_KEY .. ".effects" )\n\n        schema:register(XMLValueType.STRING, Sprayer.SPRAY_TYPE_XML_KEY .. ".turnedAnimation#name" , "Turned animation name" )\n        schema:register(XMLValueType.FLOAT, Sprayer.SPRAY_TYPE_XML_KEY .. ".turnedAnimation#turnOnSpeedScale" , "Speed Scale while turned on" , 1 )\n            schema:register(XMLValueType.FLOAT, Sprayer.SPRAY_TYPE_XML_KEY .. ".turnedAnimation#turnOffSpeedScale" , "Speed Scale while turned off" , "Inversed #turnOnSpeedScale" )\n                schema:register(XMLValueType.BOOL, Sprayer.SPRAY_TYPE_XML_KEY .. ".turnedAnimation#externalFill" , "Animation is played while sprayer is externally filled" , true )\n\n                    AIImplement.registerAIImplementBaseXMLPaths(schema, Sprayer.SPRAY_TYPE_XML_KEY .. ".ai" )\n\n                    schema:register(XMLValueType.STRING, Sprayer.SPRAY_TYPE_XML_KEY .. "#fillTypes" , "Fill types" )\n                    schema:register(XMLValueType.FLOAT, Sprayer.SPRAY_TYPE_XML_KEY .. ".usageScales#workingWidth" , "Work width" , 12 )\n                    schema:register(XMLValueType.INT, Sprayer.SPRAY_TYPE_XML_KEY .. ".usageScales#workAreaIndex" , "Work area that is used for working width reference instead of #workingWidth" )\n\n                        ObjectChangeUtil.registerObjectChangeXMLPaths(schema, Sprayer.SPRAY_TYPE_XML_KEY)\n\n                        EffectManager.registerEffectXMLPaths(schema, "vehicle.sprayer.effects" )\n                        SoundManager.registerSampleXMLPaths(schema, "vehicle.sprayer.sounds" , "work(?)" )\n                        SoundManager.registerSampleXMLPaths(schema, "vehicle.sprayer.sounds" , "spray(?)" )\n                        AnimationManager.registerAnimationNodesXMLPaths(schema, "vehicle.sprayer.animationNodes" )\n\n                        schema:register(XMLValueType.STRING, "vehicle.sprayer.animation#name" , "Spray animation name" )\n                        schema:register(XMLValueType.INT, "vehicle.sprayer#fillUnitIndex" , "Fill unit index" , 1 )\n                        schema:register(XMLValueType.INT, "vehicle.sprayer#unloadInfoIndex" , "Unload info index" , 1 )\n                        schema:register(XMLValueType.INT, "vehicle.sprayer#fillVolumeIndex" , "Fill volume index" )\n                        schema:register(XMLValueType.VECTOR_ 3 , "vehicle.sprayer#fillVolumeDischargeScrollSpeed" , "Fill volume discharge scroll speed" , "0 0 0" )\n\n                        schema:register(XMLValueType.FLOAT, "vehicle.sprayer.doubledAmount#decreasedSpeed" , "Speed while doubled amount is sprayed" , "automatically calculated" )\n                            schema:register(XMLValueType.FLOAT, "vehicle.sprayer.doubledAmount#decreaseFactor" , "Decrease factor that is applied on speedLimit while doubled amount is sprayed" , 0.5 )\n                                schema:register(XMLValueType.STRING, "vehicle.sprayer.doubledAmount#toggleButton" , "Name of input action to toggle doubled amount" , "IMPLEMENT_EXTRA4" )\n\n                                schema:register(XMLValueType.L10N_STRING, "vehicle.sprayer.doubledAmount#deactivateText" , "Deactivated text" , "action_deactivateDoubledSprayAmount" )\n                                schema:register(XMLValueType.L10N_STRING, "vehicle.sprayer.doubledAmount#activateText" , "Activate text" , "action_activateDoubledSprayAmount" )\n\n                                schema:register(XMLValueType.STRING, "vehicle.sprayer.turnedAnimation#name" , "Turned animation name" )\n                                schema:register(XMLValueType.FLOAT, "vehicle.sprayer.turnedAnimation#turnOnSpeedScale" , "Speed Scale while turned on" , 1 )\n                                    schema:register(XMLValueType.FLOAT, "vehicle.sprayer.turnedAnimation#turnOffSpeedScale" , "Speed Scale while turned off" , "Inversed #turnOnSpeedScale" )\n                                        schema:register(XMLValueType.BOOL, "vehicle.sprayer.turnedAnimation#externalFill" , "Animation is played while sprayer is externally filled" , true )\n\n                                            schema:register(XMLValueType.INT, WorkArea.WORK_AREA_XML_KEY .. "#sprayType" , "Spray type index" )\n                                            schema:register(XMLValueType.INT, WorkArea.WORK_AREA_XML_CONFIG_KEY .. "#sprayType" , "Spray type index" )\n\n                                            schema:setXMLSpecializationType()\n                                        end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"loadspraytypefromxml",children:"loadSprayTypeFromXML"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"loadSprayTypeFromXML()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"xmlFile"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"key"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"sprayType"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function Sprayer:loadSprayTypeFromXML(xmlFile, key, sprayType)\n    sprayType.fillUnitIndex = xmlFile:getValue(key .. "#fillUnitIndex" , 1 )\n    sprayType.unloadInfoIndex = xmlFile:getValue(key .. "#unloadInfoIndex" , 1 )\n    sprayType.fillVolumeIndex = xmlFile:getValue(key .. "#fillVolumeIndex" )\n\n    sprayType.supportsVariableWorkWidth = xmlFile:getValue(key .. "#supportsVariableWorkWidth" , true )\n\n    sprayType.samples = { }\n    sprayType.samples.work = g_soundManager:loadSamplesFromXML(xmlFile, key .. ".sounds" , "work" , self.baseDirectory, self.components, 0 , AudioGroup.VEHICLE, self.i3dMappings, self )\n    sprayType.samples.spray = g_soundManager:loadSamplesFromXML(xmlFile, key .. ".sounds" , "spray" , self.baseDirectory, self.components, 0 , AudioGroup.VEHICLE, self.i3dMappings, self )\n\n    sprayType.effects = g_effectManager:loadEffect(xmlFile, key .. ".effects" , self.components, self , self.i3dMappings)\n\n    sprayType.animationNodes = g_animationManager:loadAnimations(xmlFile, key .. ".animationNodes" , self.components, self , self.i3dMappings)\n\n    sprayType.turnedAnimation = xmlFile:getValue(key .. ".turnedAnimation#name" , "" )\n    sprayType.turnedAnimationTurnOnSpeedScale = xmlFile:getValue(key .. ".turnedAnimation#turnOnSpeedScale" , 1 )\n    sprayType.turnedAnimationTurnOffSpeedScale = xmlFile:getValue(key .. ".turnedAnimation#turnOffSpeedScale" , - sprayType.turnedAnimationTurnOnSpeedScale)\n    sprayType.turnedAnimationExternalFill = xmlFile:getValue(key .. ".turnedAnimation#externalFill" , true )\n\n    if self.loadAIImplementBaseSetupFromXML ~ = nil then\n        self:loadAIImplementBaseSetupFromXML(xmlFile, key .. ".ai" , function (_)\n            return self:getIsSprayTypeActive(sprayType)\n        end )\n    end\n\n    local fillTypesStr = xmlFile:getValue(key .. "#fillTypes" )\n    if fillTypesStr ~ = nil then\n        sprayType.fillTypes = fillTypesStr:split( " " )\n    end\n\n    sprayType.objectChanges = { }\n    ObjectChangeUtil.loadObjectChangeFromXML(xmlFile, key, sprayType.objectChanges, self.components, self )\n    ObjectChangeUtil.setObjectChanges(sprayType.objectChanges, false , self , self.setMovingToolDirty)\n\n    sprayType.usageScale = { }\n    if xmlFile:hasProperty(key .. ".usageScales" ) then\n        sprayType.usageScale.workingWidth = xmlFile:getValue(key .. ".usageScales#workingWidth" , 12 )\n        sprayType.usageScale.workAreaIndex = xmlFile:getValue(key .. ".usageScales#workAreaIndex" )\n    else\n            sprayType.usageScale.workingWidth = self.spec_sprayer.usageScale.workingWidth\n            sprayType.usageScale.workAreaIndex = self.spec_sprayer.usageScale.workAreaIndex\n        end\n\n        return true\n    end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"loadworkareafromxml",children:"loadWorkAreaFromXML"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"loadWorkAreaFromXML()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"superFunc"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"workArea"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"xmlFile"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"key"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function Sprayer:loadWorkAreaFromXML(superFunc, workArea, xmlFile, key)\n    local retValue = superFunc( self , workArea, xmlFile, key)\n\n    if workArea.type = = WorkAreaType.DEFAULT then\n        workArea.type = WorkAreaType.SPRAYER\n    end\n\n    workArea.sprayType = xmlFile:getValue(key .. "#sprayType" )\n\n    return retValue\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"onaiimplementend",children:"onAIImplementEnd"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onAIImplementEnd()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Sprayer:onAIImplementEnd()\n    -- turn off all fill type sources on ai turn off\n    local spec = self.spec_sprayer\n    for _, supportedSprayType in ipairs(spec.supportedSprayTypes) do\n        for _, src in ipairs(spec.fillTypeSources[supportedSprayType]) do\n            local vehicle = src.vehicle\n            if vehicle.getIsTurnedOn ~ = nil then\n                if vehicle:getIsTurnedOn() then\n                    vehicle:setIsTurnedOn( false , true )\n                end\n            end\n        end\n    end\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"ondelete",children:"onDelete"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onDelete()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Sprayer:onDelete()\n    local spec = self.spec_sprayer\n\n    g_effectManager:deleteEffects(spec.effects)\n    g_animationManager:deleteAnimations(spec.animationNodes)\n    if spec.samples ~ = nil then\n        g_soundManager:deleteSamples(spec.samples.work)\n        g_soundManager:deleteSamples(spec.samples.spray)\n    end\n\n    if spec.sprayTypes ~ = nil then\n        for _, sprayType in ipairs(spec.sprayTypes) do\n            g_effectManager:deleteEffects(sprayType.effects)\n            g_animationManager:deleteAnimations(sprayType.animationNodes)\n\n            if sprayType.samples ~ = nil then\n                g_soundManager:deleteSamples(sprayType.samples.work)\n                g_soundManager:deleteSamples(sprayType.samples.spray)\n            end\n        end\n    end\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"onendworkareaprocessing",children:"onEndWorkAreaProcessing"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onEndWorkAreaProcessing()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"dt"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"hasProcessed"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function Sprayer:onEndWorkAreaProcessing(dt, hasProcessed)\n    local spec = self.spec_sprayer\n\n    if self.isServer then\n        if spec.workAreaParameters.isActive then\n            local sprayVehicle = spec.workAreaParameters.sprayVehicle\n            local usage = spec.workAreaParameters.usage\n\n            if sprayVehicle ~ = nil then\n                local sprayVehicleFillUnitIndex = spec.workAreaParameters.sprayVehicleFillUnitIndex\n                local sprayFillType = spec.workAreaParameters.sprayFillType\n\n                local unloadInfoIndex = spec.unloadInfoIndex\n                local sprayType = self:getActiveSprayType()\n                if sprayType ~ = nil then\n                    unloadInfoIndex = sprayType.unloadInfoIndex\n                end\n\n                local unloadInfo = self:getFillVolumeUnloadInfo(unloadInfoIndex)\n                sprayVehicle:addFillUnitFillLevel( self:getOwnerFarmId(), sprayVehicleFillUnitIndex, - usage, sprayFillType, ToolType.UNDEFINED, unloadInfo)\n            end\n\n            local ha = MathUtil.areaToHa(spec.workAreaParameters.lastStatsArea, g_currentMission:getFruitPixelsToSqm())\n            local farmId = self:getLastTouchedFarmlandFarmId()\n            g_farmManager:updateFarmStats(farmId, "sprayedHectares" , ha)\n            g_farmManager:updateFarmStats(farmId, "sprayedTime" , dt / ( 1000 * 60 ))\n            g_farmManager:updateFarmStats(farmId, "sprayUsage" , usage)\n            self:updateLastWorkedArea(spec.workAreaParameters.lastStatsArea)\n        end\n    end\n\n    self:updateSprayerEffects()\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"onfillunitfilllevelchanged",children:"onFillUnitFillLevelChanged"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onFillUnitFillLevelChanged()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"fillUnitIndex"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"fillLevelDelta"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"fillType"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"toolType"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"fillPositionData"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"appliedDelta"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Sprayer:onFillUnitFillLevelChanged(fillUnitIndex, fillLevelDelta, fillType, toolType, fillPositionData, appliedDelta)\n    local spec = self.spec_sprayer\n    if fillUnitIndex = = spec.fillUnitIndex then\n        local fillLevel = self:getFillUnitFillLevel(fillUnitIndex)\n        if fillLevel = = 0 and self:getIsTurnedOn() and not self:getIsAIActive() then\n\n            -- only deactivate sprayer if no fill type source for the same fill type is available\n                local hasValidSource = false\n                if spec.fillTypeSources[fillType] ~ = nil then\n                    for _, src in ipairs(spec.fillTypeSources[fillType]) do\n                        local vehicle = src.vehicle\n                        if vehicle:getIsFillUnitActive(src.fillUnitIndex) then\n                            local vehicleFillType = vehicle:getFillUnitFillType(src.fillUnitIndex)\n                            local vehicleFillLevel = vehicle:getFillUnitFillLevel(src.fillUnitIndex)\n                            if vehicleFillLevel > 0 and vehicleFillType = = fillType then\n                                hasValidSource = true\n                            end\n                        end\n                    end\n                end\n\n                if not hasValidSource then\n                    self:setIsTurnedOn( false )\n\n                    if Platform.gameplay.automaticVehicleControl then\n                        self.rootVehicle:playControlledActions()\n                    end\n                end\n            end\n        end\n    end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"onload",children:"onLoad"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onLoad()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"savegame"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function Sprayer:onLoad(savegame)\n    local spec = self.spec_sprayer\n\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.sprayParticles.emitterShape" , "vehicle.sprayer.effects.effectNode#effectClass = \'ParticleEffect\'" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.sprayer#needsTankActivation" ) --FS19 to FS22\n\n    spec.allowsSpraying = self.xmlFile:getValue( "vehicle.sprayer#allowsSpraying" , true )\n    spec.activateTankOnLowering = self.xmlFile:getValue( "vehicle.sprayer#activateTankOnLowering" , false )\n    spec.activateOnLowering = self.xmlFile:getValue( "vehicle.sprayer#activateOnLowering" , false )\n\n    spec.usageScale = { }\n    spec.usageScale.default = self.xmlFile:getValue( "vehicle.sprayer.usageScales#scale" , 1 )\n    spec.usageScale.workingWidth = self.xmlFile:getValue( "vehicle.sprayer.usageScales#workingWidth" , 12 )\n    spec.usageScale.workAreaIndex = self.xmlFile:getValue( "vehicle.sprayer.usageScales#workAreaIndex" )\n    spec.usageScale.fillTypeScales = { }\n    local i = 0\n    while true do\n        local key = string.format( "vehicle.sprayer.usageScales.sprayUsageScale(%d)" , i)\n        if not self.xmlFile:hasProperty(key) then\n            break\n        end\n        local fillTypeStr = self.xmlFile:getValue(key .. "#fillType" )\n        local scale = self.xmlFile:getValue(key .. "#scale" )\n        if fillTypeStr ~ = nil and scale ~ = nil then\n            local fillTypeIndex = g_fillTypeManager:getFillTypeIndexByName(fillTypeStr)\n            if fillTypeIndex ~ = nil then\n                spec.usageScale.fillTypeScales[fillTypeIndex] = scale\n            else\n                    printWarning( "Warning:Invalid spray usage scale fill type \'" .. fillTypeStr .. "\' in \'" .. self.configFileName .. "\'" )\n                end\n            end\n            i = i + 1\n        end\n\n        spec.sprayTypes = { }\n        i = 0\n        while true do\n            local key = string.format( "vehicle.sprayer.sprayTypes.sprayType(%d)" , i)\n            if not self.xmlFile:hasProperty(key) then\n                break\n            end\n\n            local sprayType = { }\n            if self:loadSprayTypeFromXML( self.xmlFile, key, sprayType) then\n                table.insert(spec.sprayTypes, sprayType)\n                sprayType.index = #spec.sprayTypes\n            end\n\n            i = i + 1\n        end\n\n        spec.lastActiveSprayType = nil\n\n        if self.isClient then\n            spec.effects = g_effectManager:loadEffect( self.xmlFile, "vehicle.sprayer.effects" , self.components, self , self.i3dMappings)\n\n            spec.animationName = self.xmlFile:getValue( "vehicle.sprayer.animation#name" , "" )\n\n            spec.samples = { }\n            spec.samples.work = g_soundManager:loadSamplesFromXML( self.xmlFile, "vehicle.sprayer.sounds" , "work" , self.baseDirectory, self.components, 0 , AudioGroup.VEHICLE, self.i3dMappings, self )\n            spec.samples.spray = g_soundManager:loadSamplesFromXML( self.xmlFile, "vehicle.sprayer.sounds" , "spray" , self.baseDirectory, self.components, 0 , AudioGroup.VEHICLE, self.i3dMappings, self )\n\n            spec.sampleFillEnabled = false\n            spec.sampleFillStopTime = - 1\n            spec.lastFillLevel = - 1\n\n            spec.animationNodes = g_animationManager:loadAnimations( self.xmlFile, "vehicle.sprayer.animationNodes" , self.components, self , self.i3dMappings)\n        end\n\n        if self.addAIGroundTypeRequirements ~ = nil then\n            self:addAIGroundTypeRequirements( Sprayer.AI_REQUIRED_GROUND_TYPES)\n        end\n\n        spec.supportedSprayTypes = { }\n\n        spec.fillUnitIndex = self.xmlFile:getValue( "vehicle.sprayer#fillUnitIndex" , 1 )\n        spec.unloadInfoIndex = self.xmlFile:getValue( "vehicle.sprayer#unloadInfoIndex" , 1 )\n        spec.fillVolumeIndex = self.xmlFile:getValue( "vehicle.sprayer#fillVolumeIndex" )\n        spec.dischargeUVScrollSpeed = self.xmlFile:getValue( "vehicle.sprayer#fillVolumeDischargeScrollSpeed" , "0 0 0" , true )\n\n        if self:getFillUnitByIndex(spec.fillUnitIndex) = = nil then\n            Logging.xmlError( self.xmlFile, "FillUnit \'%d\' not defined!" , spec.fillUnitIndex)\n            self:setLoadingState(VehicleLoadingState.ERROR)\n            return\n        end\n\n        local decreasedSpeedLimit = self.xmlFile:getValue( "vehicle.sprayer.doubledAmount#decreasedSpeed" )\n        if decreasedSpeedLimit = = nil then\n            local decreaseFactor = self.xmlFile:getValue( "vehicle.sprayer.doubledAmount#decreaseFactor" , 0.5 )\n            decreasedSpeedLimit = self:getSpeedLimit() * decreaseFactor\n        end\n        spec.doubledAmountSpeed = decreasedSpeedLimit\n        spec.doubledAmountIsActive = false\n\n        local toggleButtonStr = self.xmlFile:getValue( "vehicle.sprayer.doubledAmount#toggleButton" )\n        if toggleButtonStr ~ = nil then\n            spec.toggleDoubledAmountInputBinding = InputAction[toggleButtonStr]\n        end\n        spec.toggleDoubledAmountInputBinding = spec.toggleDoubledAmountInputBinding or InputAction.DOUBLED_SPRAY_AMOUNT\n        spec.doubledAmountDeactivateText = self.xmlFile:getValue( "vehicle.sprayer.doubledAmount#deactivateText" , "action_deactivateDoubledSprayAmount" , self.customEnvironment)\n        spec.doubledAmountActivateText = self.xmlFile:getValue( "vehicle.sprayer.doubledAmount#activateText" , "action_activateDoubledSprayAmount" , self.customEnvironment)\n\n        spec.turnedAnimation = self.xmlFile:getValue( "vehicle.sprayer.turnedAnimation#name" , "" )\n        spec.turnedAnimationTurnOnSpeedScale = self.xmlFile:getValue( "vehicle.sprayer.turnedAnimation#turnOnSpeedScale" , 1 )\n        spec.turnedAnimationTurnOffSpeedScale = self.xmlFile:getValue( "vehicle.sprayer.turnedAnimation#turnOffSpeedScale" , - spec.turnedAnimationTurnOnSpeedScale)\n        spec.turnedAnimationExternalFill = self.xmlFile:getValue( "vehicle.sprayer.turnedAnimation#externalFill" , true )\n\n        spec.needsToBeFilledToTurnOn = true\n        spec.useSpeedLimit = true\n        spec.isWorking = false\n        spec.lastEffectsState = false\n\n        local fillUnitIndex = self:getSprayerFillUnitIndex()\n        spec.isSlurryTanker = self:getFillUnitAllowsFillType(fillUnitIndex, FillType.LIQUIDMANURE) or self:getFillUnitAllowsFillType(fillUnitIndex, FillType.DIGESTATE)\n        spec.isManureSpreader = self:getFillUnitAllowsFillType(fillUnitIndex, FillType.MANURE)\n        spec.isFertilizerSprayer = not spec.isSlurryTanker and not spec.isManureSpreader\n\n        spec.hasWorkAreas = self:getWorkAreaByIndex( 1 ) ~ = nil\n\n        spec.workAreaParameters = { }\n        spec.workAreaParameters.sprayVehicle = nil\n        spec.workAreaParameters.sprayVehicleFillUnitIndex = nil\n        spec.workAreaParameters.lastChangedArea = 0\n        spec.workAreaParameters.lastTotalArea = 0\n        spec.workAreaParameters.lastIsExternallyFilled = false\n        spec.workAreaParameters.lastSprayTime = - math.huge\n        spec.workAreaParameters.usage = 0\n        spec.workAreaParameters.usagePerMin = 0\n\n        -- do not register doubled application rate input action as it makes no sense for tankers\n            if not spec.hasWorkAreas then\n                SpecializationUtil.removeEventListener( self , "onRegisterActionEvents" , Sprayer )\n            end\n        end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"onpredetach",children:"onPreDetach"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onPreDetach()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"attacherVehicle"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"jointDescIndex"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Sprayer:onPreDetach(attacherVehicle, jointDescIndex)\n    if attacherVehicle.setIsTurnedOn ~ = nil and attacherVehicle:getIsTurnedOn() then\n        attacherVehicle:setIsTurnedOn( false )\n    end\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"onregisteractionevents",children:"onRegisterActionEvents"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onRegisterActionEvents()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"isActiveForInput"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"isActiveForInputIgnoreSelection"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Sprayer:onRegisterActionEvents(isActiveForInput, isActiveForInputIgnoreSelection)\n    if self.isClient then\n        local spec = self.spec_sprayer\n        self:clearActionEventsTable(spec.actionEvents)\n        if isActiveForInputIgnoreSelection then\n            local _, actionEventId = self:addActionEvent(spec.actionEvents, spec.toggleDoubledAmountInputBinding, self , Sprayer.actionEventDoubledAmount, false , true , false , true , nil )\n            g_inputBinding:setActionEventTextPriority(actionEventId, GS_PRIO_HIGH)\n        end\n    end\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"onsetlowered",children:"onSetLowered"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onSetLowered()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"isLowered"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Sprayer:onSetLowered(isLowered)\n    local spec = self.spec_sprayer\n\n    if self.isServer then\n        if spec.activateOnLowering then\n            if self:getCanBeTurnedOn() then\n                self:setIsTurnedOn(isLowered)\n            else\n                    spec.pendingActivationAfterLowering = true\n                end\n            end\n\n            if not isLowered then\n                spec.pendingActivationAfterLowering = false\n            end\n        end\n\n        if spec.activateTankOnLowering then\n            for _, supportedSprayType in ipairs(spec.supportedSprayTypes) do\n                for _, src in ipairs(spec.fillTypeSources[supportedSprayType]) do\n                    local vehicle = src.vehicle\n                    if vehicle.getIsTurnedOn ~ = nil then\n                        vehicle:setIsTurnedOn(isLowered, true )\n                    end\n                end\n            end\n        end\n    end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"onspraytypechange",children:"onSprayTypeChange"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onSprayTypeChange()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"activeSprayType"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Sprayer:onSprayTypeChange(activeSprayType)\n    local spec = self.spec_sprayer\n    for _, sprayType in ipairs(spec.sprayTypes) do\n        ObjectChangeUtil.setObjectChanges(sprayType.objectChanges, sprayType = = activeSprayType, self , self.setMovingToolDirty)\n    end\n\n    if self.setVariableWorkWidthActive ~ = nil then\n        self:setVariableWorkWidthActive(activeSprayType = = nil or activeSprayType.supportsVariableWorkWidth)\n    end\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"onstartworkareaprocessing",children:"onStartWorkAreaProcessing"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onStartWorkAreaProcessing()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"dt"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Sprayer:onStartWorkAreaProcessing(dt)\n    local spec = self.spec_sprayer\n\n    local fillUnitIndex = self:getSprayerFillUnitIndex()\n    local sprayVehicle = nil\n    local sprayVehicleFillUnitIndex = nil\n    local fillType = self:getFillUnitFillType(fillUnitIndex)\n    local usage = self:getSprayerUsage(fillType, dt)\n    local sprayFillLevel = self:getFillUnitFillLevel(fillUnitIndex)\n\n    if sprayFillLevel > 0 then\n        sprayVehicle = self\n        sprayVehicleFillUnitIndex = fillUnitIndex\n    else\n            for _, supportedSprayType in ipairs(spec.supportedSprayTypes) do\n                for _, src in ipairs(spec.fillTypeSources[supportedSprayType]) do\n                    local vehicle = src.vehicle\n                    if vehicle:getIsFillUnitActive(src.fillUnitIndex) then\n                        local vehicleFillType = vehicle:getFillUnitFillType(src.fillUnitIndex)\n                        local vehicleFillLevel = vehicle:getFillUnitFillLevel(src.fillUnitIndex)\n                        if vehicleFillLevel > 0 and vehicleFillType = = supportedSprayType then\n                            sprayVehicle = vehicle\n                            sprayVehicleFillUnitIndex = src.fillUnitIndex\n                            fillType = sprayVehicle:getFillUnitFillType(sprayVehicleFillUnitIndex)\n                            usage = self:getSprayerUsage(fillType, dt)\n                            sprayFillLevel = vehicleFillLevel\n                            break\n                        end\n                    else\n                            -- if the ai is active we try to activate the source to activate the fill unit\n                                if self:getIsAIActive() then\n                                    if vehicle.setIsTurnedOn ~ = nil then\n                                        if not vehicle:getIsTurnedOn() then\n                                            vehicle:setIsTurnedOn( true )\n                                        end\n                                    end\n                                end\n                            end\n                        end\n                    end\n                end\n\n                local isExternallyFilled = self:getIsSprayerExternallyFilled()\n                if isExternallyFilled then\n                    -- only consume when the tool is actually turned on(turned off during headlands etc.)\n                    if self:getIsTurnedOn() then\n                        local externalFillType, externalUsage = self:getExternalFill(fillType, dt)\n                        if externalFillType ~ = FillType.UNKNOWN then\n                            fillType = externalFillType\n                            usage = externalUsage\n                            sprayFillLevel = externalUsage\n\n                            -- do not consume the fill unit fill level if we buy fertilizer\n                                sprayVehicle = nil\n                                sprayVehicleFillUnitIndex = nil\n                            end\n                        end\n                    end\n\n                    if isExternallyFilled ~ = spec.workAreaParameters.lastIsExternallyFilled then\n                        local sprayType = self:getActiveSprayType()\n                        if sprayType ~ = nil then\n                            if isExternallyFilled then\n                                if not sprayType.turnedAnimationExternalFill and self:getIsAnimationPlaying(sprayType.turnedAnimation) then\n                                    self:stopAnimation(sprayType.turnedAnimation)\n                                end\n                            else\n                                    if not self:getIsAnimationPlaying(sprayType.turnedAnimation) then\n                                        self:playAnimation(sprayType.turnedAnimation, sprayType.turnedAnimationTurnOnSpeedScale, self:getAnimationTime(sprayType.turnedAnimation), true )\n                                    end\n                                end\n                            end\n\n                            if isExternallyFilled then\n                                if not spec.turnedAnimationExternalFill and self:getIsAnimationPlaying(spec.turnedAnimation) then\n                                    self:stopAnimation(spec.turnedAnimation)\n                                end\n                            else\n                                    if not self:getIsAnimationPlaying(spec.turnedAnimation) then\n                                        self:playAnimation(spec.turnedAnimation, spec.turnedAnimationTurnOnSpeedScale, self:getAnimationTime(spec.turnedAnimation), true )\n                                    end\n                                end\n\n                                spec.workAreaParameters.lastIsExternallyFilled = isExternallyFilled\n                            end\n\n                            if self.isServer then\n                                if fillType ~ = FillType.UNKNOWN and fillType ~ = spec.workAreaParameters.sprayFillType then\n                                    self:setSprayerAITerrainDetailProhibitedRange(fillType)\n                                end\n                            end\n\n                            spec.workAreaParameters.sprayType = g_sprayTypeManager:getSprayTypeIndexByFillTypeIndex(fillType)\n                            spec.workAreaParameters.sprayFillType = fillType\n                            spec.workAreaParameters.sprayFillLevel = sprayFillLevel\n                            spec.workAreaParameters.usage = usage\n                            spec.workAreaParameters.usagePerMin = usage / dt * 1000 * 60\n                            spec.workAreaParameters.sprayVehicle = sprayVehicle\n                            spec.workAreaParameters.sprayVehicleFillUnitIndex = sprayVehicleFillUnitIndex\n                            spec.workAreaParameters.lastChangedArea = 0\n                            spec.workAreaParameters.lastTotalArea = 0\n                            spec.workAreaParameters.lastStatsArea = 0\n                            spec.workAreaParameters.isActive = false\n\n                            spec.isWorking = false\n                        end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"onstatechange",children:"onStateChange"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onStateChange()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"state"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"data"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Sprayer:onStateChange(state, data)\n    if state = = VehicleStateChange.ATTACH or state = = VehicleStateChange.DETACH or state = = VehicleStateChange.FILLTYPE_CHANGE then\n        local spec = self.spec_sprayer\n\n        spec.fillTypeSources = { }\n        local supportedFillTypes = self:getFillUnitSupportedFillTypes( self:getSprayerFillUnitIndex())\n        spec.supportedSprayTypes = { }\n\n        if supportedFillTypes ~ = nil then\n            for fillType, supported in pairs(supportedFillTypes) do\n                if supported then\n                    spec.fillTypeSources[fillType] = { }\n                    table.insert(spec.supportedSprayTypes, fillType)\n                end\n            end\n        end\n\n        local root = self.rootVehicle\n        FillUnit.addFillTypeSources(spec.fillTypeSources, root, self , spec.supportedSprayTypes)\n    end\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"onturnedoff",children:"onTurnedOff"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onTurnedOff()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function Sprayer:onTurnedOff()\n    local spec = self.spec_sprayer\n    if self.isClient then\n        self:updateSprayerEffects()\n\n        if spec.animationName ~ = "" and self.stopAnimation ~ = nil then\n            self:stopAnimation(spec.animationName, true )\n        end\n\n        g_soundManager:stopSamples(spec.samples.work)\n\n        -- deactivate effects on all spray types(the spray type has may changed during activation)\n        for _, sprayType in ipairs(spec.sprayTypes) do\n            g_soundManager:stopSamples(sprayType.samples.work)\n\n            self:playAnimation(sprayType.turnedAnimation, sprayType.turnedAnimationTurnOffSpeedScale, self:getAnimationTime(sprayType.turnedAnimation), true )\n        end\n\n        self:playAnimation(spec.turnedAnimation, spec.turnedAnimationTurnOffSpeedScale, self:getAnimationTime(spec.turnedAnimation), true )\n    end\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"onturnedon",children:"onTurnedOn"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onTurnedOn()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function Sprayer:onTurnedOn()\n    local spec = self.spec_sprayer\n    if self.isClient then\n        self:updateSprayerEffects()\n\n        if spec.animationName ~ = "" and self.playAnimation ~ = nil then\n            self:playAnimation(spec.animationName, 1 , self:getAnimationTime(spec.animationName), true )\n        end\n\n        g_soundManager:playSamples(spec.samples.work)\n\n        local sprayType = self:getActiveSprayType()\n        if sprayType ~ = nil then\n            g_soundManager:playSamples(sprayType.samples.work)\n\n            if sprayType.turnedAnimationExternalFill or not self:getIsSprayerExternallyFilled() then\n                self:playAnimation(sprayType.turnedAnimation, sprayType.turnedAnimationTurnOnSpeedScale, self:getAnimationTime(sprayType.turnedAnimation), true )\n            end\n        end\n\n        if spec.turnedAnimationExternalFill or not self:getIsSprayerExternallyFilled() then\n            self:playAnimation(spec.turnedAnimation, spec.turnedAnimationTurnOnSpeedScale, self:getAnimationTime(spec.turnedAnimation), true )\n        end\n    end\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"onupdatetick",children:"onUpdateTick"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onUpdateTick()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"dt"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"isActiveForInput"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"isActiveForInputIgnoreSelection"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"isSelected"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function Sprayer:onUpdateTick(dt, isActiveForInput, isActiveForInputIgnoreSelection, isSelected)\n    local activeSprayType = self:getActiveSprayType()\n    if activeSprayType ~ = nil then\n        local spec = self.spec_sprayer\n        if activeSprayType ~ = spec.lastActiveSprayType then\n            for _, sprayType in ipairs(spec.sprayTypes) do\n                if sprayType = = spec.lastActiveSprayType then\n                    g_effectManager:stopEffects(sprayType.effects)\n                    g_animationManager:stopAnimations(sprayType.animationNodes)\n                end\n            end\n\n            SpecializationUtil.raiseEvent( self , "onSprayTypeChange" , activeSprayType)\n            spec.lastActiveSprayType = activeSprayType\n\n            self:updateSprayerEffects( true )\n        end\n    end\n\n    if self.isClient then\n        local spec = self.spec_sprayer\n        local actionEvent = spec.actionEvents[spec.toggleDoubledAmountInputBinding]\n        if actionEvent ~ = nil then\n            local text\n            if spec.doubledAmountIsActive then\n                text = spec.doubledAmountDeactivateText\n            else\n                    text = spec.doubledAmountActivateText\n                end\n                g_inputBinding:setActionEventText(actionEvent.actionEventId, text)\n\n                local _, isAllowed = self:getSprayerDoubledAmountActive(spec.workAreaParameters.sprayType)\n                g_inputBinding:setActionEventActive(actionEvent.actionEventId, isAllowed)\n            end\n        end\n\n        if self.isServer then\n            local spec = self.spec_sprayer\n            if spec.pendingActivationAfterLowering then\n                if self:getCanBeTurnedOn() then\n                    self:setIsTurnedOn( true )\n                    spec.pendingActivationAfterLowering = false\n                end\n            end\n        end\n    end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"onvariableworkwidthsectionchanged",children:"onVariableWorkWidthSectionChanged"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onVariableWorkWidthSectionChanged()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Sprayer:onVariableWorkWidthSectionChanged()\n    self:updateSprayerEffects( true )\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"prerequisitespresent",children:"prerequisitesPresent"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"prerequisitesPresent()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"specializations"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Sprayer.prerequisitesPresent(specializations)\n    return SpecializationUtil.hasSpecialization( FillUnit , specializations) and\n    SpecializationUtil.hasSpecialization( WorkArea , specializations) and\n    SpecializationUtil.hasSpecialization( TurnOnVehicle , specializations)\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"processsprayerarea",children:"processSprayerArea"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"processSprayerArea()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"workArea"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"dt"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Sprayer:processSprayerArea(workArea, dt)\n    local spec = self.spec_sprayer\n\n    if self:getIsAIActive() and self.isServer then\n        if spec.workAreaParameters.sprayFillType = = nil or spec.workAreaParameters.sprayFillType = = FillType.UNKNOWN then\n            local rootVehicle = self.rootVehicle\n            rootVehicle:stopCurrentAIJob( AIMessageErrorOutOfFill.new())\n\n            return 0 , 0\n        end\n    end\n\n    if spec.workAreaParameters.sprayFillLevel < = 0 then\n        return 0 , 0\n    end\n\n    local sx,_,sz = getWorldTranslation(workArea.start)\n    local wx,_,wz = getWorldTranslation(workArea.width)\n    local hx,_,hz = getWorldTranslation(workArea.height)\n\n    if not self.isServer and self.currentUpdateDistance > Sprayer.CLIENT_DM_UPDATE_RADIUS then\n        return 0 , 0\n    end\n\n    local sprayAmount = self:getSprayerDoubledAmountActive(spec.workAreaParameters.sprayType) and 2 or 1\n    local changedArea, totalArea = FSDensityMapUtil.updateSprayArea(sx,sz, wx,wz, hx,hz, spec.workAreaParameters.sprayType, sprayAmount)\n\n    spec.workAreaParameters.isActive = true\n    spec.workAreaParameters.lastChangedArea = spec.workAreaParameters.lastChangedArea + changedArea\n    spec.workAreaParameters.lastStatsArea = spec.workAreaParameters.lastStatsArea + changedArea\n    spec.workAreaParameters.lastTotalArea = spec.workAreaParameters.lastTotalArea + totalArea\n    spec.workAreaParameters.lastSprayTime = g_ time\n\n    if self:getLastSpeed() > 1 then\n        spec.isWorking = true\n    end\n\n    return changedArea, totalArea\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"registereventlisteners",children:"registerEventListeners"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"registerEventListeners()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function Sprayer.registerEventListeners(vehicleType)\n    SpecializationUtil.registerEventListener(vehicleType, "onLoad" , Sprayer )\n    SpecializationUtil.registerEventListener(vehicleType, "onDelete" , Sprayer )\n    SpecializationUtil.registerEventListener(vehicleType, "onUpdateTick" , Sprayer )\n    SpecializationUtil.registerEventListener(vehicleType, "onRegisterActionEvents" , Sprayer )\n    SpecializationUtil.registerEventListener(vehicleType, "onTurnedOn" , Sprayer )\n    SpecializationUtil.registerEventListener(vehicleType, "onTurnedOff" , Sprayer )\n    SpecializationUtil.registerEventListener(vehicleType, "onPreDetach" , Sprayer )\n    SpecializationUtil.registerEventListener(vehicleType, "onStartWorkAreaProcessing" , Sprayer )\n    SpecializationUtil.registerEventListener(vehicleType, "onEndWorkAreaProcessing" , Sprayer )\n    SpecializationUtil.registerEventListener(vehicleType, "onStateChange" , Sprayer )\n    SpecializationUtil.registerEventListener(vehicleType, "onSetLowered" , Sprayer )\n    SpecializationUtil.registerEventListener(vehicleType, "onFillUnitFillLevelChanged" , Sprayer )\n    SpecializationUtil.registerEventListener(vehicleType, "onSprayTypeChange" , Sprayer )\n    SpecializationUtil.registerEventListener(vehicleType, "onAIImplementEnd" , Sprayer )\n    SpecializationUtil.registerEventListener(vehicleType, "onVariableWorkWidthSectionChanged" , Sprayer )\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"registerevents",children:"registerEvents"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"registerEvents()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function Sprayer.registerEvents(vehicleType)\n    SpecializationUtil.registerEvent(vehicleType, "onSprayTypeChange" )\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"registerfunctions",children:"registerFunctions"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"registerFunctions()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function Sprayer.registerFunctions(vehicleType)\n    SpecializationUtil.registerFunction(vehicleType, "processSprayerArea" , Sprayer.processSprayerArea)\n    SpecializationUtil.registerFunction(vehicleType, "getIsSprayerExternallyFilled" , Sprayer.getIsSprayerExternallyFilled)\n    SpecializationUtil.registerFunction(vehicleType, "getExternalFill" , Sprayer.getExternalFill)\n    SpecializationUtil.registerFunction(vehicleType, "getAreEffectsVisible" , Sprayer.getAreEffectsVisible)\n    SpecializationUtil.registerFunction(vehicleType, "updateSprayerEffects" , Sprayer.updateSprayerEffects)\n    SpecializationUtil.registerFunction(vehicleType, "getSprayerUsage" , Sprayer.getSprayerUsage)\n    SpecializationUtil.registerFunction(vehicleType, "getUseSprayerAIRequirements" , Sprayer.getUseSprayerAIRequirements)\n    SpecializationUtil.registerFunction(vehicleType, "setSprayerAITerrainDetailProhibitedRange" , Sprayer.setSprayerAITerrainDetailProhibitedRange)\n    SpecializationUtil.registerFunction(vehicleType, "getSprayerFillUnitIndex" , Sprayer.getSprayerFillUnitIndex)\n    SpecializationUtil.registerFunction(vehicleType, "loadSprayTypeFromXML" , Sprayer.loadSprayTypeFromXML)\n    SpecializationUtil.registerFunction(vehicleType, "getActiveSprayType" , Sprayer.getActiveSprayType)\n    SpecializationUtil.registerFunction(vehicleType, "getIsSprayTypeActive" , Sprayer.getIsSprayTypeActive)\n    SpecializationUtil.registerFunction(vehicleType, "setSprayerDoubledAmountActive" , Sprayer.setSprayerDoubledAmountActive)\n    SpecializationUtil.registerFunction(vehicleType, "getSprayerDoubledAmountActive" , Sprayer.getSprayerDoubledAmountActive)\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"registeroverwrittenfunctions",children:"registerOverwrittenFunctions"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"registerOverwrittenFunctions()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function Sprayer.registerOverwrittenFunctions(vehicleType)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getDrawFirstFillText" , Sprayer.getDrawFirstFillText)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getAreControlledActionsAllowed" , Sprayer.getAreControlledActionsAllowed)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getCanToggleTurnedOn" , Sprayer.getCanToggleTurnedOn)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getCanBeTurnedOn" , Sprayer.getCanBeTurnedOn)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "loadWorkAreaFromXML" , Sprayer.loadWorkAreaFromXML)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getIsWorkAreaActive" , Sprayer.getIsWorkAreaActive)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "doCheckSpeedLimit" , Sprayer.doCheckSpeedLimit)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getRawSpeedLimit" , Sprayer.getRawSpeedLimit)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getFillVolumeUVScrollSpeed" , Sprayer.getFillVolumeUVScrollSpeed)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getAIRequiresTurnOffOnHeadland" , Sprayer.getAIRequiresTurnOffOnHeadland)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getDirtMultiplier" , Sprayer.getDirtMultiplier)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getWearMultiplier" , Sprayer.getWearMultiplier)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getEffectByNode" , Sprayer.getEffectByNode)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getVariableWorkWidthUsage" , Sprayer.getVariableWorkWidthUsage)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getAIImplementUseVineSegment" , Sprayer.getAIImplementUseVineSegment)\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"setsprayeraiterraindetailprohibitedrange",children:"setSprayerAITerrainDetailProhibitedRange"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"setSprayerAITerrainDetailProhibitedRange()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"fillType"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function Sprayer:setSprayerAITerrainDetailProhibitedRange(fillType)\n    if self:getUseSprayerAIRequirements() then\n        if self.addAITerrainDetailProhibitedRange ~ = nil then\n            self:clearAITerrainDetailRequiredRange()\n            self:clearAITerrainDetailProhibitedRange()\n            self:clearAIFruitRequirements()\n            self:clearAIFruitProhibitions()\n\n            local sprayTypeDesc = g_sprayTypeManager:getSprayTypeByFillTypeIndex(fillType)\n            if sprayTypeDesc ~ = nil then\n                if sprayTypeDesc.isHerbicide then\n                    local weedSystem = g_currentMission.weedSystem\n                    if weedSystem ~ = nil then\n                        local weedMapId, weedFirstChannel, weedNumChannels = weedSystem:getDensityMapData()\n                        local replacementData = weedSystem:getHerbicideReplacements()\n                        if replacementData.weed ~ = nil then\n                            local startState, lastState = - 1 , - 1\n                            for sourceState, targetState in pairs(replacementData.weed.replacements) do\n                                if startState = = - 1 then\n                                    startState = sourceState\n                                else\n                                        if sourceState ~ = lastState + 1 then\n                                            self:addAIFruitRequirement( nil , startState, lastState, weedMapId, weedFirstChannel, weedNumChannels)\n                                            startState = sourceState\n                                        end\n                                    end\n\n                                    lastState = sourceState\n                                end\n\n                                if startState ~ = - 1 then\n                                    self:addAIFruitRequirement( nil , startState, lastState, weedMapId, weedFirstChannel, weedNumChannels)\n                                end\n                            end\n                        end\n                    elseif sprayTypeDesc.isFertilizer then\n                            self:addAIGroundTypeRequirements( Sprayer.AI_REQUIRED_GROUND_TYPES)\n\n                            local mission = g_currentMission\n                            local sprayTypeMapId, sprayTypeFirstChannel, sprayTypeNumChannels = mission.fieldGroundSystem:getDensityMapData(FieldDensityMap.SPRAY_TYPE)\n                            local sprayLevelMapId, sprayLevelFirstChannel, sprayLevelNumChannels = mission.fieldGroundSystem:getDensityMapData(FieldDensityMap.SPRAY_LEVEL)\n                            local sprayLevelMaxValue = mission.fieldGroundSystem:getMaxValue(FieldDensityMap.SPRAY_LEVEL)\n                            self:addAIFruitProhibitions( 0 , sprayTypeDesc.sprayGroundType, sprayTypeDesc.sprayGroundType, sprayTypeMapId, sprayTypeFirstChannel, sprayTypeNumChannels)\n                            self:addAIFruitProhibitions( 0 , sprayLevelMaxValue, sprayLevelMaxValue, sprayLevelMapId, sprayLevelFirstChannel, sprayLevelNumChannels)\n                        elseif sprayTypeDesc.isLime then\n                                self:addAIGroundTypeRequirements( Sprayer.AI_REQUIRED_GROUND_TYPES)\n\n                                local mission = g_currentMission\n                                local sprayTypeMapId, sprayTypeFirstChannel, sprayTypeNumChannels = mission.fieldGroundSystem:getDensityMapData(FieldDensityMap.SPRAY_TYPE)\n                                self:addAIFruitProhibitions( 0 , sprayTypeDesc.sprayGroundType, sprayTypeDesc.sprayGroundType, sprayTypeMapId, sprayTypeFirstChannel, sprayTypeNumChannels)\n                            end\n\n                            -- block ai from working on fully growth fields\n                            if sprayTypeDesc.isHerbicide or sprayTypeDesc.isFertilizer or sprayTypeDesc.isLime then\n                                for _, fruitType in pairs(g_fruitTypeManager:getFruitTypes()) do\n                                    if fruitType.terrainDataPlaneId ~ = nil and string.lower(fruitType.name) ~ = "grass" then\n                                        if fruitType.minHarvestingGrowthState ~ = nil and fruitType.maxHarvestingGrowthState ~ = nil then\n                                            self:addAIFruitProhibitions(fruitType.index, fruitType.minHarvestingGrowthState, fruitType.maxHarvestingGrowthState)\n                                        end\n                                    end\n                                end\n                            end\n                        end\n                    end\n                end\n            end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"setsprayerdoubledamountactive",children:"setSprayerDoubledAmountActive"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"setSprayerDoubledAmountActive()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"isActive"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"noEventSend"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Sprayer:setSprayerDoubledAmountActive(isActive, noEventSend)\n    local spec = self.spec_sprayer\n    if isActive ~ = spec.doubledAmountIsActive then\n        spec.doubledAmountIsActive = isActive\n\n        SprayerDoubledAmountEvent.sendEvent( self , isActive, noEventSend)\n    end\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"updatesprayereffects",children:"updateSprayerEffects"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"updateSprayerEffects()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"force"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Sprayer:updateSprayerEffects(force)\n    local spec = self.spec_sprayer\n\n    local effectsState = self:getAreEffectsVisible()\n    if effectsState ~ = spec.lastEffectsState or force then\n        if effectsState then\n            local fillUnitIndex = self:getSprayerFillUnitIndex()\n            local fillType = self:getFillUnitLastValidFillType(fillUnitIndex)\n            if fillType = = FillType.UNKNOWN then\n                fillType = self:getFillUnitFirstSupportedFillType(fillUnitIndex)\n            end\n\n            g_effectManager:setEffectTypeInfo(spec.effects, fillType)\n            g_effectManager:startEffects(spec.effects)\n\n            g_soundManager:playSamples(spec.samples.spray)\n\n            local sprayType = self:getActiveSprayType()\n            if sprayType ~ = nil then\n                g_effectManager:setEffectTypeInfo(sprayType.effects, fillType)\n                g_effectManager:startEffects(sprayType.effects)\n\n                g_animationManager:startAnimations(sprayType.animationNodes)\n\n                g_soundManager:playSamples(sprayType.samples.spray)\n            end\n\n            g_animationManager:startAnimations(spec.animationNodes)\n        else\n                g_effectManager:stopEffects(spec.effects)\n                g_animationManager:stopAnimations(spec.animationNodes)\n\n                g_soundManager:stopSamples(spec.samples.spray)\n\n                -- deactivate effects on all spray types(the spray type has may changed during activation)\n                for _, sprayType in ipairs(spec.sprayTypes) do\n                    g_effectManager:stopEffects(sprayType.effects)\n                    g_animationManager:stopAnimations(sprayType.animationNodes)\n\n                    g_soundManager:stopSamples(sprayType.samples.spray)\n                end\n            end\n\n            spec.lastEffectsState = effectsState\n        end\n    end\n\n"})})]})}function o(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(p,{...e})}):p(e)}}}]);