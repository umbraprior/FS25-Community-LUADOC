"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[21771],{26209(e,n,l){l.r(n),l.d(n,{assets:()=>a,contentTitle:()=>d,default:()=>h,frontMatter:()=>t,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"script/GUI/RenderElement","title":"RenderElement","description":"RenderElement","source":"@site/../docs/script/GUI/RenderElement.md","sourceDirName":"script/GUI","slug":"/script/GUI/RenderElement","permalink":"/FS25-Community-LUADOC/script/GUI/RenderElement","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"PlaySampleMixin","permalink":"/FS25-Community-LUADOC/script/GUI/PlaySampleMixin"},"next":{"title":"RoundCornerElement","permalink":"/FS25-Community-LUADOC/script/GUI/RoundCornerElement"}}');var r=l(74848),i=l(28453);const t={},d=void 0,a={},o=[{value:"RenderElement",id:"renderelement",level:2},{value:"canReceiveFocus",id:"canreceivefocus",level:3},{value:"copyAttributes",id:"copyattributes",level:3},{value:"createOverlay",id:"createoverlay",level:3},{value:"createScene",id:"createscene",level:3},{value:"delete",id:"delete",level:3},{value:"destroyScene",id:"destroyscene",level:3},{value:"draw",id:"draw",level:3},{value:"getSceneRoot",id:"getsceneroot",level:3},{value:"loadFromXML",id:"loadfromxml",level:3},{value:"loadProfile",id:"loadprofile",level:3},{value:"new",id:"new",level:3},{value:"onSceneLoaded",id:"onsceneloaded",level:3},{value:"setRenderDirty",id:"setrenderdirty",level:3},{value:"setScene",id:"setscene",level:3},{value:"update",id:"update",level:3}];function c(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"renderelement",children:"RenderElement"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Renders a scene to an overlay"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parent"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"?version=script&category=43&class=486",children:"GuiElement"})}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Functions"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#canreceivefocus",children:"canReceiveFocus"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#copyattributes",children:"copyAttributes"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#createoverlay",children:"createOverlay"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#createscene",children:"createScene"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#delete",children:"delete"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#destroyscene",children:"destroyScene"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#draw",children:"draw"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#getsceneroot",children:"getSceneRoot"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#loadfromxml",children:"loadFromXML"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#loadprofile",children:"loadProfile"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#new",children:"new"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#onsceneloaded",children:"onSceneLoaded"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#setrenderdirty",children:"setRenderDirty"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#setscene",children:"setScene"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#update",children:"update"})}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"canreceivefocus",children:"canReceiveFocus"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"A render element can't get UI focus"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"canReceiveFocus()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n",(0,r.jsx)(n.table,{children:(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"any"}),(0,r.jsx)(n.th,{children:"canReceiveFocus"})]})})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function RenderElement:canReceiveFocus()\n    return false\nend\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"copyattributes",children:"copyAttributes"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"copyAttributes(table src)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,r.jsx)(n.table,{children:(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"table"}),(0,r.jsx)(n.th,{children:"src"})]})})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function RenderElement:copyAttributes(src)\n    RenderElement:superClass().copyAttributes( self , src)\n\n    self.filename = src.filename\n    self.cameraPath = src.cameraPath\n    self.superSamplingFactor = src.superSamplingFactor\n    self.atmosphereQuality = src.atmosphereQuality\n\n    self.onRenderLoadCallback = src.onRenderLoadCallback\nend\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"createoverlay",children:"createOverlay"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"createOverlay()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'function RenderElement:createOverlay()\n    if self.overlay ~ = nil then\n        delete( self.overlay)\n        self.overlay = nil\n    end\n\n    -- Use downsampling to imitate anti-aliasing, as the postFx for it is not available\n        -- on render overlays\n        local resolutionX = math.ceil(g_screenWidth * self.absSize[ 1 ]) * self.superSamplingFactor\n        local resolutionY = math.ceil(g_screenHeight * self.absSize[ 2 ]) * self.superSamplingFactor\n\n        local aspectRatio = resolutionX / resolutionY\n\n        local camera = I3DUtil.indexToObject( self.scene, self.cameraPath)\n        if camera = = nil then\n            Logging.error( "Could not find camera node \'%s\' in render overlay scene \'%s\'" , self.cameraPath, self.filename)\n            return\n        end\n\n        local overlay = createRenderOverlay( self.scene, camera, aspectRatio, resolutionX, resolutionY, self.useAlpha, self.shapesMask, self.lightMask, self.renderShadows, self.bloomQuality, self.enableDof, self.ssaoQuality, self.asyncShaderCompilation, self.atmosphereQuality)\n\n        if overlay = = 0 then\n            Logging.error( "Could not create render overlay for scene \'%s\'" , self.filename)\n                --#debug log(" Used args: ", camera, aspectRatio, resolutionX, resolutionY, self.useAlpha, self.shapesMask, self.lightMask, self.renderShadows, self.bloomQuality, self.enableDof, self.ssaoQuality, self.asyncShaderCompilation, self.atmosphereQuality)\n                --#debug printCallstack()\n                return\n            end\n\n            self.overlay = overlay\n\n            self.isRenderDirty = true\n            self:raiseCallback( "onRenderLoadCallback" , self.scene, self.overlay)\n        end\n\n'})}),"\n",(0,r.jsx)(n.h3,{id:"createscene",children:"createScene"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Create the scene and the overlay. Call destroyScene to clean up resources."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"createScene()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function RenderElement:createScene()\n    self:setScene( self.filename)\nend\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"delete",children:"delete"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"delete()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function RenderElement:delete()\n    self:destroyScene()\n\n    RenderElement:superClass().delete( self )\nend\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"destroyscene",children:"destroyScene"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Destroy the scene and the overlay, cleaning up resources."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"destroyScene()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function RenderElement:destroyScene()\n    if self.loadingRequestId ~ = nil then\n        g_i3DManager:releaseSharedI3DFile( self.loadingRequestId)\n        self.loadingRequestId = nil\n    end\n\n    if self.overlay ~ = nil then\n        delete( self.overlay)\n        self.overlay = nil\n    end\n\n    if self.scene then\n        delete( self.scene)\n        self.scene = nil\n    end\nend\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"draw",children:"draw"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Draws overlay with current content, to redraw/render the scene to the overlay it needs to be set dirty via\nsetRenderDirty()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"draw(float? clipX1, float? clipY1, float? clipX2, float? clipY2)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"float?"}),(0,r.jsx)(n.th,{children:"clipX1"}),(0,r.jsx)(n.th,{children:"[0..1]"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"float?"}),(0,r.jsx)(n.td,{children:"clipY1"}),(0,r.jsx)(n.td,{children:"[0..1]"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"float?"}),(0,r.jsx)(n.td,{children:"clipX2"}),(0,r.jsx)(n.td,{children:"[0..1]"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"float?"}),(0,r.jsx)(n.td,{children:"clipY2"}),(0,r.jsx)(n.td,{children:"[0..1]"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function RenderElement:draw(clipX1, clipY1, clipX2, clipY2)\n    if not self.isLoading and self.overlay ~ = nil then\n\n        local posX, posY, sizeX, sizeY = self.absPosition[ 1 ], self.absPosition[ 2 ], self.size[ 1 ], self.size[ 2 ]\n        local u1, v1, u2, v2, u3, v3, u4, v4 = 0 , 0 , 0 , 1 , 1 , 0 , 1 , 1\n\n        -- Needs clipping\n        if clipX1 ~ = nil then\n            local oldX1, oldY1, oldX2, oldY2 = posX, posY, sizeX + posX, sizeY + posY\n\n            local posX2 = posX + sizeX\n            local posY2 = posY + sizeY\n\n            posX = math.max(posX, clipX1)\n            posY = math.max(posY, clipY1)\n\n            sizeX = math.max( math.min(posX2, clipX2) - posX, 0 )\n            sizeY = math.max( math.min(posY2, clipY2) - posY, 0 )\n\n            local p1 = (posX - oldX1) / (oldX2 - oldX1) -- start x\n            local p2 = (posY - oldY1) / (oldY2 - oldY1) -- start y\n            local p3 = ((posX + sizeX) - oldX1) / (oldX2 - oldX1) -- end x\n            local p4 = ((posY + sizeY) - oldY1) / (oldY2 - oldY1) -- end y\n\n            -- start x, start y\n            u1 = p1\n            v1 = p2\n\n            -- start x, end y\n            u2 = p1\n            v2 = p4\n\n            -- end x, start y\n            u3 = p3\n            v3 = p2\n\n            -- end x, end y\n            u4 = p3\n            v4 = p4\n        end\n\n        if u1 ~ = u3 and v1 ~ = v2 then\n            setOverlayUVs( self.overlay, u1, v1, u2, v2, u3, v3, u4, v4)\n            renderOverlay( self.overlay, posX, posY, sizeX, sizeY)\n        end\n    end\n\n    RenderElement:superClass().draw( self , clipX1, clipY1, clipX2, clipY2)\nend\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"getsceneroot",children:"getSceneRoot"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"getSceneRoot()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n",(0,r.jsx)(n.table,{children:(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"float?"}),(0,r.jsx)(n.th,{children:"scene"})]})})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function RenderElement:getSceneRoot()\n    return self.scene\nend\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"loadfromxml",children:"loadFromXML"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"loadFromXML(entityId xmlFile, string key)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"entityId"}),(0,r.jsx)(n.th,{children:"xmlFile"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"key"})]})})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'function RenderElement:loadFromXML(xmlFile, key)\n    RenderElement:superClass().loadFromXML( self , xmlFile, key)\n\n    self.filename = getXMLString(xmlFile, key .. "#filename" ) or self.filename\n    self.cameraPath = getXMLString(xmlFile, key .. "#cameraNode" ) or self.cameraPath\n    self.superSamplingFactor = getXMLInt(xmlFile, key .. "#superSamplingFactor" ) or self.superSamplingFactor\n    self.shapesMask = getXMLInt(xmlFile, key .. "#shapesMask" ) or self.shapesMask\n    self.lightMask = getXMLInt(xmlFile, key .. "#lightMask" ) or self.lightMask\n    self.renderShadows = Utils.getNoNil(getXMLBool(xmlFile, key .. "#renderShadows" ), self.renderShadows)\n    self.bloomQuality = getXMLInt(xmlFile, key .. "#bloomQuality" ) or self.bloomQuality\n    self.enableDof = Utils.getNoNil(getXMLBool(xmlFile, key .. "#enableDof" ), self.enableDof)\n    self.ssaoQuality = getXMLInt(xmlFile, key .. "#ssaoQuality" ) or self.ssaoQuality\n    self.asyncShaderCompilation = Utils.getNoNil(getXMLBool(xmlFile, key .. "#asyncShaderCompilation" ), self.asyncShaderCompilation)\n\n    local atmosphereQualityName = getXMLString(xmlFile, key .. "#atmosphereQuality" )\n    if not string.isNilOrWhitespace(atmosphereQualityName) then\n        local atmosphereQuality = AtmosphereQuality[atmosphereQualityName]\n        if atmosphereQuality ~ = nil then\n            self.atmosphereQuality = atmosphereQuality\n        else\n                Logging.xmlWarning(xmlFile, "Invalid atmosphereQuality name \'%s\'" , tostring(atmosphereQualityName))\n            end\n        end\n\n        self:addCallback(xmlFile, key .. "#onRenderLoad" , "onRenderLoadCallback" )\n    end\n\n'})}),"\n",(0,r.jsx)(n.h3,{id:"loadprofile",children:"loadProfile"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"loadProfile(table profile, boolean applyProfile)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"table"}),(0,r.jsx)(n.th,{children:"profile"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"boolean"}),(0,r.jsx)(n.td,{children:"applyProfile"})]})})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'function RenderElement:loadProfile(profile, applyProfile)\n    RenderElement:superClass().loadProfile( self , profile, applyProfile)\n\n    self.filename = profile:getValue( "filename" )\n    self.cameraPath = profile:getValue( "cameraNode" )\n    self.superSamplingFactor = profile:getNumber( "superSamplingFactor" )\n\n    local atmosphereQualityName = profile:getValue( "atmosphereQuality" )\n    if not string.isNilOrWhitespace(atmosphereQualityName) then\n        local atmosphereQuality = AtmosphereQuality[atmosphereQualityName]\n        if atmosphereQuality ~ = nil then\n            self.atmosphereQuality = atmosphereQuality\n        else\n                Logging.warning( "Invalid atmosphereQuality name \'%s\'" , tostring(atmosphereQualityName))\n            end\n        end\n\n        if applyProfile then\n            self:destroyScene()\n            self:setScene( self.filename)\n        end\n    end\n\n'})}),"\n",(0,r.jsx)(n.h3,{id:"new",children:"new"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"new(table target, table? custom_mt)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"table"}),(0,r.jsx)(n.th,{children:"target"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"table?"}),(0,r.jsx)(n.td,{children:"custom_mt"})]})})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n",(0,r.jsx)(n.table,{children:(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"table?"}),(0,r.jsx)(n.th,{children:"self"})]})})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function RenderElement.new(target, custom_mt)\n    local self = GuiElement.new(target, custom_mt or RenderElement _mt)\n\n    self.cameraPath = nil\n    self.overlay = nil\n\n    -- overlay attributes\n    self.useAlpha = true\n    self.shapesMask = 255 -- show all objects with bits 1-8 enabled\n    self.lightMask = 67108864 -- per default only render lights with bit 26 enabled\n    self.renderShadows = false\n    self.bloomQuality = 0\n    self.enableDof = false\n    self.ssaoQuality = 0\n    self.asyncShaderCompilation = false -- flag to toggle async shader compilation for drawn overlay, if true overlay might not show anything after the first updateRenderOverlay() calls(s)\n        self.atmosphereQuality = AtmosphereQuality.OFF\n\n        self.isRenderDirty = false\n\n        return self\n    end\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"onsceneloaded",children:"onSceneLoaded"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"onSceneLoaded(entityId node, integer failedReason, table? args)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"entityId"}),(0,r.jsx)(n.th,{children:"node"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"integer"}),(0,r.jsx)(n.td,{children:"failedReason"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"table?"}),(0,r.jsx)(n.td,{children:"args"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function RenderElement:onSceneLoaded(node, failedReason, args)\n    self.isLoading = false\n\n    if failedReason = = LoadI3DFailedReason.FILE_NOT_FOUND or failedReason = = LoadI3DFailedReason.UNKNOWN then\n        Logging.error( \"Failed to load RenderElement scene from '%s'\" , self.filename)\n    end\n\n    if failedReason = = LoadI3DFailedReason.NONE then\n        self.scene = node\n        link(getRootNode(), node)\n        setVisibility(node, false )\n\n        -- The overlay is bound to the scene, so we need to recreate the overlay\n        self:createOverlay()\n\n    elseif node ~ = 0 then\n            delete(node)\n        end\n    end\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"setrenderdirty",children:"setRenderDirty"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Set overlay dirty causing it to be updated / redrawn from current scene in the update loop"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"setRenderDirty()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function RenderElement:setRenderDirty()\n    self.isRenderDirty = true\nend\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"setscene",children:"setScene"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Set and start async loading for provided scene"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"setScene(string i3dFilename)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,r.jsx)(n.table,{children:(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"string"}),(0,r.jsx)(n.th,{children:"i3dFilename"}),(0,r.jsx)(n.th,{children:"path to scene i3d file"})]})})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'function RenderElement:setScene(i3dFilename)\n    if self.loadingRequestId ~ = nil then\n        Logging.error( "Could not create scene.Another scene is already loaded.Destroy the scene first!" )\n        return\n    end\n\n    self.isLoading = true\n    self.filename = i3dFilename\n\n    self.loadingRequestId = g_i3DManager:loadSharedI3DFileAsync(i3dFilename, false , false , RenderElement.onSceneLoaded, self , nil )\nend\n\n'})}),"\n",(0,r.jsx)(n.h3,{id:"update",children:"update"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Redraws the scene to the overlay if set dirty"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"update(float dt)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,r.jsx)(n.table,{children:(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"float"}),(0,r.jsx)(n.th,{children:"dt"})]})})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function RenderElement:update(dt)\n    RenderElement:superClass().update( self , dt)\n\n    if self.isRenderDirty and self.overlay ~ = nil then\n        updateRenderOverlay( self.overlay)\n        self.isRenderDirty = false\n    end\nend\n\n"})})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},28453(e,n,l){l.d(n,{R:()=>t,x:()=>d});var s=l(96540);const r={},i=s.createContext(r);function t(e){const n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);