"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[25468],{3060(e,n,s){s.r(n),s.d(n,{assets:()=>r,contentTitle:()=>d,default:()=>h,frontMatter:()=>a,metadata:()=>l,toc:()=>c});const l=JSON.parse('{"id":"script/GUI/TabbedMenuWithDetails","title":"TabbedMenuWithDetails","description":"TabbedMenuWithDetails","source":"@site/../docs/script/GUI/TabbedMenuWithDetails.md","sourceDirName":"script/GUI","slug":"/script/GUI/TabbedMenuWithDetails","permalink":"/FS25-Community-LUADOC/script/GUI/TabbedMenuWithDetails","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"TabbedMenuFrameElement","permalink":"/FS25-Community-LUADOC/script/GUI/TabbedMenuFrameElement"},"next":{"title":"TableHeaderElement","permalink":"/FS25-Community-LUADOC/script/GUI/TableHeaderElement"}}');var i=s(74848),t=s(28453);const a={},d=void 0,r={},c=[{value:"TabbedMenuWithDetails",id:"tabbedmenuwithdetails",level:2},{value:"exitMenu",id:"exitmenu",level:3},{value:"getBreadcrumbs",id:"getbreadcrumbs",level:3},{value:"getIsDetailMode",id:"getisdetailmode",level:3},{value:"getStack",id:"getstack",level:3},{value:"getTopFrame",id:"gettopframe",level:3},{value:"isAtRoot",id:"isatroot",level:3},{value:"new",id:"new",level:3},{value:"onButtonBack",id:"onbuttonback",level:3},{value:"onDetailClosed",id:"ondetailclosed",level:3},{value:"onDetailOpened",id:"ondetailopened",level:3},{value:"onOpen",id:"onopen",level:3},{value:"onPageChange",id:"onpagechange",level:3},{value:"onPageClicked",id:"onpageclicked",level:3},{value:"popDetail",id:"popdetail",level:3},{value:"popToRoot",id:"poptoroot",level:3},{value:"pushDetail",id:"pushdetail",level:3},{value:"replaceDetail",id:"replacedetail",level:3},{value:"reset",id:"reset",level:3},{value:"setPageDisabled",id:"setpagedisabled",level:3}];function o(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"tabbedmenuwithdetails",children:"TabbedMenuWithDetails"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"A tabbed menu with support for detail pages for a hierarchy\nPlease note that this is a hack to make such a system work with the rest of the\nUI system. Instead, the UI system should be hierarchycal top-down to begin with\nautomatically supporting something like this (by view controllers in tab controller)\nTODO: A bug exists regarding pageIndex/pageMappingIndex.\nWhen there is an invisible page between the tabs (pageIndex does not match pageMappingIndex),\nand a player switches from a tab with detail open with Q to the tab that is not ordered 'right',\nit does nothing and the tab is hidden. To 'fix': reorder tabs in xml if possible"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Parent"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"?version=script&category=43&class=499",children:"TabbedMenu"})}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Functions"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#exitmenu",children:"exitMenu"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getbreadcrumbs",children:"getBreadcrumbs"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getisdetailmode",children:"getIsDetailMode"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getstack",children:"getStack"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#gettopframe",children:"getTopFrame"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#isatroot",children:"isAtRoot"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#new",children:"new"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onbuttonback",children:"onButtonBack"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#ondetailclosed",children:"onDetailClosed"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#ondetailopened",children:"onDetailOpened"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onopen",children:"onOpen"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onpagechange",children:"onPageChange"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onpageclicked",children:"onPageClicked"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#popdetail",children:"popDetail"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#poptoroot",children:"popToRoot"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#pushdetail",children:"pushDetail"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#replacedetail",children:"replaceDetail"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#reset",children:"reset"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#setpagedisabled",children:"setPageDisabled"})}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"exitmenu",children:"exitMenu"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Exit the menu if allowed."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"exitMenu()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function TabbedMenuWithDetails:exitMenu()\n    -- Make sure that detail mode is off\n    self:popToRoot()\n\n    TabbedMenuWithDetails:superClass().exitMenu( self )\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getbreadcrumbs",children:"getBreadcrumbs"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Get a list of breadcrumbs for the current page"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getBreadcrumbs()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"page"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function TabbedMenuWithDetails:getBreadcrumbs(page)\n    local list = { }\n\n    for _, item in ipairs( self:getStack(page)) do\n        table.insert(list, item.page.title or "" )\n    end\n\n    return list\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"getisdetailmode",children:"getIsDetailMode"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getIsDetailMode()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function TabbedMenuWithDetails:getIsDetailMode()\n    return not self:isAtRoot()\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getstack",children:"getStack"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Get the frame stack of the current tab"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getStack()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"page"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function TabbedMenuWithDetails:getStack(page)\n    local pageId = self.currentPageId or self.restorePageIndex\n    if page ~ = nil then\n        pageId = self.pagingElement:getPageIndexByElement(page)\n    else\n            page = self.pagingElement:getPageElementByIndex(pageId)\n        end\n\n        if self.stacks[pageId] = = nil then\n            self.stacks[pageId] = { }\n\n            local root = {\n            page = page,\n            pageId = pageId,\n            isRoot = true ,\n            }\n\n            table.insert( self.stacks[pageId], root)\n        end\n\n        return self.stacks[pageId]\n    end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"gettopframe",children:"getTopFrame"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Get the current top frame (page)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getTopFrame()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function TabbedMenuWithDetails:getTopFrame()\n    local stack = self:getStack()\n    return stack[#stack].page\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"isatroot",children:"isAtRoot"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Get whether the current tab is showing its root page"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"isAtRoot()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function TabbedMenuWithDetails:isAtRoot()\n    return # self:getStack() = = 1\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"new",children:"new"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"new()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"target"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"custom_mt"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function TabbedMenuWithDetails.new(target, custom_mt)\n    local self = TabbedMenu.new(target, custom_mt or TabbedMenuWithDetails _mt)\n\n    self.stacks = { }\n\n    return self\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"onbuttonback",children:"onButtonBack"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Button function for backing out of the menu."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onButtonBack()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function TabbedMenuWithDetails:onButtonBack()\n    if self:isAtRoot() then\n        self:exitMenu()\n    else\n            self:popDetail()\n        end\n    end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"ondetailclosed",children:"onDetailClosed"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Abstract function called when a detail closed"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onDetailClosed()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"detailPage"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function TabbedMenuWithDetails:onDetailClosed(detailPage)\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"ondetailopened",children:"onDetailOpened"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Abstract function called when a detail opened"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onDetailOpened()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"detailPage"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function TabbedMenuWithDetails:onDetailOpened(detailPage)\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"onopen",children:"onOpen"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onOpen()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"element"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function TabbedMenuWithDetails:onOpen(element)\n    -- HACK:Skip over any code in TabbedMenu.It causes a double blur context and too many sounds\n    -- We still want its super class to be called\n    TabbedMenu:superClass().onOpen( self )\n\n    if self.performBackgroundBlur then\n        g_depthOfFieldManager:pushArea( 0 , 0 , 1 , 1 )\n        -- popped by non-overwritten onClose\n    end\n\n    self:playSample( GuiSoundPlayer.SOUND_SAMPLES.PAGING)\n\n    if self.gameState ~ = nil then\n        g_gameStateManager:setGameState( self.gameState)\n    end\n\n    -- Disable all focus sounds.We play our own for opening the menu\n        self:setSoundSuppressed( true )\n\n        self.currentPage = self.currentPage or self.restorePage\n        local top = self:getTopFrame() -- also creates stack\n\n        if self:isAtRoot() then\n            self:updatePages()\n            self.pageSelector:setState( self.restorePageIndex, true )\n        else\n                top:onFrameOpen()\n                self:updateButtonsPanel(top)\n            end\n\n            self:setSoundSuppressed( false )\n\n            self:onMenuOpened()\n        end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"onpagechange",children:"onPageChange"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Callback form PagingElement"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onPageChange()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"pageIndex"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"pageMappingIndex"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"element"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"skipTabVisualUpdate"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function TabbedMenuWithDetails:onPageChange(pageIndex, pageMappingIndex, element, skipTabVisualUpdate)\n    -- If the new page is a detail page, then do not update\n        if self.isChangingDetail then\n            skipTabVisualUpdate = true\n        else\n                self:popToRoot()\n            end\n\n            TabbedMenuWithDetails:superClass().onPageChange( self , pageIndex, pageMappingIndex, element, skipTabVisualUpdate)\n        end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"onpageclicked",children:"onPageClicked"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Override action that happens when a paging tab is clicked"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onPageClicked()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"oldPage"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function TabbedMenuWithDetails:onPageClicked(oldPage)\n    self:popToRoot()\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"popdetail",children:"popDetail"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Remove current detail and go back to the previous one (or root)\nWe remove the detail onto the context stack, and update the visible frame."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"popDetail()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function TabbedMenuWithDetails:popDetail()\n    local stack = self:getStack()\n\n    self.isChangingDetail = true\n\n    if #stack = = 1 then\n        Logging.error( "Cannot pop from view stack at root" )\n        return\n    end\n\n    local closingPage = stack[#stack].page\n    table.remove(stack)\n\n    -- Disable the popped page\n    closingPage:setVisible( false )\n    closingPage:onFrameClose()\n\n    self.pagingElement.neuterPageUpdates = true\n    self:setPageDisabled(closingPage, true )\n\n    self:onDetailClosed(closingPage)\n    self.pagingElement.neuterPageUpdates = false\n\n    -- If not at root, show detail again\n    if #stack ~ = 1 then\n        local detailPage = stack[#stack].page\n\n        detailPage:onFrameOpen()\n\n        self:setPageDisabled(detailPage, false )\n\n        detailPage:setSoundSuppressed( true ) -- avoid playing sound on page focus-triggered selection when opening\n        self.pagingElement:setPage( self.pagingElement:getPageMappingIndexByElement(detailPage))\n        detailPage:setSoundSuppressed( false )\n\n        self:onDetailOpened(detailPage)\n    else\n            -- Set page\n            self.pagingElement:setPage( self.pagingElement:getPageMappingIndexByElement(stack[ 1 ].page))\n        end\n\n        self.isChangingDetail = false\n    end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"poptoroot",children:"popToRoot"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Pop everything from the stack until only the root is kept. Used for resetting the hierarchy with clicking a tab"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"popToRoot()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function TabbedMenuWithDetails:popToRoot()\n    local stack = self:getStack()\n\n    -- TODO:optimize.Can close all without opening them too(just close, remove all, open)\n    if #stack > 1 then\n        for _ = #stack, 2 , - 1 do\n            self:popDetail()\n        end\n    end\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"pushdetail",children:"pushDetail"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Add a new detail and show it.\nWe push the detail onto the context stack, and update the visible frame"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"pushDetail()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"detailPage"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function TabbedMenuWithDetails:pushDetail(detailPage)\n    local stack = self:getStack()\n\n    self.isChangingDetail = true\n\n    -- If already a detail visible, hide it first\n    if not self:isAtRoot() then\n        local closingPage = stack[#stack].page\n\n        -- Disable details page\n        detailPage:setVisible( false )\n        detailPage:onFrameClose()\n\n        self:setPageDisabled(detailPage, true )\n\n        self:onDetailClosed(closingPage)\n    end\n\n    local context = {\n    page = detailPage\n    }\n    table.insert(stack, context)\n\n    self:setPageDisabled(detailPage, false )\n\n    detailPage:setSoundSuppressed( true ) -- avoid playing sound on page focus-triggered selection when opening\n    self.pagingElement:setPage( self.pagingElement:getPageMappingIndexByElement(detailPage))\n    detailPage:setSoundSuppressed( false )\n\n    self:onDetailOpened(detailPage)\n\n    self.isChangingDetail = false\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"replacedetail",children:"replaceDetail"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Replace current detail with the given. This is useful for keeping the back button behaviour"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"replaceDetail()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"detailPage"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function TabbedMenuWithDetails:replaceDetail(detailPage)\n    -- TODO optimize\n\n    -- close\n    -- remove\n    -- add\n    -- open\n\n    self:popDetail()\n    self:pushDetail(detailPage)\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"reset",children:"reset"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"reset()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function TabbedMenuWithDetails:reset()\n    TabbedMenuWithDetails:superClass().reset( self )\n\n    self.stacks = { }\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"setpagedisabled",children:"setPageDisabled"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"setPageDisabled()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"page"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"disabled"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function TabbedMenuWithDetails:setPageDisabled(page, disabled)\n    local pageId = self.pagingElement:getPageIdByElement(page)\n    self.pagingElement:setPageIdDisabled(pageId, disabled)\nend\n\n"})})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},28453(e,n,s){s.d(n,{R:()=>a,x:()=>d});var l=s(96540);const i={},t=l.createContext(i);function a(e){const n=l.useContext(t);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),l.createElement(t.Provider,{value:n},e.children)}}}]);