"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[88818],{17227(n,e,t){t.r(e),t.d(e,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"script/Player/PlayerInputComponent","title":"PlayerInputComponent","description":"PlayerInputComponent","source":"@site/../docs/script/Player/PlayerInputComponent.md","sourceDirName":"script/Player","slug":"/script/Player/PlayerInputComponent","permalink":"/FS25-Community-LUADOC/script/Player/PlayerInputComponent","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"PlayerCamera","permalink":"/FS25-Community-LUADOC/script/Player/PlayerCamera"},"next":{"title":"PlayerMover","permalink":"/FS25-Community-LUADOC/script/Player/PlayerMover"}}');var l=t(74848),s=t(28453);const r={},o=void 0,c={},d=[{value:"PlayerInputComponent",id:"playerinputcomponent",level:2},{value:"addPauseListeners",id:"addpauselisteners",level:3},{value:"calculateNormalisedMovementDirection",id:"calculatenormalisedmovementdirection",level:3},{value:"calculateNormalisedWorldMovementDirection",id:"calculatenormalisedworldmovementdirection",level:3},{value:"debugDraw",id:"debugdraw",level:3},{value:"lock",id:"lock",level:3},{value:"new",id:"new",level:3},{value:"onGamePaused",id:"ongamepaused",level:3},{value:"onInputChangeAltitude",id:"oninputchangealtitude",level:3},{value:"onInputCrouch",id:"oninputcrouch",level:3},{value:"onInputEnter",id:"oninputenter",level:3},{value:"onInputJump",id:"oninputjump",level:3},{value:"onInputLookLeftRight",id:"oninputlookleftright",level:3},{value:"onInputLookUpDown",id:"oninputlookupdown",level:3},{value:"onInputMoveForward",id:"oninputmoveforward",level:3},{value:"onInputMoveSide",id:"oninputmoveside",level:3},{value:"onInputRun",id:"oninputrun",level:3},{value:"onInputSwitchCamera",id:"oninputswitchcamera",level:3},{value:"registerActionEvents",id:"registeractionevents",level:3},{value:"resetState",id:"resetstate",level:3},{value:"touchEventLookLeftRight",id:"toucheventlookleftright",level:3},{value:"touchEventLookUpDown",id:"toucheventlookupdown",level:3},{value:"touchEventZoomInOut",id:"toucheventzoominout",level:3},{value:"unlock",id:"unlock",level:3},{value:"unregisterActionEvents",id:"unregisteractionevents",level:3}];function a(n){const e={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e.h2,{id:"playerinputcomponent",children:"PlayerInputComponent"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"The input component used to control a character."}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Functions"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#addpauselisteners",children:"addPauseListeners"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#calculatenormalisedmovementdirection",children:"calculateNormalisedMovementDirection"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#calculatenormalisedworldmovementdirection",children:"calculateNormalisedWorldMovementDirection"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#debugdraw",children:"debugDraw"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#lock",children:"lock"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#new",children:"new"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#ongamepaused",children:"onGamePaused"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#oninputchangealtitude",children:"onInputChangeAltitude"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#oninputcrouch",children:"onInputCrouch"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#oninputenter",children:"onInputEnter"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#oninputjump",children:"onInputJump"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#oninputlookleftright",children:"onInputLookLeftRight"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#oninputlookupdown",children:"onInputLookUpDown"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#oninputmoveforward",children:"onInputMoveForward"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#oninputmoveside",children:"onInputMoveSide"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#oninputrun",children:"onInputRun"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#oninputswitchcamera",children:"onInputSwitchCamera"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#registeractionevents",children:"registerActionEvents"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#resetstate",children:"resetState"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#toucheventlookleftright",children:"touchEventLookLeftRight"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#toucheventlookupdown",children:"touchEventLookUpDown"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#toucheventzoominout",children:"touchEventZoomInOut"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#unlock",children:"unlock"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#unregisteractionevents",children:"unregisterActionEvents"})}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"addpauselisteners",children:"addPauseListeners"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"Sets up specific bindings when the player enters a mission."}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"addPauseListeners(boolean isControlling)"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,l.jsx)(e.table,{children:(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"boolean"}),(0,l.jsx)(e.th,{children:"isControlling"}),(0,l.jsx)(e.th,{children:"Is true if the player is controlled; otherwise false."})]})})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function PlayerInputComponent:addPauseListeners(isControlling)\n\n    -- If the player is not controlled, do nothing.\n        if not isControlling then\n            return\n        end\n\n        -- If there is a mission, listen for the player pausing.\n            local mission = g_currentMission\n            if mission ~ = nil then\n                mission:addPauseListeners( self , self.onGamePaused)\n            end\n        end\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"calculatenormalisedmovementdirection",children:"calculateNormalisedMovementDirection"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"Calculates and returns the normalised movement direction vector in object-space. (2D only, no height)."}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"calculateNormalisedMovementDirection()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"boolean"}),(0,l.jsx)(e.th,{children:"x"}),(0,l.jsx)(e.th,{children:"The normalised x."})]})}),(0,l.jsx)(e.tbody,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"boolean"}),(0,l.jsx)(e.td,{children:"y"}),(0,l.jsx)(e.td,{children:"The normalised y."})]})})]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function PlayerInputComponent:calculateNormalisedMovementDirection()\n\n    -- If there are movement inputs, normalise and return the direction.\n    if self.moveRight ~ = 0 or self.moveForward ~ = 0 then\n        return MathUtil.vector2Normalize( self.moveRight, self.moveForward)\n        -- Otherwise; return 0, 0, as there is no valid direction.\n    else\n            return 0 , 0\n        end\n    end\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"calculatenormalisedworldmovementdirection",children:"calculateNormalisedWorldMovementDirection"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"Calculates and returns the normalised movement direction vector in world-space. (2D only, no height)."}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"calculateNormalisedWorldMovementDirection()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"boolean"}),(0,l.jsx)(e.th,{children:"x"}),(0,l.jsx)(e.th,{children:"The normalised x."})]})}),(0,l.jsx)(e.tbody,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"boolean"}),(0,l.jsx)(e.td,{children:"y"}),(0,l.jsx)(e.td,{children:"The normalised y."})]})})]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:'function PlayerInputComponent:calculateNormalisedWorldMovementDirection()\n\n    --#debug Assert.isTrue(self.player.isOwner, "Non-controlled player cannot calculate their world movement direction, as they have no camera!")\n\n    -- Calculate the normalised local direction first.\n    local localDirectionX, localDirectionZ = self:calculateNormalisedMovementDirection()\n\n    -- If there is some form of direction, return it translated to the world.\n    if (localDirectionX ~ = 0 or localDirectionZ ~ = 0 ) and self.player.camera.yawNode ~ = nil then\n        local worldDirectionX, _, worldDirectionZ = localDirectionToWorld( self.player.camera.yawNode, - localDirectionX, 0 , localDirectionZ)\n        return worldDirectionX, worldDirectionZ\n        -- Otherwise; return 0, 0 as there is no valid direction.\n    else\n            return 0 , 0\n        end\n    end\n\n'})}),"\n",(0,l.jsx)(e.h3,{id:"debugdraw",children:"debugDraw"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"Displays the debug information."}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"debugDraw(float x, float y, float textSize)"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"float"}),(0,l.jsx)(e.th,{children:"x"}),(0,l.jsx)(e.th,{children:"The x position on the screen to begin drawing the values."})]})}),(0,l.jsxs)(e.tbody,{children:[(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"float"}),(0,l.jsx)(e.td,{children:"y"}),(0,l.jsx)(e.td,{children:"The y position on the screen to begin drawing the values."})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"float"}),(0,l.jsx)(e.td,{children:"textSize"}),(0,l.jsx)(e.td,{children:"The height of the text."})]})]})]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,l.jsx)(e.table,{children:(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"float"}),(0,l.jsx)(e.th,{children:"y"}),(0,l.jsx)(e.th,{children:"The y position on the screen after the entire debug info was drawn."})]})})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:'function PlayerInputComponent:debugDraw(x, y, textSize)\n\n    -- Render the header.\n    y = DebugUtil.renderTextLine(x, y, textSize * 1.5 , "Input" , nil , true )\n\n    y = DebugUtil.renderTextLine(x, y, textSize, string.format( "Jump power: %.2f" , self.lastJumpPower))\n    y = DebugUtil.renderTextLine(x, y, textSize, string.format( "Crouch: %.2f" , self.lastCrouchValue))\n    y = DebugUtil.renderTextLine(x, y, textSize, string.format( "Has movement: %s" , self.lastHasMovementInputs))\n\n    y = self:debugDrawMovementGraphs(x, y, textSize)\n\n    return y\nend\n\n'})}),"\n",(0,l.jsx)(e.h3,{id:"lock",children:"lock"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"Locks the input."}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"lock()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function PlayerInputComponent:lock()\n    self.lockedCrouchValue = self.crouchValue\n    self.locked = true\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"new",children:"new"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"Creates an input component for the given player."}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"new(Player player)"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,l.jsx)(e.table,{children:(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"Player"}),(0,l.jsx)(e.th,{children:"player"}),(0,l.jsx)(e.th,{children:"The player to gather input for."})]})})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,l.jsx)(e.table,{children:(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"Player"}),(0,l.jsx)(e.th,{children:"instance"}),(0,l.jsx)(e.th,{children:"The created instance."})]})})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:'function PlayerInputComponent.new(player)\n\n    -- Create the instance.\n    local self = setmetatable( { } , PlayerInputComponent _mt)\n\n    -- The player who owns this control component.\n    self.player = player\n\n    -- This will be true if the input should be ignored, for example when the player is paused.\n        self.locked = false\n\n        -- The action id for entering vehicles.\n            self.enterActionId = nil\n\n            self.radioActionId = nil\n\n            self.toggleFlightActionId = nil\n            self.upDownFlightActionId = nil\n\n            -- The inputs for the x and z, not normalised.\n                self.moveRight = 0.0\n                self.moveForward = 0.0\n\n                self.lastMoveRight = 0.0\n                self.lastMoveForward = 0.0\n\n                -- The inputs for the x and z in world space, based on the camera\'s yaw axis node.\n                    self.worldDirectionX = 0.0\n                    self.worldDirectionZ = 0.0\n\n                    self.lastWorldDirectionX = 0.0\n                    self.lastWorldDirectionZ = 0.0\n\n                    -- The forward/right movement input length, giving the amount of walk power depending on how far the analogue stick is pushed.\n                    self.walkAxis = 0.0\n\n                    -- The analogue amount of run power.\n                    self.runAxis = 0.0\n\n                    -- The up/down input, where 1 is up and -1 is down.\n                    self.flightAxis = 0.0\n\n                    -- The jump input, may be analogue for differing jump heights.\n                        self.jumpPower = 0.0\n\n                        -- The crouch input.\n                        self.crouchValue = 0.0\n                        self.lockedCrouchValue = 0.0\n\n                        self.lastWalkAxis = 0.0\n                        self.lastRunAxis = 0.0\n                        self.lastFlightAxis = 0.0\n                        self.lastJumpPower = 0.0\n                        self.lastCrouchValue = 0.0\n\n                        -- The rotation inputs for the camera.\n                            self.cameraRotationX = 0.0\n                            self.cameraRotationY = 0.0\n\n                            -- This will be true if the player is trying to move in a direction.\n                                self.hasMovementInputs = false\n                                self.lastHasMovementInputs = false\n\n                                local flashlightName = g_i18n:getText( "storeItem_flashlight" )\n                                self.turnOnFlashlightText = string.format(g_i18n:getText( "action_turnOnOBJECT" ), flashlightName)\n                                self.turnOffFlashlightText = string.format(g_i18n:getText( "action_turnOffOBJECT" ), flashlightName)\n\n                                -- Return the created instance.\n                                return self\n                            end\n\n'})}),"\n",(0,l.jsx)(e.h3,{id:"ongamepaused",children:"onGamePaused"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"Event function for player pausing, locks and unlocks the input."}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"onGamePaused(boolean isPaused)"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,l.jsx)(e.table,{children:(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"boolean"}),(0,l.jsx)(e.th,{children:"isPaused"}),(0,l.jsx)(e.th,{children:"True if the game is paused; otherwise false."})]})})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function PlayerInputComponent:onGamePaused(isPaused)\n\n    -- Handle locking or unlocking the input.\n    if isPaused then\n        self:lock()\n    else\n            self:unlock()\n        end\n    end\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"oninputchangealtitude",children:"onInputChangeAltitude"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"Event function for player changing flight altitude."}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"onInputChangeAltitude(nil, float inputValue)"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"Type"}),(0,l.jsx)(e.th,{children:"Parameter"}),(0,l.jsx)(e.th,{children:"Description"})]})}),(0,l.jsx)(e.tbody,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"float"}),(0,l.jsx)(e.td,{}),(0,l.jsx)(e.td,{})]})})]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function PlayerInputComponent:onInputChangeAltitude(_, inputValue)\n\n    -- Do nothing if the input is locked.\n        if self.locked then\n            return\n        end\n\n        -- Clamp the input value between -1 and 1.\n        inputValue = math.clamp(inputValue, - 1 , 1 )\n\n        -- Set the run axis to the input value.\n        self.flightAxis = inputValue\n    end\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"oninputcrouch",children:"onInputCrouch"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"Event function for player crouching."}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"onInputCrouch(nil, float inputValue)"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"Type"}),(0,l.jsx)(e.th,{children:"Parameter"}),(0,l.jsx)(e.th,{children:"Description"})]})}),(0,l.jsx)(e.tbody,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"float"}),(0,l.jsx)(e.td,{}),(0,l.jsx)(e.td,{})]})})]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function PlayerInputComponent:onInputCrouch(_, inputValue)\n\n    -- Clamp the input value between 0 and 1.\n    inputValue = math.clamp(inputValue, 0 , 1 )\n\n    -- Set the crouch value to the input value.\n    if self.locked then\n        self.lockedCrouchValue = inputValue\n    else\n            self.crouchValue = inputValue\n        end\n    end\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"oninputenter",children:"onInputEnter"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"Event function for player entering closest vehicle."}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"onInputEnter()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:'function PlayerInputComponent:onInputEnter()\n    local mission = g_currentMission\n    -- If it has not been long enough since the last interaction, do nothing.\n        if g_ time < = mission.lastInteractionTime + 200 then\n            return\n        end\n\n        if mission.interactiveVehicleInRange ~ = nil then\n            -- Try enter the vehicle.\n            mission.interactiveVehicleInRange:interact( self.player)\n            return\n        end\n\n        if self.rideablePlaceable ~ = nil then\n            if self.rideablePlaceable:getAnimalCanBeRidden( self.rideableCluster.id) then\n                g_inputBinding:setContext( PlayerInputComponent.INPUT_CONTEXT_NAME_ANIMAL_RIDING, true , false )\n                mission:fadeScreen( 1 , 250 , self.onFinishedRideBlending, self , { self.rideablePlaceable, self.rideableCluster, self.player } )\n            else\n                    mission:addIngameNotification(FSBaseMission.INGAME_NOTIFICATION_CRITICAL, g_i18n:getText( "shop_messageAnimalRideableLimitReached" ))\n                end\n            end\n        end\n\n'})}),"\n",(0,l.jsx)(e.h3,{id:"oninputjump",children:"onInputJump"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"Event function for player jumping."}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"onInputJump(nil, float inputValue)"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"Type"}),(0,l.jsx)(e.th,{children:"Parameter"}),(0,l.jsx)(e.th,{children:"Description"})]})}),(0,l.jsx)(e.tbody,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"float"}),(0,l.jsx)(e.td,{}),(0,l.jsx)(e.td,{})]})})]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function PlayerInputComponent:onInputJump(_, inputValue)\n\n    -- Do nothing if the input is locked.\n        if self.locked then\n            return\n        end\n\n        -- Clamp the input value between 0 and 1.\n        inputValue = math.clamp(inputValue, 0 , 1 )\n\n        -- Set the jump power to the input value.\n        self.jumpPower = inputValue\n    end\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"oninputlookleftright",children:"onInputLookLeftRight"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"Event function for player look left/right movement."}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"onInputLookLeftRight(nil, float inputValue, nil, nil, boolean isMouse)"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"Type"}),(0,l.jsx)(e.th,{children:"Parameter"}),(0,l.jsx)(e.th,{}),(0,l.jsx)(e.th,{}),(0,l.jsx)(e.th,{}),(0,l.jsx)(e.th,{}),(0,l.jsx)(e.th,{}),(0,l.jsx)(e.th,{})]})}),(0,l.jsxs)(e.tbody,{children:[(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"float"}),(0,l.jsx)(e.td,{children:"inputValue"}),(0,l.jsx)(e.td,{}),(0,l.jsx)(e.td,{}),(0,l.jsx)(e.td,{}),(0,l.jsx)(e.td,{}),(0,l.jsx)(e.td,{}),(0,l.jsx)(e.td,{})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"nil"}),(0,l.jsx)(e.td,{}),(0,l.jsx)(e.td,{}),(0,l.jsx)(e.td,{children:"nil"}),(0,l.jsx)(e.td,{}),(0,l.jsx)(e.td,{}),(0,l.jsx)(e.td,{children:"boolean"}),(0,l.jsx)(e.td,{children:"isMouse"})]})]})]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function PlayerInputComponent:onInputLookLeftRight(_, inputValue, _, _, isMouse)\n\n    -- Do nothing if the input is locked.\n        if self.locked then\n            return\n        end\n\n        -- If the value is within the deadzone, do nothing.\n            if math.abs(inputValue) < = g_gameSettings:getValue(GameSettings.SETTING.JOYSTICK_DEADZONE) then\n                return\n            end\n\n            -- Apply dt to the input based on if it's a mouse input or not.\n                if isMouse then\n                    inputValue = inputValue * 0.001 * 16.666\n                else\n                        inputValue = inputValue * 0.001 * g_currentDt\n                    end\n\n                    -- Add the input to the left/right input rotation axis.\n                    self.cameraRotationY = self.cameraRotationY + inputValue\n\n                    -- If the rotation is a mouse rotation, set it as such.\n                    self.isMouseRotation = isMouse\n                end\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"oninputlookupdown",children:"onInputLookUpDown"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"Event function for player look up/down movement."}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"onInputLookUpDown(nil, float inputValue, nil, nil, boolean isMouse)"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"Type"}),(0,l.jsx)(e.th,{children:"Parameter"}),(0,l.jsx)(e.th,{}),(0,l.jsx)(e.th,{}),(0,l.jsx)(e.th,{}),(0,l.jsx)(e.th,{}),(0,l.jsx)(e.th,{}),(0,l.jsx)(e.th,{})]})}),(0,l.jsxs)(e.tbody,{children:[(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"float"}),(0,l.jsx)(e.td,{children:"inputValue"}),(0,l.jsx)(e.td,{}),(0,l.jsx)(e.td,{}),(0,l.jsx)(e.td,{}),(0,l.jsx)(e.td,{}),(0,l.jsx)(e.td,{}),(0,l.jsx)(e.td,{})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"nil"}),(0,l.jsx)(e.td,{}),(0,l.jsx)(e.td,{}),(0,l.jsx)(e.td,{children:"nil"}),(0,l.jsx)(e.td,{}),(0,l.jsx)(e.td,{}),(0,l.jsx)(e.td,{children:"boolean"}),(0,l.jsx)(e.td,{children:"isMouse"})]})]})]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function PlayerInputComponent:onInputLookUpDown(_, inputValue, _, _, isMouse)\n\n    -- Do nothing if the input is locked.\n        if self.locked then\n            return\n        end\n\n        -- If the value is within the deadzone, do nothing.\n            if math.abs(inputValue) < = g_gameSettings:getValue(GameSettings.SETTING.JOYSTICK_DEADZONE) then\n                return\n            end\n\n            -- Invert the up/down if the setting is enabled.\n                if g_gameSettings:getValue(GameSettings.SETTING.INVERT_Y_LOOK) then\n                    inputValue * = - 1\n                end\n\n                -- Apply dt to the input based on if it's a mouse input or not.\n                    if isMouse then\n                        inputValue = inputValue * 0.001 * 16.666\n                    else\n                            inputValue = inputValue * 0.001 * g_currentDt\n                        end\n\n                        -- Add the input to the up/down input rotation axis.\n                        self.cameraRotationX = self.cameraRotationX + inputValue\n\n                        -- If the rotation is a mouse rotation, set it as such.\n                        self.isMouseRotation = isMouse\n                    end\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"oninputmoveforward",children:"onInputMoveForward"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"Event function for player forward/backward movement."}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"onInputMoveForward(nil, float inputValue)"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"Type"}),(0,l.jsx)(e.th,{children:"Parameter"}),(0,l.jsx)(e.th,{children:"Description"})]})}),(0,l.jsx)(e.tbody,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"float"}),(0,l.jsx)(e.td,{}),(0,l.jsx)(e.td,{})]})})]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function PlayerInputComponent:onInputMoveForward(_, inputValue)\n\n    -- Do nothing if the input is locked.\n        if self.locked then\n            return\n        end\n\n        -- If the value is within the deadzone, do nothing.\n            if math.abs(inputValue) < = g_gameSettings:getValue(GameSettings.SETTING.JOYSTICK_DEADZONE) then\n                return\n            end\n\n            -- Clamp the input value between -1 and 1.\n            inputValue = math.clamp(inputValue, - 1 , 1 )\n\n            -- Subtract the input from the forwards/backwards input axis.\n            self.moveForward = self.moveForward - inputValue\n\n            -- Recalculate the walk axis.\n            self.walkAxis = math.min( MathUtil.vector2Length( self.moveRight, self.moveForward), 1 )\n\n            -- Recalulate the world axis.\n            local worldDirectionX, worldDirectionZ = self:calculateNormalisedWorldMovementDirection()\n            self:setMovementDirection(worldDirectionX, worldDirectionZ)\n        end\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"oninputmoveside",children:"onInputMoveSide"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"Event function for player strafe movement."}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"onInputMoveSide(nil, float inputValue)"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"Type"}),(0,l.jsx)(e.th,{children:"Parameter"}),(0,l.jsx)(e.th,{children:"Description"})]})}),(0,l.jsx)(e.tbody,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"float"}),(0,l.jsx)(e.td,{}),(0,l.jsx)(e.td,{})]})})]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function PlayerInputComponent:onInputMoveSide(_, inputValue)\n\n    -- Do nothing if the input is locked.\n        if self.locked then\n            return\n        end\n\n        -- If the value is within the deadzone, do nothing.\n            if math.abs(inputValue) < = g_gameSettings:getValue(GameSettings.SETTING.JOYSTICK_DEADZONE) then\n                return\n            end\n\n            -- Clamp the input value between -1 and 1.\n            inputValue = math.clamp(inputValue, - 1 , 1 )\n\n            -- Add the input to the left/right input axis.\n            self.moveRight = self.moveRight + inputValue\n\n            -- Recalculate the walk axis.\n            self.walkAxis = math.min( MathUtil.vector2Length( self.moveRight, self.moveForward), 1 )\n\n            -- Recalulate the world axis.\n            local worldDirectionX, worldDirectionZ = self:calculateNormalisedWorldMovementDirection()\n            self:setMovementDirection(worldDirectionX, worldDirectionZ)\n        end\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"oninputrun",children:"onInputRun"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"Event function for player running."}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"onInputRun(nil, float inputValue)"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"Type"}),(0,l.jsx)(e.th,{children:"Parameter"}),(0,l.jsx)(e.th,{children:"Description"})]})}),(0,l.jsx)(e.tbody,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"float"}),(0,l.jsx)(e.td,{}),(0,l.jsx)(e.td,{})]})})]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function PlayerInputComponent:onInputRun(_, inputValue)\n\n    -- Do nothing if the input is locked.\n        if self.locked then\n            return\n        end\n\n        -- Clamp the input value between 0 and 1.\n        inputValue = math.clamp(inputValue, 0 , 1 )\n\n        -- Set the run axis to the input value.\n        self.runAxis = inputValue\n    end\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"oninputswitchcamera",children:"onInputSwitchCamera"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"Event function for player switching camera."}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"onInputSwitchCamera()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function PlayerInputComponent:onInputSwitchCamera()\n\n    -- Do nothing if the input is locked.\n        if self.locked then\n            return\n        end\n\n        if self.player:getCurrentVehicle() ~ = nil then\n            return\n        end\n\n        -- Toggle third person mode on the player's camera.\n        self.player.camera:toggleThirdPersonMode()\n    end\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"registeractionevents",children:"registerActionEvents"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"Binds action events to internal functions."}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"registerActionEvents()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:'function PlayerInputComponent:registerActionEvents()\n\n    -- Only bind for the owning player.\n        if not self.player.isOwner then\n            return\n        end\n\n        -- Register action events for the player context without switching(important when this is called from within the UI context).\n            g_inputBinding:beginActionEventsModification( PlayerInputComponent.INPUT_CONTEXT_NAME)\n\n            self:registerGlobalPlayerActionEvents()\n\n            local _, eventId\n\n            -- Move left/right.\n            _, eventId = g_inputBinding:registerActionEvent(InputAction.AXIS_MOVE_SIDE_PLAYER, self , self.onInputMoveSide, false , false , true , true , nil , true )\n            g_inputBinding:setActionEventTextVisibility(eventId, false )\n\n            -- Move forward/back.\n            _, eventId = g_inputBinding:registerActionEvent(InputAction.AXIS_MOVE_FORWARD_PLAYER, self , self.onInputMoveForward, false , false , true , true , nil , true )\n            g_inputBinding:setActionEventTextVisibility(eventId, false )\n\n            -- Look left/right.\n            _, eventId = g_inputBinding:registerActionEvent(InputAction.AXIS_LOOK_LEFTRIGHT_PLAYER, self , self.onInputLookLeftRight, false , false , true , true , nil , true )\n            g_inputBinding:setActionEventTextVisibility(eventId, false )\n\n            -- Look up/down.\n            _, eventId = g_inputBinding:registerActionEvent(InputAction.AXIS_LOOK_UPDOWN_PLAYER, self , self.onInputLookUpDown, false , false , true , true , nil , true )\n            g_inputBinding:setActionEventTextVisibility(eventId, false )\n\n            -- Zoom in/out.\n            _, eventId = g_inputBinding:registerActionEvent(InputAction.CAMERA_ZOOM_IN_OUT, self , self.onInputZoomInOut, false , true , true , true , nil , true )\n            g_inputBinding:setActionEventTextVisibility(eventId, false )\n\n            -- Run.\n            _, eventId = g_inputBinding:registerActionEvent(InputAction.AXIS_RUN, self , self.onInputRun, false , false , true , true , nil , true )\n            g_inputBinding:setActionEventTextVisibility(eventId, false )\n\n            -- Fly up/down.\n            _, self.upDownFlightActionId = g_inputBinding:registerActionEvent(InputAction.DEBUG_PLAYER_UP_DOWN, self , self.onInputChangeAltitude, false , false , true , false , nil , true )\n            g_inputBinding:setActionEventTextVisibility( self.upDownFlightActionId, false )\n\n            -- Toggle flying.\n            _, self.toggleFlightActionId = g_inputBinding:registerActionEvent(InputAction.DEBUG_PLAYER_ENABLE, self , self.onInputToggleFlightMode, true , false , false , false , nil , true )\n            g_inputBinding:setActionEventTextVisibility( self.toggleFlightActionId, false )\n\n            -- Jump.\n            _, eventId = g_inputBinding:registerActionEvent(InputAction.JUMP, self , self.onInputJump, false , true , false , true , nil , true )\n            g_inputBinding:setActionEventTextVisibility(eventId, false )\n\n            -- Crouch.\n            _, eventId = g_inputBinding:registerActionEvent(InputAction.CROUCH, self , self.onInputCrouch, false , false , true , true , nil , true )\n            g_inputBinding:setActionEventTextVisibility(eventId, false )\n\n            -- Switch perspective.\n            _, self.toggleCameraId = g_inputBinding:registerActionEvent(InputAction.CAMERA_SWITCH, self , self.onInputSwitchCamera, false , true , false , true , nil , true )\n            g_inputBinding:setActionEventActive( self.toggleCameraId, self:getCanToggleCamera())\n\n            -- Switch hand tool.\n            _, eventId = g_inputBinding:registerActionEvent(InputAction.TOGGLE_HANDTOOL, self , self.onInputToggleHandTool, false , true , false , true , nil , true )\n\n            -- Cycle hand tool.\n            _, eventId = g_inputBinding:registerActionEvent(InputAction.CYCLE_HANDTOOL, self , self.onInputCycleHandTool, false , true , false , true , nil , true )\n\n            -- Enter vehicle.\n            _, self.enterActionId = g_inputBinding:registerActionEvent(InputAction.ENTER, self , self.onInputEnter, false , true , false , false , nil , true )\n\n            _, self.toggleFlashlightId = g_inputBinding:registerActionEvent(InputAction.TOGGLE_LIGHTS_FPS, self , self.onInputToggleFlashlight, false , true , false , true , nil , true )\n            g_inputBinding:setActionEventText( self.toggleFlashlightId, g_i18n:getText( "input_TOGGLE_LIGHTS_FPS" ))\n\n            -- Reset registration context, update event data in input system.\n            g_inputBinding:endActionEventsModification()\n\n            if g_touchHandler ~ = nil then\n                self.touchListenerPinch = g_touchHandler:registerGestureListener(TouchHandler.GESTURE_PINCH, PlayerInputComponent.touchEventZoomInOut, self )\n                self.touchListenerY = g_touchHandler:registerGestureListener(TouchHandler.GESTURE_AXIS_Y, PlayerInputComponent.touchEventLookUpDown, self )\n                self.touchListenerX = g_touchHandler:registerGestureListener(TouchHandler.GESTURE_AXIS_X, PlayerInputComponent.touchEventLookLeftRight, self )\n                self.touchListenerDoubleTab = g_touchHandler:registerGestureListener(TouchHandler.GESTURE_DOUBLE_TAP, PlayerInputComponent.touchEventCameraSwitch, self )\n            end\n\n            self:registerPauseActionEvents()\n\n            -- Ensure objects are targeted.\n            local targeter = self.player.targeter\n            targeter:addTargetType( PlayerInputComponent , CollisionFlag.ANIMAL + CollisionFlag.VEHICLE + CollisionFlag.TREE + CollisionFlag.DYNAMIC_OBJECT, 0.5 , 3 )\n        end\n\n'})}),"\n",(0,l.jsx)(e.h3,{id:"resetstate",children:"resetState"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"Resets all input values to 0."}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"resetState()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function PlayerInputComponent:resetState()\n\n    self.lastMoveForward = self.moveForward\n    self.lastMoveRight = self.moveRight\n\n    self.lastWorldDirectionX = self.worldDirectionX\n    self.lastWorldDirectionZ = self.worldDirectionZ\n\n    self.lastHasMovementInputs = self.hasMovementInputs\n\n    self.lastWalkAxis = self.walkAxis\n    self.lastRunAxis = self.runAxis\n    self.lastFlightAxis = self.flightAxis\n    self.lastJumpPower = self.jumpPower\n    self.lastCrouchValue = self.crouchValue\n\n    -- Reset the movement variables.\n    self.moveForward = 0.0\n    self.moveRight = 0.0\n    self.worldDirectionX = 0.0\n    self.worldDirectionZ = 0.0\n    self.jumpPower = 0.0\n    self.runAxis = 0.0\n    self.walkAxis = 0.0\n    self.flightAxis = 0.0\n\n    if not self.locked then\n        self.crouchValue = 0.0\n    end\n\n    -- Reset the camera variables.\n    self.cameraRotationX = 0\n    self.cameraRotationY = 0\n\n    -- Reset any flags.\n    self.hasMovementInputs = false\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"toucheventlookleftright",children:"touchEventLookLeftRight"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"touchEventLookLeftRight()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,l.jsx)(e.table,{children:(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"any"}),(0,l.jsx)(e.th,{children:"value"})]})})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function PlayerInputComponent:touchEventLookLeftRight(value)\n    if g_inputBinding.currentContextName ~ = PlayerInputComponent.INPUT_CONTEXT_NAME then\n        return\n    end\n\n    local factor = (g_screenAspectRatio) * 75\n    self:onInputLookLeftRight( nil , value * factor, nil , nil , false )\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"toucheventlookupdown",children:"touchEventLookUpDown"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"touchEventLookUpDown()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,l.jsx)(e.table,{children:(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"any"}),(0,l.jsx)(e.th,{children:"value"})]})})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function PlayerInputComponent:touchEventLookUpDown(value)\n    if g_inputBinding.currentContextName ~ = PlayerInputComponent.INPUT_CONTEXT_NAME then\n        return\n    end\n\n    local factor = (g_screenHeight * g_pixelSizeX) * - 75\n    self:onInputLookUpDown( nil , value * factor, nil , nil , false )\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"toucheventzoominout",children:"touchEventZoomInOut"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"touchEventZoomInOut()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,l.jsx)(e.table,{children:(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"any"}),(0,l.jsx)(e.th,{children:"value"})]})})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function PlayerInputComponent:touchEventZoomInOut(value)\n    if g_inputBinding.currentContextName ~ = PlayerInputComponent.INPUT_CONTEXT_NAME then\n        return\n    end\n\n    self:onInputZoomInOut( nil , - value * 75 , nil , nil , false , nil , nil )\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"unlock",children:"unlock"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"Unlocks the input."}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"unlock()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function PlayerInputComponent:unlock()\n\n    self.locked = false\n\n    if self.lockedCrouchValue ~ = self.crouchValue then\n        self:onInputCrouch( nil , self.lockedCrouchValue)\n    end\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"unregisteractionevents",children:"unregisterActionEvents"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"Unbinds all action events."}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"unregisterActionEvents()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function PlayerInputComponent:unregisterActionEvents()\n\n    -- Only unbind for the owning player.\n        if not self.player.isOwner then\n            return\n        end\n\n        g_inputBinding:beginActionEventsModification( PlayerInputComponent.INPUT_CONTEXT_NAME)\n        g_inputBinding:removeActionEventsByTarget( self )\n        g_inputBinding:endActionEventsModification()\n\n        if g_touchHandler ~ = nil then\n            g_touchHandler:removeGestureListener( self.touchListenerPinch)\n            g_touchHandler:removeGestureListener( self.touchListenerY)\n            g_touchHandler:removeGestureListener( self.touchListenerX)\n        end\n\n        self.player.targeter:removeTargetType( PlayerInputComponent )\n\n        self.toggleFlightActionId = nil\n        self.upDownFlightActionId = nil\n        self.enterActionId = nil\n    end\n\n"})})]})}function h(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(a,{...n})}):a(n)}},28453(n,e,t){t.d(e,{R:()=>r,x:()=>o});var i=t(96540);const l={},s=i.createContext(l);function r(n){const e=i.useContext(s);return i.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(l):n.components||l:r(n.components),i.createElement(s.Provider,{value:e},n.children)}}}]);