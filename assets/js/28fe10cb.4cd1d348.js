"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[96122],{28001(e,n,i){i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"script/Specializations/Drivable","title":"Drivable","description":"Drivable","source":"@site/../docs/script/Specializations/Drivable.md","sourceDirName":"script/Specializations","slug":"/script/Specializations/Drivable","permalink":"/FS25-Community-LUADOC/script/Specializations/Drivable","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"Dischargeable","permalink":"/FS25-Community-LUADOC/script/Specializations/Dischargeable"},"next":{"title":"DynamicMountAttacher","permalink":"/FS25-Community-LUADOC/script/Specializations/DynamicMountAttacher"}}');var s=i(74848),t=i(28453);const l={},c=void 0,d={},a=[{value:"Drivable",id:"drivable",level:2},{value:"actionEventAccelerate",id:"actioneventaccelerate",level:3},{value:"actionEventBrake",id:"actioneventbrake",level:3},{value:"actionEventCruiseControlState",id:"actioneventcruisecontrolstate",level:3},{value:"actionEventCruiseControlValue",id:"actioneventcruisecontrolvalue",level:3},{value:"actionEventSteer",id:"actioneventsteer",level:3},{value:"brakeToStop",id:"braketostop",level:3},{value:"getAccelerationAxis",id:"getaccelerationaxis",level:3},{value:"getAcDecelerationAxis",id:"getacdecelerationaxis",level:3},{value:"getAxisForward",id:"getaxisforward",level:3},{value:"getCruiseControlAxis",id:"getcruisecontrolaxis",level:3},{value:"getCruiseControlDisplayInfo",id:"getcruisecontroldisplayinfo",level:3},{value:"getCruiseControlMaxSpeed",id:"getcruisecontrolmaxspeed",level:3},{value:"getCruiseControlSpeed",id:"getcruisecontrolspeed",level:3},{value:"getCruiseControlState",id:"getcruisecontrolstate",level:3},{value:"getDashboardCombinedPedalLeft",id:"getdashboardcombinedpedalleft",level:3},{value:"getDashboardCombinedPedalRight",id:"getdashboardcombinedpedalright",level:3},{value:"getDashboardSteeringAxis",id:"getdashboardsteeringaxis",level:3},{value:"getDecelerationAxis",id:"getdecelerationaxis",level:3},{value:"getDrivingDirection",id:"getdrivingdirection",level:3},{value:"getIsDrivingBackward",id:"getisdrivingbackward",level:3},{value:"getIsDrivingForward",id:"getisdrivingforward",level:3},{value:"getIsManualDirectionChangeAllowed",id:"getismanualdirectionchangeallowed",level:3},{value:"getIsPlayerVehicleControlAllowed",id:"getisplayervehiclecontrolallowed",level:3},{value:"getIsVehicleControlledByPlayer",id:"getisvehiclecontrolledbyplayer",level:3},{value:"getMapHotspotRotation",id:"getmaphotspotrotation",level:3},{value:"getReverserDirection",id:"getreverserdirection",level:3},{value:"getSteeringDirection",id:"getsteeringdirection",level:3},{value:"initSpecialization",id:"initspecialization",level:3},{value:"onDelete",id:"ondelete",level:3},{value:"onLeaveVehicle",id:"onleavevehicle",level:3},{value:"onLoad",id:"onload",level:3},{value:"onReadStream",id:"onreadstream",level:3},{value:"onReadUpdateStream",id:"onreadupdatestream",level:3},{value:"onRegisterActionEvents",id:"onregisteractionevents",level:3},{value:"onRegisterDashboardValueTypes",id:"onregisterdashboardvaluetypes",level:3},{value:"onSetBroken",id:"onsetbroken",level:3},{value:"onUpdate",id:"onupdate",level:3},{value:"onWriteStream",id:"onwritestream",level:3},{value:"onWriteUpdateStream",id:"onwriteupdatestream",level:3},{value:"prerequisitesPresent",id:"prerequisitespresent",level:3},{value:"registerEventListeners",id:"registereventlisteners",level:3},{value:"registerEvents",id:"registerevents",level:3},{value:"registerFunctions",id:"registerfunctions",level:3},{value:"registerOverwrittenFunctions",id:"registeroverwrittenfunctions",level:3},{value:"registerPlayerVehicleControlAllowedFunction",id:"registerplayervehiclecontrolallowedfunction",level:3},{value:"saveToXMLFile",id:"savetoxmlfile",level:3},{value:"setAccelerationPedalInput",id:"setaccelerationpedalinput",level:3},{value:"setBrakePedalInput",id:"setbrakepedalinput",level:3},{value:"setCruiseControlMaxSpeed",id:"setcruisecontrolmaxspeed",level:3},{value:"setCruiseControlState",id:"setcruisecontrolstate",level:3},{value:"setReverserDirection",id:"setreverserdirection",level:3},{value:"setSteeringInput",id:"setsteeringinput",level:3},{value:"setTargetSpeedAndDirection",id:"settargetspeedanddirection",level:3},{value:"setTransmissionDirection",id:"settransmissiondirection",level:3},{value:"stopMotor",id:"stopmotor",level:3},{value:"updateSteeringAngle",id:"updatesteeringangle",level:3},{value:"updateSteeringWheel",id:"updatesteeringwheel",level:3},{value:"updateVehiclePhysics",id:"updatevehiclephysics",level:3}];function o(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"drivable",children:"Drivable"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Specialization for cruise control, steering wheel; required Enterable and Motorized specialization"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Functions"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#actioneventaccelerate",children:"actionEventAccelerate"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#actioneventbrake",children:"actionEventBrake"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#actioneventcruisecontrolstate",children:"actionEventCruiseControlState"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#actioneventcruisecontrolvalue",children:"actionEventCruiseControlValue"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#actioneventsteer",children:"actionEventSteer"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#braketostop",children:"brakeToStop"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getaccelerationaxis",children:"getAccelerationAxis"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getacdecelerationaxis",children:"getAcDecelerationAxis"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getaxisforward",children:"getAxisForward"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getcruisecontrolaxis",children:"getCruiseControlAxis"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getcruisecontroldisplayinfo",children:"getCruiseControlDisplayInfo"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getcruisecontrolmaxspeed",children:"getCruiseControlMaxSpeed"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getcruisecontrolspeed",children:"getCruiseControlSpeed"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getcruisecontrolstate",children:"getCruiseControlState"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getdashboardcombinedpedalleft",children:"getDashboardCombinedPedalLeft"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getdashboardcombinedpedalright",children:"getDashboardCombinedPedalRight"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getdashboardsteeringaxis",children:"getDashboardSteeringAxis"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getdecelerationaxis",children:"getDecelerationAxis"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getdrivingdirection",children:"getDrivingDirection"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getisdrivingbackward",children:"getIsDrivingBackward"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getisdrivingforward",children:"getIsDrivingForward"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getismanualdirectionchangeallowed",children:"getIsManualDirectionChangeAllowed"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getisplayervehiclecontrolallowed",children:"getIsPlayerVehicleControlAllowed"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getisvehiclecontrolledbyplayer",children:"getIsVehicleControlledByPlayer"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getmaphotspotrotation",children:"getMapHotspotRotation"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getreverserdirection",children:"getReverserDirection"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getsteeringdirection",children:"getSteeringDirection"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#initspecialization",children:"initSpecialization"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#ondelete",children:"onDelete"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onleavevehicle",children:"onLeaveVehicle"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onload",children:"onLoad"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onreadstream",children:"onReadStream"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onreadupdatestream",children:"onReadUpdateStream"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onregisteractionevents",children:"onRegisterActionEvents"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onregisterdashboardvaluetypes",children:"onRegisterDashboardValueTypes"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onsetbroken",children:"onSetBroken"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onupdate",children:"onUpdate"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onwritestream",children:"onWriteStream"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onwriteupdatestream",children:"onWriteUpdateStream"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#prerequisitespresent",children:"prerequisitesPresent"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#registereventlisteners",children:"registerEventListeners"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#registerevents",children:"registerEvents"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#registerfunctions",children:"registerFunctions"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#registeroverwrittenfunctions",children:"registerOverwrittenFunctions"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#registerplayervehiclecontrolallowedfunction",children:"registerPlayerVehicleControlAllowedFunction"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#savetoxmlfile",children:"saveToXMLFile"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#setaccelerationpedalinput",children:"setAccelerationPedalInput"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#setbrakepedalinput",children:"setBrakePedalInput"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#setcruisecontrolmaxspeed",children:"setCruiseControlMaxSpeed"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#setcruisecontrolstate",children:"setCruiseControlState"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#setreverserdirection",children:"setReverserDirection"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#setsteeringinput",children:"setSteeringInput"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#settargetspeedanddirection",children:"setTargetSpeedAndDirection"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#settransmissiondirection",children:"setTransmissionDirection"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#stopmotor",children:"stopMotor"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#updatesteeringangle",children:"updateSteeringAngle"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#updatesteeringwheel",children:"updateSteeringWheel"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#updatevehiclephysics",children:"updateVehiclePhysics"})}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"actioneventaccelerate",children:"actionEventAccelerate"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"actionEventAccelerate()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"self"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"actionName"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"inputValue"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"callbackState"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"isAnalog"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Drivable.actionEventAccelerate( self , actionName, inputValue, callbackState, isAnalog)\n    if inputValue ~ = 0 then\n        -- we show the warning, but still allow brake input while the engine is off\n            -- Drivable:updateVehiclePhysics will correctly block the right input if engine is turned off\n                local isPowered, isPoweredWarning = self:getIsPowered()\n                if not isPowered and isPoweredWarning ~ = nil then\n                    g_currentMission:showBlinkingWarning(isPoweredWarning, 2000 )\n                end\n\n                local isAllowed, warning = self:getIsPlayerVehicleControlAllowed()\n                if isAllowed then\n                    self:setAccelerationPedalInput(inputValue)\n                elseif warning ~ = nil then\n                        g_currentMission:showBlinkingWarning(warning, 2000 )\n                    end\n                end\n            end\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"actioneventbrake",children:"actionEventBrake"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"actionEventBrake()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"self"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"actionName"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"inputValue"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"callbackState"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"isAnalog"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Drivable.actionEventBrake( self , actionName, inputValue, callbackState, isAnalog)\n    if inputValue ~ = 0 then\n        -- we show the warning, but still allow brake input while the engine is off\n            -- Drivable:updateVehiclePhysics will correctly block the right input if engine is turned off\n                local isPowered, isPoweredWarning = self:getIsPowered()\n                if not isPowered and isPoweredWarning ~ = nil then\n                    g_currentMission:showBlinkingWarning(isPoweredWarning, 2000 )\n                end\n\n                local isAllowed, warning = self:getIsPlayerVehicleControlAllowed()\n                if isAllowed then\n                    self:setBrakePedalInput(inputValue)\n                elseif warning ~ = nil then\n                        g_currentMission:showBlinkingWarning(warning, 2000 )\n                    end\n                end\n            end\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"actioneventcruisecontrolstate",children:"actionEventCruiseControlState"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"actionEventCruiseControlState()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"self"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"actionName"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"inputValue"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"callbackState"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"isAnalog"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Drivable.actionEventCruiseControlState( self , actionName, inputValue, callbackState, isAnalog)\n    local spec = self.spec_drivable\n    local isAllowed, warning = self:getIsPlayerVehicleControlAllowed()\n    if isAllowed then\n        spec.lastInputValues.cruiseControlState = 1\n    elseif warning ~ = nil then\n            g_currentMission:showBlinkingWarning(warning, 2000 )\n        end\n    end\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"actioneventcruisecontrolvalue",children:"actionEventCruiseControlValue"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"actionEventCruiseControlValue()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"self"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"actionName"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"inputValue"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"callbackState"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"isAnalog"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Drivable.actionEventCruiseControlValue( self , actionName, inputValue, callbackState, isAnalog)\n    local spec = self.spec_drivable\n    spec.lastInputValues.cruiseControlValue = inputValue\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"actioneventsteer",children:"actionEventSteer"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"actionEventSteer()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"self"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"actionName"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"inputValue"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"callbackState"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"isAnalog"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"isMouse"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"deviceCategory"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"binding"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Drivable.actionEventSteer( self , actionName, inputValue, callbackState, isAnalog, isMouse, deviceCategory, binding)\n    local spec = self.spec_drivable\n    if not spec.forceFeedback.isActive then\n        local isSupported, device, axisIndex = g_inputBinding:getBindingForceFeedbackInfo(binding)\n        spec.forceFeedback.isActive = isSupported\n        spec.forceFeedback.device = device\n        spec.forceFeedback.binding = binding\n        spec.forceFeedback.axisIndex = axisIndex\n\n        if isSupported then\n            device:setForceFeedback(axisIndex, 0 , inputValue)\n        end\n    else\n            if binding ~ = spec.forceFeedback.binding then\n                local isSupported, _, _ = g_inputBinding:getBindingForceFeedbackInfo(binding)\n                if not isSupported then\n                    spec.forceFeedback.isActive = false\n                    spec.forceFeedback.device = nil\n                    spec.forceFeedback.binding = nil\n                    spec.forceFeedback.axisIndex = 0\n                end\n            end\n        end\n\n        if inputValue ~ = 0 then\n            local isAllowed, warning = self:getIsPlayerVehicleControlAllowed()\n            if isAllowed then\n                self:setSteeringInput(inputValue, isAnalog, deviceCategory)\n            elseif warning ~ = nil then\n                    g_currentMission:showBlinkingWarning(warning, 2000 )\n                end\n            end\n        end\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"braketostop",children:"brakeToStop"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"brakeToStop()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Drivable:brakeToStop()\n    local spec = self.spec_drivable\n    spec.brakeToStop = true\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getaccelerationaxis",children:"getAccelerationAxis"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getAccelerationAxis()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Drivable:getAccelerationAxis()\n    local dir = self.movingDirection > - 1 and 1 or - 1\n    return math.max( self.spec_drivable.axisForward * dir * self:getReverserDirection(), 0 )\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getacdecelerationaxis",children:"getAcDecelerationAxis"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getAcDecelerationAxis()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Drivable:getAcDecelerationAxis()\n    return self.spec_drivable.axisForward * self:getReverserDirection()\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getaxisforward",children:"getAxisForward"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getAxisForward()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Drivable:getAxisForward()\n    return self.spec_drivable.axisForward\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getcruisecontrolaxis",children:"getCruiseControlAxis"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getCruiseControlAxis()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Drivable:getCruiseControlAxis()\n    return self.spec_drivable.cruiseControl.state ~ = Drivable.CRUISECONTROL_STATE_OFF and 1 or 0\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getcruisecontroldisplayinfo",children:"getCruiseControlDisplayInfo"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Returns info to display in speed meter HUD"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getCruiseControlDisplayInfo()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"cruiseControlSpeed"}),(0,s.jsx)(n.th,{children:"current cruise control speed"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"isActive"}),(0,s.jsx)(n.td,{children:"is cruise control active"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Drivable:getCruiseControlDisplayInfo()\n    local cruiseControlSpeed\n    local isActive = true\n\n    local cruiseControl = self.spec_drivable.cruiseControl\n    if self:getReverserDirection() < 0 then\n        cruiseControlSpeed = cruiseControl.speedReverse\n    else\n            cruiseControlSpeed = cruiseControl.speed\n        end\n\n        if cruiseControl.state = = Drivable.CRUISECONTROL_STATE_FULL then\n            cruiseControlSpeed = cruiseControl.maxSpeed\n        elseif cruiseControl.state = = Drivable.CRUISECONTROL_STATE_OFF then\n                isActive = false\n            end\n\n            if self:getDrivingDirection() < 0 then\n                if self:getReverserDirection() < 0 then\n                    cruiseControlSpeed = cruiseControl.speed\n                else\n                        cruiseControlSpeed = cruiseControl.speedReverse\n                    end\n                end\n\n                return cruiseControlSpeed, isActive\n            end\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getcruisecontrolmaxspeed",children:"getCruiseControlMaxSpeed"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getCruiseControlMaxSpeed()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Drivable:getCruiseControlMaxSpeed()\n    return self.spec_drivable.cruiseControl.maxSpeed\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getcruisecontrolspeed",children:"getCruiseControlSpeed"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getCruiseControlSpeed()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Drivable:getCruiseControlSpeed()\n    local spec = self.spec_drivable\n    if spec.cruiseControl.state = = Drivable.CRUISECONTROL_STATE_FULL then\n        return spec.cruiseControl.maxSpeed\n    end\n\n    return spec.cruiseControl.speed\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getcruisecontrolstate",children:"getCruiseControlState"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getCruiseControlState()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Drivable:getCruiseControlState()\n    return self.spec_drivable.cruiseControl.state\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getdashboardcombinedpedalleft",children:"getDashboardCombinedPedalLeft"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getDashboardCombinedPedalLeft()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Drivable:getDashboardCombinedPedalLeft()\n    local value = self:getAcDecelerationAxis()\n\n    local spec = self.spec_drivable\n    if spec.idleTurningAllowed and spec.idleTurningActive then\n        return value * spec.idleTurningDirection\n    end\n\n    value = math.clamp(value - self:getDashboardSteeringAxis(), - 1 , 1 )\n\n    return value\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getdashboardcombinedpedalright",children:"getDashboardCombinedPedalRight"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getDashboardCombinedPedalRight()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Drivable:getDashboardCombinedPedalRight()\n    local value = self:getAcDecelerationAxis()\n\n    local spec = self.spec_drivable\n    if spec.idleTurningAllowed and spec.idleTurningActive then\n        return - value * spec.idleTurningDirection\n    end\n\n    value = math.clamp(value + self:getDashboardSteeringAxis(), - 1 , 1 )\n\n    return value\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getdashboardsteeringaxis",children:"getDashboardSteeringAxis"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getDashboardSteeringAxis()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Drivable:getDashboardSteeringAxis()\n    local spec = self.spec_drivable\n    if spec.idleTurningAllowed then\n        if spec.idleTurningActive then\n            if not spec.idleTurningUpdateSteeringWheel then\n                return 0\n            else\n                    return self.rotatedTime / self.maxRotTime * self:getReverserDirection() * spec.idleTurningDirection * spec.axisForward\n                end\n            end\n        end\n\n        return self.rotatedTime / self.maxRotTime * self:getReverserDirection()\n    end\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getdecelerationaxis",children:"getDecelerationAxis"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getDecelerationAxis()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Drivable:getDecelerationAxis()\n    -- if moving backward and accelrating forward the threshold for the brake pedal is at 7.2km/h to avoid quick brake and gas pedal switches\n        if self.lastSpeedReal > 0.0001 and( self.movingDirection = = math.sign( self.spec_drivable.axisForward) or self.lastSpeedReal > 0.002 ) then\n            return math.abs( math.min( self.spec_drivable.axisForward * self.movingDirection * self:getReverserDirection(), 0 ))\n        end\n\n        return 0\n    end\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getdrivingdirection",children:"getDrivingDirection"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getDrivingDirection()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Drivable:getDrivingDirection()\n    local lastSpeed = self:getLastSpeed()\n    if lastSpeed < 0.2 then\n        return 0\n    end\n\n    if lastSpeed < 1.5 then\n        -- if we are not pressing any button the speed change could be caused by outer influences\n            if self.spec_drivable.axisForward = = 0 then\n                return 0\n            end\n        end\n\n        return self.movingDirection * self:getReverserDirection()\n    end\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getisdrivingbackward",children:"getIsDrivingBackward"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getIsDrivingBackward()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Drivable:getIsDrivingBackward()\n    return self:getDrivingDirection() < 0\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getisdrivingforward",children:"getIsDrivingForward"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getIsDrivingForward()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Drivable:getIsDrivingForward()\n    return self:getDrivingDirection() > = 0\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getismanualdirectionchangeallowed",children:"getIsManualDirectionChangeAllowed"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getIsManualDirectionChangeAllowed()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Drivable:getIsManualDirectionChangeAllowed(superFunc)\n    local spec = self.spec_drivable\n    if spec.idleTurningAllowed and spec.idleTurningActive then\n        return false\n    end\n\n    return superFunc( self )\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getisplayervehiclecontrolallowed",children:"getIsPlayerVehicleControlAllowed"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Returns if the vehicle can be controlled by the player + a warning to display if not"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getIsPlayerVehicleControlAllowed()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"isAllowed"}),(0,s.jsx)(n.th,{children:"control is allowed"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"warning"}),(0,s.jsx)(n.td,{children:"warning text to display"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Drivable:getIsPlayerVehicleControlAllowed()\n    local spec = self.spec_drivable\n    if spec.hasPlayerControlAllowedFunctions then\n        for objectId, func in pairs(spec.playerControlAllowedFunctions) do\n            local vehicle = NetworkUtil.getObject(objectId)\n            if vehicle ~ = nil and vehicle.rootVehicle = = self then\n                local isAllowed, warning = func(vehicle)\n                if not isAllowed then\n                    return isAllowed, warning\n                end\n            else\n                    spec.playerControlAllowedFunctions[objectId] = nil\n                    spec.hasPlayerControlAllowedFunctions = table.size(spec.playerControlAllowedFunctions) > 0\n                end\n            end\n        end\n\n        return true , nil\n    end\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getisvehiclecontrolledbyplayer",children:"getIsVehicleControlledByPlayer"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getIsVehicleControlledByPlayer()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Drivable:getIsVehicleControlledByPlayer()\n    return true\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getmaphotspotrotation",children:"getMapHotspotRotation"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getMapHotspotRotation()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"superFunc"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"isPlayerHotspot"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Drivable:getMapHotspotRotation(superFunc, isPlayerHotspot)\n    if self:getReverserDirection() < 0 then\n        return superFunc( self , isPlayerHotspot) + math.pi\n    end\n\n    return superFunc( self , isPlayerHotspot)\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getreverserdirection",children:"getReverserDirection"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getReverserDirection()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Drivable:getReverserDirection()\n    return self.spec_drivable.reverserDirection\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getsteeringdirection",children:"getSteeringDirection"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getSteeringDirection()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Drivable:getSteeringDirection()\n    return self.spec_drivable.steeringDirection\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"initspecialization",children:"initSpecialization"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"initSpecialization()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function Drivable.initSpecialization()\n    local schema = Vehicle.xmlSchema\n    schema:setXMLSpecializationType( "Drivable" )\n\n    schema:register(XMLValueType.INT, "vehicle.drivable#reverserDirection" , "Default state of reverser direction(when set to -1 the driving direction is inverted)" , 1 )\n    schema:register(XMLValueType.INT, "vehicle.drivable#steeringDirection" , "Default state of steering direction(when set to -1 the steering direction is inverted)" , 1 )\n\n    schema:register(XMLValueType.FLOAT, "vehicle.drivable.speedRotScale#scale" , "Speed dependent steering speed scale" , 80 )\n    schema:register(XMLValueType.FLOAT, "vehicle.drivable.speedRotScale#offset" , "Speed dependent steering speed offset" , 0.7 )\n\n    schema:register(XMLValueType.FLOAT, "vehicle.drivable.cruiseControl#maxSpeed" , "Max.cruise control speed" , "Max.vehicle speed" )\n    schema:register(XMLValueType.FLOAT, "vehicle.drivable.cruiseControl#minSpeed" , "Min.cruise control speed" , 1 )\n    schema:register(XMLValueType.FLOAT, "vehicle.drivable.cruiseControl#maxSpeedReverse" , "Max.cruise control speed in reverse" , "Max.value reverse speed" )\n    schema:register(XMLValueType.BOOL, "vehicle.drivable.cruiseControl#enabled" , "Cruise control enabled" , true )\n\n    schema:register(XMLValueType.NODE_INDEX, "vehicle.drivable.steeringWheel#node" , "Steering wheel node" )\n    schema:register(XMLValueType.ANGLE, "vehicle.drivable.steeringWheel#indoorRotation" , "Steering wheel indoor rotation" , 0 )\n    schema:register(XMLValueType.ANGLE, "vehicle.drivable.steeringWheel#outdoorRotation" , "Steering wheel outdoor rotation" , 0 )\n\n    schema:register(XMLValueType.BOOL, "vehicle.drivable.idleTurning#allowed" , "When vehicle is not moving and steering keys are pressed turns on the same spot" , false )\n    schema:register(XMLValueType.BOOL, "vehicle.drivable.idleTurning#updateSteeringWheel" , "Update steering wheel" , true )\n    schema:register(XMLValueType.BOOL, "vehicle.drivable.idleTurning#lockDirection" , "Defines if the direction is locked until player accelerates again" , true )\n        schema:register(XMLValueType.INT, "vehicle.drivable.idleTurning#direction" , "Driving direction [-1, 1]" , 1 )\n        schema:register(XMLValueType.FLOAT, "vehicle.drivable.idleTurning#maxSpeed" , "Max.speed while turning" , 10 )\n            schema:register(XMLValueType.FLOAT, "vehicle.drivable.idleTurning#steeringFactor" , "Steering speed factor" , 100 )\n            schema:register(XMLValueType.NODE_INDEX, "vehicle.drivable.idleTurning.wheel(?)#node" , "Wheel node to change" )\n            schema:register(XMLValueType.ANGLE, "vehicle.drivable.idleTurning.wheel(?)#steeringAngle" , "Steering angle while idle turning" )\n                schema:register(XMLValueType.BOOL, "vehicle.drivable.idleTurning.wheel(?)#inverted" , "Acceleration is inverted" , false )\n\n                Dashboard.registerDashboardXMLPaths(schema, "vehicle.drivable.dashboards" , { "cruiseControl" , "cruiseControlReverse" , "directionForward" , "directionBackward" , "movingDirection" , "cruiseControlActive" , "accelerationAxis" , "decelerationAxis" , "ac_decelerationAxis" , "steeringAngle" , "combinedPedalLeft" , "combinedPedalRight" , "odometerMilage" } )\n                SoundManager.registerSampleXMLPaths(schema, "vehicle.drivable.sounds" , "waterSplash" )\n\n                schema:setXMLSpecializationType()\n\n                local schemaSavegame = Vehicle.xmlSchemaSavegame\n                schemaSavegame:register(XMLValueType.INT, "vehicles.vehicle(?).drivable#cruiseControl" , "Current cruise control speed" )\n                schemaSavegame:register(XMLValueType.INT, "vehicles.vehicle(?).drivable#cruiseControlReverse" , "Current cruise control speed reverse" )\n                schemaSavegame:register(XMLValueType.FLOAT, "vehicles.vehicle(?).drivable#odometerMilage" , "Current odometer milage(km)" , 0 )\n            end\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"ondelete",children:"onDelete"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Called on deleting"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onDelete()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Drivable:onDelete()\n    local spec = self.spec_drivable\n    g_soundManager:deleteSamples(spec.samples)\n\n    if spec.hudExtension ~ = nil then\n        spec.hudExtension:delete()\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onleavevehicle",children:"onLeaveVehicle"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onLeaveVehicle()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"wasEntered"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Drivable:onLeaveVehicle(wasEntered)\n    self:setCruiseControlState( Drivable.CRUISECONTROL_STATE_OFF, true )\n\n    if self.brake ~ = nil then\n        self:brake( 1 )\n    end\n\n    if wasEntered then\n        local spec = self.spec_drivable\n        local forceFeedback = spec.forceFeedback\n        if forceFeedback.isActive then\n            forceFeedback.device:setForceFeedback(forceFeedback.axisIndex, 0 , 0 )\n            forceFeedback.isActive = false\n            forceFeedback.device = nil\n        end\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onload",children:"onLoad"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Called on loading"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onLoad(table savegame)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"table"}),(0,s.jsx)(n.th,{children:"savegame"}),(0,s.jsx)(n.th,{children:"savegame"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function Drivable:onLoad(savegame)\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.steering#index" , "vehicle.drivable.steeringWheel#node" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.steering#node" , "vehicle.drivable.steeringWheel#node" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.cruiseControl" , "vehicle.drivable.cruiseControl" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.indoorHud.cruiseControl" , "vehicle.drivable.dashboards.dashboard with valueType \'cruiseControl\'" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.showChangeToolSelectionHelp" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.maxRotatedTimeSpeed#value" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.speedRotScale#scale" , "vehicle.drivable.speedRotScale#scale" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.speedRotScale#offset" , "vehicle.drivable.speedRotScale#offset" ) --FS17 to FS19\n\n    local spec = self.spec_drivable\n\n    spec.showToolSelectionHud = true\n\n    spec.doHandbrake = false\n    spec.doHandbrakeSend = false\n    spec.reverserDirection = self.xmlFile:getValue( "vehicle.drivable#reverserDirection" , 1 )\n    spec.steeringDirection = self.xmlFile:getValue( "vehicle.drivable#steeringDirection" , 1 )\n\n    -- attributes set by action events\n    spec.lastInputValues = { }\n    spec.lastInputValues.axisAccelerate = 0\n    spec.lastInputValues.axisBrake = 0\n    spec.lastInputValues.axisSteer = 0\n    spec.lastInputValues.axisSteerIsAnalog = false\n    spec.lastInputValues.axisSteerDeviceCategory = InputDevice.CATEGORY.UNKNOWN\n    spec.lastInputValues.cruiseControlValue = 0\n    spec.lastInputValues.cruiseControlState = 0\n\n    -- \'final\' attrbutes calculated\n    spec.axisForward = 0\n    spec.axisForwardSend = 0\n\n    spec.axisSide = 0\n    spec.axisSideSend = 0\n    spec.axisSideLast = 0\n\n    spec.lastIsControlled = false\n\n    spec.speedRotScale = self.xmlFile:getValue( "vehicle.drivable.speedRotScale#scale" , 80 )\n    spec.speedRotScaleOffset = self.xmlFile:getValue( "vehicle.drivable.speedRotScale#offset" , 0.7 )\n\n    local motor = self:getMotor()\n    spec.cruiseControl = { }\n    spec.cruiseControl.maxSpeed = self.xmlFile:getValue( "vehicle.drivable.cruiseControl#maxSpeed" , MathUtil.round(motor:getMaximumForwardSpeed() * 3.6 ))\n    spec.cruiseControl.minSpeed = self.xmlFile:getValue( "vehicle.drivable.cruiseControl#minSpeed" , math.min( 1 , spec.cruiseControl.maxSpeed))\n    spec.cruiseControl.speed = spec.cruiseControl.maxSpeed\n    spec.cruiseControl.maxSpeedReverse = self.xmlFile:getValue( "vehicle.drivable.cruiseControl#maxSpeedReverse" , MathUtil.round(motor:getMaximumBackwardSpeed() * 3.6 ))\n    spec.cruiseControl.speedReverse = spec.cruiseControl.maxSpeedReverse\n    spec.cruiseControl.isActive = self.xmlFile:getValue( "vehicle.drivable.cruiseControl#enabled" , true )\n    spec.cruiseControl.state = Drivable.CRUISECONTROL_STATE_OFF\n    spec.cruiseControl.topSpeedTime = 1000\n    spec.cruiseControl.changeDelay = 250\n    spec.cruiseControl.changeCurrentDelay = 0\n    spec.cruiseControl.changeMultiplier = 1\n    spec.cruiseControl.transmissionDirection = 1\n    spec.cruiseControl.speedSent = spec.cruiseControl.speed\n    spec.cruiseControl.speedReverseSent = spec.cruiseControl.speedReverse\n\n    local node = self.xmlFile:getValue( "vehicle.drivable.steeringWheel#node" , nil , self.components, self.i3dMappings)\n    if node ~ = nil then\n        spec.steeringWheel = { }\n        spec.steeringWheel.node = node\n        local _,ry,_ = getRotation(spec.steeringWheel.node)\n        spec.steeringWheel.lastRotation = ry\n        spec.steeringWheel.indoorRotation = self.xmlFile:getValue( "vehicle.drivable.steeringWheel#indoorRotation" , 0 )\n        spec.steeringWheel.outdoorRotation = self.xmlFile:getValue( "vehicle.drivable.steeringWheel#outdoorRotation" , 0 )\n    end\n\n    spec.idleTurningAllowed = self.xmlFile:getValue( "vehicle.drivable.idleTurning#allowed" , false )\n    spec.idleTurningUpdateSteeringWheel = self.xmlFile:getValue( "vehicle.drivable.idleTurning#updateSteeringWheel" , true )\n    spec.idleTurningLockDirection = self.xmlFile:getValue( "vehicle.drivable.idleTurning#lockDirection" , true )\n    spec.idleTurningDrivingDirection = self.xmlFile:getValue( "vehicle.drivable.idleTurning#direction" , 1 )\n    spec.idleTurningMaxSpeed = self.xmlFile:getValue( "vehicle.drivable.idleTurning#maxSpeed" , 10 )\n    spec.idleTurningSteeringFactor = self.xmlFile:getValue( "vehicle.drivable.idleTurning#steeringFactor" , 100 )\n\n    spec.idleTurningWheels = { }\n    self.xmlFile:iterate( "vehicle.drivable.idleTurning.wheel" , function (index, key)\n        local wheelNode = self.xmlFile:getValue(key .. "#node" , nil , self.components, self.i3dMappings)\n        if wheelNode ~ = nil then\n            local entry = { }\n            entry.wheelNode = wheelNode\n            entry.steeringAngle = self.xmlFile:getValue(key .. "#steeringAngle" , 0 )\n            entry.inverted = self.xmlFile:getValue(key .. "#inverted" , false )\n\n            table.insert(spec.idleTurningWheels, entry)\n        end\n    end )\n\n    spec.idleTurningActive = false\n    spec.idleTurningActiveSend = false\n    spec.idleTurningDirection = 0\n\n    self.customSteeringAngleFunction = self.customSteeringAngleFunction or #spec.idleTurningWheels > 0\n\n    spec.forceFeedback = { }\n    spec.forceFeedback.isActive = false\n    spec.forceFeedback.device = nil\n    spec.forceFeedback.binding = nil\n    spec.forceFeedback.axisIndex = 0\n    spec.forceFeedback.intensity = g_gameSettings:getValue(GameSettings.SETTING.FORCE_FEEDBACK)\n\n    spec.playerControlAllowedFunctions = { }\n    spec.hasPlayerControlAllowedFunctions = false\n\n    spec.initialWheelPhysicsUpdate = true\n\n    spec.odometerMilage = 0\n\n    if self.isClient then\n        spec.samples = { }\n        spec.samples.waterSplash = g_soundManager:loadSampleFromXML( self.xmlFile, "vehicle.drivable.sounds" , "waterSplash" , self.baseDirectory, self.components, 1 , AudioGroup.VEHICLE, self.i3dMappings, self )\n        if self.isClient and g_isDevelopmentVersion and not GS_IS_MOBILE_VERSION then\n            if spec.samples.waterSplash = = nil then\n                Logging.xmlDevWarning( self.xmlFile, "Missing drivable waterSplash sound" )\n            end\n        end\n    end\n\n    if savegame ~ = nil then\n        local maxSpeed = savegame.xmlFile:getValue(savegame.key .. ".drivable#cruiseControl" )\n        local maxSpeedReverse = savegame.xmlFile:getValue(savegame.key .. ".drivable#cruiseControlReverse" )\n        self:setCruiseControlMaxSpeed(maxSpeed, maxSpeedReverse)\n\n        spec.odometerMilage = savegame.xmlFile:getValue(savegame.key .. ".drivable#odometerMilage" , spec.odometerMilage)\n    end\n\n    spec.hudExtension = CruiseControlHUDExtension.new( self )\n\n    spec.dirtyFlag = self:getNextDirtyFlag()\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"onreadstream",children:"onReadStream"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Called on client side on join"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onReadStream(integer streamId, Connection connection)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"integer"}),(0,s.jsx)(n.th,{children:"streamId"}),(0,s.jsx)(n.th,{children:"streamId"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Connection"}),(0,s.jsx)(n.td,{children:"connection"}),(0,s.jsx)(n.td,{children:"connection"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Drivable:onReadStream(streamId, connection)\n    local spec = self.spec_drivable\n\n    if spec.cruiseControl.isActive then\n        self:setCruiseControlState(streamReadUIntN(streamId, 2 ), true )\n        local speed = streamReadUInt8(streamId)\n        local speedReverse = streamReadUInt8(streamId)\n        self:setCruiseControlMaxSpeed(speed, speedReverse)\n        spec.cruiseControl.speedSent = speed\n        spec.cruiseControl.speedReverseSent = speedReverse\n\n        spec.odometerMilage = streamReadFloat32(streamId)\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onreadupdatestream",children:"onReadUpdateStream"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Called on on update"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onReadUpdateStream(integer streamId, integer timestamp, table connection)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"integer"}),(0,s.jsx)(n.th,{children:"streamId"}),(0,s.jsx)(n.th,{children:"stream ID"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"integer"}),(0,s.jsx)(n.td,{children:"timestamp"}),(0,s.jsx)(n.td,{children:"timestamp"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"table"}),(0,s.jsx)(n.td,{children:"connection"}),(0,s.jsx)(n.td,{children:"connection"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Drivable:onReadUpdateStream(streamId, timestamp, connection)\n    local spec = self.spec_drivable\n\n    if streamReadBool(streamId) then\n        spec.axisForward = streamReadUIntN(streamId, 10 ) / 1023 * 2 - 1\n        if math.abs(spec.axisForward) < 0.00099 then\n            spec.axisForward = 0 -- set to 0 to avoid noise caused by compression\n        end\n\n        spec.axisSide = streamReadUIntN(streamId, 10 ) / 1023 * 2 - 1\n        if math.abs(spec.axisSide) < 0.00099 then\n            spec.axisSide = 0 -- set to 0 to avoid noise caused by compression\n        end\n\n        spec.doHandbrake = streamReadBool(streamId)\n        spec.idleTurningActive = streamReadBool(streamId)\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onregisteractionevents",children:"onRegisterActionEvents"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onRegisterActionEvents()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"isActiveForInput"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"isActiveForInputIgnoreSelection"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function Drivable:onRegisterActionEvents(isActiveForInput, isActiveForInputIgnoreSelection)\n    if self.isClient then\n        local spec = self.spec_drivable\n\n        spec.toggleCruiseControlEvent = nil\n        self:clearActionEventsTable(spec.actionEvents)\n\n        local entered = true\n        if self.getIsEntered ~ = nil then\n            entered = self:getIsEntered()\n        end\n\n        local _, actionEventId\n\n        if self:getIsActiveForInput( true , true ) and entered then\n            if not self:getIsAIActive() then\n                _, actionEventId = self:addActionEvent(spec.actionEvents, InputAction.AXIS_ACCELERATE_VEHICLE, self , Drivable.actionEventAccelerate, false , false , true , true , nil )\n                g_inputBinding:setActionEventTextPriority(actionEventId, GS_PRIO_VERY_LOW)\n                g_inputBinding:setActionEventTextVisibility(actionEventId, false )\n                _, actionEventId = self:addActionEvent(spec.actionEvents, InputAction.AXIS_BRAKE_VEHICLE, self , Drivable.actionEventBrake, false , false , true , true , nil )\n                g_inputBinding:setActionEventTextPriority(actionEventId, GS_PRIO_VERY_LOW)\n                g_inputBinding:setActionEventTextVisibility(actionEventId, false )\n                _, actionEventId = self:addPoweredActionEvent(spec.actionEvents, InputAction.AXIS_MOVE_SIDE_VEHICLE, self , Drivable.actionEventSteer, false , false , true , true , nil )\n                g_inputBinding:setActionEventTextPriority(actionEventId, GS_PRIO_VERY_LOW)\n                g_inputBinding:setActionEventTextVisibility(actionEventId, false )\n                g_inputBinding:setActionEventText(actionEventId, g_i18n:getText( "action_steer" ))\n\n                _, actionEventId = self:addActionEvent(spec.actionEvents, InputAction.TOGGLE_CRUISE_CONTROL, self , Drivable.actionEventCruiseControlState, false , true , true , true , nil )\n                g_inputBinding:setActionEventTextPriority(actionEventId, GS_PRIO_LOW)\n                spec.toggleCruiseControlEvent = actionEventId\n            end\n\n            _, actionEventId = self:addActionEvent(spec.actionEvents, InputAction.AXIS_CRUISE_CONTROL, self , Drivable.actionEventCruiseControlValue, false , true , true , true , nil )\n            g_inputBinding:setActionEventText(actionEventId, g_i18n:getText( "action_changeCruiseControlLevel" ))\n            g_inputBinding:setActionEventTextPriority(actionEventId, GS_PRIO_LOW)\n        end\n    end\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"onregisterdashboardvaluetypes",children:"onRegisterDashboardValueTypes"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Called on post load to register dashboard value types"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onRegisterDashboardValueTypes()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function Drivable:onRegisterDashboardValueTypes()\n    local spec = self.spec_drivable\n\n    local cruiseControl = DashboardValueType.new( "drivable" , "cruiseControl" )\n    cruiseControl:setValue(spec.cruiseControl, "speed" )\n    self:registerDashboardValueType(cruiseControl)\n\n    local cruiseControlReverse = DashboardValueType.new( "drivable" , "cruiseControlReverse" )\n    cruiseControlReverse:setValue(spec.cruiseControl, "speedReverse" )\n    self:registerDashboardValueType(cruiseControlReverse)\n\n    local cruiseControlActive = DashboardValueType.new( "drivable" , "cruiseControlActive" )\n    cruiseControlActive:setValue(spec.cruiseControl, "state" )\n    cruiseControlActive:setValueCompare( Drivable.CRUISECONTROL_STATE_ACTIVE, Drivable.CRUISECONTROL_STATE_FULL)\n    self:registerDashboardValueType(cruiseControlActive)\n\n    local directionForward = DashboardValueType.new( "drivable" , "directionForward" )\n    directionForward:setValue( self , "getIsDrivingForward" )\n    self:registerDashboardValueType(directionForward)\n\n    local directionBackward = DashboardValueType.new( "drivable" , "directionBackward" )\n    directionBackward:setValue( self , "getIsDrivingBackward" )\n    self:registerDashboardValueType(directionBackward)\n\n    local movingDirection = DashboardValueType.new( "drivable" , "movingDirection" )\n    movingDirection:setValue( self , "getDrivingDirection" )\n    movingDirection:setRange( - 1 , 1 )\n    self:registerDashboardValueType(movingDirection)\n\n    local accelerationAxis = DashboardValueType.new( "drivable" , "accelerationAxis" )\n    accelerationAxis:setValue( self , "getAccelerationAxis" )\n    self:registerDashboardValueType(accelerationAxis)\n\n    local decelerationAxis = DashboardValueType.new( "drivable" , "decelerationAxis" )\n    decelerationAxis:setValue( self , "getDecelerationAxis" )\n    self:registerDashboardValueType(decelerationAxis)\n\n    local ac_decelerationAxis = DashboardValueType.new( "drivable" , "ac_decelerationAxis" )\n    ac_decelerationAxis:setValue( self , "getAcDecelerationAxis" )\n    self:registerDashboardValueType(ac_decelerationAxis)\n\n    local steeringAngle = DashboardValueType.new( "drivable" , "steeringAngle" )\n    steeringAngle:setValue( self , "getDashboardSteeringAxis" )\n    steeringAngle:setRange( - 1 , 1 )\n    self:registerDashboardValueType(steeringAngle)\n\n    local combinedPedalLeft = DashboardValueType.new( "drivable" , "combinedPedalLeft" )\n    combinedPedalLeft:setValue( self , Drivable.getDashboardCombinedPedalLeft)\n    combinedPedalLeft:setRange( - 1 , 1 )\n    self:registerDashboardValueType(combinedPedalLeft)\n\n    local combinedPedalRight = DashboardValueType.new( "drivable" , "combinedPedalRight" )\n    combinedPedalRight:setValue( self , Drivable.getDashboardCombinedPedalRight)\n    combinedPedalRight:setRange( - 1 , 1 )\n    self:registerDashboardValueType(combinedPedalRight)\n\n    local odometerMilage = DashboardValueType.new( "drivable" , "odometerMilage" )\n    odometerMilage:setValue(spec, "odometerMilage" )\n    self:registerDashboardValueType(odometerMilage)\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"onsetbroken",children:"onSetBroken"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onSetBroken()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Drivable:onSetBroken()\n    if self.isClient then\n        local spec = self.spec_drivable\n        g_soundManager:playSample(spec.samples.waterSplash)\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onupdate",children:"onUpdate"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onUpdate()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"dt"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"isActiveForInput"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"isActiveForInputIgnoreSelection"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"isSelected"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Drivable:onUpdate(dt, isActiveForInput, isActiveForInputIgnoreSelection, isSelected)\n    local spec = self.spec_drivable\n\n    -- update inputs on client side for basic controls\n        if self.isClient then\n            if self.getIsEntered ~ = nil and self:getIsEntered() then\n                if self.isActiveForInputIgnoreSelectionIgnoreAI then\n                    if self:getIsVehicleControlledByPlayer() then\n                        local lastSpeed = self:getLastSpeed()\n                        spec.doHandbrake = false\n\n                        -- gas and brake pedal\n                        local axisForward = math.clamp((spec.lastInputValues.axisAccelerate - spec.lastInputValues.axisBrake), - 1 , 1 )\n                        spec.axisForward = axisForward\n\n                        -- brake until we reach 1 km/h if brakeToStop is active\n                            if spec.brakeToStop then\n                                spec.lastInputValues.targetSpeed = 0.51\n                                spec.lastInputValues.targetDirection = 1\n\n                                if lastSpeed < 1 then\n                                    spec.brakeToStop = false\n\n                                    spec.lastInputValues.targetSpeed = nil\n                                    spec.lastInputValues.targetDirection = nil\n                                end\n                            end\n\n                            -- axis forward calculated by current target speed\n                            if spec.lastInputValues.targetSpeed ~ = nil then\n                                local currentSpeed = lastSpeed * self.movingDirection * self:getReverserDirection()\n                                local targetSpeed = spec.lastInputValues.targetSpeed * spec.lastInputValues.targetDirection\n\n                                local speedDifference = targetSpeed - currentSpeed\n                                if math.abs(speedDifference) > 0.1 and math.abs(targetSpeed) > 0.5 then\n                                    spec.axisForward = math.clamp( math.pow( math.abs(speedDifference), 1.5 ) * math.sign(speedDifference), - 1 , 1 )\n                                end\n                            end\n\n                            -- steering\n                            if self:getIsPowered() then\n                                local speedFactor = 1.0\n                                local sensitivitySetting = g_gameSettings:getValue(GameSettings.SETTING.STEERING_SENSITIVITY)\n\n                                local axisSteer = spec.lastInputValues.axisSteer\n\n                                if spec.lastInputValues.axisSteerIsAnalog then\n                                    local isArticulatedSteering = self.spec_articulatedAxis ~ = nil and self.spec_articulatedAxis.componentJoint ~ = nil\n                                    if isArticulatedSteering then\n                                        speedFactor = 1.5\n                                    else\n                                            speedFactor = 2.5\n                                        end\n\n                                        if GS_IS_MOBILE_VERSION then\n                                            -- Fixed speed factor on mobile, and instead control non-linearity with sensitivity slider\n                                            --speedFactor = speedFactor * math.min(1.0/(self.lastSpeed*spec.speedRotScale+spec.speedRotScaleOffset), 1)\n\n                                            speedFactor = speedFactor * 1.5\n                                            if axisSteer = = 0 then\n                                                speedFactor = speedFactor * g_gameSettings:getValue(GameSettings.SETTING.STEERING_BACK_SPEED) / 10\n                                            end\n\n                                            axisSteer = math.pow( math.abs(axisSteer), 1.0 / sensitivitySetting) * (axisSteer > = 0 and 1 or - 1 )\n                                        else\n                                                -- only use steering speed for gamepads\n                                                    if spec.lastInputValues.axisSteerDeviceCategory = = InputDevice.CATEGORY.GAMEPAD then\n                                                        speedFactor = math.min( 1.0 / ( self.lastSpeed * spec.speedRotScale + spec.speedRotScaleOffset), 1 )\n                                                        speedFactor = (speedFactor * speedFactor) * sensitivitySetting * 1.75\n                                                    end\n                                                end\n\n                                                local forceFeedback = spec.forceFeedback\n                                                if forceFeedback.isActive then\n                                                    if forceFeedback.intensity > 0 then\n                                                        local angleFactor = math.abs(axisSteer)\n                                                        local speedForceFactor = math.max( math.min((lastSpeed - 2 ) / 15 , 1 ), 0 )\n                                                        local targetState = axisSteer - ( 0.2 * speedForceFactor) * math.sign(axisSteer)\n                                                        local force = math.max( math.abs(targetState) * 0.4 , 0.25 ) * speedForceFactor * angleFactor * 2 * forceFeedback.intensity\n                                                        forceFeedback.device:setForceFeedback(forceFeedback.axisIndex, force, targetState)\n                                                    else\n                                                            forceFeedback.device:setForceFeedback(forceFeedback.axisIndex, 0 , axisSteer)\n                                                        end\n                                                    end\n                                                else\n                                                        -- True if the vehicle is steered one direction, but the player wants to steer it to the other direction.\n                                                            local isSteeringBack = spec.lastInputValues.axisSteer ~ = 0 and math.sign(spec.lastInputValues.axisSteer) ~ = math.sign(spec.axisSide)\n\n                                                            if spec.lastInputValues.axisSteer = = 0 or isSteeringBack then\n                                                                local rotateBackSpeedSetting = g_gameSettings:getValue(GameSettings.SETTING.STEERING_BACK_SPEED) / 10\n\n                                                                -- if the setting is '1' we use the same speed as we use for steering\n                                                                    -- if the setting is smaller '1' we reduce the steering angle depending on the driving speed\n                                                                        if not isSteeringBack and rotateBackSpeedSetting < 1 and self.speedDependentRotateBack then\n                                                                            local speed = math.max(lastSpeed - 0.5 , 0 ) / 36\n                                                                            local setting = rotateBackSpeedSetting / 0.5\n                                                                            speedFactor = speedFactor * math.min(speed * setting, 1 )\n                                                                        end\n\n                                                                        speedFactor = speedFactor * ( self.autoRotateBackSpeed or 1 ) / 1.5\n                                                                    else\n                                                                            speedFactor = math.min( 1.0 / ( self.lastSpeed * spec.speedRotScale + spec.speedRotScaleOffset), 1 )\n                                                                            speedFactor = speedFactor * sensitivitySetting\n                                                                        end\n                                                                    end\n\n                                                                    -- idle turning\n                                                                    if spec.idleTurningAllowed then\n                                                                        if axisForward = = 0 and math.abs(axisSteer) > 0.05 and lastSpeed < 1 then\n                                                                            if not spec.idleTurningActive then\n                                                                                spec.idleTurningActive = true\n                                                                                spec.idleTurningDirection = math.sign(axisSteer) * spec.idleTurningDrivingDirection\n                                                                            end\n                                                                        end\n\n                                                                        if axisForward ~ = 0 then\n                                                                            if spec.idleTurningActive then\n                                                                                spec.idleTurningActive = false\n\n                                                                                if axisSteer > 0 then\n                                                                                    self.rotatedTime = self.minRotTime\n                                                                                    spec.axisSide = 1\n                                                                                elseif axisSteer < 0 then\n                                                                                        self.rotatedTime = self.maxRotTime\n                                                                                        spec.axisSide = - 1\n                                                                                    end\n                                                                                end\n                                                                            end\n\n                                                                            if spec.idleTurningActive then\n                                                                                if not spec.idleTurningLockDirection then\n                                                                                    spec.idleTurningDirection = spec.idleTurningDrivingDirection\n\n                                                                                    if axisSteer = = 0 then\n                                                                                        spec.idleTurningActive = false\n                                                                                        spec.axisSide = 0\n                                                                                    end\n                                                                                end\n                                                                            end\n\n                                                                            if spec.idleTurningActive then\n                                                                                spec.axisForward = spec.idleTurningDirection * math.sign(axisSteer)\n\n                                                                                axisSteer = math.abs(axisSteer) * spec.idleTurningDirection\n                                                                                speedFactor = speedFactor * spec.idleTurningSteeringFactor\n                                                                            end\n                                                                        end\n\n                                                                        local steeringDuration = ( self.wheelSteeringDuration or 1 ) * 1000\n                                                                        local rotDelta = (dt / steeringDuration) * speedFactor\n\n                                                                        if axisSteer > spec.axisSide then\n                                                                            spec.axisSide = math.min(axisSteer, spec.axisSide + rotDelta)\n                                                                        elseif axisSteer < spec.axisSide then\n                                                                                spec.axisSide = math.max(axisSteer, spec.axisSide - rotDelta)\n                                                                            end\n                                                                        end\n                                                                    else\n                                                                            spec.axisForward = 0\n                                                                            spec.idleTurningActive = false\n                                                                            if self.rotatedTime < 0 then\n                                                                                spec.axisSide = self.rotatedTime / - self.maxRotTime / self:getSteeringDirection()\n                                                                            else\n                                                                                    spec.axisSide = self.rotatedTime / self.minRotTime / self:getSteeringDirection()\n                                                                                end\n                                                                            end\n                                                                        else\n                                                                                spec.doHandbrake = true\n                                                                                spec.axisForward = 0\n                                                                                spec.idleTurningActive = false\n                                                                            end\n\n                                                                            -- prepare for next frame\n                                                                                spec.lastInputValues.axisAccelerate = 0\n                                                                                spec.lastInputValues.axisBrake = 0\n                                                                                spec.lastInputValues.axisSteer = 0\n\n                                                                                -- prepare network update\n                                                                                if spec.axisForward ~ = spec.axisForwardSend or spec.axisSide ~ = spec.axisSideSend or spec.doHandbrake ~ = spec.doHandbrakeSend or spec.idleTurningActiveSend ~ = spec.idleTurningActive then\n                                                                                    spec.axisForwardSend = spec.axisForward\n                                                                                    spec.axisSideSend = spec.axisSide\n                                                                                    spec.doHandbrakeSend = spec.doHandbrake\n                                                                                    spec.idleTurningActiveSend = spec.idleTurningActive\n                                                                                    self:raiseDirtyFlags(spec.dirtyFlag)\n                                                                                end\n                                                                            end\n                                                                        end\n\n                                                                        -- update inputs on client side for cruise control\n                                                                            if self.isClient then\n                                                                                if self.getIsEntered ~ = nil and self:getIsEntered() then\n                                                                                    -- cruise control state\n                                                                                    local inputValue = spec.lastInputValues.cruiseControlState\n                                                                                    spec.lastInputValues.cruiseControlState = 0\n\n                                                                                    if inputValue = = 1 then\n                                                                                        if spec.cruiseControl.topSpeedTime = = Drivable.CRUISECONTROL_FULL_TOGGLE_TIME then\n                                                                                            if spec.cruiseControl.state = = Drivable.CRUISECONTROL_STATE_OFF then\n                                                                                                self:setCruiseControlState( Drivable.CRUISECONTROL_STATE_ACTIVE)\n                                                                                            else\n                                                                                                    self:setCruiseControlState( Drivable.CRUISECONTROL_STATE_OFF)\n                                                                                                end\n                                                                                            end\n\n                                                                                            if spec.cruiseControl.topSpeedTime > 0 then\n                                                                                                spec.cruiseControl.topSpeedTime = spec.cruiseControl.topSpeedTime - dt\n                                                                                                if spec.cruiseControl.topSpeedTime < 0 then\n                                                                                                    self:setCruiseControlState( Drivable.CRUISECONTROL_STATE_FULL)\n                                                                                                end\n                                                                                            end\n                                                                                        else\n                                                                                                spec.cruiseControl.topSpeedTime = Drivable.CRUISECONTROL_FULL_TOGGLE_TIME\n                                                                                            end\n\n                                                                                            -- cruise control value\n                                                                                            local lastCruiseControlValue = spec.lastInputValues.cruiseControlValue\n                                                                                            spec.lastInputValues.cruiseControlValue = 0\n\n                                                                                            if lastCruiseControlValue ~ = 0 then\n                                                                                                spec.cruiseControl.changeCurrentDelay = spec.cruiseControl.changeCurrentDelay - (dt * spec.cruiseControl.changeMultiplier)\n                                                                                                spec.cruiseControl.changeMultiplier = math.min(spec.cruiseControl.changeMultiplier + (dt * 0.003 ), 10 )\n\n                                                                                                if spec.cruiseControl.changeCurrentDelay < 0 then\n                                                                                                    spec.cruiseControl.changeCurrentDelay = spec.cruiseControl.changeDelay\n\n                                                                                                    local dir = math.sign(lastCruiseControlValue)\n\n                                                                                                    local speed, speedReverse = spec.cruiseControl.speed, spec.cruiseControl.speedReverse\n                                                                                                    local useReverseSpeed = self:getDrivingDirection() < 0\n                                                                                                    if self:getReverserDirection() < 0 then\n                                                                                                        useReverseSpeed = not useReverseSpeed\n                                                                                                    end\n\n                                                                                                    if useReverseSpeed then\n                                                                                                        speedReverse = speedReverse + dir\n                                                                                                    else\n                                                                                                            speed = speed + dir\n                                                                                                        end\n\n                                                                                                        self:setCruiseControlMaxSpeed(speed, speedReverse)\n\n                                                                                                        if spec.cruiseControl.speed ~ = spec.cruiseControl.speedSent or spec.cruiseControl.speedReverse ~ = spec.cruiseControl.speedReverseSent then\n                                                                                                            if g_server ~ = nil then\n                                                                                                                g_server:broadcastEvent( SetCruiseControlSpeedEvent.new( self , spec.cruiseControl.speed, spec.cruiseControl.speedReverse), nil , nil , self )\n                                                                                                            else\n                                                                                                                    g_client:getServerConnection():sendEvent( SetCruiseControlSpeedEvent.new( self , spec.cruiseControl.speed, spec.cruiseControl.speedReverse))\n                                                                                                                end\n                                                                                                                spec.cruiseControl.speedSent = spec.cruiseControl.speed\n                                                                                                                spec.cruiseControl.speedReverseSent = spec.cruiseControl.speedReverse\n                                                                                                            end\n                                                                                                        end\n                                                                                                    else\n                                                                                                            spec.cruiseControl.changeCurrentDelay = 0\n                                                                                                            spec.cruiseControl.changeMultiplier = 1\n                                                                                                        end\n\n                                                                                                    end\n                                                                                                end\n\n                                                                                                local isControlled = self.getIsControlled ~ = nil and self:getIsControlled()\n\n                                                                                                -- update vehicle physics on server side\n                                                                                                if self:getIsVehicleControlledByPlayer() then\n                                                                                                    if self.isServer then\n                                                                                                        if isControlled then\n                                                                                                            local cruiseControlSpeed = math.huge\n                                                                                                            if spec.cruiseControl.state = = Drivable.CRUISECONTROL_STATE_ACTIVE then\n                                                                                                                if self:getReverserDirection() < 0 then\n                                                                                                                    cruiseControlSpeed = spec.cruiseControl.speedReverse\n                                                                                                                else\n                                                                                                                        cruiseControlSpeed = spec.cruiseControl.speed\n                                                                                                                    end\n                                                                                                                end\n                                                                                                                if self:getDrivingDirection() < 0 then\n                                                                                                                    if self:getReverserDirection() < 0 then\n                                                                                                                        cruiseControlSpeed = math.min(cruiseControlSpeed, spec.cruiseControl.speed)\n                                                                                                                    else\n                                                                                                                            cruiseControlSpeed = math.min(cruiseControlSpeed, spec.cruiseControl.speedReverse)\n                                                                                                                        end\n                                                                                                                    end\n\n                                                                                                                    -- while cruise control is active we interpolate between the speed while changing them\n                                                                                                                        -- this reduces the peak motor load while this change happens\n                                                                                                                            if cruiseControlSpeed ~ = math.huge then\n                                                                                                                                spec.cruiseControl.speedInterpolated = spec.cruiseControl.speedInterpolated or cruiseControlSpeed\n                                                                                                                                if cruiseControlSpeed ~ = spec.cruiseControl.speedInterpolated then\n                                                                                                                                    local diff = cruiseControlSpeed - spec.cruiseControl.speedInterpolated\n                                                                                                                                    local dir = math.sign(diff)\n                                                                                                                                    local limit = dir = = 1 and math.min or math.max\n                                                                                                                                    spec.cruiseControl.speedInterpolated = limit(spec.cruiseControl.speedInterpolated + dt * 0.0025 * math.max( 1 , math.abs(diff)) * dir, cruiseControlSpeed)\n                                                                                                                                    cruiseControlSpeed = spec.cruiseControl.speedInterpolated\n                                                                                                                                end\n                                                                                                                            else\n                                                                                                                                    spec.cruiseControl.speedInterpolated = nil\n                                                                                                                                end\n\n                                                                                                                                local maxSpeed, _ = self:getSpeedLimit( true )\n                                                                                                                                maxSpeed = math.min(maxSpeed, cruiseControlSpeed)\n\n                                                                                                                                if spec.idleTurningAllowed then\n                                                                                                                                    if spec.idleTurningActive then\n                                                                                                                                        maxSpeed = math.min(maxSpeed, spec.idleTurningMaxSpeed)\n                                                                                                                                    end\n                                                                                                                                end\n\n                                                                                                                                self:getMotor():setSpeedLimit(maxSpeed)\n\n                                                                                                                                self:updateVehiclePhysics(spec.axisForward, spec.axisSide, spec.doHandbrake, dt)\n                                                                                                                            else\n                                                                                                                                    if spec.lastIsControlled then\n                                                                                                                                        SpecializationUtil.raiseEvent( self , \"onVehiclePhysicsUpdate\" , 0 , 0 , true , 0 )\n                                                                                                                                    end\n                                                                                                                                end\n                                                                                                                            end\n                                                                                                                        end\n\n                                                                                                                        -- just a visual update of the steering wheel\n                                                                                                                        if self.isClient and isControlled then\n                                                                                                                            local allowed = true\n                                                                                                                            if spec.idleTurningAllowed then\n                                                                                                                                if spec.idleTurningActive and not spec.idleTurningUpdateSteeringWheel then\n                                                                                                                                    allowed = false\n                                                                                                                                end\n                                                                                                                            end\n\n                                                                                                                            if allowed then\n                                                                                                                                self:updateSteeringWheel(spec.steeringWheel, dt, 1 )\n                                                                                                                            end\n                                                                                                                        end\n\n                                                                                                                        spec.lastIsControlled = isControlled\n\n                                                                                                                        -- steering based on mobile device orientation\n                                                                                                                        if self:getIsActiveForInput( true ) then\n                                                                                                                            local inputHelpMode = g_inputBinding:getInputHelpMode()\n                                                                                                                            if inputHelpMode ~ = GS_INPUT_HELP_MODE_GAMEPAD or GS_PLATFORM_SWITCH then\n                                                                                                                                if g_gameSettings:getValue(GameSettings.SETTING.GYROSCOPE_STEERING) then\n                                                                                                                                    local dx, dy, dz = getGravityDirection()\n                                                                                                                                    local steeringValue = MathUtil.getSteeringAngleFromDeviceGravity(dx, dy, dz)\n\n                                                                                                                                    --renderText(0.5, 0.7, 0.016, string.format(\"Gravity: %.4f, %.4f, %.4f -> %.4f\", dx, dy, dz, steeringValue))\n\n                                                                                                                                    self:setSteeringInput(steeringValue, true , InputDevice.CATEGORY.WHEEL)\n                                                                                                                                end\n                                                                                                                            end\n                                                                                                                        end\n\n                                                                                                                        spec.odometerMilage = spec.odometerMilage + self.lastMovedDistance * 0.001\n                                                                                                                    end\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onwritestream",children:"onWriteStream"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Called on server side on join"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onWriteStream(integer streamId, Connection connection)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"integer"}),(0,s.jsx)(n.th,{children:"streamId"}),(0,s.jsx)(n.th,{children:"streamId"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Connection"}),(0,s.jsx)(n.td,{children:"connection"}),(0,s.jsx)(n.td,{children:"connection"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Drivable:onWriteStream(streamId, connection)\n    local spec = self.spec_drivable\n\n    if spec.cruiseControl.isActive then\n        streamWriteUIntN(streamId, spec.cruiseControl.state, 2 )\n        streamWriteUInt8(streamId, spec.cruiseControl.speed)\n        streamWriteUInt8(streamId, spec.cruiseControl.speedReverse)\n\n        streamWriteFloat32(streamId, spec.odometerMilage)\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onwriteupdatestream",children:"onWriteUpdateStream"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Called on on update"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onWriteUpdateStream(integer streamId, table connection, integer dirtyMask)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"integer"}),(0,s.jsx)(n.th,{children:"streamId"}),(0,s.jsx)(n.th,{children:"stream ID"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"table"}),(0,s.jsx)(n.td,{children:"connection"}),(0,s.jsx)(n.td,{children:"connection"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"integer"}),(0,s.jsx)(n.td,{children:"dirtyMask"}),(0,s.jsx)(n.td,{children:"dirty mask"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Drivable:onWriteUpdateStream(streamId, connection, dirtyMask)\n    local spec = self.spec_drivable\n\n    if streamWriteBool(streamId, bit32.band(dirtyMask, spec.dirtyFlag) ~ = 0 ) then\n        local axisForward = math.clamp(spec.axisForward + 1 , 0 , 2 ) / 2 * 1023\n        streamWriteUIntN(streamId, axisForward, 10 )\n\n        local axisSide = math.clamp(spec.axisSide + 1 , 0 , 2 ) / 2 * 1023\n        streamWriteUIntN(streamId, axisSide, 10 )\n\n        streamWriteBool(streamId, spec.doHandbrake)\n        streamWriteBool(streamId, spec.idleTurningActive)\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"prerequisitespresent",children:"prerequisitesPresent"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Checks if all prerequisite specializations are loaded"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"prerequisitesPresent(table specializations)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"table"}),(0,s.jsx)(n.th,{children:"specializations"}),(0,s.jsx)(n.th,{children:"specializations"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"table"}),(0,s.jsx)(n.th,{children:"hasPrerequisite"}),(0,s.jsx)(n.th,{children:"true if all prerequisite specializations are loaded"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Drivable.prerequisitesPresent(specializations)\n    return SpecializationUtil.hasSpecialization( Enterable , specializations) and SpecializationUtil.hasSpecialization( Motorized , specializations)\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"registereventlisteners",children:"registerEventListeners"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"registerEventListeners()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function Drivable.registerEventListeners(vehicleType)\n    SpecializationUtil.registerEventListener(vehicleType, "onLoad" , Drivable )\n    SpecializationUtil.registerEventListener(vehicleType, "onRegisterDashboardValueTypes" , Drivable )\n    SpecializationUtil.registerEventListener(vehicleType, "onDelete" , Drivable )\n    SpecializationUtil.registerEventListener(vehicleType, "onReadStream" , Drivable )\n    SpecializationUtil.registerEventListener(vehicleType, "onWriteStream" , Drivable )\n    SpecializationUtil.registerEventListener(vehicleType, "onReadUpdateStream" , Drivable )\n    SpecializationUtil.registerEventListener(vehicleType, "onWriteUpdateStream" , Drivable )\n    SpecializationUtil.registerEventListener(vehicleType, "onUpdate" , Drivable )\n    SpecializationUtil.registerEventListener(vehicleType, "onDraw" , Drivable )\n    SpecializationUtil.registerEventListener(vehicleType, "onRegisterActionEvents" , Drivable )\n    SpecializationUtil.registerEventListener(vehicleType, "onLeaveVehicle" , Drivable )\n    SpecializationUtil.registerEventListener(vehicleType, "onSetBroken" , Drivable )\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"registerevents",children:"registerEvents"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"registerEvents()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function Drivable.registerEvents(vehicleType)\n    SpecializationUtil.registerEvent(vehicleType, "onVehiclePhysicsUpdate" )\n    SpecializationUtil.registerEvent(vehicleType, "onCruiseControlSpeedChanged" )\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"registerfunctions",children:"registerFunctions"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"registerFunctions()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function Drivable.registerFunctions(vehicleType)\n    SpecializationUtil.registerFunction(vehicleType, "updateSteeringWheel" , Drivable.updateSteeringWheel)\n    SpecializationUtil.registerFunction(vehicleType, "setCruiseControlState" , Drivable.setCruiseControlState)\n    SpecializationUtil.registerFunction(vehicleType, "setCruiseControlMaxSpeed" , Drivable.setCruiseControlMaxSpeed)\n    SpecializationUtil.registerFunction(vehicleType, "getCruiseControlState" , Drivable.getCruiseControlState)\n    SpecializationUtil.registerFunction(vehicleType, "getCruiseControlSpeed" , Drivable.getCruiseControlSpeed)\n    SpecializationUtil.registerFunction(vehicleType, "getCruiseControlMaxSpeed" , Drivable.getCruiseControlMaxSpeed)\n    SpecializationUtil.registerFunction(vehicleType, "getCruiseControlDisplayInfo" , Drivable.getCruiseControlDisplayInfo)\n    SpecializationUtil.registerFunction(vehicleType, "getAxisForward" , Drivable.getAxisForward)\n    SpecializationUtil.registerFunction(vehicleType, "getAccelerationAxis" , Drivable.getAccelerationAxis)\n    SpecializationUtil.registerFunction(vehicleType, "getDecelerationAxis" , Drivable.getDecelerationAxis)\n    SpecializationUtil.registerFunction(vehicleType, "getCruiseControlAxis" , Drivable.getCruiseControlAxis)\n    SpecializationUtil.registerFunction(vehicleType, "getAcDecelerationAxis" , Drivable.getAcDecelerationAxis)\n    SpecializationUtil.registerFunction(vehicleType, "getDashboardSteeringAxis" , Drivable.getDashboardSteeringAxis)\n    SpecializationUtil.registerFunction(vehicleType, "setReverserDirection" , Drivable.setReverserDirection)\n    SpecializationUtil.registerFunction(vehicleType, "getReverserDirection" , Drivable.getReverserDirection)\n    SpecializationUtil.registerFunction(vehicleType, "getSteeringDirection" , Drivable.getSteeringDirection)\n    SpecializationUtil.registerFunction(vehicleType, "getIsDrivingForward" , Drivable.getIsDrivingForward)\n    SpecializationUtil.registerFunction(vehicleType, "getIsDrivingBackward" , Drivable.getIsDrivingBackward)\n    SpecializationUtil.registerFunction(vehicleType, "getDrivingDirection" , Drivable.getDrivingDirection)\n    SpecializationUtil.registerFunction(vehicleType, "getIsVehicleControlledByPlayer" , Drivable.getIsVehicleControlledByPlayer)\n    SpecializationUtil.registerFunction(vehicleType, "getIsPlayerVehicleControlAllowed" , Drivable.getIsPlayerVehicleControlAllowed)\n    SpecializationUtil.registerFunction(vehicleType, "registerPlayerVehicleControlAllowedFunction" , Drivable.registerPlayerVehicleControlAllowedFunction)\n    SpecializationUtil.registerFunction(vehicleType, "updateVehiclePhysics" , Drivable.updateVehiclePhysics)\n    SpecializationUtil.registerFunction(vehicleType, "setAccelerationPedalInput" , Drivable.setAccelerationPedalInput)\n    SpecializationUtil.registerFunction(vehicleType, "setBrakePedalInput" , Drivable.setBrakePedalInput)\n    SpecializationUtil.registerFunction(vehicleType, "setTargetSpeedAndDirection" , Drivable.setTargetSpeedAndDirection)\n    SpecializationUtil.registerFunction(vehicleType, "setSteeringInput" , Drivable.setSteeringInput)\n    SpecializationUtil.registerFunction(vehicleType, "brakeToStop" , Drivable.brakeToStop)\n    SpecializationUtil.registerFunction(vehicleType, "updateSteeringAngle" , Drivable.updateSteeringAngle)\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"registeroverwrittenfunctions",children:"registerOverwrittenFunctions"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"registerOverwrittenFunctions()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function Drivable.registerOverwrittenFunctions(vehicleType)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getIsManualDirectionChangeAllowed" , Drivable.getIsManualDirectionChangeAllowed)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getMapHotspotRotation" , Drivable.getMapHotspotRotation)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "setTransmissionDirection" , Drivable.setTransmissionDirection)\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"registerplayervehiclecontrolallowedfunction",children:"registerPlayerVehicleControlAllowedFunction"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Registers function to be check when player tries to control the vehicle"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"registerPlayerVehicleControlAllowedFunction(table vehicle, function func)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"table"}),(0,s.jsx)(n.th,{children:"vehicle"}),(0,s.jsx)(n.th,{children:"vehicle object"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"function"}),(0,s.jsx)(n.td,{children:"func"}),(0,s.jsx)(n.td,{children:"function to be checked"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Drivable:registerPlayerVehicleControlAllowedFunction(vehicle, func)\n    local objectId = NetworkUtil.getObjectId(vehicle)\n    if objectId ~ = nil and func ~ = nil then\n        local spec = self.spec_drivable\n        spec.playerControlAllowedFunctions[objectId] = func\n        spec.hasPlayerControlAllowedFunctions = table.size(spec.playerControlAllowedFunctions) > 0\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"savetoxmlfile",children:"saveToXMLFile"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"saveToXMLFile()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"xmlFile"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"key"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"usedModNames"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function Drivable:saveToXMLFile(xmlFile, key, usedModNames)\n    local spec = self.spec_drivable\n    xmlFile:setValue(key .. "#cruiseControl" , spec.cruiseControl.speed)\n    xmlFile:setValue(key .. "#cruiseControlReverse" , spec.cruiseControl.speedReverse)\n    xmlFile:setValue(key .. "#odometerMilage" , spec.odometerMilage)\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"setaccelerationpedalinput",children:"setAccelerationPedalInput"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"setAccelerationPedalInput()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"inputValue"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Drivable:setAccelerationPedalInput(inputValue)\n    local spec = self.spec_drivable\n    spec.lastInputValues.axisAccelerate = math.clamp(inputValue, 0 , 1 )\n\n    if spec.lastInputValues.targetSpeed ~ = nil then\n        spec.lastInputValues.targetSpeed = nil\n        spec.lastInputValues.targetDirection = nil\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"setbrakepedalinput",children:"setBrakePedalInput"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"setBrakePedalInput()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"inputValue"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Drivable:setBrakePedalInput(inputValue)\n    local spec = self.spec_drivable\n    spec.lastInputValues.axisBrake = math.clamp(inputValue, 0 , 1 )\n\n    if spec.lastInputValues.targetSpeed ~ = nil then\n        spec.lastInputValues.targetSpeed = nil\n        spec.lastInputValues.targetDirection = nil\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"setcruisecontrolmaxspeed",children:"setCruiseControlMaxSpeed"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Sets cruise control max speed"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"setCruiseControlMaxSpeed(float speed, float speedReverse)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"float"}),(0,s.jsx)(n.th,{children:"speed"}),(0,s.jsx)(n.th,{children:"new max speed"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"float"}),(0,s.jsx)(n.td,{children:"speedReverse"}),(0,s.jsx)(n.td,{children:"new max reverse speed"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function Drivable:setCruiseControlMaxSpeed(speed, speedReverse)\n    local spec = self.spec_drivable\n\n    if speed ~ = nil then\n        speed = math.clamp(speed, spec.cruiseControl.minSpeed, spec.cruiseControl.maxSpeed)\n        if spec.cruiseControl.speed ~ = speed then\n            spec.cruiseControl.speed = speed\n            if spec.cruiseControl.state = = Drivable.CRUISECONTROL_STATE_FULL then\n                spec.cruiseControl.state = Drivable.CRUISECONTROL_STATE_ACTIVE\n            end\n        end\n\n        if speedReverse ~ = nil then\n            speedReverse = math.clamp(speedReverse, spec.cruiseControl.minSpeed, spec.cruiseControl.maxSpeedReverse)\n            spec.cruiseControl.speedReverse = speedReverse\n        end\n\n        if spec.cruiseControl.state ~ = Drivable.CRUISECONTROL_STATE_OFF then\n            if spec.cruiseControl.state = = Drivable.CRUISECONTROL_STATE_ACTIVE then\n                local speedLimit,_ = self:getSpeedLimit( true )\n                speedLimit = math.min(speedLimit, spec.cruiseControl.speed)\n                self:getMotor():setSpeedLimit(speedLimit)\n            else\n                    self:getMotor():setSpeedLimit( math.huge)\n                end\n            end\n\n            if self:getDrivingDirection() < 0 then\n                local speedLimit,_ = self:getSpeedLimit( true )\n                speedLimit = math.min(speedLimit, spec.cruiseControl.speedReverse)\n                self:getMotor():setSpeedLimit(speedLimit)\n            end\n\n            SpecializationUtil.raiseEvent( self , "onCruiseControlSpeedChanged" , speed, speedReverse)\n        end\n    end\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"setcruisecontrolstate",children:"setCruiseControlState"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Changes cruise control state"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"setCruiseControlState(integer state, boolean noEventSend)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"integer"}),(0,s.jsx)(n.th,{children:"state"}),(0,s.jsx)(n.th,{children:"new state"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"boolean"}),(0,s.jsx)(n.td,{children:"noEventSend"}),(0,s.jsx)(n.td,{children:"no event send"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function Drivable:setCruiseControlState(state, noEventSend)\n    local spec = self.spec_drivable\n    if spec.cruiseControl ~ = nil and spec.cruiseControl.state ~ = state then\n        spec.cruiseControl.state = state\n        if noEventSend = = nil or not noEventSend then\n            if not self.isServer then\n                g_client:getServerConnection():sendEvent( SetCruiseControlStateEvent.new( self , state))\n            else\n                    local ownerConnection = self:getOwnerConnection()\n                    if ownerConnection ~ = nil then\n                        ownerConnection:sendEvent( SetCruiseControlStateEvent.new( self , state))\n                    end\n                end\n            end\n\n            if spec.toggleCruiseControlEvent ~ = nil then\n                local text\n                if state ~ = Drivable.CRUISECONTROL_STATE_ACTIVE then\n                    text = g_i18n:getText( "action_activateCruiseControl" )\n                else\n                        text = g_i18n:getText( "action_deactivateCruiseControl" )\n                    end\n                    g_inputBinding:setActionEventText(spec.toggleCruiseControlEvent, text)\n                end\n            end\n        end\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"setreverserdirection",children:"setReverserDirection"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"setReverserDirection()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"reverserDirection"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Drivable:setReverserDirection(reverserDirection)\n    self.spec_drivable.reverserDirection = reverserDirection\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"setsteeringinput",children:"setSteeringInput"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"setSteeringInput()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"inputValue"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"isAnalog"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"deviceCategory"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Drivable:setSteeringInput(inputValue, isAnalog, deviceCategory)\n    local spec = self.spec_drivable\n    spec.lastInputValues.axisSteer = inputValue\n    if inputValue ~ = 0 then\n        spec.lastInputValues.axisSteerIsAnalog = isAnalog\n        spec.lastInputValues.axisSteerDeviceCategory = deviceCategory\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"settargetspeedanddirection",children:"setTargetSpeedAndDirection"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"setTargetSpeedAndDirection()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"speed"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"direction"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Drivable:setTargetSpeedAndDirection(speed, direction)\n    local spec = self.spec_drivable\n    if direction > 0 then\n        speed = speed * self:getMotor():getMaximumForwardSpeed() * 3.6\n    elseif direction < 0 then\n            speed = speed * self:getMotor():getMaximumBackwardSpeed() * 3.6\n        end\n\n        spec.lastInputValues.targetSpeed = speed\n        spec.lastInputValues.targetDirection = direction\n    end\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"settransmissiondirection",children:"setTransmissionDirection"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Switches the gear ratios by the given direction"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"setTransmissionDirection(integer direction, )"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"integer"}),(0,s.jsx)(n.th,{children:"direction"}),(0,s.jsx)(n.th,{children:"direction"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"direction"}),(0,s.jsx)(n.td,{})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Drivable:setTransmissionDirection(superFunc, direction)\n    superFunc( self , direction)\n\n    local spec = self.spec_drivable\n    if direction ~ = spec.cruiseControl.transmissionDirection then\n\n        spec.cruiseControl.maxSpeed, spec.cruiseControl.maxSpeedReverse = spec.cruiseControl.maxSpeedReverse, spec.cruiseControl.maxSpeed\n        self:setCruiseControlMaxSpeed(spec.cruiseControl.speedReverse, spec.cruiseControl.speed)\n\n        spec.cruiseControl.transmissionDirection = direction\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"stopmotor",children:"stopMotor"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Called on motor stop"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"stopMotor(boolean noEventSend)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"boolean"}),(0,s.jsx)(n.th,{children:"noEventSend"}),(0,s.jsx)(n.th,{children:"no event send"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Drivable:stopMotor(noEventSend)\n    self:setCruiseControlState( Drivable.CRUISECONTROL_STATE_OFF, true )\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"updatesteeringangle",children:"updateSteeringAngle"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"updateSteeringAngle()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"wheel"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"dt"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"steeringAngle"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Drivable:updateSteeringAngle(wheel, dt, steeringAngle)\n    local spec = self.spec_drivable\n    if spec.idleTurningAllowed then\n        for i = 1 , #spec.idleTurningWheels do\n            local wheelData = spec.idleTurningWheels[i]\n            if wheel.repr = = wheelData.wheelNode or wheel.driveNode = = wheelData.wheelNode then\n                local idleTurnAngle = wheelData.steeringAngle\n                if wheelData.inverted then\n                    idleTurnAngle = wheelData.steeringAngle + math.pi\n                end\n\n                return spec.idleTurningActive and idleTurnAngle or steeringAngle\n            end\n        end\n    end\n\n    return steeringAngle\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"updatesteeringwheel",children:"updateSteeringWheel"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"updateSteeringWheel()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"steeringWheel"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"dt"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"direction"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Drivable:updateSteeringWheel(steeringWheel, dt, direction)\n    if steeringWheel ~ = nil then\n        local maxRotation = steeringWheel.outdoorRotation\n        if g_localPlayer:getCurrentVehicle() = = self then\n            if self.getActiveCamera ~ = nil then\n                local activeCamera = self:getActiveCamera()\n                if activeCamera ~ = nil and activeCamera.isInside and not activeCamera.isPassengerCamera then\n                    maxRotation = steeringWheel.indoorRotation\n                end\n            end\n        end\n\n        local rotation = self.rotatedTime * maxRotation\n\n        if steeringWheel.lastRotation ~ = rotation then\n            steeringWheel.lastRotation = rotation\n\n            setRotation(steeringWheel.node, 0 , rotation * direction, 0 )\n\n            if self.getVehicleCharacter ~ = nil then\n                local vehicleCharacter = self:getVehicleCharacter()\n                if vehicleCharacter ~ = nil then\n                    if vehicleCharacter:getAllowCharacterUpdate() then\n                        vehicleCharacter:setDirty( true )\n                    end\n                end\n            end\n        end\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"updatevehiclephysics",children:"updateVehiclePhysics"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Update vehicle physics"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"updateVehiclePhysics(float axisForward, boolean axisForwardIsAnalog, float axisSide, boolean axisSideIsAnalog, boolean\ndoHandbrake, float dt)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"float"}),(0,s.jsx)(n.th,{children:"axisForward"}),(0,s.jsx)(n.th,{children:"axis forward value"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"boolean"}),(0,s.jsx)(n.td,{children:"axisForwardIsAnalog"}),(0,s.jsx)(n.td,{children:"forward axis is analog"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"float"}),(0,s.jsx)(n.td,{children:"axisSide"}),(0,s.jsx)(n.td,{children:"side axis"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"boolean"}),(0,s.jsx)(n.td,{children:"axisSideIsAnalog"}),(0,s.jsx)(n.td,{children:"side axis is analog"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"boolean"}),(0,s.jsx)(n.td,{children:"doHandbrake"}),(0,s.jsx)(n.td,{children:"do handbrake"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"float"}),(0,s.jsx)(n.td,{children:"dt"}),(0,s.jsx)(n.td,{children:"time since lsat call in ms"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Drivable:updateVehiclePhysics(axisForward, axisSide, doHandbrake, dt)\n    local spec = self.spec_drivable\n\n    axisSide = self:getSteeringDirection() * axisSide\n\n    local acceleration = 0\n\n    if self:getIsMotorStarted() then\n        acceleration = axisForward\n        if math.abs(acceleration) > 0 then\n            self:setCruiseControlState( Drivable.CRUISECONTROL_STATE_OFF)\n        end\n        if spec.cruiseControl.state ~ = Drivable.CRUISECONTROL_STATE_OFF then\n            acceleration = 1\n        end\n    else\n            -- allow braking while the engine is turned off\n                if self:getIsManualDirectionChangeActive() then\n                    if axisForward < 0 then\n                        acceleration = axisForward\n                    end\n                else\n                        if self.movingDirection ~ = 0 and math.sign(axisForward) ~ = self.movingDirection then\n                            acceleration = axisForward\n                        end\n                    end\n                end\n\n                if not self:getCanMotorRun() then\n                    acceleration = math.min(acceleration, 0 )\n\n                    if self:getIsMotorStarted() then\n                        self:stopMotor()\n                    end\n                end\n\n                -- only update steering if a player is in the vehicle\n                    if self.getIsControlled ~ = nil and self:getIsControlled() then\n                        local targetRotatedTime = 0\n                        if self.maxRotTime ~ = nil and self.minRotTime ~ = nil then\n                            if axisSide < 0 then\n                                -- 0 to maxRotTime\n                                targetRotatedTime = math.min( - self.maxRotTime * axisSide, self.maxRotTime)\n                            else\n                                    -- 0 to minRotTime\n                                    targetRotatedTime = math.max( self.minRotTime * axisSide, self.minRotTime)\n                                end\n                            end\n\n                            self.rotatedTime = targetRotatedTime\n                        end\n\n                        if self.finishedFirstUpdate then\n                            if self.spec_wheels ~ = nil and # self.spec_wheels.wheels > 0 then\n                                -- initial update of wheel physics to skip interpolation of brake pedal -> so we directly got full brakes when on slopes\n                                local updateDt = dt\n                                if spec.initialWheelPhysicsUpdate then\n                                    updateDt = 99999\n                                    spec.initialWheelPhysicsUpdate = false\n                                end\n\n                                WheelsUtil.updateWheelsPhysics( self , updateDt, self.lastSpeedReal * self.movingDirection, acceleration, doHandbrake, g_currentMission.missionInfo.stopAndGoBraking)\n                            end\n                        end\n\n                        return acceleration\n                    end\n\n"})})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},28453(e,n,i){i.d(n,{R:()=>l,x:()=>c});var r=i(96540);const s={},t=r.createContext(s);function l(e){const n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);