"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[32795],{9560(e,n,l){l.r(n),l.d(n,{assets:()=>d,contentTitle:()=>r,default:()=>p,frontMatter:()=>s,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"script/Specializations/Baler","title":"Baler","description":"Baler","source":"@site/../docs/script/Specializations/Baler.md","sourceDirName":"script/Specializations","slug":"/script/Specializations/Baler","permalink":"/FS25-Community-LUADOC/script/Specializations/Baler","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"BaleWrapper","permalink":"/FS25-Community-LUADOC/script/Specializations/BaleWrapper"},"next":{"title":"BaseMaterial","permalink":"/FS25-Community-LUADOC/script/Specializations/BaseMaterial"}}');var a=l(74848),t=l(28453);const s={},r=void 0,d={},c=[{value:"Baler",id:"baler",level:2},{value:"actionControllerBaleUnloadEvent",id:"actioncontrollerbaleunloadevent",level:3},{value:"actionEventToggleAutomaticDrop",id:"actioneventtoggleautomaticdrop",level:3},{value:"actionEventToggleSize",id:"actioneventtogglesize",level:3},{value:"actionEventUnloading",id:"actioneventunloading",level:3},{value:"addToPhysics",id:"addtophysics",level:3},{value:"createBale",id:"createbale",level:3},{value:"createDummyBale",id:"createdummybale",level:3},{value:"deleteDummyBale",id:"deletedummybale",level:3},{value:"doCheckSpeedLimit",id:"docheckspeedlimit",level:3},{value:"dropBale",id:"dropbale",level:3},{value:"dropBaleFromPlatform",id:"dropbalefromplatform",level:3},{value:"externalActionEventAutomaticUnloadRegister",id:"externalactioneventautomaticunloadregister",level:3},{value:"externalActionEventAutomaticUnloadUpdate",id:"externalactioneventautomaticunloadupdate",level:3},{value:"externalActionEventBaleTypeRegister",id:"externalactioneventbaletyperegister",level:3},{value:"externalActionEventBaleTypeUpdate",id:"externalactioneventbaletypeupdate",level:3},{value:"externalActionEventUnloadRegister",id:"externalactioneventunloadregister",level:3},{value:"externalActionEventUnloadUpdate",id:"externalactioneventunloadupdate",level:3},{value:"finishBale",id:"finishbale",level:3},{value:"getAlarmTriggerIsActive",id:"getalarmtriggerisactive",level:3},{value:"getAllowDynamicMountFillLevelInfo",id:"getallowdynamicmountfilllevelinfo",level:3},{value:"getBalerBaleOwnerFarmId",id:"getbalerbaleownerfarmid",level:3},{value:"getCanBeSelected",id:"getcanbeselected",level:3},{value:"getCanBeTurnedOn",id:"getcanbeturnedon",level:3},{value:"getCanUnloadUnfinishedBale",id:"getcanunloadunfinishedbale",level:3},{value:"getConsumingLoad",id:"getconsumingload",level:3},{value:"getDefaultSpeedLimit",id:"getdefaultspeedlimit",level:3},{value:"getIsAttachedTo",id:"getisattachedto",level:3},{value:"getIsBaleUnloading",id:"getisbaleunloading",level:3},{value:"getIsFoldAllowed",id:"getisfoldallowed",level:3},{value:"getIsSpeedRotatingPartActive",id:"getisspeedrotatingpartactive",level:3},{value:"getIsWorkAreaActive",id:"getisworkareaactive",level:3},{value:"getRequiresPower",id:"getrequirespower",level:3},{value:"getShowConsumableEmptyWarning",id:"getshowconsumableemptywarning",level:3},{value:"getSpecValueBaleSize",id:"getspecvaluebalesize",level:3},{value:"getSpecValueBaleSizeRound",id:"getspecvaluebalesizeround",level:3},{value:"getSpecValueBaleSizeSquare",id:"getspecvaluebalesizesquare",level:3},{value:"getTimeFromLevel",id:"gettimefromlevel",level:3},{value:"handleUnloadingBaleEvent",id:"handleunloadingbaleevent",level:3},{value:"initSpecialization",id:"initspecialization",level:3},{value:"isUnloadingAllowed",id:"isunloadingallowed",level:3},{value:"loadAlarmTrigger",id:"loadalarmtrigger",level:3},{value:"loadSpecValueBaleSize",id:"loadspecvaluebalesize",level:3},{value:"loadSpecValueBaleSizeRound",id:"loadspecvaluebalesizeround",level:3},{value:"loadSpecValueBaleSizeSquare",id:"loadspecvaluebalesizesquare",level:3},{value:"loadSpeedRotatingPartFromXML",id:"loadspeedrotatingpartfromxml",level:3},{value:"moveBale",id:"movebale",level:3},{value:"moveBales",id:"movebales",level:3},{value:"onChangedFillType",id:"onchangedfilltype",level:3},{value:"onConsumableVariationChanged",id:"onconsumablevariationchanged",level:3},{value:"onDelete",id:"ondelete",level:3},{value:"onEndWorkAreaProcessing",id:"onendworkareaprocessing",level:3},{value:"onFillUnitFillLevelChanged",id:"onfillunitfilllevelchanged",level:3},{value:"onLoad",id:"onload",level:3},{value:"onLoadFinished",id:"onloadfinished",level:3},{value:"onPostLoad",id:"onpostload",level:3},{value:"onReadStream",id:"onreadstream",level:3},{value:"onReadUpdateStream",id:"onreadupdatestream",level:3},{value:"onRegisterActionEvents",id:"onregisteractionevents",level:3},{value:"onRegisterExternalActionEvents",id:"onregisterexternalactionevents",level:3},{value:"onRootVehicleChanged",id:"onrootvehiclechanged",level:3},{value:"onStartWorkAreaProcessing",id:"onstartworkareaprocessing",level:3},{value:"onTurnedOff",id:"onturnedoff",level:3},{value:"onTurnedOn",id:"onturnedon",level:3},{value:"onUpdate",id:"onupdate",level:3},{value:"onUpdateTick",id:"onupdatetick",level:3},{value:"onWriteStream",id:"onwritestream",level:3},{value:"onWriteUpdateStream",id:"onwriteupdatestream",level:3},{value:"prerequisitesPresent",id:"prerequisitespresent",level:3},{value:"processBalerArea",id:"processbalerarea",level:3},{value:"registerBalerXMLPaths",id:"registerbalerxmlpaths",level:3},{value:"registerEventListeners",id:"registereventlisteners",level:3},{value:"registerEvents",id:"registerevents",level:3},{value:"registerFunctions",id:"registerfunctions",level:3},{value:"registerOverwrittenFunctions",id:"registeroverwrittenfunctions",level:3},{value:"removeFromPhysics",id:"removefromphysics",level:3},{value:"saveToXMLFile",id:"savetoxmlfile",level:3},{value:"setBalerAutomaticDrop",id:"setbalerautomaticdrop",level:3},{value:"setBaleTime",id:"setbaletime",level:3},{value:"setBaleTypeIndex",id:"setbaletypeindex",level:3},{value:"setIsUnloadingBale",id:"setisunloadingbale",level:3},{value:"updateActionEvents",id:"updateactionevents",level:3},{value:"updateDummyBale",id:"updatedummybale",level:3}];function o(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h2,{id:"baler",children:"Baler"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"Specialization for balers allowing to pickup swaths and create physical bale objects"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Functions"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#actioncontrollerbaleunloadevent",children:"actionControllerBaleUnloadEvent"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#actioneventtoggleautomaticdrop",children:"actionEventToggleAutomaticDrop"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#actioneventtogglesize",children:"actionEventToggleSize"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#actioneventunloading",children:"actionEventUnloading"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#addtophysics",children:"addToPhysics"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#createbale",children:"createBale"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#createdummybale",children:"createDummyBale"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#deletedummybale",children:"deleteDummyBale"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#docheckspeedlimit",children:"doCheckSpeedLimit"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#dropbale",children:"dropBale"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#dropbalefromplatform",children:"dropBaleFromPlatform"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#externalactioneventautomaticunloadregister",children:"externalActionEventAutomaticUnloadRegister"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#externalactioneventautomaticunloadupdate",children:"externalActionEventAutomaticUnloadUpdate"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#externalactioneventbaletyperegister",children:"externalActionEventBaleTypeRegister"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#externalactioneventbaletypeupdate",children:"externalActionEventBaleTypeUpdate"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#externalactioneventunloadregister",children:"externalActionEventUnloadRegister"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#externalactioneventunloadupdate",children:"externalActionEventUnloadUpdate"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#finishbale",children:"finishBale"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#getalarmtriggerisactive",children:"getAlarmTriggerIsActive"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#getallowdynamicmountfilllevelinfo",children:"getAllowDynamicMountFillLevelInfo"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#getbalerbaleownerfarmid",children:"getBalerBaleOwnerFarmId"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#getcanbeselected",children:"getCanBeSelected"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#getcanbeturnedon",children:"getCanBeTurnedOn"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#getcanunloadunfinishedbale",children:"getCanUnloadUnfinishedBale"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#getconsumingload",children:"getConsumingLoad"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#getdefaultspeedlimit",children:"getDefaultSpeedLimit"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#getisattachedto",children:"getIsAttachedTo"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#getisbaleunloading",children:"getIsBaleUnloading"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#getisfoldallowed",children:"getIsFoldAllowed"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#getisspeedrotatingpartactive",children:"getIsSpeedRotatingPartActive"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#getisworkareaactive",children:"getIsWorkAreaActive"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#getrequirespower",children:"getRequiresPower"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#getshowconsumableemptywarning",children:"getShowConsumableEmptyWarning"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#getspecvaluebalesize",children:"getSpecValueBaleSize"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#getspecvaluebalesizeround",children:"getSpecValueBaleSizeRound"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#getspecvaluebalesizesquare",children:"getSpecValueBaleSizeSquare"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#gettimefromlevel",children:"getTimeFromLevel"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#handleunloadingbaleevent",children:"handleUnloadingBaleEvent"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#initspecialization",children:"initSpecialization"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#isunloadingallowed",children:"isUnloadingAllowed"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#loadalarmtrigger",children:"loadAlarmTrigger"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#loadspecvaluebalesize",children:"loadSpecValueBaleSize"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#loadspecvaluebalesizeround",children:"loadSpecValueBaleSizeRound"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#loadspecvaluebalesizesquare",children:"loadSpecValueBaleSizeSquare"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#loadspeedrotatingpartfromxml",children:"loadSpeedRotatingPartFromXML"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#movebale",children:"moveBale"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#movebales",children:"moveBales"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#onchangedfilltype",children:"onChangedFillType"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#onconsumablevariationchanged",children:"onConsumableVariationChanged"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#ondelete",children:"onDelete"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#onendworkareaprocessing",children:"onEndWorkAreaProcessing"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#onfillunitfilllevelchanged",children:"onFillUnitFillLevelChanged"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#onload",children:"onLoad"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#onloadfinished",children:"onLoadFinished"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#onpostload",children:"onPostLoad"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#onreadstream",children:"onReadStream"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#onreadupdatestream",children:"onReadUpdateStream"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#onregisteractionevents",children:"onRegisterActionEvents"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#onregisterexternalactionevents",children:"onRegisterExternalActionEvents"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#onrootvehiclechanged",children:"onRootVehicleChanged"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#onstartworkareaprocessing",children:"onStartWorkAreaProcessing"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#onturnedoff",children:"onTurnedOff"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#onturnedon",children:"onTurnedOn"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#onupdate",children:"onUpdate"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#onupdatetick",children:"onUpdateTick"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#onwritestream",children:"onWriteStream"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#onwriteupdatestream",children:"onWriteUpdateStream"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#prerequisitespresent",children:"prerequisitesPresent"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#processbalerarea",children:"processBalerArea"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#registerbalerxmlpaths",children:"registerBalerXMLPaths"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#registereventlisteners",children:"registerEventListeners"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#registerevents",children:"registerEvents"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#registerfunctions",children:"registerFunctions"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#registeroverwrittenfunctions",children:"registerOverwrittenFunctions"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#removefromphysics",children:"removeFromPhysics"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#savetoxmlfile",children:"saveToXMLFile"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#setbalerautomaticdrop",children:"setBalerAutomaticDrop"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#setbaletime",children:"setBaleTime"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#setbaletypeindex",children:"setBaleTypeIndex"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#setisunloadingbale",children:"setIsUnloadingBale"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#updateactionevents",children:"updateActionEvents"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#updatedummybale",children:"updateDummyBale"})}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"actioncontrollerbaleunloadevent",children:"actionControllerBaleUnloadEvent"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"actionControllerBaleUnloadEvent()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,a.jsx)(n.table,{children:(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"direction"})]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Baler:actionControllerBaleUnloadEvent(direction)\n    if direction < 0 then\n        local spec = self.spec_baler\n        if self:isUnloadingAllowed() then\n            if spec.allowsBaleUnloading then\n                if spec.unloadingState = = Baler.UNLOADING_CLOSED then\n                    if #spec.bales > 0 then\n                        self:setIsUnloadingBale( true )\n                    end\n                end\n            end\n        end\n    end\n\n    return true\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"actioneventtoggleautomaticdrop",children:"actionEventToggleAutomaticDrop"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"actionEventToggleAutomaticDrop()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"self"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"actionName"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"inputValue"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"callbackState"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"isAnalog"})]})]})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Baler.actionEventToggleAutomaticDrop( self , actionName, inputValue, callbackState, isAnalog)\n    self:setBalerAutomaticDrop()\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"actioneventtogglesize",children:"actionEventToggleSize"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"actionEventToggleSize()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"self"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"actionName"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"inputValue"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"callbackState"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"isAnalog"})]})]})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Baler.actionEventToggleSize( self , actionName, inputValue, callbackState, isAnalog)\n    local spec = self.spec_baler\n\n    local newIndex = spec.preSelectedBaleTypeIndex + 1\n    if newIndex > #spec.baleTypes then\n        newIndex = 1\n    end\n\n    self:setBaleTypeIndex(newIndex)\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"actioneventunloading",children:"actionEventUnloading"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"actionEventUnloading()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"self"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"actionName"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"inputValue"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"callbackState"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"isAnalog"})]})]})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Baler.actionEventUnloading( self , actionName, inputValue, callbackState, isAnalog)\n    local spec = self.spec_baler\n    if not spec.hasPlatform then\n        self:handleUnloadingBaleEvent()\n    else\n            if self:getCanUnloadUnfinishedBale() and not spec.platformReadyToDrop then\n                self:handleUnloadingBaleEvent()\n            else\n                    self:dropBaleFromPlatform( false )\n                end\n            end\n        end\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"addtophysics",children:"addToPhysics"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"Add to physics"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"addToPhysics()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,a.jsx)(n.table,{children:(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,a.jsx)(n.table,{children:(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"success"}),(0,a.jsx)(n.th,{children:"success"})]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Baler:addToPhysics(superFunc)\n    if not superFunc( self ) then\n        return false\n    end\n\n    local spec = self.spec_baler\n    local baleTypeDef = spec.baleTypes[spec.currentBaleTypeIndex]\n\n    for baleIndex, bale in pairs(spec.bales) do\n        local baleObject = bale.baleObject\n        if baleObject ~ = nil then\n            bale.baleObject:addToPhysics()\n\n            if not spec.hasUnloadingAnimation then\n                local constr = JointConstructor.new()\n                constr:setActors(baleTypeDef.baleNodeComponent, baleObject.nodeId)\n                constr:setJointTransforms(bale.baleJointNode, baleObject.nodeId)\n                for i = 1 , 3 do\n                    constr:setRotationLimit(i - 1 , 0 , 0 )\n                    constr:setTranslationLimit(i - 1 , true , 0 , 0 )\n                end\n                constr:setEnableCollision( false )\n                local baleJointIndex = constr:finalize()\n\n                bale.baleJointIndex = baleJointIndex\n                bale.baleObject = baleObject\n\n                for otherBaleIndex, otherBale in pairs(spec.bales) do\n                    if otherBaleIndex ~ = baleIndex then\n                        setPairCollision(otherBale.baleObject.nodeId, baleObject.nodeId, false )\n                    end\n                end\n            end\n        end\n    end\n\n    return true\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"createbale",children:"createBale"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"createBale()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"baleFillType"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"fillLevel"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"baleServerId"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"baleTime"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"xmlFilename"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"ownerFarmId"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"variationId"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"loadFromSavegame"})]})]})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:'function Baler:createBale(baleFillType, fillLevel, baleServerId, baleTime, xmlFilename, ownerFarmId, variationId, loadFromSavegame)\n    local spec = self.spec_baler\n\n    if spec.knotingAnimation ~ = nil and not loadFromSavegame then\n        self:playAnimation(spec.knotingAnimation, spec.knotingAnimationSpeed, nil , true )\n    end\n\n    local isValid = false\n    local baleTypeDef = spec.baleTypes[spec.currentBaleTypeIndex]\n\n    -- only delete dummy bale if dummy bale is converted to physical one, not if loaded from savegame to a specific time\n        if baleTime = = nil then\n            self:deleteDummyBale(spec.dummyBale)\n        end\n\n        local bale = { }\n        bale.filename = xmlFilename or spec.currentBaleXMLFilename\n        bale.time = baleTime\n        if bale.time = = nil and spec.baleAnimLength ~ = nil then\n            bale.time = ((baleTypeDef.length * 0.5 ) / spec.baleAnimLength)\n        end\n\n        bale.fillType = baleFillType\n        bale.fillLevel = fillLevel\n\n        if spec.hasUnloadingAnimation then\n            if not loadFromSavegame then\n                self:updateConsumable( Baler.CONSUMABLE_TYPE_NAME_ROUND, - baleTypeDef.consumableUsage)\n            end\n\n            if self.isServer then\n                local baleObject = Bale.new( self.isServer, self.isClient)\n                local x, y, z = getWorldTranslation(baleTypeDef.baleRootNode)\n                local rx, ry, rz = getWorldRotation(baleTypeDef.baleRootNode)\n                if baleObject:loadFromConfigXML(bale.filename, x, y, z, rx, ry, rz) then\n                    baleObject:setFillType(baleFillType)\n                    baleObject:setFillLevel(fillLevel)\n                    baleObject:setVariationId(variationId or spec.lastBaleVariationId or baleTypeDef.defaultBaleVariationId)\n\n                    if ownerFarmId ~ = nil then\n                        baleObject:setOwnerFarmId(ownerFarmId, true )\n                    else\n                            baleObject:setOwnerFarmId( self:getBalerBaleOwnerFarmId(x, z), true )\n                        end\n\n                        baleObject:register()\n\n                        baleObject:mountKinematic( self , baleTypeDef.baleRootNode, 0 , 0 , 0 , 0 , 0 , 0 )\n\n                        bale.baleObject = baleObject\n                        isValid = true\n                    end\n                else\n                        if baleServerId ~ = nil then\n                            local baleObject = NetworkUtil.getObject(baleServerId)\n                            if baleObject ~ = nil then\n                                bale.baleServerId = baleServerId\n                                baleObject:mountKinematic( self , baleTypeDef.baleRootNode, 0 , 0 , 0 , 0 , 0 , 0 )\n                            else\n                                    spec.baleToMount = { baleServerId = baleServerId, jointNode = baleTypeDef.baleRootNode, baleInfo = bale }\n                                end\n\n                                isValid = true\n                            end\n                        end\n                    else\n                            if not loadFromSavegame then\n                                self:updateConsumable( Baler.CONSUMABLE_TYPE_NAME_SQUARE, - baleTypeDef.consumableUsage)\n                            end\n                        end\n\n                        if self.isServer and not spec.hasUnloadingAnimation then\n                            local x, y, z = getWorldTranslation(baleTypeDef.baleRootNode)\n                            local rx, ry, rz = getWorldRotation(baleTypeDef.baleRootNode)\n\n                            local baleJointNode = createTransformGroup( "BaleJointTG" )\n                            link(baleTypeDef.baleRootNode, baleJointNode)\n\n                            if bale.time ~ = nil then\n                                x, y, z, rx, ry, rz = spec.baleAnimCurve:get(bale.time )\n                                setTranslation(baleJointNode, x, y, z)\n                                setRotation(baleJointNode, rx, ry, rz)\n\n                                x, y, z = getWorldTranslation(baleJointNode)\n                                rx, ry, rz = getWorldRotation(baleJointNode)\n                            else\n                                    setTranslation(baleJointNode, 0 , 0 , 0 )\n                                    setRotation(baleJointNode, 0 , 0 , 0 )\n                                end\n\n                                local baleObject = Bale.new( self.isServer, self.isClient)\n                                if baleObject:loadFromConfigXML(bale.filename, x, y, z, rx, ry, rz) then\n                                    baleObject:setFillType(baleFillType)\n                                    baleObject:setFillLevel(fillLevel)\n                                    baleObject:setVariationId(variationId or spec.lastBaleVariationId or baleTypeDef.defaultBaleVariationId)\n\n                                    if ownerFarmId ~ = nil then\n                                        baleObject:setOwnerFarmId(ownerFarmId, true )\n                                    else\n                                            baleObject:setOwnerFarmId( self:getBalerBaleOwnerFarmId(x, z), true )\n                                        end\n\n                                        baleObject:register()\n                                        baleObject:setCanBeSold( false )\n                                        baleObject:setNeedsSaving( false )\n\n                                        local constr = JointConstructor.new()\n                                        constr:setActors(baleTypeDef.baleNodeComponent, baleObject.nodeId)\n                                        constr:setJointTransforms(baleJointNode, baleObject.nodeId)\n                                        for i = 1 , 3 do\n                                            constr:setRotationLimit(i - 1 , 0 , 0 )\n                                            constr:setTranslationLimit(i - 1 , true , 0 , 0 )\n                                        end\n                                        constr:setEnableCollision( false )\n                                        local baleJointIndex = constr:finalize()\n\n                                        bale.baleJointNode = baleJointNode\n                                        bale.baleJointIndex = baleJointIndex\n                                        bale.baleObject = baleObject\n\n                                        baleObject.baleJointIndex = baleJointIndex\n\n                                        for i = 1 , #spec.bales do\n                                            local otherBale = spec.bales[i]\n                                            setPairCollision(otherBale.baleObject.nodeId, baleObject.nodeId, false )\n                                        end\n\n                                        if not spec.baleAnimEnableCollision then\n                                            setCollisionFilterMask(baleObject.nodeId, 0 )\n                                        end\n\n                                        isValid = true\n                                    end\n                                elseif not self.isServer and not spec.hasUnloadingAnimation then\n                                        isValid = true\n                                    end\n\n                                    if isValid then\n                                        table.insert(spec.bales, bale)\n                                    end\n\n                                    return isValid\n                                end\n\n'})}),"\n",(0,a.jsx)(n.h3,{id:"createdummybale",children:"createDummyBale"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"createDummyBale()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"dummyBaleData"})]})}),(0,a.jsx)(n.tbody,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"fillTypeIndex"})]})})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Baler:createDummyBale(dummyBaleData, fillTypeIndex)\n    local spec = self.spec_baler\n\n    if spec.currentBaleXMLFilename ~ = nil then\n        local baleTypeDef = spec.baleTypes[spec.currentBaleTypeIndex]\n\n        local baleId, sharedLoadRequestId = Bale.createDummyBale(spec.currentBaleXMLFilename, fillTypeIndex, baleTypeDef.chamberBaleVariationId)\n        local linkNode = dummyBaleData.linkNode or baleTypeDef.baleNode\n        link(linkNode, baleId)\n\n        dummyBaleData.currentBale = baleId\n        dummyBaleData.baleTypeDef = baleTypeDef\n        dummyBaleData.currentBaleFillType = fillTypeIndex\n        dummyBaleData.sharedLoadRequestId = sharedLoadRequestId\n    end\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"deletedummybale",children:"deleteDummyBale"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"deleteDummyBale()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,a.jsx)(n.table,{children:(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"dummyBaleData"})]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Baler:deleteDummyBale(dummyBaleData)\n    if dummyBaleData ~ = nil then\n        if dummyBaleData.currentBale ~ = nil then\n            delete(dummyBaleData.currentBale)\n            dummyBaleData.currentBale = nil\n        end\n        if dummyBaleData.sharedLoadRequestId ~ = nil then\n            g_i3DManager:releaseSharedI3DFile(dummyBaleData.sharedLoadRequestId)\n            dummyBaleData.sharedLoadRequestId = nil\n        end\n    end\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"docheckspeedlimit",children:"doCheckSpeedLimit"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"doCheckSpeedLimit()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,a.jsx)(n.table,{children:(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Baler:doCheckSpeedLimit(superFunc)\n    return superFunc( self ) or( self:getIsTurnedOn() and self:getIsLowered())\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"dropbale",children:"dropBale"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"dropBale()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,a.jsx)(n.table,{children:(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"baleIndex"})]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:'function Baler:dropBale(baleIndex)\n    local spec = self.spec_baler\n    local bale = spec.bales[baleIndex]\n\n    if bale.baleObject ~ = nil then\n        local mission = g_missionManager:getMissionByUniqueId(spec.workAreaParameters.lastMissionUniqueId)\n        if mission ~ = nil then\n            if mission.addBale ~ = nil then\n                mission:addBale(bale.baleObject)\n            end\n        end\n    end\n\n    if self.isServer then\n        local baleObject = bale.baleObject\n        if bale.baleJointIndex ~ = nil then\n            removeJoint(bale.baleJointIndex)\n            delete(bale.baleJointNode)\n        else\n                baleObject:unmountKinematic()\n            end\n\n            if not spec.baleAnimEnableCollision then\n                setCollisionFilterMask(baleObject.nodeId, CollisionPreset.BALE.mask)\n            end\n\n            for i = 1 , #spec.bales do\n                if i ~ = baleIndex then\n                    local otherBale = spec.bales[i]\n                    setPairCollision(otherBale.baleObject.nodeId, baleObject.nodeId, true )\n                end\n            end\n\n            if spec.lastBaleFillLevel ~ = nil and #spec.bales = = 1 then\n                baleObject:setFillLevel(spec.lastBaleFillLevel)\n                spec.lastBaleFillLevel = nil\n            end\n\n            baleObject.baleJointIndex = nil\n            baleObject:setCanBeSold( true )\n            baleObject:setNeedsSaving( true )\n\n            if baleObject.nodeId ~ = nil and baleObject.nodeId ~ = 0 then\n                local baleTypeDef = spec.baleTypes[spec.currentBaleTypeIndex]\n\n                -- release bale\n                local x,y,z = getWorldTranslation(baleObject.nodeId)\n                local vx,vy,vz = getVelocityAtWorldPos(baleTypeDef.baleNodeComponent or self.components[ 1 ].node, x,y,z)\n                setLinearVelocity(baleObject.nodeId, vx,vy,vz)\n\n                g_farmManager:updateFarmStats( self:getBalerBaleOwnerFarmId(x, z), "baleCount" , 1 )\n            end\n        else\n                if spec.hasUnloadingAnimation then\n                    -- check if it is still available(it could already be picked up by a wrapper and be deleted)\n                        local baleObject = NetworkUtil.getObject(bale.baleServerId)\n                        if baleObject ~ = nil then\n                            baleObject:unmountKinematic()\n                        end\n                    end\n                end\n\n                table.remove(spec.bales, baleIndex)\n\n                if spec.hasPlatform then\n                    if not spec.platformReadyToDrop then\n                        spec.platformReadyToDrop = true\n                    end\n\n                    if spec.hasDynamicMountPlatform then\n                        -- 5 frames delay to give the bale time to be added to physics and change from kinematic to dynamic\n                        spec.platformMountDelay = 5\n                    end\n                end\n            end\n\n'})}),"\n",(0,a.jsx)(n.h3,{id:"dropbalefromplatform",children:"dropBaleFromPlatform"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"dropBaleFromPlatform()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"waitForNextBale"})]})}),(0,a.jsx)(n.tbody,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"noEventSend"})]})})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Baler:dropBaleFromPlatform(waitForNextBale, noEventSend)\n    local spec = self.spec_baler\n    if spec.platformReadyToDrop then\n        self:setAnimationTime(spec.platformAnimation, 0 , false )\n        self:playAnimation(spec.platformAnimation, 1 , self:getAnimationTime(spec.platformAnimation), true )\n        if waitForNextBale = = true then\n            self:setAnimationStopTime(spec.platformAnimation, spec.platformAnimationNextBaleTime)\n        end\n        spec.platformReadyToDrop = false\n        spec.platformDropInProgress = true\n\n        -- unmount bales on platform\n        if self.isServer then\n            if spec.hasDynamicMountPlatform then\n                self:forceUnmountDynamicMountedObjects()\n            end\n        end\n    end\n\n    BalerDropFromPlatformEvent.sendEvent( self , waitForNextBale, noEventSend)\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"externalactioneventautomaticunloadregister",children:"externalActionEventAutomaticUnloadRegister"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"externalActionEventAutomaticUnloadRegister()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"data"})]})}),(0,a.jsx)(n.tbody,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"vehicle"})]})})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Baler.externalActionEventAutomaticUnloadRegister(data, vehicle)\n    local function actionEvent(_, actionName, inputValue, callbackState, isAnalog)\n        Baler.actionEventToggleAutomaticDrop(vehicle, actionName, inputValue, callbackState, isAnalog)\n    end\n\n    local _\n    _, data.actionEventId = g_inputBinding:registerActionEvent(InputAction.IMPLEMENT_EXTRA4, data, actionEvent, false , true , false , true )\n    g_inputBinding:setActionEventTextPriority(data.actionEventId, GS_PRIO_HIGH)\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"externalactioneventautomaticunloadupdate",children:"externalActionEventAutomaticUnloadUpdate"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"externalActionEventAutomaticUnloadUpdate()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"data"})]})}),(0,a.jsx)(n.tbody,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"vehicle"})]})})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Baler.externalActionEventAutomaticUnloadUpdate(data, vehicle)\n    local spec = vehicle.spec_baler\n\n    local automaticDropState = spec.automaticDrop\n    if spec.hasPlatform then\n        automaticDropState = spec.platformAutomaticDrop\n    end\n    g_inputBinding:setActionEventText(data.actionEventId, automaticDropState and spec.toggleAutomaticDropTextNeg or spec.toggleAutomaticDropTextPos)\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"externalactioneventbaletyperegister",children:"externalActionEventBaleTypeRegister"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"externalActionEventBaleTypeRegister()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"data"})]})}),(0,a.jsx)(n.tbody,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"vehicle"})]})})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Baler.externalActionEventBaleTypeRegister(data, vehicle)\n    local function actionEvent(_, actionName, inputValue, callbackState, isAnalog)\n        Baler.actionEventToggleSize(vehicle, actionName, inputValue, callbackState, isAnalog)\n    end\n\n    local _\n    _, data.actionEventId = g_inputBinding:registerActionEvent(InputAction.TOGGLE_BALE_TYPES, data, actionEvent, false , true , false , true )\n    g_inputBinding:setActionEventTextPriority(data.actionEventId, GS_PRIO_HIGH)\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"externalactioneventbaletypeupdate",children:"externalActionEventBaleTypeUpdate"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"externalActionEventBaleTypeUpdate()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"data"})]})}),(0,a.jsx)(n.tbody,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"vehicle"})]})})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Baler.externalActionEventBaleTypeUpdate(data, vehicle)\n    local spec = vehicle.spec_baler\n    local baleTypeDef = spec.baleTypes[spec.preSelectedBaleTypeIndex]\n    local baleSize\n    if spec.hasUnloadingAnimation then\n        baleSize = baleTypeDef.diameter\n    else\n            baleSize = baleTypeDef.length\n        end\n\n        g_inputBinding:setActionEventText(data.actionEventId, spec.changeBaleTypeText:format(baleSize * 100 ))\n    end\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"externalactioneventunloadregister",children:"externalActionEventUnloadRegister"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"externalActionEventUnloadRegister()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"data"})]})}),(0,a.jsx)(n.tbody,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"vehicle"})]})})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Baler.externalActionEventUnloadRegister(data, vehicle)\n    local function actionEvent(_, actionName, inputValue, callbackState, isAnalog)\n        if not vehicle.spec_baler.automaticDrop then\n            Baler.actionEventUnloading(vehicle, actionName, inputValue, callbackState, isAnalog)\n        end\n    end\n\n    local _\n    _, data.actionEventId = g_inputBinding:registerActionEvent(InputAction.IMPLEMENT_EXTRA3, data, actionEvent, false , true , false , true )\n    g_inputBinding:setActionEventTextPriority(data.actionEventId, GS_PRIO_HIGH)\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"externalactioneventunloadupdate",children:"externalActionEventUnloadUpdate"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"externalActionEventUnloadUpdate()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"data"})]})}),(0,a.jsx)(n.tbody,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"vehicle"})]})})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Baler.externalActionEventUnloadUpdate(data, vehicle)\n    local spec = vehicle.spec_baler\n\n    local showAction = false\n\n    if vehicle:isUnloadingAllowed() then\n        if spec.hasUnloadingAnimation or spec.allowsBaleUnloading then\n            if spec.unloadingState = = Baler.UNLOADING_CLOSED then\n                if vehicle:getCanUnloadUnfinishedBale() then\n                    g_inputBinding:setActionEventText(data.actionEventId, spec.texts.unloadUnfinishedBale)\n                    showAction = true\n                end\n                if #spec.bales > 0 then\n                    g_inputBinding:setActionEventText(data.actionEventId, spec.texts.unloadBaler)\n                    showAction = true\n                end\n            elseif spec.unloadingState = = Baler.UNLOADING_OPEN then\n                    if spec.hasUnloadingAnimation then\n                        g_inputBinding:setActionEventText(data.actionEventId, spec.texts.closeBack)\n                        showAction = true\n                    end\n                end\n            end\n        end\n\n        if spec.platformReadyToDrop then\n            g_inputBinding:setActionEventText(data.actionEventId, spec.texts.unloadBaler)\n            showAction = true\n        end\n\n        g_inputBinding:setActionEventActive(data.actionEventId, showAction)\n    end\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"finishbale",children:"finishBale"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"finishBale()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:'function Baler:finishBale()\n    local spec = self.spec_baler\n    if spec.baleTypes ~ = nil then\n        local fillTypeIndex = self:getFillUnitFillType(spec.fillUnitIndex)\n        if not spec.hasUnloadingAnimation then\n            self:addFillUnitFillLevel( self:getOwnerFarmId(), spec.fillUnitIndex, - math.huge, fillTypeIndex, ToolType.UNDEFINED)\n            spec.buffer.unloadingStarted = false\n\n            for fillType, _ in pairs(spec.pickupFillTypes) do\n                spec.pickupFillTypes[fillType] = 0\n            end\n\n            if self:createBale(fillTypeIndex, self:getFillUnitCapacity(spec.fillUnitIndex)) then\n                local bale = spec.bales[#spec.bales]\n\n                -- note:spec.bales[numBales] can not be accessed anymore since the bale might be dropped already\n                g_server:broadcastEvent( BalerCreateBaleEvent.new( self , fillTypeIndex, bale.time ), nil , nil , self )\n\n                if self:getFillUnitFillLevel(spec.fillUnitIndex) = = 0 then\n                    if spec.preSelectedBaleTypeIndex ~ = spec.currentBaleTypeIndex then\n                        self:setBaleTypeIndex(spec.preSelectedBaleTypeIndex, true )\n                    end\n                end\n            else\n                    Logging.error( "Failed to create bale!" )\n                end\n            else\n                    if self:createBale(fillTypeIndex, self:getFillUnitCapacity(spec.fillUnitIndex)) then\n                        local bale = spec.bales[#spec.bales]\n                        g_server:broadcastEvent( BalerCreateBaleEvent.new( self , fillTypeIndex, 0 , NetworkUtil.getObjectId(bale.baleObject)), nil , nil , self )\n                    else\n                            Logging.error( "Failed to create bale!" )\n                        end\n                    end\n                end\n            end\n\n'})}),"\n",(0,a.jsx)(n.h3,{id:"getalarmtriggerisactive",children:"getAlarmTriggerIsActive"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"getAlarmTriggerIsActive()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"superFunc"})]})}),(0,a.jsx)(n.tbody,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"alarmTrigger"})]})})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Baler:getAlarmTriggerIsActive(superFunc, alarmTrigger)\n    local ret = superFunc( self , alarmTrigger)\n\n    if alarmTrigger.needsBaleLoaded then\n        if self.spec_baler ~ = nil then\n            if # self.spec_baler.bales = = 0 then\n                return false\n            end\n        end\n    end\n\n    return ret\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"getallowdynamicmountfilllevelinfo",children:"getAllowDynamicMountFillLevelInfo"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"getAllowDynamicMountFillLevelInfo()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,a.jsx)(n.table,{children:(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Baler:getAllowDynamicMountFillLevelInfo(superFunc)\n    return false\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"getbalerbaleownerfarmid",children:"getBalerBaleOwnerFarmId"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"Returns the current owner of the created bales"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"getBalerBaleOwnerFarmId()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"x"})]})}),(0,a.jsx)(n.tbody,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"z"})]})})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Baler:getBalerBaleOwnerFarmId(x, z)\n    local spec = self.spec_baler\n    local ownerFarmId\n    if spec.useDropLandOwnershipForBales then\n        local farmlandId = g_farmlandManager:getFarmlandIdAtWorldPosition(x, z)\n        ownerFarmId = g_farmlandManager:getFarmlandOwner(farmlandId)\n    else\n            ownerFarmId = self:getLastTouchedFarmlandFarmId()\n        end\n\n        if ownerFarmId = = FarmManager.SPECTATOR_FARM_ID then\n            ownerFarmId = self:getOwnerFarmId() -- in case of working on mission fields or the baler is dropped on a not buyable land\n        end\n\n        return ownerFarmId\n    end\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"getcanbeselected",children:"getCanBeSelected"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"getCanBeSelected()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,a.jsx)(n.table,{children:(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Baler:getCanBeSelected(superFunc)\n    return true\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"getcanbeturnedon",children:"getCanBeTurnedOn"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"getCanBeTurnedOn()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,a.jsx)(n.table,{children:(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Baler:getCanBeTurnedOn(superFunc)\n    local spec = self.spec_baler\n\n    if spec.isBaleUnloading then\n        return false\n    end\n\n    return superFunc( self )\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"getcanunloadunfinishedbale",children:"getCanUnloadUnfinishedBale"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"getCanUnloadUnfinishedBale()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Baler:getCanUnloadUnfinishedBale()\n    local spec = self.spec_baler\n\n    local fillLevel = self:getFillUnitFillLevel(spec.fillUnitIndex)\n    if spec.buffer.fillUnitIndex ~ = nil then\n        fillLevel = fillLevel + self:getFillUnitFillLevel(spec.buffer.fillUnitIndex)\n    end\n\n    return spec.canUnloadUnfinishedBale and fillLevel > spec.unfinishedBaleThreshold\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"getconsumingload",children:"getConsumingLoad"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"getConsumingLoad()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,a.jsx)(n.table,{children:(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Baler:getConsumingLoad(superFunc)\n    local value, count = superFunc( self )\n\n    local spec = self.spec_baler\n    local loadPercentage = spec.pickUpLitersBuffer:get( 1000 ) / spec.maxPickupLitersPerSecond\n\n    return value + loadPercentage, count + 1\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"getdefaultspeedlimit",children:"getDefaultSpeedLimit"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"getDefaultSpeedLimit()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Baler.getDefaultSpeedLimit()\n    return 25\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"getisattachedto",children:"getIsAttachedTo"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"getIsAttachedTo()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"superFunc"})]})}),(0,a.jsx)(n.tbody,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"vehicle"})]})})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Baler:getIsAttachedTo(superFunc, vehicle)\n    if superFunc( self , vehicle) then\n        return true\n    end\n\n    local spec = self.spec_baler\n    for i = 1 , #spec.bales do\n        if spec.bales[i].baleObject = = vehicle then\n            return true\n        end\n    end\n\n    return false\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"getisbaleunloading",children:"getIsBaleUnloading"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"getIsBaleUnloading()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Baler:getIsBaleUnloading()\n    return self.spec_baler.isBaleUnloading\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"getisfoldallowed",children:"getIsFoldAllowed"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"getIsFoldAllowed()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"superFunc"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"direction"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"onAiTurnOn"})]})]})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Baler:getIsFoldAllowed(superFunc, direction, onAiTurnOn)\n    local spec = self.spec_baler\n\n    if #spec.bales > 0 and self:getFillUnitFillLevel(spec.fillUnitIndex) > spec.baleFoldThreshold then\n        return false , spec.texts.warningFoldingBaleLoaded\n    end\n\n    if #spec.bales > 1 then\n        return false , spec.texts.warningFoldingBaleLoaded\n    end\n\n    if self:getIsTurnedOn() then\n        return false , spec.texts.warningFoldingTurnedOn\n    end\n\n    if spec.hasPlatform then\n        if spec.platformReadyToDrop or spec.platformDropInProgress then\n            return false , spec.texts.warningFoldingBaleLoaded\n        end\n    end\n\n    return superFunc( self , direction, onAiTurnOn)\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"getisspeedrotatingpartactive",children:"getIsSpeedRotatingPartActive"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"getIsSpeedRotatingPartActive()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"superFunc"})]})}),(0,a.jsx)(n.tbody,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"speedRotatingPart"})]})})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Baler:getIsSpeedRotatingPartActive(superFunc, speedRotatingPart)\n    local spec = self.spec_baler\n\n    if speedRotatingPart.rotateOnlyIfFillLevelIncreased ~ = nil then\n        if speedRotatingPart.rotateOnlyIfFillLevelIncreased and spec.lastAreaBiggerZeroTime = = 0 then\n            return false\n        end\n    end\n\n    return superFunc( self , speedRotatingPart)\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"getisworkareaactive",children:"getIsWorkAreaActive"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"getIsWorkAreaActive()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"superFunc"})]})}),(0,a.jsx)(n.tbody,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"workArea"})]})})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Baler:getIsWorkAreaActive(superFunc, workArea)\n    local spec = self.spec_baler\n\n    if not g_currentMission.slotSystem:getCanAddLimitedObjects(SlotSystem.LIMITED_OBJECT_BALE, 1 ) and self:getIsTurnedOn() then\n        return false\n    end\n\n    if self:getFillUnitFreeCapacity(spec.buffer.fillUnitIndex or spec.fillUnitIndex) = = 0 then\n        return false\n    end\n\n    if self.allowPickingUp ~ = nil and not self:allowPickingUp() then\n        return false\n    end\n\n    if not self:getConsumableIsAvailable( Baler.CONSUMABLE_TYPE_NAME_ROUND)\n        or not self:getConsumableIsAvailable( Baler.CONSUMABLE_TYPE_NAME_SQUARE) then\n        return false\n    end\n\n    if spec.hasUnloadingAnimation and not spec.nonStopBaling then\n        if #spec.bales > 0 or spec.unloadingState ~ = Baler.UNLOADING_CLOSED then\n            return false\n        end\n    end\n\n    return superFunc( self , workArea)\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"getrequirespower",children:"getRequiresPower"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"getRequiresPower()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,a.jsx)(n.table,{children:(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Baler:getRequiresPower(superFunc)\n    local spec = self.spec_baler\n\n    if spec.nonStopBaling then\n        local bufferFillLevelPercentage = self:getFillUnitFillLevelPercentage(spec.buffer.fillUnitIndex)\n        if bufferFillLevelPercentage > spec.buffer.overloadingStartFillLevelPct then\n            return true\n        end\n\n        if spec.buffer.unloadingStarted then\n            return true\n        end\n    end\n\n    if spec.unloadingState ~ = Baler.UNLOADING_CLOSED then\n        return true\n    end\n\n    if self:getIsTurnedOn() then\n        return true\n    end\n\n    return superFunc( self )\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"getshowconsumableemptywarning",children:"getShowConsumableEmptyWarning"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"getShowConsumableEmptyWarning()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"superFunc"})]})}),(0,a.jsx)(n.tbody,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"typeName"})]})})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Baler:getShowConsumableEmptyWarning(superFunc, typeName)\n    if typeName = = Baler.CONSUMABLE_TYPE_NAME_ROUND or typeName = = Baler.CONSUMABLE_TYPE_NAME_SQUARE then\n        return self:getIsTurnedOn() and superFunc( self , typeName)\n    end\n\n    return superFunc( self , typeName)\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"getspecvaluebalesize",children:"getSpecValueBaleSize"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"getSpecValueBaleSize()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"storeItem"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"realItem"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"configurations"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"saleItem"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"returnValues"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"returnRange"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"roundBale"})]})]})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:'function Baler.getSpecValueBaleSize(storeItem, realItem, configurations, saleItem, returnValues, returnRange, roundBale)\n    local baleSizeAttributes = roundBale and storeItem.specs.balerBaleSizeRound or storeItem.specs.balerBaleSizeSquare\n    if baleSizeAttributes ~ = nil then\n        local minValue = baleSizeAttributes.isRoundBaler and baleSizeAttributes.minDiameter or baleSizeAttributes.minLength\n        local maxValue = baleSizeAttributes.isRoundBaler and baleSizeAttributes.maxDiameter or baleSizeAttributes.maxLength\n\n        if returnValues = = nil or not returnValues then\n            local unit = g_i18n:getText( "unit_cmShort" )\n            local size\n            if maxValue ~ = minValue then\n                size = string.format( "%d%s-%d%s" , minValue * 100 , unit, maxValue * 100 , unit)\n            else\n                    size = string.format( "%d%s" , minValue * 100 , unit)\n                end\n\n                return size\n            else\n                    if returnRange = = true and maxValue ~ = minValue then\n                        return minValue * 100 , maxValue * 100 , g_i18n:getText( "unit_cmShort" )\n                    else\n                            return minValue * 100 , g_i18n:getText( "unit_cmShort" )\n                        end\n                    end\n                else\n                        if returnValues and returnRange then\n                            return 0 , 0 , ""\n                        elseif returnValues then\n                                return 0 , ""\n                            else\n                                    return ""\n                                end\n                            end\n                        end\n\n'})}),"\n",(0,a.jsx)(n.h3,{id:"getspecvaluebalesizeround",children:"getSpecValueBaleSizeRound"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"getSpecValueBaleSizeRound()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"storeItem"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"realItem"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"configurations"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"saleItem"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"returnValues"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"returnRange"})]})]})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Baler.getSpecValueBaleSizeRound(storeItem, realItem, configurations, saleItem, returnValues, returnRange)\n    if storeItem.specs.balerBaleSizeRound ~ = nil then\n        if storeItem.specs.balerBaleSizeRound.isRoundBaler then\n            return Baler.getSpecValueBaleSize(storeItem, realItem, configurations, saleItem, returnValues, returnRange, true )\n        end\n    end\n\n    return nil\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"getspecvaluebalesizesquare",children:"getSpecValueBaleSizeSquare"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"getSpecValueBaleSizeSquare()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"storeItem"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"realItem"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"configurations"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"saleItem"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"returnValues"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"returnRange"})]})]})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Baler.getSpecValueBaleSizeSquare(storeItem, realItem, configurations, saleItem, returnValues, returnRange)\n    if storeItem.specs.balerBaleSizeSquare ~ = nil then\n        if not storeItem.specs.balerBaleSizeSquare.isRoundBaler then\n            return Baler.getSpecValueBaleSize(storeItem, realItem, configurations, saleItem, returnValues, returnRange, false )\n        end\n    end\n\n    return nil\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"gettimefromlevel",children:"getTimeFromLevel"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"getTimeFromLevel()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,a.jsx)(n.table,{children:(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"level"})]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Baler:getTimeFromLevel(level)\n    local spec = self.spec_baler\n\n    -- level = capacity -> time = firstBaleMarker\n    -- level = 0 -> time = 0\n    if spec.currentBaleTypeDefinition ~ = nil then\n        local baleLength = spec.currentBaleTypeDefinition.length + spec.baleAnimSpacing\n        return level / self:getFillUnitCapacity(spec.fillUnitIndex) * (baleLength / spec.baleAnimLength)\n    end\n    return 0\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"handleunloadingbaleevent",children:"handleUnloadingBaleEvent"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"handleUnloadingBaleEvent()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Baler:handleUnloadingBaleEvent()\n    local spec = self.spec_baler\n    if self:isUnloadingAllowed() then\n        if spec.hasUnloadingAnimation or spec.allowsBaleUnloading then\n            if spec.unloadingState = = Baler.UNLOADING_CLOSED then\n                if #spec.bales > 0 or self:getCanUnloadUnfinishedBale() then\n                    self:setIsUnloadingBale( true )\n                end\n            elseif spec.unloadingState = = Baler.UNLOADING_OPEN then\n                    if spec.hasUnloadingAnimation then\n                        self:setIsUnloadingBale( false )\n                    end\n                end\n            end\n        end\n    end\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"initspecialization",children:"initSpecialization"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"initSpecialization()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:'function Baler.initSpecialization()\n    g_vehicleConfigurationManager:addConfigurationType( "baler" , g_i18n:getText( "shop_configuration" ), "baler" , VehicleConfigurationItem )\n\n    AIFieldWorker.registerDriveStrategy( function (vehicle)\n        return SpecializationUtil.hasSpecialization( Baler , vehicle.specializations)\n    end , AIDriveStrategyBaler )\n\n    g_workAreaTypeManager:addWorkAreaType( "baler" , false , false , true )\n\n    g_storeManager:addSpecType( "balerBaleSizeRound" , "shopListAttributeIconBaleSizeRound" , Baler.loadSpecValueBaleSizeRound, Baler.getSpecValueBaleSizeRound, StoreSpecies.VEHICLE)\n    g_storeManager:addSpecType( "balerBaleSizeSquare" , "shopListAttributeIconBaleSizeSquare" , Baler.loadSpecValueBaleSizeSquare, Baler.getSpecValueBaleSizeSquare, StoreSpecies.VEHICLE)\n\n    local schema = Vehicle.xmlSchema\n    schema:setXMLSpecializationType( "Baler" )\n\n    Baler.registerBalerXMLPaths(schema, "vehicle.baler" )\n    Baler.registerBalerXMLPaths(schema, "vehicle.baler.balerConfigurations.balerConfiguration(?)" )\n\n    schema:register(XMLValueType.BOOL, FillUnit.ALARM_TRIGGER_XML_KEY .. "#needsBaleLoaded" , "Alarm triggers only when a full bale is loaded" , false )\n\n    schema:setXMLSpecializationType()\n\n    local schemaSavegame = Vehicle.xmlSchemaSavegame\n    schemaSavegame:register(XMLValueType.INT, "vehicles.vehicle(?).baler#numBales" , "Number of bales" )\n    schemaSavegame:register(XMLValueType.STRING, "vehicles.vehicle(?).baler.bale(?)#filename" , "XML Filename of bale" )\n    schemaSavegame:register(XMLValueType.STRING, "vehicles.vehicle(?).baler.bale(?)#variationId" , "Variation ID of the bale" )\n    schemaSavegame:register(XMLValueType.INT, "vehicles.vehicle(?).baler.bale(?)#ownerFarmId" , "Owner of the bale" )\n    schemaSavegame:register(XMLValueType.STRING, "vehicles.vehicle(?).baler.bale(?)#fillType" , "Bale fill type index" )\n    schemaSavegame:register(XMLValueType.FLOAT, "vehicles.vehicle(?).baler.bale(?)#fillLevel" , "Bale fill level" )\n    schemaSavegame:register(XMLValueType.FLOAT, "vehicles.vehicle(?).baler.bale(?)#baleTime" , "Bale time" )\n\n    schemaSavegame:register(XMLValueType.BOOL, "vehicles.vehicle(?).baler#platformReadyToDrop" , "Platform is ready to drop" , false )\n    schemaSavegame:register(XMLValueType.INT, "vehicles.vehicle(?).baler#baleTypeIndex" , "Current bale type index" , 1 )\n    schemaSavegame:register(XMLValueType.INT, "vehicles.vehicle(?).baler#preSelectedBaleTypeIndex" , "Pre selected bale type index" , 1 )\n    schemaSavegame:register(XMLValueType.FLOAT, "vehicles.vehicle(?).baler#fillUnitCapacity" , "Current baler capacity depending on bale size" )\n    schemaSavegame:register(XMLValueType.BOOL, "vehicles.vehicle(?).baler#bufferUnloadingStarted" , "Baler buffer unloading in progress" )\n    schemaSavegame:register(XMLValueType.STRING, "vehicles.vehicle(?).baler#workAreaMissionUniqueId" , "Workarea mission unique id" )\nend\n\n'})}),"\n",(0,a.jsx)(n.h3,{id:"isunloadingallowed",children:"isUnloadingAllowed"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"isUnloadingAllowed()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Baler:isUnloadingAllowed()\n    local spec = self.spec_baler\n\n    if spec.platformReadyToDrop or spec.platformDropInProgress then\n        -- block only opening of baler\n        if spec.unloadingState ~ = Baler.UNLOADING_OPEN then\n            return false\n        end\n    end\n\n    if self.spec_baleWrapper = = nil then\n        return not spec.allowsBaleUnloading or(spec.allowsBaleUnloading and not self:getIsTurnedOn() and not spec.isBaleUnloading)\n    end\n\n    return self:allowsGrabbingBale()\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"loadalarmtrigger",children:"loadAlarmTrigger"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"loadAlarmTrigger()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"superFunc"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"xmlFile"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"key"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"alarmTrigger"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"fillUnit"})]})]})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:'function Baler:loadAlarmTrigger(superFunc, xmlFile, key, alarmTrigger, fillUnit)\n    local ret = superFunc( self , xmlFile, key, alarmTrigger, fillUnit)\n\n    alarmTrigger.needsBaleLoaded = xmlFile:getValue(key .. "#needsBaleLoaded" , false )\n\n    return ret\nend\n\n'})}),"\n",(0,a.jsx)(n.h3,{id:"loadspecvaluebalesize",children:"loadSpecValueBaleSize"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"loadSpecValueBaleSize()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"xmlFile"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"customEnvironment"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"baseDir"})]})]})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:'function Baler.loadSpecValueBaleSize(xmlFile, customEnvironment, baseDir)\n    local rootName = xmlFile:getRootName()\n\n    local baleSizeAttributes = { }\n    baleSizeAttributes.isRoundBaler = false\n    baleSizeAttributes.minDiameter, baleSizeAttributes.maxDiameter = math.huge, - math.huge\n    baleSizeAttributes.minLength, baleSizeAttributes.maxLength = math.huge, - math.huge\n    xmlFile:iterate(rootName .. ".baler.baleTypes.baleType" , function (_, key)\n        baleSizeAttributes.isRoundBaler = xmlFile:getValue(key .. "#isRoundBale" , baleSizeAttributes.isRoundBaler)\n        local diameter = MathUtil.round(xmlFile:getValue(key .. "#diameter" , 0 ), 2 )\n        baleSizeAttributes.minDiameter = math.min(baleSizeAttributes.minDiameter, diameter)\n        baleSizeAttributes.maxDiameter = math.max(baleSizeAttributes.maxDiameter, diameter)\n\n        local length = MathUtil.round(xmlFile:getValue(key .. "#length" , 0 ), 2 )\n        baleSizeAttributes.minLength = math.min(baleSizeAttributes.minLength, length)\n        baleSizeAttributes.maxLength = math.max(baleSizeAttributes.maxLength, length)\n    end )\n\n    if baleSizeAttributes.minDiameter ~ = math.huge or baleSizeAttributes.minLength ~ = math.huge then\n        return baleSizeAttributes\n    end\n\n    return nil\nend\n\n'})}),"\n",(0,a.jsx)(n.h3,{id:"loadspecvaluebalesizeround",children:"loadSpecValueBaleSizeRound"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"loadSpecValueBaleSizeRound()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"xmlFile"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"customEnvironment"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"baseDir"})]})]})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Baler.loadSpecValueBaleSizeRound(xmlFile, customEnvironment, baseDir)\n    local baleSizeAttributes = Baler.loadSpecValueBaleSize(xmlFile, customEnvironment, baseDir)\n    if baleSizeAttributes ~ = nil and baleSizeAttributes.isRoundBaler then\n        return baleSizeAttributes\n    end\n\n    return nil\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"loadspecvaluebalesizesquare",children:"loadSpecValueBaleSizeSquare"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"loadSpecValueBaleSizeSquare()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"xmlFile"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"customEnvironment"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"baseDir"})]})]})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Baler.loadSpecValueBaleSizeSquare(xmlFile, customEnvironment, baseDir)\n    local baleSizeAttributes = Baler.loadSpecValueBaleSize(xmlFile, customEnvironment, baseDir)\n    if baleSizeAttributes ~ = nil and not baleSizeAttributes.isRoundBaler then\n        return baleSizeAttributes\n    end\n\n    return nil\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"loadspeedrotatingpartfromxml",children:"loadSpeedRotatingPartFromXML"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"loadSpeedRotatingPartFromXML()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"superFunc"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"speedRotatingPart"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"xmlFile"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"key"})]})]})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:'function Baler:loadSpeedRotatingPartFromXML(superFunc, speedRotatingPart, xmlFile, key)\n    speedRotatingPart.rotateOnlyIfFillLevelIncreased = xmlFile:getValue(key .. "#rotateOnlyIfFillLevelIncreased" , false )\n\n    return superFunc( self , speedRotatingPart, xmlFile, key)\nend\n\n'})}),"\n",(0,a.jsx)(n.h3,{id:"movebale",children:"moveBale"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"moveBale()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"i"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"dt"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"noEventSend"})]})]})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Baler:moveBale(i, dt, noEventSend)\n    local spec = self.spec_baler\n\n    local bale = spec.bales[i]\n    self:setBaleTime(i, bale.time + dt, noEventSend)\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"movebales",children:"moveBales"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"moveBales()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,a.jsx)(n.table,{children:(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"dt"})]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Baler:moveBales(dt)\n    local spec = self.spec_baler\n\n    for i = #spec.bales, 1 , - 1 do\n        self:moveBale(i, dt)\n    end\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"onchangedfilltype",children:"onChangedFillType"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"onChangedFillType()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"fillUnitIndex"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"fillTypeIndex"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"oldFillTypeIndex"})]})]})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Baler:onChangedFillType(fillUnitIndex, fillTypeIndex, oldFillTypeIndex)\n    local spec = self.spec_baler\n\n    if fillUnitIndex = = spec.fillUnitIndex or fillUnitIndex = = spec.buffer.fillUnitIndex then\n        -- always priorize the fill type of the main unit(if available) to choose the current bale index\n            local mainFillTypeIndex = self:getFillUnitFillType(spec.fillUnitIndex)\n            if mainFillTypeIndex ~ = FillType.UNKNOWN then\n                fillTypeIndex = mainFillTypeIndex\n            end\n\n            if fillTypeIndex ~ = FillType.UNKNOWN then\n                local baleTypeDef = spec.baleTypes[spec.currentBaleTypeIndex]\n                spec.currentBaleTypeDefinition = baleTypeDef\n\n                spec.currentBaleXMLFilename, spec.currentBaleIndex = g_baleManager:getBaleXMLFilename(fillTypeIndex,\n                baleTypeDef.isRoundBale,\n                baleTypeDef.width,\n                baleTypeDef.height,\n                baleTypeDef.length,\n                baleTypeDef.diameter,\n                self.customEnvironment)\n\n                local baleCapacity = g_baleManager:getBaleCapacityByBaleIndex(spec.currentBaleIndex, fillTypeIndex)\n                if fillUnitIndex = = spec.fillUnitIndex then\n                    self:setFillUnitCapacity(fillUnitIndex, baleCapacity, false )\n                else\n                        if spec.buffer.capacityPercentage ~ = nil then\n                            self:setFillUnitCapacity(fillUnitIndex, baleCapacity * spec.buffer.capacityPercentage, false )\n                        end\n                    end\n\n                    ObjectChangeUtil.setObjectChanges(baleTypeDef.changeObjects, true , self , self.setMovingToolDirty)\n\n                    if spec.currentBaleXMLFilename = = nil then\n                        Logging.warning( \"Could not find bale for given bale type definition '%s'\" , baleTypeDef.index)\n                        end\n                    end\n                end\n            end\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"onconsumablevariationchanged",children:"onConsumableVariationChanged"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"Called while the consumable variation changed on the consum slots"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"onConsumableVariationChanged()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"variationIndex"})]})}),(0,a.jsx)(n.tbody,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"metaData"})]})})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Baler:onConsumableVariationChanged(variationIndex, metaData)\n    if metaData.bale_variation ~ = nil then\n        local spec = self.spec_baler\n        spec.lastBaleVariationId = metaData.bale_variation\n    end\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"ondelete",children:"onDelete"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"onDelete()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Baler:onDelete()\n    local spec = self.spec_baler\n\n    if spec.bales ~ = nil then\n        local dropBales = spec.dropBalesOnDelete or spec.dropBalesOnDelete = = nil\n        -- if the baler was sold we drop the bales\n            -- if vehicle is reconfigurated the bales are deleted with vehicle visuals\n                if dropBales and( self.isReconfigurating = = nil or not self.isReconfigurating) then\n                    for k, _ in pairs(spec.bales) do\n                        self:dropBale(k)\n                    end\n                else\n                        for _, bale in pairs(spec.bales) do\n                            if bale.baleObject ~ = nil then\n                                bale.baleObject:delete()\n                            end\n                        end\n                    end\n                end\n\n                self:deleteDummyBale(spec.dummyBale)\n\n                if spec.buffer ~ = nil then\n                    if spec.buffer.dummyBale.available then\n                        self:deleteDummyBale(spec.buffer.dummyBale)\n                    end\n                    g_soundManager:deleteSamples(spec.buffer.samplesOverloadingStart)\n                    g_soundManager:deleteSamples(spec.buffer.samplesOverloadingWork)\n                    g_soundManager:deleteSamples(spec.buffer.samplesOverloadingStop)\n                    g_effectManager:deleteEffects(spec.buffer.overloadingEffects)\n                    g_animationManager:deleteAnimations(spec.buffer.overloadingAnimationNodes)\n                end\n\n                g_soundManager:deleteSamples(spec.samples)\n                g_effectManager:deleteEffects(spec.fillEffects)\n                g_effectManager:deleteEffects(spec.additiveEffects)\n                g_animationManager:deleteAnimations(spec.animationNodes)\n                g_animationManager:deleteAnimations(spec.unloadAnimationNodes)\n            end\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"onendworkareaprocessing",children:"onEndWorkAreaProcessing"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"onEndWorkAreaProcessing()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"dt"})]})}),(0,a.jsx)(n.tbody,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"hasProcessed"})]})})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Baler:onEndWorkAreaProcessing(dt, hasProcessed)\n    local spec = self.spec_baler\n\n    if self.isServer then\n        local maxFillType = FillType.UNKNOWN\n        local maxFillTypeFillLevel = 0\n        for fillTypeIndex, fillLevel in pairs(spec.pickupFillTypes) do\n            if fillLevel > maxFillTypeFillLevel then\n                maxFillType = fillTypeIndex\n                maxFillTypeFillLevel = fillLevel\n            end\n        end\n\n        local pickedUpLiters = spec.workAreaParameters.lastPickedUpLiters\n        if pickedUpLiters > 0 then\n            spec.lastAreaBiggerZero = true\n\n            local deltaLevel = pickedUpLiters * spec.fillScale\n\n            spec.variableSpeedLimit.pickupPerSecond = spec.variableSpeedLimit.pickupPerSecond + deltaLevel\n\n            if not spec.hasUnloadingAnimation then\n                -- move all bales\n                local deltaTime = self:getTimeFromLevel(deltaLevel)\n                self:moveBales(deltaTime)\n            end\n\n            local fillUnitIndex = spec.fillUnitIndex\n            if spec.nonStopBaling then\n                if not spec.buffer.fillMainUnitAfterOverload or not spec.buffer.unloadingStarted then\n                    fillUnitIndex = spec.buffer.fillUnitIndex\n                else\n                        if self:getFillUnitFreeCapacity(spec.fillUnitIndex) < = 0 then\n                            fillUnitIndex = spec.buffer.fillUnitIndex\n                        end\n                    end\n                end\n\n                if spec.buffer.loadingStateAnimation ~ = nil then\n                    local animTime = self:getAnimationTime(spec.buffer.loadingStateAnimation)\n                    if fillUnitIndex = = spec.fillUnitIndex then\n                        if animTime > = 0.99 then\n                            self:playAnimation(spec.buffer.loadingStateAnimation, - spec.buffer.loadingStateAnimationSpeed)\n                        end\n                    else\n                            if animTime < = 0.01 then\n                                self:playAnimation(spec.buffer.loadingStateAnimation, spec.buffer.loadingStateAnimationSpeed)\n                            end\n                        end\n                    end\n\n                    self:setFillUnitFillType(fillUnitIndex, maxFillType)\n                    self:addFillUnitFillLevel( self:getOwnerFarmId(), fillUnitIndex, deltaLevel, maxFillType, ToolType.UNDEFINED)\n                end\n\n                if spec.lastAreaBiggerZero ~ = spec.lastAreaBiggerZeroSent then\n                    self:raiseDirtyFlags(spec.dirtyFlag)\n                    spec.lastAreaBiggerZeroSent = spec.lastAreaBiggerZero\n                end\n\n                if spec.fillEffectType ~ = spec.fillEffectTypeSent then\n                    spec.fillEffectTypeSent = spec.fillEffectType\n                    self:raiseDirtyFlags(spec.dirtyFlag)\n                end\n            end\n        end\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"onfillunitfilllevelchanged",children:"onFillUnitFillLevelChanged"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"onFillUnitFillLevelChanged()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"fillUnitIndex"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"fillLevelDelta"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"fillTypeIndex"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"toolType"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"fillPositionData"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"appliedDelta"})]})]})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Baler:onFillUnitFillLevelChanged(fillUnitIndex, fillLevelDelta, fillTypeIndex, toolType, fillPositionData, appliedDelta)\n    local spec = self.spec_baler\n\n    if fillUnitIndex = = spec.fillUnitIndex then\n        local baleTypeDef = spec.baleTypes[spec.currentBaleTypeIndex]\n\n        local fillLevel = self:getFillUnitFillLevel(spec.fillUnitIndex)\n        local capacity = self:getFillUnitCapacity(spec.fillUnitIndex)\n\n        if self:updateDummyBale(spec.dummyBale, fillTypeIndex, fillLevel, capacity) then\n            for i = 1 , #spec.baleTypes do\n                self:setAnimationTime(spec.baleTypes[i].animations.fill, 0 )\n            end\n        end\n\n        if fillLevel > 0 then\n            self:setAnimationTime(baleTypeDef.animations.fill, fillLevel / capacity)\n        end\n\n        -- create bale\n        if self.isServer then\n            if fillLevelDelta > 0 then\n                if self:getFillUnitFreeCapacity(spec.fillUnitIndex) < = 0 then\n                    if self.isAddedToPhysics then\n                        self:finishBale()\n                    else\n                            -- if the baler is not added to physic(e.g.on load) we create the bale delayed, so we can mount it directly\n                                spec.createBaleNextFrame = true\n                            end\n\n                            spec.fillUnitOverflowFillLevel = fillLevelDelta - appliedDelta\n                        else\n                                -- fill level that is too much for the last bale will be added to the next bale(independent of the filltype)\n                                    if spec.fillUnitOverflowFillLevel > 0 then\n                                        if fillLevelDelta > 0 then\n                                            local overflow = spec.fillUnitOverflowFillLevel\n                                            spec.fillUnitOverflowFillLevel = 0\n                                            overflow = overflow - self:addFillUnitFillLevel( self:getOwnerFarmId(), spec.fillUnitIndex, overflow, fillTypeIndex, toolType)\n                                            spec.fillUnitOverflowFillLevel = overflow\n                                        end\n                                    end\n                                end\n                            end\n                        end\n                    elseif spec.nonStopBaling and fillUnitIndex = = spec.buffer.fillUnitIndex then\n                            if spec.buffer.dummyBale.available then\n                                local fillLevel = self:getFillUnitFillLevel(spec.buffer.fillUnitIndex)\n                                local capacity = self:getFillUnitCapacity(spec.buffer.fillUnitIndex)\n\n                                if spec.buffer.overloadAnimation ~ = nil then\n                                    if self:getAnimationTime(spec.buffer.overloadAnimation) > 0 and fillLevel > 0 then\n                                        return\n                                    end\n                                end\n\n                                self:updateDummyBale(spec.buffer.dummyBale, fillTypeIndex, fillLevel, capacity)\n                            end\n                        end\n                    end\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"onload",children:"onLoad"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"onLoad()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,a.jsx)(n.table,{children:(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"savegame"})]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:'function Baler:onLoad(savegame)\n    local spec = self.spec_baler\n\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.fillScale#value" , "vehicle.baler#fillScale" ) --FS15 to FS17\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.turnedOnRotationNodes.turnedOnRotationNode#type" , "vehicle.baler.animationNodes.animationNode" , "baler" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.baler.balingAnimation#name" , "vehicle.turnOnVehicle.turnedOnAnimation#name" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.baler.fillParticleSystems" , "vehicle.baler.fillEffect with effectClass \'ParticleEffect\'" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.baler.uvScrollParts.uvScrollPart" , "vehicle.baler.animationNodes.animationNode" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.baler.balerAlarm" , "vehicle.fillUnit.fillUnitConfigurations.fillUnitConfiguration.fillUnits.fillUnit.alarmTriggers.alarmTrigger.alarmSound" ) --FS17 to FS19\n\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.baler.baleAnimation#node" , "vehicle.baler.baleTypes.baleType#baleNode" ) --FS19 to FS22\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.baler.baleAnimation#baleNode" , "vehicle.baler.baleTypes.baleType#baleNode" ) --FS19 to FS22\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.baler.baleAnimation#scaleNode" , "vehicle.baler.baleTypes.baleType#scaleNode" ) --FS19 to FS22\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.baler.baleAnimation#baleScaleComponent" , "vehicle.baler.baleTypes.baleType#scaleComponents" ) --FS19 to FS22\n\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.baler.baleAnimation#unloadAnimationName" , "vehicle.baler.baleTypes.baleType#unloadAnimation" ) --FS19 to FS22\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.baler.baleAnimation#unloadAnimationSpeed" , "vehicle.baler.baleTypes.baleType#unloadAnimationSpeed" ) --FS19 to FS22\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.baler.baleAnimation#baleDropAnimTime" , "vehicle.baler.baleTypes.baleType#dropAnimationTime" ) --FS19 to FS22\n\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.baler#toggleAutomaticDropTextPos" , "vehicle.baler.automaticDrop#textPos" ) --FS19 to FS22\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.baler#toggleAutomaticDropTextNeg" , "vehicle.baler.automaticDrop#textNeg" ) --FS19 to FS22\n\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.baler.baleAnimation#firstBaleMarker" , "Please adjust bale nodes to match the default balers" ) --FS19 to FS22\n\n    local baseKey = "vehicle.baler"\n    local configurationId = self.configurations[ "baler" ] or 1\n    local configKey = string.format( "vehicle.baler.balerConfigurations.balerConfiguration(%d)" , configurationId - 1 )\n    if self.xmlFile:hasProperty(configKey) then\n        baseKey = configKey\n    end\n\n    spec.fillScale = self.xmlFile:getValue(baseKey .. "#fillScale" , 1 )\n    spec.fillUnitIndex = self.xmlFile:getValue(baseKey .. "#fillUnitIndex" , 1 )\n    spec.consumableUsage = self.xmlFile:getValue(baseKey .. "#consumableUsage" , 0.025 )\n    spec.useDropLandOwnershipForBales = self.xmlFile:getValue(baseKey .. "#useDropLandOwnershipForBales" , false )\n\n    if self.xmlFile:hasProperty(baseKey .. ".baleAnimation" ) then\n        local baleAnimCurve = AnimCurve.new(linearInterpolatorN)\n\n        local keyframes = { }\n        local lastX, lastY, lastZ\n        local totalLength = 0\n        self.xmlFile:iterate(baseKey .. ".baleAnimation.key" , function (_, key)\n            XMLUtil.checkDeprecatedXMLElements( self.xmlFile, key .. "#time" ) --FS19 to FS22\n\n            local keyframe = { }\n            keyframe.x, keyframe.y, keyframe.z = self.xmlFile:getValue(key .. "#pos" )\n            if keyframe.x = = nil then\n                Logging.xmlWarning( self.xmlFile, "Missing values for \'%s\'" , key .. "#pos" )\n                    return\n                end\n                keyframe.rx, keyframe.ry, keyframe.rz = self.xmlFile:getValue(key .. "#rot" , "0 0 0" )\n\n                if lastX ~ = nil then\n                    keyframe.length = MathUtil.vector3Length(lastX - keyframe.x, lastY - keyframe.y, lastZ - keyframe.z)\n                    totalLength = totalLength + keyframe.length\n                    keyframe.pos = totalLength\n                end\n\n                table.insert(keyframes, keyframe)\n\n                lastX, lastY, lastZ = keyframe.x, keyframe.y, keyframe.z\n            end )\n\n            for i = 1 , #keyframes do\n                local keyframe = keyframes[i]\n                local t = 0\n                if keyframe.pos ~ = nil then\n                    t = keyframe.pos / totalLength\n                end\n\n                baleAnimCurve:addKeyframe( { keyframe.x, keyframe.y, keyframe.z, keyframe.rx, keyframe.ry, keyframe.rz, time = t } )\n            end\n\n            if #keyframes > 0 then\n                spec.baleAnimCurve = baleAnimCurve\n                spec.baleAnimLength = totalLength\n                spec.baleAnimSpacing = self.xmlFile:getValue(baseKey .. ".baleAnimation#spacing" , 0 )\n                spec.baleAnimEnableCollision = self.xmlFile:getValue(baseKey .. ".baleAnimation#enableCollision" , true )\n            end\n        end\n\n        spec.hasUnloadingAnimation = true\n        spec.isRoundBaler = false\n        spec.lastBaleVariationId = nil\n\n        local defaultBaleTypeIndex = 1\n        spec.baleTypes = { }\n        self.xmlFile:iterate(baseKey .. ".baleTypes.baleType" , function (index, key)\n            if #spec.baleTypes > = BalerBaleTypeEvent.MAX_NUM_BALE_TYPES then\n                Logging.xmlError( self.xmlFile, "Too many bale types defined.Max.amount is \'%d\'! \'%s\'" , BalerBaleTypeEvent.MAX_NUM_BALE_TYPES, key)\n                return false\n            end\n\n            local baleTypeDefinition = { }\n            baleTypeDefinition.index = index\n            baleTypeDefinition.isRoundBale = self.xmlFile:getValue(key .. "#isRoundBale" , false )\n            baleTypeDefinition.width = MathUtil.round( self.xmlFile:getValue(key .. "#width" , 1.2 ), 2 )\n            baleTypeDefinition.height = MathUtil.round( self.xmlFile:getValue(key .. "#height" , 0.9 ), 2 )\n            baleTypeDefinition.length = MathUtil.round( self.xmlFile:getValue(key .. "#length" , 2.4 ), 2 )\n            baleTypeDefinition.diameter = MathUtil.round( self.xmlFile:getValue(key .. "#diameter" , 1.8 ), 2 )\n\n            if baleTypeDefinition.isRoundBale then\n                spec.isRoundBaler = true\n            end\n\n            baleTypeDefinition.isDefault = self.xmlFile:getValue(key .. "#isDefault" , false )\n            if baleTypeDefinition.isDefault then\n                defaultBaleTypeIndex = index\n            end\n\n            baleTypeDefinition.consumableUsage = self.xmlFile:getValue(key .. "#consumableUsage" , spec.consumableUsage)\n\n            baleTypeDefinition.chamberBaleVariationId = self.xmlFile:getValue(key .. "#chamberBaleVariationId" , "DEFAULT" )\n            baleTypeDefinition.defaultBaleVariationId = self.xmlFile:getValue(key .. "#defaultBaleVariationId" , "DEFAULT" )\n\n            baleTypeDefinition.baleNode = self.xmlFile:getValue(key .. ".nodes#baleNode" , nil , self.components, self.i3dMappings)\n            baleTypeDefinition.baleRootNode, baleTypeDefinition.baleNodeComponent = self.xmlFile:getValue(key .. ".nodes#baleRootNode" , baleTypeDefinition.baleNode, self.components, self.i3dMappings)\n            if baleTypeDefinition.baleRootNode ~ = nil and baleTypeDefinition.baleNodeComponent = = nil then\n                baleTypeDefinition.baleNodeComponent = self:getParentComponent(baleTypeDefinition.baleRootNode)\n            end\n\n            if baleTypeDefinition.baleNode ~ = nil then\n                baleTypeDefinition.scaleNode = self.xmlFile:getValue(key .. ".nodes#scaleNode" , nil , self.components, self.i3dMappings)\n                baleTypeDefinition.scaleComponents = self.xmlFile:getValue(key .. ".nodes#scaleComponents" , nil , true )\n\n                baleTypeDefinition.animations = { }\n                baleTypeDefinition.animations.fill = self.xmlFile:getValue(key .. ".animations#fillAnimation" )\n\n                baleTypeDefinition.animations.unloading = self.xmlFile:getValue(key .. ".animations#unloadAnimation" )\n                baleTypeDefinition.animations.unloadingSpeed = self.xmlFile:getValue(key .. ".animations#unloadAnimationSpeed" , 1 )\n                baleTypeDefinition.animations.dropAnimationTime = self.xmlFile:getValue(key .. ".animations#dropAnimationTime" , self:getAnimationDuration(baleTypeDefinition.animations.unloading) / 1000 )\n\n                baleTypeDefinition.detailVisibilityCutNodes = { }\n                self.xmlFile:iterate(key .. ".detailVisibilityCutNode" , function (_, detailsVisNodeKey)\n                    local detailVisibilityCutNode = { }\n                    detailVisibilityCutNode.node = self.xmlFile:getValue(detailsVisNodeKey .. "#node" , nil , self.components, self.i3dMappings)\n                    if detailVisibilityCutNode.node ~ = nil then\n                        detailVisibilityCutNode.axis = self.xmlFile:getValue(detailsVisNodeKey .. "#axis" , 3 )\n                        detailVisibilityCutNode.direction = self.xmlFile:getValue(detailsVisNodeKey .. "#direction" , 1 )\n\n                        table.insert(baleTypeDefinition.detailVisibilityCutNodes, detailVisibilityCutNode)\n                    end\n                end )\n\n                baleTypeDefinition.changeObjects = { }\n                ObjectChangeUtil.loadObjectChangeFromXML( self.xmlFile, key, baleTypeDefinition.changeObjects, self.components, self )\n\n                table.insert(spec.baleTypes, baleTypeDefinition)\n\n                spec.hasUnloadingAnimation = spec.hasUnloadingAnimation and baleTypeDefinition.animations.unloading ~ = nil\n\n                return\n            else\n                    Logging.xmlError( self.xmlFile, "Missing baleNode for bale type. \'%s\'" , key)\n                        return\n                    end\n                end )\n\n                local defaultBaleType = spec.baleTypes[defaultBaleTypeIndex]\n                if defaultBaleType ~ = nil then\n                    ObjectChangeUtil.setObjectChanges(defaultBaleType.changeObjects, true , self , self.setMovingToolDirty)\n                end\n\n                spec.changeBaleTypeText = self.xmlFile:getValue(baseKey .. ".baleTypes#changeText" , "action_changeBaleSize" , self.customEnvironment)\n\n                spec.preSelectedBaleTypeIndex = defaultBaleTypeIndex\n                spec.currentBaleTypeIndex = defaultBaleTypeIndex\n                spec.currentBaleXMLFilename = nil\n                spec.currentBaleTypeDefinition = nil\n\n                if #spec.baleTypes = = 0 then\n                    Logging.xmlError( self.xmlFile, "No baleTypes definded for baler." )\n                    end\n\n                    if spec.hasUnloadingAnimation then\n                        spec.automaticDrop = self.xmlFile:getValue(baseKey .. ".automaticDrop#enabled" , Platform.gameplay.automaticBaleDrop)\n                        spec.toggleableAutomaticDrop = self.xmlFile:getValue(baseKey .. ".automaticDrop#toggleable" , not Platform.gameplay.automaticBaleDrop)\n\n                        spec.toggleAutomaticDropTextPos = self.xmlFile:getValue(baseKey .. ".automaticDrop#textPos" , "action_toggleAutomaticBaleDropPos" , self.customEnvironment)\n                        spec.toggleAutomaticDropTextNeg = self.xmlFile:getValue(baseKey .. ".automaticDrop#textNeg" , "action_toggleAutomaticBaleDropNeg" , self.customEnvironment)\n\n                        spec.baleCloseAnimationName = self.xmlFile:getValue(baseKey .. ".baleAnimation#closeAnimationName" )\n                        spec.baleCloseAnimationSpeed = self.xmlFile:getValue(baseKey .. ".baleAnimation#closeAnimationSpeed" , 1 )\n\n                        local closeAnimation = self:getAnimationByName(spec.baleCloseAnimationName)\n                        if spec.baleCloseAnimationName = = nil or closeAnimation = = nil then\n                            Logging.xmlError( self.xmlFile, "Failed to find baler close animation. (%s)" , baseKey .. ".baleAnimation#closeAnimationName" )\n                        else\n                                closeAnimation.resetOnStart = false\n                            end\n                        end\n\n                        spec.unfinishedBaleThreshold = self.xmlFile:getValue(baseKey .. "#unfinishedBaleThreshold" , 2000 )\n                        spec.canUnloadUnfinishedBale = self.xmlFile:getValue(baseKey .. "#canUnloadUnfinishedBale" , false )\n                        spec.lastBaleFillLevel = nil\n\n                        if self.isClient then\n                            spec.samples = { }\n                            spec.samples.work = g_soundManager:loadSampleFromXML( self.xmlFile, baseKey .. ".sounds" , "work" , self.baseDirectory, self.components, 0 , AudioGroup.VEHICLE, self.i3dMappings, self )\n                            spec.samples.eject = g_soundManager:loadSampleFromXML( self.xmlFile, baseKey .. ".sounds" , "eject" , self.baseDirectory, self.components, 0 , AudioGroup.VEHICLE, self.i3dMappings, self )\n                            spec.samples.unload = g_soundManager:loadSampleFromXML( self.xmlFile, baseKey .. ".sounds" , "unload" , self.baseDirectory, self.components, 0 , AudioGroup.VEHICLE, self.i3dMappings, self )\n                            spec.samples.door = g_soundManager:loadSampleFromXML( self.xmlFile, baseKey .. ".sounds" , "door" , self.baseDirectory, self.components, 1 , AudioGroup.VEHICLE, self.i3dMappings, self )\n                            spec.samples.knotCleaning = g_soundManager:loadSampleFromXML( self.xmlFile, baseKey .. ".sounds" , "knotCleaning" , self.baseDirectory, self.components, 1 , AudioGroup.VEHICLE, self.i3dMappings, self )\n\n                            spec.knotCleaningTimer = 10000\n                            spec.knotCleaningTime = 120000\n\n                            spec.animationNodes = g_animationManager:loadAnimations( self.xmlFile, baseKey .. ".animationNodes" , self.components, self , self.i3dMappings)\n                            spec.unloadAnimationNodes = g_animationManager:loadAnimations( self.xmlFile, baseKey .. ".unloadAnimationNodes" , self.components, self , self.i3dMappings)\n                            spec.fillEffects = g_effectManager:loadEffect( self.xmlFile, baseKey .. ".fillEffect" , self.components, self , self.i3dMappings)\n                            spec.fillEffectType = FillType.UNKNOWN\n                            spec.additiveEffects = g_effectManager:loadEffect( self.xmlFile, baseKey .. ".additiveEffects" , self.components, self , self.i3dMappings)\n\n                            spec.knotingAnimation = self.xmlFile:getValue(baseKey .. ".knotingAnimation#name" )\n                            spec.knotingAnimationSpeed = self.xmlFile:getValue(baseKey .. ".knotingAnimation#speed" , 1 )\n\n                            spec.compactingAnimation = self.xmlFile:getValue(baseKey .. ".compactingAnimation#name" )\n                            spec.compactingAnimationInterval = self.xmlFile:getValue(baseKey .. ".compactingAnimation#interval" , 60 ) * 1000\n                            spec.compactingAnimationCompactTime = self.xmlFile:getValue(baseKey .. ".compactingAnimation#compactTime" , 5 ) * 1000\n                            spec.compactingAnimationCompactTimer = spec.compactingAnimationCompactTime\n                            spec.compactingAnimationTime = spec.compactingAnimationInterval\n                            spec.compactingAnimationSpeed = self.xmlFile:getValue(baseKey .. ".compactingAnimation#speed" , 1 )\n                            spec.compactingAnimationMinTime = self.xmlFile:getValue(baseKey .. ".compactingAnimation#minFillLevelTime" , 1 )\n                            spec.compactingAnimationMaxTime = self.xmlFile:getValue(baseKey .. ".compactingAnimation#maxFillLevelTime" , 0.1 )\n                        end\n\n                        spec.lastAreaBiggerZero = false\n                        spec.lastAreaBiggerZeroSent = false\n                        spec.lastAreaBiggerZeroTime = 0\n\n                        spec.workAreaParameters = { }\n                        spec.workAreaParameters.lastPickedUpLiters = 0\n\n                        spec.fillUnitOverflowFillLevel = 0\n\n                        spec.maxPickupLitersPerSecond = self.xmlFile:getValue(baseKey .. "#maxPickupLitersPerSecond" , 500 )\n                        spec.pickUpLitersBuffer = ValueBuffer.new( 750 )\n\n                        spec.unloadingState = Baler.UNLOADING_CLOSED\n                        spec.pickupFillTypes = { }\n\n                        spec.bales = { }\n\n                        spec.dummyBale = { }\n                        spec.dummyBale.currentBaleFillType = FillType.UNKNOWN\n                        spec.dummyBale.currentBale = nil\n                        spec.dummyBale.currentBaleLength = 0\n\n                        spec.allowsBaleUnloading = self.xmlFile:getValue(baseKey .. ".baleUnloading#allowed" , false )\n                        spec.baleUnloadingTime = self.xmlFile:getValue(baseKey .. ".baleUnloading#time" , 4 ) * 1000\n                        spec.baleFoldThreshold = self.xmlFile:getValue(baseKey .. ".baleUnloading#foldThreshold" , 0.25 ) * self:getFillUnitCapacity(spec.fillUnitIndex)\n\n                        spec.platformAnimation = self.xmlFile:getValue(baseKey .. ".platform#animationName" )\n                        spec.platformAnimationNextBaleTime = self.xmlFile:getValue(baseKey .. ".platform#nextBaleTime" , 0 )\n                        spec.platformAutomaticDrop = self.xmlFile:getValue(baseKey .. ".platform#automaticDrop" , Platform.gameplay.automaticBaleDrop)\n                        spec.platformAIDropSpeed = self.xmlFile:getValue(baseKey .. ".platform#aiSpeed" , 3 )\n\n                        spec.hasPlatform = spec.platformAnimation ~ = nil\n                        spec.hasDynamicMountPlatform = SpecializationUtil.hasSpecialization( DynamicMountAttacher , self.specializations)\n\n                        -- always automatically drop bale to platform, but player can decide when to drop from platform\n                        if spec.hasPlatform then\n                            spec.automaticDrop = true\n                        end\n\n                        spec.platformReadyToDrop = false -- bale is on platform and ready to be dropped\n                        spec.platformDropInProgress = false -- bale is currently dropping from platform\n                        spec.platformDelayedDropping = false -- unload baler if bale was dropped from platform\n                            spec.platformMountDelay = - 1 -- when counter reaches zero the bale in the platform trigger is forced to be mounted\n\n                            spec.buffer = { }\n                            spec.buffer.fillUnitIndex = self.xmlFile:getValue(baseKey .. ".buffer#fillUnitIndex" )\n                            spec.buffer.unloadInfoIndex = self.xmlFile:getValue(baseKey .. ".buffer#unloadInfoIndex" , 1 )\n                            spec.buffer.capacityPercentage = self.xmlFile:getValue(baseKey .. ".buffer#capacityPercentage" )\n                            spec.buffer.overloadingDuration = self.xmlFile:getValue(baseKey .. ".buffer#overloadingDuration" , 1 )\n                            spec.buffer.overloadingDelay = self.xmlFile:getValue(baseKey .. ".buffer#overloadingDelay" , 0 )\n                            spec.buffer.overloadingTimer = 0\n                            spec.buffer.overloadingStartFillLevelPct = MathUtil.round( self.xmlFile:getValue(baseKey .. ".buffer#overloadingStartFillLevelPct" , 1 ), 2 )\n                            spec.buffer.fillMainUnitAfterOverload = self.xmlFile:getValue(baseKey .. ".buffer#fillMainUnitAfterOverload" , false )\n                            spec.buffer.unloadingStarted = false\n                            spec.buffer.fillLevelToEmpty = 0\n\n                            spec.buffer.dummyBale = { }\n                            spec.buffer.dummyBale.available = self.xmlFile:hasProperty(baseKey .. ".buffer.dummyBale" )\n                            spec.buffer.dummyBale.linkNode = self.xmlFile:getValue(baseKey .. ".buffer.dummyBale#node" , nil , self.components, self.i3dMappings)\n                            spec.buffer.dummyBale.scaleComponents = self.xmlFile:getValue(baseKey .. ".buffer.dummyBale#scaleComponents" , "1 1 0" , true )\n\n                            spec.buffer.overloadAnimation = self.xmlFile:getValue(baseKey .. ".buffer.overloadAnimation#name" )\n                            spec.buffer.overloadAnimationSpeed = self.xmlFile:getValue(baseKey .. ".buffer.overloadAnimation#speedScale" , 1 )\n\n                            spec.buffer.loadingStateAnimation = self.xmlFile:getValue(baseKey .. ".buffer.loadingStateAnimation#name" )\n                            spec.buffer.loadingStateAnimationSpeed = self.xmlFile:getValue(baseKey .. ".buffer.loadingStateAnimation#speedScale" , 1 )\n\n                            if self.isClient then\n                                spec.buffer.overloadingEffects = g_effectManager:loadEffect( self.xmlFile, baseKey .. ".buffer.overloadingEffect" , self.components, self , self.i3dMappings)\n                                spec.buffer.overloadingAnimationNodes = g_animationManager:loadAnimations( self.xmlFile, baseKey .. ".buffer.overloadingAnimationNodes" , self.components, self , self.i3dMappings)\n\n                                spec.buffer.samplesOverloadingStart = g_soundManager:loadSamplesFromXML( self.xmlFile, baseKey .. ".sounds" , "bufferOverloadingStart" , self.baseDirectory, self.components, 1 , AudioGroup.VEHICLE, self.i3dMappings, self )\n                                spec.buffer.samplesOverloadingStop = g_soundManager:loadSamplesFromXML( self.xmlFile, baseKey .. ".sounds" , "bufferOverloadingStop" , self.baseDirectory, self.components, 1 , AudioGroup.VEHICLE, self.i3dMappings, self )\n                                spec.buffer.samplesOverloadingWork = g_soundManager:loadSamplesFromXML( self.xmlFile, baseKey .. ".sounds" , "bufferOverloadingWork" , self.baseDirectory, self.components, 0 , AudioGroup.VEHICLE, self.i3dMappings, self )\n                            end\n\n                            spec.nonStopBaling = spec.buffer.fillUnitIndex ~ = nil\n\n                            if spec.nonStopBaling ~ = nil then\n                                local fillTypeName = self.xmlFile:getValue(baseKey .. ".buffer#balerDisplayType" )\n                                local fillTypeIndex = g_fillTypeManager:getFillTypeIndexByName(fillTypeName)\n                                if fillTypeIndex ~ = nil then\n                                    self:setFillUnitFillTypeToDisplay(spec.fillUnitIndex, fillTypeIndex, true )\n                                end\n                            end\n\n                            spec.variableSpeedLimit = { }\n                            spec.variableSpeedLimit.enabled = self.xmlFile:hasProperty(baseKey .. ".variableSpeedLimit" )\n                            spec.variableSpeedLimit.pickupPerSecond = 0\n                            spec.variableSpeedLimit.pickupPerSecondTimer = 0\n                            spec.variableSpeedLimit.targetLiterPerSecond = self.xmlFile:getValue(baseKey .. ".variableSpeedLimit#targetLiterPerSecond" , 200 )\n                            spec.variableSpeedLimit.changeInterval = self.xmlFile:getValue(baseKey .. ".variableSpeedLimit#changeInterval" , 1 )\n                            spec.variableSpeedLimit.minSpeedLimit = self.xmlFile:getValue(baseKey .. ".variableSpeedLimit#minSpeedLimit" , 5 )\n                            spec.variableSpeedLimit.maxSpeedLimit = self.xmlFile:getValue(baseKey .. ".variableSpeedLimit#maxSpeedLimit" , 15 )\n                            spec.variableSpeedLimit.defaultSpeedLimit = self.xmlFile:getValue(baseKey .. ".variableSpeedLimit#defaultSpeedLimit" , 10 )\n                            spec.variableSpeedLimit.backupSpeedLimit = self.speedLimit\n                            spec.variableSpeedLimit.usedBackupSpeedLimit = false\n                            spec.variableSpeedLimit.lastAdjustedSpeedLimit = nil\n                            spec.variableSpeedLimit.lastAdjustedSpeedLimitType = nil\n\n                            spec.variableSpeedLimit.fillTypeToTargetLiterPerSecond = { }\n\n                            self.xmlFile:iterate(baseKey .. ".variableSpeedLimit.target" , function (index, key)\n                                local fillType = g_fillTypeManager:getFillTypeIndexByName( self.xmlFile:getValue(key .. "#fillType" ))\n                                if fillType ~ = nil then\n                                    local targetLiterPerSecond = self.xmlFile:getValue(key .. "#targetLiterPerSecond" , 200 )\n                                    local defaultSpeedLimit = self.xmlFile:getValue(key .. "#defaultSpeedLimit" , 10 )\n                                    spec.variableSpeedLimit.fillTypeToTargetLiterPerSecond[fillType] = { targetLiterPerSecond = targetLiterPerSecond, defaultSpeedLimit = defaultSpeedLimit }\n                                end\n                            end )\n\n                            spec.additives = { }\n                            spec.additives.fillUnitIndex = self.xmlFile:getValue(baseKey .. ".additives#fillUnitIndex" )\n                            spec.additives.available = self:getFillUnitByIndex(spec.additives.fillUnitIndex) ~ = nil\n                            spec.additives.usage = self.xmlFile:getValue(baseKey .. ".additives#usage" , 0.0000275 )\n                            local additivesFillTypeNames = self.xmlFile:getValue(baseKey .. ".additives#fillTypes" , "GRASS_WINDROW" )\n                            spec.additives.fillTypes = g_fillTypeManager:getFillTypesByNames(additivesFillTypeNames, "Warning: \'" .. self.xmlFile:getFilename() .. "\' has invalid fillType \'%s\'." )\n                            spec.additives.appliedByBufferOverloading = self.xmlFile:getValue(baseKey .. ".additives#appliedByBufferOverloading" , false )\n                            spec.additives.isActiveTimer = 0\n                            spec.additives.isActive = false\n\n                            spec.isBaleUnloading = false\n                            spec.balesToUnload = 0\n\n                            spec.texts = { }\n                            spec.texts.warningFoldingBaleLoaded = g_i18n:getText( "warning_foldingNotWhileBaleLoaded" )\n                            spec.texts.warningFoldingTurnedOn = g_i18n:getText( "warning_foldingNotWhileTurnedOn" )\n                            spec.texts.warningTooManyBales = g_i18n:getText( "warning_tooManyBales" )\n                            spec.texts.unloadUnfinishedBale = g_i18n:getText( "action_unloadUnfinishedBale" )\n                            spec.texts.unloadBaler = g_i18n:getText( "action_unloadBaler" )\n                            spec.texts.closeBack = g_i18n:getText( "action_closeBack" )\n\n                            spec.showBaleLimitWarning = false\n\n                            spec.dirtyFlag = self:getNextDirtyFlag()\n\n                            -- set already here to be set before the fill units are loaded and we may get a different first bale\n                            if savegame ~ = nil and not savegame.resetVehicles then\n                                local baleTypeIndex = savegame.xmlFile:getValue(savegame.key .. ".baler#baleTypeIndex" , spec.currentBaleTypeIndex)\n                                self:setBaleTypeIndex(baleTypeIndex, true , true )\n\n                                local preSelectedBaleTypeIndex = savegame.xmlFile:getValue(savegame.key .. ".baler#preSelectedBaleTypeIndex" , spec.preSelectedBaleTypeIndex)\n                                self:setBaleTypeIndex(preSelectedBaleTypeIndex, nil , true )\n\n                                local fillUnitCapacity = savegame.xmlFile:getValue(savegame.key .. ".baler#fillUnitCapacity" )\n                                if fillUnitCapacity ~ = nil then\n                                    if fillUnitCapacity = = 0 then\n                                        fillUnitCapacity = math.huge\n                                    end\n\n                                    self:setFillUnitCapacity(spec.fillUnitIndex, fillUnitCapacity)\n\n                                    if spec.buffer.capacityPercentage ~ = nil then\n                                        self:setFillUnitCapacity(spec.fillUnitIndex, fillUnitCapacity * spec.buffer.capacityPercentage, false )\n                                    end\n                                end\n\n                                spec.workAreaParameters.lastMissionUniqueId = savegame.xmlFile:getValue(savegame.key .. ".baler#workAreaMissionUniqueId" )\n\n                                if spec.nonStopBaling then\n                                    spec.buffer.unloadingStarted = savegame.xmlFile:getValue(savegame.key .. ".baler#bufferUnloadingStarted" , spec.buffer.unloadingStarted)\n                                end\n                            end\n                        end\n\n'})}),"\n",(0,a.jsx)(n.h3,{id:"onloadfinished",children:"onLoadFinished"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"onLoadFinished()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,a.jsx)(n.table,{children:(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"savegame"})]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Baler:onLoadFinished(savegame)\n    local spec = self.spec_baler\n    if self.isServer then\n        if spec.createBaleNextFrame ~ = nil and spec.createBaleNextFrame then\n            self:finishBale()\n            spec.createBaleNextFrame = nil\n        end\n    end\n\n    if spec.balesToLoad ~ = nil then\n        for _, v in ipairs(spec.balesToLoad) do\n            if self:createBale(v.fillType, v.fillLevel, nil , v.baleTime, v.filename, v.ownerFarmId, v.variationId, true ) then\n                self:setBaleTime(#spec.bales, v.baleTime, true )\n            end\n        end\n\n        spec.balesToLoad = nil\n    end\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"onpostload",children:"onPostLoad"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"onPostLoad()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,a.jsx)(n.table,{children:(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"savegame"})]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:'function Baler:onPostLoad(savegame)\n    local spec = self.spec_baler\n\n    for fillTypeIndex, enabled in pairs( self:getFillUnitSupportedFillTypes(spec.fillUnitIndex)) do\n        if enabled and fillTypeIndex ~ = FillType.UNKNOWN then\n            spec.pickupFillTypes[fillTypeIndex] = 0\n        end\n    end\n\n    if savegame ~ = nil and not savegame.resetVehicles then\n        local numBales = savegame.xmlFile:getValue(savegame.key .. ".baler#numBales" )\n        if numBales ~ = nil then\n            spec.balesToLoad = { }\n            for i = 1 , numBales do\n                local baleKey = string.format( "%s.baler.bale(%d)" , savegame.key, i - 1 )\n                local bale = { }\n                local filename = savegame.xmlFile:getValue(baleKey .. "#filename" )\n                local fillTypeStr = savegame.xmlFile:getValue(baleKey .. "#fillType" )\n                local fillType = g_fillTypeManager:getFillTypeByName(fillTypeStr)\n                if filename ~ = nil and fillType ~ = nil then\n                    bale.filename = filename\n                    bale.fillType = fillType.index\n                    bale.fillLevel = savegame.xmlFile:getValue(baleKey .. "#fillLevel" )\n                    bale.baleTime = savegame.xmlFile:getValue(baleKey .. "#baleTime" )\n\n                    bale.variationId = savegame.xmlFile:getValue(baleKey .. "#variationId" )\n                    bale.ownerFarmId = savegame.xmlFile:getValue(baleKey .. "#ownerFarmId" )\n\n                    table.insert(spec.balesToLoad, bale)\n                end\n            end\n        end\n\n        if spec.hasPlatform then\n            spec.platformReadyToDrop = savegame.xmlFile:getValue(savegame.key .. ".baler#platformReadyToDrop" , spec.platformReadyToDrop)\n            if spec.platformReadyToDrop then\n                self:setAnimationTime(spec.platformAnimation, 1 , true )\n                self:setAnimationTime(spec.platformAnimation, 0 , true )\n                spec.platformMountDelay = 1\n            end\n        end\n    end\nend\n\n'})}),"\n",(0,a.jsx)(n.h3,{id:"onreadstream",children:"onReadStream"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"onReadStream()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"streamId"})]})}),(0,a.jsx)(n.tbody,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"connection"})]})})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Baler:onReadStream(streamId, connection)\n    local spec = self.spec_baler\n\n    if spec.hasUnloadingAnimation then\n        local state = streamReadUIntN(streamId, 7 )\n        local animTime = streamReadFloat32(streamId)\n        if state = = Baler.UNLOADING_CLOSED or state = = Baler.UNLOADING_CLOSING then\n            self:setIsUnloadingBale( false , true )\n            self:setRealAnimationTime(spec.baleCloseAnimationName, animTime)\n        elseif state = = Baler.UNLOADING_OPEN or state = = Baler.UNLOADING_OPENING then\n                self:setIsUnloadingBale( true , true )\n                self:setRealAnimationTime(spec.baleUnloadAnimationName, animTime)\n            end\n        end\n\n        local numBales = streamReadUInt8(streamId)\n        for i = 1 , numBales do\n            local fillType = streamReadIntN(streamId, FillTypeManager.SEND_NUM_BITS)\n            local fillLevel = streamReadFloat32(streamId)\n            self:createBale(fillType, fillLevel)\n            if spec.baleAnimCurve ~ = nil then\n                local baleTime = streamReadFloat32(streamId)\n                self:setBaleTime(i, baleTime)\n            end\n        end\n\n        spec.lastAreaBiggerZero = streamReadBool(streamId)\n\n        if spec.hasPlatform then\n            spec.platformReadyToDrop = streamReadBool(streamId)\n            if spec.platformReadyToDrop then\n                self:setAnimationTime(spec.platformAnimation, 1 , true )\n                self:setAnimationTime(spec.platformAnimation, 0 , true )\n            end\n        end\n\n        spec.currentBaleTypeIndex = streamReadUIntN(streamId, BalerBaleTypeEvent.BALE_TYPE_SEND_NUM_BITS)\n        spec.preSelectedBaleTypeIndex = streamReadUIntN(streamId, BalerBaleTypeEvent.BALE_TYPE_SEND_NUM_BITS)\n\n        local capacity = streamReadFloat32(streamId)\n        self:setFillUnitCapacity(spec.fillUnitIndex, capacity)\n\n        local fillLevel = streamReadFloat32(streamId)\n        local fillUnit = self:getFillUnitByIndex(spec.fillUnitIndex)\n        if fillUnit ~ = nil then\n            fillUnit.fillLevel = fillLevel\n        end\n    end\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"onreadupdatestream",children:"onReadUpdateStream"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"onReadUpdateStream()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"streamId"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"timestamp"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"connection"})]})]})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Baler:onReadUpdateStream(streamId, timestamp, connection)\n    local spec = self.spec_baler\n\n    if connection:getIsServer() then\n        if streamReadBool(streamId) then\n            spec.lastAreaBiggerZero = streamReadBool(streamId)\n            spec.fillEffectType = streamReadUIntN(streamId, FillTypeManager.SEND_NUM_BITS)\n            spec.showBaleLimitWarning = streamReadBool(streamId)\n\n            if spec.nonStopBaling then\n                spec.buffer.unloadingStarted = streamReadBool(streamId)\n\n                if spec.buffer.unloadingStarted then\n                    local fillType = self:getFillUnitFillType(spec.buffer.fillUnitIndex)\n                    if fillType = = FillType.UNKNOWN then\n                        fillType = self:getFillUnitFillType(spec.fillUnitIndex)\n                    end\n                    g_effectManager:setEffectTypeInfo(spec.buffer.overloadingEffects, fillType)\n                    g_effectManager:startEffects(spec.buffer.overloadingEffects)\n\n                    g_soundManager:playSamples(spec.buffer.samplesOverloadingStart)\n                    g_soundManager:playSamples(spec.buffer.samplesOverloadingWork, 0 , spec.buffer.samplesOverloadingStart[ 0 ])\n\n                    g_animationManager:startAnimations(spec.buffer.overloadingAnimationNodes)\n                else\n                        g_effectManager:stopEffects(spec.buffer.overloadingEffects)\n\n                        g_soundManager:stopSamples(spec.buffer.samplesOverloadingStart)\n                        if g_soundManager:getIsSamplePlaying(spec.buffer.samplesOverloadingWork[ 0 ]) then\n                            g_soundManager:stopSamples(spec.buffer.samplesOverloadingWork)\n                            g_soundManager:playSamples(spec.buffer.samplesOverloadingStop)\n                        end\n\n                        g_animationManager:stopAnimations(spec.buffer.overloadingAnimationNodes)\n                    end\n                end\n\n                spec.additives.isActive = streamReadBool(streamId)\n                if spec.additives.isActive then\n                    g_effectManager:setEffectTypeInfo(spec.additiveEffects, FillType.LIQUIDFERTILIZER)\n                    g_effectManager:startEffects(spec.additiveEffects)\n                else\n                        g_effectManager:stopEffects(spec.additiveEffects)\n                    end\n                end\n            end\n        end\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"onregisteractionevents",children:"onRegisterActionEvents"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"onRegisterActionEvents()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"isActiveForInput"})]})}),(0,a.jsx)(n.tbody,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"isActiveForInputIgnoreSelection"})]})})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Baler:onRegisterActionEvents(isActiveForInput, isActiveForInputIgnoreSelection)\n    if self.isClient then\n        local spec = self.spec_baler\n        self:clearActionEventsTable(spec.actionEvents)\n\n        if isActiveForInputIgnoreSelection then\n            if not spec.automaticDrop or not spec.platformAutomaticDrop then\n                local _, actionEventId = self:addPoweredActionEvent(spec.actionEvents, InputAction.IMPLEMENT_EXTRA3, self , Baler.actionEventUnloading, false , true , false , true , nil )\n                g_inputBinding:setActionEventTextPriority(actionEventId, GS_PRIO_HIGH)\n            end\n\n            if #spec.baleTypes > 1 then\n                local _, actionEventId = self:addPoweredActionEvent(spec.actionEvents, InputAction.TOGGLE_BALE_TYPES, self , Baler.actionEventToggleSize, false , true , false , true , nil )\n                g_inputBinding:setActionEventTextPriority(actionEventId, GS_PRIO_HIGH)\n            end\n\n            if spec.toggleableAutomaticDrop then\n                local _, actionEventId = self:addPoweredActionEvent(spec.actionEvents, InputAction.IMPLEMENT_EXTRA4, self , Baler.actionEventToggleAutomaticDrop, false , true , false , true , nil )\n\n                local automaticDropState = spec.automaticDrop\n                if spec.hasPlatform then\n                    automaticDropState = spec.platformAutomaticDrop\n                end\n                g_inputBinding:setActionEventText(actionEventId, automaticDropState and spec.toggleAutomaticDropTextNeg or spec.toggleAutomaticDropTextPos)\n                g_inputBinding:setActionEventTextPriority(actionEventId, GS_PRIO_HIGH)\n            end\n\n            Baler.updateActionEvents( self )\n        end\n    end\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"onregisterexternalactionevents",children:"onRegisterExternalActionEvents"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"Called on load to register external action events"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"onRegisterExternalActionEvents()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"trigger"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"name"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"xmlFile"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"key"})]})]})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:'function Baler:onRegisterExternalActionEvents(trigger, name, xmlFile, key)\n    local spec = self.spec_baler\n\n    if name = = "balerDrop" then\n        self:registerExternalActionEvent(trigger, name, Baler.externalActionEventUnloadRegister, Baler.externalActionEventUnloadUpdate)\n    elseif name = = "balerAutomaticDrop" then\n            if spec.toggleableAutomaticDrop then\n                self:registerExternalActionEvent(trigger, name, Baler.externalActionEventAutomaticUnloadRegister, Baler.externalActionEventAutomaticUnloadUpdate)\n            end\n        elseif name = = "balerBaleSize" then\n                if #spec.baleTypes > 1 then\n                    self:registerExternalActionEvent(trigger, name, Baler.externalActionEventBaleTypeRegister, Baler.externalActionEventBaleTypeUpdate)\n                end\n            end\n        end\n\n'})}),"\n",(0,a.jsx)(n.h3,{id:"onrootvehiclechanged",children:"onRootVehicleChanged"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"Called if root vehicle changes"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"onRootVehicleChanged(table rootVehicle)"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,a.jsx)(n.table,{children:(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"table"}),(0,a.jsx)(n.th,{children:"rootVehicle"}),(0,a.jsx)(n.th,{children:"root vehicle"})]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:'function Baler:onRootVehicleChanged(rootVehicle)\n    local spec = self.spec_baler\n    local actionController = rootVehicle.actionController\n    if actionController ~ = nil then\n        if spec.controlledAction ~ = nil then\n            spec.controlledAction:updateParent(actionController)\n            return\n        end\n\n        spec.controlledAction = actionController:registerAction( "baleUnload" , nil , 1 )\n        spec.controlledAction:setCallback( self , Baler.actionControllerBaleUnloadEvent)\n        spec.controlledAction:setFinishedFunctions( self , Baler.getIsBaleUnloading, false , false )\n    else\n            if spec.controlledAction ~ = nil then\n                spec.controlledAction:remove()\n                spec.controlledAction = nil\n            end\n        end\n    end\n\n'})}),"\n",(0,a.jsx)(n.h3,{id:"onstartworkareaprocessing",children:"onStartWorkAreaProcessing"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"onStartWorkAreaProcessing()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,a.jsx)(n.table,{children:(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"dt"})]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Baler:onStartWorkAreaProcessing(dt)\n    local spec = self.spec_baler\n\n    if self.isServer then\n        spec.lastAreaBiggerZero = false\n        spec.workAreaParameters.lastPickedUpLiters = 0\n    end\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"onturnedoff",children:"onTurnedOff"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"onTurnedOff()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Baler:onTurnedOff()\n    if self.isClient then\n        local spec = self.spec_baler\n        g_effectManager:stopEffects(spec.fillEffects)\n        g_effectManager:stopEffects(spec.additiveEffects)\n        g_effectManager:stopEffects(spec.buffer.overloadingEffects)\n        g_animationManager:stopAnimations(spec.animationNodes)\n\n        g_soundManager:stopSample(spec.samples.work)\n        g_soundManager:stopSample(spec.samples.eject)\n        g_soundManager:stopSample(spec.samples.unload)\n        g_soundManager:stopSample(spec.samples.door)\n        g_soundManager:stopSample(spec.samples.knotCleaning)\n\n        g_soundManager:stopSamples(spec.buffer.samplesOverloadingStart)\n        if g_soundManager:getIsSamplePlaying(spec.buffer.samplesOverloadingWork[ 1 ]) then\n            g_soundManager:stopSamples(spec.buffer.samplesOverloadingWork)\n            g_soundManager:playSamples(spec.buffer.samplesOverloadingStop)\n        end\n    end\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"onturnedon",children:"onTurnedOn"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"onTurnedOn()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Baler:onTurnedOn()\n    if self.setFoldState ~ = nil then\n        if # self.spec_foldable.foldingParts > 0 then\n            self:setFoldState( self.spec_foldable.turnOnFoldDirection, false , true )\n        end\n    end\n    if self.isClient then\n        local spec = self.spec_baler\n        g_animationManager:startAnimations(spec.animationNodes)\n        g_soundManager:playSample(spec.samples.work)\n    end\n\n    self:raiseActive()\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"onupdate",children:"onUpdate"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"onUpdate()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"dt"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"isActiveForInput"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"isActiveForInputIgnoreSelection"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"isSelected"})]})]})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Baler:onUpdate(dt, isActiveForInput, isActiveForInputIgnoreSelection, isSelected)\n    local spec = self.spec_baler\n\n    if self.isClient then\n        if spec.baleToMount ~ = nil then\n            local baleObject = NetworkUtil.getObject(spec.baleToMount.baleServerId)\n            if baleObject ~ = nil then\n                baleObject:mountKinematic( self , spec.baleToMount.jointNode, 0 , 0 , 0 , 0 , 0 , 0 )\n                spec.baleToMount.baleInfo.baleObject = baleObject\n                spec.baleToMount.baleInfo.baleServerId = spec.baleToMount.baleServerId\n                spec.baleToMount = nil\n            end\n        end\n\n        local baleTypeDef = spec.baleTypes[spec.currentBaleTypeIndex]\n        if baleTypeDef ~ = nil and #baleTypeDef.detailVisibilityCutNodes > 0 then\n            for i = 1 , #spec.bales do\n                local bale = spec.bales[i]\n                if bale.baleObject ~ = nil then\n                    bale.baleObject:resetDetailVisibilityCut()\n                    if bale.time < 1 then\n                        for j = 1 , #baleTypeDef.detailVisibilityCutNodes do\n                            local detailVisibilityCutNode = baleTypeDef.detailVisibilityCutNodes[j]\n                            bale.baleObject:setDetailVisibilityCutNode(detailVisibilityCutNode.node, detailVisibilityCutNode.axis, detailVisibilityCutNode.direction)\n                        end\n                    end\n                end\n            end\n\n            if spec.dummyBale.currentBale ~ = nil then\n                for j = 1 , #baleTypeDef.detailVisibilityCutNodes do\n                    local detailVisibilityCutNode = baleTypeDef.detailVisibilityCutNodes[j]\n                    Bale.setBaleMeshVisibilityCut(spec.dummyBale.currentBale, detailVisibilityCutNode.node, detailVisibilityCutNode.axis, detailVisibilityCutNode.direction, true )\n                end\n            end\n        end\n    end\n\n    if self.isServer then\n        if self.isAddedToPhysics then\n            if spec.createBaleNextFrame ~ = nil and spec.createBaleNextFrame then\n                self:finishBale()\n                spec.createBaleNextFrame = nil\n            end\n        end\n\n        -- update variable speed limit based on current pickup\n        if spec.variableSpeedLimit.enabled then\n            spec.variableSpeedLimit.pickupPerSecondTimer = spec.variableSpeedLimit.pickupPerSecondTimer + dt\n            if spec.variableSpeedLimit.pickupPerSecondTimer > spec.variableSpeedLimit.changeInterval then\n                local defaultSpeedLimit = spec.variableSpeedLimit.defaultSpeedLimit\n                local targetLiterPerSecond = spec.variableSpeedLimit.targetLiterPerSecond\n\n                local fillTypeIndex = self:getFillUnitFillType(spec.fillUnitIndex)\n                if fillTypeIndex = = FillType.UNKNOWN and spec.nonStopBaling then\n                    fillTypeIndex = self:getFillUnitFillType(spec.buffer.fillUnitIndex)\n                end\n                if fillTypeIndex ~ = nil and spec.variableSpeedLimit.fillTypeToTargetLiterPerSecond[fillTypeIndex] ~ = nil then\n                    local target = spec.variableSpeedLimit.fillTypeToTargetLiterPerSecond[fillTypeIndex]\n                    defaultSpeedLimit = target.defaultSpeedLimit\n                    targetLiterPerSecond = target.targetLiterPerSecond\n                end\n\n                local litersPerSecond = spec.variableSpeedLimit.pickupPerSecond / (spec.variableSpeedLimit.changeInterval / 1000 )\n                if litersPerSecond > 0 then\n                    if spec.variableSpeedLimit.usedBackupSpeedLimit then\n                        spec.variableSpeedLimit.usedBackupSpeedLimit = false\n                        self.speedLimit = spec.variableSpeedLimit.lastAdjustedSpeedLimit or defaultSpeedLimit\n                        if (spec.variableSpeedLimit.lastAdjustedSpeedLimitType or fillTypeIndex) ~ = fillTypeIndex then\n                            self.speedLimit = defaultSpeedLimit\n                        end\n                    end\n\n                    local threshold = targetLiterPerSecond * 0.15\n                    local changeAmount = math.max( math.floor((litersPerSecond * 2 ) / targetLiterPerSecond), 1 )\n                    if litersPerSecond > targetLiterPerSecond + threshold then\n                        self.speedLimit = math.max( self.speedLimit - changeAmount, spec.variableSpeedLimit.minSpeedLimit)\n                    elseif litersPerSecond < targetLiterPerSecond - threshold then\n                            self.speedLimit = math.min( self.speedLimit + changeAmount, spec.variableSpeedLimit.maxSpeedLimit)\n                        end\n\n                        spec.variableSpeedLimit.lastAdjustedSpeedLimit = self.speedLimit\n                        spec.variableSpeedLimit.lastAdjustedSpeedLimitType = fillTypeIndex\n                    else\n                            spec.variableSpeedLimit.usedBackupSpeedLimit = true\n                            self.speedLimit = spec.variableSpeedLimit.backupSpeedLimit\n                        end\n\n                        spec.variableSpeedLimit.pickupPerSecondTimer = 0\n                        spec.variableSpeedLimit.pickupPerSecond = 0\n                    end\n                end\n            end\n        end\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"onupdatetick",children:"onUpdateTick"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"onUpdateTick()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"dt"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"isActiveForInput"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"isActiveForInputIgnoreSelection"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"isSelected"})]})]})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Baler:onUpdateTick(dt, isActiveForInput, isActiveForInputIgnoreSelection, isSelected)\n    local spec = self.spec_baler\n\n    local showBaleLimitWarning = false\n    local isTurnedOn = self:getIsTurnedOn()\n\n    if isTurnedOn then\n        if not g_currentMission.slotSystem:getCanAddLimitedObjects(SlotSystem.LIMITED_OBJECT_BALE, 1 ) then\n            showBaleLimitWarning = true\n        end\n\n        if self.isClient then\n\n            if spec.lastAreaBiggerZero and spec.fillEffectType ~ = FillType.UNKNOWN then\n                spec.lastAreaBiggerZeroTime = 500\n            elseif spec.lastAreaBiggerZeroTime > 0 then\n                    spec.lastAreaBiggerZeroTime = math.max(spec.lastAreaBiggerZeroTime - dt, 0 )\n                end\n\n                if spec.lastAreaBiggerZeroTime > 0 then\n                    if spec.fillEffectType ~ = FillType.UNKNOWN then\n                        g_effectManager:setEffectTypeInfo(spec.fillEffects, spec.fillEffectType)\n                    end\n\n                    g_effectManager:startEffects(spec.fillEffects)\n\n                    local loadPercentage = spec.pickUpLitersBuffer:get( 1000 ) / spec.maxPickupLitersPerSecond\n                    g_effectManager:setDensity(spec.fillEffects, math.max(loadPercentage, 0.40 ))\n                else\n                        g_effectManager:stopEffects(spec.fillEffects)\n                    end\n\n                    if spec.knotCleaningTimer < = g_currentMission.time then\n                        g_soundManager:playSample(spec.samples.knotCleaning)\n                        spec.knotCleaningTimer = g_currentMission.time + spec.knotCleaningTime\n                    end\n\n                    if spec.compactingAnimation ~ = nil and spec.unloadingState = = Baler.UNLOADING_CLOSED then\n                        if spec.compactingAnimationTime < = g_currentMission.time then\n                            local fillLevel = self:getFillUnitFillLevelPercentage(spec.fillUnitIndex)\n                            local stopTime = MathUtil.lerp(spec.compactingAnimationMinTime, spec.compactingAnimationMaxTime, fillLevel)\n                            if stopTime > 0 then\n                                self:setAnimationStopTime(spec.compactingAnimation, math.clamp(stopTime, 0 , 1 ))\n                                self:playAnimation(spec.compactingAnimation, spec.compactingAnimationSpeed, self:getAnimationTime(spec.compactingAnimation), false )\n                                spec.compactingAnimationTime = math.huge\n                            end\n                        end\n\n                        if spec.compactingAnimationTime = = math.huge then\n                            if not self:getIsAnimationPlaying(spec.compactingAnimation) then\n                                spec.compactingAnimationCompactTimer = spec.compactingAnimationCompactTimer - dt\n                                if spec.compactingAnimationCompactTimer < 0 then\n                                    self:playAnimation(spec.compactingAnimation, - spec.compactingAnimationSpeed, self:getAnimationTime(spec.compactingAnimation), false )\n                                    spec.compactingAnimationCompactTimer = spec.compactingAnimationCompactTime\n                                end\n\n                                if self:getAnimationTime(spec.compactingAnimation) = = 0 then\n                                    spec.compactingAnimationTime = g_currentMission.time + spec.compactingAnimationInterval\n                                end\n                            end\n                        end\n                    end\n                end\n            else\n                    if spec.isBaleUnloading and self.isServer then\n                        local deltaTime = dt / spec.baleUnloadingTime\n                        self:moveBales(deltaTime)\n                    end\n                end\n\n                if self.isClient then\n                    --delete dummy bale on client after physical bale is displayed\n                    if spec.unloadingState = = Baler.UNLOADING_OPEN then\n                        local baleTypeDef = spec.baleTypes[spec.currentBaleTypeIndex]\n                        if getNumOfChildren(baleTypeDef.baleNode) > 0 then\n                            delete(getChildAt(baleTypeDef.baleNode, 0 ))\n                        end\n                    end\n                end\n\n                if spec.unloadingState = = Baler.UNLOADING_OPENING then\n                    local baleTypeDef = spec.baleTypes[spec.currentBaleTypeIndex]\n                    local isPlaying = self:getIsAnimationPlaying(baleTypeDef.animations.unloading)\n                    local animTime = self:getRealAnimationTime(baleTypeDef.animations.unloading)\n                    if not isPlaying or animTime > = baleTypeDef.animations.dropAnimationTime then\n                        if #spec.bales > 0 then\n                            self:dropBale( 1 )\n                            if self.isServer then\n                                self:addFillUnitFillLevel( self:getOwnerFarmId(), spec.fillUnitIndex, - math.huge, self:getFillUnitFillType(spec.fillUnitIndex), ToolType.UNDEFINED)\n                                spec.buffer.unloadingStarted = false\n\n                                for fillType, _ in pairs(spec.pickupFillTypes) do\n                                    spec.pickupFillTypes[fillType] = 0\n                                end\n\n                                if self:getFillUnitFillLevel(spec.fillUnitIndex) = = 0 then\n                                    if spec.preSelectedBaleTypeIndex ~ = spec.currentBaleTypeIndex then\n                                        self:setBaleTypeIndex(spec.preSelectedBaleTypeIndex, true )\n                                    end\n                                end\n                            end\n                        end\n                        if not isPlaying then\n                            spec.unloadingState = Baler.UNLOADING_OPEN\n\n                            if self.isClient then\n                                g_soundManager:stopSample(spec.samples.eject)\n                                g_soundManager:stopSample(spec.samples.door)\n                                g_animationManager:stopAnimations(spec.unloadAnimationNodes)\n                            end\n                        end\n                    else\n                            g_animationManager:startAnimations(spec.unloadAnimationNodes)\n                        end\n                    elseif spec.unloadingState = = Baler.UNLOADING_CLOSING then\n                            if not self:getIsAnimationPlaying(spec.baleCloseAnimationName) then\n                                spec.unloadingState = Baler.UNLOADING_CLOSED\n                                if self.isClient then\n                                    g_soundManager:stopSample(spec.samples.door)\n                                end\n                            end\n                        end\n\n                        -- on client side it can happen that the baler is closed 1 frame before the animation is synced completelly\n                        -- in this case we drop the bale here\n                        if spec.unloadingState = = Baler.UNLOADING_OPEN or spec.unloadingState = = Baler.UNLOADING_CLOSING then\n                            if not self.isServer then\n                                if #spec.bales > 0 then\n                                    self:dropBale( 1 )\n                                end\n                            end\n                        end\n\n                        Baler.updateActionEvents( self )\n\n                        if self.isServer then\n                            --automatically drop bale and close door afterwards\n                            if (spec.automaticDrop ~ = nil and spec.automaticDrop) or self:getIsAIActive() then\n                                if self:isUnloadingAllowed() then\n                                    if spec.hasUnloadingAnimation or spec.allowsBaleUnloading then\n                                        if spec.unloadingState = = Baler.UNLOADING_CLOSED then\n                                            if #spec.bales > 0 then\n                                                self:setIsUnloadingBale( true )\n                                            end\n                                        end\n                                    end\n                                end\n\n                                if spec.hasUnloadingAnimation then\n                                    if spec.unloadingState = = Baler.UNLOADING_OPEN then\n                                        self:setIsUnloadingBale( false )\n                                    end\n                                end\n                            end\n\n                            spec.pickUpLitersBuffer:add(spec.workAreaParameters.lastPickedUpLiters)\n\n                            if spec.additives.isActiveTimer > 0 then\n                                spec.additives.isActiveTimer = spec.additives.isActiveTimer - dt\n                                if spec.additives.isActiveTimer < 0 then\n                                    spec.additives.isActiveTimer = 0\n                                    spec.additives.isActive = false\n\n                                    if self.isClient then\n                                        g_effectManager:stopEffects(spec.additiveEffects)\n                                    end\n\n                                    self:raiseDirtyFlags(spec.dirtyFlag)\n                                end\n                            end\n\n                            if spec.platformAutomaticDrop then\n                                if spec.platformReadyToDrop then\n                                    self:dropBaleFromPlatform( true )\n                                end\n                            end\n\n                            -- automatically drop bale on platform if new bale is ready\n                                if spec.hasPlatform then\n                                    if #spec.bales > 0 then\n                                        if spec.platformReadyToDrop then\n                                            self:dropBaleFromPlatform( true )\n                                        end\n                                    end\n\n                                    -- mount the bale directly to the bale dropper since we never stop moving, so DynamicMountAttacher spec would mount it\n                                    if spec.hasDynamicMountPlatform then\n                                        if spec.platformMountDelay > 0 then\n                                            spec.platformMountDelay = spec.platformMountDelay - 1\n                                            if spec.platformMountDelay = = 0 then\n                                                self:forceDynamicMountPendingObjects( true )\n                                            end\n                                        else\n                                                -- play drop animation if bale was lost\n                                                    if spec.platformReadyToDrop then\n                                                        if not self:getHasDynamicMountedObjects() then\n                                                            self:dropBaleFromPlatform( false )\n                                                        end\n                                                    end\n                                                end\n                                            end\n                                        end\n\n                                        -- unload from buffer to bale chamber once it is full\n                                        if spec.nonStopBaling then\n                                            local lastUnloadingStarted = spec.buffer.unloadingStarted\n\n                                            local bufferLevel = self:getFillUnitFillLevel(spec.buffer.fillUnitIndex)\n                                            if bufferLevel > 0 then\n                                                local capacity = self:getFillUnitCapacity(spec.buffer.fillUnitIndex)\n                                                if isTurnedOn and MathUtil.round(bufferLevel / capacity, 2 ) > = spec.buffer.overloadingStartFillLevelPct then\n                                                    capacity = self:getFillUnitCapacity(spec.fillUnitIndex)\n                                                    if capacity = = 0 or capacity = = math.huge or self:getFillUnitFreeCapacity(spec.fillUnitIndex) > 0 then\n                                                        if not spec.buffer.unloadingStarted then\n                                                            if spec.unloadingState = = Baler.UNLOADING_CLOSED then\n                                                                spec.buffer.unloadingStarted = true\n                                                                spec.buffer.overloadingTimer = 0\n\n                                                                if spec.buffer.overloadAnimation ~ = nil then\n                                                                    self:playAnimation(spec.buffer.overloadAnimation, spec.buffer.overloadAnimationSpeed)\n                                                                end\n                                                            end\n                                                        end\n                                                    end\n                                                end\n\n                                                if spec.buffer.unloadingStarted then\n                                                    spec.buffer.overloadingTimer = spec.buffer.overloadingTimer + dt\n                                                    if spec.buffer.overloadingTimer > = spec.buffer.overloadingDelay then\n                                                        if self:getFillUnitFreeCapacity(spec.fillUnitIndex) > 0 then\n                                                            capacity = self:getFillUnitCapacity(spec.buffer.fillUnitIndex)\n                                                            local delta = math.min(capacity / spec.buffer.overloadingDuration * dt, bufferLevel)\n                                                            local sourceFillType = self:getFillUnitFillType(spec.buffer.fillUnitIndex)\n                                                            local unloadInfo = self:getFillVolumeUnloadInfo(spec.buffer.unloadInfoIndex)\n                                                            local realDelta = self:addFillUnitFillLevel( self:getOwnerFarmId(), spec.buffer.fillUnitIndex, - delta, sourceFillType, ToolType.UNDEFINED, unloadInfo)\n\n                                                            local targetFillType = self:getFillUnitFillType(spec.fillUnitIndex)\n                                                            if targetFillType = = FillType.UNKNOWN then\n                                                                targetFillType = sourceFillType\n                                                            end\n\n                                                            local overloadedLiters = - realDelta\n                                                            if spec.additives.available and spec.additives.appliedByBufferOverloading then\n                                                                local fillTypeSupported = false\n                                                                for i = 1 , #spec.additives.fillTypes do\n                                                                    if targetFillType = = spec.additives.fillTypes[i] then\n                                                                        fillTypeSupported = true\n                                                                        break\n                                                                    end\n                                                                end\n\n                                                                if fillTypeSupported then\n                                                                    local additivesFillLevel = self:getFillUnitFillLevel(spec.additives.fillUnitIndex)\n                                                                    if additivesFillLevel > 0 then\n                                                                        local usage = spec.additives.usage * overloadedLiters\n                                                                        if usage > 0 then\n                                                                            local availableUsage = math.min(additivesFillLevel / usage, 1 )\n\n                                                                            overloadedLiters = overloadedLiters * ( 1 + 0.05 * availableUsage)\n\n                                                                            self:addFillUnitFillLevel( self:getOwnerFarmId(), spec.additives.fillUnitIndex, - usage, self:getFillUnitFillType(spec.additives.fillUnitIndex), ToolType.UNDEFINED)\n\n                                                                            spec.additives.isActiveTimer = 250\n                                                                            spec.additives.isActive = true\n                                                                            self:raiseDirtyFlags(spec.dirtyFlag)\n\n                                                                            if self.isClient then\n                                                                                g_effectManager:setEffectTypeInfo(spec.additiveEffects, FillType.LIQUIDFERTILIZER)\n                                                                                g_effectManager:startEffects(spec.additiveEffects)\n                                                                            end\n                                                                        end\n                                                                    end\n                                                                end\n                                                            end\n\n                                                            self:addFillUnitFillLevel( self:getOwnerFarmId(), spec.fillUnitIndex, overloadedLiters, targetFillType, ToolType.UNDEFINED, nil )\n\n                                                            -- if we unload a unfinished bale we first empty the buffer, drop bale on platform and then unload the new bale\n                                                                if spec.buffer.fillLevelToEmpty > 0 then\n                                                                    spec.buffer.fillLevelToEmpty = math.max(spec.buffer.fillLevelToEmpty - delta, 0 )\n\n                                                                    if spec.buffer.fillLevelToEmpty = = 0 then\n                                                                        spec.platformDelayedDropping = true\n                                                                        spec.buffer.unloadingStarted = false\n                                                                    end\n                                                                end\n                                                            end\n                                                        end\n\n                                                        -- baler is full\n                                                        if self:getFillUnitFillLevelPercentage(spec.fillUnitIndex) = = 1 or not isTurnedOn then\n                                                            spec.buffer.unloadingStarted = false\n                                                        end\n                                                    end\n                                                else\n                                                        if not spec.buffer.fillMainUnitAfterOverload then\n                                                            spec.buffer.unloadingStarted = false\n                                                        end\n                                                    end\n\n                                                    if lastUnloadingStarted ~ = spec.buffer.unloadingStarted then\n                                                        if self.isClient then\n                                                            if spec.buffer.unloadingStarted then\n                                                                local fillType = self:getFillUnitFillType(spec.buffer.fillUnitIndex)\n                                                                g_effectManager:setEffectTypeInfo(spec.buffer.overloadingEffects, fillType)\n                                                                g_effectManager:startEffects(spec.buffer.overloadingEffects)\n\n                                                                g_animationManager:startAnimations(spec.buffer.overloadingAnimationNodes)\n\n                                                                g_soundManager:playSamples(spec.buffer.samplesOverloadingStart)\n                                                                g_soundManager:playSamples(spec.buffer.samplesOverloadingWork, 0 , spec.buffer.samplesOverloadingStart[ 1 ])\n                                                            else\n                                                                    g_effectManager:stopEffects(spec.buffer.overloadingEffects)\n\n                                                                    g_animationManager:stopAnimations(spec.buffer.overloadingAnimationNodes)\n\n                                                                    g_soundManager:stopSamples(spec.buffer.samplesOverloadingStart)\n                                                                    if g_soundManager:getIsSamplePlaying(spec.buffer.samplesOverloadingWork[ 1 ]) then\n                                                                        g_soundManager:stopSamples(spec.buffer.samplesOverloadingWork)\n                                                                        g_soundManager:playSamples(spec.buffer.samplesOverloadingStop)\n                                                                    end\n                                                                end\n                                                            end\n\n                                                            self:raiseDirtyFlags(spec.dirtyFlag)\n                                                        end\n\n                                                        if spec.buffer.overloadAnimation ~ = nil then\n                                                            if not self:getIsAnimationPlaying(spec.buffer.overloadAnimation) and self:getAnimationTime(spec.buffer.overloadAnimation) > 0.5 then\n                                                                self:playAnimation(spec.buffer.overloadAnimation, - spec.buffer.overloadAnimationSpeed)\n                                                            end\n                                                        end\n\n                                                        if isTurnedOn then\n                                                            self:raiseActive()\n                                                        end\n                                                    end\n                                                end\n\n                                                if self.isServer then\n                                                    if spec.showBaleLimitWarning ~ = showBaleLimitWarning then\n                                                        spec.showBaleLimitWarning = showBaleLimitWarning\n                                                        self:raiseDirtyFlags(spec.dirtyFlag)\n                                                    end\n                                                end\n\n                                                if spec.hasPlatform then\n                                                    -- unload bale after last bale was dropped from platform\n                                                    if spec.platformDelayedDropping then\n                                                        if not spec.platformDropInProgress then\n                                                            Baler.actionEventUnloading( self )\n                                                            spec.platformDelayedDropping = false\n                                                        end\n                                                    end\n\n                                                    if spec.platformDropInProgress and not self:getIsAnimationPlaying(spec.platformAnimation) then\n                                                        spec.platformDropInProgress = false\n                                                    end\n                                                end\n                                            end\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"onwritestream",children:"onWriteStream"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"onWriteStream()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"streamId"})]})}),(0,a.jsx)(n.tbody,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"connection"})]})})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Baler:onWriteStream(streamId, connection)\n    local spec = self.spec_baler\n\n    if spec.hasUnloadingAnimation then\n        streamWriteUIntN(streamId, spec.unloadingState, 7 )\n        local animTime = 0\n        if spec.unloadingState = = Baler.UNLOADING_CLOSED or spec.unloadingState = = Baler.UNLOADING_CLOSING then\n            animTime = self:getRealAnimationTime(spec.baleCloseAnimationName)\n        elseif spec.unloadingState = = Baler.UNLOADING_OPEN or spec.unloadingState = = Baler.UNLOADING_OPENING then\n                animTime = self:getRealAnimationTime(spec.baleUnloadAnimationName)\n            end\n            streamWriteFloat32(streamId, animTime)\n        end\n\n        streamWriteUInt8(streamId, #spec.bales)\n        for i = 1 , #spec.bales do\n            local bale = spec.bales[i]\n            streamWriteIntN(streamId, bale.fillType, FillTypeManager.SEND_NUM_BITS)\n            streamWriteFloat32(streamId, bale.fillLevel)\n            if spec.baleAnimCurve ~ = nil then\n                streamWriteFloat32(streamId, bale.time )\n            end\n        end\n\n        streamWriteBool(streamId, spec.lastAreaBiggerZero)\n\n        if spec.hasPlatform then\n            streamWriteBool(streamId, spec.platformReadyToDrop)\n        end\n\n        streamWriteUIntN(streamId, spec.currentBaleTypeIndex, BalerBaleTypeEvent.BALE_TYPE_SEND_NUM_BITS)\n        streamWriteUIntN(streamId, spec.preSelectedBaleTypeIndex, BalerBaleTypeEvent.BALE_TYPE_SEND_NUM_BITS)\n\n        streamWriteFloat32(streamId, self:getFillUnitCapacity(spec.fillUnitIndex))\n        streamWriteFloat32(streamId, self:getFillUnitFillLevel(spec.fillUnitIndex))\n    end\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"onwriteupdatestream",children:"onWriteUpdateStream"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"onWriteUpdateStream()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"streamId"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"connection"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"dirtyMask"})]})]})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Baler:onWriteUpdateStream(streamId, connection, dirtyMask)\n    local spec = self.spec_baler\n\n    if not connection:getIsServer() then\n        if streamWriteBool(streamId, bit32.band(dirtyMask, spec.dirtyFlag) ~ = 0 ) then\n            streamWriteBool(streamId, spec.lastAreaBiggerZero)\n            streamWriteUIntN(streamId, spec.fillEffectTypeSent, FillTypeManager.SEND_NUM_BITS)\n            streamWriteBool(streamId, spec.showBaleLimitWarning)\n\n            if spec.nonStopBaling then\n                streamWriteBool(streamId, spec.buffer.unloadingStarted)\n            end\n\n            streamWriteBool(streamId, spec.additives.isActive)\n        end\n    end\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"prerequisitespresent",children:"prerequisitesPresent"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"prerequisitesPresent()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,a.jsx)(n.table,{children:(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"specializations"})]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Baler.prerequisitesPresent(specializations)\n    return SpecializationUtil.hasSpecialization( FillUnit , specializations)\n    and SpecializationUtil.hasSpecialization( WorkArea , specializations)\n    and SpecializationUtil.hasSpecialization( TurnOnVehicle , specializations)\n    and SpecializationUtil.hasSpecialization( AnimatedVehicle , specializations)\n    and SpecializationUtil.hasSpecialization(Consumable, specializations)\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"processbalerarea",children:"processBalerArea"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"processBalerArea()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"workArea"})]})}),(0,a.jsx)(n.tbody,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"dt"})]})})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Baler:processBalerArea(workArea, dt)\n    local spec = self.spec_baler\n\n    if not self.isServer and self.currentUpdateDistance > Baler.CLIENT_DM_UPDATE_RADIUS then\n        return 0 , 0\n    end\n\n    local lsx, lsy, lsz, lex, ley, lez, lineRadius = DensityMapHeightUtil.getLineByArea(workArea.start, workArea.width, workArea.height)\n    if self.isServer then\n        spec.fillEffectType = FillType.UNKNOWN\n    end\n\n    local mission = self:getMissionByWorkArea(workArea)\n\n    for fillTypeIndex, _ in pairs(spec.pickupFillTypes) do\n        local pickedUpLiters = - DensityMapHeightUtil.tipToGroundAroundLine( self , - math.huge, fillTypeIndex, lsx, lsy, lsz, lex, ley, lez, lineRadius, nil , nil , false , nil )\n        if pickedUpLiters > 0 then\n            if self.isServer then\n                spec.fillEffectType = fillTypeIndex\n\n                if spec.additives.available and not spec.additives.appliedByBufferOverloading then\n                    local fillTypeSupported = false\n                    for i = 1 , #spec.additives.fillTypes do\n                        if fillTypeIndex = = spec.additives.fillTypes[i] then\n                            fillTypeSupported = true\n                            break\n                        end\n                    end\n\n                    if fillTypeSupported then\n                        local additivesFillLevel = self:getFillUnitFillLevel(spec.additives.fillUnitIndex)\n                        if additivesFillLevel > 0 then\n                            local usage = spec.additives.usage * pickedUpLiters\n                            if usage > 0 then\n                                local availableUsage = math.min(additivesFillLevel / usage, 1 )\n\n                                pickedUpLiters = pickedUpLiters * ( 1 + 0.05 * availableUsage)\n\n                                self:addFillUnitFillLevel( self:getOwnerFarmId(), spec.additives.fillUnitIndex, - usage, self:getFillUnitFillType(spec.additives.fillUnitIndex), ToolType.UNDEFINED)\n\n                                spec.additives.isActiveTimer = 250\n                                spec.additives.isActive = true\n                                self:raiseDirtyFlags(spec.dirtyFlag)\n\n                                if self.isClient then\n                                    g_effectManager:setEffectTypeInfo(spec.additiveEffects, FillType.LIQUIDFERTILIZER)\n                                    g_effectManager:startEffects(spec.additiveEffects)\n                                end\n                            end\n                        end\n                    end\n                end\n            end\n\n            spec.pickupFillTypes[fillTypeIndex] = spec.pickupFillTypes[fillTypeIndex] + pickedUpLiters\n\n            spec.workAreaParameters.lastMissionUniqueId = mission ~ = nil and mission:getUniqueId() or nil\n            spec.workAreaParameters.lastPickedUpLiters = spec.workAreaParameters.lastPickedUpLiters + pickedUpLiters\n\n            return pickedUpLiters, pickedUpLiters\n        end\n    end\n\n    return 0 , 0\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"registerbalerxmlpaths",children:"registerBalerXMLPaths"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"registerBalerXMLPaths()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"schema"})]})}),(0,a.jsx)(n.tbody,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"basePath"})]})})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:'function Baler.registerBalerXMLPaths(schema, basePath)\n    schema:register(XMLValueType.FLOAT, basePath .. "#fillScale" , "Fill scale" , 1 )\n    schema:register(XMLValueType.INT, basePath .. "#fillUnitIndex" , "Fill unit index" , 1 )\n    schema:register(XMLValueType.FLOAT, basePath .. "#consumableUsage" , "Usage of bale net or twine per bale" , 0.025 )\n    schema:register(XMLValueType.BOOL, basePath .. "#useDropLandOwnershipForBales" , "Defines if the produced bales are always owned by the land owner of the current location while dropping the bale.If not, the owner is either the owner from the last workArea pickup location(if available) or the owner of the bale as default." , false )\n        schema:register(XMLValueType.FLOAT, basePath .. ".baleAnimation#spacing" , "Spacing between bales" , 0 )\n        schema:register(XMLValueType.BOOL, basePath .. ".baleAnimation#enableCollision" , "Enable collision of bales with any other object" , true )\n        schema:register(XMLValueType.FLOAT, basePath .. ".baleAnimation.key(?)#time" , "Key time" )\n        schema:register(XMLValueType.VECTOR_TRANS, basePath .. ".baleAnimation.key(?)#pos" , "Key position" )\n        schema:register(XMLValueType.VECTOR_ROT, basePath .. ".baleAnimation.key(?)#rot" , "Key rotation" )\n\n        schema:register(XMLValueType.STRING, basePath .. ".baleAnimation#closeAnimationName" , "Close animation name" )\n        schema:register(XMLValueType.FLOAT, basePath .. ".baleAnimation#closeAnimationSpeed" , "Close animation speed" , 1 )\n\n        schema:register(XMLValueType.BOOL, basePath .. ".automaticDrop#enabled" , "Automatic drop default enabled" , "true on mobile" )\n        schema:register(XMLValueType.BOOL, basePath .. ".automaticDrop#toggleable" , "Automatic bale drop can be toggled" , "false on mobile" )\n\n        schema:register(XMLValueType.L10N_STRING, basePath .. ".baleTypes#changeText" , "Change bale size text" , "action_changeBaleSize" )\n        schema:register(XMLValueType.BOOL, basePath .. ".baleTypes.baleType(?)#isRoundBale" , "Is round bale" , false )\n        schema:register(XMLValueType.FLOAT, basePath .. ".baleTypes.baleType(?)#width" , "Bale width" , 1.2 )\n        schema:register(XMLValueType.FLOAT, basePath .. ".baleTypes.baleType(?)#height" , "Bale height" , 0.9 )\n        schema:register(XMLValueType.FLOAT, basePath .. ".baleTypes.baleType(?)#length" , "Bale length" , 2.4 )\n        schema:register(XMLValueType.FLOAT, basePath .. ".baleTypes.baleType(?)#diameter" , "Bale diameter" , 2.8 )\n        schema:register(XMLValueType.BOOL, basePath .. ".baleTypes.baleType(?)#isDefault" , "Bale type is selected by default" , false )\n        schema:register(XMLValueType.FLOAT, basePath .. ".baleTypes.baleType(?)#consumableUsage" , "Usage of bale net or twine per bale" , 0.025 )\n        schema:register(XMLValueType.STRING, basePath .. ".baleTypes.baleType(?)#chamberBaleVariationId" , "Variation identifier of the dummy bale in the chamber" , "DEFAULT" )\n        schema:register(XMLValueType.STRING, basePath .. ".baleTypes.baleType(?)#defaultBaleVariationId" , "Variation identifier of the final bale of no consumables are used" , "DEFAULT" )\n\n        schema:register(XMLValueType.NODE_INDEX, basePath .. ".baleTypes.baleType(?).nodes#baleNode" , "Bale link node" )\n        schema:register(XMLValueType.NODE_INDEX, basePath .. ".baleTypes.baleType(?).nodes#baleRootNode" , "Bale root node" , "Same as baleNode" )\n        schema:register(XMLValueType.NODE_INDEX, basePath .. ".baleTypes.baleType(?).nodes#scaleNode" , "Bale scale node" )\n        schema:register(XMLValueType.VECTOR_ 3 , basePath .. ".baleTypes.baleType(?).nodes#scaleComponents" , "Bale scale component" )\n\n        schema:register(XMLValueType.STRING, basePath .. ".baleTypes.baleType(?).animations#fillAnimation" , "Fill animation while this bale type is active" )\n            schema:register(XMLValueType.STRING, basePath .. ".baleTypes.baleType(?).animations#unloadAnimation" , "Unload animation while this bale type is active" )\n                schema:register(XMLValueType.FLOAT, basePath .. ".baleTypes.baleType(?).animations#unloadAnimationSpeed" , "Unload animation speed" , 1 )\n                schema:register(XMLValueType.TIME, basePath .. ".baleTypes.baleType(?).animations#dropAnimationTime" , "Specific time in #unloadAnimation when to drop the bale" , "At the end of the unloading animation" )\n\n                schema:register(XMLValueType.NODE_INDEX, basePath .. ".baleTypes.baleType(?).detailVisibilityCutNode(?)#node" , "Reference node for details visibility cut" )\n                    schema:register(XMLValueType.INT, basePath .. ".baleTypes.baleType(?).detailVisibilityCutNode(?)#axis" , "Axis of visibility cut [1, 3]" , 3 )\n                    schema:register(XMLValueType.INT, basePath .. ".baleTypes.baleType(?).detailVisibilityCutNode(?)#direction" , "Direction of visibility cut [-1, 1]" , 1 )\n\n                    ObjectChangeUtil.registerObjectChangeXMLPaths(schema, basePath .. ".baleTypes.baleType(?)" )\n\n                    schema:register(XMLValueType.FLOAT, basePath .. "#unfinishedBaleThreshold" , "Threshold to unload a unfinished bale" , 2000 )\n                    schema:register(XMLValueType.BOOL, basePath .. "#canUnloadUnfinishedBale" , "Can unload unfinished bale" , false )\n\n                    SoundManager.registerSampleXMLPaths(schema, basePath .. ".sounds" , "work" )\n                    SoundManager.registerSampleXMLPaths(schema, basePath .. ".sounds" , "eject" )\n                    SoundManager.registerSampleXMLPaths(schema, basePath .. ".sounds" , "unload" )\n                    SoundManager.registerSampleXMLPaths(schema, basePath .. ".sounds" , "door" )\n                    SoundManager.registerSampleXMLPaths(schema, basePath .. ".sounds" , "knotCleaning" )\n                    SoundManager.registerSampleXMLPaths(schema, basePath .. ".sounds" , "bufferOverloadingStart(?)" )\n                    SoundManager.registerSampleXMLPaths(schema, basePath .. ".sounds" , "bufferOverloadingStop(?)" )\n                    SoundManager.registerSampleXMLPaths(schema, basePath .. ".sounds" , "bufferOverloadingWork(?)" )\n\n                    AnimationManager.registerAnimationNodesXMLPaths(schema, basePath .. ".animationNodes" )\n                    AnimationManager.registerAnimationNodesXMLPaths(schema, basePath .. ".unloadAnimationNodes" )\n\n                    EffectManager.registerEffectXMLPaths(schema, basePath .. ".fillEffect" )\n                    EffectManager.registerEffectXMLPaths(schema, basePath .. ".additiveEffects" )\n\n                    schema:register(XMLValueType.STRING, basePath .. ".knotingAnimation#name" , "Knoting animation name" )\n                    schema:register(XMLValueType.FLOAT, basePath .. ".knotingAnimation#speed" , "Knoting animation speed" , 1 )\n\n                    schema:register(XMLValueType.STRING, basePath .. ".compactingAnimation#name" , "Compacting animation name" )\n                    schema:register(XMLValueType.FLOAT, basePath .. ".compactingAnimation#interval" , "Compacting interval" , 60 )\n                    schema:register(XMLValueType.FLOAT, basePath .. ".compactingAnimation#compactTime" , "Compacting time" , 5 )\n                    schema:register(XMLValueType.FLOAT, basePath .. ".compactingAnimation#speed" , "Compacting animation speed" , 1 )\n                    schema:register(XMLValueType.FLOAT, basePath .. ".compactingAnimation#minFillLevelTime" , "Compacting min.fill level animation target time" , 1 )\n                    schema:register(XMLValueType.FLOAT, basePath .. ".compactingAnimation#maxFillLevelTime" , "Compacting max.fill level animation target time" , 0.1 )\n\n                    schema:register(XMLValueType.STRING, basePath .. "#maxPickupLitersPerSecond" , "Max pickup liters per second" , 500 )\n\n                    schema:register(XMLValueType.BOOL, basePath .. ".baleUnloading#allowed" , "Bale unloading allowed" , false )\n                    schema:register(XMLValueType.FLOAT, basePath .. ".baleUnloading#time" , "Bale unloading time" , 4 )\n                    schema:register(XMLValueType.FLOAT, basePath .. ".baleUnloading#foldThreshold" , "Bale unloading fold threshold" , 0.25 )\n\n                    schema:register(XMLValueType.L10N_STRING, basePath .. ".automaticDrop#textPos" , "Positive toggle automatic drop text" , "action_toggleAutomaticBaleDropPos" )\n                    schema:register(XMLValueType.L10N_STRING, basePath .. ".automaticDrop#textNeg" , "Negative toggle automatic drop text" , "action_toggleAutomaticBaleDropNeg" )\n\n                    schema:register(XMLValueType.STRING, basePath .. ".platform#animationName" , "Platform animation" )\n                    schema:register(XMLValueType.FLOAT, basePath .. ".platform#nextBaleTime" , "Animation time when directly the next bale is unloaded after dropping from platform" , 0 )\n                    schema:register(XMLValueType.BOOL, basePath .. ".platform#automaticDrop" , "Bale is automatically dropped from platform" , "true on mobile" )\n                    schema:register(XMLValueType.FLOAT, basePath .. ".platform#aiSpeed" , "Speed of AI while dropping a bale from platform(km/h)" , 3 )\n\n                        schema:register(XMLValueType.INT, basePath .. ".buffer#fillUnitIndex" , "Buffer fill unit index" )\n                        schema:register(XMLValueType.INT, basePath .. ".buffer#unloadInfoIndex" , "Fill volume unload info index index" , 1 )\n                        schema:register(XMLValueType.FLOAT, basePath .. ".buffer#capacityPercentage" , "If set, this percentage of the bale capacity is set for the buffer.If not set the defined capacity from the xml is used." )\n                            schema:register(XMLValueType.TIME, basePath .. ".buffer#overloadingDuration" , "Duration of overloading from buffer to baler unit(sec)" , 0.5 )\n                            schema:register(XMLValueType.TIME, basePath .. ".buffer#overloadingDelay" , "Time until the real overloading is starting(can be used to wait for the effects to be fully fade in) (sec)" , 0 )\n                                schema:register(XMLValueType.FLOAT, basePath .. ".buffer#overloadingStartFillLevelPct" , "Fill level percentage [0-1] of the buffer to start the overloading" , 1 )\n                                schema:register(XMLValueType.BOOL, basePath .. ".buffer#fillMainUnitAfterOverload" , "After overloading the full buffer to the main unit it will continue filling the main unit until it\'s full" , false )\n                                schema:register(XMLValueType.STRING, basePath .. ".buffer#balerDisplayType" , "Forced fill type to display on baler unit" )\n\n                                schema:register(XMLValueType.NODE_INDEX, basePath .. ".buffer.dummyBale#node" , "Dummy bale link node" )\n                                schema:register(XMLValueType.VECTOR_ 3 , basePath .. ".buffer.dummyBale#scaleComponents" , "Dummy bale link scale components" , "1 1 0" )\n\n                                schema:register(XMLValueType.STRING, basePath .. ".buffer.overloadAnimation#name" , "Name of overload animation" )\n                                schema:register(XMLValueType.FLOAT, basePath .. ".buffer.overloadAnimation#speedScale" , "Speed of overload animation" , 1 )\n\n                                schema:register(XMLValueType.STRING, basePath .. ".buffer.loadingStateAnimation#name" , "Name of loading state animation" )\n                                schema:register(XMLValueType.FLOAT, basePath .. ".buffer.loadingStateAnimation#speedScale" , "Speed of loading state animation" , 1 )\n\n                                EffectManager.registerEffectXMLPaths(schema, basePath .. ".buffer.overloadingEffect" )\n                                AnimationManager.registerAnimationNodesXMLPaths(schema, basePath .. ".buffer.overloadingAnimationNodes" )\n\n                                schema:register(XMLValueType.FLOAT, basePath .. ".variableSpeedLimit#targetLiterPerSecond" , "Target liters per second" , 200 )\n                                schema:register(XMLValueType.TIME, basePath .. ".variableSpeedLimit#changeInterval" , "Interval which adjusts speed limit to conditions" , 1 )\n                                schema:register(XMLValueType.FLOAT, basePath .. ".variableSpeedLimit#minSpeedLimit" , "Min.speed limit" , 5 )\n                                schema:register(XMLValueType.FLOAT, basePath .. ".variableSpeedLimit#maxSpeedLimit" , "Max.speed limit" , 15 )\n                                schema:register(XMLValueType.FLOAT, basePath .. ".variableSpeedLimit#defaultSpeedLimit" , "Default speed limit" , 10 )\n                                schema:register(XMLValueType.STRING, basePath .. ".variableSpeedLimit.target(?)#fillType" , "Name of fill type" )\n                                schema:register(XMLValueType.FLOAT, basePath .. ".variableSpeedLimit.target(?)#targetLiterPerSecond" , "Target liters per second with this fill type" , 200 )\n                                schema:register(XMLValueType.FLOAT, basePath .. ".variableSpeedLimit.target(?)#defaultSpeedLimit" , "Default speed limit with this fill type" , 10 )\n\n                                schema:register(XMLValueType.INT, basePath .. ".additives#fillUnitIndex" , "Additives fill unit index" )\n                                schema:register(XMLValueType.FLOAT, basePath .. ".additives#usage" , "Usage per picked up liter" , 0.0000275 )\n                                schema:register(XMLValueType.STRING, basePath .. ".additives#fillTypes" , "Fill types to apply additives" , "GRASS_WINDROW" )\n                                schema:register(XMLValueType.BOOL, basePath .. ".additives#appliedByBufferOverloading" , "Additives are applied while the buffer unit is overloaded into main unit" , false )\n                                end\n\n'})}),"\n",(0,a.jsx)(n.h3,{id:"registereventlisteners",children:"registerEventListeners"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"registerEventListeners()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,a.jsx)(n.table,{children:(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:'function Baler.registerEventListeners(vehicleType)\n    SpecializationUtil.registerEventListener(vehicleType, "onLoad" , Baler )\n    SpecializationUtil.registerEventListener(vehicleType, "onPostLoad" , Baler )\n    SpecializationUtil.registerEventListener(vehicleType, "onLoadFinished" , Baler )\n    SpecializationUtil.registerEventListener(vehicleType, "onDelete" , Baler )\n    SpecializationUtil.registerEventListener(vehicleType, "onReadStream" , Baler )\n    SpecializationUtil.registerEventListener(vehicleType, "onWriteStream" , Baler )\n    SpecializationUtil.registerEventListener(vehicleType, "onReadUpdateStream" , Baler )\n    SpecializationUtil.registerEventListener(vehicleType, "onWriteUpdateStream" , Baler )\n    SpecializationUtil.registerEventListener(vehicleType, "onUpdate" , Baler )\n    SpecializationUtil.registerEventListener(vehicleType, "onUpdateTick" , Baler )\n    SpecializationUtil.registerEventListener(vehicleType, "onDraw" , Baler )\n    SpecializationUtil.registerEventListener(vehicleType, "onRegisterActionEvents" , Baler )\n    SpecializationUtil.registerEventListener(vehicleType, "onRegisterExternalActionEvents" , Baler )\n    SpecializationUtil.registerEventListener(vehicleType, "onStartWorkAreaProcessing" , Baler )\n    SpecializationUtil.registerEventListener(vehicleType, "onEndWorkAreaProcessing" , Baler )\n    SpecializationUtil.registerEventListener(vehicleType, "onTurnedOn" , Baler )\n    SpecializationUtil.registerEventListener(vehicleType, "onTurnedOff" , Baler )\n    SpecializationUtil.registerEventListener(vehicleType, "onRootVehicleChanged" , Baler )\n    SpecializationUtil.registerEventListener(vehicleType, "onChangedFillType" , Baler )\n    SpecializationUtil.registerEventListener(vehicleType, "onFillUnitFillLevelChanged" , Baler )\n    SpecializationUtil.registerEventListener(vehicleType, "onConsumableVariationChanged" , Baler )\nend\n\n'})}),"\n",(0,a.jsx)(n.h3,{id:"registerevents",children:"registerEvents"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"registerEvents()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,a.jsx)(n.table,{children:(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:'function Baler.registerEvents(vehicleType)\n    SpecializationUtil.registerEvent(vehicleType, "onBalerUnloadingStarted" )\n    SpecializationUtil.registerEvent(vehicleType, "onBalerUnloadingFinished" )\nend\n\n'})}),"\n",(0,a.jsx)(n.h3,{id:"registerfunctions",children:"registerFunctions"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"registerFunctions()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,a.jsx)(n.table,{children:(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:'function Baler.registerFunctions(vehicleType)\n    SpecializationUtil.registerFunction(vehicleType, "processBalerArea" , Baler.processBalerArea)\n    SpecializationUtil.registerFunction(vehicleType, "setBaleTypeIndex" , Baler.setBaleTypeIndex)\n    SpecializationUtil.registerFunction(vehicleType, "isUnloadingAllowed" , Baler.isUnloadingAllowed)\n    SpecializationUtil.registerFunction(vehicleType, "getTimeFromLevel" , Baler.getTimeFromLevel)\n    SpecializationUtil.registerFunction(vehicleType, "moveBales" , Baler.moveBales)\n    SpecializationUtil.registerFunction(vehicleType, "moveBale" , Baler.moveBale)\n    SpecializationUtil.registerFunction(vehicleType, "setIsUnloadingBale" , Baler.setIsUnloadingBale)\n    SpecializationUtil.registerFunction(vehicleType, "getIsBaleUnloading" , Baler.getIsBaleUnloading)\n    SpecializationUtil.registerFunction(vehicleType, "dropBale" , Baler.dropBale)\n    SpecializationUtil.registerFunction(vehicleType, "finishBale" , Baler.finishBale)\n    SpecializationUtil.registerFunction(vehicleType, "createBale" , Baler.createBale)\n    SpecializationUtil.registerFunction(vehicleType, "setBaleTime" , Baler.setBaleTime)\n    SpecializationUtil.registerFunction(vehicleType, "getCanUnloadUnfinishedBale" , Baler.getCanUnloadUnfinishedBale)\n    SpecializationUtil.registerFunction(vehicleType, "setBalerAutomaticDrop" , Baler.setBalerAutomaticDrop)\n    SpecializationUtil.registerFunction(vehicleType, "updateDummyBale" , Baler.updateDummyBale)\n    SpecializationUtil.registerFunction(vehicleType, "deleteDummyBale" , Baler.deleteDummyBale)\n    SpecializationUtil.registerFunction(vehicleType, "createDummyBale" , Baler.createDummyBale)\n    SpecializationUtil.registerFunction(vehicleType, "handleUnloadingBaleEvent" , Baler.handleUnloadingBaleEvent)\n    SpecializationUtil.registerFunction(vehicleType, "dropBaleFromPlatform" , Baler.dropBaleFromPlatform)\n    SpecializationUtil.registerFunction(vehicleType, "getBalerBaleOwnerFarmId" , Baler.getBalerBaleOwnerFarmId)\n    SpecializationUtil.registerFunction(vehicleType, "getIsRoundBaler" , Baler.getIsRoundBaler)\nend\n\n'})}),"\n",(0,a.jsx)(n.h3,{id:"registeroverwrittenfunctions",children:"registerOverwrittenFunctions"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"registerOverwrittenFunctions()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,a.jsx)(n.table,{children:(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:'function Baler.registerOverwrittenFunctions(vehicleType)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "loadSpeedRotatingPartFromXML" , Baler.loadSpeedRotatingPartFromXML)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "doCheckSpeedLimit" , Baler.doCheckSpeedLimit)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getIsSpeedRotatingPartActive" , Baler.getIsSpeedRotatingPartActive)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getCanBeTurnedOn" , Baler.getCanBeTurnedOn)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getIsFoldAllowed" , Baler.getIsFoldAllowed)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getIsWorkAreaActive" , Baler.getIsWorkAreaActive)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getConsumingLoad" , Baler.getConsumingLoad)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getRequiresPower" , Baler.getRequiresPower)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getCanBeSelected" , Baler.getCanBeSelected)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getIsAttachedTo" , Baler.getIsAttachedTo)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getAllowDynamicMountFillLevelInfo" , Baler.getAllowDynamicMountFillLevelInfo)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getAlarmTriggerIsActive" , Baler.getAlarmTriggerIsActive)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "loadAlarmTrigger" , Baler.loadAlarmTrigger)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getShowConsumableEmptyWarning" , Baler.getShowConsumableEmptyWarning)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "addToPhysics" , Baler.addToPhysics)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "removeFromPhysics" , Baler.removeFromPhysics)\nend\n\n'})}),"\n",(0,a.jsx)(n.h3,{id:"removefromphysics",children:"removeFromPhysics"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"Add to physics"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"removeFromPhysics()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,a.jsx)(n.table,{children:(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,a.jsx)(n.table,{children:(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"success"}),(0,a.jsx)(n.th,{children:"success"})]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Baler:removeFromPhysics(superFunc)\n    if not superFunc( self ) then\n        return false\n    end\n\n    local spec = self.spec_baler\n    for baleIndex, bale in pairs(spec.bales) do\n        if bale.baleObject ~ = nil then\n            bale.baleObject:removeFromPhysics()\n\n            if not spec.hasUnloadingAnimation then\n                if bale.baleJointIndex ~ = nil then\n                    removeJoint(bale.baleJointIndex)\n                    bale.baleJointIndex = nil\n                end\n            end\n        end\n    end\n\n    return true\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"savetoxmlfile",children:"saveToXMLFile"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"saveToXMLFile()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"xmlFile"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"key"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"usedModNames"})]})]})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:'function Baler:saveToXMLFile(xmlFile, key, usedModNames)\n    local spec = self.spec_baler\n    -- never save bales on round balers since they can only have one bale and that is saved in the fillUnit\n    -- if the fill unit is not full we try to save the bale(maybe the user saves while unloading)\n        if not spec.hasUnloadingAnimation or self:getFillUnitFreeCapacity(spec.fillUnitIndex) > 0 then\n            xmlFile:setValue(key .. "#numBales" , #spec.bales)\n\n            for k, bale in ipairs(spec.bales) do\n                local baleKey = string.format( "%s.bale(%d)" , key, k - 1 )\n                xmlFile:setValue(baleKey .. "#filename" , bale.filename)\n                xmlFile:setValue(baleKey .. "#variationId" , bale.baleObject:getVariationId())\n                xmlFile:setValue(baleKey .. "#ownerFarmId" , bale.baleObject:getOwnerFarmId())\n\n                local fillTypeStr = "UNKNOWN"\n                if bale.fillType ~ = FillType.UNKNOWN then\n                    fillTypeStr = g_fillTypeManager:getFillTypeNameByIndex(bale.fillType)\n                end\n                xmlFile:setValue(baleKey .. "#fillType" , fillTypeStr)\n                xmlFile:setValue(baleKey .. "#fillLevel" , bale.fillLevel)\n\n                if spec.baleAnimCurve ~ = nil then\n                    xmlFile:setValue(baleKey .. "#baleTime" , bale.time )\n                end\n            end\n        end\n\n        if spec.hasPlatform then\n            xmlFile:setValue(key .. "#platformReadyToDrop" , spec.platformReadyToDrop)\n        end\n\n        xmlFile:setValue(key .. "#baleTypeIndex" , spec.currentBaleTypeIndex)\n        xmlFile:setValue(key .. "#preSelectedBaleTypeIndex" , spec.preSelectedBaleTypeIndex)\n\n        xmlFile:setValue(key .. "#fillUnitCapacity" , self:getFillUnitCapacity(spec.fillUnitIndex))\n\n        local mission = g_missionManager:getMissionByUniqueId(spec.workAreaParameters.lastMissionUniqueId)\n        if mission ~ = nil and mission:getIsRunning() then\n            xmlFile:setValue(key .. "#workAreaMissionUniqueId" , mission:getUniqueId())\n        end\n\n        if spec.nonStopBaling then\n            xmlFile:setValue(key .. "#bufferUnloadingStarted" , spec.buffer.unloadingStarted)\n        end\n    end\n\n'})}),"\n",(0,a.jsx)(n.h3,{id:"setbalerautomaticdrop",children:"setBalerAutomaticDrop"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"Sets automatic drop state"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"setBalerAutomaticDrop()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"state"})]})}),(0,a.jsx)(n.tbody,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"noEventSend"})]})})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Baler:setBalerAutomaticDrop(state, noEventSend)\n    local spec = self.spec_baler\n    if state = = nil then\n        if spec.hasPlatform then\n            state = not spec.platformAutomaticDrop\n        else\n                state = not spec.automaticDrop\n            end\n        end\n\n        if spec.hasPlatform then\n            spec.platformAutomaticDrop = state\n        else\n                spec.automaticDrop = state\n            end\n\n            -- update so we have the unloading action events\n            self:requestActionEventUpdate()\n\n            BalerAutomaticDropEvent.sendEvent( self , state, noEventSend)\n        end\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"setbaletime",children:"setBaleTime"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"setBaleTime()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"i"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"baleTime"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"noEventSend"})]})]})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:'function Baler:setBaleTime(i, baleTime, noEventSend)\n    local spec = self.spec_baler\n\n    if spec.baleAnimCurve ~ = nil then\n        local bale = spec.bales[i]\n        if bale ~ = nil then\n            bale.time = baleTime\n            if self.isServer then\n                local x, y, z, rx, ry, rz = spec.baleAnimCurve:get(bale.time )\n                setTranslation(bale.baleJointNode, x, y, z)\n                setRotation(bale.baleJointNode, rx, ry, rz)\n                if bale.baleJointIndex ~ = 0 then\n                    setJointFrame(bale.baleJointIndex, 0 , bale.baleJointNode)\n                end\n            end\n            if bale.time > = 1 then\n                self:dropBale(i)\n            end\n            if #spec.bales = = 0 then\n                spec.isBaleUnloading = false\n\n                if self.isClient then\n                    g_soundManager:stopSample(spec.samples.unload)\n                end\n\n                SpecializationUtil.raiseEvent( self , "onBalerUnloadingFinished" , spec.balesToUnload)\n            end\n            if self.isServer then\n                if noEventSend = = nil or not noEventSend then\n                    g_server:broadcastEvent(BalerSetBaleTimeEvent.new( self , i, bale.time ), nil , nil , self )\n                end\n            end\n        end\n    end\nend\n\n'})}),"\n",(0,a.jsx)(n.h3,{id:"setbaletypeindex",children:"setBaleTypeIndex"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"setBaleTypeIndex()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"baleTypeIndex"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"force"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"noEventSend"})]})]})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Baler:setBaleTypeIndex(baleTypeIndex, force, noEventSend)\n    local spec = self.spec_baler\n\n    spec.preSelectedBaleTypeIndex = baleTypeIndex\n    if self:getFillUnitFillLevel(spec.fillUnitIndex) = = 0 or force then\n        spec.currentBaleTypeIndex = baleTypeIndex\n    end\n\n    Baler.updateActionEvents( self )\n\n    BalerBaleTypeEvent.sendEvent( self , baleTypeIndex, force, noEventSend)\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"setisunloadingbale",children:"setIsUnloadingBale"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"setIsUnloadingBale()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"isUnloadingBale"})]})}),(0,a.jsx)(n.tbody,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"noEventSend"})]})})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:'function Baler:setIsUnloadingBale(isUnloadingBale, noEventSend)\n    local spec = self.spec_baler\n\n    if spec.hasUnloadingAnimation then\n        if isUnloadingBale then\n            if spec.unloadingState ~ = Baler.UNLOADING_OPENING then\n                if #spec.bales = = 0 and spec.canUnloadUnfinishedBale then\n                    local fillTypeIndex = self:getFillUnitFillType(spec.fillUnitIndex)\n                    local fillLevel = self:getFillUnitFillLevel(spec.fillUnitIndex)\n                    if spec.buffer.fillUnitIndex ~ = nil then\n                        fillLevel = fillLevel + self:getFillUnitFillLevel(spec.buffer.fillUnitIndex)\n\n                        if fillTypeIndex = = FillType.UNKNOWN then\n                            fillTypeIndex = self:getFillUnitFillType(spec.buffer.fillUnitIndex)\n                        end\n                    end\n\n                    if fillLevel > spec.unfinishedBaleThreshold then\n                        local delta = self:getFillUnitFreeCapacity(spec.fillUnitIndex)\n                        fillLevel = math.min(fillLevel, self:getFillUnitCapacity(spec.fillUnitIndex))\n\n                        if spec.buffer.fillUnitIndex ~ = nil then\n                            local mainFillLevel = self:getFillUnitFillLevel(spec.fillUnitIndex)\n                            self:addFillUnitFillLevel( self:getOwnerFarmId(), spec.buffer.fillUnitIndex, - math.max(fillLevel - mainFillLevel, 0 ), self:getFillUnitFillType(spec.buffer.fillUnitIndex), ToolType.UNDEFINED)\n                        end\n\n                        spec.lastBaleFillLevel = fillLevel\n                        self:setFillUnitFillLevelToDisplay(spec.fillUnitIndex, fillLevel)\n                        self:addFillUnitFillLevel( self:getOwnerFarmId(), spec.fillUnitIndex, delta, fillTypeIndex, ToolType.UNDEFINED)\n                        spec.buffer.unloadingStarted = false\n                    end\n                end\n\n                BalerSetIsUnloadingBaleEvent.sendEvent( self , isUnloadingBale, noEventSend)\n                spec.unloadingState = Baler.UNLOADING_OPENING\n                if self.isClient then\n                    g_soundManager:playSample(spec.samples.eject)\n                    g_soundManager:playSample(spec.samples.door)\n                end\n\n                local baleTypeDef = spec.baleTypes[spec.currentBaleTypeIndex]\n                self:playAnimation(baleTypeDef.animations.unloading, baleTypeDef.animations.unloadingSpeed, nil , true )\n            end\n        else\n                if spec.unloadingState ~ = Baler.UNLOADING_CLOSING and spec.unloadingState ~ = Baler.UNLOADING_CLOSED then\n                    BalerSetIsUnloadingBaleEvent.sendEvent( self , isUnloadingBale, noEventSend)\n                    spec.unloadingState = Baler.UNLOADING_CLOSING\n                    if self.isClient then\n                        g_soundManager:playSample(spec.samples.door)\n                    end\n                    self:playAnimation(spec.baleCloseAnimationName, spec.baleCloseAnimationSpeed, nil , true )\n                end\n            end\n        elseif spec.allowsBaleUnloading then\n                if isUnloadingBale then\n                    BalerSetIsUnloadingBaleEvent.sendEvent( self , isUnloadingBale, noEventSend)\n                    spec.isBaleUnloading = true\n                    spec.balesToUnload = #spec.bales\n\n                    if self.isClient then\n                        g_soundManager:playSample(spec.samples.unload)\n                    end\n\n                    SpecializationUtil.raiseEvent( self , "onBalerUnloadingStarted" , spec.balesToUnload)\n                end\n            end\n        end\n\n'})}),"\n",(0,a.jsx)(n.h3,{id:"updateactionevents",children:"updateActionEvents"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"updateActionEvents()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,a.jsx)(n.table,{children:(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"self"})]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Baler.updateActionEvents( self )\n    local spec = self.spec_baler\n    local actionEvent = spec.actionEvents[InputAction.IMPLEMENT_EXTRA3]\n    if actionEvent ~ = nil then\n        local showAction = false\n\n        if not spec.automaticDrop and self:isUnloadingAllowed() then\n            if spec.hasUnloadingAnimation or spec.allowsBaleUnloading then\n\n                if spec.unloadingState = = Baler.UNLOADING_CLOSED then\n                    if self:getCanUnloadUnfinishedBale() then\n                        g_inputBinding:setActionEventText(actionEvent.actionEventId, spec.texts.unloadUnfinishedBale)\n                        showAction = true\n                    end\n                    if #spec.bales > 0 then\n                        g_inputBinding:setActionEventText(actionEvent.actionEventId, spec.texts.unloadBaler)\n                        showAction = true\n                    end\n                elseif spec.unloadingState = = Baler.UNLOADING_OPEN then\n                        if spec.hasUnloadingAnimation then\n                            g_inputBinding:setActionEventText(actionEvent.actionEventId, spec.texts.closeBack)\n                            showAction = true\n                        end\n                    end\n                end\n            end\n\n            if spec.platformReadyToDrop then\n                g_inputBinding:setActionEventText(actionEvent.actionEventId, spec.texts.unloadBaler)\n                showAction = true\n            else\n                    if spec.hasPlatform then\n                        if spec.automaticDrop and self:isUnloadingAllowed() then\n                            if spec.hasUnloadingAnimation or spec.allowsBaleUnloading then\n                                if spec.unloadingState = = Baler.UNLOADING_CLOSED then\n                                    if self:getCanUnloadUnfinishedBale() then\n                                        g_inputBinding:setActionEventText(actionEvent.actionEventId, spec.texts.unloadUnfinishedBale)\n                                        showAction = true\n                                    end\n                                end\n                            end\n                        end\n                    end\n                end\n\n                g_inputBinding:setActionEventActive(actionEvent.actionEventId, showAction)\n            end\n\n            if spec.toggleableAutomaticDrop then\n                actionEvent = spec.actionEvents[InputAction.IMPLEMENT_EXTRA4]\n                if actionEvent ~ = nil then\n                    local automaticDropState = spec.automaticDrop\n                    if spec.hasPlatform then\n                        automaticDropState = spec.platformAutomaticDrop\n                    end\n                    g_inputBinding:setActionEventText(actionEvent.actionEventId, automaticDropState and spec.toggleAutomaticDropTextNeg or spec.toggleAutomaticDropTextPos)\n                end\n            end\n\n            if #spec.baleTypes > 1 then\n                actionEvent = spec.actionEvents[InputAction.TOGGLE_BALE_TYPES]\n                if actionEvent ~ = nil then\n                    local baleTypeDef = spec.baleTypes[spec.preSelectedBaleTypeIndex]\n                    local baleSize\n                    if spec.hasUnloadingAnimation then\n                        baleSize = baleTypeDef.diameter\n                    else\n                            baleSize = baleTypeDef.length\n                        end\n\n                        g_inputBinding:setActionEventText(actionEvent.actionEventId, spec.changeBaleTypeText:format(baleSize * 100 ))\n                    end\n                end\n            end\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"updatedummybale",children:"updateDummyBale"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"updateDummyBale()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"dummyBaleData"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"fillTypeIndex"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"fillLevel"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"capacity"})]})]})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Baler:updateDummyBale(dummyBaleData, fillTypeIndex, fillLevel, capacity)\n    local spec = self.spec_baler\n    local baleTypeDef = dummyBaleData.baleTypeDef or spec.baleTypes[spec.currentBaleTypeIndex]\n    local generatedBale = false\n    local baleNode = dummyBaleData.linkNode or baleTypeDef.baleNode\n    if baleNode ~ = nil and fillLevel > 0 and fillLevel < capacity and(dummyBaleData.currentBale = = nil or dummyBaleData.currentBaleFillType ~ = fillTypeIndex) then\n        if dummyBaleData.currentBale ~ = nil then\n            self:deleteDummyBale(dummyBaleData)\n        end\n\n        self:createDummyBale(dummyBaleData, fillTypeIndex)\n        generatedBale = true\n    end\n\n    if dummyBaleData.currentBale ~ = nil then\n        local scaleNode = dummyBaleData.linkNode or baleTypeDef.scaleNode\n        if scaleNode ~ = nil and capacity > 0 then\n            local percentage = fillLevel / capacity\n            local x = 1\n            local y = baleTypeDef.isRoundBale and percentage or 1\n            local z = percentage\n\n            local scaleComponents = dummyBaleData.scaleComponents or baleTypeDef.scaleComponents\n            if scaleComponents ~ = nil then\n                x, y, z = 1 , 1 , 1\n                for axis, value in ipairs(scaleComponents) do\n                    if value > 0 then\n                        if axis = = 1 then\n                            x = percentage * value\n                        elseif axis = = 2 then\n                                y = percentage * value\n                            else\n                                    z = percentage * value\n                                end\n                            end\n                        end\n                    end\n\n                    setScale(scaleNode, x, y, z)\n                end\n            end\n\n            return generatedBale\n        end\n\n"})})]})}function p(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(o,{...e})}):o(e)}},28453(e,n,l){l.d(n,{R:()=>s,x:()=>r});var i=l(96540);const a={},t=i.createContext(a);function s(e){const n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);