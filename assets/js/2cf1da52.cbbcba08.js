"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[43597],{28453(e,n,t){t.d(n,{R:()=>l,x:()=>d});var i=t(96540);const r={},s=i.createContext(r);function l(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),i.createElement(s.Provider,{value:n},e.children)}},73613(e,n,t){t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"script/Objects/AnimatedMapObject","title":"AnimatedMapObject","description":"AnimatedMapObject","source":"@site/../docs/script/Objects/AnimatedMapObject.md","sourceDirName":"script/Objects","slug":"/script/Objects/AnimatedMapObject","permalink":"/FS25-Community-LUADOC/script/Objects/AnimatedMapObject","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"PlayerServerNetworkComponent","permalink":"/FS25-Community-LUADOC/script/Networking/PlayerServerNetworkComponent"},"next":{"title":"AnimatedObject","permalink":"/FS25-Community-LUADOC/script/Objects/AnimatedObject"}}');var r=t(74848),s=t(28453);const l={},d=void 0,c={},o=[{value:"AnimatedMapObject",id:"animatedmapobject",level:2},{value:"load",id:"load",level:3},{value:"new",id:"new",level:3},{value:"onCreate",id:"oncreate",level:3}];function a(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"animatedmapobject",children:"AnimatedMapObject"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Class for animated map objects"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parent"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"?version=script&category=63&class=573",children:"AnimatedObject"})}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Functions"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#load",children:"load"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#new",children:"new"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#oncreate",children:"onCreate"})}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"load",children:"load"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Load animated object attributes from object"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"load(integer nodeId)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,r.jsx)(n.table,{children:(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"integer"}),(0,r.jsx)(n.th,{children:"nodeId"}),(0,r.jsx)(n.th,{children:"id of object to load from"})]})})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,r.jsx)(n.table,{children:(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"integer"}),(0,r.jsx)(n.th,{children:"success"}),(0,r.jsx)(n.th,{children:"success"})]})})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'function AnimatedMapObject:load(nodeId)\n    local xmlFilename = getUserAttribute(nodeId, "xmlFilename" )\n    if xmlFilename = = nil then\n        Logging.error( "Missing \'xmlFilename\' user attribute for AnimatedMapObject node \'%s\'!" , getName(nodeId))\n            return false\n        end\n\n        local baseDir = g_currentMission.loadingMapBaseDirectory\n        if baseDir = = "" then\n            baseDir = Utils.getNoNil( self.baseDirectory, baseDir)\n        end\n        xmlFilename = Utils.getFilename(xmlFilename, baseDir)\n\n        local saveId = getUserAttribute(nodeId, "saveId" ) or getUserAttribute(nodeId, "index" ) -- TODO:remove support for old "index"\n            if saveId = = nil then\n                Logging.error( "Missing \'saveId\' user attribute for AnimatedMapObject node \'%s\'!" , getName(nodeId))\n                    return false\n                end\n\n                local xmlFile = XMLFile.load( "AnimatedObject" , xmlFilename, AnimatedMapObject.xmlSchema)\n                if xmlFile = = nil then\n                    return false\n                end\n\n                -- Find the saveId in the XML\n                local key\n                xmlFile:iterate( "animatedObjects.animatedObject" , function (_, objectKey)\n                    local configSaveId = xmlFile:getString(objectKey .. "#saveId" ) or xmlFile:getString(objectKey .. "#index" ) -- TODO:remove support for old "index"\n                        if configSaveId = = saveId then\n                            key = objectKey\n                            return true\n                        end\n                        return\n                    end )\n\n                    if key = = nil then\n                        Logging.error( "saveId \'%s\' not found in AnimatedObject xml \'%s\'!" , saveId, xmlFilename)\n                        return false\n                    end\n\n                    local result = AnimatedMapObject:superClass().load( self , nodeId, xmlFile, key, xmlFilename)\n\n                    xmlFile:delete()\n\n                    return result\n                end\n\n'})}),"\n",(0,r.jsx)(n.h3,{id:"new",children:"new"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Creating new instance of animated object class"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"new(boolean isServer, boolean isClient, table? customMt)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"boolean"}),(0,r.jsx)(n.th,{children:"isServer"}),(0,r.jsx)(n.th,{children:"is server"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"boolean"}),(0,r.jsx)(n.td,{children:"isClient"}),(0,r.jsx)(n.td,{children:"is client"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"table?"}),(0,r.jsx)(n.td,{children:"customMt"}),(0,r.jsx)(n.td,{children:"custom metatable"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,r.jsx)(n.table,{children:(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"table?"}),(0,r.jsx)(n.th,{children:"self"}),(0,r.jsx)(n.th,{children:"new instance of object"})]})})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function AnimatedMapObject.new(isServer, isClient, customMt)\n    return AnimatedObject.new(isServer, isClient, customMt or AnimatedMapObject _mt)\nend\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"oncreate",children:"onCreate"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Creating animated object"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"onCreate(integer id)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,r.jsx)(n.table,{children:(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"integer"}),(0,r.jsx)(n.th,{children:"id"}),(0,r.jsx)(n.th,{children:"node id"})]})})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function AnimatedMapObject:onCreate(id)\n    local object = AnimatedMapObject.new(g_server ~ = nil , g_client ~ = nil )\n    if object:load(id) then\n        g_currentMission.onCreateObjectSystem:add(object, true )\n        object:register( true )\n    else\n            object:delete()\n        end\n    end\n\n"})})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}}}]);