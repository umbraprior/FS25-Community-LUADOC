"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[10055],{13262(e,n,l){l.r(n),l.d(n,{assets:()=>r,contentTitle:()=>c,default:()=>h,frontMatter:()=>d,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"script/Vehicles/VehicleSystem","title":"VehicleSystem","description":"VehicleSystem","source":"@site/../docs/script/Vehicles/VehicleSystem.md","sourceDirName":"script/Vehicles","slug":"/script/Vehicles/VehicleSystem","permalink":"/FS25-Community-LUADOC/script/Vehicles/VehicleSystem","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"VehicleMotor","permalink":"/FS25-Community-LUADOC/script/Vehicles/VehicleMotor"},"next":{"title":"VehicleTeleportEvent","permalink":"/FS25-Community-LUADOC/script/Vehicles/VehicleTeleportEvent"}}');var t=l(74848),s=l(28453);const d={},c=void 0,r={},o=[{value:"VehicleSystem",id:"vehiclesystem",level:2},{value:"addEnterableVehicle",id:"addenterablevehicle",level:3},{value:"addInteractiveVehicle",id:"addinteractivevehicle",level:3},{value:"addPendingVehicleLoad",id:"addpendingvehicleload",level:3},{value:"addVehicle",id:"addvehicle",level:3},{value:"canStartMission",id:"canstartmission",level:3},{value:"consoleCommandAddDamageAmount",id:"consolecommandadddamageamount",level:3},{value:"consoleCommandAddDirtAmount",id:"consolecommandadddirtamount",level:3},{value:"consoleCommandAddPallet",id:"consolecommandaddpallet",level:3},{value:"consoleCommandAddWearAmount",id:"consolecommandaddwearamount",level:3},{value:"consoleCommandAddWetnessAmount",id:"consolecommandaddwetnessamount",level:3},{value:"consoleCommandExportVehicleSets",id:"consolecommandexportvehiclesets",level:3},{value:"consoleCommandFillUnitAdd",id:"consolecommandfillunitadd",level:3},{value:"consoleCommandLoadAllVehicles",id:"consolecommandloadallvehicles",level:3},{value:"consoleCommandLoadAllVehiclesNext",id:"consolecommandloadallvehiclesnext",level:3},{value:"consoleCommandReloadVehicle",id:"consolecommandreloadvehicle",level:3},{value:"consoleCommandSetFuel",id:"consolecommandsetfuel",level:3},{value:"consoleCommandSetMotorTemperature",id:"consolecommandsetmotortemperature",level:3},{value:"consoleCommandSetOperatingTime",id:"consolecommandsetoperatingtime",level:3},{value:"consoleCommandShowVehicleDistance",id:"consolecommandshowvehicledistance",level:3},{value:"consoleCommandVehicleRemoveAll",id:"consolecommandvehicleremoveall",level:3},{value:"consoleCommandVehicleToggleRandomFail",id:"consolecommandvehicletogglerandomfail",level:3},{value:"delete",id:"delete",level:3},{value:"deleteAll",id:"deleteall",level:3},{value:"draw",id:"draw",level:3},{value:"getNextEnterableVehicle",id:"getnextenterablevehicle",level:3},{value:"getVehicleByNodeId",id:"getvehiclebynodeid",level:3},{value:"getVehicleByUniqueId",id:"getvehiclebyuniqueid",level:3},{value:"load",id:"load",level:3},{value:"loadFromXMLFile",id:"loadfromxmlfile",level:3},{value:"loadVehicleFinished",id:"loadvehiclefinished",level:3},{value:"loadVehicleFromXML",id:"loadvehiclefromxml",level:3},{value:"new",id:"new",level:3},{value:"onVehicleBuyEvent",id:"onvehiclebuyevent",level:3},{value:"registerInputAttacherJoint",id:"registerinputattacherjoint",level:3},{value:"removeEnterableVehicle",id:"removeenterablevehicle",level:3},{value:"removeInputAttacherJoint",id:"removeinputattacherjoint",level:3},{value:"removeInteractiveVehicle",id:"removeinteractivevehicle",level:3},{value:"removePendingVehicleLoad",id:"removependingvehicleload",level:3},{value:"removeVehicle",id:"removevehicle",level:3},{value:"save",id:"save",level:3},{value:"saveToXML",id:"savetoxml",level:3},{value:"saveVehicleToXML",id:"savevehicletoxml",level:3},{value:"setEnteredVehicle",id:"setenteredvehicle",level:3},{value:"update",id:"update",level:3},{value:"updateInputAttacherJoint",id:"updateinputattacherjoint",level:3},{value:"updatePendingSavegameLoadings",id:"updatependingsavegameloadings",level:3}];function a(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"vehiclesystem",children:"VehicleSystem"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Stores all vehicles of the savegame and handles the loading of them"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Functions"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#addenterablevehicle",children:"addEnterableVehicle"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#addinteractivevehicle",children:"addInteractiveVehicle"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#addpendingvehicleload",children:"addPendingVehicleLoad"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#addvehicle",children:"addVehicle"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#canstartmission",children:"canStartMission"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#consolecommandadddamageamount",children:"consoleCommandAddDamageAmount"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#consolecommandadddirtamount",children:"consoleCommandAddDirtAmount"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#consolecommandaddpallet",children:"consoleCommandAddPallet"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#consolecommandaddwearamount",children:"consoleCommandAddWearAmount"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#consolecommandaddwetnessamount",children:"consoleCommandAddWetnessAmount"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#consolecommandexportvehiclesets",children:"consoleCommandExportVehicleSets"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#consolecommandfillunitadd",children:"consoleCommandFillUnitAdd"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#consolecommandloadallvehicles",children:"consoleCommandLoadAllVehicles"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#consolecommandloadallvehiclesnext",children:"consoleCommandLoadAllVehiclesNext"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#consolecommandreloadvehicle",children:"consoleCommandReloadVehicle"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#consolecommandsetfuel",children:"consoleCommandSetFuel"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#consolecommandsetmotortemperature",children:"consoleCommandSetMotorTemperature"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#consolecommandsetoperatingtime",children:"consoleCommandSetOperatingTime"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#consolecommandshowvehicledistance",children:"consoleCommandShowVehicleDistance"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#consolecommandvehicleremoveall",children:"consoleCommandVehicleRemoveAll"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#consolecommandvehicletogglerandomfail",children:"consoleCommandVehicleToggleRandomFail"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#delete",children:"delete"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#deleteall",children:"deleteAll"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#draw",children:"draw"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#getnextenterablevehicle",children:"getNextEnterableVehicle"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#getvehiclebynodeid",children:"getVehicleByNodeId"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#getvehiclebyuniqueid",children:"getVehicleByUniqueId"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#load",children:"load"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#loadfromxmlfile",children:"loadFromXMLFile"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#loadvehiclefinished",children:"loadVehicleFinished"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#loadvehiclefromxml",children:"loadVehicleFromXML"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#new",children:"new"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#onvehiclebuyevent",children:"onVehicleBuyEvent"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#registerinputattacherjoint",children:"registerInputAttacherJoint"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#removeenterablevehicle",children:"removeEnterableVehicle"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#removeinputattacherjoint",children:"removeInputAttacherJoint"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#removeinteractivevehicle",children:"removeInteractiveVehicle"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#removependingvehicleload",children:"removePendingVehicleLoad"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#removevehicle",children:"removeVehicle"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#save",children:"save"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#savetoxml",children:"saveToXML"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#savevehicletoxml",children:"saveVehicleToXML"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#setenteredvehicle",children:"setEnteredVehicle"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#update",children:"update"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#updateinputattacherjoint",children:"updateInputAttacherJoint"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#updatependingsavegameloadings",children:"updatePendingSavegameLoadings"})}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"addenterablevehicle",children:"addEnterableVehicle"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"addEnterableVehicle()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"vehicle"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function VehicleSystem:addEnterableVehicle(vehicle)\n    table.addElement( self.enterables, vehicle)\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"addinteractivevehicle",children:"addInteractiveVehicle"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"addInteractiveVehicle()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"vehicle"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function VehicleSystem:addInteractiveVehicle(vehicle)\n    self.interactiveVehicles[vehicle] = vehicle\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"addpendingvehicleload",children:"addPendingVehicleLoad"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"addPendingVehicleLoad()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"vehicleLoadingData"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function VehicleSystem:addPendingVehicleLoad(vehicleLoadingData)\n    table.addElement( self.pendingVehicleLoadingData, vehicleLoadingData)\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"addvehicle",children:"addVehicle"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"addVehicle()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"vehicle"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function VehicleSystem:addVehicle(vehicle)\n    if vehicle = = nil or vehicle:isa( Vehicle ) = = nil then\n        Logging.error( "Given object is not a vehicle" )\n        return false\n    end\n\n    -- Ensure the vehicle has not already been added.\n    if vehicle:getUniqueId() ~ = nil and self.vehicleByUniqueId[vehicle:getUniqueId()] ~ = nil then\n        Logging.warning( "Tried to add existing vehicle with unique id of %s! Existing: %s, new: %s" , vehicle:getUniqueId(), tostring( self.vehicleByUniqueId[vehicle:getUniqueId()]), tostring(vehicle))\n        return false\n    end\n\n    -- If the vehicle has no unique id, give it one.\n    if vehicle:getUniqueId() = = nil then\n        vehicle:setUniqueId( Utils.getUniqueId(vehicle, self.vehicleByUniqueId, VehicleSystem.UNIQUE_ID_PREFIX))\n    end\n\n    table.addElement( self.vehicles, vehicle)\n    self.vehicleByUniqueId[vehicle:getUniqueId()] = vehicle\n\n    if vehicle.getIsWet ~ = nil then\n        if vehicle:getIsWet() then\n            self.wetVehicles[vehicle] = vehicle\n        end\n    end\n\n    g_messageCenter:publish(MessageType.VEHICLE_ADDED)\n\n    return true\nend\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"canstartmission",children:"canStartMission"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"canStartMission()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function VehicleSystem:canStartMission()\n    for i = 1 , # self.vehicles do\n        if not self.vehicles[i]:getIsSynchronized() then\n            return false\n        end\n    end\n\n    if # self.pendingVehicleLoadingData > 0 then\n        return false\n    end\n\n    return true\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"consolecommandadddamageamount",children:"consoleCommandAddDamageAmount"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"consoleCommandAddDamageAmount()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"amount"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function VehicleSystem:consoleCommandAddDamageAmount(amount)\n    if self.mission:getIsServer() then\n        amount = tonumber(amount) or 0\n        local controlledVehicle = g_localPlayer:getCurrentVehicle()\n        if controlledVehicle ~ = nil then\n            for _, vehicle in pairs(controlledVehicle.rootVehicle.childVehicles) do\n                if vehicle.addDamageAmount ~ = nil then\n                    vehicle:addDamageAmount(amount)\n                end\n            end\n\n            return string.format( "Added damage to vehicles(Amount: %.2f)" , amount)\n        else\n                return "Error:Enter a vehicle first!"\n            end\n        end\n\n        return "Error:Not available on clients"\n    end\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"consolecommandadddirtamount",children:"consoleCommandAddDirtAmount"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"consoleCommandAddDirtAmount()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"amount"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function VehicleSystem:consoleCommandAddDirtAmount(amount)\n    if self.mission:getIsServer() then\n        amount = tonumber(amount) or 0\n        local controlledVehicle = g_localPlayer:getCurrentVehicle()\n        if controlledVehicle ~ = nil then\n            for _, vehicle in pairs(controlledVehicle.rootVehicle.childVehicles) do\n                if vehicle.setDirtAmount ~ = nil then\n                    vehicle:setDirtAmount(vehicle:getDirtAmount() + amount)\n                end\n            end\n\n            return string.format( "Added dirt to vehicles(Amount: %.2f)" , amount)\n        else\n                return "Error:Enter a vehicle first!"\n            end\n        end\n\n        return "Error:Not available on clients"\n    end\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"consolecommandaddpallet",children:"consoleCommandAddPallet"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"consoleCommandAddPallet()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"palletFillTypeName"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"amount"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"worldX"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"worldZ"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function VehicleSystem:consoleCommandAddPallet(palletFillTypeName, amount, worldX, worldZ)\n    local pallets = { }\n    for _, fillType in pairs(g_fillTypeManager:getFillTypes()) do\n        if fillType.palletFilename ~ = nil then\n            pallets[fillType.name] = fillType.palletFilename\n        end\n    end\n\n    if palletFillTypeName = = nil then\n        Logging.error( "Error:no fillType given" )\n        return\n    end\n\n    local localPlayer = g_localPlayer\n    if string.lower(palletFillTypeName) = = "all" then\n        local x, _, z = localPlayer:getPosition()\n        local dirX, dirZ = localPlayer:getCurrentFacingDirection()\n        for _, fillType in pairs(g_fillTypeManager:getFillTypes()) do\n            if fillType.palletFilename ~ = nil then\n                x, z = x + dirX * 3 , z + dirZ * 3\n                self:consoleCommandAddPallet(fillType.name, amount, x, z)\n            end\n        end\n\n        return\n    end\n\n    palletFillTypeName = string.upper(palletFillTypeName)\n    local palletFillType = g_fillTypeManager:getFillTypeIndexByName(palletFillTypeName)\n\n    if palletFillType = = nil then\n        Logging.error( "Error:Invalid pallet fillType \'%s\'" , palletFillTypeName)\n        local bestMatch = Utils.getClosestMatchingString(palletFillTypeName, table.toList(pallets))\n        if bestMatch ~ = nil then\n            print( string.format( "Did you mean %q?" , bestMatch))\n        end\n        return string.format( "Valid types are %s" , table.concatKeys(pallets, ", " ))\n    end\n\n    local xmlFilename = pallets[palletFillTypeName]\n    if xmlFilename = = nil then\n        Logging.error( "Error:no pallet for given fillType \'%s\'" , palletFillTypeName)\n            return\n        end\n\n        local x, y, z = localPlayer:getPosition()\n        local dirX, dirZ = localPlayer:getCurrentFacingDirection()\n\n        x,z = x + dirX * 4 , z + dirZ * 4\n\n        x = tonumber(worldX) or x\n        z = tonumber(worldZ) or z\n\n        local yOffset = 0\n        if Platform.gameplay.hasDynamicPallets then\n            yOffset = 0.2\n        end\n\n        local collisionMask = CollisionFlag.STATIC_OBJECT + CollisionFlag.TERRAIN + CollisionFlag.TERRAIN_DELTA + CollisionFlag.DYNAMIC_OBJECT + CollisionFlag.VEHICLE\n        local objectId, _, hitY, _, _ = RaycastUtil.raycastClosest(x, y + 25 , z, 0 , - 1 , 0 , 40 , collisionMask)\n        if objectId ~ = nil then\n            y = hitY\n        else\n                y = getTerrainHeightAtWorldPos(g_terrainNode, x, y, z)\n            end\n\n            local function asyncCallbackFunction(_, vehicles, vehicleLoadState, arguments)\n                if vehicleLoadState = = VehicleLoadingState.OK then\n                    local vehicle = vehicles[ 1 ]\n\n                    local fillUnits = vehicle:getFillUnits()\n                    local amountToAdd = tonumber(amount) or math.huge\n                    local addedAmount = 0\n                    for _, fillUnit in ipairs(fillUnits) do\n                        if vehicle:getFillUnitSupportsFillType(fillUnit.fillUnitIndex, palletFillType) then\n                            addedAmount = addedAmount + vehicle:addFillUnitFillLevel( 1 , fillUnit.fillUnitIndex, amountToAdd, palletFillType, ToolType.UNDEFINED, nil )\n                            amountToAdd = amountToAdd - addedAmount\n                            if amountToAdd < = 0 then\n                                break\n                            end\n                        end\n                    end\n\n                    print( string.format( "Loaded pallet with %dl of %s" , addedAmount, palletFillTypeName))\n                    return\n                end\n\n                printError( "Error:Failed to load pallet" )\n            end\n\n            local farmId = self.mission:getFarmId()\n            farmId = ((farmId ~ = FarmManager.SPECTATOR_FARM_ID) and farmId) or 1\n\n            local data = VehicleLoadingData.new()\n            data:setFilename(xmlFilename)\n            data:setPosition(x, y + yOffset, z)\n            data:setPropertyState(VehiclePropertyState.OWNED)\n            data:setOwnerFarmId(farmId)\n\n            data:load(asyncCallbackFunction)\n\n            return\n        end\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"consolecommandaddwearamount",children:"consoleCommandAddWearAmount"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"consoleCommandAddWearAmount()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"amount"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function VehicleSystem:consoleCommandAddWearAmount(amount)\n    if self.mission:getIsServer() then\n        amount = tonumber(amount) or 0\n        local controlledVehicle = g_localPlayer:getCurrentVehicle()\n        if controlledVehicle ~ = nil then\n            for _, vehicle in pairs(controlledVehicle.rootVehicle.childVehicles) do\n                if vehicle.addWearAmount ~ = nil then\n                    vehicle:addWearAmount(amount)\n                end\n            end\n\n            return string.format( "Added wear to vehicles(Amount: %.2f)" , amount)\n        else\n                return "Error:Enter a vehicle first!"\n            end\n        end\n\n        return "Error:Not available on clients"\n    end\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"consolecommandaddwetnessamount",children:"consoleCommandAddWetnessAmount"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"consoleCommandAddWetnessAmount()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"amount"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function VehicleSystem:consoleCommandAddWetnessAmount(amount)\n    if self.mission:getIsServer() then\n        amount = tonumber(amount) or 0\n        local controlledVehicle = g_localPlayer:getCurrentVehicle()\n        if controlledVehicle ~ = nil then\n            for _, vehicle in pairs(controlledVehicle.rootVehicle.childVehicles) do\n                if vehicle.addWetnessAmount ~ = nil then\n                    vehicle:addWetnessAmount(amount)\n                end\n            end\n\n            return string.format( "Added wetness to vehicles(Amount: %.2f)" , amount)\n        else\n                return "Error:Enter a vehicle first!"\n            end\n        end\n\n        return "Error:Not available on clients"\n    end\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"consolecommandexportvehiclesets",children:"consoleCommandExportVehicleSets"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"consoleCommandExportVehicleSets()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function VehicleSystem:consoleCommandExportVehicleSets()\n    local rootVehicles = { }\n    for _, v in ipairs( self.vehicles) do\n        local rootVehicle = v:getRootVehicle()\n        if rootVehicle ~ = nil then\n            rootVehicles[rootVehicle] = rootVehicle\n        end\n    end\n\n    local function addVehicle(xmlFile, key, vehicle, baseVehicle)\n        setXMLString(xmlFile, key .. ".xmlFilename" , vehicle.configFileName)\n        setXMLFloat(xmlFile, key .. ".rotY" , 0 )\n        setXMLFloat(xmlFile, key .. ".captainFoldingState" , 0 )\n\n        local offsetX, offsetY, offsetZ = localToLocal(vehicle.rootNode, baseVehicle.rootNode, 0 , 0 , 0 )\n        setXMLString(xmlFile, key .. ".offset" , string.format( "%.2f %.2f %.2f" , offsetX, offsetY, offsetZ))\n\n        local configIndex = 0\n        for configName, configId in pairs(vehicle.configurations) do\n            local saveId = ConfigurationUtil.getSaveIdByConfigId(vehicle.configFileName, configName, configId)\n            if saveId ~ = nil then\n                local configKey = string.format( "%s.configurations.configuration(%d)" , key, configIndex)\n                setXMLString(xmlFile, configKey .. "#name" , configName)\n                setXMLString(xmlFile, configKey .. "#id" , saveId)\n                configIndex = configIndex + 1\n            end\n        end\n    end\n\n    setFileLogPrefixTimestamp( false )\n\n    local vehicleSetIndex = 0\n    for _, vehicle in pairs(rootVehicles) do\n        local xmlFile = loadXMLFileFromMemory( "vehicleSets" , "<vehicleSets></vehicleSets>" )\n        local key = string.format( "vehicleSets.vehicleSet(%d)" , vehicleSetIndex)\n        local children = vehicle:getChildVehicles()\n        local vehicleIndex = 0\n        local childToIndex = { }\n        for k = #children, 1 , - 1 do\n            local childVehicle = children[k]\n            local vehicleKey = string.format( "%s.vehicle(%d)" , key, vehicleIndex)\n\n            addVehicle(xmlFile, vehicleKey, childVehicle, vehicle)\n            vehicleIndex = vehicleIndex + 1\n            childToIndex[childVehicle] = vehicleIndex\n        end\n\n        local attacherIndex = 0\n        for k = #children, 1 , - 1 do\n            local child = children[k]\n            local attacherVehicle = nil\n            if child.getAttacherVehicle ~ = nil then\n                attacherVehicle = child:getAttacherVehicle()\n            end\n            if attacherVehicle ~ = nil then\n                local attachKey = string.format( "%s.attach(%d)" , key, attacherIndex)\n\n                local rootVehicleIndex = childToIndex[attacherVehicle]\n                local attachVehicleIndex = childToIndex[child]\n                local implement = attacherVehicle:getImplementByObject(child)\n                local inputAttacherJointIndex = child:getActiveInputAttacherJointDescIndex()\n\n                setXMLInt(xmlFile, attachKey .. "#element0" , rootVehicleIndex)\n                setXMLInt(xmlFile, attachKey .. "#element1" , attachVehicleIndex)\n                setXMLInt(xmlFile, attachKey .. "#attacherJointIndex" , implement.jointDescIndex)\n                setXMLInt(xmlFile, attachKey .. "#inputAttacherJointIndex" , inputAttacherJointIndex)\n\n                attacherIndex = attacherIndex + 1\n            end\n        end\n\n        local xmlString = saveXMLFileToMemory(xmlFile)\n        print(xmlString)\n\n        delete(xmlFile)\n    end\n\n    setFileLogPrefixTimestamp(g_logFilePrefixTimestamp)\nend\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"consolecommandfillunitadd",children:"consoleCommandFillUnitAdd"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"consoleCommandFillUnitAdd()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"fillUnitIndex"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"fillTypeName"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"amount"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function VehicleSystem:consoleCommandFillUnitAdd(fillUnitIndex, fillTypeName, amount)\n    local usage = "Usage: \'gsFillUnitAdd <fillUnitIndex> <fillTypeName> [amount]\'"\n\n    local mission = self.mission\n    local player = g_localPlayer\n    local controlledVehicle = player:getCurrentVehicle()\n\n    local fillableVehicle\n    if controlledVehicle ~ = nil and controlledVehicle.getSelectedObject ~ = nil then\n        local selectedObject = controlledVehicle:getSelectedObject()\n        if selectedObject ~ = nil and selectedObject.vehicle.addFillUnitFillLevel ~ = nil then\n            fillableVehicle = selectedObject.vehicle\n        end\n    end\n    if fillableVehicle = = nil then\n        if controlledVehicle ~ = nil and controlledVehicle.addFillUnitFillLevel ~ = nil then\n            fillableVehicle = controlledVehicle\n        end\n    end\n    if fillableVehicle = = nil then\n        local targetNode = player.targeter:getClosestTargetedNodeFromType( PlayerInputComponent )\n        local object = mission:getNodeObject(targetNode)\n        if object ~ = nil and object:isa( Vehicle ) and object.addFillUnitFillLevel ~ = nil then\n            fillableVehicle = object\n        end\n    end\n\n    local farmId = mission:getFarmId()\n\n    if fillableVehicle = = nil or fillableVehicle.getFillUnitSupportedToolTypes = = nil then\n        return "Error:could not find a fillable vehicle!"\n    end\n\n    local function getSupportedFilltypesString()\n        local fillUnits = { }\n\n        for fillUnitIdx, fillTypesIndices in pairs(fillableVehicle:debugGetSupportedFillTypesPerFillUnit()) do\n            table.insert(fillUnits, string.format( "FillUnit %d - FillTypes: %s" , fillUnitIdx, table.concat(g_fillTypeManager:getFillTypeNamesByIndices(fillTypesIndices), " " )))\n        end\n        return "Available FillUnits and supported FillTypes:\\n" .. table.concat(fillUnits, "\\n" )\n    end\n\n    if fillUnitIndex = = nil or fillTypeName = = nil then\n        return "Error:Missing parameters.\\n" .. usage\n    end\n    if not mission:getIsServer() then\n        return "Error: \'gsFillUnitAdd\' can only be called on server side!"\n    end\n\n    fillUnitIndex = tonumber(fillUnitIndex)\n    local fillTypeIndex = g_fillTypeManager:getFillTypeIndexByName(fillTypeName)\n    amount = tonumber(amount)\n\n    if fillUnitIndex = = nil then\n        return "Error:Missing fillUnitIndex!\\n" .. usage\n    end\n    if not fillableVehicle:getFillUnitExists(fillUnitIndex) then\n        Logging.error( "FillUnit \'%d\' in \'%s\' does not exist!\\n%s" , fillUnitIndex, fillableVehicle:getName(), getSupportedFilltypesString())\n        return\n    end\n    if fillTypeIndex = = nil then\n        Logging.error( "Unknown fillType \'%s\'!\\n%s" , fillTypeName, getSupportedFilltypesString())\n        return\n    end\n\n    local capacity = fillableVehicle:getFillUnitCapacity(fillUnitIndex)\n    if capacity = = 0 then\n        Logging.error( "Selected Vehicle \'%s\' cannot be filled.Capacity is 0!" , fillableVehicle:getName())\n        return\n    end\n\n    local fillUnitSupportsFillType = fillableVehicle:getFillUnitSupportsFillType(fillUnitIndex, fillTypeIndex)\n    if not fillUnitSupportsFillType then\n        Logging.error( "fillUnit \'%d\' in \'%s\' does not support fillType \'%s\'\\n%s" , fillUnitIndex, fillableVehicle:getName(), fillTypeName, getSupportedFilltypesString())\n        return\n    end\n\n    amount = amount or capacity\n    if amount = = 0 then\n        amount = - capacity\n    end\n    fillableVehicle:addFillUnitFillLevel(farmId, fillUnitIndex, amount, fillTypeIndex, ToolType.UNDEFINED)\n\n    local fillLevel = fillableVehicle:getFillUnitFillLevel(fillUnitIndex)\n    fillTypeIndex = fillableVehicle:getFillUnitFillType(fillUnitIndex)\n    fillTypeName = Utils.getNoNil(g_fillTypeManager:getFillTypeNameByIndex(fillTypeIndex), "unknown" )\n\n    return string.format( "new fillLevel: %.1f, fillType: %d(%s)" , fillLevel, fillTypeIndex, fillTypeName)\nend\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"consolecommandloadallvehicles",children:"consoleCommandLoadAllVehicles"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"consoleCommandLoadAllVehicles()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"loadConfigs"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"modsOnly"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"palletsOnly"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"verbose"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function VehicleSystem:consoleCommandLoadAllVehicles(loadConfigs, modsOnly, palletsOnly, verbose)\n    if not self.mission:getIsServer() and self.mission.missionDynamicInfo.isMultiplayer then\n        return "Error:Command not allowed in multiplayer"\n    end\n\n    if self.debugVehiclesToBeLoaded ~ = nil then\n        return "Error:Loading task is currently running!"\n    end\n\n    loadConfigs = string.lower(loadConfigs or "false" ) = = "true"\n    modsOnly = string.lower(modsOnly or "false" ) = = "true"\n    palletsOnly = string.lower(palletsOnly or "false" ) = = "true"\n    verbose = string.lower(verbose or "false" ) = = "true"\n    self.debugVehiclesToBeLoaded = { }\n    self.debugVehiclesLoaded = { }\n    self.debugVehiclesTotal = 0\n    self.debugVehiclesToBeLoadedStartTime = g_ time\n    I3DManager.VERBOSE_LOADING = verbose\n\n    if not palletsOnly then\n        for _, storeItem in pairs(g_storeManager:getItems()) do\n            if StoreItemUtil.getIsVehicle(storeItem) and( not modsOnly or(storeItem.isMod or storeItem.dlcTitle ~ = "" )) then\n                local defaultConfigs = { }\n                if storeItem.defaultConfigurationIds ~ = nil then\n                    defaultConfigs = table.clone(storeItem.defaultConfigurationIds)\n                end\n                if #storeItem.configurationSets > 0 then\n                    local defaultSetIndex = 1\n                    for i = 1 , #storeItem.configurationSets do\n                        if storeItem.configurationSets[i].isDefault then\n                            defaultSetIndex = i\n                            break\n                        end\n                    end\n\n                    for name, index in pairs(storeItem.configurationSets[defaultSetIndex].configurations) do\n                        defaultConfigs[name] = index\n                    end\n                end\n                table.insert( self.debugVehiclesToBeLoaded, { storeItem = storeItem, configurations = defaultConfigs } )\n                self.debugVehiclesTotal = self.debugVehiclesTotal + 1\n\n                if loadConfigs then\n                    if storeItem.configurations ~ = nil then\n                        for name, configItems in pairs(storeItem.configurations) do\n                            if #configItems > 1 then\n                                local includedInSet = false\n                                for i = 1 , #storeItem.configurationSets do\n                                    local configSet = storeItem.configurationSets[i]\n                                    if configSet.configurations[name] ~ = nil then\n                                        includedInSet = true\n                                        break\n                                    end\n                                end\n\n                                local usedAsDependentConfig = false\n                                if not includedInSet then\n                                    for _, otherConfigItems in pairs(storeItem.configurations) do\n                                        for _, otherConfigItem in ipairs(otherConfigItems) do\n                                            if otherConfigItem.dependentConfigurations ~ = nil then\n                                                for _, dependentConfig in ipairs(otherConfigItem.dependentConfigurations) do\n                                                    if dependentConfig.name = = name then\n                                                        usedAsDependentConfig = true\n                                                        break\n                                                    end\n                                                end\n                                            end\n                                        end\n                                    end\n                                end\n\n                                if not includedInSet and not usedAsDependentConfig then\n                                    for _, configItem in ipairs(configItems) do\n                                        if configItem.isSelectable then\n                                            if #storeItem.configurationSets > 0 then\n                                                -- load the config in all config sets(we need to have at least one configSet set)\n                                                for i = 1 , #storeItem.configurationSets do\n                                                    local configSet = storeItem.configurationSets[i]\n                                                    local configs = table.clone(configSet.configurations)\n                                                    configs[name] = configItem.index\n\n                                                    table.insert( self.debugVehiclesToBeLoaded, { storeItem = storeItem, configurations = configs } )\n                                                end\n                                            else\n                                                    -- load just the blank config if we dont have config sets\n                                                        local configs = { }\n                                                        configs[name] = configItem.index\n                                                        table.insert( self.debugVehiclesToBeLoaded, { storeItem = storeItem, configurations = configs } )\n                                                    end\n                                                end\n                                            end\n                                        end\n                                    end\n                                end\n                            end\n\n                            for i = 1 , #storeItem.configurationSets do\n                                local configSet = storeItem.configurationSets[i]\n                                local configs = { }\n                                for name, index in pairs(configSet.configurations) do\n                                    configs[name] = index\n                                end\n                                table.insert( self.debugVehiclesToBeLoaded, { storeItem = storeItem, configurations = configs } )\n                            end\n                        end\n                    end\n                end\n            else\n                    for _, fillType in pairs(g_fillTypeManager:getFillTypes()) do\n                        if fillType.palletFilename ~ = nil then\n                            local storeItem = g_storeManager:getItemByXMLFilename(fillType.palletFilename)\n                            table.insert( self.debugVehiclesToBeLoaded, { storeItem = storeItem, configurations = { } } )\n                        end\n                    end\n                end\n\n                self.debugVehiclesTotalConfigs = # self.debugVehiclesToBeLoaded\n\n                local modStr = (modsOnly and \' mod \') or \'\'\n                if loadConfigs then\n                    return print( string.format( "Loading %i %svehicles with all configs .. ." , self.debugVehiclesTotal, modStr))\n                else\n                        return print( string.format( "Loading %i %svehicles(add first param \'true\' to include configs, add second param \'true\' to only load mods, add third param \'true\' to only load pallets, add fourth param \'verbose\' to print i3d loading messages) .. ." , self.debugVehiclesTotal, modStr))\n                    end\n                end\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"consolecommandloadallvehiclesnext",children:"consoleCommandLoadAllVehiclesNext"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"consoleCommandLoadAllVehiclesNext()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function VehicleSystem:consoleCommandLoadAllVehiclesNext()\n    if self.debugVehiclesLoaded ~ = nil then\n        for i = # self.debugVehiclesLoaded, 1 , - 1 do\n            local vehicle = self.debugVehiclesLoaded[i]\n            vehicle.deleteFrameCounter = vehicle.deleteFrameCounter - 1\n            if vehicle.deleteFrameCounter < = 0 then\n                vehicle:delete()\n                table.remove( self.debugVehiclesLoaded, i)\n            end\n        end\n    end\n\n    if self.debugVehiclesToBeLoaded = = nil then\n        return\n    end\n\n    if self.debugVehiclesLoadingCount ~ = nil and self.debugVehiclesLoadingCount > 0 then\n        return\n    end\n\n    if not self.debugVehiclesLoading then\n        local vehicleData = table.remove( self.debugVehiclesToBeLoaded, 1 )\n        if vehicleData = = nil then\n            local totalTime = g_ time - self.debugVehiclesToBeLoadedStartTime\n            print( string.format( "Successfully loaded and removed all vehicles in %.1f seconds!" , totalTime / 1000 ))\n            self.debugVehiclesToBeLoaded = nil\n            self.debugVehiclesLoadingCount = nil\n\n            for _, vehicle in pairs( self.debugVehiclesLoaded) do\n                vehicle:delete()\n            end\n            self.debugVehiclesLoaded = { }\n\n            I3DManager.VERBOSE_LOADING = true\n            return\n        end\n\n        local configString = "None"\n        if next(vehicleData.configurations) ~ = nil then\n            configString = ""\n            for name, index in pairs(vehicleData.configurations) do\n                if configString ~ = "" then\n                    configString = configString .. ", "\n                end\n\n                configString = configString .. string.format( "%s:%d" , name, index)\n            end\n        end\n\n        Logging.info( "Loading vehicle %d/%d: %s(Configuration: %s)" , self.debugVehiclesTotalConfigs - # self.debugVehiclesToBeLoaded, self.debugVehiclesTotalConfigs, vehicleData.storeItem.xmlFilename, configString)\n\n        local function asyncCallbackFunction(_, vehicles, vehicleLoadState, arguments)\n            self.debugVehiclesLoading = false\n\n            for _, vehicle in pairs(vehicles) do\n                vehicle:removeFromPhysics()\n\n                table.insert( self.debugVehiclesLoaded, vehicle)\n                vehicle.deleteFrameCounter = 2 -- delete vehicles 2 frames delayed, so they are rendered(so we can see shader issues)\n            end\n        end\n\n        local data = VehicleLoadingData.new()\n\n        local localPlayer = g_localPlayer\n        local x, y, z = localPlayer:getPosition()\n        local dirX, dirZ = localPlayer:getCurrentFacingDirection()\n        data:setPosition(x + dirX * 10 , y, z + dirZ * 10 )\n\n        data:setStoreItem(vehicleData.storeItem)\n        data:setConfigurations(vehicleData.configurations)\n        data:setIsRegistered( false )\n        data:setIsSaved( false )\n\n        self.debugVehiclesLoading = true\n        data:load(asyncCallbackFunction, nil , nil )\n    end\nend\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"consolecommandreloadvehicle",children:"consoleCommandReloadVehicle"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"consoleCommandReloadVehicle()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"resetVehicle"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"radius"})]})})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function VehicleSystem:consoleCommandReloadVehicle(resetVehicle, radius)\n    local usage = "Usage:gsVehicleReload [resetVehicle] [radius]"\n\n    if g_gui.currentGuiName = = "ShopMenu" or g_gui.currentGuiName = = "ShopConfigScreen" then\n        return "Error:Reload not supported while in shop!"\n        end\n\n        if self.isReloadRunning then\n            return "Error:Reloading of vehicles already in progress!"\n        end\n\n        if not self.mission:getIsServer() or self.mission.missionDynamicInfo.isMultiplayer then\n            return "Error:Reloading only available in SP"\n        end\n\n        resetVehicle = Utils.stringToBoolean(resetVehicle)\n        radius = tonumber(radius) or 0\n\n        local posX, posY, posZ = g_localPlayer:getPosition()\n\n        -- reload sound and material templates so the new vehicle sounds and materials are based on the newest templates\n        g_soundManager:reloadSoundTemplates()\n\n        g_vehicleMaterialManager:loadMaterialTemplates( VehicleMaterialManager.DEFAULT_TEMPLATES_FILENAME)\n        g_vehicleMaterialManager:loadMaterialTemplates( VehicleMaterialManager.DEFAULT_BRAND_TEMPLATES_FILENAME)\n\n        local affectedVehicles = { } -- list with vehicle plus all attachments affected by the reload\n        local usedVehicles = { }\n        local usedModNames = { }\n\n        local function addVehicleToReload(v, list)\n            if v.isVehicleSaved then\n                v.isReconfigurating = true\n                table.insert(list, v)\n                usedVehicles[v] = true\n\n                if v ~ = nil and v.getAttachedImplements ~ = nil then\n                    local attachedImplements = v:getAttachedImplements()\n                    for _, implement in pairs(attachedImplements) do\n                        addVehicleToReload(implement.object, list)\n                    end\n                end\n            else\n                    v:delete()\n                end\n            end\n\n            if g_localPlayer:getCurrentVehicle() ~ = nil then\n                addVehicleToReload(g_localPlayer:getCurrentVehicle(), affectedVehicles)\n            end\n\n            -- within this radius all vehicles are reloaded\n            if radius ~ = 0 then\n                for _, v in pairs( self.vehicles) do\n                    if v ~ = g_localPlayer:getCurrentVehicle() then\n                        local vx, vy, vz = getWorldTranslation(v.rootNode)\n                        if MathUtil.vector3Length(vx - posX, vy - posY, vz - posZ) < radius then\n                            if usedVehicles[v.rootVehicle] = = nil then\n                                addVehicleToReload(v.rootVehicle, affectedVehicles)\n                            end\n                        end\n                    end\n                end\n            end\n\n            if #affectedVehicles = = 0 then\n                return "Warning:No vehicle reloaded.Enter a vehicle first or use the command with the radius parameter given, e.g. \'gsVehicleReload false 25\'\\n" .. usage\n            end\n\n            local xmlFile = XMLFile.create( "reloadVehiclesXMLFile" , "" , "vehicles" , Vehicle.xmlSchemaSavegame)\n            if xmlFile = = nil then\n                return "Error:Unable to create XML for saving vehicles"\n                end\n\n                simulatePhysics( false )\n                self.isReloadRunning = true\n\n                -- remove the vehicles from the unique id mapping, so we allow registration of the new vehicles\n                -- if the registration fails, we readd the vehicles to the mapping\n                    for _, vehicle in ipairs(affectedVehicles) do\n                        self.vehicleByUniqueId[vehicle:getUniqueId()] = nil\n                    end\n\n                    self:saveToXML(affectedVehicles, xmlFile, usedModNames)\n\n                    for _, vehicle in ipairs(affectedVehicles) do\n                        vehicle:removeFromPhysics()\n                    end\n\n                    local steerableId\n                    if g_localPlayer:getCurrentVehicle() ~ = nil then\n                        steerableId = g_localPlayer:getCurrentVehicle():getUniqueId()\n                    end\n\n                    g_i3DManager:clearEntireSharedI3DFileCache( false )\n\n                    local function asyncCallbackFunction(_, vehicles, vehicleLoadState, arguments)\n                        local success = true\n                        if vehicleLoadState = = VehicleLoadingState.OK then\n                            if #vehicles = = #affectedVehicles then\n                                for _, affected_vehicle in pairs(affectedVehicles) do\n                                    affected_vehicle:delete()\n                                end\n\n                                if steerableId ~ = nil then\n                                    for _, vehicle in pairs(vehicles) do\n                                        if vehicle:getUniqueId() = = steerableId then\n                                            g_localPlayer:requestToEnterVehicle(vehicle)\n                                        end\n                                    end\n                                end\n                            else\n                                    Logging.error( "Not all vehicles could be reloaded" )\n                                    success = false\n                                end\n                            else\n                                    Logging.error( "Failed to load vehicles" )\n                                    success = false\n                                end\n\n                                if not success then\n                                    for _, loadedVehicle in pairs(vehicles) do\n                                        loadedVehicle:delete()\n                                    end\n                                    for _, vehicle in ipairs(affectedVehicles) do\n                                        vehicle:addToPhysics()\n                                        self.vehicleByUniqueId[vehicle:getUniqueId()] = vehicle\n                                    end\n                                end\n\n                                xmlFile:delete()\n\n                                self.isReloadRunning = false\n                                simulatePhysics( true )\n\n                                if success then\n                                    Logging.info( "%d vehicle(s) reloaded" , #affectedVehicles)\n                                end\n                            end\n\n                            g_asyncTaskManager:addTask( function ()\n                                local keepPosition = true\n                                self:loadFromXMLFile(xmlFile, asyncCallbackFunction, nil , nil , resetVehicle, keepPosition)\n                            end )\n\n                            return\n                        end\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"consolecommandsetfuel",children:"consoleCommandSetFuel"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"consoleCommandSetFuel()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"fuelLevel"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function VehicleSystem:consoleCommandSetFuel(fuelLevel)\n    if self.mission:getIsServer() then\n        if fuelLevel = = nil then\n            return "No fuellevel given! Usage:gsVehicleFuelSet <fuelLevel>"\n        end\n        fuelLevel = Utils.getNoNil( tonumber(fuelLevel), 10000000000 )\n        local vehicle = g_localPlayer:getCurrentVehicle()\n        if vehicle ~ = nil then\n            if vehicle.getConsumerFillUnitIndex ~ = nil then\n                local fillUnitIndex = vehicle:getConsumerFillUnitIndex(FillType.DIESEL) or vehicle:getConsumerFillUnitIndex(FillType.ELECTRICCHARGE) or vehicle:getConsumerFillUnitIndex(FillType.METHANE)\n                if fillUnitIndex ~ = nil then\n                    local fillLevel = vehicle:getFillUnitFillLevel(fillUnitIndex)\n                    local delta = fuelLevel - fillLevel\n                    vehicle:addFillUnitFillLevel( self.mission:getFarmId(), fillUnitIndex, delta, vehicle:getFillUnitFirstSupportedFillType(fillUnitIndex), ToolType.UNDEFINED, nil )\n\n                    return "Added fuel"\n                else\n                        return "No Fuel filltype supported!"\n                    end\n                end\n\n                return "Vehicle has no consumer"\n            else\n                    return "Enter a vehicle first!"\n                end\n            end\n\n            return "Not available on clients"\n        end\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"consolecommandsetmotortemperature",children:"consoleCommandSetMotorTemperature"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"consoleCommandSetMotorTemperature()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"temperature"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function VehicleSystem:consoleCommandSetMotorTemperature(temperature)\n    if self.mission:getIsServer() then\n        if temperature = = nil then\n            return "No temperature given! Usage:gsVehicleTemperatureSet <temperature>"\n        end\n        temperature = Utils.getNoNil( tonumber(temperature), 0 )\n\n        local vehicle = g_localPlayer:getCurrentVehicle()\n        if vehicle ~ = nil then\n            local spec = vehicle.spec_motorized\n            if spec ~ = nil then\n                spec.motorTemperature.value = math.clamp(temperature, spec.motorTemperature.valueMin, spec.motorTemperature.valueMax)\n                return "Set motor temperature to " .. spec.motorTemperature.value\n            end\n\n            return "Vehicle has no motor"\n        else\n                return "Enter a vehicle first!"\n            end\n        end\n\n        return "Not available on clients"\n    end\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"consolecommandsetoperatingtime",children:"consoleCommandSetOperatingTime"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"consoleCommandSetOperatingTime()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"operatingTime"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function VehicleSystem:consoleCommandSetOperatingTime(operatingTime)\n    if self.mission:getIsServer() then\n        if operatingTime = = nil then\n            return "No operatingTime given! Usage:gsVehicleOperatingTimeSet <operatingTime(h)>"\n        end\n\n        operatingTime = tonumber(operatingTime) or 0\n        operatingTime = operatingTime * 1000 * 60 * 60\n\n        local controlledVehicle = g_localPlayer:getCurrentVehicle()\n        if controlledVehicle ~ = nil then\n            if controlledVehicle.setOperatingTime ~ = nil then\n                controlledVehicle:setOperatingTime(operatingTime)\n\n                return string.format( "Set operating time to %.1f" , operatingTime)\n            end\n\n            return "Vehicle has no operating time"\n        else\n                return "Enter a vehicle first!"\n            end\n        end\n\n        return "Not available on clients"\n    end\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"consolecommandshowvehicledistance",children:"consoleCommandShowVehicleDistance"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"consoleCommandShowVehicleDistance()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"active"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function VehicleSystem:consoleCommandShowVehicleDistance(active)\n    g_showVehicleDistance = Utils.getNoNil(active, not g_showVehicleDistance)\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"consolecommandvehicleremoveall",children:"consoleCommandVehicleRemoveAll"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"consoleCommandVehicleRemoveAll()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function VehicleSystem:consoleCommandVehicleRemoveAll()\n    local numDeleted = 0\n    for i = # self.vehicles, 1 , - 1 do\n        local vehicle = self.vehicles[i]\n        if vehicle.trainSystem = = nil and not vehicle.isPallet then\n            vehicle:delete()\n            numDeleted = numDeleted + 1\n        end\n    end\n\n    return string.format( "Deleted %i vehicle(s)! Excluded train and pallets" , numDeleted)\nend\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"consolecommandvehicletogglerandomfail",children:"consoleCommandVehicleToggleRandomFail"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"consoleCommandVehicleToggleRandomFail()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function VehicleSystem:consoleCommandVehicleToggleRandomFail()\n    Vehicle.DEBUG_RANDOM_FAIL_LOADING = not Vehicle.DEBUG_RANDOM_FAIL_LOADING\n\n    return string.format( "Vehicle.DEBUG_RANDOM_FAIL_LOADING: %s" , Vehicle.DEBUG_RANDOM_FAIL_LOADING)\nend\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"delete",children:"delete"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"delete()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function VehicleSystem:delete()\n    for i = # self.pendingVehicleLoadingData, 1 , - 1 do\n        self.pendingVehicleLoadingData[i]:cancelLoading()\n    end\n\n    for k, vehicle in pairs( self.vehiclesToDelete) do\n        vehicle:delete( true )\n        self.vehiclesToDelete[k] = nil\n    end\n\n    for i = # self.vehicles, 1 , - 1 do\n        local vehicle = self.vehicles[i]\n        vehicle:delete( true )\n    end\n\n    if self.savegameXMLFile ~ = nil then\n        self.savegameXMLFile:delete()\n        self.savegameXMLFile = nil\n    end\n\n    self.mission = nil\n    self.vehicles = { }\n    self.vehicleByUniqueId = { }\n    self.wetVehicles = { }\n\n    self.enterables = { }\n    self.interactiveVehicles = { }\n\n    g_messageCenter:unsubscribeAll( self )\n\n    removeConsoleCommand( "gsVehicleShowDistance" )\n\n    removeConsoleCommand( "gsVehicleReload" )\n\n    removeConsoleCommand( "gsPalletAdd" )\n    removeConsoleCommand( "gsVehicleFuelSet" )\n    removeConsoleCommand( "gsVehicleTemperatureSet" )\n    removeConsoleCommand( "gsFillUnitAdd" )\n    removeConsoleCommand( "gsVehicleOperatingTimeSet" )\n    removeConsoleCommand( "gsVehicleAddDirt" )\n    removeConsoleCommand( "gsVehicleAddWear" )\n    removeConsoleCommand( "gsVehicleAddWetness" )\n    removeConsoleCommand( "gsVehicleAddDamage" )\n    removeConsoleCommand( "gsVehicleLoadAll" )\n\n    removeConsoleCommand( "gsVehicleRemoveAll" )\n    removeConsoleCommand( "gsExportVehicleSets" )\n    removeConsoleCommand( "gsVehiclesPendingLoadings" )\nend\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"deleteall",children:"deleteAll"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"deleteAll()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function VehicleSystem:deleteAll()\n    local numDeleted = # self.vehicles\n\n    for i = # self.vehicles, 1 , - 1 do\n        local vehicle = self.vehicles[i]\n        vehicle:delete()\n    end\n\n    return numDeleted\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"draw",children:"draw"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"draw()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function VehicleSystem:draw()\n    for _, vehicle in pairs( self.enterables) do\n        vehicle:drawUIInfo()\n    end\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"getnextenterablevehicle",children:"getNextEnterableVehicle"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"getNextEnterableVehicle()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"currentVehicle"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"delta"})]})})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function VehicleSystem:getNextEnterableVehicle(currentVehicle, delta)\n    local numVehicles = # self.enterables\n    if numVehicles = = 0 then\n        return nil\n    end\n\n    local index = 1\n\n    if g_localPlayer:getIsInVehicle() and currentVehicle ~ = nil then\n        for i, enterable in ipairs( self.enterables) do\n            if currentVehicle = = self.enterables[i] then\n                index = i + delta\n                break\n            end\n        end\n    else\n            if delta > 0 then\n                -- with tab we go directly in the last entered vehicle\n                index = self.lastEnteredVehicleIndex\n            else\n                    -- with shift + tab we enter the last vehicle in the list -> to quickly get in the last bought one\n                    index = numVehicles\n                end\n            end\n\n            local found = false\n            for _ = 1 , numVehicles do\n                local enterable = self.enterables[index]\n                if enterable ~ = nil and enterable:getIsTabbable() and enterable:getIsEnterable() then\n                    found = true\n                    break\n                else\n                        index = index + delta\n                        if index > numVehicles then\n                            index = 1\n                        elseif index < 1 then\n                                index = numVehicles\n                            end\n                        end\n                    end\n\n                    if found then\n                        return self.enterables[index]\n                    end\n\n                    return nil\n                end\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"getvehiclebynodeid",children:"getVehicleByNodeId"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Returns the corresponding vehicle to a given physics node id (supports correct detection of hard attached implements,\nwhich share the same compound as the parent vehicle)"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"getVehicleByNodeId()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"nodeId"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"subShapeId"})]})})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function VehicleSystem:getVehicleByNodeId(nodeId, subShapeId)\n    local vehicle\n    if nodeId ~ = subShapeId then\n        -- object is a compoundChild.Try to find the compound\n        local parentId = subShapeId\n        while parentId ~ = 0 do\n            if g_currentMission.nodeToObject[parentId] ~ = nil then\n                -- found valid compound\n                vehicle = g_currentMission.nodeToObject[parentId]\n                break\n            end\n\n            parentId = getParent(parentId)\n        end\n    else\n            vehicle = g_currentMission.nodeToObject[nodeId]\n        end\n\n        if vehicle ~ = nil and vehicle.isa ~ = nil and vehicle:isa( Vehicle ) then\n            return vehicle\n        end\n\n        return nil\n    end\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"getvehiclebyuniqueid",children:"getVehicleByUniqueId"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"getVehicleByUniqueId()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"uniqueId"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function VehicleSystem:getVehicleByUniqueId(uniqueId)\n    return self.vehicleByUniqueId[uniqueId]\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"load",children:"load"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"load()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"xmlFilename"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"asyncCallbackFunction"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"asyncCallbackObject"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"asyncCallbackArguments"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"resetVehicles"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function VehicleSystem:load(xmlFilename, asyncCallbackFunction, asyncCallbackObject, asyncCallbackArguments, resetVehicles)\n    self.savegameXMLFile = XMLFile.load( "vehiclesXML" , xmlFilename, Vehicle.xmlSchemaSavegame)\n\n    if self.savegameXMLFile = = nil then\n        Logging.xmlError(xmlFilename, "Loading vehicles xml file failed" )\n        g_asyncTaskManager:addSubtask( function ()\n            asyncCallbackFunction(asyncCallbackObject, { } , VehicleLoadingState.ERROR, asyncCallbackArguments)\n        end )\n        return\n    end\n\n    self:loadFromXMLFile( self.savegameXMLFile, asyncCallbackFunction, asyncCallbackObject, asyncCallbackArguments)\nend\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"loadfromxmlfile",children:"loadFromXMLFile"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"loadFromXMLFile()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"xmlFile"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"asyncCallbackFunction"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"asyncCallbackObject"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"asyncCallbackArguments"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"resetVehicles"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"keepPosition"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function VehicleSystem:loadFromXMLFile(xmlFile, asyncCallbackFunction, asyncCallbackObject, asyncCallbackArguments, resetVehicles, keepPosition)\n    if self.loadedVehicles ~ = nil then\n        local savegameLoadingData = { }\n        savegameLoadingData.xmlFile = xmlFile\n        savegameLoadingData.asyncCallbackFunction = asyncCallbackFunction\n        savegameLoadingData.asyncCallbackObject = asyncCallbackObject\n        savegameLoadingData.asyncCallbackArguments = asyncCallbackArguments\n        savegameLoadingData.resetVehicles = resetVehicles\n        savegameLoadingData.keepPosition = keepPosition\n\n        table.insert( self.pendingVehicleSavegameLoadings, savegameLoadingData)\n\n        return\n    end\n\n    local defaultItemsToSPFarm = xmlFile:getValue( "vehicles#loadAnyFarmInSingleplayer" , false )\n\n    self.loadedVehicles = { }\n    self.vehiclesToLoad = 0\n    self.vehicleLoadingState = nil\n\n    self.asyncCallbackFunction = asyncCallbackFunction\n    self.asyncCallbackObject = asyncCallbackObject\n    self.asyncCallbackArguments = asyncCallbackArguments\n\n    xmlFile:iterate( "vehicles.vehicle" , function (index, key)\n        g_asyncTaskManager:addSubtask( function ()\n            self:loadVehicleFromXML(xmlFile, key, defaultItemsToSPFarm, resetVehicles, keepPosition)\n        end )\n    end )\n\n    g_asyncTaskManager:addSubtask( function ()\n        if self.vehiclesToLoad < = 0 then\n            if self.asyncCallbackFunction ~ = nil then\n                self.asyncCallbackFunction( self.asyncCallbackObject, self.loadedVehicles, VehicleLoadingState.OK, self.asyncCallbackArguments)\n\n                self.asyncCallbackFunction = nil\n                self.asyncCallbackObject = nil\n                self.asyncCallbackArguments = nil\n            end\n\n            self.loadedVehicles = nil\n            self.vehicleLoadingState = nil\n\n            self:updatePendingSavegameLoadings()\n        end\n    end )\nend\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"loadvehiclefinished",children:"loadVehicleFinished"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"loadVehicleFinished()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"vehicles"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"loadingState"})]})})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function VehicleSystem:loadVehicleFinished(vehicles, loadingState)\n    if loadingState = = VehicleLoadingState.OK then\n        for _, vehicle in ipairs(vehicles) do\n            table.insert( self.loadedVehicles, vehicle)\n        end\n    else\n            self.vehicleLoadingState = self.vehicleLoadingState or loadingState\n        end\n\n        self.vehiclesToLoad = self.vehiclesToLoad - 1\n        if self.vehiclesToLoad < = 0 then\n            for _, loadedVehicle in ipairs( self.loadedVehicles) do\n                loadedVehicle:addToPhysics()\n            end\n\n            if self.asyncCallbackFunction ~ = nil then\n                self.asyncCallbackFunction( self.asyncCallbackObject, self.loadedVehicles, self.vehicleLoadingState or VehicleLoadingState.OK, self.asyncCallbackArguments)\n\n                self.asyncCallbackFunction = nil\n                self.asyncCallbackObject = nil\n                self.asyncCallbackArguments = nil\n            end\n\n            self.loadedVehicles = nil\n            self.vehicleLoadingState = nil\n\n            self:updatePendingSavegameLoadings()\n        end\n    end\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"loadvehiclefromxml",children:"loadVehicleFromXML"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"loadVehicleFromXML()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"xmlFile"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"key"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"defaultItemsToSPFarm"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"resetVehicles"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"keepPosition"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function VehicleSystem:loadVehicleFromXML(xmlFile, key, defaultItemsToSPFarm, resetVehicles, keepPosition)\n    local missionInfo = g_currentMission.missionInfo\n    local missionDynamicInfo = g_currentMission.missionDynamicInfo\n\n    local filename = xmlFile:getValue(key .. "#filename" )\n    local defaultProperty = xmlFile:getValue(key .. "#defaultFarmProperty" , false )\n    local farmId = xmlFile:getValue(key .. "#farmId" )\n\n    local loadForCompetitive = defaultProperty and missionInfo.isCompetitiveMultiplayer and g_farmManager:getFarmById(farmId) ~ = nil\n    local loadDefaultProperty = defaultProperty and(missionInfo.loadDefaultFarm and not missionDynamicInfo.isMultiplayer) and(farmId = = FarmManager.SINGLEPLAYER_FARM_ID or defaultItemsToSPFarm)\n    local allowedToLoad = missionInfo.isValid or not defaultProperty or loadDefaultProperty or loadForCompetitive\n\n    if not allowedToLoad then\n        Logging.xmlInfo(xmlFile, "Vehicle \'%s\' is not allowed to be loaded" , filename)\n        return false\n    end\n\n    filename = NetworkUtil.convertFromNetworkFilename(filename)\n\n    local storeItem = g_storeManager:getItemByXMLFilename(filename)\n\n    if storeItem = = nil then\n        Logging.xmlWarning(xmlFile, "Unable to retrieve store item for vehicle xml \'%s\'" , filename)\n            return false\n        end\n\n        local savegame = { xmlFile = xmlFile, key = key, ignoreFarmId = false , resetVehicles = resetVehicles, keepPosition = keepPosition }\n\n        if loadDefaultProperty and defaultItemsToSPFarm and farmId ~ = FarmManager.SINGLEPLAYER_FARM_ID then\n            farmId = FarmManager.SINGLEPLAYER_FARM_ID\n            savegame.ignoreFarmId = true\n        end\n\n        if not g_currentMission.slotSystem:hasEnoughSlots(storeItem) then\n            g_currentMission:addMoney(storeItem.price, farmId, MoneyType.SHOP_VEHICLE_SELL, true )\n            Logging.xmlWarning(xmlFile, "Too many slots in use.Selling vehicle \'%s\' for \'%d\'" , filename, storeItem.price)\n                return false\n            end\n\n            self.vehiclesToLoad = self.vehiclesToLoad + 1\n\n            local data = VehicleLoadingData.new()\n            data:setStoreItem(storeItem)\n            data:setSavegameData(savegame)\n            data:setAddToPhysics( false )\n\n            data:load( self.loadVehicleFinished, self )\n\n            return true\n        end\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"new",children:"new"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"new()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"mission"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"customMt"})]})})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function VehicleSystem.new(mission, customMt)\n    local self = setmetatable( { } , customMt or VehicleSystem _mt)\n\n    self.mission = mission\n    self.vehicles = { } -- vehicles that are registered\n    self.pendingVehicleLoadingData = { } -- vehicle loading data that is currently pending\n    self.pendingVehicleSavegameLoadings = { }\n    self.vehicleByUniqueId = { }\n    self.wetVehicles = { }\n\n    self.enterables = { }\n    self.lastEnteredVehicleIndex = 1\n    self.inputAttacherJoints = { }\n    self.interactiveVehicles = { }\n    self.vehiclesToDelete = { }\n\n    self.isReloadRunning = false\n\n    if g_addCheatCommands then\n        addConsoleCommand( "gsVehicleShowDistance" , "Shows the distance between vehicle and cam" , "consoleCommandShowVehicleDistance" , self )\n    end\n\n    if self.mission:getIsServer() then\n        addConsoleCommand( "gsVehicleReload" , "Reloads currently entered vehicle or vehicles within a range when second radius parameter is given" , "consoleCommandReloadVehicle" , self , "[resetVehicle]; [radiusAroundPlayer]" )\n\n        if g_addCheatCommands then\n            addConsoleCommand( "gsPalletAdd" , "Adds a pallet" , "consoleCommandAddPallet" , self , "fillTypeName; [fillAmount]; [worldX]; [worldZ]" )\n            addConsoleCommand( "gsVehicleFuelSet" , "Sets the vehicle fuel level" , "consoleCommandSetFuel" , self )\n            addConsoleCommand( "gsVehicleTemperatureSet" , "Sets the vehicle motor temperature" , "consoleCommandSetMotorTemperature" , self )\n            addConsoleCommand( "gsFillUnitAdd" , "Changes a fillUnit with given filllevel and filltype" , "consoleCommandFillUnitAdd" , self , "fillUnitIndex; fillTypeName; [amount]" )\n            addConsoleCommand( "gsVehicleOperatingTimeSet" , "Sets the vehicle operating time" , "consoleCommandSetOperatingTime" , self )\n            addConsoleCommand( "gsVehicleAddDirt" , "Adds a given amount to current dirt amount" , "consoleCommandAddDirtAmount" , self )\n            addConsoleCommand( "gsVehicleAddWear" , "Adds a given amount to current wear amount" , "consoleCommandAddWearAmount" , self )\n            addConsoleCommand( "gsVehicleAddWetness" , "Adds a given amount to current wetness amount" , "consoleCommandAddWetnessAmount" , self )\n            addConsoleCommand( "gsVehicleAddDamage" , "Adds a given amount to current damage amount" , "consoleCommandAddDamageAmount" , self )\n            addConsoleCommand( "gsVehicleLoadAll" , "Load all vehicles" , "consoleCommandLoadAllVehicles" , self , "[loadConfigs]; [modsOnly]; [palletsOnly]; [verbose]" , true )\n        end\n\n        if g_addTestCommands then\n            addConsoleCommand( "gsVehicleToggleRandomFail" , "Toggles random vehicle load failing" , "consoleCommandVehicleToggleRandomFail" , self )\n            addConsoleCommand( "gsVehicleRemoveAll" , "Removes all vehicles from current mission" , "consoleCommandVehicleRemoveAll" , self , nil , true )\n            addConsoleCommand( "gsExportVehicleSets" , "Exports vehicle sets" , "consoleCommandExportVehicleSets" , self )\n        end\n    end\n\n    if g_addTestCommands then\n        addConsoleCommand( "gsVehiclesPendingLoadings" , "Prints the pending vehicle loadings" , "consoleCommandPrintPendingLoadings" , self )\n    end\n\n    g_messageCenter:subscribe(BuyVehicleEvent, self.onVehicleBuyEvent, self )\n\n    return self\nend\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"onvehiclebuyevent",children:"onVehicleBuyEvent"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"onVehicleBuyEvent()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"errorCode"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"leaseVehicle"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"price"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function VehicleSystem:onVehicleBuyEvent(errorCode, leaseVehicle, price)\n    local serverFarmId = g_currentMission:getFarmId()\n    local numDrivables = 0\n    local numVehicles = 0\n    for _, item in ipairs( self.vehicles) do\n        if item:getOwnerFarmId() = = serverFarmId then\n            if item.spec_drivable ~ = nil then\n                numDrivables = numDrivables + 1\n                numVehicles = numVehicles + 1\n            elseif item.spec_attachable ~ = nil and item.spec_bigBag = = nil then\n                    numVehicles = numVehicles + 1\n                end\n            end\n        end\n\n        g_achievementManager:tryUnlock( "NumDrivables" , numDrivables)\n        g_achievementManager:tryUnlock( "NumVehiclesSmall" , numVehicles)\n        g_achievementManager:tryUnlock( "NumVehiclesLarge" , numVehicles)\n    end\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"registerinputattacherjoint",children:"registerInputAttacherJoint"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"registerInputAttacherJoint()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"vehicle"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"inputAttacherJointIndex"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"inputAttacherJoint"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function VehicleSystem:registerInputAttacherJoint(vehicle, inputAttacherJointIndex, inputAttacherJoint)\n    local inputAttacherJointInfo = { }\n    inputAttacherJointInfo.vehicle = vehicle\n    inputAttacherJointInfo.jointIndex = inputAttacherJointIndex\n    inputAttacherJointInfo.inputAttacherJoint = inputAttacherJoint\n    inputAttacherJointInfo.node = inputAttacherJoint.node\n    inputAttacherJointInfo.jointType = inputAttacherJoint.jointType\n    inputAttacherJointInfo.translation = { getWorldTranslation(inputAttacherJoint.node) }\n\n    table.addElement( self.inputAttacherJoints, inputAttacherJointInfo)\n\n    return inputAttacherJointInfo\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"removeenterablevehicle",children:"removeEnterableVehicle"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"removeEnterableVehicle()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"vehicle"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function VehicleSystem:removeEnterableVehicle(vehicle)\n    table.removeElement( self.enterables, vehicle)\n\n    -- ensure lastEnteredVehicleIndex is not out of bounds, otherwise tab action will do nothing after selling vehicles\n        self.lastEnteredVehicleIndex = math.max( 1 , math.min( self.lastEnteredVehicleIndex, # self.enterables))\n    end\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"removeinputattacherjoint",children:"removeInputAttacherJoint"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"removeInputAttacherJoint()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"inputAttacherJointInfo"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function VehicleSystem:removeInputAttacherJoint(inputAttacherJointInfo)\n    table.removeElement( self.inputAttacherJoints, inputAttacherJointInfo)\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"removeinteractivevehicle",children:"removeInteractiveVehicle"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"removeInteractiveVehicle()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"vehicle"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function VehicleSystem:removeInteractiveVehicle(vehicle)\n    self.interactiveVehicles[vehicle] = nil\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"removependingvehicleload",children:"removePendingVehicleLoad"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"removePendingVehicleLoad()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"vehicleLoadingData"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function VehicleSystem:removePendingVehicleLoad(vehicleLoadingData)\n    table.removeElement( self.pendingVehicleLoadingData, vehicleLoadingData)\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"removevehicle",children:"removeVehicle"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"removeVehicle()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"vehicle"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function VehicleSystem:removeVehicle(vehicle)\n    table.removeElement( self.vehicles, vehicle)\n\n    local uniqueId = vehicle:getUniqueId()\n    if uniqueId ~ = nil then\n        if self.vehicleByUniqueId[uniqueId] = = vehicle then\n            self.vehicleByUniqueId[uniqueId] = nil\n        end\n    end\n\n    self.wetVehicles[vehicle] = nil\n\n    g_messageCenter:publish(MessageType.VEHICLE_REMOVED)\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"save",children:"save"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"save()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"xmlFilename"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"usedModNames"})]})})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function VehicleSystem:save(xmlFilename, usedModNames)\n    local xmlFile = XMLFile.create( "vehiclesXML" , xmlFilename, "vehicles" , Vehicle.xmlSchemaSavegame)\n    if xmlFile ~ = nil then\n        self:saveToXML( self.vehicles, xmlFile, usedModNames)\n        xmlFile:delete()\n    end\nend\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"savetoxml",children:"saveToXML"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"saveToXML()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"vehicles"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"xmlFile"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"usedModNames"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function VehicleSystem:saveToXML(vehicles, xmlFile, usedModNames)\n    if xmlFile ~ = nil then\n        local xmlIndex = 0\n        for i, vehicle in ipairs(vehicles) do\n            if vehicle:getNeedsSaving() then\n                self:saveVehicleToXML(vehicle, xmlFile, xmlIndex, i, usedModNames)\n\n                xmlIndex = xmlIndex + 1\n            end\n        end\n\n        xmlFile:save( false , true )\n    end\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"savevehicletoxml",children:"saveVehicleToXML"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"saveVehicleToXML()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"vehicle"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"xmlFile"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"index"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"i"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"usedModNames"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function VehicleSystem:saveVehicleToXML(vehicle, xmlFile, index, i, usedModNames)\n    local vehicleKey = string.format( "vehicles.vehicle(%d)" , index)\n\n    local modName = vehicle.customEnvironment\n    if modName ~ = nil then\n        if usedModNames ~ = nil then\n            usedModNames[modName] = modName\n        end\n        xmlFile:setValue(vehicleKey .. "#modName" , modName)\n    end\n\n    xmlFile:setValue(vehicleKey .. "#filename" , HTMLUtil.encodeToHTML(NetworkUtil.convertToNetworkFilename(vehicle.configFileName)))\n\n    vehicle:saveToXMLFile(xmlFile, vehicleKey, usedModNames)\nend\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"setenteredvehicle",children:"setEnteredVehicle"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"setEnteredVehicle()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"vehicle"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function VehicleSystem:setEnteredVehicle(vehicle)\n    for i = 1 , # self.enterables do\n        if self.enterables[i] = = vehicle then\n            self.lastEnteredVehicleIndex = i\n            break\n        end\n    end\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"update",children:"update"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"update()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"dt"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function VehicleSystem:update(dt)\n    if self.debugVehiclesToBeLoaded ~ = nil then\n        self:consoleCommandLoadAllVehiclesNext()\n    end\n\n    if g_server ~ = nil then\n        local weather = g_currentMission.environment.weather\n        local indoorMask = g_currentMission.indoorMask\n\n        local rainScale = weather:getRainFallScale()\n        if rainScale > 0.1 then\n            local timeScale = g_currentMission:getEffectiveTimeScale()\n            local timeSinceLastRain = weather:getTimeSinceLastRain()\n            local temperature = weather:getCurrentTemperature()\n            if timeSinceLastRain < 30 and temperature > 0 then\n                for _, vehicle in pairs( self.vehicles) do\n                    if not vehicle:getIsInShowroom() and vehicle.updateWetness ~ = nil then\n                        local x, _, z = getWorldTranslation(vehicle.rootNode)\n                        local isInside = indoorMask:getIsIndoorAtWorldPosition(x, z)\n                        if not isInside then\n                            vehicle:updateWetness( true , dt * timeScale)\n\n                            if vehicle:getIsWet() then\n                                self.wetVehicles[vehicle] = vehicle\n                            end\n                        else\n                                vehicle:updateWetness( false , dt * timeScale)\n\n                                if not vehicle:getIsWet() then\n                                    self.wetVehicles[vehicle] = nil\n                                end\n                            end\n                        end\n                    end\n                end\n            elseif next( self.wetVehicles) ~ = nil then\n                    local timeScale = g_currentMission:getEffectiveTimeScale()\n                    for vehicle, _ in pairs( self.wetVehicles) do\n                        vehicle:updateWetness( false , dt * timeScale)\n\n                        if not vehicle:getIsWet() then\n                            self.wetVehicles[vehicle] = nil\n                        end\n                    end\n                end\n            end\n        end\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"updateinputattacherjoint",children:"updateInputAttacherJoint"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"updateInputAttacherJoint()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"inputAttacherJointInfo"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function VehicleSystem:updateInputAttacherJoint(inputAttacherJointInfo)\n    local x, y, z = getWorldTranslation(inputAttacherJointInfo.node)\n    inputAttacherJointInfo.translation[ 1 ], inputAttacherJointInfo.translation[ 2 ], inputAttacherJointInfo.translation[ 3 ] = x, y, z\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"updatependingsavegameloadings",children:"updatePendingSavegameLoadings"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"updatePendingSavegameLoadings()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function VehicleSystem:updatePendingSavegameLoadings()\n    if # self.pendingVehicleSavegameLoadings > 0 then\n        local savegameLoadingData = self.pendingVehicleSavegameLoadings[ 1 ]\n        table.remove( self.pendingVehicleSavegameLoadings, 1 )\n\n        self:loadFromXMLFile(savegameLoadingData.xmlFile, savegameLoadingData.asyncCallbackFunction, savegameLoadingData.asyncCallbackObject, savegameLoadingData.asyncCallbackArguments, savegameLoadingData.resetVehicles, savegameLoadingData.keepPosition)\n    end\nend\n\n"})})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},28453(e,n,l){l.d(n,{R:()=>d,x:()=>c});var i=l(96540);const t={},s=i.createContext(t);function d(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:d(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);