"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[43293],{28453(n,e,i){i.d(e,{R:()=>t,x:()=>a});var r=i(96540);const l={},s=r.createContext(l);function t(n){const e=r.useContext(s);return r.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(l):n.components||l:t(n.components),r.createElement(s.Provider,{value:e},n.children)}},74533(n,e,i){i.r(e),i.d(e,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>t,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"script/Specializations/PlaceableHusbandry","title":"PlaceableHusbandry","description":"PlaceableHusbandry","source":"@site/../docs/script/Specializations/PlaceableHusbandry.md","sourceDirName":"script/Specializations","slug":"/script/Specializations/PlaceableHusbandry","permalink":"/FS25-Community-LUADOC/script/Specializations/PlaceableHusbandry","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"PlaceableHotspots","permalink":"/FS25-Community-LUADOC/script/Specializations/PlaceableHotspots"},"next":{"title":"PlaceableHusbandryAnimals","permalink":"/FS25-Community-LUADOC/script/Specializations/PlaceableHusbandryAnimals"}}');var l=i(74848),s=i(28453);const t={},a=void 0,d={},o=[{value:"PlaceableHusbandry",id:"placeablehusbandry",level:2},{value:"addHusbandryFillLevelFromTool",id:"addhusbandryfilllevelfromtool",level:3},{value:"canBuy",id:"canbuy",level:3},{value:"collectPickObjects",id:"collectpickobjects",level:3},{value:"getAnimalDescription",id:"getanimaldescription",level:3},{value:"getAnimalInfos",id:"getanimalinfos",level:3},{value:"getCanBePlacedAt",id:"getcanbeplacedat",level:3},{value:"getConditionInfos",id:"getconditioninfos",level:3},{value:"getFoodInfos",id:"getfoodinfos",level:3},{value:"getGlobalProductionFactor",id:"getglobalproductionfactor",level:3},{value:"getHusbandryCapacity",id:"gethusbandrycapacity",level:3},{value:"getHusbandryFillLevel",id:"gethusbandryfilllevel",level:3},{value:"getHusbandryFreeCapacity",id:"gethusbandryfreecapacity",level:3},{value:"getHusbandryIsFillTypeSupported",id:"gethusbandryisfilltypesupported",level:3},{value:"getNeedHourChanged",id:"getneedhourchanged",level:3},{value:"loadFromXMLFile",id:"loadfromxmlfile",level:3},{value:"onAddedStorageToLoadingStation",id:"onaddedstoragetoloadingstation",level:3},{value:"onAddedStorageToUnloadingStation",id:"onaddedstoragetounloadingstation",level:3},{value:"onBuy",id:"onbuy",level:3},{value:"onDelete",id:"ondelete",level:3},{value:"onFinalizePlacement",id:"onfinalizeplacement",level:3},{value:"onHourChanged",id:"onhourchanged",level:3},{value:"onLoad",id:"onload",level:3},{value:"onReadStream",id:"onreadstream",level:3},{value:"onReadUpdateStream",id:"onreadupdatestream",level:3},{value:"onRemovedStorageFromLoadingStation",id:"onremovedstoragefromloadingstation",level:3},{value:"onRemovedStorageFromUnloadingStation",id:"onremovedstoragefromunloadingstation",level:3},{value:"onWriteStream",id:"onwritestream",level:3},{value:"onWriteUpdateStream",id:"onwriteupdatestream",level:3},{value:"prerequisitesPresent",id:"prerequisitespresent",level:3},{value:"registerEventListeners",id:"registereventlisteners",level:3},{value:"registerEvents",id:"registerevents",level:3},{value:"registerFunctions",id:"registerfunctions",level:3},{value:"registerOverwrittenFunctions",id:"registeroverwrittenfunctions",level:3},{value:"registerSavegameXMLPaths",id:"registersavegamexmlpaths",level:3},{value:"registerXMLPaths",id:"registerxmlpaths",level:3},{value:"removeHusbandryFillLevel",id:"removehusbandryfilllevel",level:3},{value:"saveToXMLFile",id:"savetoxmlfile",level:3},{value:"setOwnerFarmId",id:"setownerfarmid",level:3},{value:"updateFeeding",id:"updatefeeding",level:3},{value:"updateOutput",id:"updateoutput",level:3},{value:"updateProduction",id:"updateproduction",level:3}];function c(n){const e={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e.h2,{id:"placeablehusbandry",children:"PlaceableHusbandry"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"Specialization for placeables"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Functions"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#addhusbandryfilllevelfromtool",children:"addHusbandryFillLevelFromTool"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#canbuy",children:"canBuy"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#collectpickobjects",children:"collectPickObjects"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#getanimaldescription",children:"getAnimalDescription"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#getanimalinfos",children:"getAnimalInfos"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#getcanbeplacedat",children:"getCanBePlacedAt"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#getconditioninfos",children:"getConditionInfos"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#getfoodinfos",children:"getFoodInfos"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#getglobalproductionfactor",children:"getGlobalProductionFactor"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#gethusbandrycapacity",children:"getHusbandryCapacity"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#gethusbandryfilllevel",children:"getHusbandryFillLevel"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#gethusbandryfreecapacity",children:"getHusbandryFreeCapacity"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#gethusbandryisfilltypesupported",children:"getHusbandryIsFillTypeSupported"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#getneedhourchanged",children:"getNeedHourChanged"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#loadfromxmlfile",children:"loadFromXMLFile"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#onaddedstoragetoloadingstation",children:"onAddedStorageToLoadingStation"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#onaddedstoragetounloadingstation",children:"onAddedStorageToUnloadingStation"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#onbuy",children:"onBuy"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#ondelete",children:"onDelete"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#onfinalizeplacement",children:"onFinalizePlacement"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#onhourchanged",children:"onHourChanged"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#onload",children:"onLoad"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#onreadstream",children:"onReadStream"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#onreadupdatestream",children:"onReadUpdateStream"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#onremovedstoragefromloadingstation",children:"onRemovedStorageFromLoadingStation"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#onremovedstoragefromunloadingstation",children:"onRemovedStorageFromUnloadingStation"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#onwritestream",children:"onWriteStream"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#onwriteupdatestream",children:"onWriteUpdateStream"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#prerequisitespresent",children:"prerequisitesPresent"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#registereventlisteners",children:"registerEventListeners"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#registerevents",children:"registerEvents"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#registerfunctions",children:"registerFunctions"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#registeroverwrittenfunctions",children:"registerOverwrittenFunctions"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#registersavegamexmlpaths",children:"registerSavegameXMLPaths"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#registerxmlpaths",children:"registerXMLPaths"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#removehusbandryfilllevel",children:"removeHusbandryFillLevel"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#savetoxmlfile",children:"saveToXMLFile"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#setownerfarmid",children:"setOwnerFarmId"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#updatefeeding",children:"updateFeeding"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#updateoutput",children:"updateOutput"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#updateproduction",children:"updateProduction"})}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"addhusbandryfilllevelfromtool",children:"addHusbandryFillLevelFromTool"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"addHusbandryFillLevelFromTool()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"any"}),(0,l.jsx)(e.th,{children:"farmId"})]})}),(0,l.jsxs)(e.tbody,{children:[(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"any"}),(0,l.jsx)(e.td,{children:"deltaFillLevel"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"any"}),(0,l.jsx)(e.td,{children:"fillTypeIndex"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"any"}),(0,l.jsx)(e.td,{children:"fillPositionData"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"any"}),(0,l.jsx)(e.td,{children:"toolType"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"any"}),(0,l.jsx)(e.td,{children:"extraAttributes"})]})]})]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function PlaceableHusbandry:addHusbandryFillLevelFromTool(farmId, deltaFillLevel, fillTypeIndex, fillPositionData, toolType, extraAttributes)\n    local spec = self.spec_husbandry\n    if spec.unloadingStation = = nil then\n        return 0\n    end\n    return spec.unloadingStation:addFillLevelFromTool(farmId or self:getOwnerFarmId(), deltaFillLevel, fillTypeIndex, fillPositionData, toolType, extraAttributes)\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"canbuy",children:"canBuy"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"canBuy()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,l.jsx)(e.table,{children:(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"any"}),(0,l.jsx)(e.th,{children:"superFunc"})]})})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:'function PlaceableHusbandry:canBuy(superFunc)\n    if g_currentMission.husbandrySystem:getLimitReached() then\n        return false , g_i18n:getText( "warning_tooManyHusbandries" )\n    end\n\n    return superFunc( self )\nend\n\n'})}),"\n",(0,l.jsx)(e.h3,{id:"collectpickobjects",children:"collectPickObjects"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"collectPickObjects()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"any"}),(0,l.jsx)(e.th,{children:"superFunc"})]})}),(0,l.jsxs)(e.tbody,{children:[(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"any"}),(0,l.jsx)(e.td,{children:"node"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"any"}),(0,l.jsx)(e.td,{children:"target"})]})]})]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function PlaceableHusbandry:collectPickObjects(superFunc, node, target)\n    local spec = self.spec_husbandry\n\n    if spec.unloadingStation ~ = nil then\n        for _, unloadTrigger in ipairs(spec.unloadingStation.unloadTriggers) do\n            if node = = unloadTrigger.exactFillRootNode then\n                return\n            end\n        end\n    end\n\n    if spec.loadingStation ~ = nil then\n        for _, loadTrigger in ipairs(spec.loadingStation.loadTriggers) do\n            if node = = loadTrigger.triggerNode then\n                return\n            end\n        end\n    end\n\n    superFunc( self , node, target)\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"getanimaldescription",children:"getAnimalDescription"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"getAnimalDescription()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,l.jsx)(e.table,{children:(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"any"}),(0,l.jsx)(e.th,{children:"cluster"})]})})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:'function PlaceableHusbandry:getAnimalDescription(cluster)\n    return ""\nend\n\n'})}),"\n",(0,l.jsx)(e.h3,{id:"getanimalinfos",children:"getAnimalInfos"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"getAnimalInfos()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function PlaceableHusbandry:getAnimalInfos()\n    return { }\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"getcanbeplacedat",children:"getCanBePlacedAt"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"getCanBePlacedAt()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"any"}),(0,l.jsx)(e.th,{children:"superFunc"})]})}),(0,l.jsxs)(e.tbody,{children:[(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"any"}),(0,l.jsx)(e.td,{children:"x"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"any"}),(0,l.jsx)(e.td,{children:"y"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"any"}),(0,l.jsx)(e.td,{children:"z"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"any"}),(0,l.jsx)(e.td,{children:"farmId"})]})]})]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:'function PlaceableHusbandry:getCanBePlacedAt(superFunc, x, y, z, farmId)\n    if g_currentMission.husbandrySystem:getLimitReached() then\n        return false , g_i18n:getText( "warning_tooManyHusbandries" )\n    end\n\n    return superFunc( self , x, y, z)\nend\n\n'})}),"\n",(0,l.jsx)(e.h3,{id:"getconditioninfos",children:"getConditionInfos"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"getConditionInfos()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function PlaceableHusbandry:getConditionInfos()\n    return { }\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"getfoodinfos",children:"getFoodInfos"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"getFoodInfos()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function PlaceableHusbandry:getFoodInfos()\n    return { }\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"getglobalproductionfactor",children:"getGlobalProductionFactor"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"getGlobalProductionFactor()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function PlaceableHusbandry:getGlobalProductionFactor()\n    local spec = self.spec_husbandry\n    return spec.globalProductionFactor\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"gethusbandrycapacity",children:"getHusbandryCapacity"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"getHusbandryCapacity()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"any"}),(0,l.jsx)(e.th,{children:"fillTypeIndex"})]})}),(0,l.jsx)(e.tbody,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"any"}),(0,l.jsx)(e.td,{children:"farmId"})]})})]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function PlaceableHusbandry:getHusbandryCapacity(fillTypeIndex, farmId)\n    local spec = self.spec_husbandry\n    if spec.unloadingStation = = nil then\n        return 0\n    end\n    return spec.unloadingStation:getCapacity(fillTypeIndex, farmId or self:getOwnerFarmId())\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"gethusbandryfilllevel",children:"getHusbandryFillLevel"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"getHusbandryFillLevel()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"any"}),(0,l.jsx)(e.th,{children:"fillTypeIndex"})]})}),(0,l.jsx)(e.tbody,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"any"}),(0,l.jsx)(e.td,{children:"farmId"})]})})]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function PlaceableHusbandry:getHusbandryFillLevel(fillTypeIndex, farmId)\n    local spec = self.spec_husbandry\n    if spec.unloadingStation = = nil then\n        return 0\n    end\n    return spec.unloadingStation:getFillLevel(fillTypeIndex, farmId or self:getOwnerFarmId())\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"gethusbandryfreecapacity",children:"getHusbandryFreeCapacity"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"getHusbandryFreeCapacity()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"any"}),(0,l.jsx)(e.th,{children:"fillTypeIndex"})]})}),(0,l.jsx)(e.tbody,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"any"}),(0,l.jsx)(e.td,{children:"farmId"})]})})]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function PlaceableHusbandry:getHusbandryFreeCapacity(fillTypeIndex, farmId)\n    local spec = self.spec_husbandry\n    if spec.unloadingStation = = nil then\n        return 0\n    end\n    return spec.unloadingStation:getFreeCapacity(fillTypeIndex, farmId or self:getOwnerFarmId())\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"gethusbandryisfilltypesupported",children:"getHusbandryIsFillTypeSupported"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"getHusbandryIsFillTypeSupported()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,l.jsx)(e.table,{children:(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"any"}),(0,l.jsx)(e.th,{children:"fillTypeIndex"})]})})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function PlaceableHusbandry:getHusbandryIsFillTypeSupported(fillTypeIndex)\n    local spec = self.spec_husbandry\n    if spec.unloadingStation = = nil then\n        return false\n    end\n    return spec.unloadingStation:getIsFillTypeSupported(fillTypeIndex)\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"getneedhourchanged",children:"getNeedHourChanged"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"getNeedHourChanged()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,l.jsx)(e.table,{children:(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"any"}),(0,l.jsx)(e.th,{children:"superFunc"})]})})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function PlaceableHusbandry:getNeedHourChanged(superFunc)\n    return true\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"loadfromxmlfile",children:"loadFromXMLFile"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"loadFromXMLFile()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"any"}),(0,l.jsx)(e.th,{children:"xmlFile"})]})}),(0,l.jsx)(e.tbody,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"any"}),(0,l.jsx)(e.td,{children:"key"})]})})]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:'function PlaceableHusbandry:loadFromXMLFile(xmlFile, key)\n    local spec = self.spec_husbandry\n    if spec.storage ~ = nil then\n        spec.storage:loadFromXMLFile(xmlFile, key .. ".storage" )\n    end\n    spec.globalProductionFactor = xmlFile:getValue(key .. "#globalProductionFactor" , spec.globalProductionFactor)\n    spec.productionFactor = xmlFile:getValue(key .. "#productionFactor" , spec.productionFactor)\nend\n\n'})}),"\n",(0,l.jsx)(e.h3,{id:"onaddedstoragetoloadingstation",children:"onAddedStorageToLoadingStation"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"onAddedStorageToLoadingStation()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"any"}),(0,l.jsx)(e.th,{children:"storage"})]})}),(0,l.jsx)(e.tbody,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"any"}),(0,l.jsx)(e.td,{children:"loadingStation"})]})})]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function PlaceableHusbandry:onAddedStorageToLoadingStation(storage, loadingStation)\n    local spec = self.spec_husbandry\n    if spec.loadingStation ~ = nil and spec.loadingStation = = loadingStation then\n        storage:addFillLevelChangedListeners(spec.fillLevelChangedCallback)\n    end\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"onaddedstoragetounloadingstation",children:"onAddedStorageToUnloadingStation"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"onAddedStorageToUnloadingStation()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"any"}),(0,l.jsx)(e.th,{children:"storage"})]})}),(0,l.jsx)(e.tbody,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"any"}),(0,l.jsx)(e.td,{children:"unloadingStation"})]})})]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function PlaceableHusbandry:onAddedStorageToUnloadingStation(storage, unloadingStation)\n    local spec = self.spec_husbandry\n    if spec.unloadingStation ~ = nil and spec.unloadingStation = = unloadingStation then\n        storage:addFillLevelChangedListeners(spec.fillLevelChangedCallback)\n    end\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"onbuy",children:"onBuy"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"onBuy()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function PlaceableHusbandry:onBuy()\n    local spec = self.spec_husbandry\n    local unloadingStation = spec.unloadingStation\n    local storageSystem = g_currentMission.storageSystem\n    local loadingStation = spec.loadingStation\n\n    if unloadingStation ~ = nil then\n        -- now check if there are some storages in range which can also be used\n            local storagesInRange = storageSystem:getStorageExtensionsInRange(unloadingStation, self:getOwnerFarmId())\n            for _, storageInRange in ipairs(storagesInRange) do\n                if unloadingStation.targetStorages[storageInRange] = = nil then\n                    storageSystem:addStorageToUnloadingStation(storageInRange, unloadingStation)\n                end\n                if loadingStation ~ = nil and loadingStation.sourceStorages[storageInRange] = = nil then\n                    storageSystem:addStorageToLoadingStation(storageInRange, loadingStation)\n                end\n            end\n        end\n    end\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"ondelete",children:"onDelete"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"onDelete()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function PlaceableHusbandry:onDelete()\n    local spec = self.spec_husbandry\n\n    local storageSystem = g_currentMission.storageSystem\n\n    if spec.unloadingStation ~ = nil then\n        storageSystem:removeStorageFromUnloadingStations(spec.storage, { spec.unloadingStation } )\n        storageSystem:removeUnloadingStation(spec.unloadingStation, self )\n        spec.unloadingStation:delete()\n        spec.unloadingStation = nil\n    end\n    if spec.loadingStation ~ = nil then\n        if spec.loadingStation:getIsFillTypeSupported(FillType.LIQUIDMANURE) then\n            g_currentMission:removeLiquidManureLoadingStation(spec.loadingStation)\n        end\n\n        storageSystem:removeStorageFromLoadingStations(spec.storage, { spec.loadingStation } )\n        storageSystem:removeLoadingStation(spec.loadingStation, self )\n        spec.loadingStation:delete()\n        spec.loadingStation = nil\n    end\n    if spec.storage ~ = nil then\n        storageSystem:removeStorage(spec.storage)\n        spec.storage:delete()\n        spec.storage = nil\n    end\n\n    g_messageCenter:unsubscribe(MessageType.STORAGE_ADDED_TO_LOADING_STATION, self )\n    g_messageCenter:unsubscribe(MessageType.STORAGE_REMOVED_FROM_LOADING_STATION, self )\n    g_messageCenter:unsubscribe(MessageType.STORAGE_ADDED_TO_UNLOADING_STATION, self )\n    g_messageCenter:unsubscribe(MessageType.STORAGE_REMOVED_FROM_UNLOADING_STATION, self )\n\n    g_currentMission.husbandrySystem:removePlaceable( self )\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"onfinalizeplacement",children:"onFinalizePlacement"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"onFinalizePlacement()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function PlaceableHusbandry:onFinalizePlacement()\n    local spec = self.spec_husbandry\n\n    g_messageCenter:subscribe(MessageType.STORAGE_ADDED_TO_LOADING_STATION, self.onAddedStorageToLoadingStation, self )\n    g_messageCenter:subscribe(MessageType.STORAGE_REMOVED_FROM_LOADING_STATION, self.onRemovedStorageFromLoadingStation, self )\n    g_messageCenter:subscribe(MessageType.STORAGE_ADDED_TO_UNLOADING_STATION, self.onAddedStorageToUnloadingStation, self )\n    g_messageCenter:subscribe(MessageType.STORAGE_REMOVED_FROM_UNLOADING_STATION, self.onRemovedStorageFromUnloadingStation, self )\n\n    local storage = spec.storage\n    local unloadingStation = spec.unloadingStation\n    local storageSystem = g_currentMission.storageSystem\n    local loadingStation = spec.loadingStation\n    local farmId = self:getOwnerFarmId()\n\n    local newFarmId = farmId\n    if farmId = = AccessHandler.EVERYONE then\n        newFarmId = AccessHandler.NOBODY\n    end\n\n    if loadingStation ~ = nil then\n        loadingStation:setOwnerFarmId(newFarmId, true )\n        loadingStation:register( true )\n        storageSystem:addLoadingStation(loadingStation, self )\n\n        if loadingStation:getIsFillTypeSupported(FillType.LIQUIDMANURE) then\n            g_currentMission:addLiquidManureLoadingStation(loadingStation)\n        end\n    end\n\n    if unloadingStation ~ = nil then\n        unloadingStation:setOwnerFarmId(newFarmId, true )\n        unloadingStation:register( true )\n        storageSystem:addUnloadingStation(unloadingStation, self )\n    end\n\n    if storage ~ = nil then\n        storage:setOwnerFarmId(newFarmId, true )\n        storage:register( true )\n        storageSystem:addStorage(storage)\n\n        if unloadingStation ~ = nil then\n            storageSystem:addStorageToUnloadingStation(storage, unloadingStation)\n        end\n\n        if loadingStation ~ = nil then\n            storageSystem:addStorageToLoadingStation(storage, loadingStation)\n        end\n    end\n\n    if newFarmId ~ = AccessHandler.NOBODY and unloadingStation ~ = nil then\n        -- now check if there are some storages in range which can also be used\n            local storagesInRange = storageSystem:getStorageExtensionsInRange(unloadingStation, farmId)\n            for _, storageInRange in ipairs(storagesInRange) do\n                if unloadingStation.targetStorages[storageInRange] = = nil then\n                    storageSystem:addStorageToUnloadingStation(storageInRange, unloadingStation)\n                end\n                if loadingStation ~ = nil and loadingStation.sourceStorages[storageInRange] = = nil then\n                    storageSystem:addStorageToLoadingStation(storageInRange, loadingStation)\n                end\n            end\n        end\n\n        g_currentMission.husbandrySystem:addPlaceable( self )\n    end\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"onhourchanged",children:"onHourChanged"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"onHourChanged()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,l.jsx)(e.table,{children:(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"any"}),(0,l.jsx)(e.th,{children:"currentHour"})]})})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:'function PlaceableHusbandry:onHourChanged(currentHour)\n    if self.isServer then\n        local spec = self.spec_husbandry\n        local foodFactor = self:updateFeeding()\n        SpecializationUtil.raiseEvent( self , "onFinishedFeeding" )\n\n        local productionFactor = self:updateProduction(foodFactor)\n\n        local factor\n        local changePerHour\n        if productionFactor > spec.productionThreshold then\n            factor = (productionFactor - spec.productionThreshold) / ( 1 - spec.productionThreshold)\n            changePerHour = spec.productionChangePerHourIncrease\n        else\n                factor = (productionFactor / spec.productionThreshold) - 1\n                changePerHour = spec.productionChangePerHourDecrease\n            end\n\n            local delta = changePerHour * factor\n            spec.globalProductionFactor = math.clamp(spec.globalProductionFactor + delta, 0 , 1 )\n\n            self:updateOutput(foodFactor, productionFactor, spec.globalProductionFactor)\n            self:raiseDirtyFlags(spec.dirtyFlag)\n        end\n    end\n\n'})}),"\n",(0,l.jsx)(e.h3,{id:"onload",children:"onLoad"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"Called on loading"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"onLoad(table savegame)"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,l.jsx)(e.table,{children:(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"table"}),(0,l.jsx)(e.th,{children:"savegame"}),(0,l.jsx)(e.th,{children:"savegame"})]})})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:'function PlaceableHusbandry:onLoad(savegame)\n    local spec = self.spec_husbandry\n    local xmlFile = self.xmlFile\n\n    spec.fillLevelChangedListener = { }\n    spec.targetStorages = { }\n    spec.hideFromPricesMenu = true\n    -- spec.saveId = xmlFile:getValue("placeable.husbandry#saveId", "Animals_" .. self:getAnimalType())\n    -- spec.hasStatistics = xmlFile:getValue("placeable.husbandry#hasStatistics", spec.hasStatistics)\n    spec.globalProductionFactor = 0.0\n    spec.productionFactor = 0.0\n\n    spec.husbandryDirtyFlag = self:getNextDirtyFlag()\n\n    if xmlFile:hasProperty( "placeable.husbandry.unloadingStation" ) then\n        spec.unloadingStation = UnloadingStation.new( self.isServer, self.isClient)\n        if spec.unloadingStation:load( self.components, xmlFile, "placeable.husbandry.unloadingStation" , self.customEnvironment, self.i3dMappings, self.components[ 1 ].node) then\n            spec.unloadingStation.owningPlaceable = self\n            spec.unloadingStation.hasStoragePerFarm = false\n        else\n                spec.unloadingStation:delete()\n                Logging.xmlError(xmlFile, "Failed to load unloading station" )\n                self:setLoadingState(PlaceableLoadingState.ERROR)\n                return\n            end\n        end\n\n        if xmlFile:hasProperty( "placeable.husbandry.storage" ) then\n            spec.storage = Storage.new( self.isServer, self.isClient)\n            if not spec.storage:load( self.components, xmlFile, "placeable.husbandry.storage" , self.i3dMappings, self.baseDirectory) then\n                spec.storage:delete()\n                Logging.xmlError(xmlFile, "Failed to load storage" )\n                self:setLoadingState(PlaceableLoadingState.ERROR)\n                return\n            end\n        end\n\n        if xmlFile:hasProperty( "placeable.husbandry.loadingStation" ) then\n            spec.loadingStation = LoadingStation.new( self.isServer, self.isClient)\n            if spec.loadingStation:load( self.components, xmlFile, "placeable.husbandry.loadingStation" , self.customEnvironment, self.i3dMappings, self.components[ 1 ].node) then\n                spec.loadingStation.owningPlaceable = self\n                spec.loadingStation.hasStoragePerFarm = false\n            else\n                    spec.loadingStation:delete()\n                    Logging.xmlError(xmlFile, "Failed to load loading station" )\n                    self:setLoadingState(PlaceableLoadingState.ERROR)\n                    return\n                end\n            end\n\n            spec.fillLevelChangedCallback = function (fillType, delta)\n                SpecializationUtil.raiseEvent( self , "onHusbandryFillLevelChanged" , fillType, delta)\n            end\n\n            spec.productionThreshold = math.clamp( math.abs(xmlFile:getValue( "placeable.husbandry.production#threshold" , 0.25 )), 0.01 , 0.99 )\n            spec.productionChangePerHourIncrease = math.abs(xmlFile:getValue( "placeable.husbandry.production#increasePerHour" , 0.1 ))\n            spec.productionChangePerHourDecrease = math.abs(xmlFile:getValue( "placeable.husbandry.production#decreasePerHour" , 0.2 ))\n\n            spec.dirtyFlag = self:getNextDirtyFlag()\n        end\n\n'})}),"\n",(0,l.jsx)(e.h3,{id:"onreadstream",children:"onReadStream"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"onReadStream()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"any"}),(0,l.jsx)(e.th,{children:"streamId"})]})}),(0,l.jsx)(e.tbody,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"any"}),(0,l.jsx)(e.td,{children:"connection"})]})})]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function PlaceableHusbandry:onReadStream(streamId, connection)\n    local spec = self.spec_husbandry\n\n    if spec.unloadingStation ~ = nil then\n        local unloadingStationId = NetworkUtil.readNodeObjectId(streamId)\n        spec.unloadingStation:readStream(streamId, connection)\n        g_client:finishRegisterObject(spec.unloadingStation, unloadingStationId)\n    end\n\n    if spec.loadingStation ~ = nil then\n        local loadingStationId = NetworkUtil.readNodeObjectId(streamId)\n        spec.loadingStation:readStream(streamId, connection)\n        g_client:finishRegisterObject(spec.loadingStation, loadingStationId)\n    end\n\n    if spec.storage ~ = nil then\n        local storageId = NetworkUtil.readNodeObjectId(streamId)\n        spec.storage:readStream(streamId, connection)\n        g_client:finishRegisterObject(spec.storage, storageId)\n    end\n\n    spec.globalProductionFactor = streamReadUInt8(streamId) / 255\n    spec.productionFactor = streamReadUInt8(streamId) / 255\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"onreadupdatestream",children:"onReadUpdateStream"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"onReadUpdateStream()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"any"}),(0,l.jsx)(e.th,{children:"streamId"})]})}),(0,l.jsx)(e.tbody,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"any"}),(0,l.jsx)(e.td,{children:"connection"})]})})]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function PlaceableHusbandry:onReadUpdateStream(streamId, connection)\n    local spec = self.spec_husbandry\n\n    spec.globalProductionFactor = streamReadUInt8(streamId) / 100\n    spec.productionFactor = streamReadUInt8(streamId) / 100\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"onremovedstoragefromloadingstation",children:"onRemovedStorageFromLoadingStation"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"onRemovedStorageFromLoadingStation()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"any"}),(0,l.jsx)(e.th,{children:"storage"})]})}),(0,l.jsx)(e.tbody,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"any"}),(0,l.jsx)(e.td,{children:"loadingStation"})]})})]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function PlaceableHusbandry:onRemovedStorageFromLoadingStation(storage, loadingStation)\n    local spec = self.spec_husbandry\n    if spec.loadingStation ~ = nil and spec.loadingStation = = loadingStation then\n        storage:removeFillLevelChangedListeners(spec.fillLevelChangedCallback)\n    end\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"onremovedstoragefromunloadingstation",children:"onRemovedStorageFromUnloadingStation"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"onRemovedStorageFromUnloadingStation()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"any"}),(0,l.jsx)(e.th,{children:"storage"})]})}),(0,l.jsx)(e.tbody,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"any"}),(0,l.jsx)(e.td,{children:"unloadingStation"})]})})]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function PlaceableHusbandry:onRemovedStorageFromUnloadingStation(storage, unloadingStation)\n    local spec = self.spec_husbandry\n    if spec.unloadingStation ~ = nil and spec.unloadingStation = = unloadingStation then\n        storage:removeFillLevelChangedListeners(spec.fillLevelChangedCallback)\n    end\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"onwritestream",children:"onWriteStream"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"onWriteStream()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"any"}),(0,l.jsx)(e.th,{children:"streamId"})]})}),(0,l.jsx)(e.tbody,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"any"}),(0,l.jsx)(e.td,{children:"connection"})]})})]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function PlaceableHusbandry:onWriteStream(streamId, connection)\n    local spec = self.spec_husbandry\n\n    if spec.unloadingStation ~ = nil then\n        NetworkUtil.writeNodeObjectId(streamId, NetworkUtil.getObjectId(spec.unloadingStation))\n        spec.unloadingStation:writeStream(streamId, connection)\n        g_server:registerObjectInStream(connection, spec.unloadingStation)\n    end\n\n    if spec.loadingStation ~ = nil then\n        NetworkUtil.writeNodeObjectId(streamId, NetworkUtil.getObjectId(spec.loadingStation))\n        spec.loadingStation:writeStream(streamId, connection)\n        g_server:registerObjectInStream(connection, spec.loadingStation)\n    end\n\n    if spec.storage ~ = nil then\n        NetworkUtil.writeNodeObjectId(streamId, NetworkUtil.getObjectId(spec.storage))\n        spec.storage:writeStream(streamId, connection)\n        g_server:registerObjectInStream(connection, spec.storage)\n    end\n\n    streamWriteUInt8(streamId, MathUtil.round(spec.globalProductionFactor * 255 ))\n    streamWriteUInt8(streamId, MathUtil.round(spec.productionFactor * 255 ))\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"onwriteupdatestream",children:"onWriteUpdateStream"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"onWriteUpdateStream()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"any"}),(0,l.jsx)(e.th,{children:"streamId"})]})}),(0,l.jsx)(e.tbody,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"any"}),(0,l.jsx)(e.td,{children:"connection"})]})})]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function PlaceableHusbandry:onWriteUpdateStream(streamId, connection)\n    local spec = self.spec_husbandry\n\n    streamWriteUInt8(streamId, MathUtil.round(spec.globalProductionFactor * 100 ))\n    streamWriteUInt8(streamId, MathUtil.round(spec.productionFactor * 100 ))\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"prerequisitespresent",children:"prerequisitesPresent"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"Checks if all prerequisite specializations are loaded"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"prerequisitesPresent(table specializations)"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,l.jsx)(e.table,{children:(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"table"}),(0,l.jsx)(e.th,{children:"specializations"}),(0,l.jsx)(e.th,{children:"specializations"})]})})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,l.jsx)(e.table,{children:(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"table"}),(0,l.jsx)(e.th,{children:"hasPrerequisite"}),(0,l.jsx)(e.th,{children:"true if all prerequisite specializations are loaded"})]})})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function PlaceableHusbandry.prerequisitesPresent(specializations)\n    return true\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"registereventlisteners",children:"registerEventListeners"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"registerEventListeners()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,l.jsx)(e.table,{children:(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"any"}),(0,l.jsx)(e.th,{children:"placeableType"})]})})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:'function PlaceableHusbandry.registerEventListeners(placeableType)\n    SpecializationUtil.registerEventListener(placeableType, "onLoad" , PlaceableHusbandry )\n    SpecializationUtil.registerEventListener(placeableType, "onDelete" , PlaceableHusbandry )\n    SpecializationUtil.registerEventListener(placeableType, "onFinalizePlacement" , PlaceableHusbandry )\n    SpecializationUtil.registerEventListener(placeableType, "onReadStream" , PlaceableHusbandry )\n    SpecializationUtil.registerEventListener(placeableType, "onWriteStream" , PlaceableHusbandry )\n    SpecializationUtil.registerEventListener(placeableType, "onReadUpdateStream" , PlaceableHusbandry )\n    SpecializationUtil.registerEventListener(placeableType, "onWriteUpdateStream" , PlaceableHusbandry )\n    SpecializationUtil.registerEventListener(placeableType, "onHourChanged" , PlaceableHusbandry )\n    SpecializationUtil.registerEventListener(placeableType, "onBuy" , PlaceableHusbandry )\nend\n\n'})}),"\n",(0,l.jsx)(e.h3,{id:"registerevents",children:"registerEvents"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"registerEvents()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,l.jsx)(e.table,{children:(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"any"}),(0,l.jsx)(e.th,{children:"placeableType"})]})})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:'function PlaceableHusbandry.registerEvents(placeableType)\n    SpecializationUtil.registerEvent(placeableType, "onHusbandryFillLevelChanged" )\n    SpecializationUtil.registerEvent(placeableType, "onFinishedFeeding" )\nend\n\n'})}),"\n",(0,l.jsx)(e.h3,{id:"registerfunctions",children:"registerFunctions"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"registerFunctions()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,l.jsx)(e.table,{children:(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"any"}),(0,l.jsx)(e.th,{children:"placeableType"})]})})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:'function PlaceableHusbandry.registerFunctions(placeableType)\n    SpecializationUtil.registerFunction(placeableType, "onAddedStorageToLoadingStation" , PlaceableHusbandry.onAddedStorageToLoadingStation)\n    SpecializationUtil.registerFunction(placeableType, "onRemovedStorageFromLoadingStation" , PlaceableHusbandry.onRemovedStorageFromLoadingStation)\n    SpecializationUtil.registerFunction(placeableType, "onAddedStorageToUnloadingStation" , PlaceableHusbandry.onAddedStorageToUnloadingStation)\n    SpecializationUtil.registerFunction(placeableType, "onRemovedStorageFromUnloadingStation" , PlaceableHusbandry.onRemovedStorageFromUnloadingStation)\n    SpecializationUtil.registerFunction(placeableType, "updateFeeding" , PlaceableHusbandry.updateFeeding)\n    SpecializationUtil.registerFunction(placeableType, "updateProduction" , PlaceableHusbandry.updateProduction)\n    SpecializationUtil.registerFunction(placeableType, "updateOutput" , PlaceableHusbandry.updateOutput)\n    SpecializationUtil.registerFunction(placeableType, "getGlobalProductionFactor" , PlaceableHusbandry.getGlobalProductionFactor)\n    SpecializationUtil.registerFunction(placeableType, "getProductionFactor" , PlaceableHusbandry.getProductionFactor)\n    SpecializationUtil.registerFunction(placeableType, "getConditionInfos" , PlaceableHusbandry.getConditionInfos)\n    SpecializationUtil.registerFunction(placeableType, "getFoodInfos" , PlaceableHusbandry.getFoodInfos)\n    SpecializationUtil.registerFunction(placeableType, "getAnimalInfos" , PlaceableHusbandry.getAnimalInfos)\n    SpecializationUtil.registerFunction(placeableType, "getAnimalDescription" , PlaceableHusbandry.getAnimalDescription)\n    SpecializationUtil.registerFunction(placeableType, "getHusbandryCapacity" , PlaceableHusbandry.getHusbandryCapacity)\n    SpecializationUtil.registerFunction(placeableType, "getHusbandryFreeCapacity" , PlaceableHusbandry.getHusbandryFreeCapacity)\n    SpecializationUtil.registerFunction(placeableType, "addHusbandryFillLevelFromTool" , PlaceableHusbandry.addHusbandryFillLevelFromTool)\n    SpecializationUtil.registerFunction(placeableType, "removeHusbandryFillLevel" , PlaceableHusbandry.removeHusbandryFillLevel)\n    SpecializationUtil.registerFunction(placeableType, "getHusbandryFillLevel" , PlaceableHusbandry.getHusbandryFillLevel)\n    SpecializationUtil.registerFunction(placeableType, "getHusbandryIsFillTypeSupported" , PlaceableHusbandry.getHusbandryIsFillTypeSupported)\nend\n\n'})}),"\n",(0,l.jsx)(e.h3,{id:"registeroverwrittenfunctions",children:"registerOverwrittenFunctions"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"registerOverwrittenFunctions()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,l.jsx)(e.table,{children:(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"any"}),(0,l.jsx)(e.th,{children:"placeableType"})]})})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:'function PlaceableHusbandry.registerOverwrittenFunctions(placeableType)\n    SpecializationUtil.registerOverwrittenFunction(placeableType, "setOwnerFarmId" , PlaceableHusbandry.setOwnerFarmId)\n    SpecializationUtil.registerOverwrittenFunction(placeableType, "collectPickObjects" , PlaceableHusbandry.collectPickObjects)\n    SpecializationUtil.registerOverwrittenFunction(placeableType, "getCanBePlacedAt" , PlaceableHusbandry.getCanBePlacedAt)\n    SpecializationUtil.registerOverwrittenFunction(placeableType, "canBuy" , PlaceableHusbandry.canBuy)\n    SpecializationUtil.registerOverwrittenFunction(placeableType, "getNeedHourChanged" , PlaceableHusbandry.getNeedHourChanged)\nend\n\n'})}),"\n",(0,l.jsx)(e.h3,{id:"registersavegamexmlpaths",children:"registerSavegameXMLPaths"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"registerSavegameXMLPaths()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"any"}),(0,l.jsx)(e.th,{children:"schema"})]})}),(0,l.jsx)(e.tbody,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"any"}),(0,l.jsx)(e.td,{children:"basePath"})]})})]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:'function PlaceableHusbandry.registerSavegameXMLPaths(schema, basePath)\n    schema:setXMLSpecializationType( "Husbandry" )\n    schema:register(XMLValueType.STRING, basePath .. ".module(?)#name" , "Name of module" )\n    schema:register(XMLValueType.FLOAT, basePath .. "#globalProductionFactor" , "Global production factor" )\n    schema:register(XMLValueType.FLOAT, basePath .. "#productionFactor" , "Production factor" )\n    Storage.registerSavegameXMLPaths(schema, basePath .. ".storage" )\n    schema:setXMLSpecializationType()\nend\n\n'})}),"\n",(0,l.jsx)(e.h3,{id:"registerxmlpaths",children:"registerXMLPaths"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"registerXMLPaths()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"any"}),(0,l.jsx)(e.th,{children:"schema"})]})}),(0,l.jsx)(e.tbody,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"any"}),(0,l.jsx)(e.td,{children:"basePath"})]})})]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:'function PlaceableHusbandry.registerXMLPaths(schema, basePath)\n    schema:setXMLSpecializationType( "Husbandry" )\n    schema:register(XMLValueType.STRING, basePath .. ".husbandry#saveId" , "Save id" )\n    schema:register(XMLValueType.BOOL, basePath .. ".husbandry#hasStatistics" , "Has statistics" , false )\n    schema:register(XMLValueType.FLOAT, basePath .. ".husbandry.production#threshold" , "Threshold for production increase" , 0.5 )\n        schema:register(XMLValueType.FLOAT, basePath .. ".husbandry.production#increasePerHour" , "Production increase if production factor bigger then threshold" , 0.1 )\n            schema:register(XMLValueType.FLOAT, basePath .. ".husbandry.production#decreasePerHour" , "Production increase if production factor less then threshold" , 0.2 )\n                UnloadingStation.registerXMLPaths(schema, basePath .. ".husbandry.unloadingStation" )\n                Storage.registerXMLPaths(schema, basePath .. ".husbandry.storage" )\n                LoadingStation.registerXMLPaths(schema, basePath .. ".husbandry.loadingStation" )\n                schema:setXMLSpecializationType()\n            end\n\n'})}),"\n",(0,l.jsx)(e.h3,{id:"removehusbandryfilllevel",children:"removeHusbandryFillLevel"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"removeHusbandryFillLevel"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"removeHusbandryFillLevel(integer farmId, float deltaFillLevel, integer fillTypeIndex)"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"integer"}),(0,l.jsx)(e.th,{children:"farmId"})]})}),(0,l.jsxs)(e.tbody,{children:[(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"float"}),(0,l.jsx)(e.td,{children:"deltaFillLevel"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"integer"}),(0,l.jsx)(e.td,{children:"fillTypeIndex"})]})]})]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,l.jsx)(e.table,{children:(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"integer"}),(0,l.jsx)(e.th,{children:"remaining"}),(0,l.jsx)(e.th,{children:"delta"})]})})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function PlaceableHusbandry:removeHusbandryFillLevel(farmId, deltaFillLevel, fillTypeIndex)\n    local spec = self.spec_husbandry\n    if spec.loadingStation = = nil then\n        return deltaFillLevel\n    end\n    return spec.loadingStation:removeFillLevel(fillTypeIndex, deltaFillLevel, farmId or self:getOwnerFarmId())\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"savetoxmlfile",children:"saveToXMLFile"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"saveToXMLFile()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"any"}),(0,l.jsx)(e.th,{children:"xmlFile"})]})}),(0,l.jsxs)(e.tbody,{children:[(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"any"}),(0,l.jsx)(e.td,{children:"key"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"any"}),(0,l.jsx)(e.td,{children:"usedModNames"})]})]})]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:'function PlaceableHusbandry:saveToXMLFile(xmlFile, key, usedModNames)\n    local spec = self.spec_husbandry\n\n    if spec.storage ~ = nil then\n        spec.storage:saveToXMLFile(xmlFile, key .. ".storage" , usedModNames)\n    end\n    xmlFile:setValue(key .. "#globalProductionFactor" , spec.globalProductionFactor)\n    xmlFile:setValue(key .. "#productionFactor" , spec.productionFactor)\nend\n\n'})}),"\n",(0,l.jsx)(e.h3,{id:"setownerfarmid",children:"setOwnerFarmId"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"setOwnerFarmId()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"any"}),(0,l.jsx)(e.th,{children:"superFunc"})]})}),(0,l.jsxs)(e.tbody,{children:[(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"any"}),(0,l.jsx)(e.td,{children:"farmId"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"any"}),(0,l.jsx)(e.td,{children:"noEventSend"})]})]})]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function PlaceableHusbandry:setOwnerFarmId(superFunc, farmId, noEventSend)\n    local spec = self.spec_husbandry\n\n    superFunc( self , farmId, noEventSend)\n\n    local newFarmId = farmId\n    if farmId = = AccessHandler.EVERYONE then\n        newFarmId = AccessHandler.NOBODY\n    end\n\n    if spec.storage ~ = nil then\n        spec.storage:setOwnerFarmId(newFarmId, true )\n    end\n    local loadingStation = spec.loadingStation\n    if loadingStation ~ = nil then\n        loadingStation:setOwnerFarmId(newFarmId, true )\n    end\n    local unloadingStation = spec.unloadingStation\n    if unloadingStation ~ = nil then\n        unloadingStation:setOwnerFarmId(newFarmId, true )\n    end\n\n    if newFarmId ~ = AccessHandler.NOBODY and unloadingStation ~ = nil then\n        local storageSystem = g_currentMission.storageSystem\n        -- now check if there are some storages in range which can also be used\n            local storagesInRange = storageSystem:getStorageExtensionsInRange(unloadingStation, farmId)\n            for _, storageInRange in ipairs(storagesInRange) do\n                if unloadingStation.targetStorages[storageInRange] = = nil then\n                    storageSystem:addStorageToUnloadingStation(storageInRange, unloadingStation)\n                end\n                if loadingStation ~ = nil and loadingStation.sourceStorages[storageInRange] = = nil then\n                    storageSystem:addStorageToLoadingStation(storageInRange, loadingStation)\n                end\n            end\n        end\n    end\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"updatefeeding",children:"updateFeeding"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"updateFeeding()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function PlaceableHusbandry:updateFeeding()\n    return 1\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"updateoutput",children:"updateOutput"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"updateOutput()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"any"}),(0,l.jsx)(e.th,{children:"foodFactor"})]})}),(0,l.jsxs)(e.tbody,{children:[(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"any"}),(0,l.jsx)(e.td,{children:"productionFactor"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"any"}),(0,l.jsx)(e.td,{children:"globalProductionFactor"})]})]})]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function PlaceableHusbandry:updateOutput(foodFactor, productionFactor, globalProductionFactor)\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"updateproduction",children:"updateProduction"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"updateProduction()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,l.jsx)(e.table,{children:(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"any"}),(0,l.jsx)(e.th,{children:"foodFactor"})]})})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function PlaceableHusbandry:updateProduction(foodFactor)\n    local spec = self.spec_husbandry\n    spec.productionFactor = foodFactor\n    return foodFactor\nend\n\n"})})]})}function h(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(c,{...n})}):c(n)}}}]);