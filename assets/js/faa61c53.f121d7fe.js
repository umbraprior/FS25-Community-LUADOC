"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[51609],{15585(e,n,i){i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"script/Specializations/StonePicker","title":"StonePicker","description":"StonePicker","source":"@site/../docs/script/Specializations/StonePicker.md","sourceDirName":"script/Specializations","slug":"/script/Specializations/StonePicker","permalink":"/FS25-Community-LUADOC/script/Specializations/StonePicker","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"Sprayer","permalink":"/FS25-Community-LUADOC/script/Specializations/Sprayer"},"next":{"title":"StrawBlower","permalink":"/FS25-Community-LUADOC/script/Specializations/StrawBlower"}}');var t=i(74848),s=i(28453);const l={},c=void 0,a={},d=[{value:"StonePicker",id:"stonepicker",level:2},{value:"doCheckSpeedLimit",id:"docheckspeedlimit",level:3},{value:"getCanBeTurnedOn",id:"getcanbeturnedon",level:3},{value:"getCanToggleTurnedOn",id:"getcantoggleturnedon",level:3},{value:"getDefaultSpeedLimit",id:"getdefaultspeedlimit",level:3},{value:"getDirtMultiplier",id:"getdirtmultiplier",level:3},{value:"getDoGroundManipulation",id:"getdogroundmanipulation",level:3},{value:"getIsWorkAreaActive",id:"getisworkareaactive",level:3},{value:"getTurnedOnNotAllowedWarning",id:"getturnedonnotallowedwarning",level:3},{value:"getWearMultiplier",id:"getwearmultiplier",level:3},{value:"initSpecialization",id:"initspecialization",level:3},{value:"loadWorkAreaFromXML",id:"loadworkareafromxml",level:3},{value:"onAIFieldCourseSettingsInitialized",id:"onaifieldcoursesettingsinitialized",level:3},{value:"onDeactivate",id:"ondeactivate",level:3},{value:"onDelete",id:"ondelete",level:3},{value:"onEndWorkAreaProcessing",id:"onendworkareaprocessing",level:3},{value:"onFillUnitFillLevelChanged",id:"onfillunitfilllevelchanged",level:3},{value:"onLoad",id:"onload",level:3},{value:"onPostAttach",id:"onpostattach",level:3},{value:"onReadStream",id:"onreadstream",level:3},{value:"onReadUpdateStream",id:"onreadupdatestream",level:3},{value:"onStartWorkAreaProcessing",id:"onstartworkareaprocessing",level:3},{value:"onWriteStream",id:"onwritestream",level:3},{value:"onWriteUpdateStream",id:"onwriteupdatestream",level:3},{value:"prerequisitesPresent",id:"prerequisitespresent",level:3},{value:"processStonePickerArea",id:"processstonepickerarea",level:3},{value:"registerEventListeners",id:"registereventlisteners",level:3},{value:"registerFunctions",id:"registerfunctions",level:3},{value:"registerOverwrittenFunctions",id:"registeroverwrittenfunctions",level:3},{value:"setStonePickerEffectsState",id:"setstonepickereffectsstate",level:3}];function o(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"stonepicker",children:"StonePicker"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Specialization for all stonePickers, requires WorkArea specialization"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Functions"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#docheckspeedlimit",children:"doCheckSpeedLimit"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#getcanbeturnedon",children:"getCanBeTurnedOn"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#getcantoggleturnedon",children:"getCanToggleTurnedOn"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#getdefaultspeedlimit",children:"getDefaultSpeedLimit"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#getdirtmultiplier",children:"getDirtMultiplier"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#getdogroundmanipulation",children:"getDoGroundManipulation"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#getisworkareaactive",children:"getIsWorkAreaActive"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#getturnedonnotallowedwarning",children:"getTurnedOnNotAllowedWarning"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#getwearmultiplier",children:"getWearMultiplier"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#initspecialization",children:"initSpecialization"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#loadworkareafromxml",children:"loadWorkAreaFromXML"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#onaifieldcoursesettingsinitialized",children:"onAIFieldCourseSettingsInitialized"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#ondeactivate",children:"onDeactivate"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#ondelete",children:"onDelete"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#onendworkareaprocessing",children:"onEndWorkAreaProcessing"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#onfillunitfilllevelchanged",children:"onFillUnitFillLevelChanged"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#onload",children:"onLoad"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#onpostattach",children:"onPostAttach"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#onreadstream",children:"onReadStream"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#onreadupdatestream",children:"onReadUpdateStream"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#onstartworkareaprocessing",children:"onStartWorkAreaProcessing"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#onwritestream",children:"onWriteStream"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#onwriteupdatestream",children:"onWriteUpdateStream"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#prerequisitespresent",children:"prerequisitesPresent"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#processstonepickerarea",children:"processStonePickerArea"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#registereventlisteners",children:"registerEventListeners"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#registerfunctions",children:"registerFunctions"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#registeroverwrittenfunctions",children:"registerOverwrittenFunctions"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#setstonepickereffectsstate",children:"setStonePickerEffectsState"})}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"docheckspeedlimit",children:"doCheckSpeedLimit"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Returns if speed limit should be checked"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"doCheckSpeedLimit()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"checkSpeedlimit"}),(0,t.jsx)(n.th,{children:"check speed limit"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function StonePicker:doCheckSpeedLimit(superFunc)\n    local spec = self.spec_stonePicker\n    return superFunc( self ) or( self:getIsImplementChainLowered() and( not spec.needsActivation or self:getIsTurnedOn()))\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"getcanbeturnedon",children:"getCanBeTurnedOn"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"getCanBeTurnedOn()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function StonePicker:getCanBeTurnedOn(superFunc)\n    local spec = self.spec_stonePicker\n\n    local freeCapacity = self:getFillUnitFreeCapacity(spec.fillUnitIndex)\n    if freeCapacity < = 0 and not self:getIsAIActive() then\n        return false\n    end\n\n    return superFunc( self )\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"getcantoggleturnedon",children:"getCanToggleTurnedOn"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"getCanToggleTurnedOn()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function StonePicker:getCanToggleTurnedOn(superFunc)\n    local spec = self.spec_stonePicker\n    if not spec.needsActivation then\n        return false\n    end\n\n    return superFunc( self )\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"getdefaultspeedlimit",children:"getDefaultSpeedLimit"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Returns default speed limit"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"getDefaultSpeedLimit()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"speedLimit"}),(0,t.jsx)(n.th,{children:"speed limit"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function StonePicker.getDefaultSpeedLimit()\n    return 10\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"getdirtmultiplier",children:"getDirtMultiplier"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Returns current dirt multiplier"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"getDirtMultiplier()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"dirtMultiplier"}),(0,t.jsx)(n.th,{children:"current dirt multiplier"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function StonePicker:getDirtMultiplier(superFunc)\n    local spec = self.spec_stonePicker\n\n    local multiplier = superFunc( self )\n    if self.movingDirection > 0 and spec.isWorking and( not spec.needsActivation or self:getIsTurnedOn()) then\n        multiplier = multiplier + self:getWorkDirtMultiplier() * self:getLastSpeed() / spec.speedLimit\n    end\n\n    return multiplier\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"getdogroundmanipulation",children:"getDoGroundManipulation"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Returns if tool does ground manipulation"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"getDoGroundManipulation()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"doGroundManipulation"}),(0,t.jsx)(n.th,{children:"do ground manipulation"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function StonePicker:getDoGroundManipulation(superFunc)\n    local spec = self.spec_stonePicker\n\n    if not spec.isWorking then\n        return false\n    end\n\n    return superFunc( self )\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"getisworkareaactive",children:"getIsWorkAreaActive"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"getIsWorkAreaActive()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"superFunc"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"workArea"})]})})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function StonePicker:getIsWorkAreaActive(superFunc, workArea)\n    if workArea.type = = WorkAreaType.STONEPICKER then\n        local spec = self.spec_stonePicker\n\n        if spec.startActivationTime > g_currentMission.time then\n            return false\n        end\n\n        if spec.onlyActiveWhenLowered and self.getIsLowered ~ = nil then\n            if not self:getIsLowered( false ) then\n                return false\n            end\n        end\n\n        local freeCapacity = self:getFillUnitFreeCapacity(spec.fillUnitIndex)\n        if freeCapacity < = 0 and not self:getIsAIActive() then\n            return false\n        end\n    end\n\n    return superFunc( self , workArea)\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"getturnedonnotallowedwarning",children:"getTurnedOnNotAllowedWarning"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"getTurnedOnNotAllowedWarning()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function StonePicker:getTurnedOnNotAllowedWarning(superFunc)\n    local spec = self.spec_stonePicker\n\n    local freeCapacity = self:getFillUnitFreeCapacity(spec.fillUnitIndex)\n    if freeCapacity < = 0 and not self:getIsAIActive() then\n        return spec.texts.warningToolIsFull\n    end\n\n    return superFunc( self )\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"getwearmultiplier",children:"getWearMultiplier"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Returns current wear multiplier"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"getWearMultiplier()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"dirtMultiplier"}),(0,t.jsx)(n.th,{children:"current wear multiplier"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function StonePicker:getWearMultiplier(superFunc)\n    local spec = self.spec_stonePicker\n    local multiplier = superFunc( self )\n\n    if self.movingDirection > 0 and spec.isWorking and( not spec.needsActivation or self:getIsTurnedOn()) then\n        multiplier = multiplier + self:getWorkWearMultiplier() * self:getLastSpeed() / self.speedLimit\n    end\n\n    return multiplier\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"initspecialization",children:"initSpecialization"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Called on specialization initializing"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"initSpecialization()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function StonePicker.initSpecialization()\n    AIFieldWorker.registerDriveStrategy( function (vehicle)\n        return SpecializationUtil.hasSpecialization( StonePicker , vehicle.specializations)\n    end , AIDriveStrategyStonePicker )\n\n    g_workAreaTypeManager:addWorkAreaType( "stonePicker" , true , true , true )\n\n    local schema = Vehicle.xmlSchema\n    schema:setXMLSpecializationType( "StonePicker" )\n\n    schema:register(XMLValueType.INT, "vehicle.stonePicker#fillUnitIndex" , "Index of fillunit to be used for picked stones" )\n        schema:register(XMLValueType.INT, "vehicle.stonePicker#loadInfoIndex" , "Index of load info to use" )\n        schema:register(XMLValueType.NODE_INDEX, "vehicle.stonePicker.directionNode#node" , "Direction node" )\n        schema:register(XMLValueType.BOOL, "vehicle.stonePicker.onlyActiveWhenLowered#value" , "Only active when lowered" , true )\n        schema:register(XMLValueType.BOOL, "vehicle.stonePicker.needsActivation#value" , "Needs activation" , true )\n\n        EffectManager.registerEffectXMLPaths(schema, "vehicle.stonePicker.effects" )\n        EffectManager.registerEffectXMLPaths(schema, "vehicle.stonePicker.soilEffects" )\n\n        SoundManager.registerSampleXMLPaths(schema, "vehicle.stonePicker.sounds" , "work" )\n        SoundManager.registerSampleXMLPaths(schema, "vehicle.stonePicker.sounds" , "stone" )\n\n        schema:setXMLSpecializationType()\n    end\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"loadworkareafromxml",children:"loadWorkAreaFromXML"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Loads work areas from xml"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"loadWorkAreaFromXML(table workArea, integer xmlFile, string key, )"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"table"}),(0,t.jsx)(n.th,{children:"workArea"}),(0,t.jsx)(n.th,{children:"workArea"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"integer"}),(0,t.jsx)(n.td,{children:"xmlFile"}),(0,t.jsx)(n.td,{children:"id of xml object"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"string"}),(0,t.jsx)(n.td,{children:"key"}),(0,t.jsx)(n.td,{children:"key"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"key"}),(0,t.jsx)(n.td,{})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"success"}),(0,t.jsx)(n.th,{children:"success"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function StonePicker:loadWorkAreaFromXML(superFunc, workArea, xmlFile, key)\n    local retValue = superFunc( self , workArea, xmlFile, key)\n\n    if workArea.type = = WorkAreaType.DEFAULT then\n        workArea.type = WorkAreaType.STONEPICKER\n    end\n\n    return retValue\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"onaifieldcoursesettingsinitialized",children:"onAIFieldCourseSettingsInitialized"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"onAIFieldCourseSettingsInitialized()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"fieldCourseSettings"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function StonePicker:onAIFieldCourseSettingsInitialized(fieldCourseSettings)\n    fieldCourseSettings.headlandsFirst = true\n    fieldCourseSettings.workInitialSegment = true\n\n    -- as the stones are only partially on the field\n    fieldCourseSettings.segmentSplitDistance = 50\n    fieldCourseSettings.toolAlwaysActive = true\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"ondeactivate",children:"onDeactivate"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"onDeactivate()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function StonePicker:onDeactivate()\n    if self.isClient then\n        local spec = self.spec_stonePicker\n        g_soundManager:stopSamples(spec.samples)\n        spec.isWorkSamplePlaying = false\n    end\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"ondelete",children:"onDelete"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Called on deleting"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"onDelete()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function StonePicker:onDelete()\n    local spec = self.spec_stonePicker\n    g_soundManager:deleteSamples(spec.samples)\n    g_effectManager:deleteEffects(spec.effects)\n    g_effectManager:deleteEffects(spec.soilEffects)\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"onendworkareaprocessing",children:"onEndWorkAreaProcessing"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"onEndWorkAreaProcessing()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"dt"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function StonePicker:onEndWorkAreaProcessing(dt)\n    local spec = self.spec_stonePicker\n\n    local params = spec.workAreaParameters\n\n    if self.isServer then\n        local lastStatsArea = spec.workAreaParameters.lastStatsArea\n        if lastStatsArea > 0 then\n            self:updateLastWorkedArea(lastStatsArea)\n        end\n\n        local state = (g_ time - spec.workAreaParameters.lastChangedAreaTime) < 500\n        local soilState = spec.isWorking and self.isOnField\n        if spec.isEffectActive ~ = state\n            or spec.effectGrowthState ~ = spec.workAreaParameters.lastGrowthState\n            or soilState ~ = spec.isSoilEffectActive then\n            self:setStonePickerEffectsState(state, spec.workAreaParameters.lastGrowthState, soilState)\n            self:raiseDirtyFlags(spec.dirtyFlag)\n        end\n\n        if params.pickedLiters > 0 then\n            local loadInfo = self:getFillVolumeLoadInfo(spec.loadInfoIndex)\n            self:addFillUnitFillLevel( self:getOwnerFarmId(), spec.fillUnitIndex, params.pickedLiters, FillType.STONE, ToolType.UNDEFINED, loadInfo)\n        end\n    end\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"onfillunitfilllevelchanged",children:"onFillUnitFillLevelChanged"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"onFillUnitFillLevelChanged()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"fillUnitIndex"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"fillLevelDelta"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"fillType"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"toolType"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"fillPositionData"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"appliedDelta"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function StonePicker:onFillUnitFillLevelChanged(fillUnitIndex, fillLevelDelta, fillType, toolType, fillPositionData, appliedDelta)\n    local spec = self.spec_stonePicker\n\n    if self.isServer then\n        if spec.fillUnitIndex = = fillUnitIndex then\n            local freeCapacity = self:getFillUnitFreeCapacity(spec.fillUnitIndex)\n            if freeCapacity < = 0 and self:getIsTurnedOn() and not self:getIsAIActive() then\n                self:setIsTurnedOn( false , false )\n            end\n        end\n    end\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"onload",children:"onLoad"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Called on loading"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"onLoad(table savegame)"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"table"}),(0,t.jsx)(n.th,{children:"savegame"}),(0,t.jsx)(n.th,{children:"savegame"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function StonePicker:onLoad(savegame)\n\n    if self:getGroundReferenceNodeFromIndex( 1 ) = = nil then\n        printWarning( "Warning:No ground reference nodes in " .. self.configFileName)\n    end\n\n    local spec = self.spec_stonePicker\n\n    if self.isClient then\n        spec.samples = { }\n        spec.samples.work = g_soundManager:loadSampleFromXML( self.xmlFile, "vehicle.stonePicker.sounds" , "work" , self.baseDirectory, self.components, 0 , AudioGroup.VEHICLE, self.i3dMappings, self )\n        spec.samples.stone = g_soundManager:loadSampleFromXML( self.xmlFile, "vehicle.stonePicker.sounds" , "stone" , self.baseDirectory, self.components, 0 , AudioGroup.VEHICLE, self.i3dMappings, self )\n        spec.isWorkSamplePlaying = false\n        spec.isStoneSamplePlaying = false\n\n        spec.effects = g_effectManager:loadEffect( self.xmlFile, "vehicle.stonePicker.effects" , self.components, self , self.i3dMappings)\n        spec.soilEffects = g_effectManager:loadEffect( self.xmlFile, "vehicle.stonePicker.soilEffects" , self.components, self , self.i3dMappings)\n    end\n\n    spec.fillUnitIndex = self.xmlFile:getValue( "vehicle.stonePicker#fillUnitIndex" , 1 )\n    spec.loadInfoIndex = self.xmlFile:getValue( "vehicle.stonePicker#loadInfoIndex" , 1 )\n    spec.directionNode = self.xmlFile:getValue( "vehicle.stonePicker.directionNode#node" , self.components[ 1 ].node, self.components, self.i3dMappings)\n    spec.onlyActiveWhenLowered = self.xmlFile:getValue( "vehicle.stonePicker.onlyActiveWhenLowered#value" , true )\n    spec.needsActivation = self.xmlFile:getValue( "vehicle.stonePicker.needsActivation#value" , true )\n\n    spec.startActivationTimeout = 2000\n    spec.startActivationTime = 0\n    spec.hasGroundContact = false\n    spec.isWorking = false\n    spec.isEffectActive = false\n    spec.effectGrowthState = 1\n    spec.isSoilEffectActive = false\n\n    spec.texts = { }\n    spec.texts.warningToolIsFull = g_i18n:getText( "warning_toolIsFull" )\n\n    spec.workAreaParameters = { }\n    spec.workAreaParameters.angle = 0\n    spec.workAreaParameters.pickedLiters = 0\n    spec.workAreaParameters.lastChangedArea = 0\n    spec.workAreaParameters.lastChangedAreaTime = - math.huge\n    spec.workAreaParameters.lastGrowthState = 1\n    spec.workAreaParameters.lastStatsArea = 0\n    spec.workAreaParameters.lastTotalArea = 0\n\n    if self.isServer then\n        local firstSowableValue, lastSowableValue = g_currentMission.fieldGroundSystem:getSowableRange()\n        self:addAITerrainDetailRequiredRange(firstSowableValue, lastSowableValue)\n\n        if g_currentMission.stoneSystem ~ = nil then\n            local stoneMapId, stoneFirstChannel, stoneNumChannels = g_currentMission.stoneSystem:getDensityMapData()\n            local minValue, maxValue = g_currentMission.stoneSystem:getMinMaxValues()\n\n            self:addAIFruitRequirement( nil , minValue, maxValue, stoneMapId, stoneFirstChannel, stoneNumChannels)\n        end\n    end\n\n    spec.dirtyFlag = self:getNextDirtyFlag()\nend\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"onpostattach",children:"onPostAttach"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Called if vehicle gets attached"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"onPostAttach(table attacherVehicle, integer inputJointDescIndex, integer jointDescIndex)"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"table"}),(0,t.jsx)(n.th,{children:"attacherVehicle"}),(0,t.jsx)(n.th,{children:"attacher vehicle"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"integer"}),(0,t.jsx)(n.td,{children:"inputJointDescIndex"}),(0,t.jsx)(n.td,{children:"index of input attacher joint"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"integer"}),(0,t.jsx)(n.td,{children:"jointDescIndex"}),(0,t.jsx)(n.td,{children:"index of attacher joint it gets attached to"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function StonePicker:onPostAttach(attacherVehicle, inputJointDescIndex, jointDescIndex)\n    local spec = self.spec_stonePicker\n    spec.startActivationTime = g_currentMission.time + spec.startActivationTimeout\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"onreadstream",children:"onReadStream"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"onReadStream()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"streamId"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"connection"})]})})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function StonePicker:onReadStream(streamId, connection)\n    local state = streamReadBool(streamId)\n    local growthState = streamReadUIntN(streamId, 2 )\n    local stateSoil = streamReadBool(streamId)\n    self:setStonePickerEffectsState(state, growthState, stateSoil)\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"onreadupdatestream",children:"onReadUpdateStream"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"onReadUpdateStream()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"streamId"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"timestamp"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"connection"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function StonePicker:onReadUpdateStream(streamId, timestamp, connection)\n    if connection.isServer then\n        if streamReadBool(streamId) then\n            local state = streamReadBool(streamId)\n            local growthState = streamReadUIntN(streamId, 2 )\n            local stateSoil = streamReadBool(streamId)\n            self:setStonePickerEffectsState(state, growthState, stateSoil)\n        end\n    end\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"onstartworkareaprocessing",children:"onStartWorkAreaProcessing"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"onStartWorkAreaProcessing()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"dt"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function StonePicker:onStartWorkAreaProcessing(dt)\n    local spec = self.spec_stonePicker\n\n    spec.isWorking = false\n\n    local dx,_,dz = localDirectionToWorld(spec.directionNode, 0 , 0 , 1 )\n    local angle = FSDensityMapUtil.convertToDensityMapAngle( MathUtil.getYRotationFromDirection(dx, dz), g_currentMission.fieldGroundSystem:getGroundAngleMaxValue())\n\n    spec.workAreaParameters.isActive = not spec.needsActivation or self:getIsTurnedOn()\n    spec.workAreaParameters.angle = angle\n    spec.workAreaParameters.pickedLiters = 0\n    spec.workAreaParameters.lastChangedArea = 0\n    spec.workAreaParameters.lastStatsArea = 0\n    spec.workAreaParameters.lastTotalArea = 0\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"onwritestream",children:"onWriteStream"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"onWriteStream()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"streamId"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"connection"})]})})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function StonePicker:onWriteStream(streamId, connection)\n    local spec = self.spec_stonePicker\n    streamWriteBool(streamId, spec.isEffectActive)\n    streamWriteUIntN(streamId, spec.effectGrowthState, 2 )\n    streamWriteBool(streamId, spec.isSoilEffectActive)\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"onwriteupdatestream",children:"onWriteUpdateStream"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"onWriteUpdateStream()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"streamId"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"connection"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"dirtyMask"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function StonePicker:onWriteUpdateStream(streamId, connection, dirtyMask)\n    if not connection.isServer then\n        local spec = self.spec_stonePicker\n        if streamWriteBool(streamId, bit32.band(dirtyMask, spec.dirtyFlag) ~ = 0 ) then\n            streamWriteBool(streamId, spec.isEffectActive)\n            streamWriteUIntN(streamId, spec.effectGrowthState, 2 )\n            streamWriteBool(streamId, spec.isSoilEffectActive)\n        end\n    end\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"prerequisitespresent",children:"prerequisitesPresent"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Checks if all prerequisite specializations are loaded"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"prerequisitesPresent(table specializations)"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"table"}),(0,t.jsx)(n.th,{children:"specializations"}),(0,t.jsx)(n.th,{children:"specializations"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"table"}),(0,t.jsx)(n.th,{children:"hasPrerequisite"}),(0,t.jsx)(n.th,{children:"true if all prerequisite specializations are loaded"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function StonePicker.prerequisitesPresent(specializations)\n    return SpecializationUtil.hasSpecialization( FillUnit , specializations)\n    and SpecializationUtil.hasSpecialization( WorkArea , specializations)\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"processstonepickerarea",children:"processStonePickerArea"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"processStonePickerArea()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"workArea"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"dt"})]})})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function StonePicker:processStonePickerArea(workArea, dt)\n    local spec = self.spec_stonePicker\n\n    if not spec.workAreaParameters.isActive then\n        return 0 , 0\n    end\n\n    local xs,_,zs = getWorldTranslation(workArea.start)\n    local xw,_,zw = getWorldTranslation(workArea.width)\n    local xh,_,zh = getWorldTranslation(workArea.height)\n\n    FSDensityMapUtil.eraseTireTrack(xs,zs, xw,zw, xh,zh)\n\n    if not self.isServer and self.currentUpdateDistance > StonePicker.CLIENT_DM_UPDATE_RADIUS then\n        return 0 , 0\n    end\n\n    local params = spec.workAreaParameters\n\n    local stoneFactor, touchedArea, totalArea = FSDensityMapUtil.updateStonePickerArea(xs,zs, xw,zw, xh,zh, params.angle)\n    local litersPerSqm = g_currentMission.stoneSystem:getLitersPerSqm()\n    local sqm = g_currentMission:getFruitPixelsToSqm() * touchedArea\n    local liters = sqm * litersPerSqm * stoneFactor\n\n    params.pickedLiters = params.pickedLiters + liters\n    params.lastChangedArea = params.lastChangedArea + touchedArea\n    params.lastStatsArea = params.lastStatsArea + touchedArea\n    params.lastTotalArea = params.lastTotalArea + totalArea\n    if touchedArea > 0 then\n        params.lastChangedAreaTime = g_ time\n        params.lastGrowthState = math.clamp( math.floor(stoneFactor + 0.49 ), 1 , 3 )\n    end\n\n    spec.isWorking = self:getLastSpeed() > 0.5\n\n    return touchedArea, totalArea\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"registereventlisteners",children:"registerEventListeners"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"registerEventListeners()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function StonePicker.registerEventListeners(vehicleType)\n    SpecializationUtil.registerEventListener(vehicleType, "onLoad" , StonePicker )\n    SpecializationUtil.registerEventListener(vehicleType, "onDelete" , StonePicker )\n    SpecializationUtil.registerEventListener(vehicleType, "onReadStream" , StonePicker )\n    SpecializationUtil.registerEventListener(vehicleType, "onWriteStream" , StonePicker )\n    SpecializationUtil.registerEventListener(vehicleType, "onReadUpdateStream" , StonePicker )\n    SpecializationUtil.registerEventListener(vehicleType, "onWriteUpdateStream" , StonePicker )\n    SpecializationUtil.registerEventListener(vehicleType, "onPostAttach" , StonePicker )\n    SpecializationUtil.registerEventListener(vehicleType, "onDeactivate" , StonePicker )\n    SpecializationUtil.registerEventListener(vehicleType, "onStartWorkAreaProcessing" , StonePicker )\n    SpecializationUtil.registerEventListener(vehicleType, "onEndWorkAreaProcessing" , StonePicker )\n    SpecializationUtil.registerEventListener(vehicleType, "onFillUnitFillLevelChanged" , StonePicker )\n    SpecializationUtil.registerEventListener(vehicleType, "onAIFieldCourseSettingsInitialized" , StonePicker )\nend\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"registerfunctions",children:"registerFunctions"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"registerFunctions()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function StonePicker.registerFunctions(vehicleType)\n    SpecializationUtil.registerFunction(vehicleType, "processStonePickerArea" , StonePicker.processStonePickerArea)\n    SpecializationUtil.registerFunction(vehicleType, "setStonePickerEffectsState" , StonePicker.setStonePickerEffectsState)\nend\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"registeroverwrittenfunctions",children:"registerOverwrittenFunctions"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"registerOverwrittenFunctions()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function StonePicker.registerOverwrittenFunctions(vehicleType)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "doCheckSpeedLimit" , StonePicker.doCheckSpeedLimit)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getDoGroundManipulation" , StonePicker.getDoGroundManipulation)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getDirtMultiplier" , StonePicker.getDirtMultiplier)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getWearMultiplier" , StonePicker.getWearMultiplier)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "loadWorkAreaFromXML" , StonePicker.loadWorkAreaFromXML)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getIsWorkAreaActive" , StonePicker.getIsWorkAreaActive)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getCanBeTurnedOn" , StonePicker.getCanBeTurnedOn)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getTurnedOnNotAllowedWarning" , StonePicker.getTurnedOnNotAllowedWarning)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getCanToggleTurnedOn" , StonePicker.getCanToggleTurnedOn)\nend\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"setstonepickereffectsstate",children:"setStonePickerEffectsState"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"setStonePickerEffectsState()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"state"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"growthState"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"stateSoil"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function StonePicker:setStonePickerEffectsState(state, growthState, stateSoil)\n    local spec = self.spec_stonePicker\n    if state ~ = spec.isEffectActive or growthState ~ = spec.effectGrowthState or stateSoil ~ = spec.isSoilEffectActive then\n        spec.isEffectActive = state\n        spec.effectGrowthState = growthState\n        spec.isSoilEffectActive = stateSoil\n\n        if self.isClient then\n            if state then\n                g_effectManager:setEffectTypeInfo(spec.effects, FillType.STONE, nil , growthState)\n                g_effectManager:startEffects(spec.effects)\n\n                if not spec.isStoneSamplePlaying then\n                    g_soundManager:playSample(spec.samples.stone)\n                    spec.isStoneSamplePlaying = true\n                end\n            else\n                    g_effectManager:stopEffects(spec.effects)\n\n                    if spec.isStoneSamplePlaying then\n                        g_soundManager:stopSample(spec.samples.stone)\n                        spec.isStoneSamplePlaying = false\n                    end\n                end\n\n                if stateSoil then\n                    g_effectManager:startEffects(spec.soilEffects)\n\n                    if not spec.isWorkSamplePlaying then\n                        g_soundManager:playSample(spec.samples.work)\n                        spec.isWorkSamplePlaying = true\n                    end\n                else\n                        g_effectManager:stopEffects(spec.soilEffects)\n\n                        if spec.isWorkSamplePlaying then\n                            g_soundManager:stopSample(spec.samples.work)\n                            spec.isWorkSamplePlaying = false\n                        end\n                    end\n                end\n            end\n        end\n\n"})})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},28453(e,n,i){i.d(n,{R:()=>l,x:()=>c});var r=i(96540);const t={},s=r.createContext(t);function l(e){const n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);