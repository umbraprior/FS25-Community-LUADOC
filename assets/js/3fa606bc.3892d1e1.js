"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[60334],{28453(e,n,s){s.d(n,{R:()=>l,x:()=>c});var i=s(96540);const t={},r=i.createContext(t);function l(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),i.createElement(r.Provider,{value:n},e.children)}},57036(e,n,s){s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"script/Handtools/HandToolHPWLance","title":"HandToolHPWLance","description":"HandToolHPWLance","source":"@site/../docs/script/Handtools/HandToolHPWLance.md","sourceDirName":"script/Handtools","slug":"/script/Handtools/HandToolHPWLance","permalink":"/FS25-Community-LUADOC/script/Handtools/HandToolHPWLance","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"HandToolFlashlight","permalink":"/FS25-Community-LUADOC/script/Handtools/HandToolFlashlight"},"next":{"title":"HandToolHands","permalink":"/FS25-Community-LUADOC/script/Handtools/HandToolHands"}}');var t=s(74848),r=s(28453);const l={},c=void 0,d={},a=[{value:"HandToolHPWLance",id:"handtoolhpwlance",level:2},{value:"getCanBeDropped",id:"getcanbedropped",level:3},{value:"onDebugDraw",id:"ondebugdraw",level:3},{value:"onDelete",id:"ondelete",level:3},{value:"onHeldEnd",id:"onheldend",level:3},{value:"onLanceCallback",id:"onlancecallback",level:3},{value:"onLoad",id:"onload",level:3},{value:"onReadUpdateStream",id:"onreadupdatestream",level:3},{value:"onRegisterActionEvents",id:"onregisteractionevents",level:3},{value:"onUpdate",id:"onupdate",level:3},{value:"onWashAction",id:"onwashaction",level:3},{value:"onWriteUpdateStream",id:"onwriteupdatestream",level:3},{value:"prerequisitesPresent",id:"prerequisitespresent",level:3},{value:"registerEventListeners",id:"registereventlisteners",level:3},{value:"registerFunctions",id:"registerfunctions",level:3},{value:"registerOverwrittenFunctions",id:"registeroverwrittenfunctions",level:3},{value:"registerXMLPaths",id:"registerxmlpaths",level:3},{value:"setIsActivated",id:"setisactivated",level:3}];function o(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"handtoolhpwlance",children:"HandToolHPWLance"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Functions"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#getcanbedropped",children:"getCanBeDropped"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#ondebugdraw",children:"onDebugDraw"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#ondelete",children:"onDelete"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#onheldend",children:"onHeldEnd"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#onlancecallback",children:"onLanceCallback"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#onload",children:"onLoad"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#onreadupdatestream",children:"onReadUpdateStream"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#onregisteractionevents",children:"onRegisterActionEvents"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#onupdate",children:"onUpdate"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#onwashaction",children:"onWashAction"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#onwriteupdatestream",children:"onWriteUpdateStream"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#prerequisitespresent",children:"prerequisitesPresent"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#registereventlisteners",children:"registerEventListeners"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#registerfunctions",children:"registerFunctions"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#registeroverwrittenfunctions",children:"registerOverwrittenFunctions"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#registerxmlpaths",children:"registerXMLPaths"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#setisactivated",children:"setIsActivated"})}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"getcanbedropped",children:"getCanBeDropped"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"getCanBeDropped()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function HandToolHPWLance:getCanBeDropped(superFunc)\n    return false\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"ondebugdraw",children:"onDebugDraw"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"onDebugDraw()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"x"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"y"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"textSize"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function HandToolHPWLance:onDebugDraw(x, y, textSize)\n    local spec = self.spec_highPressureWasherLance\n\n    y = DebugUtil.renderTextLine(x, y, textSize, string.format( "isActivated: %s" , tostring(spec.isActivated)))\n\n    if spec.targetedVehicleId ~ = nil then\n        local vehicle = NetworkUtil.getObject(spec.targetedVehicleId)\n        if vehicle ~ = nil then\n            y = DebugUtil.renderTextLine(x, y, textSize, string.format( "Target: %q" , vehicle.typeName))\n        end\n    end\n\n    return y\nend\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"ondelete",children:"onDelete"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Deleting"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"onDelete()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function HandToolHPWLance:onDelete()\n    local spec = self.spec_highPressureWasherLance\n    g_effectManager:deleteEffects(spec.effects)\n    g_soundManager:deleteSample(spec.washingSample)\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"onheldend",children:"onHeldEnd"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"onHeldEnd()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function HandToolHPWLance:onHeldEnd()\n    self:setIsActivated( false )\n    self:returnToHolder( true )\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"onlancecallback",children:"onLanceCallback"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"onLanceCallback()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"nodeId"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"x"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"y"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"z"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"distance"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"nx"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"ny"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"nz"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"subShapeIndex"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"shapeId"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"isLast"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function HandToolHPWLance:onLanceCallback(nodeId, x, y, z, distance, nx, ny, nz, subShapeIndex, shapeId, isLast)\n    local spec = self.spec_highPressureWasherLance\n\n    spec.targetedVehicleId = nil\n\n    if nodeId = = 0 then\n        return false\n    end\n\n    if not CollisionFlag.getHasMaskFlagSet(shapeId, CollisionFlag.VEHICLE) then\n        return true\n    end\n\n    local vehicle = g_currentMission.vehicleSystem:getVehicleByNodeId(nodeId, shapeId)\n    if vehicle ~ = nil then\n        -- If the vehicle is not washable by this machine, return nil.\n        if vehicle.getAllowsWashingByType ~ = nil and vehicle:getAllowsWashingByType( Washable.WASHTYPE_HIGH_PRESSURE_WASHER) then\n            --#debug drawDebugPoint(x, y, z, 1, 0, 0, 1, false)\n            --#debug Utils.renderTextAtWorldPosition(x, y, z, string.format("%s: %s", vehicle:getName(), getName(shapeId)), 0.01)\n\n            spec.targetedVehicleId = NetworkUtil.getObjectId(vehicle)\n            return false\n        end\n    end\n\n    local continueReporting = true\n\n    return continueReporting\nend\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"onload",children:"onLoad"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"onLoad()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"xmlFile"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"baseDirectory"})]})})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function HandToolHPWLance:onLoad(xmlFile, baseDirectory)\n    local spec = self.spec_highPressureWasherLance\n\n    spec.raycastNode = xmlFile:getValue( "handTool.highPressureWasherLance.lance#raycastNode" , nil , self.components, self.i3dMappings)\n    spec.washDistance = xmlFile:getValue( "handTool.highPressureWasherLance.lance#washDistance" , 10 )\n    spec.washMultiplier = xmlFile:getValue( "handTool.highPressureWasherLance.lance#washMultiplier" , 1 )\n    spec.pricePerSecond = xmlFile:getValue( "handTool.highPressureWasherLance.lance#pricePerMinute" , 10 ) / 60\n\n    if self.isClient then\n        spec.effects = g_effectManager:loadEffect(xmlFile, "handTool.highPressureWasherLance.effects" , self.components, self , self.i3dMappings)\n        g_effectManager:setEffectTypeInfo(spec.effects, FillType.WATER)\n        spec.washingSample = g_soundManager:loadSampleFromXML(xmlFile, "handTool.highPressureWasherLance.sounds" , "washing" , baseDirectory, self.components, 0 , AudioGroup.VEHICLE, self.i3dMappings, self )\n    end\n\n    spec.isActivated = false\n    spec.targetedVehicleId = nil\n    spec.activateActionEventId = nil\n\n    spec.isActivatedSent = false\n    spec.targetedVehicleIdSent = nil\n\n    spec.dirtyFlag = self:getNextDirtyFlag()\nend\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"onreadupdatestream",children:"onReadUpdateStream"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"onReadUpdateStream()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"streamId"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"timestamp"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"connection"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function HandToolHPWLance:onReadUpdateStream(streamId, timestamp, connection)\n    local spec = self.spec_highPressureWasherLance\n\n    local isActivated = streamReadBool(streamId)\n    spec.targetedVehicleId = nil\n\n    if isActivated then\n        if not connection:getIsServer() then\n            if streamReadBool(streamId) then\n                local targetedVehicleId = NetworkUtil.readNodeObjectId(streamId)\n                local carryingPlayer = self:getCarryingPlayer()\n                if not carryingPlayer.isOwner then\n                    spec.targetedVehicleId = targetedVehicleId\n                end\n            end\n        end\n    end\n\n    self:setIsActivated(isActivated)\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"onregisteractionevents",children:"onRegisterActionEvents"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"onRegisterActionEvents()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function HandToolHPWLance:onRegisterActionEvents()\n    if not self:getIsActiveForInput( true ) then\n        return\n    end\n\n    local spec = self.spec_highPressureWasherLance\n\n    local _, actionEventId = self:addActionEvent(InputAction.ACTIVATE_HANDTOOL, self , HandToolHPWLance.onWashAction, false , false , true , true , nil )\n    spec.activateActionEventId = actionEventId\n    g_inputBinding:setActionEventTextPriority(actionEventId, GS_PRIO_VERY_HIGH)\n    g_inputBinding:setActionEventText(actionEventId, string.format( self.activateText, "" ))\nend\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"onupdate",children:"onUpdate"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"onUpdate()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"dt"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function HandToolHPWLance:onUpdate(dt)\n    local carryingPlayer = self:getCarryingPlayer()\n    if carryingPlayer = = nil then\n        return\n    end\n\n    local spec = self.spec_highPressureWasherLance\n\n    -- Do nothing more if the tool is not activated.\n        if not spec.isActivated then\n            spec.targetedVehicleId = nil\n            return\n        end\n\n        -- Get the vehicle being aimed at.\n        if carryingPlayer.isOwner then\n            local x, y, z = getWorldTranslation(spec.raycastNode)\n            local dirX, dirY, dirZ = localDirectionToWorld(spec.raycastNode, 0 , 0 , 1 )\n            raycastAllAsync(x, y, z, dirX, dirY, dirZ, spec.washDistance, "onLanceCallback" , self , CollisionFlag.VEHICLE)\n            --#debug drawDebugLine(x, y, z, 1, 0, 0, x + dirX * spec.washDistance, y + dirY * spec.washDistance, z + dirZ * spec.washDistance, 1, 0, 0)\n\n            if spec.targetedVehicleId ~ = spec.targetedVehicleIdSent then\n                spec.targetedVehicleIdSent = spec.targetedVehicleId\n                self:raiseDirtyFlags(spec.dirtyFlag)\n            end\n\n            if spec.targetedVehicleId = = nil then\n                g_inputBinding:setActionEventText(spec.activateActionEventId, string.format( self.activateText, "" ))\n            else\n                    local vehicle = NetworkUtil.getObject(spec.targetedVehicleId)\n                    g_inputBinding:setActionEventText(spec.activateActionEventId, string.format( self.activateText, vehicle.typeDesc))\n                end\n            end\n\n            if self.isServer then\n                if spec.targetedVehicleId ~ = nil then\n                    local vehicle = NetworkUtil.getObject(spec.targetedVehicleId)\n                    if vehicle ~ = nil then\n                        -- Remove the dirt from the vehicle.\n                        vehicle:cleanVehicle((spec.washMultiplier * dt) / vehicle:getWashDuration())\n                    end\n                end\n\n                -- Charge the price per second to the player.\n                local farmId = carryingPlayer.farmId\n                local price = spec.pricePerSecond * dt * 0.001\n                g_farmManager:updateFarmStats(farmId, "expenses" , price)\n                local mission = g_currentMission\n                mission:addMoney( - price, farmId, MoneyType.VEHICLE_RUNNING_COSTS)\n            end\n        end\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"onwashaction",children:"onWashAction"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"onWashAction()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"_"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"inputValue"})]})})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function HandToolHPWLance:onWashAction(_, inputValue)\n    self:setIsActivated(inputValue > 0 )\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"onwriteupdatestream",children:"onWriteUpdateStream"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"onWriteUpdateStream()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"streamId"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"connection"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"dirtyMask"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function HandToolHPWLance:onWriteUpdateStream(streamId, connection, dirtyMask)\n    local spec = self.spec_highPressureWasherLance\n\n    if streamWriteBool(streamId, spec.isActivatedSent) then\n        if connection:getIsServer() then\n            if streamWriteBool(streamId, spec.targetedVehicleIdSent ~ = nil ) then\n                NetworkUtil.writeNodeObjectId(streamId, spec.targetedVehicleIdSent)\n            end\n        end\n    end\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"prerequisitespresent",children:"prerequisitesPresent"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"prerequisitesPresent()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"specializations"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function HandToolHPWLance.prerequisitesPresent(specializations)\n    return SpecializationUtil.hasSpecialization( HandToolTethered , specializations)\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"registereventlisteners",children:"registerEventListeners"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"registerEventListeners()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"handToolType"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function HandToolHPWLance.registerEventListeners(handToolType)\n    SpecializationUtil.registerEventListener(handToolType, "onLoad" , HandToolHPWLance )\n    SpecializationUtil.registerEventListener(handToolType, "onDelete" , HandToolHPWLance )\n    SpecializationUtil.registerEventListener(handToolType, "onWriteUpdateStream" , HandToolHPWLance )\n    SpecializationUtil.registerEventListener(handToolType, "onReadUpdateStream" , HandToolHPWLance )\n    SpecializationUtil.registerEventListener(handToolType, "onUpdate" , HandToolHPWLance )\n    SpecializationUtil.registerEventListener(handToolType, "onRegisterActionEvents" , HandToolHPWLance )\n    SpecializationUtil.registerEventListener(handToolType, "onHeldEnd" , HandToolHPWLance )\n    SpecializationUtil.registerEventListener(handToolType, "onDebugDraw" , HandToolHPWLance )\nend\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"registerfunctions",children:"registerFunctions"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"registerFunctions()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"handToolType"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function HandToolHPWLance.registerFunctions(handToolType)\n    SpecializationUtil.registerFunction(handToolType, "onWashAction" , HandToolHPWLance.onWashAction)\n    SpecializationUtil.registerFunction(handToolType, "setIsActivated" , HandToolHPWLance.setIsActivated)\n    SpecializationUtil.registerFunction(handToolType, "onLanceCallback" , HandToolHPWLance.onLanceCallback)\nend\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"registeroverwrittenfunctions",children:"registerOverwrittenFunctions"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"registerOverwrittenFunctions()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function HandToolHPWLance.registerOverwrittenFunctions(vehicleType)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getCanBeDropped" , HandToolHPWLance.getCanBeDropped)\nend\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"registerxmlpaths",children:"registerXMLPaths"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"registerXMLPaths()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"xmlSchema"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function HandToolHPWLance.registerXMLPaths(xmlSchema)\n    xmlSchema:setXMLSpecializationType( "HandToolHPWLance" )\n    xmlSchema:register(XMLValueType.NODE_INDEX, "handTool.highPressureWasherLance.lance#raycastNode" , "The range in metres that the lance can wash things" , nil , false )\n    xmlSchema:register(XMLValueType.FLOAT, "handTool.highPressureWasherLance.lance#washDistance" , "The range in metres that the lance can wash things" , "10 metres" , false )\n    xmlSchema:register(XMLValueType.FLOAT, "handTool.highPressureWasherLance.lance#washMultiplier" , "The multiplier applied to the wash amount" , "1x" , false )\n    xmlSchema:register(XMLValueType.FLOAT, "handTool.highPressureWasherLance.lance#pricePerMinute" , "The cost of using this tool for a minute" , "10" , false )\n        EffectManager.registerEffectXMLPaths(xmlSchema, "handTool.highPressureWasherLance.effects" )\n        SoundManager.registerSampleXMLPaths(xmlSchema, "handTool.highPressureWasherLance.sounds" , "washing" )\n    end\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"setisactivated",children:"setIsActivated"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"setIsActivated()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"isActivated"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function HandToolHPWLance:setIsActivated(isActivated)\n    local spec = self.spec_highPressureWasherLance\n\n    if spec.isActivated = = isActivated then\n        return\n    end\n\n    -- If there is no player, do nothing.\n        local carryingPlayer = self:getCarryingPlayer()\n        if carryingPlayer = = nil then\n            return\n        end\n\n        spec.isActivated = isActivated\n\n        if carryingPlayer.isOwner then\n            spec.isActivatedSent = isActivated\n            self:raiseDirtyFlags(spec.dirtyFlag)\n        end\n\n        if spec.isActivated then\n            g_effectManager:startEffects(spec.effects)\n            g_soundManager:playSample(spec.washingSample)\n        else\n                g_effectManager:stopEffects(spec.effects)\n\n                g_soundManager:stopSample(spec.washingSample)\n            end\n        end\n\n"})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}}}]);