"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[28827],{28453(n,e,i){i.d(e,{R:()=>t,x:()=>d});var s=i(96540);const l={},r=s.createContext(l);function t(n){const e=s.useContext(r);return s.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function d(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(l):n.components||l:t(n.components),s.createElement(r.Provider,{value:e},n.children)}},76774(n,e,i){i.r(e),i.d(e,{assets:()=>a,contentTitle:()=>d,default:()=>h,frontMatter:()=>t,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"script/Field/PlowMission","title":"PlowMission","description":"PlowMission","source":"@site/../docs/script/Field/PlowMission.md","sourceDirName":"script/Field","slug":"/script/Field/PlowMission","permalink":"/FS25-Community-LUADOC/script/Field/PlowMission","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"FieldState","permalink":"/FS25-Community-LUADOC/script/Field/FieldState"},"next":{"title":"SowMission","permalink":"/FS25-Community-LUADOC/script/Field/SowMission"}}');var l=i(74848),r=i(28453);const t={},d=void 0,a={},o=[{value:"PlowMission",id:"plowmission",level:2},{value:"canRun",id:"canrun",level:3},{value:"createModifier",id:"createmodifier",level:3},{value:"getFieldFinishTask",id:"getfieldfinishtask",level:3},{value:"getMissionTypeName",id:"getmissiontypename",level:3},{value:"getRewardPerHa",id:"getrewardperha",level:3},{value:"isAvailableForField",id:"isavailableforfield",level:3},{value:"loadMapData",id:"loadmapdata",level:3},{value:"new",id:"new",level:3},{value:"tryGenerateMission",id:"trygeneratemission",level:3},{value:"validate",id:"validate",level:3}];function c(n){const e={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e.h2,{id:"plowmission",children:"PlowMission"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Parent"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.a,{href:"?version=script&category=35&class=411",children:"AbstractFieldMission"})}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Functions"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#canrun",children:"canRun"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#createmodifier",children:"createModifier"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#getfieldfinishtask",children:"getFieldFinishTask"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#getmissiontypename",children:"getMissionTypeName"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#getrewardperha",children:"getRewardPerHa"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#isavailableforfield",children:"isAvailableForField"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#loadmapdata",children:"loadMapData"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#new",children:"new"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#trygeneratemission",children:"tryGenerateMission"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"#validate",children:"validate"})}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"canrun",children:"canRun"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"canRun()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function PlowMission.canRun()\n    local data = g_missionManager:getMissionTypeDataByName( PlowMission.NAME)\n\n    if data.numInstances > = data.maxNumInstances then\n        return false\n    end\n\n    return true\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"createmodifier",children:"createModifier"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"createModifier()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function PlowMission:createModifier()\n    local mission = g_currentMission\n    local groundTypeMapId, groundTypeFirstChannel, groundTypeNumChannels = mission.fieldGroundSystem:getDensityMapData(FieldDensityMap.GROUND_TYPE)\n    local plowValue = FieldGroundType.getValueByType(FieldGroundType.PLOWED)\n\n    self.completionModifier = DensityMapModifier.new(groundTypeMapId, groundTypeFirstChannel, groundTypeNumChannels, g_terrainNode)\n    self.completionFilter = DensityMapFilter.new( self.completionModifier)\n    self.completionFilter:setValueCompareParams(DensityValueCompareType.EQUAL, plowValue)\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"getfieldfinishtask",children:"getFieldFinishTask"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"getFieldFinishTask()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function PlowMission:getFieldFinishTask()\n    local fieldState = self.field:getFieldState()\n    fieldState.fruitTypeIndex = FruitType.UNKNOWN\n    fieldState.groundType = FieldGroundType.PLOWED\n\n    return PlowMission:superClass().getFieldFinishTask( self )\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"getmissiontypename",children:"getMissionTypeName"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"getMissionTypeName()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function PlowMission:getMissionTypeName()\n    return PlowMission.NAME\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"getrewardperha",children:"getRewardPerHa"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"getRewardPerHa()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function PlowMission:getRewardPerHa()\n    local data = g_missionManager:getMissionTypeDataByName( PlowMission.NAME)\n    return data.rewardPerHa\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"isavailableforfield",children:"isAvailableForField"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"isAvailableForField()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"any"}),(0,l.jsx)(e.th,{children:"field"})]})}),(0,l.jsx)(e.tbody,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"any"}),(0,l.jsx)(e.td,{children:"mission"})]})})]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function PlowMission.isAvailableForField(field, mission)\n    if mission = = nil then\n        local fieldState = field:getFieldState()\n        if not fieldState.isValid then\n            return false\n        end\n\n        if field.grassMissionOnly then\n            return false\n        end\n\n        local maxLevel = g_currentMission.fieldGroundSystem:getMaxValue(FieldDensityMap.PLOW_LEVEL)\n        if fieldState.plowLevel > = maxLevel then\n            return false\n        end\n\n        local fruitTypeIndex = fieldState.fruitTypeIndex\n        if fruitTypeIndex = = FruitType.UNKNOWN then\n            return false\n        end\n\n        local growthState = fieldState.growthState\n        local fruitTypeDesc = g_fruitTypeManager:getFruitTypeByIndex(fruitTypeIndex)\n        if fruitTypeDesc:getIsCatchCrop() and growthState < = 1 then\n            return false\n        end\n\n        if not fruitTypeDesc:getIsCut(growthState) and not fruitTypeDesc:getIsWithered(growthState) then\n            return false\n        end\n    end\n\n    return true\nend\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"loadmapdata",children:"loadMapData"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"loadMapData()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"any"}),(0,l.jsx)(e.th,{children:"xmlFile"})]})}),(0,l.jsxs)(e.tbody,{children:[(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"any"}),(0,l.jsx)(e.td,{children:"key"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"any"}),(0,l.jsx)(e.td,{children:"baseDirectory"})]})]})]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:'function PlowMission.loadMapData(xmlFile, key, baseDirectory)\n    local data = g_missionManager:getMissionTypeDataByName( PlowMission.NAME)\n    data.rewardPerHa = xmlFile:getFloat(key .. "#rewardPerHa" , 2800 )\n\n    return true\nend\n\n'})}),"\n",(0,l.jsx)(e.h3,{id:"new",children:"new"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"new()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"any"}),(0,l.jsx)(e.th,{children:"isServer"})]})}),(0,l.jsxs)(e.tbody,{children:[(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"any"}),(0,l.jsx)(e.td,{children:"isClient"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"any"}),(0,l.jsx)(e.td,{children:"customMt"})]})]})]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:'function PlowMission.new(isServer, isClient, customMt)\n    local title = g_i18n:getText( "contract_field_plow_title" )\n    local description = g_i18n:getText( "contract_field_plow_description" )\n\n    local self = AbstractFieldMission.new(isServer, isClient, title, description, customMt or PlowMission _mt)\n\n    self.workAreaTypes = {\n    [WorkAreaType.PLOW] = true\n    }\n\n    return self\nend\n\n'})}),"\n",(0,l.jsx)(e.h3,{id:"trygeneratemission",children:"tryGenerateMission"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"tryGenerateMission()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function PlowMission.tryGenerateMission()\n    if PlowMission.canRun() then\n        local field = g_fieldManager:getFieldForMission()\n        if field = = nil then\n            return\n        end\n\n        if field.currentMission ~ = nil then\n            return\n        end\n\n        if not PlowMission.isAvailableForField(field, nil ) then\n            return\n        end\n\n        -- Create an instance\n        local mission = PlowMission.new( true , g_client ~ = nil )\n        if mission:init(field) then\n            mission:setDefaultEndDate()\n            return mission\n        else\n                mission:delete()\n            end\n        end\n\n        return nil\n    end\n\n"})}),"\n",(0,l.jsx)(e.h3,{id:"validate",children:"validate"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Description"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"validate()"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,l.jsx)(e.table,{children:(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"any"}),(0,l.jsx)(e.th,{children:"event"})]})})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Code"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-lua",children:"function PlowMission:validate(event)\n    if not PlowMission:superClass().validate( self , event) then\n        return false\n    end\n\n    if not self:getIsFinished() then\n        if not PlowMission.isAvailableForField( self.field, self ) then\n            return false\n        end\n    end\n\n    return true\nend\n\n"})})]})}function h(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(c,{...n})}):c(n)}}}]);