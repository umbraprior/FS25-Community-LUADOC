"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[51272],{28453(e,n,s){s.d(n,{R:()=>r,x:()=>o});var t=s(96540);const l={},i=t.createContext(l);function r(e){const n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:r(e.components),t.createElement(i.Provider,{value:n},e.children)}},67929(e,n,s){s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>a,frontMatter:()=>r,metadata:()=>t,toc:()=>h});const t=JSON.parse('{"id":"script/Player/PlayerCCT","title":"PlayerCCT","description":"PlayerCCT","source":"@site/../docs/script/Player/PlayerCCT.md","sourceDirName":"script/Player","slug":"/script/Player/PlayerCCT","permalink":"/FS25-Community-LUADOC/script/Player/PlayerCCT","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"Player","permalink":"/FS25-Community-LUADOC/script/Player/"},"next":{"title":"PlayerCamera","permalink":"/FS25-Community-LUADOC/script/Player/PlayerCamera"}}');var l=s(74848),i=s(28453);const r={},o=void 0,d={},h=[{value:"PlayerCCT",id:"playercct",level:2},{value:"calculateIfBottomTouchesGround",id:"calculateifbottomtouchesground",level:3},{value:"debugDraw",id:"debugdraw",level:3},{value:"delete",id:"delete",level:3},{value:"getPosition",id:"getposition",level:3},{value:"move",id:"move",level:3},{value:"new",id:"new",level:3},{value:"rebuild",id:"rebuild",level:3},{value:"setPosition",id:"setposition",level:3}];function c(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.h2,{id:"playercct",children:"PlayerCCT"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"A capsule controller for a player. Simply managing the CCT."}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Functions"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#calculateifbottomtouchesground",children:"calculateIfBottomTouchesGround"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#debugdraw",children:"debugDraw"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#delete",children:"delete"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#getposition",children:"getPosition"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#move",children:"move"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#new",children:"new"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#rebuild",children:"rebuild"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#setposition",children:"setPosition"})}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"calculateifbottomtouchesground",children:"calculateIfBottomTouchesGround"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"Calculates if the bottom of the capsule is touching the ground."}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"calculateIfBottomTouchesGround()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,l.jsx)(n.table,{children:(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"any"}),(0,l.jsx)(n.th,{children:"isGrounded"}),(0,l.jsx)(n.th,{children:"Is true if the bottom of the capsule is touching the ground; otherwise false."})]})})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"function PlayerCCT:calculateIfBottomTouchesGround()\n\n    -- Get the collision flags for the top, middle, and bottom of the CCT.The bottom is the only part that matters.\n        local _, _, isGrounded = getCCTCollisionFlags( self.capsuleId)\n\n        -- Return the bottom flag.\n        return isGrounded\n    end\n\n"})}),"\n",(0,l.jsx)(n.h3,{id:"debugdraw",children:"debugDraw"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"Displays the debug information."}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"debugDraw(float x, float y, float textSize)"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"float"}),(0,l.jsx)(n.th,{children:"x"}),(0,l.jsx)(n.th,{children:"The x position on the screen to begin drawing the values."})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"float"}),(0,l.jsx)(n.td,{children:"y"}),(0,l.jsx)(n.td,{children:"The y position on the screen to begin drawing the values."})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"float"}),(0,l.jsx)(n.td,{children:"textSize"}),(0,l.jsx)(n.td,{children:"The height of the text."})]})]})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,l.jsx)(n.table,{children:(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"float"}),(0,l.jsx)(n.th,{children:"y"}),(0,l.jsx)(n.th,{children:"The y position on the screen after the entire debug info was drawn."})]})})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:'function PlayerCCT:debugDraw(x, y, textSize)\n\n    -- Render the header.\n    y = DebugUtil.renderTextLine(x, y, textSize * 1.5 , "CCT" , nil , true )\n\n    y = DebugUtil.renderTextLine(x, y, textSize, string.format( "Height: %.2f" , self.height))\n    y = DebugUtil.renderTextLine(x, y, textSize, string.format( "Physics height: %.2f" , getCCTHeight( self.capsuleId)))\n    y = DebugUtil.renderTextLine(x, y, textSize, string.format( "Desired height: %.2f" , self.desiredHeight))\n\n    return y\nend\n\n'})}),"\n",(0,l.jsx)(n.h3,{id:"delete",children:"delete"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"Removes the CCT, if one exists."}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"delete()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"function PlayerCCT:delete()\n\n    -- Remove the CCT and set the index to nil.\n    if self.capsuleId ~ = nil then\n        removeCCT( self.capsuleId)\n        self.capsuleId = nil\n    end\nend\n\n"})}),"\n",(0,l.jsx)(n.h3,{id:"getposition",children:"getPosition"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"Returns the position of the player's feet."}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"getPosition()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"float"}),(0,l.jsx)(n.th,{children:"x"}),(0,l.jsx)(n.th,{children:"The x position."})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"float"}),(0,l.jsx)(n.td,{children:"y"}),(0,l.jsx)(n.td,{children:"The y position."})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"float"}),(0,l.jsx)(n.td,{children:"z"}),(0,l.jsx)(n.td,{children:"The z position."})]})]})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"function PlayerCCT:getPosition()\n    local x, y, z = getWorldTranslation( self.rootNode)\n    return x, y + self:getBottomOffsetY(), z\nend\n\n"})}),"\n",(0,l.jsx)(n.h3,{id:"move",children:"move"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"Moves the CCT using the given movement."}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"move(float movementX, float movementY, float movementZ)"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"float"}),(0,l.jsx)(n.th,{children:"movementX"}),(0,l.jsx)(n.th,{children:"The x movement in metres."})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"float"}),(0,l.jsx)(n.td,{children:"movementY"}),(0,l.jsx)(n.td,{children:"The y movement in metres."})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"float"}),(0,l.jsx)(n.td,{children:"movementZ"}),(0,l.jsx)(n.td,{children:"The z movement in metres."})]})]})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:'function PlayerCCT:move(movementX, movementY, movementZ)\n    --#profile RemoteProfiler.zoneBeginN("PlayerCCT-move")\n    moveCCT( self.capsuleId, movementX, movementY, movementZ, self.movementCollisionGroup, self.movementCollisionMask)\n    --#profile RemoteProfiler.zoneEnd()\nend\n\n'})}),"\n",(0,l.jsx)(n.h3,{id:"new",children:"new"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"Creates a new player CCT instance"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"new()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,l.jsx)(n.table,{children:(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"float"}),(0,l.jsx)(n.th,{children:"playerCCT"}),(0,l.jsx)(n.th,{children:"The created instance."})]})})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"function PlayerCCT.new()\n    local self = setmetatable( { } , PlayerCCT _mt)\n\n    -- The id of the CCT itself.\n    self.capsuleId = nil\n\n    -- The height of the capsule.\n    self.height = PlayerCCT.DEFAULT_HEIGHT\n\n    -- The height that the capsule wishes to have, before the physics system knows if it is valid.\n        self.desiredHeight = self.height\n\n        -- The physics index on which the height was changed.\n        self.heightChangePhysicsIndex = nil\n\n        -- The radius of the capsule.\n        self.radius = 0.35\n\n        -- The steepest slope the capsule can climb.\n        self.slopeLimit = 60\n\n        -- The highest y difference the capsule can step up.\n        self.stepOffset = 0.4\n\n        -- The mass of the capsule.\n        self.mass = 0\n\n        self.collisionGroup = PlayerCCT.DEFAULT_COLLISION_GROUP\n\n        self.collisionMask = PlayerCCT.DEFAULT_COLLISION_MASK\n\n        self.movementCollisionGroup = PlayerCCT.DEFAULT_MOVEMENT_COLLISION_GROUP\n\n        self.movementCollisionMask = PlayerCCT.DEFAULT_MOVEMENT_COLLISION_MASK\n\n        -- Return the created instance.\n        return self\n    end\n\n"})}),"\n",(0,l.jsx)(n.h3,{id:"rebuild",children:"rebuild"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"Deletes and recreates the player's CCT."}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"rebuild()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"function PlayerCCT:rebuild()\n\n    -- Delete the old CCT.\n    if self.capsuleId ~ = nil then\n        removeCCT( self.capsuleId)\n        self.capsuleId = nil\n    end\n\n    -- Create the CCT again.\n    self.capsuleId = createCCT( self.rootNode, self.radius, self.desiredHeight, self.stepOffset, self.slopeLimit, self:getSkinWidth(), self.collisionGroup, self.collisionMask, self.mass)\n\n    -- Update the height members.\n    self.height = self.desiredHeight\n    self.heightChangePhysicsIndex = nil\nend\n\n"})}),"\n",(0,l.jsx)(n.h3,{id:"setposition",children:"setPosition"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"Positions the player's foot position using the given position."}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"setPosition(float x, float y, float z, boolean? setNodeTranslation)"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"float"}),(0,l.jsx)(n.th,{children:"x"}),(0,l.jsx)(n.th,{children:"The x position."})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"float"}),(0,l.jsx)(n.td,{children:"y"}),(0,l.jsx)(n.td,{children:"The y position."})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"float"}),(0,l.jsx)(n.td,{children:"z"}),(0,l.jsx)(n.td,{children:"The z position."})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"boolean?"}),(0,l.jsx)(n.td,{children:"setNodeTranslation"}),(0,l.jsx)(n.td,{children:"If this is true, the player's root node will also be moved to the given position. Defaults to false."})]})]})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"function PlayerCCT:setPosition(x, y, z, setNodeTranslation)\n\n    if setNodeTranslation then\n        setWorldTranslation( self.rootNode, x, y - self:getBottomOffsetY(), z)\n    end\n\n    setCCTPosition( self.capsuleId, x, y - self:getBottomOffsetY(), z)\nend\n\n"})})]})}function a(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(c,{...e})}):c(e)}}}]);