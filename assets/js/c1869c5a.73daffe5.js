"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[88139],{28453(e,n,l){l.d(n,{R:()=>r,x:()=>c});var i=l(96540);const s={},t=i.createContext(s);function r(e){const n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),i.createElement(t.Provider,{value:n},e.children)}},84798(e,n,l){l.r(n),l.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"script/GUI/InfoDisplayKeyValueBoxMobile","title":"InfoDisplayKeyValueBoxMobile","description":"InfoDisplayKeyValueBoxMobile","source":"@site/../docs/script/GUI/InfoDisplayKeyValueBoxMobile.md","sourceDirName":"script/GUI","slug":"/script/GUI/InfoDisplayKeyValueBoxMobile","permalink":"/FS25-Community-LUADOC/script/GUI/InfoDisplayKeyValueBoxMobile","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"InfoDisplayKeyValueBox","permalink":"/FS25-Community-LUADOC/script/GUI/InfoDisplayKeyValueBox"},"next":{"title":"IngameMap","permalink":"/FS25-Community-LUADOC/script/GUI/IngameMap"}}');var s=l(74848),t=l(28453);const r={},c=void 0,d={},a=[{value:"InfoDisplayKeyValueBoxMobile",id:"infodisplaykeyvalueboxmobile",level:2},{value:"addLine",id:"addline",level:3},{value:"canDraw",id:"candraw",level:3},{value:"clear",id:"clear",level:3},{value:"draw",id:"draw",level:3},{value:"getDisplayHeight",id:"getdisplayheight",level:3},{value:"new",id:"new",level:3},{value:"setScale",id:"setscale",level:3},{value:"setTitle",id:"settitle",level:3},{value:"showNextFrame",id:"shownextframe",level:3},{value:"storeScaledValues",id:"storescaledvalues",level:3},{value:"textSizeToFit",id:"textsizetofit",level:3}];function o(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"infodisplaykeyvalueboxmobile",children:"InfoDisplayKeyValueBoxMobile"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Info box with key-value layout for mobile version"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Parent"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"?version=script&category=43&class=464",children:"InfoDisplayBox"})}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Functions"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#addline",children:"addLine"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#candraw",children:"canDraw"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#clear",children:"clear"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#draw",children:"draw"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getdisplayheight",children:"getDisplayHeight"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#new",children:"new"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#setscale",children:"setScale"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#settitle",children:"setTitle"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#shownextframe",children:"showNextFrame"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#storescaledvalues",children:"storeScaledValues"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#textsizetofit",children:"textSizeToFit"})}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"addline",children:"addLine"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"addLine()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"key"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"value"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"accentuate"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"accentuateColor"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function InfoDisplayKeyValueBoxMobile:addLine(key, value, accentuate, accentuateColor)\n    local line\n    local cached = self.cachedLines\n    local numCached = #cached\n    if numCached > 0 then\n        line = self.cachedLines[numCached]\n        self.cachedLines[numCached] = nil\n    else\n            line = { }\n        end\n\n        line.key = key\n        line.value = value or ""\n        line.accentuate = accentuate\n        line.accentuateColor = accentuateColor\n\n        self.activeLines[# self.activeLines + 1 ] = line\n    end\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"candraw",children:"canDraw"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"canDraw()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function InfoDisplayKeyValueBoxMobile:canDraw()\n    return self.doShowNextFrame\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"clear",children:"clear"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"clear()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function InfoDisplayKeyValueBoxMobile:clear()\n    for i = # self.activeLines, 1 , - 1 do\n        self.cachedLines[# self.cachedLines + 1 ] = self.activeLines[i]\n        self.activeLines[i] = nil\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"draw",children:"draw"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"draw()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"posX"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"posY"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function InfoDisplayKeyValueBoxMobile:draw(posX, posY)\n    local _, rightInset = getSafeFrameInsets()\n    posX = posX - rightInset\n    local rightX = posX\n    local leftX = posX - self.boxWidth\n    local y = posY + self.posYOffset\n\n    local height = 2 * self.listMarginHeight + # self.activeLines * self.rowHeight\n    drawFilledRectRound(leftX, y, self.boxWidth, height, self.uiScale, 0 , 0 , 0 , 0.75 )\n\n    -- Displayitems\n    y = y + self.listMarginHeight\n    leftX = leftX + self.leftTextOffsetX + self.listMarginWidth\n    rightX = rightX - self.rightTextOffsetX - self.listMarginWidth\n\n    local textAreaX = self.boxWidth - self.leftTextOffsetX - self.listMarginWidth - self.rightTextOffsetX - self.listMarginWidth\n\n    for i = # self.activeLines, 1 , - 1 do\n        local line = self.activeLines[i]\n\n        setTextBold( true )\n        if line.accentuate then\n            setTextColor( unpack(line.accentuateColor or InfoDisplayKeyValueBoxMobile.COLOR.TEXT_HIGHLIGHT))\n        else\n                setTextColor( 1 , 1 , 1 , 1 )\n            end\n\n            setTextAlignment(RenderText.ALIGN_LEFT)\n            renderText(leftX, y + self.leftTextOffsetY, self.rowTextSize, line.key)\n\n            setTextAlignment(RenderText.ALIGN_RIGHT)\n            local maxWidth = textAreaX - 0.025 * self.boxWidth - getTextWidth( self.rowTextSize, line.key)\n            setTextBold( false )\n\n            local text = Utils.limitTextToWidth(line.value, self.rowTextSize, maxWidth, false , " .. ." )\n            renderText(rightX, y + self.rightTextOffsetY, self.rowTextSize, text)\n\n            if line.accentuate then\n                setTextColor( unpack( InfoDisplayKeyValueBoxMobile.COLOR.TEXT_DEFAULT))\n            end\n\n            y = y + self.rowHeight\n        end\n\n        setTextAlignment(RenderText.ALIGN_LEFT)\n\n        self.doShowNextFrame = false\n    end\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"getdisplayheight",children:"getDisplayHeight"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Get this HUD extension's display height."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getDisplayHeight()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"Display"}),(0,s.jsx)(n.th,{children:"height in screen space"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function InfoDisplayKeyValueBoxMobile:getDisplayHeight()\n    return 2 * self.listMarginHeight + # self.activeLines * self.rowHeight + self.labelTextOffsetY\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"new",children:"new"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"new()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"infoDisplay"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"uiScale"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function InfoDisplayKeyValueBoxMobile.new(infoDisplay, uiScale)\n    local self = InfoDisplayBox.new(infoDisplay, uiScale, InfoDisplayKeyValueBoxMobile _mt)\n\n    self.displayComponents = { }\n\n    self.cachedLines = { }\n    self.activeLines = { }\n\n    self.posYOffset = 160 * g_pixelSizeY * (g_screenHeight / g_referenceScreenHeight)\n\n    return self\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"setscale",children:"setScale"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"setScale()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"uiScale"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function InfoDisplayKeyValueBoxMobile:setScale(uiScale)\n    self.uiScale = uiScale\n    self:storeScaledValues()\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"settitle",children:"setTitle"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"setTitle()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"title"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function InfoDisplayKeyValueBoxMobile:setTitle(title)\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"shownextframe",children:"showNextFrame"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"showNextFrame()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function InfoDisplayKeyValueBoxMobile:showNextFrame()\n    self.doShowNextFrame = true\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"storescaledvalues",children:"storeScaledValues"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"storeScaledValues()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function InfoDisplayKeyValueBoxMobile:storeScaledValues()\n    local scale = self.uiScale\n\n    local function normalize(x, y)\n        return x * scale * g_aspectScaleX / g_referenceScreenWidth, y * scale * g_aspectScaleY / g_referenceScreenHeight\n    end\n\n    self.boxWidth = normalize( 500 , 0 )\n\n    local _\n    _, self.rowTextSize = normalize( 0 , HUDElement.TEXT_SIZE.DEFAULT_TEXT_MOBILE)\n\n    self.labelTextOffsetX, self.labelTextOffsetY = normalize( 0 , 3 )\n    self.leftTextOffsetX, self.leftTextOffsetY = normalize( 0 , 6 )\n    self.rightTextOffsetX, self.rightTextOffsetY = normalize( 0 , 6 )\n\n    self.rowWidth, self.rowHeight = normalize( 450 , 40 )\n    self.listMarginWidth, self.listMarginHeight = normalize( 25 , 15 )\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"textsizetofit",children:"textSizeToFit"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"textSizeToFit()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"baseSize"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"text"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"maxWidth"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"minSize"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function InfoDisplayKeyValueBoxMobile:textSizeToFit(baseSize, text, maxWidth, minSize)\n    local size = baseSize\n    if minSize = = nil then\n        minSize = baseSize / 2\n    end\n\n    setTextWrapWidth(maxWidth)\n    local lengthWithNoLineLimit = getTextLength(size, text, 99999 )\n\n    while getTextLength(size, text, 1 ) < lengthWithNoLineLimit do\n        size = size - baseSize * 0.05\n\n        -- Limit size.Cut off any extra text\n        if size < = minSize then\n            -- Undo\n            size = size + baseSize * 0.05\n\n            break\n        end\n    end\n\n    setTextWrapWidth( 0 )\n\n    return size\nend\n\n"})})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}}}]);