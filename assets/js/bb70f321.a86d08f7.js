"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[34172],{28453(e,n,r){r.d(n,{R:()=>t,x:()=>s});var a=r(96540);const i={},l=a.createContext(i);function t(e){const n=a.useContext(l);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),a.createElement(l.Provider,{value:n},e.children)}},32624(e,n,r){r.r(n),r.d(n,{assets:()=>p,contentTitle:()=>s,default:()=>c,frontMatter:()=>t,metadata:()=>a,toc:()=>o});const a=JSON.parse('{"id":"script/Specializations/BaleWrapper","title":"BaleWrapper","description":"BaleWrapper","source":"@site/../docs/script/Specializations/BaleWrapper.md","sourceDirName":"script/Specializations","slug":"/script/Specializations/BaleWrapper","permalink":"/FS25-Community-LUADOC/script/Specializations/BaleWrapper","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"BaleLoader","permalink":"/FS25-Community-LUADOC/script/Specializations/BaleLoader"},"next":{"title":"Baler","permalink":"/FS25-Community-LUADOC/script/Specializations/Baler"}}');var i=r(74848),l=r(28453);const t={},s=void 0,p={},o=[{value:"BaleWrapper",id:"balewrapper",level:2},{value:"actionEventDrop",id:"actioneventdrop",level:3},{value:"actionEventEmpty",id:"actioneventempty",level:3},{value:"actionEventToggleAutomaticDrop",id:"actioneventtoggleautomaticdrop",level:3},{value:"addToPhysics",id:"addtophysics",level:3},{value:"allowsGrabbingBale",id:"allowsgrabbingbale",level:3},{value:"baleGrabberTriggerCallback",id:"balegrabbertriggercallback",level:3},{value:"doStateChange",id:"dostatechange",level:3},{value:"externalActionEventAutomaticUnloadRegister",id:"externalactioneventautomaticunloadregister",level:3},{value:"externalActionEventAutomaticUnloadUpdate",id:"externalactioneventautomaticunloadupdate",level:3},{value:"externalActionEventUnloadRegister",id:"externalactioneventunloadregister",level:3},{value:"externalActionEventUnloadUpdate",id:"externalactioneventunloadupdate",level:3},{value:"externalActionEventWarningsRegister",id:"externalactioneventwarningsregister",level:3},{value:"externalActionEventWarningsUpdate",id:"externalactioneventwarningsupdate",level:3},{value:"getBaleInRange",id:"getbaleinrange",level:3},{value:"getCanBeSelected",id:"getcanbeselected",level:3},{value:"getIsBaleDropAllowed",id:"getisbaledropallowed",level:3},{value:"getIsBaleWrappable",id:"getisbalewrappable",level:3},{value:"getIsBaleWrappingAllowed",id:"getisbalewrappingallowed",level:3},{value:"getIsFoldAllowed",id:"getisfoldallowed",level:3},{value:"getMatchingBaleTypeIndex",id:"getmatchingbaletypeindex",level:3},{value:"getRequiresPower",id:"getrequirespower",level:3},{value:"getShowConsumableEmptyWarning",id:"getshowconsumableemptywarning",level:3},{value:"getSpecValueBaleSize",id:"getspecvaluebalesize",level:3},{value:"getSpecValueBaleSizeRound",id:"getspecvaluebalesizeround",level:3},{value:"getSpecValueBaleSizeSquare",id:"getspecvaluebalesizesquare",level:3},{value:"getStandaloneMotorLoad",id:"getstandalonemotorload",level:3},{value:"getStandaloneMotorTargetRpm",id:"getstandalonemotortargetrpm",level:3},{value:"initSpecialization",id:"initspecialization",level:3},{value:"loadSpecValueBaleSize",id:"loadspecvaluebalesize",level:3},{value:"loadSpecValueBaleSizeRound",id:"loadspecvaluebalesizeround",level:3},{value:"loadSpecValueBaleSizeSquare",id:"loadspecvaluebalesizesquare",level:3},{value:"loadWrapperAnimationNodesFromXML",id:"loadwrapperanimationnodesfromxml",level:3},{value:"loadWrapperAnimationsFromXML",id:"loadwrapperanimationsfromxml",level:3},{value:"loadWrapperAnimCurveFromXML",id:"loadwrapperanimcurvefromxml",level:3},{value:"loadWrapperAnimNodesFromXML",id:"loadwrapperanimnodesfromxml",level:3},{value:"loadWrapperFoilAnimationFromXML",id:"loadwrapperfoilanimationfromxml",level:3},{value:"loadWrapperFromXML",id:"loadwrapperfromxml",level:3},{value:"loadWrapperStateCurveFromXML",id:"loadwrapperstatecurvefromxml",level:3},{value:"loadWrapperWrapNodesFromXML",id:"loadwrapperwrapnodesfromxml",level:3},{value:"onBaleWrapperBlockOverlapCallback",id:"onbalewrapperblockoverlapcallback",level:3},{value:"onBaleWrapperDropOverlapCallback",id:"onbalewrapperdropoverlapcallback",level:3},{value:"onConsumableVariationChanged",id:"onconsumablevariationchanged",level:3},{value:"onDeactivate",id:"ondeactivate",level:3},{value:"onDelete",id:"ondelete",level:3},{value:"onDraw",id:"ondraw",level:3},{value:"onFoldStateChanged",id:"onfoldstatechanged",level:3},{value:"onLoad",id:"onload",level:3},{value:"onLoadFinished",id:"onloadfinished",level:3},{value:"onPostLoad",id:"onpostload",level:3},{value:"onReadStream",id:"onreadstream",level:3},{value:"onRegisterActionEvents",id:"onregisteractionevents",level:3},{value:"onRegisterExternalActionEvents",id:"onregisterexternalactionevents",level:3},{value:"onUpdate",id:"onupdate",level:3},{value:"onUpdateTick",id:"onupdatetick",level:3},{value:"onWriteStream",id:"onwritestream",level:3},{value:"pickupWrapperBale",id:"pickupwrapperbale",level:3},{value:"playMoveToWrapper",id:"playmovetowrapper",level:3},{value:"prerequisitesPresent",id:"prerequisitespresent",level:3},{value:"registerEventListeners",id:"registereventlisteners",level:3},{value:"registerFunctions",id:"registerfunctions",level:3},{value:"registerOverwrittenFunctions",id:"registeroverwrittenfunctions",level:3},{value:"registerWrapperAnimationXMLPaths",id:"registerwrapperanimationxmlpaths",level:3},{value:"registerWrapperFoilAnimationXMLPaths",id:"registerwrapperfoilanimationxmlpaths",level:3},{value:"registerWrapperXMLPaths",id:"registerwrapperxmlpaths",level:3},{value:"removeFromPhysics",id:"removefromphysics",level:3},{value:"saveToXMLFile",id:"savetoxmlfile",level:3},{value:"setBaleWrapperAutomaticDrop",id:"setbalewrapperautomaticdrop",level:3},{value:"setBaleWrapperDropAnimation",id:"setbalewrapperdropanimation",level:3},{value:"setBaleWrapperType",id:"setbalewrappertype",level:3},{value:"updateActionEvents",id:"updateactionevents",level:3},{value:"updateWrapNodes",id:"updatewrapnodes",level:3},{value:"updateWrappingState",id:"updatewrappingstate",level:3}];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"balewrapper",children:"BaleWrapper"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Specialization for all BaleWrappers (round, square) providing picking up, wrapping and dropping functionality"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Functions"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#actioneventdrop",children:"actionEventDrop"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#actioneventempty",children:"actionEventEmpty"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#actioneventtoggleautomaticdrop",children:"actionEventToggleAutomaticDrop"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#addtophysics",children:"addToPhysics"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#allowsgrabbingbale",children:"allowsGrabbingBale"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#balegrabbertriggercallback",children:"baleGrabberTriggerCallback"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#dostatechange",children:"doStateChange"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#externalactioneventautomaticunloadregister",children:"externalActionEventAutomaticUnloadRegister"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#externalactioneventautomaticunloadupdate",children:"externalActionEventAutomaticUnloadUpdate"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#externalactioneventunloadregister",children:"externalActionEventUnloadRegister"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#externalactioneventunloadupdate",children:"externalActionEventUnloadUpdate"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#externalactioneventwarningsregister",children:"externalActionEventWarningsRegister"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#externalactioneventwarningsupdate",children:"externalActionEventWarningsUpdate"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getbaleinrange",children:"getBaleInRange"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getcanbeselected",children:"getCanBeSelected"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getisbaledropallowed",children:"getIsBaleDropAllowed"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getisbalewrappable",children:"getIsBaleWrappable"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getisbalewrappingallowed",children:"getIsBaleWrappingAllowed"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getisfoldallowed",children:"getIsFoldAllowed"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getmatchingbaletypeindex",children:"getMatchingBaleTypeIndex"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getrequirespower",children:"getRequiresPower"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getshowconsumableemptywarning",children:"getShowConsumableEmptyWarning"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getspecvaluebalesize",children:"getSpecValueBaleSize"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getspecvaluebalesizeround",children:"getSpecValueBaleSizeRound"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getspecvaluebalesizesquare",children:"getSpecValueBaleSizeSquare"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getstandalonemotorload",children:"getStandaloneMotorLoad"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getstandalonemotortargetrpm",children:"getStandaloneMotorTargetRpm"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#initspecialization",children:"initSpecialization"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#loadspecvaluebalesize",children:"loadSpecValueBaleSize"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#loadspecvaluebalesizeround",children:"loadSpecValueBaleSizeRound"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#loadspecvaluebalesizesquare",children:"loadSpecValueBaleSizeSquare"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#loadwrapperanimationnodesfromxml",children:"loadWrapperAnimationNodesFromXML"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#loadwrapperanimationsfromxml",children:"loadWrapperAnimationsFromXML"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#loadwrapperanimcurvefromxml",children:"loadWrapperAnimCurveFromXML"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#loadwrapperanimnodesfromxml",children:"loadWrapperAnimNodesFromXML"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#loadwrapperfoilanimationfromxml",children:"loadWrapperFoilAnimationFromXML"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#loadwrapperfromxml",children:"loadWrapperFromXML"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#loadwrapperstatecurvefromxml",children:"loadWrapperStateCurveFromXML"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#loadwrapperwrapnodesfromxml",children:"loadWrapperWrapNodesFromXML"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onbalewrapperblockoverlapcallback",children:"onBaleWrapperBlockOverlapCallback"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onbalewrapperdropoverlapcallback",children:"onBaleWrapperDropOverlapCallback"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onconsumablevariationchanged",children:"onConsumableVariationChanged"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#ondeactivate",children:"onDeactivate"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#ondelete",children:"onDelete"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#ondraw",children:"onDraw"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onfoldstatechanged",children:"onFoldStateChanged"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onload",children:"onLoad"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onloadfinished",children:"onLoadFinished"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onpostload",children:"onPostLoad"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onreadstream",children:"onReadStream"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onregisteractionevents",children:"onRegisterActionEvents"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onregisterexternalactionevents",children:"onRegisterExternalActionEvents"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onupdate",children:"onUpdate"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onupdatetick",children:"onUpdateTick"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onwritestream",children:"onWriteStream"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#pickupwrapperbale",children:"pickupWrapperBale"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#playmovetowrapper",children:"playMoveToWrapper"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#prerequisitespresent",children:"prerequisitesPresent"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#registereventlisteners",children:"registerEventListeners"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#registerfunctions",children:"registerFunctions"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#registeroverwrittenfunctions",children:"registerOverwrittenFunctions"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#registerwrapperanimationxmlpaths",children:"registerWrapperAnimationXMLPaths"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#registerwrapperfoilanimationxmlpaths",children:"registerWrapperFoilAnimationXMLPaths"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#registerwrapperxmlpaths",children:"registerWrapperXMLPaths"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#removefromphysics",children:"removeFromPhysics"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#savetoxmlfile",children:"saveToXMLFile"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#setbalewrapperautomaticdrop",children:"setBaleWrapperAutomaticDrop"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#setbalewrapperdropanimation",children:"setBaleWrapperDropAnimation"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#setbalewrappertype",children:"setBaleWrapperType"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#updateactionevents",children:"updateActionEvents"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#updatewrapnodes",children:"updateWrapNodes"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#updatewrappingstate",children:"updateWrappingState"})}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"actioneventdrop",children:"actionEventDrop"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"actionEventDrop()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"self"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"actionName"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"inputValue"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"callbackState"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"isAnalog"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleWrapper.actionEventDrop( self , actionName, inputValue, callbackState, isAnalog)\n    local spec = self.spec_baleWrapper\n    if spec.baleWrapperState = = BaleWrapper.STATE_WRAPPER_FINSIHED then\n        g_client:getServerConnection():sendEvent( BaleWrapperDropEvent.new( self , callbackState))\n    end\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"actioneventempty",children:"actionEventEmpty"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"actionEventEmpty()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"self"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"actionName"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"inputValue"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"callbackState"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"isAnalog"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleWrapper.actionEventEmpty( self , actionName, inputValue, callbackState, isAnalog)\n    local spec = self.spec_baleWrapper\n    if spec.baleWrapperState = = BaleWrapper.STATE_WRAPPER_FINSIHED then\n        local dropIsAllowed, warning = self:getIsBaleDropAllowed()\n        if dropIsAllowed then\n            g_client:getServerConnection():sendEvent( BaleWrapperStateEvent.new( self , BaleWrapper.CHANGE_BUTTON_EMPTY))\n        elseif warning ~ = nil then\n                g_currentMission:showBlinkingWarning(warning, 2000 )\n            end\n        end\n    end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"actioneventtoggleautomaticdrop",children:"actionEventToggleAutomaticDrop"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"actionEventToggleAutomaticDrop()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"self"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"actionName"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"inputValue"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"callbackState"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"isAnalog"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleWrapper.actionEventToggleAutomaticDrop( self , actionName, inputValue, callbackState, isAnalog)\n    self:setBaleWrapperAutomaticDrop()\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"addtophysics",children:"addToPhysics"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Add to physics"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"addToPhysics()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"success"}),(0,i.jsx)(n.th,{children:"success"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleWrapper:addToPhysics(superFunc)\n    if not superFunc( self ) then\n        return false\n    end\n\n    local spec = self.spec_baleWrapper\n    local object = NetworkUtil.getObject(spec.baleGrabber.currentBale)\n    if object ~ = nil then\n        object:addToPhysics()\n        object:mountKinematic( self , spec.baleGrabber.grabNode, 0 , 0 , 0 , 0 , 0 , 0 )\n    end\n\n    local currentWrapper = spec.currentWrapper\n    if currentWrapper.currentBale ~ = nil then\n        local object = NetworkUtil.getObject(currentWrapper.currentBale)\n        if object ~ = nil then\n            object:addToPhysics()\n            object:mountKinematic( self , spec.currentWrapper.baleNode, 0 , 0 , 0 , 0 , 0 , 0 )\n        end\n    end\n\n    return true\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"allowsgrabbingbale",children:"allowsGrabbingBale"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Returns if allows bale grabbing"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"allowsGrabbingBale()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"allows"}),(0,i.jsx)(n.th,{children:"allows bale grabbing"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleWrapper:allowsGrabbingBale()\n    local spec = self.spec_baleWrapper\n    local specFoldable = self.spec_foldable\n    if specFoldable ~ = nil then\n        if specFoldable.foldAnimTime ~ = nil and(specFoldable.foldAnimTime > spec.currentWrapperFoldMaxLimit or specFoldable.foldAnimTime < spec.currentWrapperFoldMinLimit) then\n            return false\n        end\n    end\n\n    if spec.baleToLoad ~ = nil then\n        return false\n    end\n\n    return spec.baleWrapperState = = BaleWrapper.STATE_NONE\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"balegrabbertriggercallback",children:"baleGrabberTriggerCallback"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Trigger callback"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"baleGrabberTriggerCallback(integer triggerId, integer otherActorId, boolean onEnter, boolean onLeave, boolean onStay,\ninteger otherShapeId)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"integer"}),(0,i.jsx)(n.th,{children:"triggerId"}),(0,i.jsx)(n.th,{children:"id of trigger"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"integer"}),(0,i.jsx)(n.td,{children:"otherActorId"}),(0,i.jsx)(n.td,{children:"id of other actor"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"boolean"}),(0,i.jsx)(n.td,{children:"onEnter"}),(0,i.jsx)(n.td,{children:"on enter"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"boolean"}),(0,i.jsx)(n.td,{children:"onLeave"}),(0,i.jsx)(n.td,{children:"on leave"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"boolean"}),(0,i.jsx)(n.td,{children:"onStay"}),(0,i.jsx)(n.td,{children:"on stay"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"integer"}),(0,i.jsx)(n.td,{children:"otherShapeId"}),(0,i.jsx)(n.td,{children:"id of other shape"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleWrapper:baleGrabberTriggerCallback(triggerId, otherId, onEnter, onLeave, onStay, otherShapeId)\n    if otherId ~ = 0 and getRigidBodyType(otherId) = = RigidBodyType.DYNAMIC then\n        local object = g_currentMission:getNodeObject(otherId)\n        if object ~ = nil then\n            if object:isa( Bale ) then\n                local spec = self.spec_baleWrapper\n                if onEnter then\n                    spec.baleGrabber.balesInTrigger[object] = Utils.getNoNil(spec.baleGrabber.balesInTrigger[object], 0 ) + 1\n                elseif onLeave then\n                        if spec.baleGrabber.balesInTrigger[object] ~ = nil then\n                            spec.baleGrabber.balesInTrigger[object] = math.max( 0 , spec.baleGrabber.balesInTrigger[object] - 1 )\n                            if spec.baleGrabber.balesInTrigger[object] = = 0 then\n                                spec.baleGrabber.balesInTrigger[object] = nil\n                            end\n                        end\n                    end\n                end\n            end\n        end\n    end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"dostatechange",children:"doStateChange"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Changed wrapper state"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"doStateChange(integer id, integer nearestBaleServerId)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"integer"}),(0,i.jsx)(n.th,{children:"id"}),(0,i.jsx)(n.th,{children:"id of new state"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"integer"}),(0,i.jsx)(n.td,{children:"nearestBaleServerId"}),(0,i.jsx)(n.td,{children:"server id of nearest bale"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function BaleWrapper:doStateChange(id, nearestBaleServerId)\n    local spec = self.spec_baleWrapper\n\n    if id = = BaleWrapper.CHANGE_WRAPPING_START or(spec.baleWrapperState ~ = BaleWrapper.STATE_WRAPPER_FINSIHED and id = = BaleWrapper.CHANGE_WRAPPER_START_DROP_BALE) then\n        local bale = NetworkUtil.getObject(spec.currentWrapper.currentBale)\n        local baleType = spec.currentWrapper.allowedBaleTypes[spec.currentBaleTypeIndex]\n        if not bale:getSupportsWrapping() or baleType.skipWrapping or bale.wrappingState = = 1 then\n            if self.isServer then\n                spec.setWrappingStateFinished = true\n            end\n\n            return\n        end\n    end\n\n    if id = = BaleWrapper.CHANGE_GRAB_BALE then\n        local bale = NetworkUtil.getObject(nearestBaleServerId)\n        spec.baleGrabber.currentBale = nearestBaleServerId\n        if bale ~ = nil then\n            local x,y,z = localToLocal(bale.nodeId, getParent(spec.baleGrabber.grabNode), 0 , 0 , 0 )\n            setTranslation(spec.baleGrabber.grabNode, x,y,z)\n            bale:mountKinematic( self , spec.baleGrabber.grabNode, 0 , 0 , 0 , 0 , 0 , 0 )\n            bale:setCanBeSold( false )\n            bale:setNeedsSaving( false )\n            spec.baleToMount = nil\n            self:playMoveToWrapper(bale)\n        else\n                spec.baleToMount = { serverId = nearestBaleServerId, linkNode = spec.baleGrabber.grabNode, trans = { 0 , 0 , 0 } , rot = { 0 , 0 , 0 } }\n            end\n            spec.baleWrapperState = BaleWrapper.STATE_MOVING_BALE_TO_WRAPPER\n\n        elseif id = = BaleWrapper.CHANGE_DROP_BALE_AT_GRABBER then\n                -- drop bale at wrapper\n                local attachNode = spec.currentWrapper.baleNode\n                local bale = NetworkUtil.getObject(spec.baleGrabber.currentBale)\n                if bale ~ = nil then\n                    bale:mountKinematic( self , attachNode, 0 , 0 , 0 , 0 , 0 , 0 )\n                    bale:setCanBeSold( false )\n                    bale:setNeedsSaving( false )\n                    spec.baleToMount = nil\n                else\n                        spec.baleToMount = { serverId = spec.baleGrabber.currentBale, linkNode = attachNode, trans = { 0 , 0 , 0 } , rot = { 0 , 0 , 0 } }\n                    end\n                    self:updateWrapNodes( true , false , 0 )\n\n                    spec.currentWrapper.currentBale = spec.baleGrabber.currentBale\n                    spec.baleGrabber.currentBale = nil\n\n                    if spec.currentWrapper.animations[ "moveToWrapper" ].animName ~ = nil then\n                        if spec.currentWrapper.animations[ "moveToWrapper" ].reverseAfterMove then\n                            self:playAnimation(spec.currentWrapper.animations[ "moveToWrapper" ].animName, - spec.currentWrapper.animations[ "moveToWrapper" ].animSpeed, nil , true )\n                        end\n                    end\n\n                    spec.baleWrapperState = BaleWrapper.STATE_MOVING_GRABBER_TO_WORK\n\n                elseif id = = BaleWrapper.CHANGE_WRAPPING_START then\n\n                        spec.baleWrapperState = BaleWrapper.STATE_WRAPPER_WRAPPING_BALE\n                        if self.isClient then\n                            g_soundManager:playSamples(spec.currentWrapper.samples.start)\n                            g_soundManager:playSamples(spec.currentWrapper.samples.wrap , 0 , spec.currentWrapper.samples.start[ 1 ])\n                        end\n\n                        if spec.currentWrapper.animations[ "wrapBale" ].animName ~ = nil then\n                            self:playAnimation(spec.currentWrapper.animations[ "wrapBale" ].animName, spec.currentWrapper.animations[ "wrapBale" ].animSpeed, nil , true )\n                        end\n                    elseif id = = BaleWrapper.CHANGE_WRAPPING_BALE_FINSIHED then\n\n                            if self.isClient then\n                                g_soundManager:stopSamples(spec.currentWrapper.samples.wrap )\n                                g_soundManager:stopSamples(spec.currentWrapper.samples.stop)\n                                if spec.currentWrapper.wrappingSoundEndTime = = 1 then\n                                    g_soundManager:playSamples(spec.currentWrapper.samples.stop)\n                                end\n\n                                -- if the start sound is still playing(e.g.on loading if the wrapping state is directly set to 1) we stop it\n                                    g_soundManager:stopSamples(spec.currentWrapper.samples.start)\n                                end\n\n                                self:updateWrappingState( 1 , true )\n                                spec.baleWrapperState = BaleWrapper.STATE_WRAPPER_FINSIHED\n\n                                local bale = NetworkUtil.getObject(spec.currentWrapper.currentBale)\n                                local baleType = spec.currentWrapper.allowedBaleTypes[spec.currentBaleTypeIndex]\n                                local skippedWrapping = not bale:getSupportsWrapping() or baleType.skipWrapping\n                                if skippedWrapping or bale.wrappingState = = 1 then\n                                    self:updateWrappingState( 0 , true )\n                                end\n\n                                if not skippedWrapping then\n                                    local animation = spec.currentWrapper.animations[ "resetWrapping" ]\n                                    if animation.animName ~ = nil then\n                                        self:playAnimation(animation.animName, animation.animSpeed, nil , true )\n                                    end\n                                end\n\n                                self:updateConsumable( BaleWrapper.CONSUMABLE_TYPE_NAME, 0 ) -- update consumable including visibility toggle\n                            elseif id = = BaleWrapper.CHANGE_WRAPPER_START_DROP_BALE then\n                                    self:updateWrapNodes( false , false , 0 )\n\n                                    local baleType = spec.currentWrapper.allowedBaleTypes[spec.currentBaleTypeIndex]\n                                    local dropAnimation = baleType.dropAnimations[spec.dropAnimationIndex]\n                                    if dropAnimation ~ = nil then\n                                        spec.currentWrapper.animations[ "dropFromWrapper" ].animName = dropAnimation.name\n                                        spec.currentWrapper.animations[ "dropFromWrapper" ].animSpeed = dropAnimation.animSpeed\n\n                                        if self.isServer then\n                                            if dropAnimation.liftOnDrop then\n                                                if self:getIsLowered() then\n                                                    local attacherVehicle = self:getAttacherVehicle()\n                                                    if attacherVehicle ~ = nil then\n                                                        attacherVehicle:handleLowerImplementEvent( self )\n                                                    end\n                                                end\n                                            end\n                                        end\n                                    end\n\n                                    if spec.currentWrapper.animations[ "dropFromWrapper" ].animName ~ = nil then\n                                        self:playAnimation(spec.currentWrapper.animations[ "dropFromWrapper" ].animName, spec.currentWrapper.animations[ "dropFromWrapper" ].animSpeed, nil , true )\n                                    end\n\n                                    spec.dropAnimationIndex = 1\n                                    spec.baleWrapperState = BaleWrapper.STATE_WRAPPER_DROPPING_BALE\n                                elseif id = = BaleWrapper.CHANGE_WRAPPER_BALE_DROPPED then\n\n                                        local bale = NetworkUtil.getObject(spec.currentWrapper.currentBale)\n                                        if bale ~ = nil then\n                                            bale:unmountKinematic()\n                                            bale:setNeedsSaving( true )\n                                            bale:setCanBeSold( true )\n\n                                            local baleType = spec.currentWrapper.allowedBaleTypes[spec.currentBaleTypeIndex]\n                                            if bale:getSupportsWrapping() and not baleType.skipWrapping then\n\n                                                local total, _ = g_farmManager:updateFarmStats( self:getOwnerFarmId(), "wrappedBales" , 1 )\n                                                if total ~ = nil then\n                                                    g_achievementManager:tryUnlock( "WrappedBales" , total)\n                                                end\n\n                                                if bale.wrappingState < 1 then\n                                                    bale:setWrappingState( 1 )\n                                                end\n                                            end\n                                        end\n                                        spec.lastDroppedBaleId = NetworkUtil.getObjectId(bale)\n                                        spec.currentWrapper.currentBale = nil\n                                        spec.currentWrapper.currentTime = 0\n                                        if spec.currentWrapper.animations[ "resetAfterDrop" ].animName ~ = nil then\n                                            -- stop and set drop animation finished when we start the reset animation\n                                            -- on client side it can happen that we receive the "DROPPED" state before the dropFromWrapper animation is finished on client side\n                                            -- this can cause a overlapping of the two animation and a wrong state of certain nodes\n                                            local dropAnimationName = spec.currentWrapper.animations[ "dropFromWrapper" ].animName\n                                            if self:getIsAnimationPlaying(dropAnimationName) then\n                                                self:stopAnimation(dropAnimationName, true )\n                                                self:setAnimationTime(dropAnimationName, 1 , true , false )\n                                            end\n\n                                            self:playAnimation(spec.currentWrapper.animations[ "resetAfterDrop" ].animName, spec.currentWrapper.animations[ "resetAfterDrop" ].animSpeed, nil , true )\n                                        end\n\n                                        -- reapply wrapper type to reset the wrapper again to initial state\n                                        self:setBaleWrapperType(spec.currentWrapper = = spec.roundBaleWrapper, spec.currentBaleTypeIndex)\n\n                                        spec.baleWrapperState = BaleWrapper.STATE_WRAPPER_RESETTING_PLATFORM\n\n                                    elseif id = = BaleWrapper.CHANGE_WRAPPER_PLATFORM_RESET then\n\n                                            self:updateWrappingState( 0 )\n                                            self:updateWrapNodes( false , true , 0 )\n                                            spec.baleWrapperState = BaleWrapper.STATE_NONE\n\n                                        elseif id = = BaleWrapper.CHANGE_BUTTON_EMPTY then\n\n                                                -- Server only code\n                                                assert( self.isServer)\n                                                if spec.baleWrapperState = = BaleWrapper.STATE_WRAPPER_FINSIHED then\n                                                    g_server:broadcastEvent( BaleWrapperStateEvent.new( self , BaleWrapper.CHANGE_WRAPPER_START_DROP_BALE), true , nil , self )\n                                                end\n                                            end\n\n                                            BaleWrapper.updateActionEvents( self )\n                                        end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"externalactioneventautomaticunloadregister",children:"externalActionEventAutomaticUnloadRegister"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"externalActionEventAutomaticUnloadRegister()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"data"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"vehicle"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleWrapper.externalActionEventAutomaticUnloadRegister(data, vehicle)\n    local function actionEvent(_, actionName, inputValue, callbackState, isAnalog)\n        BaleWrapper.actionEventToggleAutomaticDrop(vehicle, actionName, inputValue, callbackState, isAnalog)\n    end\n\n    local _\n    _, data.actionEventId = g_inputBinding:registerActionEvent(InputAction.IMPLEMENT_EXTRA4, data, actionEvent, false , true , false , true )\n    g_inputBinding:setActionEventTextPriority(data.actionEventId, GS_PRIO_HIGH)\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"externalactioneventautomaticunloadupdate",children:"externalActionEventAutomaticUnloadUpdate"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"externalActionEventAutomaticUnloadUpdate()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"data"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"vehicle"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleWrapper.externalActionEventAutomaticUnloadUpdate(data, vehicle)\n    local spec = vehicle.spec_baleWrapper\n    g_inputBinding:setActionEventText(data.actionEventId, spec.automaticDrop and spec.toggleAutomaticDropTextNeg or spec.toggleAutomaticDropTextPos)\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"externalactioneventunloadregister",children:"externalActionEventUnloadRegister"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"externalActionEventUnloadRegister()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"data"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"vehicle"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleWrapper.externalActionEventUnloadRegister(data, vehicle)\n    local spec = vehicle.spec_baleWrapper\n\n    local function actionEvent(_, actionName, inputValue, callbackState, isAnalog)\n        if not spec.automaticDrop then\n            BaleWrapper.actionEventEmpty(vehicle, actionName, inputValue, callbackState, isAnalog)\n        end\n    end\n\n    local _\n    _, data.actionEventId = g_inputBinding:registerActionEvent(InputAction.IMPLEMENT_EXTRA3, data, actionEvent, false , true , false , true )\n    g_inputBinding:setActionEventTextPriority(data.actionEventId, GS_PRIO_HIGH)\n    g_inputBinding:setActionEventText(data.actionEventId, spec.currentWrapper.unloadBaleText)\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"externalactioneventunloadupdate",children:"externalActionEventUnloadUpdate"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"externalActionEventUnloadUpdate()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"data"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"vehicle"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleWrapper.externalActionEventUnloadUpdate(data, vehicle)\n    local spec = vehicle.spec_baleWrapper\n    g_inputBinding:setActionEventActive(data.actionEventId, spec.baleWrapperState = = BaleWrapper.STATE_WRAPPER_FINSIHED)\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"externalactioneventwarningsregister",children:"externalActionEventWarningsRegister"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"externalActionEventWarningsRegister()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"data"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"vehicle"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleWrapper.externalActionEventWarningsRegister(data, vehicle)\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"externalactioneventwarningsupdate",children:"externalActionEventWarningsUpdate"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"externalActionEventWarningsUpdate()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"data"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"vehicle"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleWrapper.externalActionEventWarningsUpdate(data, vehicle)\n    local spec = vehicle.spec_baleWrapper\n    if spec.automaticDrop then\n        if g_ time - spec.foundDropOverlappingObjectTime < 500 then\n            g_currentMission:showBlinkingWarning(spec.texts.warningDropAreaBlocked, 500 )\n        end\n    elseif spec.showInvalidBaleWarning then\n            g_currentMission:showBlinkingWarning(spec.texts.warningBaleNotSupported, 500 )\n        end\n    end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getbaleinrange",children:"getBaleInRange"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Returns if nearest bale in range"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getBaleInRange(integer refNode, float distance, )"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"integer"}),(0,i.jsx)(n.th,{children:"refNode"}),(0,i.jsx)(n.th,{children:"id of reference node"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"float"}),(0,i.jsx)(n.td,{children:"distance"}),(0,i.jsx)(n.td,{children:"max distance"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"distance"}),(0,i.jsx)(n.td,{})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"nearestBale"}),(0,i.jsx)(n.th,{children:"nearest bale"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"nearestBaleType"}),(0,i.jsx)(n.td,{children:"id of bale type"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function BaleWrapper.getBaleInRange( self , refNode, distance)\n    local nearestBale = nil\n    local nearestBaleWrappable = nil\n    local nearestBaleTypeIndex = nil\n    local nearestDistance = distance\n\n    local spec = self.spec_baleWrapper\n    for bale, _ in pairs(spec.baleGrabber.balesInTrigger) do\n        if bale.dynamicMountType = = MountableObject.MOUNT_TYPE_NONE and bale.nodeId ~ = 0 then\n            --#debug DebugGizmo.renderAtNode(bale.nodeId, string.format("dis %.2f / %.2f", calcDistanceFrom(refNode, bale.nodeId), distance))\n            if calcDistanceFrom(refNode, bale.nodeId) < nearestDistance then\n                local isWrappable, sizeMatches, baleTypeIndex = self:getIsBaleWrappable(bale)\n\n                nearestBale = bale\n                nearestDistance = distance\n                if isWrappable and sizeMatches then\n                    nearestBaleWrappable = bale\n                    nearestBaleTypeIndex = baleTypeIndex\n                end\n            end\n        end\n    end\n\n    return nearestBaleWrappable, nearestBale, nearestBaleTypeIndex\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"getcanbeselected",children:"getCanBeSelected"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getCanBeSelected()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleWrapper:getCanBeSelected(superFunc)\n    return true\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getisbaledropallowed",children:"getIsBaleDropAllowed"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Returns if bale drop is allowed"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getIsBaleDropAllowed()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"isAllowed"}),(0,i.jsx)(n.th,{children:"bale drop is allowed"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"warning"}),(0,i.jsx)(n.td,{children:"warning to display if not allowed"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function BaleWrapper:getIsBaleDropAllowed()\n    local spec = self.spec_baleWrapper\n    local currentWrapper = spec.currentWrapper\n\n    if currentWrapper.dropArea.node ~ = nil then\n        local x, y, z = getWorldTranslation(currentWrapper.dropArea.node)\n        local rx, ry, rz = getWorldRotation(currentWrapper.dropArea.node)\n        local ex, ey, ez = currentWrapper.dropArea.width * 0.5 , currentWrapper.dropArea.height * 0.5 , currentWrapper.dropArea.length * 0.5\n\n        spec.foundDropOverlappingObject = false\n        overlapBox(x, y, z, rx, ry, rz, ex, ey, ez, "onBaleWrapperDropOverlapCallback" , self , BaleWrapper.DROP_COLLISION_MASK, true , true , false , true )\n        if spec.foundDropOverlappingObject then\n            return false , spec.texts.warningDropAreaBlocked\n        end\n    end\n\n    return true , nil\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"getisbalewrappable",children:"getIsBaleWrappable"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Returns type of wrapped bale"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getIsBaleWrappable(table bale)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"table"}),(0,i.jsx)(n.th,{children:"bale"}),(0,i.jsx)(n.th,{children:"unwrapped bale"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"table"}),(0,i.jsx)(n.th,{children:"baleType"}),(0,i.jsx)(n.th,{children:"wrapped bale"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleWrapper:getIsBaleWrappable(bale)\n    local spec = self.spec_baleWrapper\n\n    local sizeMatch = false\n    local baleTypes = bale.isRoundbale and spec.roundBaleWrapper.allowedBaleTypes or spec.squareBaleWrapper.allowedBaleTypes\n    if baleTypes ~ = nil then\n        for i, baleType in ipairs(baleTypes) do\n            if bale:getBaleMatchesSize(baleType.diameter, baleType.width, baleType.height, baleType.length) then\n                sizeMatch = true\n                if not baleType.skipWrapping then\n                    if bale:getSupportsWrapping() and bale.wrappingState < 1 then\n                        return true , sizeMatch, i\n                    end\n                end\n            end\n        end\n    end\n\n    return false , sizeMatch\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getisbalewrappingallowed",children:"getIsBaleWrappingAllowed"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Returns if the start of the bale wrap animation is allowed"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getIsBaleWrappingAllowed()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"table"}),(0,i.jsx)(n.th,{children:"isAllowed"}),(0,i.jsx)(n.th,{children:"bale wrap is allowed"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function BaleWrapper:getIsBaleWrappingAllowed()\n    local spec = self.spec_baleWrapper\n    local currentWrapper = spec.currentWrapper\n\n    if currentWrapper.blockWrapArea.node ~ = nil then\n        local x, y, z = getWorldTranslation(currentWrapper.blockWrapArea.node)\n        local rx, ry, rz = getWorldRotation(currentWrapper.blockWrapArea.node)\n        local ex, ey, ez = currentWrapper.blockWrapArea.width * 0.5 , currentWrapper.blockWrapArea.height * 0.5 , currentWrapper.blockWrapArea.length * 0.5\n\n        spec.foundBlockOverlappingObject = false\n        overlapBox(x, y, z, rx, ry, rz, ex, ey, ez, "onBaleWrapperBlockOverlapCallback" , self , BaleWrapper.BLOCK_COLLISION_MASK, true , true , false , true )\n        if spec.foundBlockOverlappingObject then\n            return false\n        end\n    end\n\n    return self:getConsumableIsAvailable( BaleWrapper.CONSUMABLE_TYPE_NAME)\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"getisfoldallowed",children:"getIsFoldAllowed"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Returns if fold is allowed"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getIsFoldAllowed(boolean onAiTurnOn, , )"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"boolean"}),(0,i.jsx)(n.th,{children:"onAiTurnOn"}),(0,i.jsx)(n.th,{children:"called on ai turn on"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"direction"}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"onAiTurnOn"}),(0,i.jsx)(n.td,{})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"allowsFold"}),(0,i.jsx)(n.th,{children:"allows folding"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleWrapper:getIsFoldAllowed(superFunc, direction, onAiTurnOn)\n    local spec = self.spec_baleWrapper\n    if spec.baleWrapperState ~ = BaleWrapper.STATE_NONE then\n        return false , spec.texts.warningFoldingWrapping\n    end\n\n    return superFunc( self , direction, onAiTurnOn)\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getmatchingbaletypeindex",children:"getMatchingBaleTypeIndex"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Returns the matching bale from a given list of bale types"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getMatchingBaleTypeIndex(table baleTypes, table bale)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"table"}),(0,i.jsx)(n.th,{children:"baleTypes"}),(0,i.jsx)(n.th,{children:"list with bale types"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"table"}),(0,i.jsx)(n.td,{children:"bale"}),(0,i.jsx)(n.td,{children:"bale object"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleWrapper:getMatchingBaleTypeIndex(baleTypes, bale)\n    for i, baleType in ipairs(baleTypes) do\n        if bale:getBaleMatchesSize(baleType.diameter, baleType.width, baleType.height, baleType.length) then\n            return i\n        end\n    end\n\n    return 1\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getrequirespower",children:"getRequiresPower"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getRequiresPower()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleWrapper:getRequiresPower(superFunc)\n    local spec = self.spec_baleWrapper\n    if spec.baleWrapperState ~ = BaleWrapper.STATE_NONE then\n        return true\n    end\n\n    return superFunc( self )\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getshowconsumableemptywarning",children:"getShowConsumableEmptyWarning"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getShowConsumableEmptyWarning()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"superFunc"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"typeName"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleWrapper:getShowConsumableEmptyWarning(superFunc, typeName)\n    if typeName = = BaleWrapper.CONSUMABLE_TYPE_NAME then\n        return self.spec_baleWrapper.baleWrapperState ~ = BaleWrapper.STATE_NONE and superFunc( self , typeName)\n    end\n\n    return superFunc( self , typeName)\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getspecvaluebalesize",children:"getSpecValueBaleSize"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getSpecValueBaleSize()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"storeItem"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"realItem"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"configurations"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"saleItem"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"returnValues"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"returnRange"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"roundBaleWrapper"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function BaleWrapper.getSpecValueBaleSize(storeItem, realItem, configurations, saleItem, returnValues, returnRange, roundBaleWrapper)\n    local baleSizeAttributes = roundBaleWrapper and storeItem.specs.baleWrapperBaleSizeRound or storeItem.specs.baleWrapperBaleSizeSquare\n    if baleSizeAttributes ~ = nil then\n        local minValue = roundBaleWrapper and baleSizeAttributes.minDiameter or baleSizeAttributes.minLength\n        local maxValue = roundBaleWrapper and baleSizeAttributes.maxDiameter or baleSizeAttributes.maxLength\n\n        if returnValues = = nil or not returnValues then\n            local unit = g_i18n:getText( "unit_cmShort" )\n            local size\n            if maxValue ~ = minValue then\n                size = string.format( "%d%s-%d%s" , minValue * 100 , unit, maxValue * 100 , unit)\n            else\n                    size = string.format( "%d%s" , minValue * 100 , unit)\n                end\n\n                return size\n            else\n                    if returnRange = = true and maxValue ~ = minValue then\n                        return minValue * 100 , maxValue * 100 , g_i18n:getText( "unit_cmShort" )\n                    else\n                            return minValue * 100 , g_i18n:getText( "unit_cmShort" )\n                        end\n                    end\n                else\n                        if returnValues and returnRange then\n                            return 0 , 0 , ""\n                        elseif returnValues then\n                                return 0 , ""\n                            else\n                                    return ""\n                                end\n                            end\n                        end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"getspecvaluebalesizeround",children:"getSpecValueBaleSizeRound"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getSpecValueBaleSizeRound()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"storeItem"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"realItem"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"configurations"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"saleItem"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"returnValues"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"returnRange"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleWrapper.getSpecValueBaleSizeRound(storeItem, realItem, configurations, saleItem, returnValues, returnRange)\n    if storeItem.specs.baleWrapperBaleSizeRound ~ = nil then\n        return BaleWrapper.getSpecValueBaleSize(storeItem, realItem, configurations, saleItem, returnValues, returnRange, true )\n    end\n\n    return nil\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getspecvaluebalesizesquare",children:"getSpecValueBaleSizeSquare"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getSpecValueBaleSizeSquare()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"storeItem"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"realItem"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"configurations"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"saleItem"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"returnValues"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"returnRange"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleWrapper.getSpecValueBaleSizeSquare(storeItem, realItem, configurations, saleItem, returnValues, returnRange)\n    if storeItem.specs.baleWrapperBaleSizeSquare ~ = nil then\n        return BaleWrapper.getSpecValueBaleSize(storeItem, realItem, configurations, saleItem, returnValues, returnRange, false )\n    end\n\n    return nil\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getstandalonemotorload",children:"getStandaloneMotorLoad"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getStandaloneMotorLoad()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleWrapper:getStandaloneMotorLoad(superFunc)\n    local loadFactorSum, numLoadFactors = superFunc( self )\n\n    local loadFactor = 0\n    local spec = self.spec_baleWrapper\n    if spec.baleWrapperState ~ = BaleWrapper.STATE_NONE then\n        if spec.baleWrapperState = = BaleWrapper.STATE_WRAPPER_WRAPPING_BALE then\n            loadFactor = 1\n        elseif spec.baleWrapperState ~ = BaleWrapper.STATE_WRAPPER_FINSIHED then\n                loadFactor = 0.5\n            end\n        end\n\n        loadFactorSum = loadFactorSum + loadFactor\n        numLoadFactors = numLoadFactors + 1\n\n        return loadFactorSum, numLoadFactors\n    end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getstandalonemotortargetrpm",children:"getStandaloneMotorTargetRpm"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getStandaloneMotorTargetRpm()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleWrapper:getStandaloneMotorTargetRpm(superFunc)\n    local rpmFactor = 0\n    local spec = self.spec_baleWrapper\n    if spec.baleWrapperState ~ = BaleWrapper.STATE_NONE then\n        if spec.baleWrapperState = = BaleWrapper.STATE_WRAPPER_WRAPPING_BALE then\n            rpmFactor = 1\n        elseif spec.baleWrapperState ~ = BaleWrapper.STATE_WRAPPER_FINSIHED then\n                rpmFactor = 0.5\n            end\n        end\n\n        return math.max(superFunc( self ), rpmFactor)\n    end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"initspecialization",children:"initSpecialization"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"initSpecialization()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function BaleWrapper.initSpecialization()\n    g_vehicleConfigurationManager:addConfigurationType( "wrappingColor" , g_i18n:getText( "configuration_wrappingColor" ), nil , VehicleConfigurationItemColor )\n    g_vehicleConfigurationManager:addConfigurationType( "wrappingAnimation" , g_i18n:getText( "configuration_wrappingAnimation" ), "baleWrapper" , VehicleConfigurationItem )\n\n    g_storeManager:addSpecType( "baleWrapperBaleSizeRound" , "shopListAttributeIconBaleWrapperBaleSizeRound" , BaleWrapper.loadSpecValueBaleSizeRound, BaleWrapper.getSpecValueBaleSizeRound, StoreSpecies.VEHICLE)\n    g_storeManager:addSpecType( "baleWrapperBaleSizeSquare" , "shopListAttributeIconBaleWrapperBaleSizeSquare" , BaleWrapper.loadSpecValueBaleSizeSquare, BaleWrapper.getSpecValueBaleSizeSquare, StoreSpecies.VEHICLE)\n\n    local schema = Vehicle.xmlSchema\n    schema:setXMLSpecializationType( "BaleWrapper" )\n\n    schema:register(XMLValueType.FLOAT, "vehicle.baleWrapper#foldMinLimit" , "Fold min limit(Allow grabbing if folding is between these values)" , 0 )\n        schema:register(XMLValueType.FLOAT, "vehicle.baleWrapper#foldMaxLimit" , "Fold max limit(Allow grabbing if folding is between these values)" , 1 )\n            schema:register(XMLValueType.NODE_INDEX, "vehicle.baleWrapper.grabber#node" , "Grabber node" )\n            schema:register(XMLValueType.NODE_INDEX, "vehicle.baleWrapper.grabber#triggerNode" , "Grabber trigger node" )\n            schema:register(XMLValueType.FLOAT, "vehicle.baleWrapper.grabber#nearestDistance" , "Distance to bale to grab it" , 3.0 )\n\n            schema:register(XMLValueType.BOOL, "vehicle.baleWrapper.automaticDrop#enabled" , "Automatic drop" , "true on mobile" )\n            schema:register(XMLValueType.BOOL, "vehicle.baleWrapper.automaticDrop#toggleable" , "Automatic bale drop can be toggled" , "false on mobile" )\n            schema:register(XMLValueType.L10N_STRING, "vehicle.baleWrapper.automaticDrop#textPos" , "Positive toggle automatic drop text" , "action_toggleAutomaticBaleDropPos" )\n            schema:register(XMLValueType.L10N_STRING, "vehicle.baleWrapper.automaticDrop#textNeg" , "Negative toggle automatic drop text" , "action_toggleAutomaticBaleDropNeg" )\n\n            BaleWrapper.registerWrapperXMLPaths(schema, "vehicle.baleWrapper.roundBaleWrapper" )\n            BaleWrapper.registerWrapperXMLPaths(schema, "vehicle.baleWrapper.squareBaleWrapper" )\n\n            local configKey = "vehicle.baleWrapper.wrappingAnimationConfigurations.wrappingAnimationConfiguration(?)"\n            for i = 1 , # BaleWrapper.ANIMATION_NAMES do\n                BaleWrapper.registerWrapperAnimationXMLPaths(schema, configKey .. ".roundBaleWrapper" , BaleWrapper.ANIMATION_NAMES[i])\n                BaleWrapper.registerWrapperAnimationXMLPaths(schema, configKey .. ".roundBaleWrapper.baleTypes.baleType(?)" , BaleWrapper.ANIMATION_NAMES[i])\n                BaleWrapper.registerWrapperAnimationXMLPaths(schema, configKey .. ".squareBaleWrapper" , BaleWrapper.ANIMATION_NAMES[i])\n                BaleWrapper.registerWrapperAnimationXMLPaths(schema, configKey .. ".squareBaleWrapper.baleTypes.baleType(?)" , BaleWrapper.ANIMATION_NAMES[i])\n            end\n\n            schema:setXMLSpecializationType()\n\n            local schemaSavegame = Vehicle.xmlSchemaSavegame\n            schemaSavegame:register(XMLValueType.FLOAT, "vehicles.vehicle(?).baleWrapper#wrapperTime" , "Bale wrapping time" , 0 )\n            Bale.registerSavegameXMLPaths(schemaSavegame, "vehicles.vehicle(?).baleWrapper.bale" )\n        end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"loadspecvaluebalesize",children:"loadSpecValueBaleSize"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"loadSpecValueBaleSize()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"xmlFile"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"customEnvironment"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"baseDir"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"roundBaleWrapper"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function BaleWrapper.loadSpecValueBaleSize(xmlFile, customEnvironment, baseDir, roundBaleWrapper)\n    local rootName = xmlFile:getRootName()\n\n    local wrapperName = roundBaleWrapper and "roundBaleWrapper" or "squareBaleWrapper"\n\n    local baleSizeAttributes = { }\n    baleSizeAttributes.minDiameter, baleSizeAttributes.maxDiameter = math.huge, - math.huge\n    baleSizeAttributes.minLength, baleSizeAttributes.maxLength = math.huge, - math.huge\n    xmlFile:iterate(rootName .. ".baleWrapper." .. wrapperName .. ".baleTypes.baleType" , function (_, key)\n        if not xmlFile:getValue(key .. "#skipWrapping" , false ) then\n            local diameter = MathUtil.round(xmlFile:getValue(key .. "#diameter" , 0 ), 2 )\n            baleSizeAttributes.minDiameter = math.min(baleSizeAttributes.minDiameter, diameter)\n            baleSizeAttributes.maxDiameter = math.max(baleSizeAttributes.maxDiameter, diameter)\n\n            local length = MathUtil.round(xmlFile:getValue(key .. "#length" , 0 ), 2 )\n            baleSizeAttributes.minLength = math.min(baleSizeAttributes.minLength, length)\n            baleSizeAttributes.maxLength = math.max(baleSizeAttributes.maxLength, length)\n        end\n    end )\n\n    if baleSizeAttributes.minDiameter ~ = math.huge or baleSizeAttributes.minLength ~ = math.huge then\n        return baleSizeAttributes\n    end\n\n    return nil\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"loadspecvaluebalesizeround",children:"loadSpecValueBaleSizeRound"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"loadSpecValueBaleSizeRound()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"xmlFile"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"customEnvironment"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"baseDir"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleWrapper.loadSpecValueBaleSizeRound(xmlFile, customEnvironment, baseDir)\n    return BaleWrapper.loadSpecValueBaleSize(xmlFile, customEnvironment, baseDir, true )\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"loadspecvaluebalesizesquare",children:"loadSpecValueBaleSizeSquare"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"loadSpecValueBaleSizeSquare()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"xmlFile"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"customEnvironment"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"baseDir"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleWrapper.loadSpecValueBaleSizeSquare(xmlFile, customEnvironment, baseDir)\n    return BaleWrapper.loadSpecValueBaleSize(xmlFile, customEnvironment, baseDir, false )\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"loadwrapperanimationnodesfromxml",children:"loadWrapperAnimationNodesFromXML"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"loadWrapperAnimationNodesFromXML()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"target"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"xmlFile"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"baseKey"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"animTime"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function BaleWrapper:loadWrapperAnimationNodesFromXML(target, xmlFile, baseKey, animTime)\n    local maxTime = xmlFile:getValue(baseKey .. ".wrappingAnimationNodes#maxTime" , animTime / 1000 )\n\n    target.wrappingAnimationNodes = { }\n    target.wrappingAnimationNodes.nodes = { }\n    target.wrappingAnimationNodes.nodeToRootNode = { }\n\n    xmlFile:iterate(baseKey .. ".wrappingAnimationNodes.key" , function (index, wrappingAnimationNodeKey)\n        local time = xmlFile:getValue(wrappingAnimationNodeKey .. "#time" )\n        local nodeId = xmlFile:getValue(wrappingAnimationNodeKey .. "#node" , nil , self.components, self.i3dMappings)\n        local rootNode = xmlFile:getValue(wrappingAnimationNodeKey .. "#rootNode" , nil , self.components, self.i3dMappings)\n        local linkNode = xmlFile:getValue(wrappingAnimationNodeKey .. "#linkNode" , nil , self.components, self.i3dMappings)\n\n        if time ~ = nil and nodeId ~ = nil then\n            local entry = { }\n            entry.time = time / maxTime\n            entry.nodeId = nodeId\n            entry.linkNode = linkNode\n            entry.parent = getParent(nodeId)\n\n            entry.translation = xmlFile:getValue(wrappingAnimationNodeKey .. "#translation" , nil , true )\n            if entry.translation = = nil then\n                Logging.xmlWarning(xmlFile, "Missing values for \'%s\'" , wrappingAnimationNodeKey .. "#translation" )\n                    return\n                end\n\n                if rootNode ~ = nil then\n                    target.wrappingAnimationNodes.nodeToRootNode[nodeId] = rootNode\n                end\n\n                table.insert(target.wrappingAnimationNodes.nodes, entry)\n            end\n        end )\n\n        -- set start translations in a second loop since we link some of the nodes and this would break the index paths\n        for j = 1 , #target.wrappingAnimationNodes.nodes do\n            local wrappingAnimationNode = target.wrappingAnimationNodes.nodes[j]\n            if wrappingAnimationNode.time = = 0 then\n                setTranslation(wrappingAnimationNode.nodeId, unpack(wrappingAnimationNode.translation))\n\n                if wrappingAnimationNode.linkNode ~ = nil then\n                    local x, y, z = localToWorld(wrappingAnimationNode.parent, unpack(wrappingAnimationNode.translation))\n                    link(wrappingAnimationNode.linkNode, wrappingAnimationNode.nodeId)\n                    setWorldTranslation(wrappingAnimationNode.nodeId, x, y, z)\n                end\n            end\n        end\n\n        target.wrappingAnimationNodes.referenceNode = xmlFile:getValue(baseKey .. ".wrappingAnimationNodes#referenceNode" , nil , self.components, self.i3dMappings)\n        target.wrappingAnimationNodes.referenceAxis = xmlFile:getValue(baseKey .. ".wrappingAnimationNodes#referenceAxis" , 2 )\n        target.wrappingAnimationNodes.referenceMinRot = xmlFile:getValue(baseKey .. ".wrappingAnimationNodes#minRot" , 0 )\n        target.wrappingAnimationNodes.referenceMaxRot = xmlFile:getValue(baseKey .. ".wrappingAnimationNodes#maxRot" , 0 )\n        if target.wrappingAnimationNodes.referenceNode ~ = nil then\n            target.wrappingAnimationNodes.referenceNodeRotation = { getRotation(target.wrappingAnimationNodes.referenceNode) }\n        end\n        target.wrappingAnimationNodes.lastTime = - 1\n\n        target.wrappingAnimationNodes.currentIndex = 0\n    end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"loadwrapperanimationsfromxml",children:"loadWrapperAnimationsFromXML"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"loadWrapperAnimationsFromXML()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"target"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"xmlFile"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"baseKey"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"configKey"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"animationsKey"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"parentAnimations"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function BaleWrapper:loadWrapperAnimationsFromXML(target, xmlFile, baseKey, configKey, animationsKey, parentAnimations)\n    target.animations = { }\n    if parentAnimations ~ = nil then\n        setmetatable(target.animations, { __index = parentAnimations } )\n    end\n\n    for i = 1 , # BaleWrapper.ANIMATION_NAMES do\n        local animType = BaleWrapper.ANIMATION_NAMES[i]\n\n        local key = baseKey .. animationsKey .. "." .. animType\n        local configTypeKey = configKey .. animationsKey .. "." .. animType\n        if xmlFile:hasProperty(configTypeKey) then\n            key = configTypeKey\n        end\n\n        local anim = { }\n        anim.animName = xmlFile:getValue(key .. "#animName" )\n        anim.animSpeed = xmlFile:getValue(key .. "#animSpeed" , 1 )\n        anim.reverseAfterMove = xmlFile:getValue(key .. "#reverseAfterMove" , true )\n\n        if xmlFile:getValue(key .. "#resetOnStart" , false ) then\n            self:playAnimation(anim.animName, - 1 , 0.1 , true )\n            AnimatedVehicle.updateAnimationByName( self , anim.animName, 9999999 , true )\n        end\n\n        if parentAnimations = = nil or anim.animName ~ = nil then\n            target.animations[animType] = anim\n        end\n    end\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"loadwrapperanimcurvefromxml",children:"loadWrapperAnimCurveFromXML"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"loadWrapperAnimCurveFromXML()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"target"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"xmlFile"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"baseKey"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function BaleWrapper:loadWrapperAnimCurveFromXML(target, xmlFile, baseKey)\n    target.animCurve = AnimCurve.new(linearInterpolatorN)\n    xmlFile:iterate(baseKey .. "wrapperAnimation.key" , function (index, key)\n        local t = xmlFile:getValue(key .. "#time" )\n        local baleX, baleY, baleZ = xmlFile:getValue(key .. "#baleRot" )\n        if baleX = = nil or baleY = = nil or baleZ = = nil then\n            return false -- stop iteration\n        end\n\n        local wrapperX, wrapperY, wrapperZ = xmlFile:getValue(key .. "#wrapperRot" , "0 0 0" )\n        target.animCurve:addKeyframe( { baleX, baleY, baleZ, wrapperX, wrapperY, wrapperZ, time = t } )\n\n        return\n    end )\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"loadwrapperanimnodesfromxml",children:"loadWrapperAnimNodesFromXML"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"loadWrapperAnimNodesFromXML()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"target"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"xmlFile"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"baseKey"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function BaleWrapper:loadWrapperAnimNodesFromXML(target, xmlFile, baseKey)\n    target.wrapAnimNodes = { }\n    xmlFile:iterate(baseKey .. ".wrapAnimNodes.wrapAnimNode" , function (index, key)\n        XMLUtil.checkDeprecatedXMLElements( self.xmlFile, key .. "#index" , key .. "#node" ) --FS19 to FS22\n\n        local wrapAnimNode = { }\n        wrapAnimNode.nodeId = xmlFile:getValue(key .. "#node" , nil , self.components, self.i3dMappings)\n        if wrapAnimNode.nodeId ~ = nil then\n            wrapAnimNode.useWrapperRot = false\n            wrapAnimNode.animCurve = AnimCurve.new(linearInterpolatorN)\n\n            local numKeyframes = 0\n            xmlFile:iterate(key .. ".key" , function (_, nodeKey)\n                local wrapperRot = xmlFile:getValue(nodeKey .. "#wrapperRot" )\n                local wrapperTime = xmlFile:getValue(nodeKey .. "#wrapperTime" )\n                if wrapperRot = = nil and wrapperTime = = nil then\n                    return false -- stop iteration\n                end\n                wrapAnimNode.useWrapperRot = wrapperRot ~ = nil\n\n                local x, y, z = xmlFile:getValue(nodeKey .. "#trans" , "0 0 0" )\n                local rx, ry, rz = xmlFile:getValue(nodeKey .. "#rot" , "0 0 0" )\n                local sx, sy, sz = xmlFile:getValue(nodeKey .. "#scale" , "1 1 1" )\n\n                if wrapperRot ~ = nil then\n                    wrapAnimNode.animCurve:addKeyframe( { x, y, z, rx, ry, rz, sx, sy, sz, time = math.rad(wrapperRot) } )\n                else\n                        wrapAnimNode.animCurve:addKeyframe( { x, y, z, rx, ry, rz, sx, sy, sz, time = wrapperTime } )\n                    end\n\n                    numKeyframes = numKeyframes + 1\n\n                    return\n                end )\n\n                if numKeyframes > 0 then\n                    wrapAnimNode.repeatWrapperRot = xmlFile:getValue(key .. "#repeatWrapperRot" , false )\n                    wrapAnimNode.normalizeRotationOnBaleDrop = xmlFile:getValue(key .. "#normalizeRotationOnBaleDrop" , 0 )\n                    table.insert(target.wrapAnimNodes, wrapAnimNode)\n                end\n            end\n        end )\n    end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"loadwrapperfoilanimationfromxml",children:"loadWrapperFoilAnimationFromXML"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"loadWrapperFoilAnimationFromXML()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"target"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"xmlFile"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"baseKey"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"isDefault"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function BaleWrapper:loadWrapperFoilAnimationFromXML(target, xmlFile, baseKey, isDefault)\n    local wrappingFoilAnimation = { }\n    wrappingFoilAnimation.referenceNode = xmlFile:getValue(baseKey .. ".wrappingFoilAnimation#referenceNode" , nil , self.components, self.i3dMappings)\n    if wrappingFoilAnimation.referenceNode ~ = nil then\n        wrappingFoilAnimation.referenceAxis = xmlFile:getValue(baseKey .. ".wrappingFoilAnimation#referenceAxis" , 2 )\n        wrappingFoilAnimation.referenceMinRot = xmlFile:getValue(baseKey .. ".wrappingFoilAnimation#minRot" , 0 )\n        wrappingFoilAnimation.referenceMaxRot = xmlFile:getValue(baseKey .. ".wrappingFoilAnimation#maxRot" , 0 )\n        wrappingFoilAnimation.referenceNodeRotation = { 0 , 0 , 0 }\n\n        wrappingFoilAnimation.clipNode = xmlFile:getValue(baseKey .. ".wrappingFoilAnimation#clipNode" , nil , self.components, self.i3dMappings)\n        if wrappingFoilAnimation.clipNode ~ = nil then\n            wrappingFoilAnimation.animationClip = xmlFile:getValue(baseKey .. ".wrappingFoilAnimation#clipName" )\n            if wrappingFoilAnimation.animationClip ~ = nil then\n                wrappingFoilAnimation.animationCharSet = getAnimCharacterSet(wrappingFoilAnimation.clipNode)\n                if wrappingFoilAnimation.animationCharSet ~ = 0 then\n                    wrappingFoilAnimation.animationClipIndex = getAnimClipIndex(wrappingFoilAnimation.animationCharSet, wrappingFoilAnimation.animationClip)\n                    if wrappingFoilAnimation.animationClipIndex > = 0 then\n                        wrappingFoilAnimation.animationClipDuration = getAnimClipDuration(wrappingFoilAnimation.animationCharSet, wrappingFoilAnimation.animationClipIndex)\n\n                        if isDefault then\n                            clearAnimTrackClip(wrappingFoilAnimation.animationCharSet, 0 )\n                            assignAnimTrackClip(wrappingFoilAnimation.animationCharSet, 0 , wrappingFoilAnimation.animationClipIndex)\n\n                            enableAnimTrack(wrappingFoilAnimation.animationCharSet, 0 )\n                            setAnimTrackTime(wrappingFoilAnimation.animationCharSet, 0 , 0 , true )\n                            disableAnimTrack(wrappingFoilAnimation.animationCharSet, 0 )\n                        end\n\n                        wrappingFoilAnimation.lastTime = 0\n\n                        target.wrappingFoilAnimation = wrappingFoilAnimation\n                    else\n                            Logging.xmlWarning( self.xmlFile, "Unable to find animation clip \'%s\' on node \'%s\' in \'%s\'" , wrappingFoilAnimation.animationClip, getName(wrappingFoilAnimation.clipNode), baseKey .. ".wrappingFoilAnimation" )\n                        end\n                    else\n                            Logging.xmlWarning( self.xmlFile, "Unable to find animation clip \'%s\' on node \'%s\' in \'%s\'" , wrappingFoilAnimation.animationClip, getName(wrappingFoilAnimation.clipNode), baseKey .. ".wrappingFoilAnimation" )\n                        end\n                    else\n                            Logging.xmlWarning( self.xmlFile, "Missing clipName for foil animation \'%s\'" , baseKey .. ".wrappingFoilAnimation" )\n                            end\n                        else\n                                Logging.xmlWarning( self.xmlFile, "Missing clipNode for foil animation \'%s\'" , baseKey .. ".wrappingFoilAnimation" )\n                                end\n                            end\n                        end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"loadwrapperfromxml",children:"loadWrapperFromXML"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"loadWrapperFromXML()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"wrapper"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"xmlFile"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"baseKey"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"wrapperName"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function BaleWrapper:loadWrapperFromXML(wrapper, xmlFile, baseKey, wrapperName)\n    local spec = self.spec_baleWrapper\n    local isRoundBaleWrapper = wrapper = = spec.roundBaleWrapper\n\n    local wrappingAnimationConfig = Utils.getNoNil( self.configurations[ "wrappingAnimation" ], 1 )\n    local configKey = string.format( "vehicle.baleWrapper.wrappingAnimationConfigurations.wrappingAnimationConfiguration(%d)" , wrappingAnimationConfig - 1 )\n\n    self:loadWrapperAnimationsFromXML(wrapper, xmlFile, baseKey, configKey, "." .. wrapperName .. ".animations" )\n\n    wrapper.defaultAnimations = wrapper.animations\n\n    baseKey = baseKey .. "." .. wrapperName\n\n    wrapper.baleNode = xmlFile:getValue(baseKey .. "#baleNode" , nil , self.components, self.i3dMappings)\n    wrapper.wrapperNode = xmlFile:getValue(baseKey .. "#wrapperNode" , nil , self.components, self.i3dMappings)\n    wrapper.wrapperRotAxis = xmlFile:getValue(baseKey .. "#wrapperRotAxis" , 2 )\n\n    wrapper.animTime = xmlFile:getValue(baseKey .. "#wrappingTime" , 5 ) * 1000\n    wrapper.currentTime = 0\n    wrapper.currentBale = nil\n\n    wrapper.allowedBaleTypes = { }\n    xmlFile:iterate(baseKey .. ".baleTypes.baleType" , function (index, key)\n        XMLUtil.checkDeprecatedXMLElements( self.xmlFile, key .. "#fillType" ) --FS19 to FS22\n        XMLUtil.checkDeprecatedXMLElements( self.xmlFile, key .. "#wrapperBaleFilename" ) --FS19 to FS22\n        XMLUtil.checkDeprecatedXMLElements( self.xmlFile, key .. "#minBaleDiameter" , key .. "#diameter" ) --FS19 to FS22\n        XMLUtil.checkDeprecatedXMLElements( self.xmlFile, key .. "#maxBaleDiameter" , key .. "#diameter" ) --FS19 to FS22\n        XMLUtil.checkDeprecatedXMLElements( self.xmlFile, key .. "#minBaleWidth" , key .. "#width" ) --FS19 to FS22\n        XMLUtil.checkDeprecatedXMLElements( self.xmlFile, key .. "#maxBaleWidth" , key .. "#width" ) --FS19 to FS22\n        XMLUtil.checkDeprecatedXMLElements( self.xmlFile, key .. "#minBaleHeight" , key .. "#height" ) --FS19 to FS22\n        XMLUtil.checkDeprecatedXMLElements( self.xmlFile, key .. "#maxBaleHeight" , key .. "#height" ) --FS19 to FS22\n        XMLUtil.checkDeprecatedXMLElements( self.xmlFile, key .. "#minBaleLength" , key .. "#length" ) --FS19 to FS22\n        XMLUtil.checkDeprecatedXMLElements( self.xmlFile, key .. "#maxBaleLength" , key .. "#length" ) --FS19 to FS22\n\n        local baleType = { }\n        baleType.diameter = MathUtil.round(xmlFile:getValue(key .. "#diameter" , 0 ), 2 )\n        baleType.width = MathUtil.round(xmlFile:getValue(key .. "#width" , 0 ), 2 )\n        baleType.height = MathUtil.round(xmlFile:getValue(key .. "#height" , 0 ), 2 )\n        baleType.length = MathUtil.round(xmlFile:getValue(key .. "#length" , 0 ), 2 )\n\n        baleType.wrapDiffuse = xmlFile:getValue(key .. ".textures#diffuse" )\n        if baleType.wrapDiffuse ~ = nil then\n            baleType.wrapDiffuse = Utils.getFilename(baleType.wrapDiffuse, self.baseDirectory)\n\n            if baleType.wrapDiffuse ~ = nil then\n                if not textureFileExists(baleType.wrapDiffuse) then\n                    Logging.xmlWarning( self.xmlFile, "Bale wrap diffuse map \'%s\' does not exist." , baleType.wrapDiffuse)\n                    baleType.wrapDiffuse = nil\n                end\n            end\n        end\n\n        baleType.wrapNormal = xmlFile:getValue(key .. ".textures#normal" )\n        if baleType.wrapNormal ~ = nil then\n            baleType.wrapNormal = Utils.getFilename(baleType.wrapNormal, self.baseDirectory)\n\n            if baleType.wrapNormal ~ = nil then\n                if not textureFileExists(baleType.wrapNormal) then\n                    Logging.xmlWarning( self.xmlFile, "Bale wrap normal map \'%s\' does not exist." , baleType.wrapNormal)\n                    baleType.wrapNormal = nil\n                end\n            end\n        end\n\n        self:loadWrapperAnimationsFromXML(baleType, xmlFile, key, string.format( "%s.%s.baleTypes.baleType(%d)" , configKey, wrapperName, index - 1 ), ".animations" , wrapper.animations)\n        self:loadWrapperFoilAnimationFromXML(baleType, xmlFile, key)\n\n        baleType.changeObjects = { }\n        ObjectChangeUtil.loadObjectChangeFromXML( self.xmlFile, key, baleType.changeObjects, self.components, self )\n\n        baleType.skipWrapping = xmlFile:getValue(key .. "#skipWrapping" , false )\n\n        baleType.forceWhileFolding = xmlFile:getValue(key .. "#forceWhileFolding" , false )\n        if baleType.forceWhileFolding then\n            spec.foldedBaleType = { isRoundBaleWrapper = isRoundBaleWrapper, baleTypeIndex = index }\n        end\n\n        baleType.wrapUsage = xmlFile:getValue(key .. "#wrapUsage" , 0.1 ) / wrapper.animTime\n\n        self:loadWrapperStateCurveFromXML(baleType, xmlFile, key)\n\n        baleType.dropAnimations = { }\n\n        for _, dropAnimationKey in self.xmlFile:iterator(key .. ".dropAnimations.dropAnimation" ) do\n            local dropAnimation = { }\n            dropAnimation.name = xmlFile:getValue(dropAnimationKey .. "#name" )\n            dropAnimation.animSpeed = xmlFile:getValue(dropAnimationKey .. "#animSpeed" , 1 )\n            dropAnimation.text = xmlFile:getValue(dropAnimationKey .. "#text" , nil , self.customEnvironment, false )\n            dropAnimation.inputAction = xmlFile:getValue(dropAnimationKey .. "#inputAction" )\n            if dropAnimation.inputAction ~ = nil then\n                dropAnimation.inputAction = InputAction[dropAnimation.inputAction]\n            end\n            dropAnimation.liftOnDrop = xmlFile:getValue(dropAnimationKey .. "#liftOnDrop" , false )\n\n            table.insert(baleType.dropAnimations, dropAnimation)\n        end\n\n        table.insert(wrapper.allowedBaleTypes, baleType)\n    end )\n\n    self:loadWrapperAnimCurveFromXML(wrapper, xmlFile, baseKey)\n    self:loadWrapperAnimNodesFromXML(wrapper, xmlFile, baseKey)\n\n    self:loadWrapperWrapNodesFromXML(wrapper, xmlFile, baseKey)\n    self:loadWrapperStateCurveFromXML(wrapper, xmlFile, baseKey)\n    self:loadWrapperAnimationNodesFromXML(wrapper, xmlFile, baseKey, wrapper.animTime)\n    self:loadWrapperFoilAnimationFromXML(wrapper, xmlFile, baseKey, true )\n    wrapper.wrappingFoilAnimationDefault = wrapper.wrappingFoilAnimation\n\n    wrapper.dropArea = { }\n    wrapper.dropArea.node = self.xmlFile:getValue(baseKey .. ".dropArea#node" , nil , self.components, self.i3dMappings)\n    wrapper.dropArea.width = self.xmlFile:getValue(baseKey .. ".dropArea#width" , 1 )\n    wrapper.dropArea.height = self.xmlFile:getValue(baseKey .. ".dropArea#height" , 1 )\n    wrapper.dropArea.length = self.xmlFile:getValue(baseKey .. ".dropArea#length" , 1 )\n\n    wrapper.blockWrapArea = { }\n    wrapper.blockWrapArea.node = self.xmlFile:getValue(baseKey .. ".blockWrapArea#node" , nil , self.components, self.i3dMappings)\n    wrapper.blockWrapArea.width = self.xmlFile:getValue(baseKey .. ".blockWrapArea#width" , 1 )\n    wrapper.blockWrapArea.height = self.xmlFile:getValue(baseKey .. ".blockWrapArea#height" , 1 )\n    wrapper.blockWrapArea.length = self.xmlFile:getValue(baseKey .. ".blockWrapArea#length" , 1 )\n\n    local defaultText = (isRoundBaleWrapper and "action_unloadRoundBale" ) or "action_unloadSquareBale"\n    wrapper.unloadBaleText = xmlFile:getValue(baseKey .. "#unloadBaleText" , defaultText, self.customEnvironment)\n\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, baseKey .. "#skipWrappingFillTypes" , baseKey .. "#skipUnsupportedBales" ) --FS19 to FS22\n    wrapper.skipUnsupportedBales = self.xmlFile:getValue(baseKey .. "#skipUnsupportedBales" , false )\n\n    if self.isClient then\n        wrapper.samples = { }\n        wrapper.samples.wrap = g_soundManager:loadSamplesFromXML( self.xmlFile, baseKey .. ".sounds" , "wrap" , self.baseDirectory, self.components, 0 , AudioGroup.VEHICLE, self.i3dMappings, self )\n        wrapper.samples.start = g_soundManager:loadSamplesFromXML( self.xmlFile, baseKey .. ".sounds" , "start" , self.baseDirectory, self.components, 1 , AudioGroup.VEHICLE, self.i3dMappings, self )\n        wrapper.samples.stop = g_soundManager:loadSamplesFromXML( self.xmlFile, baseKey .. ".sounds" , "stop" , self.baseDirectory, self.components, 1 , AudioGroup.VEHICLE, self.i3dMappings, self )\n        wrapper.wrappingSoundEndTime = xmlFile:getValue(baseKey .. ".sounds#wrappingEndTime" , 1 )\n    end\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"loadwrapperstatecurvefromxml",children:"loadWrapperStateCurveFromXML"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"loadWrapperStateCurveFromXML()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"target"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"xmlFile"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"baseKey"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function BaleWrapper:loadWrapperStateCurveFromXML(target, xmlFile, baseKey)\n    target.wrappingStateCurve = AnimCurve.new(linearInterpolator1)\n    xmlFile:iterate(baseKey .. ".wrappingState.key" , function (index, key)\n        local t = xmlFile:getValue(key .. "#time" )\n        local wrappingState = xmlFile:getValue(key .. "#wrappingState" )\n\n        target.wrappingStateCurve:addKeyframe( { wrappingState, time = t } )\n    end )\n\n    if #target.wrappingStateCurve.keyframes = = 0 then\n        target.wrappingStateCurve = nil\n    end\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"loadwrapperwrapnodesfromxml",children:"loadWrapperWrapNodesFromXML"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"loadWrapperWrapNodesFromXML()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"target"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"xmlFile"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"baseKey"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function BaleWrapper:loadWrapperWrapNodesFromXML(target, xmlFile, baseKey)\n    target.wrapNodes = { }\n    xmlFile:iterate(baseKey .. ".wrapNodes.wrapNode" , function (index, key)\n        XMLUtil.checkDeprecatedXMLElements( self.xmlFile, key .. "#index" , key .. "#node" ) --FS19 to FS21\n\n        local wrapNode = { }\n        wrapNode.nodeId = xmlFile:getValue(key .. "#node" , nil , self.components, self.i3dMappings)\n        wrapNode.wrapVisibility = xmlFile:getValue(key .. "#wrapVisibility" , false )\n        wrapNode.emptyVisibility = xmlFile:getValue(key .. "#emptyVisibility" , false )\n        if wrapNode.nodeId ~ = nil and(wrapNode.wrapVisibility or wrapNode.emptyVisibility) then\n            wrapNode.maxWrapperRot = xmlFile:getValue(key .. "#maxWrapperRot" , math.huge)\n            table.insert(target.wrapNodes, wrapNode)\n        end\n    end )\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"onbalewrapperblockoverlapcallback",children:"onBaleWrapperBlockOverlapCallback"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onBaleWrapperBlockOverlapCallback()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"nodeId"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleWrapper:onBaleWrapperBlockOverlapCallback(nodeId)\n    local object = g_currentMission:getNodeObject(nodeId)\n    if object ~ = nil and object ~ = self then\n        local spec = self.spec_baleWrapper\n        local currentWrapper = spec.currentWrapper\n        if currentWrapper.currentBale ~ = nil then\n            if object = = NetworkUtil.getObject(currentWrapper.currentBale) then\n                return\n            end\n        end\n\n        spec.foundBlockOverlappingObject = true\n    end\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"onbalewrapperdropoverlapcallback",children:"onBaleWrapperDropOverlapCallback"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onBaleWrapperDropOverlapCallback()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"nodeId"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleWrapper:onBaleWrapperDropOverlapCallback(nodeId)\n    local object = g_currentMission:getNodeObject(nodeId)\n    if object ~ = nil and object ~ = self then\n        local spec = self.spec_baleWrapper\n        local currentWrapper = spec.currentWrapper\n        if currentWrapper.currentBale ~ = nil then\n            if object = = NetworkUtil.getObject(currentWrapper.currentBale) then\n                return\n            end\n        end\n\n        spec.foundDropOverlappingObject = true\n        spec.foundDropOverlappingObjectTime = g_ time\n    end\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"onconsumablevariationchanged",children:"onConsumableVariationChanged"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Called while the consumable variation changed on the consum slots"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onConsumableVariationChanged()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"variationIndex"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"metaData"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleWrapper:onConsumableVariationChanged(variationIndex, metaData)\n    if metaData.color ~ = nil then\n        local spec = self.spec_baleWrapper\n        spec.wrapColor[ 1 ] = metaData.color[ 1 ]\n        spec.wrapColor[ 2 ] = metaData.color[ 2 ]\n        spec.wrapColor[ 3 ] = metaData.color[ 3 ]\n    end\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"ondeactivate",children:"onDeactivate"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Called on deactivating"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onDeactivate()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleWrapper:onDeactivate()\n    local spec = self.spec_baleWrapper\n    spec.showInvalidBaleWarning = false\n    if self.isClient then\n        g_soundManager:stopSamples(spec.currentWrapper.samples.wrap )\n        g_soundManager:stopSamples(spec.currentWrapper.samples.start)\n        g_soundManager:stopSamples(spec.currentWrapper.samples.stop)\n    end\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"ondelete",children:"onDelete"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Called on deleting"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onDelete()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleWrapper:onDelete()\n    local spec = self.spec_baleWrapper\n\n    local baleId\n    if spec.currentWrapper ~ = nil and spec.currentWrapper.currentBale ~ = nil then\n        baleId = spec.currentWrapper.currentBale\n    end\n    if spec.baleGrabber ~ = nil and spec.baleGrabber.currentBale ~ = nil then\n        baleId = spec.baleGrabber.currentBale\n    end\n    if baleId ~ = nil then\n        local bale = NetworkUtil.getObject(baleId)\n        if bale ~ = nil then\n            if self.isServer then\n                if self.isReconfigurating = = nil or not self.isReconfigurating then\n                    -- unmount bale if wrapper is sold\n                        bale:unmountKinematic()\n                        bale:setNeedsSaving( true )\n                        bale:setCanBeSold( true )\n                    else\n                            -- delete bale if reloaded since a new bale is spawned on load\n                                bale:delete()\n                            end\n                        else\n                                -- on client side just unmount so the baleId is not delete before the bale object is deleted\n                                bale:unmountKinematic()\n                                bale:setNeedsSaving( true )\n                                bale:setCanBeSold( true )\n                            end\n                        end\n                    end\n\n                    if spec.baleGrabber ~ = nil and spec.baleGrabber.triggerNode ~ = nil then\n                        removeTrigger(spec.baleGrabber.triggerNode)\n                    end\n\n                    if spec.roundBaleWrapper ~ = nil then\n                        g_soundManager:deleteSamples(spec.roundBaleWrapper.samples.wrap )\n                        g_soundManager:deleteSamples(spec.roundBaleWrapper.samples.start)\n                        g_soundManager:deleteSamples(spec.roundBaleWrapper.samples.stop)\n                    end\n                    if spec.squareBaleWrapper ~ = nil then\n                        g_soundManager:deleteSamples(spec.squareBaleWrapper.samples.wrap )\n                        g_soundManager:deleteSamples(spec.squareBaleWrapper.samples.start)\n                        g_soundManager:deleteSamples(spec.squareBaleWrapper.samples.stop)\n                    end\n                end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"ondraw",children:"onDraw"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Called on draw"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onDraw()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"isActiveForInput"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"isActiveForInputIgnoreSelection"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"isSelected"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleWrapper:onDraw(isActiveForInput, isActiveForInputIgnoreSelection, isSelected)\n    if self.isClient then\n        local spec = self.spec_baleWrapper\n        if spec.showInvalidBaleWarning then\n            g_currentMission:showBlinkingWarning(spec.texts.warningBaleNotSupported, 500 )\n        elseif spec.baleDropBlockedWarning ~ = nil then\n                g_currentMission:showBlinkingWarning(spec.baleDropBlockedWarning, 500 )\n            end\n        end\n    end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"onfoldstatechanged",children:"onFoldStateChanged"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Called while folding state changes"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onFoldStateChanged()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"direction"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"moveToMiddle"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleWrapper:onFoldStateChanged(direction, moveToMiddle)\n    local spec = self.spec_baleWrapper\n    if spec.foldedBaleType ~ = nil then\n        if self.spec_foldable.turnOnFoldDirection ~ = direction then\n            self:setBaleWrapperType(spec.foldedBaleType.isRoundBaleWrapper, spec.foldedBaleType.baleTypeIndex)\n        end\n    end\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"onload",children:"onLoad"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Called on loading"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onLoad(table savegame)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"table"}),(0,i.jsx)(n.th,{children:"savegame"}),(0,i.jsx)(n.th,{children:"savegame"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function BaleWrapper:onLoad(savegame)\n    local spec = self.spec_baleWrapper\n\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.wrapper" , "vehicle.baleWrapper" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.baleGrabber" , "vehicle.baleWrapper.grabber" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.baleWrapper.grabber#index" , "vehicle.baleWrapper.grabber#node" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.baleWrapper.grabber#index" , "vehicle.baleWrapper.grabber#node" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.baleWrapper.roundBaleWrapper#baleIndex" , "vehicle.baleWrapper.roundBaleWrapper#baleNode" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.baleWrapper.roundBaleWrapper#wrapperIndex" , "vehicle.baleWrapper.roundBaleWrapper#wrapperNode" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.baleWrapper.squareBaleWrapper#baleIndex" , "vehicle.baleWrapper.squareBaleWrapper#baleNode" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.baleWrapper.squareBaleWrapper#wrapperIndex" , "vehicle.baleWrapper.squareBaleWrapper#wrapperNode" ) --FS17 to FS19\n\n    local baseKey = "vehicle.baleWrapper"\n\n    spec.roundBaleWrapper = { }\n    self:loadWrapperFromXML(spec.roundBaleWrapper, self.xmlFile, baseKey, "roundBaleWrapper" )\n\n    spec.squareBaleWrapper = { }\n    self:loadWrapperFromXML(spec.squareBaleWrapper, self.xmlFile, baseKey, "squareBaleWrapper" )\n\n    spec.currentWrapper = { }\n    spec.currentWrapperFoldMinLimit = self.xmlFile:getValue(baseKey .. "#foldMinLimit" , 0 )\n    spec.currentWrapperFoldMaxLimit = self.xmlFile:getValue(baseKey .. "#foldMaxLimit" , 1 )\n\n    spec.currentWrapper = spec.roundBaleWrapper\n    self:updateWrapNodes( false , true , 0 )\n    spec.currentWrapper = spec.squareBaleWrapper\n    self:updateWrapNodes( false , true , 0 )\n\n    spec.currentBaleTypeIndex = 1\n\n    if spec.roundBaleWrapper.baleNode ~ = nil then\n        self:setBaleWrapperType( true , 1 )\n    elseif spec.squareBaleWrapper.baleNode ~ = nil then\n            self:setBaleWrapperType( false , 1 )\n        end\n\n        spec.baleGrabber = { }\n        spec.baleGrabber.grabNode = self.xmlFile:getValue(baseKey .. ".grabber#node" , nil , self.components, self.i3dMappings)\n        spec.baleGrabber.triggerNode = self.xmlFile:getValue(baseKey .. ".grabber#triggerNode" , nil , self.components, self.i3dMappings)\n        if spec.baleGrabber.triggerNode = = nil then\n            Logging.xmlWarning( self.xmlFile, "Missing bale grab trigger node \'%s\'.This is required for all bale wrappers." , baseKey .. ".grabber#triggerNode" )\n            else\n                    addTrigger(spec.baleGrabber.triggerNode, "baleGrabberTriggerCallback" , self )\n                end\n\n                spec.baleGrabber.nearestDistance = self.xmlFile:getValue(baseKey .. ".grabber#nearestDistance" , 3.0 )\n                spec.baleGrabber.balesInTrigger = { }\n\n                spec.baleToLoad = nil\n                spec.baleToMount = nil\n                spec.baleWrapperState = BaleWrapper.STATE_NONE\n                spec.grabberIsMoving = false\n                spec.hasBaleWrapper = true\n                spec.wrapColor = { 1 , 1 , 1 }\n                spec.showInvalidBaleWarning = false\n                spec.baleDropBlockedWarning = nil\n                spec.dropAnimationIndex = 1\n\n                spec.foundDropOverlappingObject = false\n                spec.foundDropOverlappingObjectTime = - math.huge\n                spec.foundBlockOverlappingObject = false\n\n                spec.automaticDrop = self.xmlFile:getValue( "vehicle.baleWrapper.automaticDrop#enabled" , Platform.gameplay.automaticBaleDrop)\n                spec.toggleableAutomaticDrop = self.xmlFile:getValue( "vehicle.baleWrapper.automaticDrop#toggleable" , not Platform.gameplay.automaticBaleDrop)\n                spec.toggleAutomaticDropTextPos = self.xmlFile:getValue( "vehicle.baleWrapper.automaticDrop#textPos" , "action_toggleAutomaticBaleDropPos" , self.customEnvironment)\n                spec.toggleAutomaticDropTextNeg = self.xmlFile:getValue( "vehicle.baleWrapper.automaticDrop#textNeg" , "action_toggleAutomaticBaleDropNeg" , self.customEnvironment)\n\n                spec.texts = { }\n                spec.texts.warningFoldingWrapping = g_i18n:getText( "warning_foldingNotWhileWrapping" )\n                spec.texts.warningBaleNotSupported = g_i18n:getText( "warning_baleNotSupported" )\n                spec.texts.warningDropAreaBlocked = g_i18n:getText( "warning_baleWrapperDropAreaBlocked" )\n            end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"onloadfinished",children:"onLoadFinished"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Called after vehicle was added to physics"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onLoadFinished(table savegame)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"table"}),(0,i.jsx)(n.th,{children:"savegame"}),(0,i.jsx)(n.th,{children:"savegame"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function BaleWrapper:onLoadFinished(savegame)\n    local spec = self.spec_baleWrapper\n\n    if spec.baleToLoad ~ = nil then\n        local v = spec.baleToLoad\n        spec.baleToLoad = nil\n\n        local baleObject = Bale.new( self.isServer, self.isClient)\n        local x, y, z = unpack(v.translation)\n        local rx, ry, rz = unpack(v.rotation)\n        if baleObject:loadFromConfigXML(v.filename, x, y, z, rx, ry, rz, v.attributes.uniqueId) then\n            baleObject:applyBaleAttributes(v.attributes)\n            baleObject:register()\n\n            if baleObject.nodeId ~ = nil and baleObject.nodeId ~ = 0 then\n                self:doStateChange( BaleWrapper.CHANGE_GRAB_BALE, NetworkUtil.getObjectId(baleObject))\n                self:doStateChange( BaleWrapper.CHANGE_DROP_BALE_AT_GRABBER)\n\n                self:doStateChange( BaleWrapper.CHANGE_WRAPPING_START)\n                spec.currentWrapper.currentTime = v.wrapperTime\n\n                local wrapperState = math.min(v.wrapperTime / spec.currentWrapper.animTime, 1 )\n                baleObject:setWrappingState(wrapperState)\n\n                local wrapAnimation = spec.currentWrapper.animations[ "wrapBale" ]\n                local wrappingTime = spec.currentWrapper.currentTime / spec.currentWrapper.animTime\n                self:updateWrappingState(wrappingTime)\n\n                AnimatedVehicle.updateAnimations( self , 99999999 , true )\n\n                if wrappingTime < 1 then\n                    self:setAnimationTime(wrapAnimation.animName, wrappingTime, true )\n                    self:playAnimation(wrapAnimation.animName, wrapAnimation.animSpeed, wrappingTime, true )\n                else\n                        self:doStateChange( BaleWrapper.CHANGE_WRAPPING_BALE_FINSIHED)\n                        self:setAnimationTime(wrapAnimation.animName, wrappingTime, true )\n                        spec.setWrappingStateFinished = false\n                    end\n                end\n            end\n        end\n    end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"onpostload",children:"onPostLoad"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onPostLoad()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"savegame"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function BaleWrapper:onPostLoad(savegame)\n    local spec = self.spec_baleWrapper\n\n    if savegame ~ = nil and not savegame.resetVehicles then\n        local filename = savegame.xmlFile:getValue(savegame.key .. ".baleWrapper.bale#filename" )\n        if filename ~ = nil then\n            local baleToLoad = { }\n            baleToLoad.filename = NetworkUtil.convertFromNetworkFilename(filename)\n            baleToLoad.wrapperTime = savegame.xmlFile:getValue(savegame.key .. ".baleWrapper#wrapperTime" , 0 )\n            baleToLoad.translation = { 0 , 0 , 0 }\n            baleToLoad.rotation = { 0 , 0 , 0 }\n            baleToLoad.attributes = { }\n            Bale.loadBaleAttributesFromXMLFile(baleToLoad.attributes, savegame.xmlFile, savegame.key .. ".baleWrapper.bale" , savegame.resetVehicles)\n\n            spec.baleToLoad = baleToLoad\n        end\n    end\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"onreadstream",children:"onReadStream"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Called on client side on join"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onReadStream(integer streamId, Connection connection)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"integer"}),(0,i.jsx)(n.th,{children:"streamId"}),(0,i.jsx)(n.th,{children:"streamId"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Connection"}),(0,i.jsx)(n.td,{children:"connection"}),(0,i.jsx)(n.td,{children:"connection"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function BaleWrapper:onReadStream(streamId, connection)\n    if connection:getIsServer() then\n        local spec = self.spec_baleWrapper\n\n        local isRoundBaleWrapper = streamReadBool(streamId)\n        local baleTypeIndex = streamReadUIntN(streamId, 8 )\n\n        self:setBaleWrapperType(isRoundBaleWrapper, baleTypeIndex)\n\n        local wrapperState = streamReadUIntN(streamId, BaleWrapper.STATE_NUM_BITS)\n        if wrapperState > = BaleWrapper.STATE_MOVING_BALE_TO_WRAPPER then\n            local baleServerId\n            if wrapperState ~ = BaleWrapper.STATE_WRAPPER_RESETTING_PLATFORM then\n                baleServerId = NetworkUtil.readNodeObjectId(streamId)\n            end\n\n            if wrapperState = = BaleWrapper.STATE_MOVING_BALE_TO_WRAPPER then\n                self:doStateChange( BaleWrapper.CHANGE_GRAB_BALE, baleServerId)\n                AnimatedVehicle.updateAnimations( self , 99999999 , true )\n            elseif wrapperState = = BaleWrapper.STATE_MOVING_GRABBER_TO_WORK then\n                    self.baleGrabber.currentBale = baleServerId\n\n                    self:doStateChange( BaleWrapper.CHANGE_DROP_BALE_AT_GRABBER)\n                    AnimatedVehicle.updateAnimations( self , 99999999 , true )\n\n                elseif wrapperState ~ = BaleWrapper.STATE_WRAPPER_RESETTING_PLATFORM then\n                        self:doStateChange( BaleWrapper.CHANGE_GRAB_BALE, baleServerId)\n                        AnimatedVehicle.updateAnimations( self , 99999999 , true )\n\n                        spec.currentWrapper.currentBale = baleServerId\n                        self:doStateChange( BaleWrapper.CHANGE_DROP_BALE_AT_GRABBER)\n                        AnimatedVehicle.updateAnimations( self , 99999999 , true )\n\n                        self:updateWrapNodes( true , false , 0 )\n\n                        if wrapperState = = BaleWrapper.STATE_WRAPPER_WRAPPING_BALE then\n                            self:doStateChange( BaleWrapper.CHANGE_WRAPPING_START)\n\n                            local wrapperTime = streamReadFloat32(streamId)\n                            spec.currentWrapper.currentTime = wrapperTime\n\n                            local wrapAnimation = spec.currentWrapper.animations[ "wrapBale" ]\n                            local wrappingTime = spec.currentWrapper.currentTime / spec.currentWrapper.animTime\n                            self:setAnimationStopTime(wrapAnimation.animName, wrappingTime)\n                            AnimatedVehicle.updateAnimationByName( self , wrapAnimation.animName, 9999999 , true )\n                            self:updateWrappingState(wrappingTime, true )\n\n                            if wrappingTime < 1 then\n                                self:playAnimation(wrapAnimation.animName, wrapAnimation.animSpeed, self:getAnimationTime(wrapAnimation.animName), true , false )\n                            end\n                        else\n                                local wrapAnimation = spec.currentWrapper.animations[ "wrapBale" ]\n                                if wrapAnimation.animName ~ = nil then\n                                    self:playAnimation(wrapAnimation.animName, wrapAnimation.animSpeed, nil , true )\n                                    AnimatedVehicle.updateAnimationByName( self , wrapAnimation.animName, 9999999 , true )\n                                end\n\n                                spec.currentWrapper.currentTime = spec.currentWrapper.animTime\n                                self:updateWrappingState( 1 , true )\n\n                                self:doStateChange( BaleWrapper.CHANGE_WRAPPING_BALE_FINSIHED)\n                                AnimatedVehicle.updateAnimations( self , 99999999 , true )\n                                if wrapperState > = BaleWrapper.STATE_WRAPPER_DROPPING_BALE then\n                                    self:doStateChange( BaleWrapper.CHANGE_WRAPPER_START_DROP_BALE)\n                                    AnimatedVehicle.updateAnimations( self , 99999999 , true )\n                                end\n                            end\n                        else\n                                -- simply set the state but do nothing else\n                                    spec.baleWrapperState = BaleWrapper.STATE_WRAPPER_RESETTING_PLATFORM\n                                end\n                            end\n                        end\n                    end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"onregisteractionevents",children:"onRegisterActionEvents"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onRegisterActionEvents()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"isActiveForInput"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"isActiveForInputIgnoreSelection"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleWrapper:onRegisterActionEvents(isActiveForInput, isActiveForInputIgnoreSelection)\n    if self.isClient then\n        local spec = self.spec_baleWrapper\n        self:clearActionEventsTable(spec.actionEvents)\n\n        if isActiveForInputIgnoreSelection then\n            if not spec.automaticDrop then\n                local _, actionEventId = self:addPoweredActionEvent(spec.actionEvents, InputAction.IMPLEMENT_EXTRA3, self , BaleWrapper.actionEventEmpty, false , true , false , true , nil )\n                g_inputBinding:setActionEventText(actionEventId, spec.currentWrapper.unloadBaleText)\n                g_inputBinding:setActionEventTextPriority(actionEventId, GS_PRIO_HIGH)\n\n                local baleType = spec.currentWrapper.allowedBaleTypes[spec.currentBaleTypeIndex]\n                for i = 1 , #baleType.dropAnimations do\n                    local dropAnimation = baleType.dropAnimations[i]\n                    if dropAnimation.inputAction ~ = nil then\n                        local _, actionEventId = self:addPoweredActionEvent(spec.actionEvents, dropAnimation.inputAction, self , BaleWrapper.actionEventDrop, false , true , false , false , i)\n                        g_inputBinding:setActionEventTextPriority(actionEventId, GS_PRIO_HIGH)\n                        g_inputBinding:setActionEventText(actionEventId, dropAnimation.text)\n                    end\n                end\n            end\n\n            if spec.toggleableAutomaticDrop then\n                local _, actionEventId = self:addActionEvent(spec.actionEvents, InputAction.IMPLEMENT_EXTRA4, self , BaleWrapper.actionEventToggleAutomaticDrop, false , true , false , true , nil )\n                g_inputBinding:setActionEventText(actionEventId, spec.automaticDrop and spec.toggleAutomaticDropTextNeg or spec.toggleAutomaticDropTextPos)\n                g_inputBinding:setActionEventTextPriority(actionEventId, GS_PRIO_HIGH)\n            end\n\n            BaleWrapper.updateActionEvents( self )\n        end\n    end\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"onregisterexternalactionevents",children:"onRegisterExternalActionEvents"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Called on load to register external action events"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onRegisterExternalActionEvents()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"trigger"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"name"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"xmlFile"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"key"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function BaleWrapper:onRegisterExternalActionEvents(trigger, name, xmlFile, key)\n    local spec = self.spec_baleWrapper\n    if name = = "baleWrapperDrop" then\n        self:registerExternalActionEvent(trigger, name, BaleWrapper.externalActionEventUnloadRegister, BaleWrapper.externalActionEventUnloadUpdate)\n    elseif name = = "baleWrapperAutomaticDrop" then\n            if spec.toggleableAutomaticDrop then\n                self:registerExternalActionEvent(trigger, name, BaleWrapper.externalActionEventAutomaticUnloadRegister, BaleWrapper.externalActionEventAutomaticUnloadUpdate)\n            end\n        elseif name = = "baleWrapperWarnings" then\n                self:registerExternalActionEvent(trigger, name, BaleWrapper.externalActionEventWarningsRegister, BaleWrapper.externalActionEventWarningsUpdate)\n            end\n        end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"onupdate",children:"onUpdate"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Called on update"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onUpdate(float dt, boolean isActiveForInput, boolean isSelected, )"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"float"}),(0,i.jsx)(n.th,{children:"dt"}),(0,i.jsx)(n.th,{children:"time since last call in ms"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"boolean"}),(0,i.jsx)(n.td,{children:"isActiveForInput"}),(0,i.jsx)(n.td,{children:"true if vehicle is active for input"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"boolean"}),(0,i.jsx)(n.td,{children:"isSelected"}),(0,i.jsx)(n.td,{children:"true if vehicle is selected"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"isSelected"}),(0,i.jsx)(n.td,{})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleWrapper:onUpdate(dt, isActiveForInput, isActiveForInputIgnoreSelection, isSelected)\n    local spec = self.spec_baleWrapper\n\n    if spec.baleToMount ~ = nil then\n        local bale = NetworkUtil.getObject(spec.baleToMount.serverId)\n        if bale ~ = nil then\n            local x,y,z = unpack(spec.baleToMount.trans)\n            local rx,ry,rz = unpack(spec.baleToMount.rot)\n            bale:mountKinematic( self , spec.baleToMount.linkNode, x,y,z, rx,ry,rz)\n            bale:setCanBeSold( false )\n            bale:setNeedsSaving( false )\n            spec.baleToMount = nil\n\n            if spec.baleWrapperState = = BaleWrapper.STATE_MOVING_BALE_TO_WRAPPER then\n                self:playMoveToWrapper(bale)\n            end\n        end\n    end\n\n    if spec.baleWrapperState = = BaleWrapper.STATE_WRAPPER_WRAPPING_BALE then\n        local wrapper = spec.currentWrapper\n\n        local baleType = wrapper.allowedBaleTypes[spec.currentBaleTypeIndex]\n        self:updateConsumable( BaleWrapper.CONSUMABLE_TYPE_NAME, - baleType.wrapUsage * dt, true )\n\n        wrapper.currentTime = math.min(wrapper.currentTime + dt, spec.currentWrapper.animTime)\n        local wrappingTime = wrapper.currentTime / wrapper.animTime\n        self:updateWrappingState(wrappingTime)\n        self:raiseActive()\n\n        if self.isClient then\n            if wrapper.wrappingSoundEndTime < = wrappingTime then\n                if g_soundManager:getIsSamplePlaying(wrapper.samples.wrap [ 1 ]) then\n                    g_soundManager:stopSamples(wrapper.samples.wrap )\n                    g_soundManager:playSamples(wrapper.samples.stop)\n                end\n            else\n                    if not g_soundManager:getIsSamplePlaying(wrapper.samples.wrap [ 1 ]) then\n                        g_soundManager:playSamples(wrapper.samples.wrap )\n                    end\n                end\n            end\n        end\n\n        --#debug local currentWrapper = spec.currentWrapper\n        --#debug if currentWrapper.dropArea.node ~ = nil then\n            --#debug local x, y, z = getWorldTranslation(currentWrapper.dropArea.node)\n            --#debug local rx, ry, rz = getWorldRotation(currentWrapper.dropArea.node)\n\n            --#debug DebugUtil.drawOverlapBox(x, y, z, rx, ry, rz, currentWrapper.dropArea.width * 0.5, currentWrapper.dropArea.height * 0.5, currentWrapper.dropArea.length * 0.5, 1, 0, 0)\n            --#debug end\n            --#debug if currentWrapper.blockWrapArea.node ~ = nil then\n                --#debug local x, y, z = getWorldTranslation(currentWrapper.blockWrapArea.node)\n                --#debug local rx, ry, rz = getWorldRotation(currentWrapper.blockWrapArea.node)\n\n                --#debug DebugUtil.drawOverlapBox(x, y, z, rx, ry, rz, currentWrapper.blockWrapArea.width * 0.5, currentWrapper.blockWrapArea.height * 0.5, currentWrapper.blockWrapArea.length * 0.5, 0, 1, 1)\n                --#debug end\n            end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"onupdatetick",children:"onUpdateTick"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Called on update tick"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onUpdateTick(float dt, boolean isActiveForInput, boolean isSelected, )"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"float"}),(0,i.jsx)(n.th,{children:"dt"}),(0,i.jsx)(n.th,{children:"time since last call in ms"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"boolean"}),(0,i.jsx)(n.td,{children:"isActiveForInput"}),(0,i.jsx)(n.td,{children:"true if vehicle is active for input"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"boolean"}),(0,i.jsx)(n.td,{children:"isSelected"}),(0,i.jsx)(n.td,{children:"true if vehicle is selected"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"isSelected"}),(0,i.jsx)(n.td,{})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function BaleWrapper:onUpdateTick(dt, isActiveForInput, isActiveForInputIgnoreSelection, isSelected)\n    local spec = self.spec_baleWrapper\n\n    spec.showInvalidBaleWarning = false\n    spec.baleDropBlockedWarning = nil\n\n    if self:allowsGrabbingBale() then\n        if spec.baleGrabber.grabNode ~ = nil and spec.baleGrabber.currentBale = = nil then\n            -- find nearest bale\n            local nearestBaleWrappable, nearestBale, nearestBaleTypeIndex = BaleWrapper.getBaleInRange( self , spec.baleGrabber.grabNode, spec.baleGrabber.nearestDistance)\n            if nearestBale then\n                if nearestBaleWrappable ~ = nil or(nearestBale.isRoundbale and spec.roundBaleWrapper.skipUnsupportedBales or spec.squareBaleWrapper.skipUnsupportedBales) then\n                    if self.isServer then\n                        self:pickupWrapperBale(nearestBaleWrappable or nearestBale, nearestBaleTypeIndex)\n                    end\n                else\n                        if self.isClient then\n                            if nearestBale and spec.lastDroppedBaleId ~ = NetworkUtil.getObjectId(nearestBale) then\n                                spec.showInvalidBaleWarning = true\n                            end\n                        end\n                    end\n                end\n            end\n        end\n        if self.isServer then\n            if spec.baleWrapperState ~ = BaleWrapper.STATE_NONE then\n                if spec.baleWrapperState = = BaleWrapper.STATE_MOVING_BALE_TO_WRAPPER then\n                    if not self:getIsAnimationPlaying(spec.currentWrapper.animations[ "moveToWrapper" ].animName) then\n                        g_server:broadcastEvent( BaleWrapperStateEvent.new( self , BaleWrapper.CHANGE_DROP_BALE_AT_GRABBER), true , nil , self )\n                    end\n                elseif spec.baleWrapperState = = BaleWrapper.STATE_MOVING_GRABBER_TO_WORK then\n                        if not self:getIsAnimationPlaying(spec.currentWrapper.animations[ "moveToWrapper" ].animName) then\n                            local bale = NetworkUtil.getObject(spec.currentWrapper.currentBale)\n                            if bale ~ = nil and not bale.supportsWrapping then\n                                g_server:broadcastEvent( BaleWrapperStateEvent.new( self , BaleWrapper.CHANGE_WRAPPER_START_DROP_BALE), true , nil , self )\n                            else\n                                    if self:getIsBaleWrappingAllowed() then\n                                        g_server:broadcastEvent( BaleWrapperStateEvent.new( self , BaleWrapper.CHANGE_WRAPPING_START), true , nil , self )\n                                    end\n                                end\n                            end\n                        elseif spec.baleWrapperState = = BaleWrapper.STATE_WRAPPER_DROPPING_BALE then\n                                if not self:getIsAnimationPlaying(spec.currentWrapper.animations[ "dropFromWrapper" ].animName) then\n                                    g_server:broadcastEvent( BaleWrapperStateEvent.new( self , BaleWrapper.CHANGE_WRAPPER_BALE_DROPPED), true , nil , self )\n                                end\n                            elseif spec.baleWrapperState = = BaleWrapper.STATE_WRAPPER_RESETTING_PLATFORM then\n                                    if not self:getIsAnimationPlaying(spec.currentWrapper.animations[ "resetAfterDrop" ].animName) then\n                                        g_server:broadcastEvent( BaleWrapperStateEvent.new( self , BaleWrapper.CHANGE_WRAPPER_PLATFORM_RESET), true , nil , self )\n                                    end\n                                end\n                            end\n                        end\n\n                        if spec.automaticDrop or self:getIsAIActive() then\n                            local isPowered, _ = self:getIsPowered()\n                            if isPowered then\n                                if spec.baleWrapperState = = BaleWrapper.STATE_WRAPPER_FINSIHED then\n                                    local dropIsAllowed, warning = self:getIsBaleDropAllowed()\n                                    if dropIsAllowed then\n                                        if self.isServer then\n                                            self:doStateChange( BaleWrapper.CHANGE_BUTTON_EMPTY)\n                                        end\n                                    elseif warning ~ = nil then\n                                            spec.baleDropBlockedWarning = warning\n                                        end\n                                    end\n                                end\n                            end\n\n                            BaleWrapper.updateActionEvents( self )\n\n                            if spec.setWrappingStateFinished then\n                                g_server:broadcastEvent( BaleWrapperStateEvent.new( self , BaleWrapper.CHANGE_WRAPPING_BALE_FINSIHED), true , nil , self )\n                                spec.setWrappingStateFinished = false\n                            end\n                        end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"onwritestream",children:"onWriteStream"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Called on server side on join"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onWriteStream(integer streamId, Connection connection)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"integer"}),(0,i.jsx)(n.th,{children:"streamId"}),(0,i.jsx)(n.th,{children:"streamId"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Connection"}),(0,i.jsx)(n.td,{children:"connection"}),(0,i.jsx)(n.td,{children:"connection"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleWrapper:onWriteStream(streamId, connection)\n    if not connection:getIsServer() then\n        local spec = self.spec_baleWrapper\n\n        streamWriteBool(streamId, spec.currentWrapper = = spec.roundBaleWrapper)\n        streamWriteUIntN(streamId, spec.currentBaleTypeIndex, 8 )\n\n        local wrapperState = spec.baleWrapperState\n        streamWriteUIntN(streamId, wrapperState, BaleWrapper.STATE_NUM_BITS)\n\n        if wrapperState > = BaleWrapper.STATE_MOVING_BALE_TO_WRAPPER and wrapperState ~ = BaleWrapper.STATE_WRAPPER_RESETTING_PLATFORM then\n            if wrapperState = = BaleWrapper.STATE_MOVING_BALE_TO_WRAPPER then\n                NetworkUtil.writeNodeObjectId(streamId, spec.baleGrabber.currentBale)\n            else\n                    NetworkUtil.writeNodeObjectId(streamId, spec.currentWrapper.currentBale)\n                end\n            end\n            if wrapperState = = BaleWrapper.STATE_WRAPPER_WRAPPING_BALE then\n                streamWriteFloat32(streamId, spec.currentWrapper.currentTime)\n            end\n        end\n    end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"pickupwrapperbale",children:"pickupWrapperBale"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Pickup bale to wrap"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"pickupWrapperBale(table bale, integer baleType)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"table"}),(0,i.jsx)(n.th,{children:"bale"}),(0,i.jsx)(n.th,{children:"bale to pickup"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"integer"}),(0,i.jsx)(n.td,{children:"baleType"}),(0,i.jsx)(n.td,{children:"type of bale"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleWrapper:pickupWrapperBale(bale, baleTypeIndex)\n    local spec = self.spec_baleWrapper\n    if bale:getSupportsWrapping() then\n        local baleTypes = bale.isRoundbale and spec.roundBaleWrapper.allowedBaleTypes or spec.squareBaleWrapper.allowedBaleTypes\n        if baleTypes ~ = nil and baleTypeIndex ~ = nil then\n            local baleType = baleTypes[baleTypeIndex]\n            if baleType ~ = nil then\n                if not baleType.skipWrapping and bale.wrappingState < 1 then\n                    if baleType.wrapDiffuse ~ = nil or baleType.wrapNormal ~ = nil then\n                        bale:setWrapTextures(baleType.wrapDiffuse, baleType.wrapNormal)\n                    end\n                end\n            end\n        end\n    end\n\n    spec.baleGrabber.balesInTrigger[bale] = nil\n\n    -- found bale\n    g_server:broadcastEvent( BaleWrapperStateEvent.new( self , BaleWrapper.CHANGE_GRAB_BALE, NetworkUtil.getObjectId(bale)), true , nil , self )\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"playmovetowrapper",children:"playMoveToWrapper"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Play move to wrapper animation"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"playMoveToWrapper(table bale)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"table"}),(0,i.jsx)(n.th,{children:"bale"}),(0,i.jsx)(n.th,{children:"bale to move"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function BaleWrapper:playMoveToWrapper(bale)\n    local spec = self.spec_baleWrapper\n\n    local baleTypeIndex = self:getMatchingBaleTypeIndex(bale.isRoundbale and spec.roundBaleWrapper.allowedBaleTypes or spec.squareBaleWrapper.allowedBaleTypes, bale)\n    self:setBaleWrapperType(bale.isRoundbale, baleTypeIndex)\n\n    if spec.currentWrapper.animations[ "moveToWrapper" ].animName ~ = nil then\n        self:playAnimation(spec.currentWrapper.animations[ "moveToWrapper" ].animName, spec.currentWrapper.animations[ "moveToWrapper" ].animSpeed, nil , true )\n    end\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"prerequisitespresent",children:"prerequisitesPresent"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Checks if all prerequisite specializations are loaded"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"prerequisitesPresent(table specializations)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"table"}),(0,i.jsx)(n.th,{children:"specializations"}),(0,i.jsx)(n.th,{children:"specializations"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"table"}),(0,i.jsx)(n.th,{children:"hasPrerequisite"}),(0,i.jsx)(n.th,{children:"true if all prerequisite specializations are loaded"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleWrapper.prerequisitesPresent(specializations)\n    return SpecializationUtil.hasSpecialization( AnimatedVehicle , specializations) and SpecializationUtil.hasSpecialization(Consumable, specializations)\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"registereventlisteners",children:"registerEventListeners"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"registerEventListeners()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function BaleWrapper.registerEventListeners(vehicleType)\n    SpecializationUtil.registerEventListener(vehicleType, "onLoad" , BaleWrapper )\n    SpecializationUtil.registerEventListener(vehicleType, "onPostLoad" , BaleWrapper )\n    SpecializationUtil.registerEventListener(vehicleType, "onLoadFinished" , BaleWrapper )\n    SpecializationUtil.registerEventListener(vehicleType, "onDelete" , BaleWrapper )\n    SpecializationUtil.registerEventListener(vehicleType, "onReadStream" , BaleWrapper )\n    SpecializationUtil.registerEventListener(vehicleType, "onWriteStream" , BaleWrapper )\n    SpecializationUtil.registerEventListener(vehicleType, "onUpdate" , BaleWrapper )\n    SpecializationUtil.registerEventListener(vehicleType, "onUpdateTick" , BaleWrapper )\n    SpecializationUtil.registerEventListener(vehicleType, "onDraw" , BaleWrapper )\n    SpecializationUtil.registerEventListener(vehicleType, "onRegisterActionEvents" , BaleWrapper )\n    SpecializationUtil.registerEventListener(vehicleType, "onRegisterExternalActionEvents" , BaleWrapper )\n    SpecializationUtil.registerEventListener(vehicleType, "onDeactivate" , BaleWrapper )\n    SpecializationUtil.registerEventListener(vehicleType, "onFoldStateChanged" , BaleWrapper )\n    SpecializationUtil.registerEventListener(vehicleType, "onConsumableVariationChanged" , BaleWrapper )\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"registerfunctions",children:"registerFunctions"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"registerFunctions()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function BaleWrapper.registerFunctions(vehicleType)\n    SpecializationUtil.registerFunction(vehicleType, "loadWrapperFromXML" , BaleWrapper.loadWrapperFromXML)\n    SpecializationUtil.registerFunction(vehicleType, "loadWrapperAnimationsFromXML" , BaleWrapper.loadWrapperAnimationsFromXML)\n    SpecializationUtil.registerFunction(vehicleType, "loadWrapperAnimCurveFromXML" , BaleWrapper.loadWrapperAnimCurveFromXML)\n    SpecializationUtil.registerFunction(vehicleType, "loadWrapperAnimNodesFromXML" , BaleWrapper.loadWrapperAnimNodesFromXML)\n    SpecializationUtil.registerFunction(vehicleType, "loadWrapperWrapNodesFromXML" , BaleWrapper.loadWrapperWrapNodesFromXML)\n    SpecializationUtil.registerFunction(vehicleType, "loadWrapperStateCurveFromXML" , BaleWrapper.loadWrapperStateCurveFromXML)\n    SpecializationUtil.registerFunction(vehicleType, "loadWrapperAnimationNodesFromXML" , BaleWrapper.loadWrapperAnimationNodesFromXML)\n    SpecializationUtil.registerFunction(vehicleType, "loadWrapperFoilAnimationFromXML" , BaleWrapper.loadWrapperFoilAnimationFromXML)\n\n    SpecializationUtil.registerFunction(vehicleType, "baleGrabberTriggerCallback" , BaleWrapper.baleGrabberTriggerCallback)\n    SpecializationUtil.registerFunction(vehicleType, "allowsGrabbingBale" , BaleWrapper.allowsGrabbingBale)\n    SpecializationUtil.registerFunction(vehicleType, "pickupWrapperBale" , BaleWrapper.pickupWrapperBale)\n    SpecializationUtil.registerFunction(vehicleType, "getIsBaleWrappable" , BaleWrapper.getIsBaleWrappable)\n    SpecializationUtil.registerFunction(vehicleType, "getIsBaleDropAllowed" , BaleWrapper.getIsBaleDropAllowed)\n    SpecializationUtil.registerFunction(vehicleType, "onBaleWrapperDropOverlapCallback" , BaleWrapper.onBaleWrapperDropOverlapCallback)\n    SpecializationUtil.registerFunction(vehicleType, "getIsBaleWrappingAllowed" , BaleWrapper.getIsBaleWrappingAllowed)\n    SpecializationUtil.registerFunction(vehicleType, "onBaleWrapperBlockOverlapCallback" , BaleWrapper.onBaleWrapperBlockOverlapCallback)\n    SpecializationUtil.registerFunction(vehicleType, "updateWrappingState" , BaleWrapper.updateWrappingState)\n    SpecializationUtil.registerFunction(vehicleType, "doStateChange" , BaleWrapper.doStateChange)\n    SpecializationUtil.registerFunction(vehicleType, "updateWrapNodes" , BaleWrapper.updateWrapNodes)\n    SpecializationUtil.registerFunction(vehicleType, "playMoveToWrapper" , BaleWrapper.playMoveToWrapper)\n    SpecializationUtil.registerFunction(vehicleType, "setBaleWrapperType" , BaleWrapper.setBaleWrapperType)\n    SpecializationUtil.registerFunction(vehicleType, "getMatchingBaleTypeIndex" , BaleWrapper.getMatchingBaleTypeIndex)\n    SpecializationUtil.registerFunction(vehicleType, "setBaleWrapperAutomaticDrop" , BaleWrapper.setBaleWrapperAutomaticDrop)\n    SpecializationUtil.registerFunction(vehicleType, "setBaleWrapperDropAnimation" , BaleWrapper.setBaleWrapperDropAnimation)\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"registeroverwrittenfunctions",children:"registerOverwrittenFunctions"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"registerOverwrittenFunctions()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function BaleWrapper.registerOverwrittenFunctions(vehicleType)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getIsFoldAllowed" , BaleWrapper.getIsFoldAllowed)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getCanBeSelected" , BaleWrapper.getCanBeSelected)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getShowConsumableEmptyWarning" , BaleWrapper.getShowConsumableEmptyWarning)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getRequiresPower" , BaleWrapper.getRequiresPower)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getStandaloneMotorTargetRpm" , BaleWrapper.getStandaloneMotorTargetRpm)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getStandaloneMotorLoad" , BaleWrapper.getStandaloneMotorLoad)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "addToPhysics" , BaleWrapper.addToPhysics)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "removeFromPhysics" , BaleWrapper.removeFromPhysics)\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"registerwrapperanimationxmlpaths",children:"registerWrapperAnimationXMLPaths"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"registerWrapperAnimationXMLPaths()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"schema"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"basePath"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"name"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function BaleWrapper.registerWrapperAnimationXMLPaths(schema, basePath, name)\n    schema:register(XMLValueType.STRING, basePath .. ".animations." .. name .. "#animName" , "Animation name" , 1 )\n    schema:register(XMLValueType.FLOAT, basePath .. ".animations." .. name .. "#animSpeed" , "Animation speed" , 1 )\n    schema:register(XMLValueType.BOOL, basePath .. ".animations." .. name .. "#reverseAfterMove" , "Reverse animation after playing" , true )\n    schema:register(XMLValueType.BOOL, basePath .. ".animations." .. name .. "#resetOnStart" , "Reset animation on start" , false )\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"registerwrapperfoilanimationxmlpaths",children:"registerWrapperFoilAnimationXMLPaths"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"registerWrapperFoilAnimationXMLPaths()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"schema"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"basePath"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function BaleWrapper.registerWrapperFoilAnimationXMLPaths(schema, basePath)\n    schema:register(XMLValueType.NODE_INDEX, basePath .. ".wrappingFoilAnimation#referenceNode" , "Time reference node" )\n    schema:register(XMLValueType.INT, basePath .. ".wrappingFoilAnimation#referenceAxis" , "Rotation axis" )\n    schema:register(XMLValueType.ANGLE, basePath .. ".wrappingFoilAnimation#minRot" , "Min.reference rotation" )\n    schema:register(XMLValueType.ANGLE, basePath .. ".wrappingFoilAnimation#maxRot" , "Max.reference rotation" )\n    schema:register(XMLValueType.NODE_INDEX, basePath .. ".wrappingFoilAnimation#clipNode" , "Node which has clip assigned" )\n    schema:register(XMLValueType.STRING, basePath .. ".wrappingFoilAnimation#clipName" , "Name of the clip to control" )\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"registerwrapperxmlpaths",children:"registerWrapperXMLPaths"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"registerWrapperXMLPaths()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"schema"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"basePath"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function BaleWrapper.registerWrapperXMLPaths(schema, basePath)\n    for i = 1 , # BaleWrapper.ANIMATION_NAMES do\n        BaleWrapper.registerWrapperAnimationXMLPaths(schema, basePath, BaleWrapper.ANIMATION_NAMES[i])\n        BaleWrapper.registerWrapperAnimationXMLPaths(schema, basePath .. ".baleTypes.baleType(?)" , BaleWrapper.ANIMATION_NAMES[i])\n    end\n\n    schema:register(XMLValueType.STRING, basePath .. ".baleTypes.baleType(?)#fillType" , "Fill type name" )\n    schema:register(XMLValueType.FLOAT, basePath .. ".baleTypes.baleType(?)#diameter" , "Bale diameter" , 0 )\n    schema:register(XMLValueType.FLOAT, basePath .. ".baleTypes.baleType(?)#width" , "Bale width" , 0 )\n    schema:register(XMLValueType.FLOAT, basePath .. ".baleTypes.baleType(?)#height" , "Bale height" , 0 )\n    schema:register(XMLValueType.FLOAT, basePath .. ".baleTypes.baleType(?)#length" , "Bale length" , 0 )\n    schema:register(XMLValueType.STRING, basePath .. ".baleTypes.baleType(?).textures#diffuse" , "Path to wrap diffuse map" )\n    schema:register(XMLValueType.STRING, basePath .. ".baleTypes.baleType(?).textures#normal" , "Path to wrap normal map" )\n    schema:register(XMLValueType.BOOL, basePath .. ".baleTypes.baleType(?)#skipWrapping" , "Bale is picked up, but not wrapped" , false )\n    schema:register(XMLValueType.BOOL, basePath .. ".baleTypes.baleType(?)#forceWhileFolding" , "Force this bale type while wrapper is folded" , false )\n        schema:register(XMLValueType.FLOAT, basePath .. ".baleTypes.baleType(?)#wrapUsage" , "Usage of wrap rolls per bale" , 0.1 )\n\n        schema:register(XMLValueType.FLOAT, basePath .. ".baleTypes.baleType(?).wrappingState.key(?)#time" , "Time of wrapping(0-1)" )\n        schema:register(XMLValueType.FLOAT, basePath .. ".baleTypes.baleType(?).wrappingState.key(?)#wrappingState" , "Wrapping state for shader" )\n\n            schema:register(XMLValueType.STRING, basePath .. ".baleTypes.baleType(?).dropAnimations.dropAnimation(?)#name" , "Drop animation name" )\n            schema:register(XMLValueType.FLOAT, basePath .. ".baleTypes.baleType(?).dropAnimations.dropAnimation(?)#animSpeed" , "Drop animation speed" , 1 )\n            schema:register(XMLValueType.L10N_STRING, basePath .. ".baleTypes.baleType(?).dropAnimations.dropAnimation(?)#text" , "Text to display in the input help" )\n            schema:register(XMLValueType.STRING, basePath .. ".baleTypes.baleType(?).dropAnimations.dropAnimation(?)#inputAction" , "Name of input action" )\n            schema:register(XMLValueType.BOOL, basePath .. ".baleTypes.baleType(?).dropAnimations.dropAnimation(?)#liftOnDrop" , "Lift the tools attacher joint while the bale is dropped" , false )\n\n                ObjectChangeUtil.registerObjectChangeXMLPaths(schema, basePath .. ".baleTypes.baleType(?)" )\n                BaleWrapper.registerWrapperFoilAnimationXMLPaths(schema, basePath .. ".baleTypes.baleType(?)" )\n\n                schema:register(XMLValueType.NODE_INDEX, basePath .. "#baleNode" , "Bale Node" )\n                schema:register(XMLValueType.NODE_INDEX, basePath .. "#wrapperNode" , "Wrapper Node" )\n                schema:register(XMLValueType.INT, basePath .. "#wrapperRotAxis" , "Wrapper rotation axis" , 2 )\n\n                schema:register(XMLValueType.FLOAT, basePath .. ".wrapperAnimation.key(?)#time" , "Key time" )\n                schema:register(XMLValueType.VECTOR_ROT, basePath .. ".wrapperAnimation.key(?)#baleRot" , "Bale rotation" )\n                schema:register(XMLValueType.VECTOR_ROT, basePath .. ".wrapperAnimation.key(?)#wrapperRot" , "Wrapper rotation" , "0 0 0" )\n\n                schema:register(XMLValueType.FLOAT, basePath .. "#wrappingTime" , "Wrapping duration" , 5 )\n\n                schema:register(XMLValueType.NODE_INDEX, basePath .. ".wrapAnimNodes.wrapAnimNode(?)#node" , "Wrap node" )\n                schema:register(XMLValueType.BOOL, basePath .. ".wrapAnimNodes.wrapAnimNode(?)#repeatWrapperRot" , "Repeat wrapper rotation, so wrapper rotation is always between 0 and 360" , false )\n                schema:register(XMLValueType.INT, basePath .. ".wrapAnimNodes.wrapAnimNode(?)#normalizeRotationOnBaleDrop" , "Normalize rotation on bale drop" , 0 )\n\n                schema:register(XMLValueType.FLOAT, basePath .. ".wrapAnimNodes.wrapAnimNode(?).key(?)#wrapperRot" , "Wrapper rotation" )\n                schema:register(XMLValueType.FLOAT, basePath .. ".wrapAnimNodes.wrapAnimNode(?).key(?)#wrapperTime" , "Wrapper time" )\n                schema:register(XMLValueType.VECTOR_TRANS, basePath .. ".wrapAnimNodes.wrapAnimNode(?).key(?)#trans" , "Trans" , "0 0 0" )\n                schema:register(XMLValueType.VECTOR_ROT, basePath .. ".wrapAnimNodes.wrapAnimNode(?).key(?)#rot" , "Rotation" , "0 0 0" )\n                schema:register(XMLValueType.VECTOR_SCALE, basePath .. ".wrapAnimNodes.wrapAnimNode(?).key(?)#scale" , "Scale" , "1 1 1" )\n\n                schema:register(XMLValueType.NODE_INDEX, basePath .. ".wrapNodes.wrapNode(?)#node" , "Wrap node" )\n                schema:register(XMLValueType.BOOL, basePath .. ".wrapNodes.wrapNode(?)#wrapVisibility" , "Visibility while wrapping" , false )\n                    schema:register(XMLValueType.BOOL, basePath .. ".wrapNodes.wrapNode(?)#emptyVisibility" , "Visibility while empty" , false )\n                        schema:register(XMLValueType.FLOAT, basePath .. ".wrapNodes.wrapNode(?)#maxWrapperRot" , "Max.wrapper rotation" )\n\n                        schema:register(XMLValueType.FLOAT, basePath .. ".wrappingState.key(?)#time" , "Time of wrapping(0-1)" )\n                        schema:register(XMLValueType.FLOAT, basePath .. ".wrappingState.key(?)#wrappingState" , "Wrapping state for shader" )\n\n                            schema:register(XMLValueType.FLOAT, basePath .. ".wrappingAnimationNodes#maxTime" , "Max.time of animation nodes" , "Wrapper anim time" )\n                            schema:register(XMLValueType.NODE_INDEX, basePath .. ".wrappingAnimationNodes.key(?)#node" , "Animation node" )\n                            schema:register(XMLValueType.NODE_INDEX, basePath .. ".wrappingAnimationNodes.key(?)#rootNode" , "Reference node for rotation" )\n                                schema:register(XMLValueType.NODE_INDEX, basePath .. ".wrappingAnimationNodes.key(?)#linkNode" , "Node will be linked to this node while key is activated" )\n                                    schema:register(XMLValueType.FLOAT, basePath .. ".wrappingAnimationNodes.key(?)#time" , "Time to activate key" )\n                                    schema:register(XMLValueType.VECTOR_TRANS, basePath .. ".wrappingAnimationNodes.key(?)#translation" , "Translation of key" )\n\n                                    schema:register(XMLValueType.NODE_INDEX, basePath .. ".wrappingAnimationNodes#referenceNode" , "Reference node" )\n                                    schema:register(XMLValueType.INT, basePath .. ".wrappingAnimationNodes#referenceAxis" , "Reference axis" , 1 )\n                                    schema:register(XMLValueType.ANGLE, basePath .. ".wrappingAnimationNodes#minRot" , "Min.rotation" , 0 )\n                                    schema:register(XMLValueType.ANGLE, basePath .. ".wrappingAnimationNodes#maxRot" , "Max.rotation" , 0 )\n\n                                    schema:register(XMLValueType.NODE_INDEX, basePath .. ".dropArea#node" , "Node in the center of the drop area(if defined this area will be checked if something blocks this area)" )\n                                        schema:register(XMLValueType.FLOAT, basePath .. ".dropArea#width" , "Width of area" , 1 )\n                                        schema:register(XMLValueType.FLOAT, basePath .. ".dropArea#height" , "Height of area" , 1 )\n                                        schema:register(XMLValueType.FLOAT, basePath .. ".dropArea#length" , "Length of area" , 1 )\n\n                                        schema:register(XMLValueType.NODE_INDEX, basePath .. ".blockWrapArea#node" , "Node in the center of the block area(if defined this area will be checked if it\'s clear to start the wrapping process)" )\n                                            schema:register(XMLValueType.FLOAT, basePath .. ".blockWrapArea#width" , "Width of area" , 1 )\n                                            schema:register(XMLValueType.FLOAT, basePath .. ".blockWrapArea#height" , "Height of area" , 1 )\n                                            schema:register(XMLValueType.FLOAT, basePath .. ".blockWrapArea#length" , "Length of area" , 1 )\n\n                                            BaleWrapper.registerWrapperFoilAnimationXMLPaths(schema, basePath)\n\n                                            schema:register(XMLValueType.NODE_INDEX, basePath .. ".wrappingCollisions.collision(?)#node" , "Collision node" )\n                                            schema:register(XMLValueType.INT, basePath .. ".wrappingCollisions.collision(?)#activeCollisionMask" , "Collision mask active" )\n                                            schema:register(XMLValueType.INT, basePath .. ".wrappingCollisions.collision(?)#inActiveCollisionMask" , "Collision mask in active" )\n\n                                            schema:register(XMLValueType.L10N_STRING, basePath .. "#unloadBaleText" , "Unload bale text" , "\'action_unloadRoundBale\' for round bales and \'action_unloadSquareBale\' for square bales" )\n                                                schema:register(XMLValueType.BOOL, basePath .. "#skipUnsupportedBales" , "Skip unsupported bales(pick them up and drop them instantly)" )\n\n                                                SoundManager.registerSampleXMLPaths(schema, basePath .. ".sounds" , "wrap(?)" )\n                                                SoundManager.registerSampleXMLPaths(schema, basePath .. ".sounds" , "start(?)" )\n                                                SoundManager.registerSampleXMLPaths(schema, basePath .. ".sounds" , "stop(?)" )\n                                                schema:register(XMLValueType.FLOAT, basePath .. ".sounds#wrappingEndTime" , "Wrapping time to play end wrapping sound" , 1 )\n                                            end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"removefromphysics",children:"removeFromPhysics"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Add to physics"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"removeFromPhysics()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"success"}),(0,i.jsx)(n.th,{children:"success"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleWrapper:removeFromPhysics(superFunc)\n    if not superFunc( self ) then\n        return false\n    end\n\n    local spec = self.spec_baleWrapper\n    local currentWrapper = spec.currentWrapper\n    if currentWrapper.currentBale ~ = nil then\n        local object = NetworkUtil.getObject(currentWrapper.currentBale)\n        if object ~ = nil then\n            object:unmountKinematic()\n            object:removeFromPhysics()\n        end\n    end\n\n    return true\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"savetoxmlfile",children:"saveToXMLFile"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"saveToXMLFile()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"xmlFile"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"key"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"usedModNames"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function BaleWrapper:saveToXMLFile(xmlFile, key, usedModNames)\n    local spec = self.spec_baleWrapper\n\n    local baleServerId = spec.baleGrabber.currentBale\n    if baleServerId = = nil then\n        baleServerId = spec.currentWrapper.currentBale\n    end\n\n    xmlFile:setValue(key .. "#wrapperTime" , spec.currentWrapper.currentTime)\n\n    if baleServerId ~ = nil then\n        local bale = NetworkUtil.getObject(baleServerId)\n        if bale ~ = nil then\n            bale:saveToXMLFile(xmlFile, key .. ".bale" )\n        end\n    end\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"setbalewrapperautomaticdrop",children:"setBaleWrapperAutomaticDrop"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Sets automatic drop state"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"setBaleWrapperAutomaticDrop()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"state"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"noEventSend"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleWrapper:setBaleWrapperAutomaticDrop(state, noEventSend)\n    local spec = self.spec_baleWrapper\n    if state = = nil then\n        state = not spec.automaticDrop\n    end\n\n    spec.automaticDrop = state\n\n    -- update so we have the unloading action events\n    self:requestActionEventUpdate()\n\n    BaleWrapperAutomaticDropEvent.sendEvent( self , state, noEventSend)\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"setbalewrapperdropanimation",children:"setBaleWrapperDropAnimation"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"setBaleWrapperDropAnimation()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"dropAnimationIndex"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleWrapper:setBaleWrapperDropAnimation(dropAnimationIndex)\n    local spec = self.spec_baleWrapper\n    spec.dropAnimationIndex = dropAnimationIndex\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"setbalewrappertype",children:"setBaleWrapperType"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Set current wrapper and bale type index"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"setBaleWrapperType(boolean isRoundBaleWrapper, integer baleTypeIndex)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"boolean"}),(0,i.jsx)(n.th,{children:"isRoundBaleWrapper"}),(0,i.jsx)(n.th,{children:"is a roundbale wrapper"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"integer"}),(0,i.jsx)(n.td,{children:"baleTypeIndex"}),(0,i.jsx)(n.td,{children:"index of bale type"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleWrapper:setBaleWrapperType(isRoundBaleWrapper, baleTypeIndex)\n    local spec = self.spec_baleWrapper\n    spec.currentWrapper = isRoundBaleWrapper and spec.roundBaleWrapper or spec.squareBaleWrapper\n\n    spec.currentBaleTypeIndex = baleTypeIndex\n    local baleType = spec.currentWrapper.allowedBaleTypes[baleTypeIndex]\n    if baleType ~ = nil then\n        spec.currentWrapper.animations = baleType.animations\n        spec.currentWrapper.wrappingFoilAnimation = baleType.wrappingFoilAnimation or spec.currentWrapper.wrappingFoilAnimationDefault\n\n        ObjectChangeUtil.setObjectChanges(baleType.changeObjects, true , self , self.setMovingToolDirty)\n\n        if spec.currentWrapper.wrappingFoilAnimation ~ = nil then\n            local wrappingFoilAnimation = spec.currentWrapper.wrappingFoilAnimation\n            clearAnimTrackClip(wrappingFoilAnimation.animationCharSet, 0 )\n            assignAnimTrackClip(wrappingFoilAnimation.animationCharSet, 0 , wrappingFoilAnimation.animationClipIndex)\n\n            enableAnimTrack(wrappingFoilAnimation.animationCharSet, 0 )\n            setAnimTrackTime(wrappingFoilAnimation.animationCharSet, 0 , 0 , true )\n            disableAnimTrack(wrappingFoilAnimation.animationCharSet, 0 )\n        end\n    end\n\n    self:requestActionEventUpdate()\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"updateactionevents",children:"updateActionEvents"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"updateActionEvents()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"self"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleWrapper.updateActionEvents( self )\n    local spec = self.spec_baleWrapper\n    local actionEvent = spec.actionEvents[InputAction.IMPLEMENT_EXTRA3]\n    if actionEvent ~ = nil then\n        g_inputBinding:setActionEventActive(actionEvent.actionEventId, spec.baleWrapperState = = BaleWrapper.STATE_WRAPPER_FINSIHED)\n        g_inputBinding:setActionEventText(actionEvent.actionEventId, spec.currentWrapper.unloadBaleText)\n    end\n\n    if spec.toggleableAutomaticDrop then\n        actionEvent = spec.actionEvents[InputAction.IMPLEMENT_EXTRA4]\n        if actionEvent ~ = nil then\n            g_inputBinding:setActionEventText(actionEvent.actionEventId, spec.automaticDrop and spec.toggleAutomaticDropTextNeg or spec.toggleAutomaticDropTextPos)\n        end\n    end\n\n    local baleType = spec.currentWrapper.allowedBaleTypes[spec.currentBaleTypeIndex]\n    for i = 1 , #baleType.dropAnimations do\n        local dropAnimation = baleType.dropAnimations[i]\n        if dropAnimation.inputAction ~ = nil then\n            actionEvent = spec.actionEvents[dropAnimation.inputAction]\n            if actionEvent ~ = nil then\n                g_inputBinding:setActionEventActive(actionEvent.actionEventId, spec.baleWrapperState = = BaleWrapper.STATE_WRAPPER_FINSIHED)\n            end\n        end\n    end\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"updatewrapnodes",children:"updateWrapNodes"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Update bale wrap nodes"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"updateWrapNodes(boolean isWrapping, boolean isEmpty, float t, float wrapperRot)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"boolean"}),(0,i.jsx)(n.th,{children:"isWrapping"}),(0,i.jsx)(n.th,{children:"is wrapping"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"boolean"}),(0,i.jsx)(n.td,{children:"isEmpty"}),(0,i.jsx)(n.td,{children:"is empty"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"float"}),(0,i.jsx)(n.td,{children:"t"}),(0,i.jsx)(n.td,{children:"animation time"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"float"}),(0,i.jsx)(n.td,{children:"wrapperRot"}),(0,i.jsx)(n.td,{children:"rotation of wrapper"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function BaleWrapper:updateWrapNodes(isWrapping, isEmpty, t, wrapperRot)\n    local spec = self.spec_baleWrapper\n\n    if wrapperRot = = nil then\n        wrapperRot = 0\n    end\n\n    for _, wrapNode in pairs(spec.currentWrapper.wrapNodes) do\n        local doShow = true\n        if wrapNode.maxWrapperRot ~ = nil then\n            doShow = wrapperRot < wrapNode.maxWrapperRot\n        end\n        setVisibility(wrapNode.nodeId, doShow and((isWrapping and wrapNode.wrapVisibility) or(isEmpty and wrapNode.emptyVisibility)))\n    end\n\n    if isWrapping then\n        local wrapperRotRepeat = math.sign(wrapperRot) * (wrapperRot % math.pi)\n        if wrapperRotRepeat < 0 then\n            wrapperRotRepeat = wrapperRotRepeat + math.pi\n        end\n\n        for _,wrapAnimNode in pairs(spec.currentWrapper.wrapAnimNodes) do\n            local x, y, z, rx, ry, rz, sx, sy, sz\n            if wrapAnimNode.useWrapperRot then\n                local rot = wrapperRot\n                if wrapAnimNode.repeatWrapperRot then\n                    rot = wrapperRotRepeat\n                end\n                x, y, z, rx, ry, rz, sx, sy, sz = wrapAnimNode.animCurve:get(rot)\n            else\n                    x, y, z, rx, ry, rz, sx, sy, sz = wrapAnimNode.animCurve:get(t)\n                end\n\n                if x ~ = nil then\n                    setTranslation(wrapAnimNode.nodeId, x, y, z)\n                    setRotation(wrapAnimNode.nodeId, rx, ry, rz)\n                    setScale(wrapAnimNode.nodeId, sx, sy, sz)\n                end\n            end\n        else\n                if not isEmpty then\n                    for _,wrapAnimNode in pairs(spec.currentWrapper.wrapAnimNodes) do\n                        if wrapAnimNode.normalizeRotationOnBaleDrop ~ = 0 then\n                            local rot = { getRotation(wrapAnimNode.nodeId) }\n                            for i = 1 , 3 do\n                                rot[i] = wrapAnimNode.normalizeRotationOnBaleDrop * math.sign(rot[i]) * ( rot[i] % ( 2 * math.pi) )\n                            end\n                            setRotation(wrapAnimNode.nodeId, rot[ 1 ],rot[ 2 ],rot[ 3 ])\n                        end\n                    end\n                end\n            end\n        end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"updatewrappingstate",children:"updateWrappingState"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Update wrapping state"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"updateWrappingState(float t, boolean noEventSend)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"float"}),(0,i.jsx)(n.th,{children:"t"}),(0,i.jsx)(n.th,{children:"animation time"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"boolean"}),(0,i.jsx)(n.td,{children:"noEventSend"}),(0,i.jsx)(n.td,{children:"no event send"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function BaleWrapper:updateWrappingState(wrappingTime, noEventSend)\n    local spec = self.spec_baleWrapper\n    local wrapper = spec.currentWrapper\n\n    local foilTime = 0\n    if wrapper.wrappingFoilAnimation ~ = nil then\n        local wrappingFoilAnimation = wrapper.wrappingFoilAnimation\n\n        wrappingFoilAnimation.referenceNodeRotation[ 1 ], wrappingFoilAnimation.referenceNodeRotation[ 2 ], wrappingFoilAnimation.referenceNodeRotation[ 3 ] = getRotation(wrappingFoilAnimation.referenceNode)\n        local rotation = wrappingFoilAnimation.referenceNodeRotation[wrappingFoilAnimation.referenceAxis]\n        foilTime = (rotation - wrappingFoilAnimation.referenceMinRot) / (wrappingFoilAnimation.referenceMaxRot - wrappingFoilAnimation.referenceMinRot)\n        if foilTime > 0 and foilTime < 1 then\n            if foilTime ~ = wrappingFoilAnimation.lastTime then\n                local oldClipIndex = getAnimTrackAssignedClip(wrappingFoilAnimation.animationCharSet, 0 )\n                if oldClipIndex ~ = wrappingFoilAnimation.animationClipIndex then\n                    clearAnimTrackClip(wrappingFoilAnimation.animationCharSet, 0 )\n                    assignAnimTrackClip(wrappingFoilAnimation.animationCharSet, 0 , wrappingFoilAnimation.animationClipIndex)\n                end\n\n                enableAnimTrack(wrappingFoilAnimation.animationCharSet, 0 )\n                setAnimTrackTime(wrappingFoilAnimation.animationCharSet, 0 , foilTime * wrappingFoilAnimation.animationClipDuration, true )\n                disableAnimTrack(wrappingFoilAnimation.animationCharSet, 0 )\n\n                wrappingFoilAnimation.lastTime = foilTime\n            end\n        end\n    end\n\n    local nodesTime = 0\n    if wrapper.wrappingAnimationNodes.referenceNode ~ = nil then\n        wrapper.wrappingAnimationNodes.referenceNodeRotation[ 1 ], wrapper.wrappingAnimationNodes.referenceNodeRotation[ 2 ], wrapper.wrappingAnimationNodes.referenceNodeRotation[ 3 ] = getRotation(wrapper.wrappingAnimationNodes.referenceNode)\n        local rotation = wrapper.wrappingAnimationNodes.referenceNodeRotation[wrapper.wrappingAnimationNodes.referenceAxis]\n        nodesTime = math.clamp((rotation - wrapper.wrappingAnimationNodes.referenceMinRot) / (wrapper.wrappingAnimationNodes.referenceMaxRot - wrapper.wrappingAnimationNodes.referenceMinRot), 0 , 1 )\n        nodesTime = MathUtil.round(nodesTime, 5 )\n    end\n\n    if nodesTime > wrapper.wrappingAnimationNodes.lastTime then\n        local nodes = wrapper.wrappingAnimationNodes.nodes\n        for i = wrapper.wrappingAnimationNodes.currentIndex + 1 , #nodes do\n            local wrappingAnimationNode = nodes[i]\n            if wrappingAnimationNode.time < = nodesTime then\n                if wrappingAnimationNode.linkNode ~ = nil then\n                    local x, y, z = localToWorld(wrappingAnimationNode.parent, unpack(wrappingAnimationNode.translation))\n                    if getParent(wrappingAnimationNode.nodeId) ~ = wrappingAnimationNode.linkNode then\n                        link(wrappingAnimationNode.linkNode, wrappingAnimationNode.nodeId)\n                    end\n                    setWorldTranslation(wrappingAnimationNode.nodeId, x, y, z)\n                else\n                        if getParent(wrappingAnimationNode.nodeId) ~ = wrappingAnimationNode.parent then\n                            link(wrappingAnimationNode.parent, wrappingAnimationNode.nodeId)\n                        end\n                        setTranslation(wrappingAnimationNode.nodeId, unpack(wrappingAnimationNode.translation))\n                    end\n\n                    wrapper.wrappingAnimationNodes.currentIndex = i\n                else\n                        break\n                    end\n                end\n            elseif nodesTime < wrapper.wrappingAnimationNodes.lastTime then\n                    wrapper.wrappingAnimationNodes.currentIndex = 0\n                end\n                wrapper.wrappingAnimationNodes.lastTime = nodesTime\n\n                for animationNode, rootNode in pairs(wrapper.wrappingAnimationNodes.nodeToRootNode) do\n                    local rx, ry, rz = localRotationToLocal(rootNode, getParent(animationNode), 0 , 0 , 0 )\n                    setRotation(animationNode, rx, ry, rz)\n                end\n\n                local wrappingState = math.min(wrappingTime, 1 )\n                local wrapperRot = 0\n                if wrapper.animCurve ~ = nil then\n                    local baleX, baleY, baleZ, wrapX, wrapY, wrapZ = wrapper.animCurve:get(wrappingTime)\n                    if baleX ~ = nil then\n                        setRotation(wrapper.baleNode, baleX % ( math.pi * 2 ), baleY % ( math.pi * 2 ), baleZ % ( math.pi * 2 ))\n                        setRotation(wrapper.wrapperNode, wrapX % ( math.pi * 2 ), wrapY % ( math.pi * 2 ), wrapZ % ( math.pi * 2 ))\n                        wrapperRot = v[ 3 + wrapper.wrapperRotAxis]\n                    elseif wrapper.animations[ "wrapBale" ].animName ~ = nil then\n                            wrappingTime = self:getAnimationTime(wrapper.animations[ "wrapBale" ].animName)\n                        end\n\n                        if wrapper.wrappingAnimationNodes.referenceNode ~ = nil then\n                            wrappingState = nodesTime\n                        end\n\n                        if wrapper.wrappingFoilAnimation ~ = nil then\n                            wrappingState = foilTime\n                        end\n\n                        if wrapper.currentBale ~ = nil then\n                            local bale = NetworkUtil.getObject(wrapper.currentBale)\n                            if bale ~ = nil then\n                                local baleType = spec.currentWrapper.allowedBaleTypes[spec.currentBaleTypeIndex]\n                                if bale:getSupportsWrapping() and not baleType.skipWrapping and bale.wrappingState < 1 then\n                                    local wrappingStateCurve = baleType.wrappingStateCurve or wrapper.wrappingStateCurve\n                                    if wrappingStateCurve ~ = nil then\n                                        wrappingState = wrappingStateCurve:get(wrappingState)\n                                    end\n\n                                    bale:setWrappingState(wrappingState, true )\n\n                                    if bale.setColor ~ = nil then\n                                        bale:setColor(spec.wrapColor[ 1 ], spec.wrapColor[ 2 ], spec.wrapColor[ 3 ])\n                                    end\n                                end\n                            end\n                        end\n                    end\n\n                    self:updateWrapNodes(wrappingTime > 0 , false , wrappingTime, wrapperRot)\n                    if wrappingTime > 0.99999 then\n                        if self.isServer and spec.baleWrapperState = = BaleWrapper.STATE_WRAPPER_WRAPPING_BALE and not noEventSend then\n                            g_server:broadcastEvent( BaleWrapperStateEvent.new( self , BaleWrapper.CHANGE_WRAPPING_BALE_FINSIHED), true , nil , self )\n                        end\n                    end\n                end\n\n'})})]})}function c(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}}}]);