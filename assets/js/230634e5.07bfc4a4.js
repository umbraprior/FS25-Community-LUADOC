"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[41611],{28453(e,n,l){l.d(n,{R:()=>s,x:()=>t});var r=l(96540);const a={},i=r.createContext(a);function s(e){const n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),r.createElement(i.Provider,{value:n},e.children)}},92187(e,n,l){l.r(n),l.d(n,{assets:()=>o,contentTitle:()=>t,default:()=>h,frontMatter:()=>s,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"script/GUI/MapOverlayGenerator","title":"MapOverlayGenerator","description":"MapOverlayGenerator","source":"@site/../docs/script/GUI/MapOverlayGenerator.md","sourceDirName":"script/GUI","slug":"/script/GUI/MapOverlayGenerator","permalink":"/FS25-Community-LUADOC/script/GUI/MapOverlayGenerator","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"MainScreen","permalink":"/FS25-Community-LUADOC/script/GUI/MainScreen"},"next":{"title":"MultiOptionDialog","permalink":"/FS25-Community-LUADOC/script/GUI/MultiOptionDialog"}}');var a=l(74848),i=l(28453);const s={},t=void 0,o={},d=[{value:"MapOverlayGenerator",id:"mapoverlaygenerator",level:2},{value:"adjustedOverlayResolution",id:"adjustedoverlayresolution",level:3},{value:"buildFarmlandsMapOverlay",id:"buildfarmlandsmapoverlay",level:3},{value:"buildFieldsOverlay",id:"buildfieldsoverlay",level:3},{value:"buildFruitTypeMapOverlay",id:"buildfruittypemapoverlay",level:3},{value:"buildGrowthStateMapOverlay",id:"buildgrowthstatemapoverlay",level:3},{value:"buildSingleFarmlandsMapOverlay",id:"buildsinglefarmlandsmapoverlay",level:3},{value:"buildSoilStateMapOverlay",id:"buildsoilstatemapoverlay",level:3},{value:"checkOverlayFinished",id:"checkoverlayfinished",level:3},{value:"delete",id:"delete",level:3},{value:"generateFarmlandOverlay",id:"generatefarmlandoverlay",level:3},{value:"generateFieldsOverlay",id:"generatefieldsoverlay",level:3},{value:"generateFruitTypeOverlay",id:"generatefruittypeoverlay",level:3},{value:"generateGrowthStateOverlay",id:"generategrowthstateoverlay",level:3},{value:"generateOverlay",id:"generateoverlay",level:3},{value:"generateSingleFarmlandOverlay",id:"generatesinglefarmlandoverlay",level:3},{value:"generateSoilStateOverlay",id:"generatesoilstateoverlay",level:3},{value:"getDisplayCropTypes",id:"getdisplaycroptypes",level:3},{value:"getDisplayGrowthStates",id:"getdisplaygrowthstates",level:3},{value:"getDisplaySoilStates",id:"getdisplaysoilstates",level:3},{value:"new",id:"new",level:3},{value:"reset",id:"reset",level:3},{value:"setColorBlindMode",id:"setcolorblindmode",level:3},{value:"setMissionFruitTypes",id:"setmissionfruittypes",level:3},{value:"update",id:"update",level:3}];function c(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h2,{id:"mapoverlaygenerator",children:"MapOverlayGenerator"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"Generator\nProvides density map based data overlays on top of an in-game map."}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Functions"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#adjustedoverlayresolution",children:"adjustedOverlayResolution"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#buildfarmlandsmapoverlay",children:"buildFarmlandsMapOverlay"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#buildfieldsoverlay",children:"buildFieldsOverlay"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#buildfruittypemapoverlay",children:"buildFruitTypeMapOverlay"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#buildgrowthstatemapoverlay",children:"buildGrowthStateMapOverlay"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#buildsinglefarmlandsmapoverlay",children:"buildSingleFarmlandsMapOverlay"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#buildsoilstatemapoverlay",children:"buildSoilStateMapOverlay"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#checkoverlayfinished",children:"checkOverlayFinished"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#delete",children:"delete"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#generatefarmlandoverlay",children:"generateFarmlandOverlay"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#generatefieldsoverlay",children:"generateFieldsOverlay"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#generatefruittypeoverlay",children:"generateFruitTypeOverlay"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#generategrowthstateoverlay",children:"generateGrowthStateOverlay"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#generateoverlay",children:"generateOverlay"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#generatesinglefarmlandoverlay",children:"generateSingleFarmlandOverlay"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#generatesoilstateoverlay",children:"generateSoilStateOverlay"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#getdisplaycroptypes",children:"getDisplayCropTypes"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#getdisplaygrowthstates",children:"getDisplayGrowthStates"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#getdisplaysoilstates",children:"getDisplaySoilStates"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#new",children:"new"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#reset",children:"reset"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#setcolorblindmode",children:"setColorBlindMode"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#setmissionfruittypes",children:"setMissionFruitTypes"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#update",children:"update"})}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"adjustedoverlayresolution",children:"adjustedOverlayResolution"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"Update the map resolution depending on machine quality (settings)"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"adjustedOverlayResolution()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"default"})]})}),(0,a.jsx)(n.tbody,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"limitToTwo"})]})})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function MapOverlayGenerator:adjustedOverlayResolution(default, limitToTwo)\n    local profileClass = Utils.getPerformanceClassId()\n\n    if profileClass < = GS_PROFILE_LOW then\n        return default\n\n        -- Do not go too big on servers to keep latency low within the engine; also avoid high memory use on consoles & mobile\n    elseif profileClass > = GS_PROFILE_HIGH and not limitToTwo and not Platform.isMobile and not(g_currentMission ~ = nil and g_currentMission.missionDynamicInfo.isMultiplayer and g_currentMission:getIsServer()) then\n            return { default[ 1 ] * 4 , default[ 2 ] * 4 }\n        else\n                return { default[ 1 ] * 2 , default[ 2 ] * 2 }\n            end\n        end\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"buildfarmlandsmapoverlay",children:"buildFarmlandsMapOverlay"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"Build the map overlay for farm lands."}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"buildFarmlandsMapOverlay()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,a.jsx)(n.table,{children:(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"selectedFarmland"})]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function MapOverlayGenerator:buildFarmlandsMapOverlay(selectedFarmland)\n    local map = self.farmlandManager:getLocalMap()\n    local farmlands = self.farmlandManager:getFarmlands()\n\n    setOverlayColor( self.farmlandStateOverlay, 1 , 1 , 1 , MapOverlayGenerator.FARMLANDS_ALPHA)\n\n    for k, farmland in pairs(farmlands) do\n        local ownerFarmId = self.farmlandManager:getFarmlandOwner(farmland.id)\n\n        if ownerFarmId ~ = FarmlandManager.NOT_BUYABLE_FARM_ID then\n            if selectedFarmland ~ = nil and farmland.id = = selectedFarmland.id then\n                setDensityMapVisualizationOverlayStateColor( self.farmlandStateOverlay, map, 0 , 0 , 0 , getBitVectorMapNumChannels(map), k, unpack( MapOverlayGenerator.COLOR.FIELD_SELECTED))\n            else\n                    local color = MapOverlayGenerator.COLOR.FIELD_UNOWNED\n                    if farmland.isOwned then -- assign farm color\n                        local ownerFarm = self.farmManager:getFarmById(ownerFarmId)\n                        if ownerFarm ~ = nil then\n                            color = ownerFarm:getColor()\n                        end\n                    end\n\n                    setDensityMapVisualizationOverlayStateColor( self.farmlandStateOverlay, map, 0 , 0 , 0 , getBitVectorMapNumChannels(map), k, unpack(color))\n                end\n            end\n        end\n\n        -- No borders on small maps\n        local profileClass = Utils.getPerformanceClassId()\n        if profileClass > = GS_PROFILE_HIGH then\n            setDensityMapVisualizationOverlayStateBorderColor( self.farmlandStateOverlay, map, 0 , getBitVectorMapNumChannels(map), MapOverlayGenerator.FARMLANDS_BORDER_THICKNESS, FarmlandManager.NOT_BUYABLE_FARM_ID, unpack( MapOverlayGenerator.COLOR.FIELD_BORDER))\n        end\n\n        self:buildFieldMapOverlay( self.farmlandStateOverlay)\n    end\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"buildfieldsoverlay",children:"buildFieldsOverlay"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"Build the map overlay for minimap"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"buildFieldsOverlay()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,a.jsx)(n.table,{children:(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"fruitTypeFilter"})]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function MapOverlayGenerator:buildFieldsOverlay(fruitTypeFilter)\n    self:buildFieldMapOverlay( self.fieldsOverlay)\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"buildfruittypemapoverlay",children:"buildFruitTypeMapOverlay"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"Build the map overlay for fruit types."}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"buildFruitTypeMapOverlay()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,a.jsx)(n.table,{children:(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"fruitTypeFilter"})]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function MapOverlayGenerator:buildFruitTypeMapOverlay(fruitTypeFilter)\n    for _, displayCropType in ipairs( self.displayCropTypes) do\n        if fruitTypeFilter[displayCropType.fruitTypeIndex] then\n            local foliageId = displayCropType.foliageId\n            if foliageId ~ = nil and foliageId ~ = 0 then\n                local color = displayCropType.colors[ self.isColorBlindMode]\n                local r, g, b = color:unpack()\n                setDensityMapVisualizationOverlayTypeColor( self.foliageStateOverlay, foliageId, r, g, b)\n            end\n        end\n    end\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"buildgrowthstatemapoverlay",children:"buildGrowthStateMapOverlay"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"Build the map overlay for growth states."}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"buildGrowthStateMapOverlay()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"growthStateFilter"})]})}),(0,a.jsx)(n.tbody,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"fruitTypeFilter"})]})})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function MapOverlayGenerator:buildGrowthStateMapOverlay(growthStateFilter, fruitTypeFilter)\n    for _, displayCropType in ipairs( self.displayCropTypes) do\n        if fruitTypeFilter[displayCropType.fruitTypeIndex] then\n            local foliageId = displayCropType.foliageId\n            local desc = self.fruitTypeManager:getFruitTypeByIndex(displayCropType.fruitTypeIndex)\n\n            if desc.maxHarvestingGrowthState > = 0 then\n                if growthStateFilter[ MapOverlayGenerator.GROWTH_STATE_INDEX.WITHERED] then\n                    if desc.witheredState ~ = nil then\n                        local color = self.displayGrowthStates[ MapOverlayGenerator.GROWTH_STATE_INDEX.WITHERED].colors[ self.isColorBlindMode][ 1 ]\n                        setDensityMapVisualizationOverlayGrowthStateColor( self.foliageStateOverlay, foliageId, desc.witheredState, color[ 1 ], color[ 2 ], color[ 3 ])\n                    end\n                end\n\n                if growthStateFilter[ MapOverlayGenerator.GROWTH_STATE_INDEX.HARVESTED] then\n                    local color = self.displayGrowthStates[ MapOverlayGenerator.GROWTH_STATE_INDEX.HARVESTED].colors[ self.isColorBlindMode][ 1 ]\n\n                    for _, cutState in pairs(desc.harvestTransitions) do\n                        setDensityMapVisualizationOverlayGrowthStateColor( self.foliageStateOverlay, foliageId, cutState, color[ 1 ], color[ 2 ], color[ 3 ])\n                    end\n                end\n\n                if growthStateFilter[ MapOverlayGenerator.GROWTH_STATE_INDEX.GROWING] then\n                    local maxGrowingState = desc.minHarvestingGrowthState - 1\n                    if desc.minPreparingGrowthState > = 0 then\n                        maxGrowingState = math.min(maxGrowingState, desc.minPreparingGrowthState - 1 )\n                    end\n\n                    local colors = self.displayGrowthStates[ MapOverlayGenerator.GROWTH_STATE_INDEX.GROWING].colors[ self.isColorBlindMode]\n                    for i = 1 , maxGrowingState do\n                        -- Spready states across colors as different fruits have a different number of growth states\n                        local index = math.max( math.floor(#colors / maxGrowingState * i), 1 )\n                        setDensityMapVisualizationOverlayGrowthStateColor( self.foliageStateOverlay, foliageId, i, colors[index][ 1 ], colors[index][ 2 ], colors[index][ 3 ])\n                    end\n                end\n\n                if growthStateFilter[ MapOverlayGenerator.GROWTH_STATE_INDEX.TOPPING] then\n                    if desc.minPreparingGrowthState > = 0 then\n                        local color = self.displayGrowthStates[ MapOverlayGenerator.GROWTH_STATE_INDEX.TOPPING].colors[ self.isColorBlindMode][ 1 ]\n                        for i = desc.minPreparingGrowthState, desc.maxPreparingGrowthState do\n                            setDensityMapVisualizationOverlayGrowthStateColor( self.foliageStateOverlay, foliageId, i, color[ 1 ], color[ 2 ], color[ 3 ])\n                        end\n                    end\n                end\n\n                if growthStateFilter[ MapOverlayGenerator.GROWTH_STATE_INDEX.HARVEST] then\n                    local colors = self.displayGrowthStates[ MapOverlayGenerator.GROWTH_STATE_INDEX.HARVEST].colors[ self.isColorBlindMode]\n                    for i = desc.minHarvestingGrowthState, desc.maxHarvestingGrowthState do\n                        local index = math.min(i - desc.minHarvestingGrowthState + 1 , #colors)\n                        setDensityMapVisualizationOverlayGrowthStateColor( self.foliageStateOverlay, foliageId, i, colors[index][ 1 ], colors[index][ 2 ], colors[index][ 3 ])\n                    end\n                end\n            end\n        end\n    end\n\n    local mission = g_currentMission\n    local groundTypeMapId, groundTypeFirstChannel, groundTypeNumChannels = mission.fieldGroundSystem:getDensityMapData(FieldDensityMap.GROUND_TYPE)\n\n    -- local fieldMask = 15\n    local fieldMask = bit32.lshift(bit32.lshift( 1 , groundTypeNumChannels) - 1 , groundTypeFirstChannel)\n    if growthStateFilter[ MapOverlayGenerator.GROWTH_STATE_INDEX.CULTIVATED] then\n        local cultivatorValue = FieldGroundType.getValueByType(FieldGroundType.CULTIVATED)\n        local color = self.displayGrowthStates[ MapOverlayGenerator.GROWTH_STATE_INDEX.CULTIVATED].colors[ self.isColorBlindMode][ 1 ]\n        setDensityMapVisualizationOverlayStateColor( self.foliageStateOverlay, groundTypeMapId, 0 , fieldMask, groundTypeFirstChannel, groundTypeNumChannels, cultivatorValue, color[ 1 ], color[ 2 ], color[ 3 ])\n    end\n\n    if growthStateFilter[ MapOverlayGenerator.GROWTH_STATE_INDEX.PLOWED] then\n        local color = self.displayGrowthStates[ MapOverlayGenerator.GROWTH_STATE_INDEX.PLOWED].colors[ self.isColorBlindMode][ 1 ]\n        local plowValue = FieldGroundType.getValueByType(FieldGroundType.PLOWED)\n        setDensityMapVisualizationOverlayStateColor( self.foliageStateOverlay, groundTypeMapId, 0 , fieldMask, groundTypeFirstChannel, groundTypeNumChannels, plowValue, color[ 1 ], color[ 2 ], color[ 3 ])\n    end\n\n    if growthStateFilter[ MapOverlayGenerator.GROWTH_STATE_INDEX.STUBBLE_TILLAGE] then\n        local color = self.displayGrowthStates[ MapOverlayGenerator.GROWTH_STATE_INDEX.STUBBLE_TILLAGE].colors[ self.isColorBlindMode][ 1 ]\n        local stubbleTillageValue = FieldGroundType.getValueByType(FieldGroundType.STUBBLE_TILLAGE)\n        setDensityMapVisualizationOverlayStateColor( self.foliageStateOverlay, groundTypeMapId, 0 , fieldMask, groundTypeFirstChannel, groundTypeNumChannels, stubbleTillageValue, color[ 1 ], color[ 2 ], color[ 3 ])\n    end\n\n    if growthStateFilter[ MapOverlayGenerator.GROWTH_STATE_INDEX.SEEDBED] then\n        local color = self.displayGrowthStates[ MapOverlayGenerator.GROWTH_STATE_INDEX.SEEDBED].colors[ self.isColorBlindMode][ 1 ]\n        local seedBedValue = FieldGroundType.getValueByType(FieldGroundType.SEEDBED)\n        setDensityMapVisualizationOverlayStateColor( self.foliageStateOverlay, groundTypeMapId, 0 , fieldMask, groundTypeFirstChannel, groundTypeNumChannels, seedBedValue, color[ 1 ], color[ 2 ], color[ 3 ])\n        local rolledSeedBedValue = FieldGroundType.getValueByType(FieldGroundType.ROLLED_SEEDBED)\n        setDensityMapVisualizationOverlayStateColor( self.foliageStateOverlay, groundTypeMapId, 0 , fieldMask, groundTypeFirstChannel, groundTypeNumChannels, rolledSeedBedValue, color[ 1 ], color[ 2 ], color[ 3 ])\n    end\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"buildsinglefarmlandsmapoverlay",children:"buildSingleFarmlandsMapOverlay"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"Build the map overlay for farm lands, where only single selected farmland is highlighted, and nothing else is\nshown/changed"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"buildSingleFarmlandsMapOverlay()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,a.jsx)(n.table,{children:(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"selectedFarmland"})]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function MapOverlayGenerator:buildSingleFarmlandsMapOverlay(selectedFarmland)\n    if selectedFarmland = = nil then\n        return\n    end\n\n    local map = self.farmlandManager:getLocalMap()\n    local farmlands = self.farmlandManager:getFarmlands()\n\n    setOverlayColor( self.farmlandStateOverlay, 1 , 1 , 1 , MapOverlayGenerator.FARMLANDS_ALPHA)\n\n    for k, farmland in pairs(farmlands) do\n        if farmland.id = = selectedFarmland.id then\n            setDensityMapVisualizationOverlayStateColor( self.farmlandStateOverlay, map, 0 , 0 , 0 , getBitVectorMapNumChannels(map), k, unpack( MapOverlayGenerator.COLOR.FIELD_SELECTED))\n        end\n    end\n\n    self:buildFieldMapOverlay( self.farmlandStateOverlay)\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"buildsoilstatemapoverlay",children:"buildSoilStateMapOverlay"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"Build the map overlay for soil states."}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"buildSoilStateMapOverlay()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,a.jsx)(n.table,{children:(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"soilStateFilter"})]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function MapOverlayGenerator:buildSoilStateMapOverlay(soilStateFilter)\n    local mission = g_currentMission\n    local groundTypeMapId, groundTypeFirstChannel, groundTypeNumChannels = mission.fieldGroundSystem:getDensityMapData(FieldDensityMap.GROUND_TYPE)\n    -- local fieldMask = 15\n    local fieldMask = bit32.lshift(bit32.lshift( 1 , groundTypeNumChannels) - 1 , groundTypeFirstChannel)\n\n    if soilStateFilter[ MapOverlayGenerator.SOIL_STATE_INDEX.WEEDS] and mission.missionInfo.weedsEnabled then\n        local weedSystem = mission.weedSystem\n        if weedSystem ~ = nil and weedSystem:getMapHasWeed() then\n            local weedMapId, _, _ = weedSystem:getDensityMapData()\n\n            local mapColor, mapColorBlind = weedSystem:getColors()\n            local colors = self.isColorBlindMode and mapColorBlind or mapColor\n\n            for k, data in ipairs(colors) do\n                local stateColor = data.color\n                for _, state in ipairs(data.states) do\n                    setDensityMapVisualizationOverlayGrowthStateColor( self.foliageStateOverlay, weedMapId, state, stateColor[ 1 ], stateColor[ 2 ], stateColor[ 3 ])\n                end\n            end\n        end\n    end\n\n    if soilStateFilter[ MapOverlayGenerator.SOIL_STATE_INDEX.STONES] and mission.missionInfo.stonesEnabled then\n        local stoneSystem = mission.stoneSystem\n        if stoneSystem ~ = nil and stoneSystem:getMapHasStones() then\n            local stoneMapId, _, _ = stoneSystem:getDensityMapData()\n\n            local mapColor, mapColorBlind = stoneSystem:getColors()\n            local colors = self.isColorBlindMode and mapColorBlind or mapColor\n\n            for k, data in ipairs(colors) do\n                local stateColor = data.color\n                for _, state in ipairs(data.states) do\n                    setDensityMapVisualizationOverlayGrowthStateColor( self.foliageStateOverlay, stoneMapId, state, stateColor[ 1 ], stateColor[ 2 ], stateColor[ 3 ])\n                end\n            end\n        end\n    end\n\n    if soilStateFilter[ MapOverlayGenerator.SOIL_STATE_INDEX.NEEDS_PLOWING] and mission.missionInfo.plowingRequiredEnabled then\n        local color = self.displaySoilStates[ MapOverlayGenerator.SOIL_STATE_INDEX.NEEDS_PLOWING].colors[ self.isColorBlindMode][ 1 ]\n        local mapId, plowLevelFirstChannel, plowLevelNumChannels = mission.fieldGroundSystem:getDensityMapData(FieldDensityMap.PLOW_LEVEL)\n\n        setDensityMapVisualizationOverlayStateColor( self.foliageStateOverlay, mapId, groundTypeMapId, fieldMask, plowLevelFirstChannel, plowLevelNumChannels, 0 , color[ 1 ], color[ 2 ], color[ 3 ])\n    end\n\n    if soilStateFilter[ MapOverlayGenerator.SOIL_STATE_INDEX.NEEDS_ROLLING] then\n        local color = self.displaySoilStates[ MapOverlayGenerator.SOIL_STATE_INDEX.NEEDS_ROLLING].colors[ self.isColorBlindMode][ 1 ]\n        local mapId, rollerLevelFirstChannel, rollerLevelNumChannels = mission.fieldGroundSystem:getDensityMapData(FieldDensityMap.ROLLER_LEVEL)\n\n        setDensityMapVisualizationOverlayStateColor( self.foliageStateOverlay, mapId, 0 , fieldMask, rollerLevelFirstChannel, rollerLevelNumChannels, 1 , color[ 1 ], color[ 2 ], color[ 3 ])\n    end\n\n    if soilStateFilter[ MapOverlayGenerator.SOIL_STATE_INDEX.MULCHED] then\n        local color = self.displaySoilStates[ MapOverlayGenerator.SOIL_STATE_INDEX.MULCHED].colors[ self.isColorBlindMode][ 1 ]\n        local mapId, mulchFirstChannel, mulchNumChannels = mission.fieldGroundSystem:getDensityMapData(FieldDensityMap.STUBBLE_SHRED_LEVEL)\n\n        setDensityMapVisualizationOverlayStateColor( self.foliageStateOverlay, mapId, 0 , fieldMask, mulchFirstChannel, mulchNumChannels, 1 , color[ 1 ], color[ 2 ], color[ 3 ])\n    end\n\n    if not Platform.isMobile then\n        if soilStateFilter[ MapOverlayGenerator.SOIL_STATE_INDEX.NEEDS_LIME] and mission.missionInfo.limeRequired then\n            local color = self.displaySoilStates[ MapOverlayGenerator.SOIL_STATE_INDEX.NEEDS_LIME].colors[ self.isColorBlindMode][ 1 ]\n            local mapId, limeLevelFirstChannel, limeLevelNumChannels = mission.fieldGroundSystem:getDensityMapData(FieldDensityMap.LIME_LEVEL)\n\n            setDensityMapVisualizationOverlayStateColor( self.foliageStateOverlay, mapId, groundTypeMapId, fieldMask, limeLevelFirstChannel, limeLevelNumChannels, 0 , color[ 1 ], color[ 2 ], color[ 3 ])\n        end\n    end\n\n    if soilStateFilter[ MapOverlayGenerator.SOIL_STATE_INDEX.FERTILIZED] then\n        local colors = self.displaySoilStates[ MapOverlayGenerator.SOIL_STATE_INDEX.FERTILIZED].colors[ self.isColorBlindMode]\n        local sprayMapId, sprayLevelFirstChannel, sprayLevelNumChannels = mission.fieldGroundSystem:getDensityMapData(FieldDensityMap.SPRAY_LEVEL)\n        local maxSprayLevel = mission.fieldGroundSystem:getMaxValue(FieldDensityMap.SPRAY_LEVEL)\n        for level = 1 , maxSprayLevel do\n            local color = colors[ math.min(level, #colors)]\n            setDensityMapVisualizationOverlayStateColor( self.foliageStateOverlay, sprayMapId, 0 , fieldMask, sprayLevelFirstChannel, sprayLevelNumChannels, level, color[ 1 ], color[ 2 ], color[ 3 ])\n        end\n    end\n\n    if soilStateFilter[ MapOverlayGenerator.SOIL_STATE_INDEX.WATERED] then\n        local color = self.displaySoilStates[ MapOverlayGenerator.SOIL_STATE_INDEX.WATERED].colors[ self.isColorBlindMode][ 1 ]\n        local mapId, firstChannel, numChannels = mission.fieldGroundSystem:getDensityMapData(FieldDensityMap.WATER_LEVEL)\n\n        setDensityMapVisualizationOverlayStateColor( self.foliageStateOverlay, mapId, 0 , fieldMask, firstChannel, numChannels, 1 , color[ 1 ], color[ 2 ], color[ 3 ])\n    end\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"checkoverlayfinished",children:"checkOverlayFinished"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"Check if any overlay is currently being generated and triggers a callback when it's finished."}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"checkOverlayFinished()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function MapOverlayGenerator:checkOverlayFinished()\n    if self.currentOverlayHandle ~ = nil then\n        if getIsDensityMapVisualizationOverlayReady( self.currentOverlayHandle) then\n            self.overlayFinishedCallback( self.currentOverlayHandle)\n            self.currentOverlayHandle = nil\n        end\n    end\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"delete",children:"delete"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"Delete this instance and any used overlays."}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"delete()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function MapOverlayGenerator:delete()\n    self:reset()\n    delete( self.foliageStateOverlay)\n    delete( self.farmlandStateOverlay)\n    delete( self.fieldsOverlay)\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"generatefarmlandoverlay",children:"generateFarmlandOverlay"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"Generate a farm land overlay."}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"generateFarmlandOverlay(function finishedCallback, table mapPosition)"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"function"}),(0,a.jsx)(n.th,{children:"finishedCallback"}),(0,a.jsx)(n.th,{children:"Called when generation is finished, signature: function(overlayId)"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"table"}),(0,a.jsx)(n.td,{children:"mapPosition"}),(0,a.jsx)(n.td,{children:"Map position vector of a selection position. If the position is within a farm land, it will"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"be highlighted."}),(0,a.jsx)(n.td,{}),(0,a.jsx)(n.td,{})]})]})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function MapOverlayGenerator:generateFarmlandOverlay(finishedCallback, mapPosition)\n    return self:generateOverlay( MapOverlayGenerator.OVERLAY_TYPE.FARMLANDS, finishedCallback, mapPosition)\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"generatefieldsoverlay",children:"generateFieldsOverlay"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"Generate ovrlay for minimap"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"generateFieldsOverlay(function finishedCallback, table fruitTypeFilter)"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"function"}),(0,a.jsx)(n.th,{children:"finishedCallback"}),(0,a.jsx)(n.th,{children:"Called when generation is finished, signature: function(overlayId)"})]})}),(0,a.jsx)(n.tbody,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"table"}),(0,a.jsx)(n.td,{children:"fruitTypeFilter"}),(0,a.jsx)(n.td,{children:"Map of fruit type indices to booleans. If the value is true, the fruit type will be displayed."})]})})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Return Values"})}),"\n",(0,a.jsx)(n.p,{children:"| table | True | if overlay generation has started, false if generation is already in progress or an invalid overlay\ntype has been provided |\n| Type | Parameter |\n| |"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function MapOverlayGenerator:generateFieldsOverlay(finishedCallback)\n    return self:generateOverlay( MapOverlayGenerator.OVERLAY_TYPE.FIELDS, finishedCallback)\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"generatefruittypeoverlay",children:"generateFruitTypeOverlay"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"Generate a fruit type overlay."}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"generateFruitTypeOverlay(function finishedCallback, table fruitTypeFilter)"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"function"}),(0,a.jsx)(n.th,{children:"finishedCallback"}),(0,a.jsx)(n.th,{children:"Called when generation is finished, signature: function(overlayId)"})]})}),(0,a.jsx)(n.tbody,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"table"}),(0,a.jsx)(n.td,{children:"fruitTypeFilter"}),(0,a.jsx)(n.td,{children:"Map of fruit type indices to booleans. If the value is true, the fruit type will be displayed."})]})})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Return Values"})}),"\n",(0,a.jsx)(n.p,{children:"| table | True | if overlay generation has started, false if generation is already in progress or an invalid overlay\ntype has been provided |\n| Type | Parameter |\n| |"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function MapOverlayGenerator:generateFruitTypeOverlay(finishedCallback, fruitTypeFilter)\n    return self:generateOverlay( MapOverlayGenerator.OVERLAY_TYPE.CROPS, finishedCallback, fruitTypeFilter)\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"generategrowthstateoverlay",children:"generateGrowthStateOverlay"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"Generate a growth state overlay."}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"generateGrowthStateOverlay(function finishedCallback, table fruitTypeFilter, )"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"function"}),(0,a.jsx)(n.th,{children:"finishedCallback"}),(0,a.jsx)(n.th,{children:"Called when generation is finished, signature: function(overlayId)"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"table"}),(0,a.jsx)(n.td,{children:"fruitTypeFilter"}),(0,a.jsx)(n.td,{children:"Map of growth state indices (MapOverlayGenerator.GROWTH_STATE_INDEX members) to"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"booleans. If the value is true, the growth state will be displayed."}),(0,a.jsx)(n.td,{}),(0,a.jsx)(n.td,{})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"fruitTypeFilter"}),(0,a.jsx)(n.td,{})]})]})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Return Values"})}),"\n",(0,a.jsx)(n.p,{children:"| any | True | if overlay generation has started, false if generation is already in progress or an invalid overlay\ntype has been provided |\n| Type | Parameter |\n| |"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function MapOverlayGenerator:generateGrowthStateOverlay(finishedCallback, growthStateFilter, fruitTypeFilter)\n    return self:generateOverlay( MapOverlayGenerator.OVERLAY_TYPE.GROWTH, finishedCallback, growthStateFilter, fruitTypeFilter)\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"generateoverlay",children:"generateOverlay"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"Generate a map overlay of a given type.\nThis is an internal generic interfacing method and should not be called externally. Consumers should use one of the\nspecific public methods instead, e.g. MapOverlayGenerator:generateFruitTypeOverlay()."}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"generateOverlay(integer mapOverlayType, function finishedCallback, table overlayState, )"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"integer"}),(0,a.jsx)(n.th,{children:"mapOverlayType"}),(0,a.jsx)(n.th,{children:"Overlay type as one of MapOverlayGenerator.OVERLAY_TYPE.[CROPS"}),(0,a.jsx)(n.th,{children:"GROWTH"}),(0,a.jsx)(n.th,{children:"SOIL"}),(0,a.jsx)(n.th,{children:"FARMLANDS]"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"function"}),(0,a.jsx)(n.td,{children:"finishedCallback"}),(0,a.jsx)(n.td,{children:"Function which is called with the overlay ID as its argument when processing is"}),(0,a.jsx)(n.td,{}),(0,a.jsx)(n.td,{}),(0,a.jsx)(n.td,{})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"finished, signature: function(overlayId)"}),(0,a.jsx)(n.td,{}),(0,a.jsx)(n.td,{}),(0,a.jsx)(n.td,{}),(0,a.jsx)(n.td,{}),(0,a.jsx)(n.td,{})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"table"}),(0,a.jsx)(n.td,{children:"overlayState"}),(0,a.jsx)(n.td,{children:"Overlay state data which defines parameters (e.g. colors) of the map overlays."}),(0,a.jsx)(n.td,{}),(0,a.jsx)(n.td,{}),(0,a.jsx)(n.td,{})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"overlayState2"}),(0,a.jsx)(n.td,{}),(0,a.jsx)(n.td,{}),(0,a.jsx)(n.td,{}),(0,a.jsx)(n.td,{})]})]})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Return Values"})}),"\n",(0,a.jsx)(n.p,{children:"| any | True | if overlay generation has started, false if generation is already in progress or an invalid overlay\ntype has been provided |\n| Type | Parameter |\n| |"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:'function MapOverlayGenerator:generateOverlay(mapOverlayType, finishedCallback, overlayState, overlayState2)\n    local success = true\n    if self.overlayTypeCheckHash[mapOverlayType] = = nil then\n        Logging.warning( "Tried generating a map overlay with an invalid overlay type: [%s]" , tostring(mapOverlayType))\n        success = false\n    else\n            local overlayHandle = self.overlayHandles[mapOverlayType]\n            self.overlayFinishedCallback = finishedCallback or NO_CALLBACK\n            resetDensityMapVisualizationOverlay(overlayHandle) -- clear any previous overlay state\n\n            self.currentOverlayHandle = overlayHandle\n\n            local builderFunction = self.typeBuilderFunctionMap[mapOverlayType]\n\n            builderFunction( self , overlayState, overlayState2)\n\n            -- generate the map overlay based on the settings made in the build methods\n            generateDensityMapVisualizationOverlay(overlayHandle)\n            self:checkOverlayFinished() -- check now, might already be done\n        end\n\n        return success\n    end\n\n'})}),"\n",(0,a.jsx)(n.h3,{id:"generatesinglefarmlandoverlay",children:"generateSingleFarmlandOverlay"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"Generate a farm land overlay."}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"generateSingleFarmlandOverlay(function finishedCallback, table mapPosition)"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"function"}),(0,a.jsx)(n.th,{children:"finishedCallback"}),(0,a.jsx)(n.th,{children:"Called when generation is finished, signature: function(overlayId)"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"table"}),(0,a.jsx)(n.td,{children:"mapPosition"}),(0,a.jsx)(n.td,{children:"Map position vector of a selection position. If the position is within a farm land, it will"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"be highlighted."}),(0,a.jsx)(n.td,{}),(0,a.jsx)(n.td,{})]})]})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function MapOverlayGenerator:generateSingleFarmlandOverlay(finishedCallback, mapPosition)\n    return self:generateOverlay( MapOverlayGenerator.OVERLAY_TYPE.FARMLAND_SINGLE, finishedCallback, mapPosition)\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"generatesoilstateoverlay",children:"generateSoilStateOverlay"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"Generate a soil state overlay."}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"generateSoilStateOverlay(function finishedCallback, table fruitTypeFilter)"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"function"}),(0,a.jsx)(n.th,{children:"finishedCallback"}),(0,a.jsx)(n.th,{children:"Called when generation is finished, signature: function(overlayId)"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"table"}),(0,a.jsx)(n.td,{children:"fruitTypeFilter"}),(0,a.jsx)(n.td,{children:"Map of soil state indices (MapOverlayGenerator.SOIL_STATE_INDEX members) to"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"booleans. If the value is true, the soil state will be displayed."}),(0,a.jsx)(n.td,{}),(0,a.jsx)(n.td,{})]})]})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Return Values"})}),"\n",(0,a.jsx)(n.p,{children:"| table | True | if overlay generation has started, false if generation is already in progress or an invalid overlay\ntype has been provided |\n| Type | Parameter |\n| |"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function MapOverlayGenerator:generateSoilStateOverlay(finishedCallback, soilStateFilter)\n    return self:generateOverlay( MapOverlayGenerator.OVERLAY_TYPE.SOIL, finishedCallback, soilStateFilter)\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"getdisplaycroptypes",children:"getDisplayCropTypes"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"Get display information for crop types.\nOverride to add new crop types or change information."}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"getDisplayCropTypes()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Return Values"})}),"\n",(0,a.jsx)(n.p,{children:"| table | list | of display information, {i={colors={true=[{r,g,b,a} colorblind], false=[{r,g,b,a} default],\niconFilename=path,\niconUVs={u1, v1, u2, v2, u3, v3, u4, v4}, description=text, fruitTypeIndex=index}} |\n| Type | Parameter |\n| |"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function MapOverlayGenerator:getDisplayCropTypes()\n    local cropTypes = { }\n    -- load crop type icon definitions in order of map configuration\n    for _, fruitType in ipairs( self.missionFruitTypes) do\n        if fruitType.shownOnMap then\n            local fillableIndex = self.fruitTypeManager:getFillTypeIndexByFruitTypeIndex(fruitType.fruitTypeIndex)\n            local fillable = self.fillTypeManager:getFillTypeByIndex(fillableIndex)\n\n            local iconFilename = fillable.hudOverlayFilename\n            local iconUVs = Overlay.DEFAULT_UVS -- default crop type icons are separate files, use full texture\n            local description = fillable.title\n\n            table.insert(cropTypes, {\n            colors = { [ false ] = fruitType.defaultColor, [ true ] = fruitType.colorBlindColor } ,\n            iconFilename = iconFilename,\n            iconUVs = iconUVs,\n            description = description,\n            fruitTypeIndex = fruitType.fruitTypeIndex,\n            foliageId = fruitType.foliageId\n            } )\n        end\n    end\n\n    return cropTypes\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"getdisplaygrowthstates",children:"getDisplayGrowthStates"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"Get display information for growth states.\nGrowth states can be represented in multiple colors per state, so colors are defined in arrays per color blind mode.\nOverride to add new growth states or change information."}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"getDisplayGrowthStates()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,a.jsx)(n.table,{children:(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"table"}),(0,a.jsx)(n.th,{children:"list"}),(0,a.jsx)(n.th,{children:"of display information, {i={colors={true={i={r,g,b,a}}, false={i={r,g,b,a}}}, description=text}}"})]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function MapOverlayGenerator:getDisplayGrowthStates()\n    local res = {\n    -- indices are contiguous, so this definition is a valid array:\n    [ MapOverlayGenerator.GROWTH_STATE_INDEX.CULTIVATED] = {\n    colors = {\n    [ true ] = { MapOverlayGenerator.FRUIT_COLOR_CULTIVATED[ true ] } ,\n    [ false ] = { MapOverlayGenerator.FRUIT_COLOR_CULTIVATED[ false ] }\n    } ,\n    description = self.l10n:getText( MapOverlayGenerator.L10N_SYMBOL.GROWTH_MAP_CULTIVATED)\n    } ,\n    [ MapOverlayGenerator.GROWTH_STATE_INDEX.STUBBLE_TILLAGE] = {\n    colors = {\n    [ true ] = { MapOverlayGenerator.FRUIT_COLOR_STUBBLE_TILLAGE[ true ] } ,\n    [ false ] = { MapOverlayGenerator.FRUIT_COLOR_STUBBLE_TILLAGE[ false ] }\n    } ,\n    description = self.l10n:getText( MapOverlayGenerator.L10N_SYMBOL.GROWTH_MAP_STUBBLE_TILLAGE)\n    } ,\n    [ MapOverlayGenerator.GROWTH_STATE_INDEX.SEEDBED] = {\n    colors = {\n    [ true ] = { MapOverlayGenerator.FRUIT_COLOR_SEEDBED[ true ] } ,\n    [ false ] = { MapOverlayGenerator.FRUIT_COLOR_SEEDBED[ false ] }\n    } ,\n    description = self.l10n:getText( MapOverlayGenerator.L10N_SYMBOL.GROWTH_MAP_SEEDBED)\n    } ,\n    [ MapOverlayGenerator.GROWTH_STATE_INDEX.GROWING] = {\n    colors = MapOverlayGenerator.FRUIT_COLORS_GROWING,\n    description = self.l10n:getText( MapOverlayGenerator.L10N_SYMBOL.GROWTH_MAP_GROWING)\n    } ,\n    [ MapOverlayGenerator.GROWTH_STATE_INDEX.HARVEST] = {\n    colors = MapOverlayGenerator.FRUIT_COLORS_HARVEST,\n    description = self.l10n:getText( MapOverlayGenerator.L10N_SYMBOL.GROWTH_MAP_HARVEST)\n    } ,\n    [ MapOverlayGenerator.GROWTH_STATE_INDEX.HARVESTED] = {\n    colors = {\n    [ true ] = { MapOverlayGenerator.FRUIT_COLOR_CUT } ,\n    [ false ] = { MapOverlayGenerator.FRUIT_COLOR_CUT }\n    } ,\n    description = self.l10n:getText( MapOverlayGenerator.L10N_SYMBOL.GROWTH_MAP_HARVESTED)\n    } ,\n    [ MapOverlayGenerator.GROWTH_STATE_INDEX.TOPPING] = {\n    colors = {\n    [ true ] = { MapOverlayGenerator.FRUIT_COLOR_REMOVE_TOPS[ true ] } ,\n    [ false ] = { MapOverlayGenerator.FRUIT_COLOR_REMOVE_TOPS[ false ] }\n    } ,\n    description = self.l10n:getText( MapOverlayGenerator.L10N_SYMBOL.GROWTH_MAP_TOPPING)\n    } ,\n    [ MapOverlayGenerator.GROWTH_STATE_INDEX.PLOWED] = {\n    colors = {\n    [ true ] = { MapOverlayGenerator.FRUIT_COLOR_PLOWED[ true ] } ,\n    [ false ] = { MapOverlayGenerator.FRUIT_COLOR_PLOWED[ false ] }\n    } ,\n    description = self.l10n:getText( MapOverlayGenerator.L10N_SYMBOL.GROWTH_MAP_PLOWED)\n    }\n    }\n\n    if Platform.gameplay.supportsWithering then\n        res[ MapOverlayGenerator.GROWTH_STATE_INDEX.WITHERED] = {\n        colors = {\n        [ true ] = { MapOverlayGenerator.FRUIT_COLOR_WITHERED[ true ] } ,\n        [ false ] = { MapOverlayGenerator.FRUIT_COLOR_WITHERED[ false ] }\n        } ,\n        description = self.l10n:getText( MapOverlayGenerator.L10N_SYMBOL.GROWTH_MAP_WITHERED)\n        }\n    end\n\n    return res\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"getdisplaysoilstates",children:"getDisplaySoilStates"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"Get display information for soil states.\nSoil states can be represented in multiple colors per state, so colors are defined in arrays per color blind mode.\nOverride to add new soil states or change information."}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"getDisplaySoilStates()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,a.jsx)(n.table,{children:(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"table"}),(0,a.jsx)(n.th,{children:"list"}),(0,a.jsx)(n.th,{children:"of display information, {i={colors={true={i={r,g,b,a}}, false={i={r,g,b,a}}}, description=text}}"})]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:'function MapOverlayGenerator:getDisplaySoilStates()\n    local fertilizerColors = { [ true ] = { } , [ false ] = { } }\n    local mission = g_currentMission\n\n    local maxFertilizerStates = mission.fieldGroundSystem:getMaxValue(FieldDensityMap.SPRAY_LEVEL)\n    for colorBlind, colors in pairs( MapOverlayGenerator.FRUIT_COLORS_FERTILIZED) do\n        for i = #colors, 1 , - 1 do\n            local color = colors[i]\n            table.insert(fertilizerColors[colorBlind], 1 , color)\n\n            if #fertilizerColors[colorBlind] = = maxFertilizerStates then\n                break\n            end\n        end\n    end\n\n    local res = {\n    [ MapOverlayGenerator.SOIL_STATE_INDEX.FERTILIZED] = {\n    colors = fertilizerColors,\n    description = self.l10n:getText( MapOverlayGenerator.L10N_SYMBOL.SOIL_MAP_FERTILIZED),\n    isActive = true\n    } ,\n    }\n\n    if Platform.gameplay.usePlowCounter and mission.missionInfo.plowingRequiredEnabled then\n        res[ MapOverlayGenerator.SOIL_STATE_INDEX.NEEDS_PLOWING] = {\n        colors = {\n        [ true ] = { MapOverlayGenerator.FRUIT_COLOR_NEEDS_PLOWING[ true ] } ,\n        [ false ] = { MapOverlayGenerator.FRUIT_COLOR_NEEDS_PLOWING[ false ] }\n        } ,\n        description = self.l10n:getText( MapOverlayGenerator.L10N_SYMBOL.SOIL_MAP_NEED_PLOWING),\n        isActive = mission.missionInfo.plowingRequiredEnabled\n        }\n    end\n\n    if Platform.gameplay.useLimeCounter and mission.missionInfo.limeRequired then\n        res[ MapOverlayGenerator.SOIL_STATE_INDEX.NEEDS_LIME] = {\n        colors = {\n        [ true ] = { MapOverlayGenerator.FRUIT_COLOR_NEEDS_LIME[ true ] } ,\n        [ false ] = { MapOverlayGenerator.FRUIT_COLOR_NEEDS_LIME[ false ] }\n        } ,\n        description = self.l10n:getText( MapOverlayGenerator.L10N_SYMBOL.SOIL_MAP_NEED_LIME),\n        isActive = mission.missionInfo.limeRequired\n        }\n    end\n\n    if Platform.gameplay.useRolling then\n        res[ MapOverlayGenerator.SOIL_STATE_INDEX.NEEDS_ROLLING] = {\n        colors = {\n        [ true ] = { MapOverlayGenerator.FRUIT_COLOR_NEEDS_ROLLING[ true ] } ,\n        [ false ] = { MapOverlayGenerator.FRUIT_COLOR_NEEDS_ROLLING[ false ] }\n        } ,\n        description = self.l10n:getText( MapOverlayGenerator.L10N_SYMBOL.SOIL_MAP_NEED_ROLLING),\n        isActive = true\n        }\n    end\n\n    if Platform.gameplay.useStubbleShred then\n        res[ MapOverlayGenerator.SOIL_STATE_INDEX.MULCHED] = {\n        colors = {\n        [ true ] = { MapOverlayGenerator.FRUIT_COLOR_MULCHED[ true ] } ,\n        [ false ] = { MapOverlayGenerator.FRUIT_COLOR_MULCHED[ false ] }\n        } ,\n        description = self.l10n:getText( MapOverlayGenerator.L10N_SYMBOL.SOIL_MAP_MULCHED),\n        isActive = true\n        }\n    end\n\n    res[ MapOverlayGenerator.SOIL_STATE_INDEX.WATERED] = {\n    colors = {\n    [ true ] = { MapOverlayGenerator.FRUIT_COLOR_WATERED[ true ] } ,\n    [ false ] = { MapOverlayGenerator.FRUIT_COLOR_WATERED[ false ] }\n    } ,\n    description = self.l10n:getText( MapOverlayGenerator.L10N_SYMBOL.SOIL_MAP_WATERED),\n    isActive = true\n    }\n\n    local weedSystem = mission.weedSystem\n    if weedSystem ~ = nil and weedSystem:getMapHasWeed() and mission.missionInfo.weedsEnabled then\n        local mapColor, mapColorBlind = weedSystem:getColors()\n        local description = weedSystem:getTitle() or ""\n\n        local colors = { [ true ] = { } , [ false ] = { } }\n        for k, data in ipairs(mapColor) do\n            table.insert(colors[ true ], mapColorBlind[k].color)\n            table.insert(colors[ false ], data.color)\n        end\n\n        res[ MapOverlayGenerator.SOIL_STATE_INDEX.WEEDS] = {\n        colors = colors,\n        description = description,\n        isActive = mission.missionInfo.weedsEnabled\n        }\n    end\n\n    local stoneSystem = mission.stoneSystem\n    if stoneSystem ~ = nil and stoneSystem:getMapHasStones() and mission.missionInfo.stonesEnabled then\n        local mapColor, mapColorBlind = stoneSystem:getColors()\n        local description = stoneSystem:getTitle() or ""\n\n        local colors = { [ true ] = { } , [ false ] = { } }\n        for k, data in ipairs(mapColor) do\n            table.insert(colors[ true ], mapColorBlind[k].color)\n            table.insert(colors[ false ], data.color)\n        end\n\n        res[ MapOverlayGenerator.SOIL_STATE_INDEX.STONES] = {\n        colors = colors,\n        description = description,\n        isActive = mission.missionInfo.stonesEnabled\n        }\n    end\n\n    return res\nend\n\n'})}),"\n",(0,a.jsx)(n.h3,{id:"new",children:"new"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"Create a MapOverlayGenerator instance."}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"new(table l10n, table fruitTypeManager, table fillTypeManager, table farmlandManager, table farmManager, table\nweedSystem)"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"table"}),(0,a.jsx)(n.th,{children:"l10n"}),(0,a.jsx)(n.th,{children:"I18N reference for text localization"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"table"}),(0,a.jsx)(n.td,{children:"fruitTypeManager"}),(0,a.jsx)(n.td,{children:"FruitTypeManager reference for fruit type resolution"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"table"}),(0,a.jsx)(n.td,{children:"fillTypeManager"}),(0,a.jsx)(n.td,{children:"FillTypeManager reference for fruit fill type resolution"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"table"}),(0,a.jsx)(n.td,{children:"farmlandManager"}),(0,a.jsx)(n.td,{children:"FarmlandManager reference for farm land data access"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"table"}),(0,a.jsx)(n.td,{children:"farmManager"}),(0,a.jsx)(n.td,{children:"FarmManager reference for farm land ownership data access"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"table"}),(0,a.jsx)(n.td,{children:"weedSystem"}),(0,a.jsx)(n.td,{})]})]})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n",(0,a.jsx)(n.table,{children:(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"table"}),(0,a.jsx)(n.th,{children:"self"})]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:'function MapOverlayGenerator.new(l10n, fruitTypeManager, fillTypeManager, farmlandManager, farmManager, weedSystem)\n    local self = setmetatable( { } , MapOverlayGenerator _mt)\n\n    self.l10n = l10n\n    self.fruitTypeManager = fruitTypeManager\n    self.fillTypeManager = fillTypeManager\n    self.farmlandManager = farmlandManager\n    self.farmManager = farmManager\n\n    self.missionFruitTypes = { }\n    self.isColorBlindMode = nil\n\n    self.foliageStateOverlay = createDensityMapVisualizationOverlay( "foliageState" , unpack( self:adjustedOverlayResolution( MapOverlayGenerator.OVERLAY_RESOLUTION.FOLIAGE_STATE)))\n    self.farmlandStateOverlay = createDensityMapVisualizationOverlay( "farmlandState" , unpack( self:adjustedOverlayResolution( MapOverlayGenerator.OVERLAY_RESOLUTION.FARMLANDS, true )))\n    self.fieldsOverlay = createDensityMapVisualizationOverlay( "fields" , unpack( self:adjustedOverlayResolution( MapOverlayGenerator.OVERLAY_RESOLUTION.FIELDS)))\n\n    self.typeBuilderFunctionMap = {\n    [ MapOverlayGenerator.OVERLAY_TYPE.CROPS] = self.buildFruitTypeMapOverlay,\n    [ MapOverlayGenerator.OVERLAY_TYPE.GROWTH] = self.buildGrowthStateMapOverlay,\n    [ MapOverlayGenerator.OVERLAY_TYPE.SOIL] = self.buildSoilStateMapOverlay,\n    [ MapOverlayGenerator.OVERLAY_TYPE.FARMLANDS] = self.buildFarmlandsMapOverlay,\n    [ MapOverlayGenerator.OVERLAY_TYPE.FIELDS] = self.buildFieldsOverlay,\n    [ MapOverlayGenerator.OVERLAY_TYPE.FARMLAND_SINGLE] = self.buildSingleFarmlandsMapOverlay,\n    }\n\n    self.overlayHandles = {\n    [ MapOverlayGenerator.OVERLAY_TYPE.CROPS] = self.foliageStateOverlay, -- re-use this handle, these types are mutually exclusive\n    [ MapOverlayGenerator.OVERLAY_TYPE.GROWTH] = self.foliageStateOverlay,\n    [ MapOverlayGenerator.OVERLAY_TYPE.SOIL] = self.foliageStateOverlay,\n    [ MapOverlayGenerator.OVERLAY_TYPE.FARMLANDS] = self.farmlandStateOverlay, -- farmlands are separate\n    [ MapOverlayGenerator.OVERLAY_TYPE.FIELDS] = self.fieldsOverlay, -- farmlands are separate\n    [ MapOverlayGenerator.OVERLAY_TYPE.FARMLAND_SINGLE] = self.farmlandStateOverlay, -- farmlands are separate\n    }\n\n    self.currentOverlayHandle = nil -- handle of overlay which is currently being generated or nil if none is processing\n        self.overlayFinishedCallback = NO_CALLBACK\n\n        self.overlayTypeCheckHash = { }\n        for k, v in pairs( MapOverlayGenerator.OVERLAY_TYPE) do\n            self.overlayTypeCheckHash[v] = k\n        end\n\n        self.fieldColor = MapOverlayGenerator.FIELD_COLOR\n        self.grassFieldColor = MapOverlayGenerator.FIELD_GRASS_COLOR\n\n        self.fieldsRefreshTimer = 0\n        self.fieldsOverlayUpdating = false\n\n        return self\n    end\n\n'})}),"\n",(0,a.jsx)(n.h3,{id:"reset",children:"reset"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"Reset overlay generation state."}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"reset()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function MapOverlayGenerator:reset()\n    resetDensityMapVisualizationOverlay( self.foliageStateOverlay)\n    resetDensityMapVisualizationOverlay( self.farmlandStateOverlay)\n    resetDensityMapVisualizationOverlay( self.fieldsOverlay)\n    self.currentOverlayHandle = nil\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"setcolorblindmode",children:"setColorBlindMode"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"Set the color blind mode for overlay creation."}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"setColorBlindMode()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,a.jsx)(n.table,{children:(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"isColorBlindMode"})]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function MapOverlayGenerator:setColorBlindMode(isColorBlindMode)\n    self.isColorBlindMode = isColorBlindMode\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"setmissionfruittypes",children:"setMissionFruitTypes"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"Set the valid fruit types of the current mission."}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"setMissionFruitTypes()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,a.jsx)(n.table,{children:(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"missionFruitTypes"})]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function MapOverlayGenerator:setMissionFruitTypes(missionFruitTypes)\n    self.missionFruitTypes = { }\n    for _, fruitType in ipairs(missionFruitTypes) do\n        -- transfer to new data structure used to display filters:\n        table.insert( self.missionFruitTypes, {\n        foliageId = fruitType.terrainDataPlaneId,\n        fruitTypeIndex = fruitType.index,\n        shownOnMap = fruitType.shownOnMap,\n        defaultColor = fruitType.defaultMapColor,\n        colorBlindColor = fruitType.colorBlindMapColor\n        } )\n    end\n\n    self.displayCropTypes = self:getDisplayCropTypes()\n    self.displayGrowthStates = self:getDisplayGrowthStates()\n    self.displaySoilStates = self:getDisplaySoilStates()\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"update",children:"update"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"Update the state each frame.\nChecks the overlay generation state."}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"update()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,a.jsx)(n.table,{children:(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"dt"})]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function MapOverlayGenerator:update(dt)\n    if not self.fieldsOverlayUpdating and g_ time > self.fieldsRefreshTimer then\n        self.fieldsOverlayUpdating = true\n\n        self:generateFieldsOverlay( function (overlayId)\n            self.fieldsOverlay = overlayId\n            self.fieldsOverlayIsReady = true\n            self.fieldsOverlayUpdating = false\n            self.fieldsRefreshTimer = g_ time + MapOverlayGenerator.FIELD_REFRESH_INTERVAL\n        end )\n    end\n\n    self:checkOverlayFinished()\nend\n\n"})})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}}}]);