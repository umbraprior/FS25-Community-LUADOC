"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[17787],{26920(e,n,l){l.r(n),l.d(n,{assets:()=>o,contentTitle:()=>d,default:()=>h,frontMatter:()=>i,metadata:()=>t,toc:()=>a});const t=JSON.parse('{"id":"script/GUI/TableHeaderElement","title":"TableHeaderElement","description":"TableHeaderElement","source":"@site/../docs/script/GUI/TableHeaderElement.md","sourceDirName":"script/GUI","slug":"/script/GUI/TableHeaderElement","permalink":"/FS25-Community-LUADOC/script/GUI/TableHeaderElement","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"TabbedMenuWithDetails","permalink":"/FS25-Community-LUADOC/script/GUI/TabbedMenuWithDetails"},"next":{"title":"TerrainLayerElement","permalink":"/FS25-Community-LUADOC/script/GUI/TerrainLayerElement"}}');var r=l(74848),s=l(28453);const i={},d=void 0,o={},a=[{value:"TableHeaderElement",id:"tableheaderelement",level:2},{value:"copyAttributes",id:"copyattributes",level:3},{value:"disableSorting",id:"disablesorting",level:3},{value:"loadFromXML",id:"loadfromxml",level:3},{value:"loadProfile",id:"loadprofile",level:3},{value:"new",id:"new",level:3},{value:"onGuiSetupFinished",id:"onguisetupfinished",level:3},{value:"toggleSorting",id:"togglesorting",level:3},{value:"updateSortingDisplay",id:"updatesortingdisplay",level:3}];function c(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"tableheaderelement",children:"TableHeaderElement"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:'Table header element to use within tables.\nChildren which serve as sorting icons are to be marked in the screen XML configuration by setting the name attribute\nto "iconAscending" or "iconDescending" depending on which sorting state they are intended to represent. Headers must\nbe defined outside of tables, because anything within a table is considered a table item.'}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parent"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"?version=script&category=43&class=500",children:"ButtonElement"})}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Functions"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#copyattributes",children:"copyAttributes"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#disablesorting",children:"disableSorting"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#loadfromxml",children:"loadFromXML"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#loadprofile",children:"loadProfile"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#new",children:"new"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#onguisetupfinished",children:"onGuiSetupFinished"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#togglesorting",children:"toggleSorting"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#updatesortingdisplay",children:"updateSortingDisplay"})}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"copyattributes",children:"copyAttributes"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"copyAttributes()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,r.jsx)(n.table,{children:(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"any"}),(0,r.jsx)(n.th,{children:"src"})]})})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function TableHeaderElement:copyAttributes(src)\n    TableHeaderElement:superClass().copyAttributes( self , src)\n\n    self.targetTableId = src.targetTableId\n    self.columnName = src.columnName\n    self.allowedSortingStates = { unpack(src.allowedSortingStates) }\nend\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"disablesorting",children:"disableSorting"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Disable sorting on this header by setting its sorting state to OFF."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"disableSorting()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function TableHeaderElement:disableSorting()\n    self.sortingOrder = TableHeaderElement.SORTING_OFF\n    self:updateSortingDisplay()\nend\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"loadfromxml",children:"loadFromXML"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"loadFromXML()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"any"}),(0,r.jsx)(n.th,{children:"xmlFile"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"key"})]})})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'function TableHeaderElement:loadFromXML(xmlFile, key)\n    TableHeaderElement:superClass().loadFromXML( self , xmlFile, key)\n\n    self.targetTableId = getXMLString(xmlFile, key .. "#targetTableId" ) or self.targetTableId\n    self.columnName = getXMLString(xmlFile, key .. "#columnName" ) or self.columnName\n\n    local allowAscendingSort = Utils.getNoNil(getXMLBool(xmlFile, key .. "#allowSortingAsc" ), self.allowedSortingStates[ TableHeaderElement.SORTING_ASC])\n    local allowDescendingSort = Utils.getNoNil(getXMLBool(xmlFile, key .. "#allowSortingDesc" ), self.allowedSortingStates[ TableHeaderElement.SORTING_DESC])\n    self.allowedSortingStates[ TableHeaderElement.SORTING_ASC] = allowAscendingSort\n    self.allowedSortingStates[ TableHeaderElement.SORTING_DESC] = allowDescendingSort\nend\n\n'})}),"\n",(0,r.jsx)(n.h3,{id:"loadprofile",children:"loadProfile"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"loadProfile()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"any"}),(0,r.jsx)(n.th,{children:"profile"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"applyProfile"})]})})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'function TableHeaderElement:loadProfile(profile, applyProfile)\n    TableHeaderElement:superClass().loadProfile( self , profile, applyProfile)\n\n    self.columnName = profile:getValue( "columnName" , self.columnName)\n    self.allowedSortingStates[ TableHeaderElement.SORTING_ASC] = profile:getBool( "allowSortingAsc" , self.allowedSortingStates[ TableHeaderElement.SORTING_ASC])\n    self.allowedSortingStates[ TableHeaderElement.SORTING_DESC] = profile:getBool( "allowSortingDesc" , self.allowedSortingStates[ TableHeaderElement.SORTING_DESC])\nend\n\n'})}),"\n",(0,r.jsx)(n.h3,{id:"new",children:"new"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"new()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"any"}),(0,r.jsx)(n.th,{children:"target"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"custom_mt"})]})})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'function TableHeaderElement.new(target, custom_mt)\n    local self = ButtonElement.new(target, custom_mt or TableHeaderElement _mt)\n\n    self.allowedSortingStates = {\n    [ TableHeaderElement.SORTING_OFF] = true , -- no reason to ever change this, only here for processing\n        [ TableHeaderElement.SORTING_ASC] = false ,\n        [ TableHeaderElement.SORTING_DESC] = false ,\n        }\n        self.sortingOrder = TableHeaderElement.SORTING_OFF -- state index in allowed sorting states\n\n        self.sortingIcons = {\n        [ TableHeaderElement.SORTING_OFF] = nil , -- off state icon element\n        [ TableHeaderElement.SORTING_ASC] = nil , -- ascending sort state icon element\n        [ TableHeaderElement.SORTING_DESC] = nil -- descending sort state icon element\n        }\n\n        self.targetTableId = "" -- ID of decorated table\n        self.columnName = "" -- name of table column to sort\n\n        return self\n    end\n\n'})}),"\n",(0,r.jsx)(n.h3,{id:"onguisetupfinished",children:"onGuiSetupFinished"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"This element searches for marked children to use as sorting icons."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"onGuiSetupFinished()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function TableHeaderElement:onGuiSetupFinished()\n    TableHeaderElement:superClass().onGuiSetupFinished( self )\n\n    for _, child in pairs( self.elements) do\n        -- find header icons by configuration attribute\n        if child.name = = TableHeaderElement.NAME_ASC_ICON then\n            self.sortingIcons[ TableHeaderElement.SORTING_ASC] = child\n        end\n        if child.name = = TableHeaderElement.NAME_DESC_ICON then\n            self.sortingIcons[ TableHeaderElement.SORTING_DESC] = child\n        end\n    end\nend\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"togglesorting",children:"toggleSorting"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Toggle this header's sorting display state, if allowed."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"toggleSorting()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,r.jsx)(n.table,{children:(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"any"}),(0,r.jsx)(n.th,{children:"new"}),(0,r.jsx)(n.th,{children:"sorting order"})]})})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function TableHeaderElement:toggleSorting()\n    -- cycle to the next allowed sorting state(will stop at off setting at the latest):\n    local prevOrderIndex = self.sortingOrder\n\n    repeat\n    self.sortingOrder = (( self.sortingOrder) % # self.allowedSortingStates) + 1\n    until self.allowedSortingStates[ self.sortingOrder]\n\n    if not(prevOrderIndex = = self.sortingOrder) then\n        self:updateSortingDisplay()\n    end\n\n    return self.sortingOrder\nend\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"updatesortingdisplay",children:"updateSortingDisplay"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Update the header's display with its new state."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"updateSortingDisplay()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function TableHeaderElement:updateSortingDisplay()\n    -- enable current state, disable others\n    for sortOrderIndex, icon in pairs( self.sortingIcons) do\n        if sortOrderIndex = = self.sortingOrder then\n            icon:setVisible( true )\n        else\n                icon:setVisible( false )\n            end\n        end\n    end\n\n"})})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},28453(e,n,l){l.d(n,{R:()=>i,x:()=>d});var t=l(96540);const r={},s=t.createContext(r);function i(e){const n=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);