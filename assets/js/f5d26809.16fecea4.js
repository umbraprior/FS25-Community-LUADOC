"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[54697],{28453(e,n,r){r.d(n,{R:()=>l,x:()=>o});var t=r(96540);const s={},i=t.createContext(s);function l(e){const n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),t.createElement(i.Provider,{value:n},e.children)}},35528(e,n,r){r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>t,toc:()=>a});const t=JSON.parse('{"id":"script/Handtools/HandToolMotorized","title":"HandToolMotorized","description":"HandToolMotorized","source":"@site/../docs/script/Handtools/HandToolMotorized.md","sourceDirName":"script/Handtools","slug":"/script/Handtools/HandToolMotorized","permalink":"/FS25-Community-LUADOC/script/Handtools/HandToolMotorized","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"HandToolLoadingData","permalink":"/FS25-Community-LUADOC/script/Handtools/HandToolLoadingData"},"next":{"title":"HandToolSprayCan","permalink":"/FS25-Community-LUADOC/script/Handtools/HandToolSprayCan"}}');var s=r(74848),i=r(28453);const l={},o=void 0,d={},a=[{value:"HandToolMotorized",id:"handtoolmotorized",level:2},{value:"getCurrentLoad",id:"getcurrentload",level:3},{value:"getCurrentRPM",id:"getcurrentrpm",level:3},{value:"getMaxRPM",id:"getmaxrpm",level:3},{value:"getMinRPM",id:"getminrpm",level:3},{value:"getRPMGainPerSecond",id:"getrpmgainpersecond",level:3},{value:"getRPMLossPerSecond",id:"getrpmlosspersecond",level:3},{value:"getTargetRPM",id:"gettargetrpm",level:3},{value:"getTimeToReachRPM",id:"gettimetoreachrpm",level:3},{value:"onDebugDraw",id:"ondebugdraw",level:3},{value:"onDelete",id:"ondelete",level:3},{value:"onHeldEnd",id:"onheldend",level:3},{value:"onHeldStart",id:"onheldstart",level:3},{value:"onLoad",id:"onload",level:3},{value:"onReadUpdateStream",id:"onreadupdatestream",level:3},{value:"onUpdate",id:"onupdate",level:3},{value:"onWriteUpdateStream",id:"onwriteupdatestream",level:3},{value:"prerequisitesPresent",id:"prerequisitespresent",level:3},{value:"registerEventListeners",id:"registereventlisteners",level:3},{value:"registerFunctions",id:"registerfunctions",level:3},{value:"registerXMLPaths",id:"registerxmlpaths",level:3},{value:"setCurrentLoad",id:"setcurrentload",level:3},{value:"setCurrentRPM",id:"setcurrentrpm",level:3},{value:"setRPMGainPerSecond",id:"setrpmgainpersecond",level:3},{value:"setRPMLossPerSecond",id:"setrpmlosspersecond",level:3},{value:"setTargetRPM",id:"settargetrpm",level:3},{value:"setTargetRPMToIdle",id:"settargetrpmtoidle",level:3},{value:"setTargetRPMToMax",id:"settargetrpmtomax",level:3},{value:"updateRPM",id:"updaterpm",level:3},{value:"updateSounds",id:"updatesounds",level:3},{value:"updateVibrations",id:"updatevibrations",level:3}];function c(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"handtoolmotorized",children:"HandToolMotorized"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"The hand tool specialisation for any hand tool with a motor."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Functions"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getcurrentload",children:"getCurrentLoad"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getcurrentrpm",children:"getCurrentRPM"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getmaxrpm",children:"getMaxRPM"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getminrpm",children:"getMinRPM"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getrpmgainpersecond",children:"getRPMGainPerSecond"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getrpmlosspersecond",children:"getRPMLossPerSecond"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#gettargetrpm",children:"getTargetRPM"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#gettimetoreachrpm",children:"getTimeToReachRPM"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#ondebugdraw",children:"onDebugDraw"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#ondelete",children:"onDelete"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onheldend",children:"onHeldEnd"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onheldstart",children:"onHeldStart"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onload",children:"onLoad"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onreadupdatestream",children:"onReadUpdateStream"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onupdate",children:"onUpdate"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onwriteupdatestream",children:"onWriteUpdateStream"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#prerequisitespresent",children:"prerequisitesPresent"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#registereventlisteners",children:"registerEventListeners"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#registerfunctions",children:"registerFunctions"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#registerxmlpaths",children:"registerXMLPaths"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#setcurrentload",children:"setCurrentLoad"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#setcurrentrpm",children:"setCurrentRPM"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#setrpmgainpersecond",children:"setRPMGainPerSecond"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#setrpmlosspersecond",children:"setRPMLossPerSecond"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#settargetrpm",children:"setTargetRPM"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#settargetrpmtoidle",children:"setTargetRPMToIdle"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#settargetrpmtomax",children:"setTargetRPMToMax"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#updaterpm",children:"updateRPM"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#updatesounds",children:"updateSounds"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#updatevibrations",children:"updateVibrations"})}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"getcurrentload",children:"getCurrentLoad"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getCurrentLoad()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function HandToolMotorized:getCurrentLoad()\n    return self.spec_motorized.currentLoad\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getcurrentrpm",children:"getCurrentRPM"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getCurrentRPM()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function HandToolMotorized:getCurrentRPM()\n    return self.spec_motorized.currentRPM\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getmaxrpm",children:"getMaxRPM"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getMaxRPM()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function HandToolMotorized:getMaxRPM()\n    return self.spec_motorized.maxRPM\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getminrpm",children:"getMinRPM"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getMinRPM()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function HandToolMotorized:getMinRPM()\n    return self.spec_motorized.minRPM\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getrpmgainpersecond",children:"getRPMGainPerSecond"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getRPMGainPerSecond()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function HandToolMotorized:getRPMGainPerSecond()\n    return self.spec_motorized.rpmGainPerSecond\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getrpmlosspersecond",children:"getRPMLossPerSecond"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getRPMLossPerSecond()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function HandToolMotorized:getRPMLossPerSecond()\n    return self.spec_motorized.rpmLossPerSecond\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"gettargetrpm",children:"getTargetRPM"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getTargetRPM()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function HandToolMotorized:getTargetRPM()\n    return self.spec_motorized.targetRPM\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"gettimetoreachrpm",children:"getTimeToReachRPM"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Calculates the time in seconds that it would take for this motor to reach the given rpm."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getTimeToReachRPM(float rpm)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"float"}),(0,s.jsx)(n.th,{children:"rpm"}),(0,s.jsx)(n.th,{children:"The target rpm."})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"float"}),(0,s.jsx)(n.th,{children:"startupTime"}),(0,s.jsx)(n.th,{children:"The time in seconds that it would take to reach the given rpm."})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function HandToolMotorized:getTimeToReachRPM(rpm)\n\n    local spec = self.spec_motorized\n\n    if spec.currentRPM = = rpm then\n        return 0\n    end\n\n    -- Calculate the difference between the current RPM and the target, as well as if the RPM has to slow down or speed up.\n        local rpmDelta = rpm - spec.currentRPM\n        local rpmDirection = math.sign(rpmDelta)\n\n        -- Calculate the speed to use for the RPM.\n            local rpmPerSecond = rpmDirection > = 0 and spec.rpmGainPerSecond or spec.rpmLossPerSecond\n\n            return math.abs(rpmDelta) / rpmPerSecond\n        end\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"ondebugdraw",children:"onDebugDraw"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onDebugDraw()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"x"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"y"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"textSize"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function HandToolMotorized:onDebugDraw(x, y, textSize)\n\n    local spec = self.spec_motorized\n    y = DebugUtil.renderTextLine(x, y, textSize, string.format( "Current RPM: %d" , spec.currentRPM))\n    y = DebugUtil.renderTextLine(x, y, textSize, string.format( "Target RPM: %d" , spec.targetRPM))\n    y = DebugUtil.renderTextLine(x, y, textSize, string.format( "Current Load: %d%%" , spec.currentLoad * 100 ))\n\n    local rpmAmount = 1 - math.clamp( MathUtil.inverseLerp(spec.minRPM, spec.maxRPM, spec.currentRPM), 0 , 1 )\n    local vibrationScale = MathUtil.lerp( 0.05 , 1.0 , rpmAmount) * ( 1 - spec.currentLoad)\n    y = DebugUtil.renderTextLine(x, y, textSize, string.format( "Vibration: %d%%" , vibrationScale * 100 ))\n\n    return y\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"ondelete",children:"onDelete"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onDelete()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function HandToolMotorized:onDelete()\n    if self.isClient then\n        local spec = self.spec_motorized\n        g_soundManager:deleteSamples(spec.samples)\n        g_effectManager:deleteEffects(spec.fillEffects)\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onheldend",children:"onHeldEnd"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onHeldEnd()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function HandToolMotorized:onHeldEnd()\n    if self.isClient then\n        local spec = self.spec_motorized\n        local samples = spec.samples\n        g_soundManager:stopSample(samples.start)\n        g_soundManager:stopSample(samples.idle)\n        g_soundManager:playSample(samples.stop)\n        g_effectManager:stopEffects(spec.exhaustEffects)\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onheldstart",children:"onHeldStart"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onHeldStart()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function HandToolMotorized:onHeldStart()\n    if self.isClient then\n        local spec = self.spec_motorized\n        local samples = spec.samples\n        if not g_soundManager:getIsSamplePlaying(samples.idle) then\n            g_soundManager:stopSample(samples.stop)\n            g_soundManager:playSample(samples.start)\n            g_soundManager:playSample(samples.idle, 0 , samples.start)\n        end\n        g_effectManager:startEffects(spec.exhaustEffects)\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onload",children:"onLoad"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onLoad()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"xmlFile"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"baseDirectory"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function HandToolMotorized:onLoad(xmlFile, baseDirectory)\n\n    local spec = self.spec_motorized\n\n    spec.dirtyFlag = self:getNextDirtyFlag()\n\n    spec.currentLoad = 0\n\n    spec.startTime = xmlFile:getValue( "handTool.motorized.motor#startTime" , 0 )\n    spec.minRPM = xmlFile:getValue( "handTool.motorized.motor#minRPM" , 10 )\n    spec.maxRPM = xmlFile:getValue( "handTool.motorized.motor#maxRPM" , 100 )\n\n    spec.rpmGainPerSecond = xmlFile:getValue( "handTool.motorized.motor#rpmGainSpeed" , spec.maxRPM - spec.minRPM)\n    spec.rpmLossPerSecond = xmlFile:getValue( "handTool.motorized.motor#rpmLossSpeed" , spec.maxRPM - spec.minRPM)\n\n    spec.rpmVariability = xmlFile:getValue( "handTool.motorized.motor#rpmVariability" , 0 )\n    spec.rpmVariabilityChange = xmlFile:getValue( "handTool.motorized.motor#rpmVariabilityChange" , 1 )\n\n    spec.currentRPM = spec.minRPM\n    spec.targetRPM = spec.currentRPM\n    spec.vibrationNode = xmlFile:getValue( "handTool.motorized.vibrations#node" , nil , self.components, self.i3dMappings)\n\n    spec.vibrationAmountX, spec.vibrationAmountY, spec.vibrationAmountZ = xmlFile:getValue( "handTool.motorized.vibrations#amount" , "0 0 0" )\n\n    if self.isClient then\n        local baseKey = "sounds.motorized.sounds"\n        spec.samples = { }\n        spec.samples.start = g_soundManager:loadSampleFromXML(xmlFile, baseKey, "start" , baseDirectory, self.components, 1 , AudioGroup.VEHICLE, self.i3dMappings, self )\n        spec.samples.idle = g_soundManager:loadSampleFromXML(xmlFile, baseKey, "idle" , baseDirectory, self.components, 0 , AudioGroup.VEHICLE, self.i3dMappings, self )\n        spec.samples.stop = g_soundManager:loadSampleFromXML(xmlFile, baseKey, "stop" , baseDirectory, self.components, 1 , AudioGroup.VEHICLE, self.i3dMappings, self )\n\n        self.exhaustEffects = g_effectManager:loadEffect(xmlFile, "handTool.motorized.exhaustEffects" , self.components, self , self.i3dMappings)\n    end\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"onreadupdatestream",children:"onReadUpdateStream"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onReadUpdateStream()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"streamId"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"timestamp"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"connection"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function HandToolMotorized:onReadUpdateStream(streamId, timestamp, connection)\n    if streamReadBool(streamId) then\n        local spec = self.spec_motorized\n        local currentRPM = NetworkUtil.readCompressedPercentages(streamId, 8 ) * (spec.maxRPM - spec.minRPM) + spec.minRPM\n        local currentLoad = NetworkUtil.readCompressedPercentages(streamId, 8 )\n\n        local carryingPlayer = self:getCarryingPlayer()\n        if not connection:getIsServer() or(carryingPlayer ~ = nil and not carryingPlayer.isOwner) then\n            self:setCurrentRPM(currentRPM)\n            self:setCurrentLoad(currentLoad)\n        end\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onupdate",children:"onUpdate"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onUpdate()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"dt"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function HandToolMotorized:onUpdate(dt)\n    self:updateRPM(dt)\n\n    if self.isClient then\n        self:updateSounds(dt)\n        self:updateVibrations(dt)\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onwriteupdatestream",children:"onWriteUpdateStream"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onWriteUpdateStream()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"streamId"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"connection"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"dirtyMask"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function HandToolMotorized:onWriteUpdateStream(streamId, connection, dirtyMask)\n    local spec = self.spec_motorized\n    if streamWriteBool(streamId, bit32.band(dirtyMask, spec.dirtyFlag) ~ = 0 ) then\n        NetworkUtil.writeCompressedPercentages(streamId, MathUtil.inverseLerp(spec.minRPM, spec.maxRPM, spec.currentRPM), 8 )\n        NetworkUtil.writeCompressedPercentages(streamId, spec.currentLoad, 8 )\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"prerequisitespresent",children:"prerequisitesPresent"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"prerequisitesPresent()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"specializations"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function HandToolMotorized.prerequisitesPresent(specializations)\n    return true\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"registereventlisteners",children:"registerEventListeners"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"registerEventListeners()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"handToolType"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function HandToolMotorized.registerEventListeners(handToolType)\n    SpecializationUtil.registerEventListener(handToolType, "onDelete" , HandToolMotorized )\n    SpecializationUtil.registerEventListener(handToolType, "onLoad" , HandToolMotorized )\n    SpecializationUtil.registerEventListener(handToolType, "onUpdate" , HandToolMotorized )\n    SpecializationUtil.registerEventListener(handToolType, "onWriteUpdateStream" , HandToolMotorized )\n    SpecializationUtil.registerEventListener(handToolType, "onReadUpdateStream" , HandToolMotorized )\n    SpecializationUtil.registerEventListener(handToolType, "onHeldStart" , HandToolMotorized )\n    SpecializationUtil.registerEventListener(handToolType, "onHeldEnd" , HandToolMotorized )\n    SpecializationUtil.registerEventListener(handToolType, "onDebugDraw" , HandToolMotorized )\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"registerfunctions",children:"registerFunctions"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"registerFunctions()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"handToolType"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function HandToolMotorized.registerFunctions(handToolType)\n    SpecializationUtil.registerFunction(handToolType, "getTimeToReachRPM" , HandToolMotorized.getTimeToReachRPM)\n    SpecializationUtil.registerFunction(handToolType, "getRPMGainPerSecond" , HandToolMotorized.getRPMGainPerSecond)\n    SpecializationUtil.registerFunction(handToolType, "setRPMGainPerSecond" , HandToolMotorized.setRPMGainPerSecond)\n    SpecializationUtil.registerFunction(handToolType, "getRPMLossPerSecond" , HandToolMotorized.getRPMLossPerSecond)\n    SpecializationUtil.registerFunction(handToolType, "setRPMLossPerSecond" , HandToolMotorized.setRPMLossPerSecond)\n    SpecializationUtil.registerFunction(handToolType, "getCurrentLoad" , HandToolMotorized.getCurrentLoad)\n    SpecializationUtil.registerFunction(handToolType, "setCurrentLoad" , HandToolMotorized.setCurrentLoad)\n    SpecializationUtil.registerFunction(handToolType, "getCurrentRPM" , HandToolMotorized.getCurrentRPM)\n    SpecializationUtil.registerFunction(handToolType, "setCurrentRPM" , HandToolMotorized.setCurrentRPM)\n    SpecializationUtil.registerFunction(handToolType, "getMinRPM" , HandToolMotorized.getMinRPM)\n    SpecializationUtil.registerFunction(handToolType, "getTargetRPM" , HandToolMotorized.getTargetRPM)\n    SpecializationUtil.registerFunction(handToolType, "getMaxRPM" , HandToolMotorized.getMaxRPM)\n    SpecializationUtil.registerFunction(handToolType, "setTargetRPM" , HandToolMotorized.setTargetRPM)\n    SpecializationUtil.registerFunction(handToolType, "setTargetRPMToIdle" , HandToolMotorized.setTargetRPMToIdle)\n    SpecializationUtil.registerFunction(handToolType, "setTargetRPMToMax" , HandToolMotorized.setTargetRPMToMax)\n\n    SpecializationUtil.registerFunction(handToolType, "updateRPM" , HandToolMotorized.updateRPM)\n    SpecializationUtil.registerFunction(handToolType, "updateSounds" , HandToolMotorized.updateSounds)\n    SpecializationUtil.registerFunction(handToolType, "updateVibrations" , HandToolMotorized.updateVibrations)\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"registerxmlpaths",children:"registerXMLPaths"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"registerXMLPaths()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"xmlSchema"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function HandToolMotorized.registerXMLPaths(xmlSchema)\n\n    xmlSchema:setXMLSpecializationType( "HandToolMotorized" )\n\n    local basePath = "handTool.motorized"\n    xmlSchema:register(XMLValueType.FLOAT, basePath .. ".motor#startTime" , "The amount of milliseconds it takes for the motor to start" , 0 , false )\n        xmlSchema:register(XMLValueType.FLOAT, basePath .. ".motor#minRPM" , "The RPM of the tool when it is not being used" , nil , false )\n        xmlSchema:register(XMLValueType.FLOAT, basePath .. ".motor#maxRPM" , "The RPM of the tool when it has no load and is being used" , nil , false )\n        xmlSchema:register(XMLValueType.FLOAT, basePath .. ".motor#rpmGainSpeed" , "The amount of RPM that can be gained per second" , nil , false )\n        xmlSchema:register(XMLValueType.FLOAT, basePath .. ".motor#rpmLossSpeed" , "The amount of RPM that can be lost per second" , nil , false )\n        xmlSchema:register(XMLValueType.FLOAT, basePath .. ".motor#rpmVariability" , "Variability in rpm while the tool has full load" , 0 )\n            xmlSchema:register(XMLValueType.FLOAT, basePath .. ".motor#rpmVariabilityChange" , "Variability change factor(the higher, the faster changes the random variability)" , 1 )\n            xmlSchema:register(XMLValueType.VECTOR_ 3 , basePath .. ".vibrations#amount" , "The base vibration amount along the 3 axes of the tool" , nil , false )\n            xmlSchema:register(XMLValueType.NODE_INDEX, basePath .. ".vibrations#node" , "The name of the node that is vibrated" , nil , false )\n\n            SoundManager.registerSampleXMLPaths(xmlSchema, basePath .. ".sounds" , "start" )\n            SoundManager.registerSampleXMLPaths(xmlSchema, basePath .. ".sounds" , "stop" )\n            SoundManager.registerSampleXMLPaths(xmlSchema, basePath .. ".sounds" , "idle" )\n\n            EffectManager.registerEffectXMLPaths(xmlSchema, basePath .. ".exhaustEffects" )\n\n            xmlSchema:setXMLSpecializationType()\n        end\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"setcurrentload",children:"setCurrentLoad"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"setCurrentLoad()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"currentLoad"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function HandToolMotorized:setCurrentLoad(currentLoad)\n    local spec = self.spec_motorized\n\n    currentLoad = math.clamp(currentLoad, 0 , 1 )\n    if math.abs(spec.currentLoad - currentLoad) > 0.01 then\n        local carryingPlayer = self:getCarryingPlayer()\n        if self.isServer or(carryingPlayer ~ = nil and carryingPlayer.isOwner) then\n            self:raiseDirtyFlags(spec.dirtyFlag)\n        end\n    end\n\n    spec.currentLoad = currentLoad\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"setcurrentrpm",children:"setCurrentRPM"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"setCurrentRPM()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"currentRPM"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function HandToolMotorized:setCurrentRPM(currentRPM)\n    local spec = self.spec_motorized\n\n    currentRPM = math.clamp(currentRPM, spec.minRPM, spec.maxRPM)\n\n    if math.abs(spec.currentRPM - currentRPM) > 1 then\n        local carryingPlayer = self:getCarryingPlayer()\n        if self.isServer or(carryingPlayer ~ = nil and carryingPlayer.isOwner) then\n            self:raiseDirtyFlags(spec.dirtyFlag)\n        end\n    end\n\n    spec.currentRPM = currentRPM\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"setrpmgainpersecond",children:"setRPMGainPerSecond"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"setRPMGainPerSecond()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"rpmGainPerSecond"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function HandToolMotorized:setRPMGainPerSecond(rpmGainPerSecond)\n    self.spec_motorized.rpmGainPerSecond = rpmGainPerSecond\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"setrpmlosspersecond",children:"setRPMLossPerSecond"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"setRPMLossPerSecond()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"rpmLossPerSecond"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function HandToolMotorized:setRPMLossPerSecond(rpmLossPerSecond)\n    self.spec_motorized.rpmLossPerSecond = rpmLossPerSecond\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"settargetrpm",children:"setTargetRPM"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"setTargetRPM()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"targetRPM"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function HandToolMotorized:setTargetRPM(targetRPM)\n    local spec = self.spec_motorized\n\n    spec.targetRPM = math.clamp(targetRPM, spec.minRPM, spec.maxRPM)\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"settargetrpmtoidle",children:"setTargetRPMToIdle"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"setTargetRPMToIdle()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function HandToolMotorized:setTargetRPMToIdle()\n    self:setTargetRPM( self.spec_motorized.minRPM)\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"settargetrpmtomax",children:"setTargetRPMToMax"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"setTargetRPMToMax()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function HandToolMotorized:setTargetRPMToMax()\n    self:setTargetRPM( self.spec_motorized.maxRPM)\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"updaterpm",children:"updateRPM"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"updateRPM()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"dt"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function HandToolMotorized:updateRPM(dt)\n    local spec = self.spec_motorized\n    if spec.currentRPM ~ = spec.targetRPM then\n        local targetRPM = spec.targetRPM\n        if spec.rpmVariability > 0 then\n            local t = g_currentMission.time * spec.rpmVariabilityChange\n            local randomOffset = math.abs( math.sin(t * 0.00157 ) * 0.4 + math.sin(t * 0.00414 ) * 0.4 + math.sin(t * 0.00628 ) * 0.2 )\n            randomOffset = randomOffset * (spec.targetRPM / spec.maxRPM)\n            randomOffset = randomOffset * ( 0.1 + spec.currentLoad * 0.9 )\n            targetRPM = targetRPM - randomOffset * spec.maxRPM * spec.rpmVariability\n        end\n\n        local direction = math.sign(targetRPM - spec.currentRPM)\n        local limit = direction > 0 and math.min or math.max\n\n        local change = direction > = 0 and spec.rpmGainPerSecond or spec.rpmLossPerSecond\n\n        local currentRPM = limit(spec.currentRPM + change * dt * 0.001 * direction, targetRPM)\n\n        self:setCurrentRPM(currentRPM)\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"updatesounds",children:"updateSounds"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"updateSounds()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"dt"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function HandToolMotorized:updateSounds(dt)\n    local spec = self.spec_motorized\n    local rpmPercentage = MathUtil.inverseLerp(spec.minRPM, spec.maxRPM, spec.currentRPM)\n    g_soundManager:setSampleLoopSynthesisParameters(spec.samples.idle, rpmPercentage, self:getCurrentLoad())\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"updatevibrations",children:"updateVibrations"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"updateVibrations()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"dt"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function HandToolMotorized:updateVibrations(dt)\n    local spec = self.spec_motorized\n\n    -- Calculate the vibration to apply based on the RPM.At the maximum RPM, the vibrations are very low, and at idle it is at max.\n    local rpmAmount = 1 - math.clamp( MathUtil.inverseLerp(spec.minRPM, spec.maxRPM, spec.currentRPM), 0 , 1 )\n    local vibrationScale = MathUtil.lerp( 0.05 , 1.0 , rpmAmount) * ( 1 - spec.currentLoad)\n    local vibrationX = MathUtil.randomFloat( - spec.vibrationAmountX, spec.vibrationAmountX) * vibrationScale\n    local vibrationY = MathUtil.randomFloat( - spec.vibrationAmountY, spec.vibrationAmountY) * vibrationScale\n    local vibrationZ = MathUtil.randomFloat( - spec.vibrationAmountZ, spec.vibrationAmountZ) * vibrationScale\n\n    -- Set the local translation of the chainsaw based on the vibration.\n    setTranslation(spec.vibrationNode, vibrationX, vibrationY, vibrationZ)\nend\n\n"})})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}}}]);