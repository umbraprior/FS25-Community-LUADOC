"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[78481],{28453(n,e,a){a.d(e,{R:()=>t,x:()=>r});var i=a(96540);const s={},l=i.createContext(s);function t(n){const e=i.useContext(l);return i.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function r(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:t(n.components),i.createElement(l.Provider,{value:e},n.children)}},44428(n,e,a){a.r(e),a.d(e,{assets:()=>o,contentTitle:()=>r,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"script/Misc/ConsumableManager","title":"ConsumableManager","description":"ConsumableManager","source":"@site/../docs/script/Misc/ConsumableManager.md","sourceDirName":"script/Misc","slug":"/script/Misc/ConsumableManager","permalink":"/FS25-Community-LUADOC/script/Misc/ConsumableManager","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"ConnectionHoseManager","permalink":"/FS25-Community-LUADOC/script/Misc/ConnectionHoseManager"},"next":{"title":"Logging","permalink":"/FS25-Community-LUADOC/script/Misc/Logging"}}');var s=a(74848),l=a(28453);const t={},r=void 0,o={},d=[{value:"ConsumableManager",id:"consumablemanager",level:2},{value:"addModConsumable",id:"addmodconsumable",level:3},{value:"consumableI3DFileLoaded",id:"consumablei3dfileloaded",level:3},{value:"getConsumableConsumingMeshByIndex",id:"getconsumableconsumingmeshbyindex",level:3},{value:"getConsumableMeshByIndex",id:"getconsumablemeshbyindex",level:3},{value:"getConsumableVariationCapacityAndUnitByIndex",id:"getconsumablevariationcapacityandunitbyindex",level:3},{value:"getConsumableVariationIndexByName",id:"getconsumablevariationindexbyname",level:3},{value:"getConsumableVariationMetaDataByIndex",id:"getconsumablevariationmetadatabyindex",level:3},{value:"getConsumableVariationNameByIndex",id:"getconsumablevariationnamebyindex",level:3},{value:"getConsumableVariationPriceByIndex",id:"getconsumablevariationpricebyindex",level:3},{value:"getConsumableVariationsByType",id:"getconsumablevariationsbytype",level:3},{value:"getConsumableVariationShaderParameterByIndex",id:"getconsumablevariationshaderparameterbyindex",level:3},{value:"getTypeTitle",id:"gettypetitle",level:3},{value:"loadConsumableVariationsFromXML",id:"loadconsumablevariationsfromxml",level:3},{value:"loadMapData",id:"loadmapdata",level:3},{value:"new",id:"new",level:3},{value:"registerConsumablesXMLPaths",id:"registerconsumablesxmlpaths",level:3},{value:"registerConsumableXMLPaths",id:"registerconsumablexmlpaths",level:3},{value:"unloadMapData",id:"unloadmapdata",level:3}];function c(n){const e={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.h2,{id:"consumablemanager",children:"ConsumableManager"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Description"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"This class handles all available consumables"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Parent"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.a,{href:"?version=script&category=58&class=558",children:"AbstractManager"})}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Functions"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#addmodconsumable",children:"addModConsumable"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#consumablei3dfileloaded",children:"consumableI3DFileLoaded"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#getconsumableconsumingmeshbyindex",children:"getConsumableConsumingMeshByIndex"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#getconsumablemeshbyindex",children:"getConsumableMeshByIndex"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#getconsumablevariationcapacityandunitbyindex",children:"getConsumableVariationCapacityAndUnitByIndex"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#getconsumablevariationindexbyname",children:"getConsumableVariationIndexByName"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#getconsumablevariationmetadatabyindex",children:"getConsumableVariationMetaDataByIndex"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#getconsumablevariationnamebyindex",children:"getConsumableVariationNameByIndex"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#getconsumablevariationpricebyindex",children:"getConsumableVariationPriceByIndex"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#getconsumablevariationsbytype",children:"getConsumableVariationsByType"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#getconsumablevariationshaderparameterbyindex",children:"getConsumableVariationShaderParameterByIndex"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#gettypetitle",children:"getTypeTitle"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#loadconsumablevariationsfromxml",children:"loadConsumableVariationsFromXML"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#loadmapdata",children:"loadMapData"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#new",children:"new"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#registerconsumablesxmlpaths",children:"registerConsumablesXMLPaths"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#registerconsumablexmlpaths",children:"registerConsumableXMLPaths"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#unloadmapdata",children:"unloadMapData"})}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"addmodconsumable",children:"addModConsumable"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Description"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"Add mod consumable xml to load"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"addModConsumable(string xmlFilename, string customEnvironment, string baseDirectory)"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"string"}),(0,s.jsx)(e.th,{children:"xmlFilename"}),(0,s.jsx)(e.th,{children:"path to consumable xml file"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"string"}),(0,s.jsx)(e.td,{children:"customEnvironment"}),(0,s.jsx)(e.td,{children:"custom environment"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"string"}),(0,s.jsx)(e.td,{children:"baseDirectory"}),(0,s.jsx)(e.td,{children:"base rirectory"})]})]})]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Code"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-lua",children:"function ConsumableManager:addModConsumable(xmlFilename, customEnvironment, baseDirectory)\n    table.insert( self.modConsumablesToLoad, { xmlFilename = xmlFilename,\n    customEnvironment = customEnvironment,\n    baseDirectory = baseDirectory } )\nend\n\n"})}),"\n",(0,s.jsx)(e.h3,{id:"consumablei3dfileloaded",children:"consumableI3DFileLoaded"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Description"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"Called when consumable i3d file was loaded"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"consumableI3DFileLoaded()"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"any"}),(0,s.jsx)(e.th,{children:"i3dNode"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"any"}),(0,s.jsx)(e.td,{children:"failedReason"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"any"}),(0,s.jsx)(e.td,{children:"arguments"})]})]})]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Code"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-lua",children:"function ConsumableManager:consumableI3DFileLoaded(i3dNode, failedReason, arguments)\n    local consumableVariation, nodePath, name = arguments[ 1 ], arguments[ 2 ], arguments[ 3 ]\n\n    if i3dNode ~ = nil and i3dNode ~ = 0 then\n        local node = I3DUtil.indexToObject(i3dNode, nodePath, nil , nil )\n        if node ~ = nil then\n            setTranslation(node, 0 , 0 , 0 )\n            setRotation(node, 0 , 0 , 0 )\n            unlink(node)\n            consumableVariation[name] = node\n        else\n                printWarning( string.format( \"Warning:Unable to find consumable object '%s' for '%s'\" , nodePath, consumableVariation.name))\n                end\n\n                delete(i3dNode)\n            end\n        end\n\n"})}),"\n",(0,s.jsx)(e.h3,{id:"getconsumableconsumingmeshbyindex",children:"getConsumableConsumingMeshByIndex"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Description"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"Returns a cloned version of the consumable mesh by the given name"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"getConsumableConsumingMeshByIndex()"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(e.table,{children:(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"any"}),(0,s.jsx)(e.th,{children:"index"})]})})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Code"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-lua",children:"function ConsumableManager:getConsumableConsumingMeshByIndex(index)\n    local consumableVariation = self.variations[index]\n    if consumableVariation = = nil then\n        return nil\n    end\n\n    if consumableVariation.node ~ = nil then\n        local clonedNode = clone(consumableVariation.consumingNode or consumableVariation.node, false , false , false )\n\n        for _, shaderParameter in ipairs(consumableVariation.shaderParameters) do\n            if shaderParameter.materialSlotName ~ = nil then\n                I3DUtil.setMaterialSlotShaderParameterRec(clonedNode, shaderParameter.materialSlotName, shaderParameter.name, shaderParameter.value[ 1 ], shaderParameter.value[ 2 ], shaderParameter.value[ 3 ], shaderParameter.value[ 4 ])\n            else\n                    I3DUtil.setShaderParameterRec(clonedNode, shaderParameter.name, shaderParameter.value[ 1 ], shaderParameter.value[ 2 ], shaderParameter.value[ 3 ], shaderParameter.value[ 4 ])\n                end\n            end\n\n            return clonedNode\n        end\n\n        return nil\n    end\n\n"})}),"\n",(0,s.jsx)(e.h3,{id:"getconsumablemeshbyindex",children:"getConsumableMeshByIndex"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Description"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"Returns a cloned version of the consumable mesh by the given name"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"getConsumableMeshByIndex()"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"any"}),(0,s.jsx)(e.th,{children:"index"})]})}),(0,s.jsx)(e.tbody,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"any"}),(0,s.jsx)(e.td,{children:"addTensionBeltMesh"})]})})]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Code"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-lua",children:"function ConsumableManager:getConsumableMeshByIndex(index, addTensionBeltMesh)\n    local consumableVariation = self.variations[index]\n    if consumableVariation = = nil then\n        return nil\n    end\n\n    if consumableVariation.node ~ = nil then\n        local mesh = clone(consumableVariation.node, false , false , false )\n\n        if addTensionBeltMesh and consumableVariation.tensionBeltNode ~ = nil then\n            local tensionBeltMesh = clone(consumableVariation.tensionBeltNode, false , false , false )\n            link(mesh, tensionBeltMesh)\n\n            return mesh, tensionBeltMesh\n        end\n\n        return mesh, nil\n    end\n\n    return nil , nil\nend\n\n"})}),"\n",(0,s.jsx)(e.h3,{id:"getconsumablevariationcapacityandunitbyindex",children:"getConsumableVariationCapacityAndUnitByIndex"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Description"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"Returns the capacity per unit and unit text to display"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"getConsumableVariationCapacityAndUnitByIndex()"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(e.table,{children:(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"any"}),(0,s.jsx)(e.th,{children:"index"})]})})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Code"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-lua",children:"function ConsumableManager:getConsumableVariationCapacityAndUnitByIndex(index)\n    local consumableVariation = self.variations[index]\n    if consumableVariation ~ = nil then\n        return consumableVariation.capacity, consumableVariation.unitText\n    end\n\n    return nil , nil\nend\n\n"})}),"\n",(0,s.jsx)(e.h3,{id:"getconsumablevariationindexbyname",children:"getConsumableVariationIndexByName"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Description"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"Returns the index of the variation for the given name"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"getConsumableVariationIndexByName()"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"any"}),(0,s.jsx)(e.th,{children:"name"})]})}),(0,s.jsx)(e.tbody,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"any"}),(0,s.jsx)(e.td,{children:"customEnvironment"})]})})]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Code"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-lua",children:'function ConsumableManager:getConsumableVariationIndexByName(name, customEnvironment)\n    local consumableVariation\n    if customEnvironment ~ = nil then\n        consumableVariation = self.variationsByName[customEnvironment .. "." .. name]\n    end\n\n    if consumableVariation = = nil then\n        consumableVariation = self.variationsByName[name]\n    end\n\n    if consumableVariation = = nil then\n        return 0\n    end\n\n    return consumableVariation.index\nend\n\n'})}),"\n",(0,s.jsx)(e.h3,{id:"getconsumablevariationmetadatabyindex",children:"getConsumableVariationMetaDataByIndex"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Description"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"Returns the meta data of the variation for the given index"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"getConsumableVariationMetaDataByIndex()"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(e.table,{children:(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"any"}),(0,s.jsx)(e.th,{children:"index"})]})})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Code"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-lua",children:"function ConsumableManager:getConsumableVariationMetaDataByIndex(index)\n    local consumableVariation = self.variations[index]\n    if consumableVariation = = nil then\n        return nil\n    end\n\n    return consumableVariation.metaData\nend\n\n"})}),"\n",(0,s.jsx)(e.h3,{id:"getconsumablevariationnamebyindex",children:"getConsumableVariationNameByIndex"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Description"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"Returns the name of the variation for the given index"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"getConsumableVariationNameByIndex()"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(e.table,{children:(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"any"}),(0,s.jsx)(e.th,{children:"index"})]})})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Code"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-lua",children:'function ConsumableManager:getConsumableVariationNameByIndex(index)\n    local consumableVariation = self.variations[index]\n    if consumableVariation = = nil then\n        return "UNKNOWN"\n    end\n\n    return consumableVariation.name\nend\n\n'})}),"\n",(0,s.jsx)(e.h3,{id:"getconsumablevariationpricebyindex",children:"getConsumableVariationPriceByIndex"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Description"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"Returns the price per unit for the given variation index"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"getConsumableVariationPriceByIndex()"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(e.table,{children:(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"any"}),(0,s.jsx)(e.th,{children:"index"})]})})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Code"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-lua",children:"function ConsumableManager:getConsumableVariationPriceByIndex(index)\n    local consumableVariation = self.variations[index]\n    if consumableVariation = = nil then\n        return nil\n    end\n\n    return consumableVariation.price\nend\n\n"})}),"\n",(0,s.jsx)(e.h3,{id:"getconsumablevariationsbytype",children:"getConsumableVariationsByType"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Description"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"Returns the titles of all available variations for the given type"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"getConsumableVariationsByType()"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(e.table,{children:(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"any"}),(0,s.jsx)(e.th,{children:"typeName"})]})})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Code"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-lua",children:"function ConsumableManager:getConsumableVariationsByType(typeName)\n    local variations = { }\n    local indexToVariationIndex = { }\n    for variationIndex, consumableVariation in ipairs( self.variations) do\n        if consumableVariation.type = = typeName then\n            table.insert(variations, consumableVariation.title)\n            indexToVariationIndex[#variations] = variationIndex\n        end\n    end\n\n    return variations, indexToVariationIndex\nend\n\n"})}),"\n",(0,s.jsx)(e.h3,{id:"getconsumablevariationshaderparameterbyindex",children:"getConsumableVariationShaderParameterByIndex"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Description"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"Returns the shader parameter of the variation for the given index"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"getConsumableVariationShaderParameterByIndex()"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(e.table,{children:(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"any"}),(0,s.jsx)(e.th,{children:"index"})]})})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Code"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-lua",children:"function ConsumableManager:getConsumableVariationShaderParameterByIndex(index)\n    local consumableVariation = self.variations[index]\n    if consumableVariation = = nil then\n        return nil\n    end\n\n    return consumableVariation.shaderParameters\nend\n\n"})}),"\n",(0,s.jsx)(e.h3,{id:"gettypetitle",children:"getTypeTitle"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Description"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"Returns the UI title to display of the given type"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"getTypeTitle()"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(e.table,{children:(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"any"}),(0,s.jsx)(e.th,{children:"typeName"})]})})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Code"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-lua",children:"function ConsumableManager:getTypeTitle(typeName)\n    local type = self.typesByName[typeName]\n    if type = = nil then\n        return nil\n    end\n\n    return type.title or typeName\nend\n\n"})}),"\n",(0,s.jsx)(e.h3,{id:"loadconsumablevariationsfromxml",children:"loadConsumableVariationsFromXML"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Description"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"Loads consumable variations from xml file"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"loadConsumableVariationsFromXML(string xmlFilename, string customEnvironment, string baseDirectory)"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"string"}),(0,s.jsx)(e.th,{children:"xmlFilename"}),(0,s.jsx)(e.th,{children:"path to consumable xml file"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"string"}),(0,s.jsx)(e.td,{children:"customEnvironment"}),(0,s.jsx)(e.td,{children:"custom environment"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"string"}),(0,s.jsx)(e.td,{children:"baseDirectory"}),(0,s.jsx)(e.td,{children:"base rirectory"})]})]})]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Code"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-lua",children:'function ConsumableManager:loadConsumableVariationsFromXML(xmlFilename, customEnvironment, baseDirectory)\n    Logging.devInfo( "Loading Consumable from \'%s\'" , xmlFilename)\n\n    local xmlFile = XMLFile.load( "Consumable" , xmlFilename, ConsumableManager.xmlSchemaConsumable)\n    if xmlFile ~ = nil then\n        for _, key in xmlFile:iterator( "consumable.consumableVariation" ) do\n            if # self.variations > = ConsumableManager.MAX_NUM_VARIATIONS then\n                Logging.xmlWarning(xmlFile, "Max.num consumables variations reached, skip loading of \'%s\'" , key)\n                continue\n            end\n\n            local consumableVariation = { }\n            consumableVariation.type = xmlFile:getValue(key .. "#type" )\n            if consumableVariation.type = = nil then\n                Logging.xmlWarning(xmlFile, "Missing type in \'%s\'" , key)\n                continue\n            end\n\n            consumableVariation.name = xmlFile:getValue(key .. "#name" )\n            if consumableVariation.name = = nil then\n                Logging.xmlWarning(xmlFile, "Missing name in \'%s\'" , key)\n                continue\n            else\n                    if customEnvironment ~ = nil then\n                        consumableVariation.name = customEnvironment .. "." .. consumableVariation.name\n                    end\n                end\n\n                consumableVariation.price = xmlFile:getValue(key .. "#price" , 0 )\n\n                consumableVariation.title = xmlFile:getValue(key .. "#title" , nil , customEnvironment)\n                if consumableVariation.title = = nil then\n                    Logging.xmlWarning(xmlFile, "Missing title in \'%s\'" , key)\n                    continue\n                end\n\n                consumableVariation.unitText = xmlFile:getValue(key .. "#unitText" , nil , customEnvironment, false )\n                consumableVariation.capacity = xmlFile:getValue(key .. "#capacity" , 1 )\n\n                consumableVariation.filename = xmlFile:getValue(key .. ".object#filename" )\n                if consumableVariation.filename ~ = nil then\n                    consumableVariation.filename = Utils.getFilename(consumableVariation.filename, baseDirectory)\n                    if consumableVariation.filename ~ = nil then\n                        local nodePath = xmlFile:getValue(key .. ".object#node" )\n                        if nodePath ~ = nil then\n                            local sharedLoadRequestId = g_i3DManager:loadSharedI3DFileAsync(consumableVariation.filename, false , false , self.consumableI3DFileLoaded, self , { consumableVariation, nodePath, "node" } )\n                            table.insert( self.sharedLoadRequestIds, sharedLoadRequestId)\n                        end\n                    end\n                end\n\n                consumableVariation.consumingFilename = xmlFile:getValue(key .. ".consumingObject#filename" )\n                if consumableVariation.consumingFilename ~ = nil then\n                    consumableVariation.consumingFilename = Utils.getFilename(consumableVariation.consumingFilename, baseDirectory)\n                    if consumableVariation.consumingFilename ~ = nil then\n                        local consumingNodePath = xmlFile:getValue(key .. ".consumingObject#node" )\n                        if consumingNodePath ~ = nil then\n                            local sharedLoadRequestId = g_i3DManager:loadSharedI3DFileAsync(consumableVariation.consumingFilename, false , false , self.consumableI3DFileLoaded, self , { consumableVariation, consumingNodePath, "consumingNode" } )\n                            table.insert( self.sharedLoadRequestIds, sharedLoadRequestId)\n                        end\n                    end\n                end\n\n                consumableVariation.tensionBeltFilename = xmlFile:getValue(key .. ".tensionBeltObject#filename" )\n                if consumableVariation.tensionBeltFilename ~ = nil then\n                    consumableVariation.tensionBeltFilename = Utils.getFilename(consumableVariation.tensionBeltFilename, baseDirectory)\n                    if consumableVariation.tensionBeltFilename ~ = nil then\n                        local tensionBeltNodePath = xmlFile:getValue(key .. ".tensionBeltObject#node" )\n                        if tensionBeltNodePath ~ = nil then\n                            local sharedLoadRequestId = g_i3DManager:loadSharedI3DFileAsync(consumableVariation.tensionBeltFilename, false , false , self.consumableI3DFileLoaded, self , { consumableVariation, tensionBeltNodePath, "tensionBeltNode" } )\n                            table.insert( self.sharedLoadRequestIds, sharedLoadRequestId)\n                        end\n                    end\n                end\n\n                consumableVariation.metaData = { }\n                for _, valueKey in xmlFile:iterator(key .. ".metaData.value" ) do\n                    local name = xmlFile:getValue(valueKey .. "#name" )\n                    if name ~ = nil then\n                        local valueStr = xmlFile:getValue(valueKey .. "#value" )\n                        if valueStr ~ = nil then\n                            local value\n                            if valueStr:contains( " " ) then\n                                value = string.getVector(valueStr)\n                            else\n                                    value = tonumber(valueStr) or valueStr\n                                end\n\n                                if value ~ = nil then\n                                    consumableVariation.metaData[name] = value\n                                else\n                                        Logging.xmlWarning(xmlFile, "Invalid value in \'%s\'" , valueKey)\n                                    end\n                                end\n                            else\n                                    Logging.xmlWarning(xmlFile, "Missing name in \'%s\'" , valueKey)\n                                end\n                            end\n\n                            consumableVariation.shaderParameters = { }\n                            for _, paramKey in xmlFile:iterator(key .. ".shaderParameter" ) do\n                                local name = xmlFile:getValue(paramKey .. "#name" )\n                                if name ~ = nil then\n                                    local shaderParameter = { }\n                                    shaderParameter.name = name\n                                    shaderParameter.materialSlotName = xmlFile:getValue(paramKey .. "#materialSlotName" )\n                                    shaderParameter.value = xmlFile:getValue(paramKey .. "#value" , nil , true )\n\n                                    if shaderParameter.value ~ = nil then\n                                        table.insert(consumableVariation.shaderParameters, shaderParameter)\n                                    else\n                                            Logging.xmlWarning(xmlFile, "Invalid value in \'%s\'" , paramKey)\n                                        end\n                                    else\n                                            Logging.xmlWarning(xmlFile, "Missing name in \'%s\'" , paramKey)\n                                        end\n                                    end\n\n                                    if self.variationsByName[consumableVariation.name] = = nil then\n                                        table.insert( self.variations, consumableVariation)\n                                        consumableVariation.index = # self.variations\n                                        self.variationsByName[consumableVariation.name] = consumableVariation\n                                    else\n                                            Logging.xmlWarning(xmlFile, "Consumable with name \'%s\' already registered" , consumableVariation.name)\n                                        end\n                                    end\n\n                                    xmlFile:delete()\n                                end\n                            end\n\n'})}),"\n",(0,s.jsx)(e.h3,{id:"loadmapdata",children:"loadMapData"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Description"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"Load data on map load"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"loadMapData()"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"any"}),(0,s.jsx)(e.th,{children:"xmlFile"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"any"}),(0,s.jsx)(e.td,{children:"missionInfo"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"any"}),(0,s.jsx)(e.td,{children:"baseDirectory"})]})]})]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,s.jsx)(e.table,{children:(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"any"}),(0,s.jsx)(e.th,{children:"true"}),(0,s.jsx)(e.th,{children:"if loading was successful else false"})]})})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Code"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-lua",children:'function ConsumableManager:loadMapData(xmlFile, missionInfo, baseDirectory)\n    ConsumableManager:superClass().loadMapData( self )\n    self.baseDirectory = baseDirectory\n\n    local consumablesXMLFile = XMLFile.load( "consumables" , ConsumableManager.DEFAULT_FILENAME, ConsumableManager.xmlSchemaConsumables)\n    if consumablesXMLFile ~ = nil then\n        for _, key in consumablesXMLFile:iterator( "consumables.types.type" ) do\n            local type = { }\n            type.name = consumablesXMLFile:getValue(key .. "#name" )\n            type.title = consumablesXMLFile:getValue(key .. "#title" )\n            if type.name ~ = nil and type.title ~ = nil then\n                type.name = string.upper( type.name)\n\n                table.insert( self.types, type )\n                self.typesByName[ type.name] = type\n            else\n                    Logging.xmlWarning(consumablesXMLFile, "Failed to load consumable type from xml. (%s)" , key)\n                end\n            end\n\n            for _, key in consumablesXMLFile:iterator( "consumables.consumable" ) do\n                local filename = consumablesXMLFile:getValue(key .. "#filename" )\n                if filename ~ = nil then\n                    filename = Utils.getFilename(filename, baseDirectory)\n                    self:loadConsumableVariationsFromXML(filename, nil , baseDirectory)\n                end\n            end\n\n            consumablesXMLFile:delete()\n        end\n\n        for i = # self.modConsumablesToLoad, 1 , - 1 do\n            local modConsumablesToLoad = self.modConsumablesToLoad[i]\n            self:loadConsumableVariationsFromXML(modConsumablesToLoad.xmlFilename, modConsumablesToLoad.customEnvironment, modConsumablesToLoad.baseDirectory)\n            self.modConsumablesToLoad[i] = nil\n        end\n    end\n\n'})}),"\n",(0,s.jsx)(e.h3,{id:"new",children:"new"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Description"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"Creating manager"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"new()"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(e.table,{children:(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"any"}),(0,s.jsx)(e.th,{children:"customMt"})]})})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,s.jsx)(e.table,{children:(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"any"}),(0,s.jsx)(e.th,{children:"instance"}),(0,s.jsx)(e.th,{children:"instance of object"})]})})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Code"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-lua",children:'function ConsumableManager.new(customMt)\n    local self = AbstractManager.new(customMt or ConsumableManager _mt)\n\n    self.types = { }\n    self.typesByName = { }\n\n    self.variations = { }\n    self.variationsByName = { }\n\n    self.sharedLoadRequestIds = { }\n    self.modConsumablesToLoad = { }\n\n    ConsumableManager.xmlSchemaConsumable = XMLSchema.new( "consumable" )\n    ConsumableManager.registerConsumableXMLPaths( ConsumableManager.xmlSchemaConsumable)\n\n    ConsumableManager.xmlSchemaConsumables = XMLSchema.new( "consumables" )\n    ConsumableManager.registerConsumablesXMLPaths( ConsumableManager.xmlSchemaConsumables)\n\n    return self\nend\n\n'})}),"\n",(0,s.jsx)(e.h3,{id:"registerconsumablesxmlpaths",children:"registerConsumablesXMLPaths"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Description"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"registerConsumablesXMLPaths()"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(e.table,{children:(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"any"}),(0,s.jsx)(e.th,{children:"schema"})]})})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Code"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-lua",children:'function ConsumableManager.registerConsumablesXMLPaths(schema)\n    schema:register(XMLValueType.STRING, "consumables.types.type(?)#name" , "Name of the consumable type" )\n    schema:register(XMLValueType.L10N_STRING, "consumables.types.type(?)#title" , "Name of the type to be shown in the UI" )\n\n    schema:register(XMLValueType.STRING, "consumables.consumable(?)#filename" , "Path to consumable xml file" )\nend\n\n'})}),"\n",(0,s.jsx)(e.h3,{id:"registerconsumablexmlpaths",children:"registerConsumableXMLPaths"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Description"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"registerConsumableXMLPaths()"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(e.table,{children:(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"any"}),(0,s.jsx)(e.th,{children:"schema"})]})})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Code"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-lua",children:'function ConsumableManager.registerConsumableXMLPaths(schema)\n    schema:register(XMLValueType.STRING, "consumable.consumableVariation(?)#type" , "Name of the consumable type" )\n    schema:register(XMLValueType.FLOAT, "consumable.consumableVariation(?)#price" , "Price per unit" , 0 )\n    schema:register(XMLValueType.STRING, "consumable.consumableVariation(?)#name" , "Name of the consumable itself(to be refered on vehicles)" )\n    schema:register(XMLValueType.L10N_STRING, "consumable.consumableVariation(?)#title" , "Name of the consumable itself(to be shown in the UI)" )\n\n    schema:register(XMLValueType.FLOAT, "consumable.consumableVariation(?)#capacity" , "Capacity of one unit from this type(to be shown in the UI)" , 1 )\n    schema:register(XMLValueType.L10N_STRING, "consumable.consumableVariation(?)#unitText" , "Unit text for the UI" )\n\n        schema:register(XMLValueType.STRING, "consumable.consumableVariation(?).object#filename" , "Path to i3d file which contains the object" )\n        schema:register(XMLValueType.STRING, "consumable.consumableVariation(?).object#node" , "Path to the object node inside of the i3d file" )\n\n        schema:register(XMLValueType.STRING, "consumable.consumableVariation(?).consumingObject#filename" , "Path to i3d file which contains the object(in consuming state)" )\n        schema:register(XMLValueType.STRING, "consumable.consumableVariation(?).consumingObject#node" , "Path to the object node inside of the i3d file(in consuming state)" )\n\n        schema:register(XMLValueType.STRING, "consumable.consumableVariation(?).tensionBeltObject#filename" , "Path to i3d file which contains the object(tension belt mesh)" )\n        schema:register(XMLValueType.STRING, "consumable.consumableVariation(?).tensionBeltObject#node" , "Path to the object node inside of the i3d file(tension belt mesh)" )\n\n        schema:register(XMLValueType.STRING, "consumable.consumableVariation(?).metaData.value(?)#name" , "Name of the value" )\n        schema:register(XMLValueType.STRING, "consumable.consumableVariation(?).metaData.value(?)#value" , "Value" )\n\n        schema:register(XMLValueType.STRING, "consumable.consumableVariation(?).shaderParameter(?)#name" , "Name of the shader parameter to so on the objects" )\n        schema:register(XMLValueType.STRING, "consumable.consumableVariation(?).shaderParameter(?)#materialSlotName" , "Material slot name which should receive the shader parameter(if not set, it will be applied to all materials)" )\n            schema:register(XMLValueType.VECTOR_ 4 , "consumable.consumableVariation(?).shaderParameter(?)#value" , "Value" )\n        end\n\n'})}),"\n",(0,s.jsx)(e.h3,{id:"unloadmapdata",children:"unloadMapData"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Description"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"Load data on map load"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"unloadMapData()"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,s.jsx)(e.table,{children:(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"any"}),(0,s.jsx)(e.th,{children:"true"}),(0,s.jsx)(e.th,{children:"if loading was successful else false"})]})})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Code"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-lua",children:"function ConsumableManager:unloadMapData()\n    for _, consumableVariation in ipairs( self.variations) do\n        if consumableVariation.node ~ = nil then\n            delete(consumableVariation.node)\n        end\n\n        if consumableVariation.consumingNode ~ = nil then\n            delete(consumableVariation.consumingNode)\n        end\n\n        if consumableVariation.tensionBeltNode ~ = nil then\n            delete(consumableVariation.tensionBeltNode)\n        end\n    end\n    self.variations = { }\n\n    for i = 1 , # self.sharedLoadRequestIds do\n        local sharedLoadRequestId = self.sharedLoadRequestIds[i]\n        g_i3DManager:releaseSharedI3DFile(sharedLoadRequestId)\n    end\n    self.sharedLoadRequestIds = { }\n\n    ConsumableManager:superClass().unloadMapData( self )\nend\n\n"})})]})}function h(n={}){const{wrapper:e}={...(0,l.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(c,{...n})}):c(n)}}}]);