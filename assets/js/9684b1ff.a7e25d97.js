"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[90825],{3166(e,n,r){r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>i,metadata:()=>t,toc:()=>o});const t=JSON.parse('{"id":"script/Specializations/TestAreas","title":"TestAreas","description":"TestAreas","source":"@site/../docs/script/Specializations/TestAreas.md","sourceDirName":"script/Specializations","slug":"/script/Specializations/TestAreas","permalink":"/FS25-Community-LUADOC/script/Specializations/TestAreas","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"TensionBelts","permalink":"/FS25-Community-LUADOC/script/Specializations/TensionBelts"},"next":{"title":"TipOccluder","permalink":"/FS25-Community-LUADOC/script/Specializations/TipOccluder"}}');var s=r(74848),a=r(28453);const i={},l=void 0,d={},o=[{value:"TestAreas",id:"testareas",level:2},{value:"calculateTestAreaDimensions",id:"calculatetestareadimensions",level:3},{value:"generateTestAreasForWorkArea",id:"generatetestareasforworkarea",level:3},{value:"getIsTestAreaActive",id:"getistestareaactive",level:3},{value:"getTestAreaChargeByWorkAreaIndex",id:"gettestareachargebyworkareaindex",level:3},{value:"getTestAreaWidthByWorkAreaIndex",id:"gettestareawidthbyworkareaindex",level:3},{value:"initSpecialization",id:"initspecialization",level:3},{value:"loadWorkAreaFromXML",id:"loadworkareafromxml",level:3},{value:"onPostLoad",id:"onpostload",level:3},{value:"onPreLoad",id:"onpreload",level:3},{value:"onReadStream",id:"onreadstream",level:3},{value:"onReadUpdateStream",id:"onreadupdatestream",level:3},{value:"onUpdateTick",id:"onupdatetick",level:3},{value:"onWriteStream",id:"onwritestream",level:3},{value:"onWriteUpdateStream",id:"onwriteupdatestream",level:3},{value:"prerequisitesPresent",id:"prerequisitespresent",level:3},{value:"processTestArea",id:"processtestarea",level:3},{value:"readTestAreasStream",id:"readtestareasstream",level:3},{value:"registerEventListeners",id:"registereventlisteners",level:3},{value:"registerFunctions",id:"registerfunctions",level:3},{value:"registerOverwrittenFunctions",id:"registeroverwrittenfunctions",level:3},{value:"registerTestAreaForWorkArea",id:"registertestareaforworkarea",level:3},{value:"setTestAreaRequirements",id:"settestarearequirements",level:3},{value:"writeTestAreasStream",id:"writetestareasstream",level:3}];function c(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"testareas",children:"TestAreas"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Specialization for test areas to be used in other specs"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Functions"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#calculatetestareadimensions",children:"calculateTestAreaDimensions"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#generatetestareasforworkarea",children:"generateTestAreasForWorkArea"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getistestareaactive",children:"getIsTestAreaActive"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#gettestareachargebyworkareaindex",children:"getTestAreaChargeByWorkAreaIndex"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#gettestareawidthbyworkareaindex",children:"getTestAreaWidthByWorkAreaIndex"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#initspecialization",children:"initSpecialization"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#loadworkareafromxml",children:"loadWorkAreaFromXML"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onpostload",children:"onPostLoad"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onpreload",children:"onPreLoad"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onreadstream",children:"onReadStream"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onreadupdatestream",children:"onReadUpdateStream"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onupdatetick",children:"onUpdateTick"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onwritestream",children:"onWriteStream"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onwriteupdatestream",children:"onWriteUpdateStream"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#prerequisitespresent",children:"prerequisitesPresent"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#processtestarea",children:"processTestArea"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#readtestareasstream",children:"readTestAreasStream"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#registereventlisteners",children:"registerEventListeners"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#registerfunctions",children:"registerFunctions"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#registeroverwrittenfunctions",children:"registerOverwrittenFunctions"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#registertestareaforworkarea",children:"registerTestAreaForWorkArea"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#settestarearequirements",children:"setTestAreaRequirements"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#writetestareasstream",children:"writeTestAreasStream"})}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"calculatetestareadimensions",children:"calculateTestAreaDimensions"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"calculateTestAreaDimensions()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"workArea"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"testArea"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function TestAreas:calculateTestAreaDimensions(workArea, testArea)\n    testArea.areaSideOffset = testArea.areaSideOffset or 0\n\n    local startX, _, _ = worldToLocal(workArea.testAreaRootNode, getWorldTranslation(testArea.start))\n    local widthX, _, _ = worldToLocal(workArea.testAreaRootNode, getWorldTranslation(testArea.width))\n    testArea.minWidthValue = startX + testArea.areaSideOffset\n    testArea.maxWidthValue = widthX - testArea.areaSideOffset\n\n    workArea.testAreaMinX = math.min(workArea.testAreaMinX, testArea.minWidthValue, testArea.maxWidthValue)\n    workArea.testAreaMaxX = math.max(workArea.testAreaMaxX, testArea.minWidthValue, testArea.maxWidthValue)\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"generatetestareasforworkarea",children:"generateTestAreasForWorkArea"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"generateTestAreasForWorkArea()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"workArea"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function TestAreas:generateTestAreasForWorkArea(workArea)\n    workArea.testAreaParent = createTransformGroup( "testAreaParent" )\n    link(getParent(workArea.testAreaStartNode), workArea.testAreaParent)\n    setTranslation(workArea.testAreaParent, getTranslation(workArea.testAreaStartNode))\n\n    local dirX, dirY, dirZ = localToLocal(workArea.testAreaStartNode, workArea.testAreaWidthNode, 0 , 0 , 0 )\n    dirX, dirY, dirZ = MathUtil.vector3Normalize(dirX, dirY, dirZ)\n    dirX, dirY, dirZ = localDirectionToLocal(workArea.testAreaStartNode, getParent(workArea.testAreaStartNode), dirX, dirY, dirZ)\n\n    I3DUtil.setDirection(workArea.testAreaParent, dirX, dirY, dirZ, 0 , 1 , 0 )\n\n    local workAreaWidth = calcDistanceFrom(workArea.testAreaStartNode, workArea.testAreaWidthNode)\n    local areaWidth = (workAreaWidth * workArea.testAreaScale) / workArea.testAreaNumAreas\n    local totalOffset = - workAreaWidth * ( 1 - workArea.testAreaScale) * 0.5\n    local areaSideOffset = areaWidth * ( 1 - workArea.testAreaWidthScale) * 0.5 + workArea.testAreaXOffset\n    for index = 1 , workArea.testAreaNumAreas do\n        local startNode = createTransformGroup( string.format( "testArea%dStart" , index))\n        local widthNode = createTransformGroup( string.format( "testArea%dWidth" , index))\n        local heightNode = createTransformGroup( string.format( "testArea%dHeight" , index))\n\n        link(workArea.testAreaParent, startNode)\n        link(workArea.testAreaParent, widthNode)\n        link(workArea.testAreaParent, heightNode)\n\n        local startAreaX = - ((index - 1 ) * areaWidth) - areaSideOffset + totalOffset\n        local endAreaX = - (index * areaWidth) + areaSideOffset + totalOffset\n\n        setTranslation(startNode, - (workArea.testAreaZOffset + workArea.testAreaLength), 0 , startAreaX)\n        setTranslation(widthNode, - (workArea.testAreaZOffset + workArea.testAreaLength), 0 , endAreaX)\n        setTranslation(heightNode, - workArea.testAreaZOffset, 0 , startAreaX)\n\n        local testArea = { }\n        testArea.start = startNode\n        testArea.width = widthNode\n        testArea.height = heightNode\n\n        testArea.areaSideOffset = areaSideOffset\n\n        self:calculateTestAreaDimensions(workArea, testArea)\n        self:registerTestAreaForWorkArea(workArea, testArea)\n    end\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"getistestareaactive",children:"getIsTestAreaActive"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getIsTestAreaActive()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"testArea"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function TestAreas:getIsTestAreaActive(testArea)\n    return true\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"gettestareachargebyworkareaindex",children:"getTestAreaChargeByWorkAreaIndex"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getTestAreaChargeByWorkAreaIndex()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"workAreaIndex"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function TestAreas:getTestAreaChargeByWorkAreaIndex(workAreaIndex)\n    local spec = self.spec_testAreas\n    local testAreas = spec.testAreasByWorkAreaIndex[workAreaIndex]\n    if testAreas ~ = nil then\n        local charged = 0\n        for i = 1 , #testAreas do\n            if testAreas[i].hasContact then\n                charged = charged + 1\n            end\n        end\n\n        return charged / #testAreas\n    end\n\n    return 1\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"gettestareawidthbyworkareaindex",children:"getTestAreaWidthByWorkAreaIndex"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getTestAreaWidthByWorkAreaIndex()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"workAreaIndex"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function TestAreas:getTestAreaWidthByWorkAreaIndex(workAreaIndex)\n    local spec = self.spec_testAreas\n    local workArea = self:getWorkAreaByIndex(workAreaIndex)\n    if workArea ~ = nil then\n        if spec.testAreasByWorkAreaIndex[workAreaIndex] ~ = nil then\n            return workArea.testAreaCurrentWidthMin, workArea.testAreaCurrentWidthMax, workArea.testAreaMinX, workArea.testAreaMaxX, true\n        end\n\n        local width = self:getWorkAreaWidth(workAreaIndex) * 0.5\n        return - width, width, - width, width, false\n    end\n\n    return - math.huge, math.huge, 0 , 0 , false\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"initspecialization",children:"initSpecialization"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"initSpecialization()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function TestAreas.initSpecialization()\n    local schema = Vehicle.xmlSchema\n    schema:setXMLSpecializationType( "TestAreas" )\n\n    schema:register(XMLValueType.BOOL, WorkArea.WORK_AREA_XML_KEY .. ".testAreas#autoGenerate" , "Automatically generate test areas" , false )\n    schema:register(XMLValueType.NODE_INDEX, WorkArea.WORK_AREA_XML_KEY .. ".testAreas#rootNode" , "Root node as reference for width" )\n        schema:register(XMLValueType.NODE_INDEX, WorkArea.WORK_AREA_XML_KEY .. ".testAreas#startNode" , "Left node reference for automatic calculation" )\n            schema:register(XMLValueType.NODE_INDEX, WorkArea.WORK_AREA_XML_KEY .. ".testAreas#widthNode" , "Right node reference for automatic calculation" )\n                schema:register(XMLValueType.FLOAT, WorkArea.WORK_AREA_XML_KEY .. ".testAreas#zOffset" , "Offset in Z direction" , 0 )\n                schema:register(XMLValueType.FLOAT, WorkArea.WORK_AREA_XML_KEY .. ".testAreas#xOffset" , "Offset for both sides mirrored(negative value will shrink area, positive will increase area on both sides)" , 0 )\n                    schema:register(XMLValueType.FLOAT, WorkArea.WORK_AREA_XML_KEY .. ".testAreas#length" , "Length of area itself" , 0.5 )\n                    schema:register(XMLValueType.INT, WorkArea.WORK_AREA_XML_KEY .. ".testAreas#numAreas" , "Number of used areas" , 10 )\n                    schema:register(XMLValueType.FLOAT, WorkArea.WORK_AREA_XML_KEY .. ".testAreas#areaWidthScale" , "Width percentage of each individual area" , 0.9 )\n                    schema:register(XMLValueType.FLOAT, WorkArea.WORK_AREA_XML_KEY .. ".testAreas#scale" , "Scale of test areas over width of work area" , 1 )\n\n                    schema:register(XMLValueType.NODE_INDEX, WorkArea.WORK_AREA_XML_KEY .. ".testAreas.testArea(?)#startNode" , "Start Node" )\n                    schema:register(XMLValueType.NODE_INDEX, WorkArea.WORK_AREA_XML_KEY .. ".testAreas.testArea(?)#widthNode" , "Width Node" )\n                    schema:register(XMLValueType.NODE_INDEX, WorkArea.WORK_AREA_XML_KEY .. ".testAreas.testArea(?)#heightNode" , "Height Node" )\n\n                    schema:register(XMLValueType.BOOL, WorkArea.WORK_AREA_XML_CONFIG_KEY .. ".testAreas#autoGenerate" , "Automatically generate test areas" , false )\n                    schema:register(XMLValueType.NODE_INDEX, WorkArea.WORK_AREA_XML_CONFIG_KEY .. ".testAreas#rootNode" , "Root node as reference for width" )\n                        schema:register(XMLValueType.NODE_INDEX, WorkArea.WORK_AREA_XML_CONFIG_KEY .. ".testAreas#startNode" , "Left node reference for automatic calculation" )\n                            schema:register(XMLValueType.NODE_INDEX, WorkArea.WORK_AREA_XML_CONFIG_KEY .. ".testAreas#widthNode" , "Right node reference for automatic calculation" )\n                                schema:register(XMLValueType.FLOAT, WorkArea.WORK_AREA_XML_CONFIG_KEY .. ".testAreas#zOffset" , "Offset in Z direction" , 0 )\n                                schema:register(XMLValueType.FLOAT, WorkArea.WORK_AREA_XML_CONFIG_KEY .. ".testAreas#xOffset" , "Offset for both sides mirrored(negative value will shrink area, positive will increase area on both sides)" , 0 )\n                                    schema:register(XMLValueType.FLOAT, WorkArea.WORK_AREA_XML_CONFIG_KEY .. ".testAreas#length" , "Length of area itself" , 0.5 )\n                                    schema:register(XMLValueType.INT, WorkArea.WORK_AREA_XML_CONFIG_KEY .. ".testAreas#numAreas" , "Number of used areas" , 10 )\n                                    schema:register(XMLValueType.FLOAT, WorkArea.WORK_AREA_XML_CONFIG_KEY .. ".testAreas#areaWidthScale" , "Width percentage of each individual area" , 0.9 )\n                                    schema:register(XMLValueType.FLOAT, WorkArea.WORK_AREA_XML_CONFIG_KEY .. ".testAreas#scale" , "Scale of test areas over width of work area" , 1 )\n\n                                    schema:register(XMLValueType.NODE_INDEX, WorkArea.WORK_AREA_XML_CONFIG_KEY .. ".testAreas.testArea(?)#startNode" , "Start Node" )\n                                    schema:register(XMLValueType.NODE_INDEX, WorkArea.WORK_AREA_XML_CONFIG_KEY .. ".testAreas.testArea(?)#widthNode" , "Width Node" )\n                                    schema:register(XMLValueType.NODE_INDEX, WorkArea.WORK_AREA_XML_CONFIG_KEY .. ".testAreas.testArea(?)#heightNode" , "Height Node" )\n\n                                    schema:setXMLSpecializationType()\n                                end\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"loadworkareafromxml",children:"loadWorkAreaFromXML"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"loadWorkAreaFromXML()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"superFunc"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"workArea"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"xmlFile"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"key"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function TestAreas:loadWorkAreaFromXML(superFunc, workArea, xmlFile, key)\n    if not superFunc( self , workArea, xmlFile, key) then\n        return false\n    end\n\n    if not Platform.gameplay.allowTestAreas then\n        if xmlFile:hasProperty(key .. ".testAreas" ) then\n            Logging.xmlWarning(xmlFile, "TestAreas not allowed on this platform in \'%s\'" , key)\n        end\n    end\n\n    workArea.automaticTestAreas = xmlFile:getValue(key .. ".testAreas#autoGenerate" , false )\n\n    workArea.testAreaRootNode = xmlFile:getValue(key .. ".testAreas#rootNode" , nil , self.components, self.i3dMappings)\n\n    workArea.testAreaStartNode = xmlFile:getValue(key .. ".testAreas#startNode" , workArea.start, self.components, self.i3dMappings)\n    workArea.testAreaWidthNode = xmlFile:getValue(key .. ".testAreas#widthNode" , workArea.width, self.components, self.i3dMappings)\n\n    workArea.testAreaXOffset = xmlFile:getValue(key .. ".testAreas#xOffset" , 0 )\n    workArea.testAreaZOffset = xmlFile:getValue(key .. ".testAreas#zOffset" , 0 )\n    workArea.testAreaNumAreas = xmlFile:getValue(key .. ".testAreas#numAreas" , 10 )\n    workArea.testAreaLength = xmlFile:getValue(key .. ".testAreas#length" , 0.5 )\n    workArea.testAreaWidthScale = xmlFile:getValue(key .. ".testAreas#areaWidthScale" , 0.9 )\n    workArea.testAreaScale = xmlFile:getValue(key .. ".testAreas#scale" , 1 )\n\n    workArea.testAreaMinX = 0\n    workArea.testAreaMaxX = 0\n\n    if workArea.automaticTestAreas then\n        if workArea.testAreaRootNode = = nil then\n            workArea.testAreaRootNode = createTransformGroup( "testAreaRootNode" )\n            link(getParent(workArea.testAreaStartNode), workArea.testAreaRootNode)\n\n            local x1, y1, z1 = getWorldTranslation(workArea.testAreaStartNode)\n            local x2, y2, z2 = getWorldTranslation(workArea.testAreaWidthNode)\n            setWorldTranslation(workArea.testAreaRootNode, (x1 + x2) * 0.5 , (y1 + y2) * 0.5 , (z1 + z2) * 0.5 )\n        end\n\n        self:generateTestAreasForWorkArea(workArea)\n    else\n            if workArea.testAreaRootNode = = nil then\n                workArea.testAreaRootNode = self.components[ 1 ].node\n            end\n\n            xmlFile:iterate(key .. ".testAreas.testArea" , function (_, areaKey)\n                local testArea = { }\n                testArea.start = xmlFile:getValue(areaKey .. "#startNode" , nil , self.components, self.i3dMappings)\n                testArea.width = xmlFile:getValue(areaKey .. "#widthNode" , nil , self.components, self.i3dMappings)\n                testArea.height = xmlFile:getValue(areaKey .. "#heightNode" , nil , self.components, self.i3dMappings)\n\n                if testArea.start ~ = nil and testArea.width ~ = nil and testArea.height ~ = nil then\n                    self:calculateTestAreaDimensions(workArea, testArea)\n                    self:registerTestAreaForWorkArea(workArea, testArea)\n                end\n            end )\n        end\n\n        workArea.hasTestAreas = workArea.testAreaRootNode ~ = nil\n\n        workArea.testAreaCurrentWidthMin = - math.huge\n        workArea.testAreaCurrentWidthMax = math.huge\n\n        return true\n    end\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"onpostload",children:"onPostLoad"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onPostLoad()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"savegame"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function TestAreas:onPostLoad(savegame)\n    local spec = self.spec_testAreas\n\n    for workArea, testAreas in pairs(spec.testAreasByWorkArea) do\n        spec.testAreasByWorkAreaIndex[workArea.index] = testAreas\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onpreload",children:"onPreLoad"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onPreLoad()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"savegame"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function TestAreas:onPreLoad(savegame)\n    local spec = self.spec_testAreas\n\n    spec.testAreas = { }\n    spec.testAreasByWorkArea = { }\n    spec.testAreasByWorkAreaIndex = { }\n\n    spec.testAreaDirtyFlag = self:getNextDirtyFlag()\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onreadstream",children:"onReadStream"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onReadStream()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"streamId"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"connection"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function TestAreas:onReadStream(streamId, connection)\n    self:readTestAreasStream(streamId, connection)\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onreadupdatestream",children:"onReadUpdateStream"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onReadUpdateStream()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"streamId"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"timestamp"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"connection"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function TestAreas:onReadUpdateStream(streamId, timestamp, connection)\n    if connection:getIsServer() then\n        if streamReadBool(streamId) then\n            self:readTestAreasStream(streamId, connection)\n        end\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onupdatetick",children:"onUpdateTick"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onUpdateTick()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"dt"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"isActiveForInput"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"isActiveForInputIgnoreSelection"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"isSelected"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function TestAreas:onUpdateTick(dt, isActiveForInput, isActiveForInputIgnoreSelection, isSelected)\n    local spec = self.spec_testAreas\n\n    for workArea, testAreas in pairs(spec.testAreasByWorkArea) do\n        if self:getIsWorkAreaActive(workArea) then\n            workArea.testAreaCurrentWidthMin = - math.huge\n            workArea.testAreaCurrentWidthMax = math.huge\n\n            local numTestAreas = #testAreas\n            local chargedAreas = numTestAreas\n            local foundLeft = false\n            local foundLeftIndex = - 1\n            for i = 1 , numTestAreas do\n                local testArea = testAreas[i]\n                if self:processTestArea(testArea) then\n                    foundLeft = true\n                    foundLeftIndex = i\n\n                    workArea.testAreaCurrentWidthMin = testArea.minWidthValue\n                    workArea.testAreaCurrentWidthMax = testArea.maxWidthValue\n\n                    break\n                else\n                        chargedAreas = chargedAreas - 1\n                    end\n                end\n\n                if foundLeft then\n                    local fruitFound = false\n                    for i = numTestAreas, foundLeftIndex + 1 , - 1 do\n                        local testArea = testAreas[i]\n                        if not fruitFound then\n                            if self:processTestArea(testArea) then\n                                workArea.testAreaCurrentWidthMax = testArea.maxWidthValue\n                                fruitFound = true\n                            else\n                                    chargedAreas = chargedAreas - 1\n                                end\n                            else\n                                    testArea.hasContact = true\n                                end\n                            end\n                        end\n\n                        if VehicleDebug.state = = VehicleDebug.DEBUG_ATTRIBUTES then\n                            local x1, y1, z1 = localToWorld(workArea.testAreaRootNode, math.max(workArea.testAreaCurrentWidthMin, workArea.testAreaMinX), 0 , 0 )\n                            local x2, y2, z2 = localToWorld(workArea.testAreaRootNode, math.min(workArea.testAreaCurrentWidthMax, workArea.testAreaMaxX), 0 , 0 )\n\n                            drawDebugLine(x1, y1, z1, 0 , 1 , 0 , x1, y1 + 2 , z1, 0 , 1 , 0 )\n                            drawDebugLine(x2, y2, z2, 0 , 1 , 0 , x2, y2 + 1 , z2, 0 , 1 , 0 )\n                        end\n                    else\n                            workArea.testAreaCurrentWidthMin = - math.huge\n                            workArea.testAreaCurrentWidthMax = math.huge\n                        end\n                    end\n                end\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onwritestream",children:"onWriteStream"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onWriteStream()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"streamId"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"connection"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function TestAreas:onWriteStream(streamId, connection)\n    self:writeTestAreasStream(streamId, connection)\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onwriteupdatestream",children:"onWriteUpdateStream"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onWriteUpdateStream()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"streamId"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"connection"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"dirtyMask"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function TestAreas:onWriteUpdateStream(streamId, connection, dirtyMask)\n    if not connection:getIsServer() then\n        if streamWriteBool(streamId, bit32.band(dirtyMask, self.spec_testAreas.testAreaDirtyFlag) ~ = 0 ) then\n            self:writeTestAreasStream(streamId, connection)\n        end\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"prerequisitespresent",children:"prerequisitesPresent"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"prerequisitesPresent()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"specializations"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function TestAreas.prerequisitesPresent(specializations)\n    return SpecializationUtil.hasSpecialization( WorkArea , specializations)\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"processtestarea",children:"processTestArea"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"processTestArea()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"testArea"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function TestAreas:processTestArea(testArea)\n    local spec = self.spec_testAreas\n\n    local x, _, z = getWorldTranslation(testArea.start)\n    local x1, _, z1 = getWorldTranslation(testArea.width)\n    local x2, _, z2 = getWorldTranslation(testArea.height)\n\n    if self.isServer and(spec.fruitTypeIndex ~ = nil or spec.fillTypeIndex ~ = nil ) then\n        if self:getIsTestAreaActive(testArea) then\n            if spec.fruitTypeIndex ~ = nil then\n                local fruitValue, _, _, _ = FSDensityMapUtil.getFruitArea(spec.fruitTypeIndex, x, z, x1, z1, x2, z2, nil , spec.allowsForageGrowthState)\n                testArea.hasContact = fruitValue > 0\n            else\n                    local fillLevel = DensityMapHeightUtil.getFillLevelAtArea(spec.fillTypeIndex, x, z, x1, z1, x2, z2)\n                    testArea.hasContact = fillLevel > 0\n                end\n\n                if VehicleDebug.state = = VehicleDebug.DEBUG_ATTRIBUTES then\n                    local dx, dz, widthX, widthZ, heightX, heightZ = MathUtil.getXZWidthAndHeight(x, z, x1, z1, x2, z2)\n                    DebugUtil.drawDebugParallelogram(dx, dz, widthX, widthZ, heightX, heightZ, 0.2 , testArea.hasContact and 0 or 1 , testArea.hasContact and 1 or 0 , 0 , 0.5 )\n                    DebugGizmo.renderAtNode(testArea.start, getName(testArea.start), true , 1 , true )\n                    DebugGizmo.renderAtNode(testArea.width, getName(testArea.width), true , 1 , true )\n                    DebugGizmo.renderAtNode(testArea.height, getName(testArea.height), true , 1 , true )\n                end\n\n                if testArea.hasContactSent ~ = testArea.hasContact then\n                    self:raiseDirtyFlags(spec.testAreaDirtyFlag)\n                    testArea.hasContactSent = testArea.hasContact\n                end\n            end\n        elseif spec.fruitTypeIndex ~ = nil or spec.fillTypeIndex ~ = nil then\n                if VehicleDebug.state = = VehicleDebug.DEBUG_ATTRIBUTES then\n                    local dx, dz, widthX, widthZ, heightX, heightZ = MathUtil.getXZWidthAndHeight(x, z, x1, z1, x2, z2)\n                    DebugUtil.drawDebugParallelogram(dx, dz, widthX, widthZ, heightX, heightZ, 0.2 , testArea.hasContact and 0 or 1 , testArea.hasContact and 1 or 0 , 0 , 0.5 )\n                end\n            end\n\n            return testArea.hasContact\n        end\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"readtestareasstream",children:"readTestAreasStream"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"readTestAreasStream()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"streamId"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"connection"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function TestAreas:readTestAreasStream(streamId, connection)\n    local spec = self.spec_testAreas\n\n    for i = 1 , #spec.testAreas do\n        spec.testAreas[i].hasContact = false\n    end\n\n    local startIndex, endIndex = 0 , 0\n    local hadFruitContact = false\n    for i = 1 , #spec.testAreas do\n        local testArea = spec.testAreas[i]\n        testArea.hasContact = streamReadBool(streamId)\n        if testArea.hasContact then\n            hadFruitContact = true\n            startIndex = i\n            break\n        end\n    end\n\n    if hadFruitContact then\n        for i = #spec.testAreas, 1 , - 1 do\n            local testArea = spec.testAreas[i]\n            testArea.hasContact = streamReadBool(streamId)\n            if testArea.hasContact then\n            endIndex = i\n            break\n        end\n    end\nend\n\nif startIndex ~ = 0 and endIndex ~ = 0 then\n    for i = startIndex, endIndex do\n        spec.testAreas[i].hasContact = true\n    end\nend\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"registereventlisteners",children:"registerEventListeners"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"registerEventListeners()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function TestAreas.registerEventListeners(vehicleType)\n    SpecializationUtil.registerEventListener(vehicleType, "onPreLoad" , TestAreas )\n    SpecializationUtil.registerEventListener(vehicleType, "onPostLoad" , TestAreas )\n    SpecializationUtil.registerEventListener(vehicleType, "onReadStream" , TestAreas )\n    SpecializationUtil.registerEventListener(vehicleType, "onWriteStream" , TestAreas )\n    SpecializationUtil.registerEventListener(vehicleType, "onReadUpdateStream" , TestAreas )\n    SpecializationUtil.registerEventListener(vehicleType, "onWriteUpdateStream" , TestAreas )\n    SpecializationUtil.registerEventListener(vehicleType, "onUpdateTick" , TestAreas )\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"registerfunctions",children:"registerFunctions"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"registerFunctions()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function TestAreas.registerFunctions(vehicleType)\n    SpecializationUtil.registerFunction(vehicleType, "readTestAreasStream" , TestAreas.readTestAreasStream)\n    SpecializationUtil.registerFunction(vehicleType, "writeTestAreasStream" , TestAreas.writeTestAreasStream)\n    SpecializationUtil.registerFunction(vehicleType, "generateTestAreasForWorkArea" , TestAreas.generateTestAreasForWorkArea)\n    SpecializationUtil.registerFunction(vehicleType, "calculateTestAreaDimensions" , TestAreas.calculateTestAreaDimensions)\n    SpecializationUtil.registerFunction(vehicleType, "registerTestAreaForWorkArea" , TestAreas.registerTestAreaForWorkArea)\n    SpecializationUtil.registerFunction(vehicleType, "setTestAreaRequirements" , TestAreas.setTestAreaRequirements)\n    SpecializationUtil.registerFunction(vehicleType, "getIsTestAreaActive" , TestAreas.getIsTestAreaActive)\n    SpecializationUtil.registerFunction(vehicleType, "processTestArea" , TestAreas.processTestArea)\n    SpecializationUtil.registerFunction(vehicleType, "getTestAreaWidthByWorkAreaIndex" , TestAreas.getTestAreaWidthByWorkAreaIndex)\n    SpecializationUtil.registerFunction(vehicleType, "getTestAreaChargeByWorkAreaIndex" , TestAreas.getTestAreaChargeByWorkAreaIndex)\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"registeroverwrittenfunctions",children:"registerOverwrittenFunctions"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"registerOverwrittenFunctions()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function TestAreas.registerOverwrittenFunctions(vehicleType)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "loadWorkAreaFromXML" , TestAreas.loadWorkAreaFromXML)\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"registertestareaforworkarea",children:"registerTestAreaForWorkArea"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"registerTestAreaForWorkArea()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"workArea"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"testArea"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function TestAreas:registerTestAreaForWorkArea(workArea, testArea)\n    testArea.hasContact = false\n    testArea.hasContactSent = false\n\n    local spec = self.spec_testAreas\n    if spec.testAreasByWorkArea[workArea] = = nil then\n        spec.testAreasByWorkArea[workArea] = { }\n    end\n\n    table.insert(spec.testAreasByWorkArea[workArea], testArea)\n    table.insert(spec.testAreas, testArea)\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"settestarearequirements",children:"setTestAreaRequirements"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"setTestAreaRequirements()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"fruitTypeIndex"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"fillTypeIndex"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"allowsForageGrowthState"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function TestAreas:setTestAreaRequirements(fruitTypeIndex, fillTypeIndex, allowsForageGrowthState)\n    local spec = self.spec_testAreas\n\n    if fruitTypeIndex = = FruitType.UNKNOWN then\n        fruitTypeIndex = nil\n    end\n\n    if fillTypeIndex = = FillType.UNKNOWN then\n        fillTypeIndex = nil\n    end\n\n    spec.fruitTypeIndex = fruitTypeIndex\n    spec.fillTypeIndex = fillTypeIndex\n    spec.allowsForageGrowthState = allowsForageGrowthState\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"writetestareasstream",children:"writeTestAreasStream"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"writeTestAreasStream()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"streamId"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"connection"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function TestAreas:writeTestAreasStream(streamId, connection)\n    local spec = self.spec_testAreas\n\n    local hadFruitContact = false\n    for i = 1 , #spec.testAreas do\n        local testArea = spec.testAreas[i]\n        streamWriteBool(streamId, testArea.hasContact)\n        if testArea.hasContact then\n            hadFruitContact = true\n            break\n        end\n    end\n\n    if hadFruitContact then\n        for i = #spec.testAreas, 1 , - 1 do\n            local testArea = spec.testAreas[i]\n            streamWriteBool(streamId, testArea.hasContact)\n            if testArea.hasContact then\n                break\n            end\n        end\n    end\nend\n\n"})})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},28453(e,n,r){r.d(n,{R:()=>i,x:()=>l});var t=r(96540);const s={},a=t.createContext(s);function i(e){const n=t.useContext(a);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),t.createElement(a.Provider,{value:n},e.children)}}}]);