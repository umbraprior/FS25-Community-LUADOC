"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[45313],{28453(e,n,l){l.d(n,{R:()=>t,x:()=>a});var i=l(96540);const s={},r=i.createContext(s);function t(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),i.createElement(r.Provider,{value:n},e.children)}},92429(e,n,l){l.r(n),l.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"script/Specializations/LivestockTrailer","title":"LivestockTrailer","description":"LivestockTrailer","source":"@site/../docs/script/Specializations/LivestockTrailer.md","sourceDirName":"script/Specializations","slug":"/script/Specializations/LivestockTrailer","permalink":"/FS25-Community-LUADOC/script/Specializations/LivestockTrailer","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"Lights","permalink":"/FS25-Community-LUADOC/script/Specializations/Lights"},"next":{"title":"Locomotive","permalink":"/FS25-Community-LUADOC/script/Specializations/Locomotive"}}');var s=l(74848),r=l(28453);const t={},a=void 0,c={},d=[{value:"LivestockTrailer",id:"livestocktrailer",level:2},{value:"addAnimals",id:"addanimals",level:3},{value:"addCluster",id:"addcluster",level:3},{value:"clearAnimals",id:"clearanimals",level:3},{value:"dayChanged",id:"daychanged",level:3},{value:"getAdditionalComponentMass",id:"getadditionalcomponentmass",level:3},{value:"getAnimalUnloadPlaces",id:"getanimalunloadplaces",level:3},{value:"getClusterById",id:"getclusterbyid",level:3},{value:"getClusters",id:"getclusters",level:3},{value:"getClusterSystem",id:"getclustersystem",level:3},{value:"getCurrentAnimalType",id:"getcurrentanimaltype",level:3},{value:"getLoadingTrigger",id:"getloadingtrigger",level:3},{value:"getMaxNumOfAnimals",id:"getmaxnumofanimals",level:3},{value:"getNumOfAnimals",id:"getnumofanimals",level:3},{value:"getNumOfFreeAnimalSlots",id:"getnumoffreeanimalslots",level:3},{value:"getRideablesInTrigger",id:"getrideablesintrigger",level:3},{value:"getSellPrice",id:"getsellprice",level:3},{value:"getSpecValueNumberAnimals",id:"getspecvaluenumberanimals",level:3},{value:"getSpecValueNumberAnimalsCow",id:"getspecvaluenumberanimalscow",level:3},{value:"getSpecValueNumberAnimalsHorse",id:"getspecvaluenumberanimalshorse",level:3},{value:"getSpecValueNumberAnimalsPig",id:"getspecvaluenumberanimalspig",level:3},{value:"getSpecValueNumberAnimalsSheep",id:"getspecvaluenumberanimalssheep",level:3},{value:"getSupportsAnimalSubType",id:"getsupportsanimalsubtype",level:3},{value:"getSupportsAnimalType",id:"getsupportsanimaltype",level:3},{value:"initSpecialization",id:"initspecialization",level:3},{value:"loadSpecValueNumberAnimals",id:"loadspecvaluenumberanimals",level:3},{value:"loadSpecValueNumberAnimalsCow",id:"loadspecvaluenumberanimalscow",level:3},{value:"loadSpecValueNumberAnimalsHorse",id:"loadspecvaluenumberanimalshorse",level:3},{value:"loadSpecValueNumberAnimalsPig",id:"loadspecvaluenumberanimalspig",level:3},{value:"loadSpecValueNumberAnimalsSheep",id:"loadspecvaluenumberanimalssheep",level:3},{value:"onAnimalLoaded",id:"onanimalloaded",level:3},{value:"onAnimalLoadTriggerCallback",id:"onanimalloadtriggercallback",level:3},{value:"onAnimalRideableDeleted",id:"onanimalrideabledeleted",level:3},{value:"onDelete",id:"ondelete",level:3},{value:"onLoad",id:"onload",level:3},{value:"onLoadFinished",id:"onloadfinished",level:3},{value:"onReadStream",id:"onreadstream",level:3},{value:"onWriteStream",id:"onwritestream",level:3},{value:"periodChanged",id:"periodchanged",level:3},{value:"prerequisitesPresent",id:"prerequisitespresent",level:3},{value:"registerEventListeners",id:"registereventlisteners",level:3},{value:"registerFunctions",id:"registerfunctions",level:3},{value:"registerOverwrittenFunctions",id:"registeroverwrittenfunctions",level:3},{value:"saveToXMLFile",id:"savetoxmlfile",level:3},{value:"setAnimalScreenController",id:"setanimalscreencontroller",level:3},{value:"setLoadingTrigger",id:"setloadingtrigger",level:3},{value:"updateAnimals",id:"updateanimals",level:3},{value:"updatedClusters",id:"updatedclusters",level:3}];function o(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"livestocktrailer",children:"LivestockTrailer"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Specialization for livestrock trailers with animals as cargo"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Functions"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#addanimals",children:"addAnimals"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#addcluster",children:"addCluster"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#clearanimals",children:"clearAnimals"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#daychanged",children:"dayChanged"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getadditionalcomponentmass",children:"getAdditionalComponentMass"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getanimalunloadplaces",children:"getAnimalUnloadPlaces"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getclusterbyid",children:"getClusterById"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getclusters",children:"getClusters"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getclustersystem",children:"getClusterSystem"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getcurrentanimaltype",children:"getCurrentAnimalType"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getloadingtrigger",children:"getLoadingTrigger"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getmaxnumofanimals",children:"getMaxNumOfAnimals"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getnumofanimals",children:"getNumOfAnimals"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getnumoffreeanimalslots",children:"getNumOfFreeAnimalSlots"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getrideablesintrigger",children:"getRideablesInTrigger"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getsellprice",children:"getSellPrice"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getspecvaluenumberanimals",children:"getSpecValueNumberAnimals"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getspecvaluenumberanimalscow",children:"getSpecValueNumberAnimalsCow"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getspecvaluenumberanimalshorse",children:"getSpecValueNumberAnimalsHorse"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getspecvaluenumberanimalspig",children:"getSpecValueNumberAnimalsPig"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getspecvaluenumberanimalssheep",children:"getSpecValueNumberAnimalsSheep"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getsupportsanimalsubtype",children:"getSupportsAnimalSubType"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getsupportsanimaltype",children:"getSupportsAnimalType"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#initspecialization",children:"initSpecialization"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#loadspecvaluenumberanimals",children:"loadSpecValueNumberAnimals"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#loadspecvaluenumberanimalscow",children:"loadSpecValueNumberAnimalsCow"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#loadspecvaluenumberanimalshorse",children:"loadSpecValueNumberAnimalsHorse"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#loadspecvaluenumberanimalspig",children:"loadSpecValueNumberAnimalsPig"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#loadspecvaluenumberanimalssheep",children:"loadSpecValueNumberAnimalsSheep"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onanimalloaded",children:"onAnimalLoaded"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onanimalloadtriggercallback",children:"onAnimalLoadTriggerCallback"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onanimalrideabledeleted",children:"onAnimalRideableDeleted"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#ondelete",children:"onDelete"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onload",children:"onLoad"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onloadfinished",children:"onLoadFinished"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onreadstream",children:"onReadStream"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onwritestream",children:"onWriteStream"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#periodchanged",children:"periodChanged"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#prerequisitespresent",children:"prerequisitesPresent"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#registereventlisteners",children:"registerEventListeners"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#registerfunctions",children:"registerFunctions"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#registeroverwrittenfunctions",children:"registerOverwrittenFunctions"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#savetoxmlfile",children:"saveToXMLFile"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#setanimalscreencontroller",children:"setAnimalScreenController"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#setloadingtrigger",children:"setLoadingTrigger"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#updateanimals",children:"updateAnimals"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#updatedclusters",children:"updatedClusters"})}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"addanimals",children:"addAnimals"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"addAnimals()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"subTypeIndex"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"numAnimals"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"age"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function LivestockTrailer:addAnimals(subTypeIndex, numAnimals, age)\n    local cluster = g_currentMission.animalSystem:createClusterFromSubTypeIndex(subTypeIndex)\n    if cluster:getSupportsMerging() then\n        cluster.numAnimals = numAnimals\n        cluster.age = age\n        self:addCluster(cluster)\n    else\n            for i = 1 , numAnimals do\n                if i > 1 then\n                    cluster = g_currentMission.animalSystem:createClusterFromSubTypeIndex(subTypeIndex)\n                end\n                cluster.numAnimals = 1\n                cluster.age = age\n                self:addCluster(cluster)\n            end\n        end\n    end\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"addcluster",children:"addCluster"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"addCluster()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"cluster"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function LivestockTrailer:addCluster(cluster)\n    local spec = self.spec_livestockTrailer\n\n    spec.clusterSystem:addPendingAddCluster(cluster)\n    spec.clusterSystem:updateNow()\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"clearanimals",children:"clearAnimals"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"clearAnimals()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function LivestockTrailer:clearAnimals()\n    local spec = self.spec_livestockTrailer\n    if spec.animalTypeIndexToPlaces ~ = nil then\n        for _, place in pairs(spec.animalTypeIndexToPlaces) do\n            for _, slot in ipairs(place.slots) do\n                if slot.sharedLoadRequestId ~ = nil then\n                    g_i3DManager:releaseSharedI3DFile(slot.sharedLoadRequestId)\n                    slot.sharedLoadRequestId = nil\n                end\n                if slot.loadedMesh ~ = nil then\n                    delete(slot.loadedMesh)\n                    slot.loadedMesh = nil\n                end\n            end\n        end\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"daychanged",children:"dayChanged"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"dayChanged()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function LivestockTrailer:dayChanged(superFunc)\n    superFunc( self )\n\n    local spec = self.spec_livestockTrailer\n    local clusters = spec.clusterSystem:getClusters()\n    for _, cluster in ipairs(clusters) do\n        cluster:onDayChanged()\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getadditionalcomponentmass",children:"getAdditionalComponentMass"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getAdditionalComponentMass()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"superFunc"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"component"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function LivestockTrailer:getAdditionalComponentMass(superFunc, component)\n    local additionalMass = superFunc( self , component)\n    local spec = self.spec_livestockTrailer\n\n    local clusters = spec.clusterSystem:getClusters()\n    for _, cluster in ipairs(clusters) do\n        local subTypeIndex = cluster:getSubTypeIndex()\n        local subType = g_currentMission.animalSystem:getSubTypeByIndex(subTypeIndex)\n        local fillTypeIndex = subType.fillTypeIndex\n        local fillType = g_fillTypeManager:getFillTypeByIndex(fillTypeIndex)\n\n        additionalMass = additionalMass + (fillType.massPerLiter * cluster:getNumAnimals())\n    end\n\n    return additionalMass\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getanimalunloadplaces",children:"getAnimalUnloadPlaces"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getAnimalUnloadPlaces()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function LivestockTrailer:getAnimalUnloadPlaces()\n    local spec = self.spec_livestockTrailer\n    local places = { }\n\n    for _, spawnPlace in ipairs(spec.spawnPlaces) do\n        local node = spawnPlace.node\n        local x, y, z = getWorldTranslation(node)\n\n        local place = { }\n        place.startX, place.startY, place.startZ = x, y, z\n        place.rotX, place.rotY, place.rotZ = getWorldRotation(node)\n        place.dirX, place.dirY, place.dirZ = localDirectionToWorld(node, 1 , 0 , 0 )\n        place.dirPerpX, place.dirPerpY, place.dirPerpZ = localDirectionToWorld(node, 0 , 0 , 1 )\n        place.yOffset = 1\n        place.maxWidth = math.huge\n        place.maxLength = math.huge\n        place.maxHeight = math.huge\n        place.width = spawnPlace.width\n\n        table.insert(places, place)\n    end\n\n    return places\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getclusterbyid",children:"getClusterById"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getClusterById()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"id"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function LivestockTrailer:getClusterById(id)\n    local spec = self.spec_livestockTrailer\n    return spec.clusterSystem:getClusterById(id)\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getclusters",children:"getClusters"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getClusters()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function LivestockTrailer:getClusters()\n    local spec = self.spec_livestockTrailer\n    return spec.clusterSystem:getClusters()\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getclustersystem",children:"getClusterSystem"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getClusterSystem()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function LivestockTrailer:getClusterSystem()\n    local spec = self.spec_livestockTrailer\n    return spec.clusterSystem\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getcurrentanimaltype",children:"getCurrentAnimalType"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getCurrentAnimalType()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function LivestockTrailer:getCurrentAnimalType()\n    local spec = self.spec_livestockTrailer\n    local clusters = spec.clusterSystem:getClusters()\n    if #clusters = = 0 then\n        return nil\n    end\n\n    local animalSystem = g_currentMission.animalSystem\n    local subTypeIndex = clusters[ 1 ]:getSubTypeIndex()\n    local subType = animalSystem:getSubTypeByIndex(subTypeIndex)\n    local animalType = animalSystem:getTypeByIndex(subType.typeIndex)\n    return animalType\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getloadingtrigger",children:"getLoadingTrigger"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getLoadingTrigger()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function LivestockTrailer:getLoadingTrigger()\n    return self.spec_livestockTrailer.loadingTrigger\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getmaxnumofanimals",children:"getMaxNumOfAnimals"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getMaxNumOfAnimals()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"animalType"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function LivestockTrailer:getMaxNumOfAnimals(animalType)\n    local spec = self.spec_livestockTrailer\n\n    local currentAnimalType = self:getCurrentAnimalType()\n    if animalType = = nil and currentAnimalType = = nil then\n        return 0\n    end\n\n    if currentAnimalType ~ = nil and animalType ~ = currentAnimalType then\n        return 0\n    end\n\n    animalType = animalType or currentAnimalType\n\n    if not self:getSupportsAnimalType(animalType.typeIndex) then\n        return 0\n    end\n\n    local place = spec.animalTypeIndexToPlaces[animalType.typeIndex]\n    return #place.slots\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getnumofanimals",children:"getNumOfAnimals"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getNumOfAnimals()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function LivestockTrailer:getNumOfAnimals()\n    local spec = self.spec_livestockTrailer\n\n    local clusters = spec.clusterSystem:getClusters()\n    if #clusters = = 0 then\n        return 0\n    end\n\n    local subTypeIndex = clusters[ 1 ]:getSubTypeIndex()\n    local subType = g_currentMission.animalSystem:getSubTypeByIndex(subTypeIndex)\n\n    local place = spec.animalTypeIndexToPlaces[subType.typeIndex]\n    return place.usedSlots or 0\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getnumoffreeanimalslots",children:"getNumOfFreeAnimalSlots"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getNumOfFreeAnimalSlots()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"subTypeIndex"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function LivestockTrailer:getNumOfFreeAnimalSlots(subTypeIndex)\n    local animalSystem = g_currentMission.animalSystem\n    local subType = animalSystem:getSubTypeByIndex(subTypeIndex)\n    local animalType = animalSystem:getTypeByIndex(subType.typeIndex)\n\n    local used = self:getNumOfAnimals()\n    local total = self:getMaxNumOfAnimals(animalType)\n    return total - used\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getrideablesintrigger",children:"getRideablesInTrigger"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getRideablesInTrigger()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function LivestockTrailer:getRideablesInTrigger()\n    local spec = self.spec_livestockTrailer\n    return spec.rideablesInTrigger\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getsellprice",children:"getSellPrice"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getSellPrice()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function LivestockTrailer:getSellPrice(superFunc)\n    local sellPrice = superFunc( self )\n\n    local spec = self.spec_livestockTrailer\n    local clusters = spec.clusterSystem:getClusters()\n    for _, cluster in ipairs(clusters) do\n        local sellPriceCluster = cluster:getSellPrice() * cluster:getNumAnimals()\n\n        sellPrice = sellPrice + (sellPriceCluster * 0.75 )\n    end\n\n    return sellPrice\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getspecvaluenumberanimals",children:"getSpecValueNumberAnimals"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getSpecValueNumberAnimals()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"storeItem"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"realItem"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"specName"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function LivestockTrailer.getSpecValueNumberAnimals(storeItem, realItem, specName)\n    if storeItem.specs[specName] = = nil then\n        return nil\n    end\n    return string.format( "%d %s" , storeItem.specs[specName], g_i18n:getText( "unit_pieces" ))\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"getspecvaluenumberanimalscow",children:"getSpecValueNumberAnimalsCow"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getSpecValueNumberAnimalsCow()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"storeItem"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"realItem"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function LivestockTrailer.getSpecValueNumberAnimalsCow(storeItem, realItem)\n    return LivestockTrailer.getSpecValueNumberAnimals(storeItem, realItem, "numAnimalsCow" )\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"getspecvaluenumberanimalshorse",children:"getSpecValueNumberAnimalsHorse"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getSpecValueNumberAnimalsHorse()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"storeItem"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"realItem"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function LivestockTrailer.getSpecValueNumberAnimalsHorse(storeItem, realItem)\n    return LivestockTrailer.getSpecValueNumberAnimals(storeItem, realItem, "numAnimalsHorse" )\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"getspecvaluenumberanimalspig",children:"getSpecValueNumberAnimalsPig"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getSpecValueNumberAnimalsPig()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"storeItem"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"realItem"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function LivestockTrailer.getSpecValueNumberAnimalsPig(storeItem, realItem)\n    return LivestockTrailer.getSpecValueNumberAnimals(storeItem, realItem, "numAnimalsPig" )\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"getspecvaluenumberanimalssheep",children:"getSpecValueNumberAnimalsSheep"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getSpecValueNumberAnimalsSheep()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"storeItem"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"realItem"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function LivestockTrailer.getSpecValueNumberAnimalsSheep(storeItem, realItem)\n    return LivestockTrailer.getSpecValueNumberAnimals(storeItem, realItem, "numAnimalsSheep" )\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"getsupportsanimalsubtype",children:"getSupportsAnimalSubType"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getSupportsAnimalSubType()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"subTypeIndex"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function LivestockTrailer:getSupportsAnimalSubType(subTypeIndex)\n    local animalSystem = g_currentMission.animalSystem\n    local subType = animalSystem:getSubTypeByIndex(subTypeIndex)\n    local animalType = animalSystem:getTypeByIndex(subType.typeIndex)\n\n    return self:getSupportsAnimalType(animalType.typeIndex)\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getsupportsanimaltype",children:"getSupportsAnimalType"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getSupportsAnimalType()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"animalTypeIndex"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function LivestockTrailer:getSupportsAnimalType(animalTypeIndex)\n    return self.spec_livestockTrailer.animalTypeIndexToPlaces[animalTypeIndex] ~ = nil\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"initspecialization",children:"initSpecialization"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"initSpecialization()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function LivestockTrailer.initSpecialization()\n    g_storeManager:addSpecType( "numAnimalsCow" , "shopListAttributeIconCow" , LivestockTrailer.loadSpecValueNumberAnimalsCow, LivestockTrailer.getSpecValueNumberAnimalsCow, StoreSpecies.VEHICLE)\n    g_storeManager:addSpecType( "numAnimalsPig" , "shopListAttributeIconPig" , LivestockTrailer.loadSpecValueNumberAnimalsPig, LivestockTrailer.getSpecValueNumberAnimalsPig, StoreSpecies.VEHICLE)\n    g_storeManager:addSpecType( "numAnimalsSheep" , "shopListAttributeIconSheep" , LivestockTrailer.loadSpecValueNumberAnimalsSheep, LivestockTrailer.getSpecValueNumberAnimalsSheep, StoreSpecies.VEHICLE)\n    g_storeManager:addSpecType( "numAnimalsHorse" , "shopListAttributeIconHorse" , LivestockTrailer.loadSpecValueNumberAnimalsHorse, LivestockTrailer.getSpecValueNumberAnimalsHorse, StoreSpecies.VEHICLE)\n\n    local schema = Vehicle.xmlSchema\n    schema:setXMLSpecializationType( "LivestockTrailer" )\n\n    schema:register(XMLValueType.STRING, "vehicle.livestockTrailer.animal(?)#type" , "Animal type name" )\n    schema:register(XMLValueType.NODE_INDEX, "vehicle.livestockTrailer.animal(?)#node" , "Animal node" )\n    schema:register(XMLValueType.INT, "vehicle.livestockTrailer.animal(?)#numSlots" , "Number of slots" )\n    schema:register(XMLValueType.NODE_INDEX, "vehicle.livestockTrailer.loadTrigger#node" , "Load trigger node" )\n    schema:register(XMLValueType.NODE_INDEX, "vehicle.livestockTrailer.spawnPlaces.spawnPlace(?)#node" , "Unload spawn places" )\n    schema:register(XMLValueType.FLOAT, "vehicle.livestockTrailer.spawnPlaces.spawnPlace(?)#width" , "Unloading width" , 15 )\n\n    schema:setXMLSpecializationType()\n\n    local savegameSchema = Vehicle.xmlSchemaSavegame\n    savegameSchema:register(XMLValueType.STRING, "vehicles.vehicle(?).livestockTrailer#animalType" , "Animal type name" )\n    AnimalClusterSystem.registerSavegameXMLPaths(savegameSchema, "vehicles.vehicle(?).livestockTrailer" )\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"loadspecvaluenumberanimals",children:"loadSpecValueNumberAnimals"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"loadSpecValueNumberAnimals()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"xmlFile"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"customEnvironment"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"baseDir"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"animalTypeName"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function LivestockTrailer.loadSpecValueNumberAnimals(xmlFile, customEnvironment, baseDir, animalTypeName)\n    local maxNumAnimals = nil\n    local i = 0\n    local root = xmlFile:getRootName()\n    while true do\n        local key = string.format( "%s.livestockTrailer.animal(%d)" , root, i)\n        if not xmlFile:hasProperty(key) then\n            break\n        end\n\n        local typeName = xmlFile:getValue(key .. "#type" )\n        if typeName ~ = nil and string.lower(typeName) = = string.lower(animalTypeName) then\n            maxNumAnimals = xmlFile:getValue(key .. "#numSlots" , 0 )\n            break\n        end\n\n        i = i + 1\n    end\n\n    return maxNumAnimals\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"loadspecvaluenumberanimalscow",children:"loadSpecValueNumberAnimalsCow"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"loadSpecValueNumberAnimalsCow()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"xmlFile"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"customEnvironment"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"baseDir"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function LivestockTrailer.loadSpecValueNumberAnimalsCow(xmlFile, customEnvironment, baseDir)\n    return LivestockTrailer.loadSpecValueNumberAnimals(xmlFile, customEnvironment, baseDir, "cow" )\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"loadspecvaluenumberanimalshorse",children:"loadSpecValueNumberAnimalsHorse"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"loadSpecValueNumberAnimalsHorse()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"xmlFile"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"customEnvironment"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"baseDir"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function LivestockTrailer.loadSpecValueNumberAnimalsHorse(xmlFile, customEnvironment, baseDir)\n    return LivestockTrailer.loadSpecValueNumberAnimals(xmlFile, customEnvironment, baseDir, "horse" )\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"loadspecvaluenumberanimalspig",children:"loadSpecValueNumberAnimalsPig"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"loadSpecValueNumberAnimalsPig()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"xmlFile"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"customEnvironment"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"baseDir"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function LivestockTrailer.loadSpecValueNumberAnimalsPig(xmlFile, customEnvironment, baseDir)\n    return LivestockTrailer.loadSpecValueNumberAnimals(xmlFile, customEnvironment, baseDir, "pig" )\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"loadspecvaluenumberanimalssheep",children:"loadSpecValueNumberAnimalsSheep"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"loadSpecValueNumberAnimalsSheep()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"xmlFile"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"customEnvironment"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"baseDir"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function LivestockTrailer.loadSpecValueNumberAnimalsSheep(xmlFile, customEnvironment, baseDir)\n    return LivestockTrailer.loadSpecValueNumberAnimals(xmlFile, customEnvironment, baseDir, "sheep" )\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"onanimalloaded",children:"onAnimalLoaded"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onAnimalLoaded()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"i3dNode"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"failedReason"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"args"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function LivestockTrailer:onAnimalLoaded(i3dNode, failedReason, args)\n    if i3dNode ~ = 0 then\n        local slot = args.slot\n        local visual = args.visual\n\n        link(slot.linkNode, i3dNode)\n\n        slot.loadedMesh = i3dNode\n        slot.meshLoadingInProgress = false\n\n        local variations = visual.visualAnimal.variations[ 1 ]\n        local tileU = variations.tileUIndex / variations.numTilesU\n        local tileV = variations.tileVIndex / variations.numTilesV\n        I3DUtil.setShaderParameterRec(i3dNode, "atlasInvSizeAndOffsetUV" , 1 / variations.numTilesU, 1 / variations.numTilesV, tileU, tileV)\n        I3DUtil.setShaderParameterRec(i3dNode, "dirt" , 0 , nil , nil , nil )\n    end\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"onanimalloadtriggercallback",children:"onAnimalLoadTriggerCallback"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onAnimalLoadTriggerCallback()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"triggerId"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"otherId"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"onEnter"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"onLeave"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"onStay"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function LivestockTrailer:onAnimalLoadTriggerCallback(triggerId, otherId, onEnter, onLeave, onStay)\n    if onEnter or onLeave then\n        local spec = self.spec_livestockTrailer\n        local vehicle = g_currentMission.nodeToObject[otherId]\n\n        if vehicle ~ = nil and vehicle.spec_rideable ~ = nil then\n            local cluster = vehicle:getCluster()\n            if cluster ~ = nil then\n                local subTypeIndex = cluster:getSubTypeIndex()\n                if self:getSupportsAnimalSubType(subTypeIndex) then\n                    if onEnter then\n                        table.addElement(spec.rideablesInTrigger, vehicle)\n                        vehicle:addDeleteListener( self , "onAnimalRideableDeleted" )\n                    else\n                            table.removeElement(spec.rideablesInTrigger, vehicle)\n                            vehicle:removeDeleteListener( self , "onAnimalRideableDeleted" )\n                        end\n\n                        if spec.animalScreenController ~ = nil then\n                            spec.animalScreenController:onAnimalsChanged( self , nil )\n                        end\n                    end\n                end\n            end\n        end\n    end\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"onanimalrideabledeleted",children:"onAnimalRideableDeleted"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onAnimalRideableDeleted()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"rideable"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function LivestockTrailer:onAnimalRideableDeleted(rideable)\n    local spec = self.spec_livestockTrailer\n\n    table.removeElement(spec.rideablesInTrigger, rideable)\n\n    if spec.animalScreenController ~ = nil then\n        spec.animalScreenController:onAnimalsChanged( self , nil )\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"ondelete",children:"onDelete"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onDelete()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function LivestockTrailer:onDelete()\n    self:clearAnimals()\n    g_messageCenter:unsubscribe(AnimalClusterUpdateEvent, self )\n\n    if g_currentMission ~ = nil then\n        g_currentMission.husbandrySystem:removeLivestockTrailer( self )\n    end\n\n    local spec = self.spec_livestockTrailer\n    if spec.triggerNode ~ = nil then\n        removeTrigger(spec.triggerNode)\n    end\n\n    if spec.activatable ~ = nil then\n        g_currentMission.activatableObjectsSystem:removeActivatable(spec.activatable)\n    end\n\n    if spec.rideablesInTrigger ~ = nil then\n        for _, vehicle in ipairs(spec.rideablesInTrigger) do\n            vehicle:removeDeleteListener( self , "onAnimalRideableDeleted" )\n        end\n        table.clear(spec.rideablesInTrigger)\n    end\n\n    if spec.loadingTrigger ~ = nil then\n        spec.loadingTrigger:setLoadingTrailer( nil )\n        spec.loadingTrigger = nil\n    end\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"onload",children:"onLoad"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Called on loading"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onLoad(table savegame)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"table"}),(0,s.jsx)(n.th,{children:"savegame"}),(0,s.jsx)(n.th,{children:"savegame"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function LivestockTrailer:onLoad(savegame)\n    local spec = self.spec_livestockTrailer\n\n    spec.animalPlaces = { }\n    spec.animalTypeIndexToPlaces = { }\n    local i = 0\n    while true do\n        local key = string.format( "vehicle.livestockTrailer.animal(%d)" , i)\n        if not self.xmlFile:hasProperty(key) then\n            break\n        end\n\n        local place = { }\n        place.numUsed = 0\n\n        local animalTypeStr = self.xmlFile:getValue(key .. "#type" )\n        local animalTypeIndex = g_currentMission.animalSystem:getTypeIndexByName(animalTypeStr)\n        if animalTypeIndex = = nil then\n            Logging.xmlWarning( self.xmlFile, "Animal type \'%s\' could not be found!" , animalTypeStr)\n            break\n        end\n        place.animalTypeIndex = animalTypeIndex\n\n        place.slots = { }\n        local parent = self.xmlFile:getValue(key .. "#node" , nil , self.components, self.i3dMappings)\n        local numSlots = math.abs( self.xmlFile:getValue(key .. "#numSlots" , 0 ))\n        if numSlots > getNumOfChildren(parent) then\n            Logging.xmlWarning( self.xmlFile, "numSlots is greater than available children for \'%s\'" , key)\n                numSlots = getNumOfChildren(parent)\n            end\n            for j = 0 , numSlots - 1 do\n                local slotNode = getChildAt(parent, j)\n                table.insert(place.slots, { linkNode = slotNode, loadedMesh = nil , place = place } )\n            end\n\n            table.insert(spec.animalPlaces, place)\n            spec.animalTypeIndexToPlaces[place.animalTypeIndex] = place\n\n            i = i + 1\n        end\n\n        local trigger = self.xmlFile:getValue( "vehicle.livestockTrailer.loadTrigger#node" , nil , self.components, self.i3dMappings)\n        if trigger ~ = nil then\n            addTrigger(trigger, "onAnimalLoadTriggerCallback" , self )\n            spec.triggerNode = trigger\n        end\n        spec.rideablesInTrigger = { }\n\n        spec.spawnPlaces = { }\n        self.xmlFile:iterate( "vehicle.livestockTrailer.spawnPlaces.spawnPlace" , function (_, key)\n            local node = self.xmlFile:getValue(key .. "#node" , nil , self.components, self.i3dMappings)\n            local width = self.xmlFile:getValue(key .. "#width" , 5 )\n\n            if node ~ = nil then\n                table.insert(spec.spawnPlaces, { node = node, width = width } )\n            end\n        end )\n\n        if #spec.spawnPlaces > 0 or spec.triggerNode ~ = nil then\n            spec.activatable = LivestockTrailerActivatable.new( self )\n            if g_currentMission ~ = nil then\n                g_currentMission.activatableObjectsSystem:addActivatable(spec.activatable)\n            end\n        end\n\n        spec.clusterSystem = AnimalClusterSystem.new( self.isServer, self )\n        g_messageCenter:subscribe(AnimalClusterUpdateEvent, self.updatedClusters, self )\n\n        spec.loadingTrigger = nil\n        spec.animalScreenController = nil\n\n        if g_currentMission ~ = nil then\n            g_currentMission.husbandrySystem:addLivestockTrailer( self )\n        end\n    end\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"onloadfinished",children:"onLoadFinished"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onLoadFinished()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"savegame"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function LivestockTrailer:onLoadFinished(savegame)\n    if savegame ~ = nil and not savegame.resetVehicles then\n        local spec = self.spec_livestockTrailer\n        local xmlFile = savegame.xmlFile\n        local key = savegame.key\n\n        spec.clusterSystem:loadFromXMLFile(xmlFile, key .. ".livestockTrailer" )\n        spec.clusterSystem:updateNow()\n    end\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"onreadstream",children:"onReadStream"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onReadStream()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"streamId"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"connection"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function LivestockTrailer:onReadStream(streamId, connection)\n    local spec = self.spec_livestockTrailer\n    spec.clusterSystem:readStream(streamId, connection)\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onwritestream",children:"onWriteStream"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onWriteStream()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"streamId"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"connection"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function LivestockTrailer:onWriteStream(streamId, connection)\n    local spec = self.spec_livestockTrailer\n    spec.clusterSystem:writeStream(streamId, connection)\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"periodchanged",children:"periodChanged"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"periodChanged()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function LivestockTrailer:periodChanged(superFunc)\n    superFunc( self )\n\n    local spec = self.spec_livestockTrailer\n    local clusters = spec.clusterSystem:getClusters()\n    for _, cluster in ipairs(clusters) do\n        cluster:onPeriodChanged()\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"prerequisitespresent",children:"prerequisitesPresent"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"prerequisitesPresent()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"specializations"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function LivestockTrailer.prerequisitesPresent(specializations)\n    return true\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"registereventlisteners",children:"registerEventListeners"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"registerEventListeners()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function LivestockTrailer.registerEventListeners(vehicleType)\n    SpecializationUtil.registerEventListener(vehicleType, "onLoad" , LivestockTrailer )\n    SpecializationUtil.registerEventListener(vehicleType, "onLoadFinished" , LivestockTrailer )\n    SpecializationUtil.registerEventListener(vehicleType, "onDelete" , LivestockTrailer )\n    SpecializationUtil.registerEventListener(vehicleType, "onReadStream" , LivestockTrailer )\n    SpecializationUtil.registerEventListener(vehicleType, "onWriteStream" , LivestockTrailer )\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"registerfunctions",children:"registerFunctions"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"registerFunctions()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function LivestockTrailer.registerFunctions(vehicleType)\n    SpecializationUtil.registerFunction(vehicleType, "getCurrentAnimalType" , LivestockTrailer.getCurrentAnimalType)\n    SpecializationUtil.registerFunction(vehicleType, "getSupportsAnimalType" , LivestockTrailer.getSupportsAnimalType)\n    SpecializationUtil.registerFunction(vehicleType, "getSupportsAnimalSubType" , LivestockTrailer.getSupportsAnimalSubType)\n    SpecializationUtil.registerFunction(vehicleType, "setLoadingTrigger" , LivestockTrailer.setLoadingTrigger)\n    SpecializationUtil.registerFunction(vehicleType, "getLoadingTrigger" , LivestockTrailer.getLoadingTrigger)\n    SpecializationUtil.registerFunction(vehicleType, "updateAnimals" , LivestockTrailer.updateAnimals)\n    SpecializationUtil.registerFunction(vehicleType, "updatedClusters" , LivestockTrailer.updatedClusters)\n    SpecializationUtil.registerFunction(vehicleType, "clearAnimals" , LivestockTrailer.clearAnimals)\n    SpecializationUtil.registerFunction(vehicleType, "addAnimals" , LivestockTrailer.addAnimals)\n    SpecializationUtil.registerFunction(vehicleType, "addCluster" , LivestockTrailer.addCluster)\n    SpecializationUtil.registerFunction(vehicleType, "getClusters" , LivestockTrailer.getClusters)\n    SpecializationUtil.registerFunction(vehicleType, "getRideablesInTrigger" , LivestockTrailer.getRideablesInTrigger)\n    SpecializationUtil.registerFunction(vehicleType, "getClusterById" , LivestockTrailer.getClusterById)\n    SpecializationUtil.registerFunction(vehicleType, "getClusterSystem" , LivestockTrailer.getClusterSystem)\n    SpecializationUtil.registerFunction(vehicleType, "getNumOfAnimals" , LivestockTrailer.getNumOfAnimals)\n    SpecializationUtil.registerFunction(vehicleType, "getMaxNumOfAnimals" , LivestockTrailer.getMaxNumOfAnimals)\n    SpecializationUtil.registerFunction(vehicleType, "getNumOfFreeAnimalSlots" , LivestockTrailer.getNumOfFreeAnimalSlots)\n    SpecializationUtil.registerFunction(vehicleType, "onAnimalLoaded" , LivestockTrailer.onAnimalLoaded)\n    SpecializationUtil.registerFunction(vehicleType, "onAnimalLoadTriggerCallback" , LivestockTrailer.onAnimalLoadTriggerCallback)\n    SpecializationUtil.registerFunction(vehicleType, "getAnimalUnloadPlaces" , LivestockTrailer.getAnimalUnloadPlaces)\n    SpecializationUtil.registerFunction(vehicleType, "setAnimalScreenController" , LivestockTrailer.setAnimalScreenController)\n    SpecializationUtil.registerFunction(vehicleType, "onAnimalRideableDeleted" , LivestockTrailer.onAnimalRideableDeleted)\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"registeroverwrittenfunctions",children:"registerOverwrittenFunctions"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"registerOverwrittenFunctions()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function LivestockTrailer.registerOverwrittenFunctions(vehicleType)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getAdditionalComponentMass" , LivestockTrailer.getAdditionalComponentMass)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getSellPrice" , LivestockTrailer.getSellPrice)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "dayChanged" , LivestockTrailer.dayChanged)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "periodChanged" , LivestockTrailer.periodChanged)\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"savetoxmlfile",children:"saveToXMLFile"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"saveToXMLFile()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"xmlFile"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"key"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"usedModNames"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function LivestockTrailer:saveToXMLFile(xmlFile, key, usedModNames)\n    local spec = self.spec_livestockTrailer\n    spec.clusterSystem:saveToXMLFile(xmlFile, key, usedModNames)\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"setanimalscreencontroller",children:"setAnimalScreenController"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"setAnimalScreenController()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"controller"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function LivestockTrailer:setAnimalScreenController(controller)\n    self.spec_livestockTrailer.animalScreenController = controller\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"setloadingtrigger",children:"setLoadingTrigger"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"setLoadingTrigger()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"trigger"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function LivestockTrailer:setLoadingTrigger(trigger)\n    self.spec_livestockTrailer.loadingTrigger = trigger\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"updateanimals",children:"updateAnimals"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"updateAnimals()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function LivestockTrailer:updateAnimals()\n    local spec = self.spec_livestockTrailer\n\n    self:clearAnimals()\n\n    local slotIndex = 1\n    local clusters = spec.clusterSystem:getClusters()\n    local animalType = self:getCurrentAnimalType()\n    if animalType ~ = nil then\n        local place = spec.animalTypeIndexToPlaces[animalType.typeIndex]\n        place.usedSlots = 0\n        for _, cluster in ipairs(clusters) do\n            for i = 1 , cluster:getNumAnimals() do\n                local slot = place.slots[slotIndex]\n                slot.meshLoadingInProgress = true\n\n                local visual = g_currentMission.animalSystem:getVisualByAge(cluster:getSubTypeIndex(), cluster:getAge())\n                local filename = visual.visualAnimal.filenamePosed\n                slot.filename = filename\n                local arguments = {\n                slot = slot,\n                visual = visual\n                }\n                local sharedLoadRequestId = g_i3DManager:loadSharedI3DFileAsync(filename, false , false , self.onAnimalLoaded, self , arguments)\n                slot.sharedLoadRequestId = sharedLoadRequestId\n\n                slotIndex = slotIndex + 1\n                place.usedSlots = place.usedSlots + 1\n            end\n        end\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"updatedclusters",children:"updatedClusters"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"updatedClusters()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"trailer"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function LivestockTrailer:updatedClusters(trailer)\n    if trailer = = self then\n        self:updateAnimals()\n        self:setMassDirty()\n    end\nend\n\n"})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}}}]);