"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[82037],{28453(e,n,l){l.d(n,{R:()=>t,x:()=>s});var i=l(96540);const r={},a=i.createContext(r);function t(e){const n=i.useContext(a);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),i.createElement(a.Provider,{value:n},e.children)}},57875(e,n,l){l.r(n),l.d(n,{assets:()=>d,contentTitle:()=>s,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"script/Specializations/PlaceableLeveling","title":"PlaceableLeveling","description":"PlaceableLeveling","source":"@site/../docs/script/Specializations/PlaceableLeveling.md","sourceDirName":"script/Specializations","slug":"/script/Specializations/PlaceableLeveling","permalink":"/FS25-Community-LUADOC/script/Specializations/PlaceableLeveling","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"PlaceableLadders","permalink":"/FS25-Community-LUADOC/script/Specializations/PlaceableLadders"},"next":{"title":"PlaceableLights","permalink":"/FS25-Community-LUADOC/script/Specializations/PlaceableLights"}}');var r=l(74848),a=l(28453);const t={},s=void 0,d={},o=[{value:"PlaceableLeveling",id:"placeableleveling",level:2},{value:"addDeformationArea",id:"adddeformationarea",level:3},{value:"applyDeformation",id:"applydeformation",level:3},{value:"getDeformationObjects",id:"getdeformationobjects",level:3},{value:"getRequiresLeveling",id:"getrequiresleveling",level:3},{value:"getRequiresRealignAfterLeveling",id:"getrequiresrealignafterleveling",level:3},{value:"loadLevelArea",id:"loadlevelarea",level:3},{value:"loadPaintArea",id:"loadpaintarea",level:3},{value:"onLoad",id:"onload",level:3},{value:"prerequisitesPresent",id:"prerequisitespresent",level:3},{value:"registerEventListeners",id:"registereventlisteners",level:3},{value:"registerFunctions",id:"registerfunctions",level:3},{value:"registerXMLPaths",id:"registerxmlpaths",level:3}];function c(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"placeableleveling",children:"PlaceableLeveling"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Specialization for placeables"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Functions"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#adddeformationarea",children:"addDeformationArea"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#applydeformation",children:"applyDeformation"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#getdeformationobjects",children:"getDeformationObjects"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#getrequiresleveling",children:"getRequiresLeveling"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#getrequiresrealignafterleveling",children:"getRequiresRealignAfterLeveling"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#loadlevelarea",children:"loadLevelArea"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#loadpaintarea",children:"loadPaintArea"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#onload",children:"onLoad"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#prerequisitespresent",children:"prerequisitesPresent"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#registereventlisteners",children:"registerEventListeners"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#registerfunctions",children:"registerFunctions"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#registerxmlpaths",children:"registerXMLPaths"})}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"adddeformationarea",children:"addDeformationArea"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Add a leveling area of a placeable to a terrain deformation object."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"addDeformationArea(TerrainDeformation deformationObject, table area, integer terrainBrushId, boolean\nwriteBlockedAreaMap)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"TerrainDeformation"}),(0,r.jsx)(n.th,{children:"deformationObject"}),(0,r.jsx)(n.th,{children:"instance"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"table"}),(0,r.jsx)(n.td,{children:"area"}),(0,r.jsx)(n.td,{children:"Table which holds area nodes, {start=origin node, width=first side area delimiter node, height=second side area delimiter node}"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"integer"}),(0,r.jsx)(n.td,{children:"terrainBrushId"}),(0,r.jsx)(n.td,{children:"Terrain brush ID, currently this is a map layer index (zero-based)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"boolean"}),(0,r.jsx)(n.td,{children:"writeBlockedAreaMap"}),(0,r.jsx)(n.td,{})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function PlaceableLeveling:addDeformationArea(deformationObject, area, terrainBrushId, writeBlockedAreaMap)\n    local worldStartX, worldStartY, worldStartZ = getWorldTranslation(area.start)\n    local worldSide1X, worldSide1Y, worldSide1Z = getWorldTranslation(area.width)\n    local worldSide2X, worldSide2Y, worldSide2Z = getWorldTranslation(area.height)\n\n    local side1X, side1Y, side1Z = worldSide1X - worldStartX, worldSide1Y - worldStartY, worldSide1Z - worldStartZ\n    local side2X, side2Y, side2Z = worldSide2X - worldStartX, worldSide2Y - worldStartY, worldSide2Z - worldStartZ\n\n    deformationObject:addArea(\n    worldStartX, worldStartY, worldStartZ,\n    side1X, side1Y, side1Z,\n    side2X, side2Y, side2Z,\n    terrainBrushId,\n    writeBlockedAreaMap\n    )\nend\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"applydeformation",children:"applyDeformation"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"applyDeformation(boolean isPreview, function callback)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"boolean"}),(0,r.jsx)(n.th,{children:"isPreview"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"function"}),(0,r.jsx)(n.td,{children:"callback"})]})})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'function PlaceableLeveling:applyDeformation(isPreview, callback)\n    local deformationObjects = self:getDeformationObjects(g_terrainNode)\n\n    if #deformationObjects = = 0 then\n        callback(TerrainDeformation.STATE_SUCCESS, 0 , nil )\n        return\n    end\n\n    local recursiveCallback = { }\n    recursiveCallback.index = 1\n    recursiveCallback.volume = 0\n    recursiveCallback.deformationObjects = deformationObjects\n    recursiveCallback.finishCallback = callback\n    recursiveCallback.callback = function (target, errorCode, displacedVolume, blockedObjectName)\n        if errorCode ~ = TerrainDeformation.STATE_SUCCESS then\n            -- Finished:delete all objects\n            local objects = { }\n            for _, object in ipairs(target.deformationObjects) do\n                table.insert(objects, object)\n            end\n\n            -- do the delete in the next frame\n                g_asyncTaskManager:addTask( function ()\n                    for _, object in ipairs(objects) do\n                        object:delete()\n                    end\n                end )\n\n                target.finishCallback(errorCode, target.volume, blockedObjectName)\n                return\n            end\n\n            target.volume = target.volume + displacedVolume\n            target.index = target.index + 1\n\n            local nextDeformationObject = target.deformationObjects[target.index]\n            if nextDeformationObject ~ = nil then\n                g_terrainDeformationQueue:queueJob(nextDeformationObject, isPreview, "callback" , target)\n            else\n                    -- Finished:delete all objects\n                    local objects = { }\n                    for _, object in ipairs(target.deformationObjects) do\n                        table.insert(objects, object)\n                    end\n\n                    -- do the delete in the next frame\n                        g_asyncTaskManager:addTask( function ()\n                            for _, object in ipairs(objects) do\n                                object:delete()\n                            end\n                        end )\n\n                        target.finishCallback(TerrainDeformation.STATE_SUCCESS, target.volume, nil )\n                    end\n                end\n\n                g_terrainDeformationQueue:queueJob(deformationObjects[ 1 ], isPreview, "callback" , recursiveCallback)\n            end\n\n'})}),"\n",(0,r.jsx)(n.h3,{id:"getdeformationobjects",children:"getDeformationObjects"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Create a TerrainDeformation object for leveling the ground beneath this placeable and any ramps."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"getDeformationObjects(integer terrainRootNode, boolean forBlockingOnly, boolean isBlocking)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"integer"}),(0,r.jsx)(n.th,{children:"terrainRootNode"}),(0,r.jsx)(n.th,{children:"Map terrain root node ID"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"boolean"}),(0,r.jsx)(n.td,{children:"forBlockingOnly"}),(0,r.jsx)(n.td,{children:"Create the object only to write into the blocking map"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"boolean"}),(0,r.jsx)(n.td,{children:"isBlocking"}),(0,r.jsx)(n.td,{children:"If forBlockingOnly is true, this also tells the method if we intend to block areas (true) or unblock them (false)"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n",(0,r.jsx)(n.table,{children:(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"boolean"}),(0,r.jsx)(n.th,{children:"deformationObjects"})]})})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function PlaceableLeveling:getDeformationObjects(terrainRootNode, forBlockingOnly, isBlocking)\n    local spec = self.spec_leveling\n    local deformationObjects = { }\n\n    if not forBlockingOnly then\n        isBlocking = false\n    end\n\n    if terrainRootNode ~ = nil and terrainRootNode ~ = 0 then\n        if #spec.levelAreas > 0 then\n            local deformationObject = TerrainDeformation.new(terrainRootNode)\n\n            if g_densityMapHeightManager.placementCollisionMap ~ = nil then\n                deformationObject:setBlockedAreaMap(g_densityMapHeightManager.placementCollisionMap, 0 )\n            end\n\n            for _, levelArea in pairs(spec.levelAreas) do\n                local layer = - 1\n                if levelArea.groundType ~ = nil then\n                    layer = g_groundTypeManager:getTerrainLayerByType(levelArea.groundType)\n                end\n                self:addDeformationArea(deformationObject, levelArea, layer, true )\n            end\n\n            if spec.smoothingGroundType ~ = nil then\n                deformationObject:setOutsideAreaBrush(g_groundTypeManager:getTerrainLayerByType(spec.smoothingGroundType))\n            end\n\n            deformationObject:setOutsideAreaConstraints(spec.maxSmoothDistance, spec.maxSlope, spec.maxEdgeAngle)\n\n            deformationObject:setBlockedAreaMaxDisplacement( 0.1 )\n            deformationObject:setDynamicObjectCollisionMask(CollisionMask.LEVELING)\n            deformationObject:setDynamicObjectMaxDisplacement( 0.3 )\n            table.insert(deformationObjects, deformationObject)\n        end\n    end\n\n    if not forBlockingOnly then\n        if #spec.paintAreas > 0 then\n            local paintingObject = TerrainDeformation.new(terrainRootNode)\n            for _, paintArea in pairs(spec.paintAreas) do\n                local layer = - 1\n                if paintArea.groundType ~ = nil then\n                    layer = g_groundTypeManager:getTerrainLayerByType(paintArea.groundType)\n                end\n                self:addDeformationArea(paintingObject, paintArea, layer, true )\n            end\n            paintingObject:enablePaintingMode()\n            table.insert(deformationObjects, paintingObject)\n        end\n    end\n\n    return deformationObjects\nend\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"getrequiresleveling",children:"getRequiresLeveling"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"getRequiresLeveling()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n",(0,r.jsx)(n.table,{children:(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"boolean"}),(0,r.jsx)(n.th,{children:"requiresLeveling"})]})})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function PlaceableLeveling:getRequiresLeveling()\n    return self.spec_leveling.requiresLeveling\nend\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"getrequiresrealignafterleveling",children:"getRequiresRealignAfterLeveling"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"getRequiresRealignAfterLeveling()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n",(0,r.jsx)(n.table,{children:(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"boolean"}),(0,r.jsx)(n.th,{children:"realignAfterLeveling"})]})})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function PlaceableLeveling:getRequiresRealignAfterLeveling()\n    return self.spec_leveling.realignAfterLeveling\nend\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"loadlevelarea",children:"loadLevelArea"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"loadLevelArea(XMLFile xmlFile, string key, table area)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"XMLFile"}),(0,r.jsx)(n.th,{children:"xmlFile"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"key"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"table"}),(0,r.jsx)(n.td,{children:"area"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n",(0,r.jsx)(n.table,{children:(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"table"}),(0,r.jsx)(n.th,{children:"success"})]})})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'function PlaceableLeveling:loadLevelArea(xmlFile, key, area)\n    local start = xmlFile:getValue(key .. "#startNode" , nil , self.components, self.i3dMappings)\n    if start = = nil then\n        Logging.xmlWarning(xmlFile, "Leveling area start node not defined for \'%s\'" , key)\n            return false\n        end\n\n        local width = xmlFile:getValue(key .. "#widthNode" , nil , self.components, self.i3dMappings)\n        if width = = nil then\n            Logging.xmlWarning(xmlFile, "Leveling area width node not defined for \'%s\'" , key)\n                return false\n            end\n\n            local height = xmlFile:getValue(key .. "#heightNode" , nil , self.components, self.i3dMappings)\n            if height = = nil then\n                Logging.xmlWarning(xmlFile, "Leveling area height node not defined for \'%s\'" , key)\n                    return false\n                end\n\n                area.start = start\n                area.width = width\n                area.height = height\n                area.groundType = xmlFile:getValue(key .. "#groundType" )\n\n                return true\n            end\n\n'})}),"\n",(0,r.jsx)(n.h3,{id:"loadpaintarea",children:"loadPaintArea"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"loadPaintArea(XMLFile xmlFile, string key, table area)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"XMLFile"}),(0,r.jsx)(n.th,{children:"xmlFile"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"key"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"table"}),(0,r.jsx)(n.td,{children:"area"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n",(0,r.jsx)(n.table,{children:(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"table"}),(0,r.jsx)(n.th,{children:"success"})]})})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'function PlaceableLeveling:loadPaintArea(xmlFile, key, area)\n    local start = xmlFile:getValue(key .. "#startNode" , nil , self.components, self.i3dMappings)\n    if start = = nil then\n        Logging.xmlWarning(xmlFile, "Paint area start node not defined for \'%s\'" , key)\n            return false\n        end\n\n        local width = xmlFile:getValue(key .. "#widthNode" , nil , self.components, self.i3dMappings)\n        if width = = nil then\n            Logging.xmlWarning(xmlFile, "Paint area width node not defined for \'%s\'" , key)\n                return false\n            end\n\n            local height = xmlFile:getValue(key .. "#heightNode" , nil , self.components, self.i3dMappings)\n            if height = = nil then\n                Logging.xmlWarning(xmlFile, "Paint area height node not defined for \'%s\'" , key)\n                    return false\n                end\n\n                area.start = start\n                area.width = width\n                area.height = height\n                area.groundType = xmlFile:getValue(key .. "#groundType" )\n\n                return true\n            end\n\n'})}),"\n",(0,r.jsx)(n.h3,{id:"onload",children:"onLoad"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Called on loading"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"onLoad(table savegame)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,r.jsx)(n.table,{children:(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"table"}),(0,r.jsx)(n.th,{children:"savegame"}),(0,r.jsx)(n.th,{children:"savegame"})]})})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'function PlaceableLeveling:onLoad(savegame)\n    local spec = self.spec_leveling\n    local xmlFile = self.xmlFile\n\n    -- load leveling properties\n    spec.requiresLeveling = xmlFile:getValue( "placeable.leveling#requireLeveling" , false )\n    local smoothingDistance = xmlFile:getValue( "placeable.leveling#maxSmoothDistance" , 3 )\n    local clampedSmoothingDistance = math.clamp(smoothingDistance, 0 , 10 )\n    if clampedSmoothingDistance ~ = smoothingDistance then\n        Logging.xmlWarning(xmlFile, "Reduced \'placeable.leveling#maxSmoothDistance\' to maximum allowed value of %d" , clampedSmoothingDistance)\n    end\n    spec.maxSmoothDistance = clampedSmoothingDistance\n    spec.maxSlope = xmlFile:getValue( "placeable.leveling#maxSlope" , 45 )\n    spec.maxEdgeAngle = xmlFile:getValue( "placeable.leveling#maxEdgeAngle" , 45 )\n    spec.smoothingGroundType = xmlFile:getValue( "placeable.leveling#smoothingGroundType" )\n    spec.realignAfterLeveling = xmlFile:getValue( "placeable.leveling#realignAfterLeveling" , true )\n\n    if not self.xmlFile:hasProperty( "placeable.leveling" ) then\n        Logging.xmlWarning( self.xmlFile, "Missing leveling areas" )\n    end\n\n    spec.levelAreas = { }\n    xmlFile:iterate( "placeable.leveling.levelAreas.levelArea" , function (_, key)\n        local levelArea = { }\n        if self:loadLevelArea(xmlFile, key, levelArea) then\n            table.insert(spec.levelAreas, levelArea)\n        end\n    end )\n\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "placeable.leveling.rampAreas.rampArea" , "placeable.leveling.levelAreas.levelArea" ) -- FS19 to FS22\n\n    spec.paintAreas = { }\n    xmlFile:iterate( "placeable.leveling.paintAreas.paintArea" , function (_, key)\n        local paintArea = { }\n        if self:loadPaintArea(xmlFile, key, paintArea) then\n            table.insert(spec.paintAreas, paintArea)\n        end\n    end )\nend\n\n'})}),"\n",(0,r.jsx)(n.h3,{id:"prerequisitespresent",children:"prerequisitesPresent"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Checks if all prerequisite specializations are loaded"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"prerequisitesPresent(table specializations)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,r.jsx)(n.table,{children:(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"table"}),(0,r.jsx)(n.th,{children:"specializations"}),(0,r.jsx)(n.th,{children:"specializations"})]})})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,r.jsx)(n.table,{children:(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"table"}),(0,r.jsx)(n.th,{children:"hasPrerequisite"}),(0,r.jsx)(n.th,{children:"true if all prerequisite specializations are loaded"})]})})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function PlaceableLeveling.prerequisitesPresent(specializations)\n    return true\nend\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"registereventlisteners",children:"registerEventListeners"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"registerEventListeners(table placeableType)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,r.jsx)(n.table,{children:(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"table"}),(0,r.jsx)(n.th,{children:"placeableType"})]})})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'function PlaceableLeveling.registerEventListeners(placeableType)\n    SpecializationUtil.registerEventListener(placeableType, "onLoad" , PlaceableLeveling )\nend\n\n'})}),"\n",(0,r.jsx)(n.h3,{id:"registerfunctions",children:"registerFunctions"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"registerFunctions(table placeableType)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,r.jsx)(n.table,{children:(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"table"}),(0,r.jsx)(n.th,{children:"placeableType"})]})})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'function PlaceableLeveling.registerFunctions(placeableType)\n    SpecializationUtil.registerFunction(placeableType, "loadLevelArea" , PlaceableLeveling.loadLevelArea)\n    SpecializationUtil.registerFunction(placeableType, "loadPaintArea" , PlaceableLeveling.loadPaintArea)\n    SpecializationUtil.registerFunction(placeableType, "addDeformationArea" , PlaceableLeveling.addDeformationArea)\n    SpecializationUtil.registerFunction(placeableType, "applyDeformation" , PlaceableLeveling.applyDeformation)\n    SpecializationUtil.registerFunction(placeableType, "getDeformationObjects" , PlaceableLeveling.getDeformationObjects)\n    SpecializationUtil.registerFunction(placeableType, "getRequiresLeveling" , PlaceableLeveling.getRequiresLeveling)\n    SpecializationUtil.registerFunction(placeableType, "getRequiresRealignAfterLeveling" , PlaceableLeveling.getRequiresRealignAfterLeveling)\nend\n\n'})}),"\n",(0,r.jsx)(n.h3,{id:"registerxmlpaths",children:"registerXMLPaths"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"registerXMLPaths(XMLSchema schema, string basePath)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"XMLSchema"}),(0,r.jsx)(n.th,{children:"schema"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"basePath"})]})})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'function PlaceableLeveling.registerXMLPaths(schema, basePath)\n    schema:setXMLSpecializationType( "Leveling" )\n    schema:register(XMLValueType.BOOL, basePath .. ".leveling#requireLeveling" , "If true, the ground around the placeable is leveled and all other leveling properties are used" , false )\n    schema:register(XMLValueType.FLOAT, basePath .. ".leveling#maxSmoothDistance" , "Radius around leveling areas where terrain will be smoothed towards the placeable" , 3 )\n    schema:register(XMLValueType.ANGLE, basePath .. ".leveling#maxSlope" , "Maximum slope of terrain created by outside smoothing expressed as an angle in degrees" , 45 )\n    schema:register(XMLValueType.ANGLE, basePath .. ".leveling#maxEdgeAngle" , "Maximum angle between polygons in smoothed areas expressed as an angle in degrees" , 45 )\n    schema:register(XMLValueType.STRING, basePath .. ".leveling#smoothingGroundType" , "Ground type used to paint the smoothed ground from leveling areas up to the radius of \'maxSmoothDistance\' (one of the ground types defined in groundTypes.xml)" )\n    schema:register(XMLValueType.BOOL, basePath .. ".leveling#realignAfterLeveling" , "If false placeable will not be realigned in y after leveling was performed" , true )\n    schema:register(XMLValueType.NODE_INDEX, basePath .. ".leveling.levelAreas.levelArea(?)#startNode" , "Start node" )\n    schema:register(XMLValueType.NODE_INDEX, basePath .. ".leveling.levelAreas.levelArea(?)#widthNode" , "Width node" )\n    schema:register(XMLValueType.NODE_INDEX, basePath .. ".leveling.levelAreas.levelArea(?)#heightNode" , "Height node" )\n    schema:register(XMLValueType.STRING, basePath .. ".leveling.levelAreas.levelArea(?)#groundType" , "Ground type name(one of the ground types defined in groundTypes.xml)" )\n    schema:register(XMLValueType.NODE_INDEX, basePath .. ".leveling.paintAreas.paintArea(?)#startNode" , "Start node" )\n    schema:register(XMLValueType.NODE_INDEX, basePath .. ".leveling.paintAreas.paintArea(?)#widthNode" , "Width node" )\n    schema:register(XMLValueType.NODE_INDEX, basePath .. ".leveling.paintAreas.paintArea(?)#heightNode" , "Height node" )\n    schema:register(XMLValueType.STRING, basePath .. ".leveling.paintAreas.paintArea(?)#groundType" , "Ground type name(one of the ground types defined in groundTypes.xml)" )\n    schema:setXMLSpecializationType()\nend\n\n'})})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}}}]);