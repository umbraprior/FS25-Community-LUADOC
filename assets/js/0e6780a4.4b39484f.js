"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[80368],{28453(n,e,t){t.d(e,{R:()=>s,x:()=>l});var i=t(96540);const r={},o=i.createContext(r);function s(n){const e=i.useContext(o);return i.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:s(n.components),i.createElement(o.Provider,{value:e},n.children)}},99971(n,e,t){t.r(e),t.d(e,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>s,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"script/Specializations/FrontloaderAttacher","title":"FrontloaderAttacher","description":"FrontloaderAttacher","source":"@site/../docs/script/Specializations/FrontloaderAttacher.md","sourceDirName":"script/Specializations","slug":"/script/Specializations/FrontloaderAttacher","permalink":"/FS25-Community-LUADOC/script/Specializations/FrontloaderAttacher","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"ForageWagon","permalink":"/FS25-Community-LUADOC/script/Specializations/ForageWagon"},"next":{"title":"FruitPreparer","permalink":"/FS25-Community-LUADOC/script/Specializations/FruitPreparer"}}');var r=t(74848),o=t(28453);const s={},l=void 0,a={},c=[{value:"FrontloaderAttacher",id:"frontloaderattacher",level:2},{value:"initSpecialization",id:"initspecialization",level:3},{value:"onLoad",id:"onload",level:3},{value:"onPreAttachImplement",id:"onpreattachimplement",level:3},{value:"onPreDetachImplement",id:"onpredetachimplement",level:3},{value:"prerequisitesPresent",id:"prerequisitespresent",level:3},{value:"registerEventListeners",id:"registereventlisteners",level:3}];function d(n){const e={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.h2,{id:"frontloaderattacher",children:"FrontloaderAttacher"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Description"})}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"Specialization providing a frontloader attacher dependent on configuration"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Functions"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"#initspecialization",children:"initSpecialization"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"#onload",children:"onLoad"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"#onpreattachimplement",children:"onPreAttachImplement"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"#onpredetachimplement",children:"onPreDetachImplement"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"#prerequisitespresent",children:"prerequisitesPresent"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"#registereventlisteners",children:"registerEventListeners"})}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"initspecialization",children:"initSpecialization"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Description"})}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"initSpecialization()"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Code"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-lua",children:'function FrontloaderAttacher.initSpecialization()\n    g_vehicleConfigurationManager:addConfigurationType( "frontloader" , g_i18n:getText( "configuration_frontloaderAttacher" ), nil , VehicleConfigurationItem )\n\n    local schema = Vehicle.xmlSchema\n    schema:setXMLSpecializationType( "FrontloaderAttacher" )\n\n    local basePath = "vehicle.frontloaderConfigurations.frontloaderConfiguration(?)"\n    schema:register(XMLValueType.BOOL, basePath .. ".attacherJoint#frontAxisLimitJoint" , "Front axis joint will be limited while attached" , true )\n        schema:register(XMLValueType.INT, basePath .. ".attacherJoint#frontAxisJoint" , "Front axis joint index" , 1 )\n\n        schema:setXMLSpecializationType()\n    end\n\n'})}),"\n",(0,r.jsx)(e.h3,{id:"onload",children:"onLoad"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Description"})}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"onLoad()"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,r.jsx)(e.table,{children:(0,r.jsx)(e.thead,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.th,{children:"any"}),(0,r.jsx)(e.th,{children:"savegame"})]})})}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Code"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-lua",children:'function FrontloaderAttacher:onLoad(savegame)\n    if self.configurations[ "frontloader" ] ~ = nil then\n        local spec = self.spec_frontloaderAttacher\n\n        local key = string.format( "vehicle.frontloaderConfigurations.frontloaderConfiguration(%d)" , self.configurations[ "frontloader" ] - 1 )\n        if self.xmlFile:hasProperty(key .. ".attacherJoint" ) then\n            local frontAxisLimitJoint = self.xmlFile:getValue(key .. ".attacherJoint#frontAxisLimitJoint" , true )\n            if frontAxisLimitJoint then\n                local frontAxisJoint = self.xmlFile:getValue(key .. ".attacherJoint#frontAxisJoint" , 1 )\n                if self.componentJoints[frontAxisJoint] ~ = nil then\n                    spec.frontAxisJoint = frontAxisJoint\n                else\n                        Logging.xmlWarning( self.xmlFile, "Invalid front-axis joint \'%s\' for frontloader attacher." , frontAxisJoint)\n                        end\n                    end\n                end\n            end\n\n            if not self.isServer or self.spec_frontloaderAttacher.frontAxisJoint = = nil then\n                SpecializationUtil.removeEventListener( self , "onPreDetachImplement" , FrontloaderAttacher )\n                SpecializationUtil.removeEventListener( self , "onPreAttachImplement" , FrontloaderAttacher )\n            end\n        end\n\n'})}),"\n",(0,r.jsx)(e.h3,{id:"onpreattachimplement",children:"onPreAttachImplement"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Description"})}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"onPreAttachImplement()"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(e.table,{children:[(0,r.jsx)(e.thead,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.th,{children:"any"}),(0,r.jsx)(e.th,{children:"attachable"})]})}),(0,r.jsxs)(e.tbody,{children:[(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"any"}),(0,r.jsx)(e.td,{children:"inputJointDescIndex"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"any"}),(0,r.jsx)(e.td,{children:"jointDescIndex"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"any"}),(0,r.jsx)(e.td,{children:"loadFromSavegame"})]})]})]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Code"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-lua",children:"function FrontloaderAttacher:onPreAttachImplement(attachable, inputJointDescIndex, jointDescIndex, loadFromSavegame)\n    local spec = self.spec_frontloaderAttacher\n\n    if spec.frontAxisJoint ~ = nil then\n        local attacherJoint = nil\n        local attacherJoints = self:getAttacherJoints()\n        if attacherJoints ~ = nil then\n            attacherJoint = attacherJoints[jointDescIndex]\n        end\n        if attacherJoint ~ = nil then\n            if attacherJoint.jointType = = AttacherJoints.JOINTTYPE_ATTACHABLEFRONTLOADER then\n                -- copy rotlimit\n                spec.rotLimit = { unpack( self.componentJoints[spec.frontAxisJoint].rotLimit) }\n                for i = 1 , 3 do\n                    self:setComponentJointRotLimit( self.componentJoints[spec.frontAxisJoint], i, 0 , 0 )\n                end\n            end\n        end\n    end\nend\n\n"})}),"\n",(0,r.jsx)(e.h3,{id:"onpredetachimplement",children:"onPreDetachImplement"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Description"})}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"onPreDetachImplement()"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,r.jsx)(e.table,{children:(0,r.jsx)(e.thead,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.th,{children:"any"}),(0,r.jsx)(e.th,{children:"implement"})]})})}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Code"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-lua",children:"function FrontloaderAttacher:onPreDetachImplement(implement)\n    local spec = self.spec_frontloaderAttacher\n\n    if spec.frontAxisJoint ~ = nil then\n        local attacherJoint = nil\n        local attacherJointIndex = implement.jointDescIndex\n        local attacherJoints = self:getAttacherJoints()\n        if attacherJoints ~ = nil then\n            attacherJoint = attacherJoints[attacherJointIndex]\n        end\n        if attacherJoint ~ = nil then\n            if attacherJoint.jointType = = AttacherJoints.JOINTTYPE_ATTACHABLEFRONTLOADER then\n                for i = 1 , 3 do\n                    self:setComponentJointRotLimit( self.componentJoints[spec.frontAxisJoint], i, - spec.rotLimit[i], spec.rotLimit[i])\n                end\n            end\n        end\n    end\nend\n\n"})}),"\n",(0,r.jsx)(e.h3,{id:"prerequisitespresent",children:"prerequisitesPresent"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Description"})}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"prerequisitesPresent()"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,r.jsx)(e.table,{children:(0,r.jsx)(e.thead,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.th,{children:"any"}),(0,r.jsx)(e.th,{children:"specializations"})]})})}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Code"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-lua",children:"function FrontloaderAttacher.prerequisitesPresent(specializations)\n    return SpecializationUtil.hasSpecialization( AttacherJoints , specializations)\nend\n\n"})}),"\n",(0,r.jsx)(e.h3,{id:"registereventlisteners",children:"registerEventListeners"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Description"})}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"registerEventListeners()"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,r.jsx)(e.table,{children:(0,r.jsx)(e.thead,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.th,{children:"any"}),(0,r.jsx)(e.th,{children:"vehicleType"})]})})}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Code"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-lua",children:'function FrontloaderAttacher.registerEventListeners(vehicleType)\n    SpecializationUtil.registerEventListener(vehicleType, "onLoad" , FrontloaderAttacher )\n    SpecializationUtil.registerEventListener(vehicleType, "onPreDetachImplement" , FrontloaderAttacher )\n    SpecializationUtil.registerEventListener(vehicleType, "onPreAttachImplement" , FrontloaderAttacher )\nend\n\n'})})]})}function h(n={}){const{wrapper:e}={...(0,o.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(d,{...n})}):d(n)}}}]);