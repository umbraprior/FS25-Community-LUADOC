"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[84622],{27533(e,n,o){o.r(n),o.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>s,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"script/Configurations/VehicleConfigurationDataSprayerNodes","title":"VehicleConfigurationDataSprayerNodes","description":"VehicleConfigurationDataSprayerNodes","source":"@site/../docs/script/Configurations/VehicleConfigurationDataSprayerNodes.md","sourceDirName":"script/Configurations","slug":"/script/Configurations/VehicleConfigurationDataSprayerNodes","permalink":"/FS25-Community-LUADOC/script/Configurations/VehicleConfigurationDataSprayerNodes","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"PlaceableConfigurationItemColor","permalink":"/FS25-Community-LUADOC/script/Configurations/PlaceableConfigurationItemColor"},"next":{"title":"VehicleConfigurationItem","permalink":"/FS25-Community-LUADOC/script/Configurations/VehicleConfigurationItem"}}');var r=o(74848),i=o(28453);const s={},a=void 0,l={},d=[{value:"VehicleConfigurationDataSprayerNodes",id:"vehicleconfigurationdatasprayernodes",level:2},{value:"onPrePostLoad",id:"onprepostload",level:3},{value:"registerXMLPaths",id:"registerxmlpaths",level:3}];function c(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"vehicleconfigurationdatasprayernodes",children:"VehicleConfigurationDataSprayerNodes"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Adds the sprayer nozzle and sensor nodes for all configurations"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Functions"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#onprepostload",children:"onPrePostLoad"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#registerxmlpaths",children:"registerXMLPaths"})}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"onprepostload",children:"onPrePostLoad"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"onPrePostLoad()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"any"}),(0,r.jsx)(n.th,{children:"vehicle"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"configItem"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"configId"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'function VehicleConfigurationDataSprayerNodes.onPrePostLoad(vehicle, configItem, configId)\n    if configItem.configKey = = "" then\n        return\n    end\n\n    local spec = vehicle[ ExtendedSprayerEffects.SPEC_TABLE_NAME]\n    if spec ~ = nil then\n        for _, key in vehicle.xmlFile:iterator(configItem.configKey .. ".sprayerNozzles.nozzle" ) do\n            local linkNode = vehicle.xmlFile:getValue(key .. "#node" , nil , vehicle.components, vehicle.i3dMappings)\n            if linkNode ~ = nil then\n                local effectNode = g_precisionFarming:getClonedSprayerEffectNode()\n                if effectNode ~ = nil then\n                    local effectNodeData = { }\n                    effectNodeData.translation = vehicle.xmlFile:getValue(key .. "#translation" , { 0 , 0 , 0 } , true )\n                    effectNodeData.rotation = vehicle.xmlFile:getValue(key .. "#rotation" , { 0 , 0 , 0 } , true )\n\n                    local effectData = { }\n                    if vehicle:addExtendedSprayerNozzleEffect(effectData, effectNode, linkNode, effectNodeData) then\n                        table.insert(spec.sprayerEffects, effectData)\n                    end\n                end\n            end\n        end\n    end\n\n    if vehicle[ WeedSpotSpray.SPEC_TABLE_NAME] ~ = nil then\n        if vehicle[ WeedSpotSpray.SPEC_TABLE_NAME].isEnabled then\n            local linkData = { }\n            linkData.sensorNodes = { }\n            for _, sensorNodeKey in vehicle.xmlFile:iterator(configItem.configKey .. ".weedSpotSpraySensors.sensorNode" ) do\n                local sensorNode = { }\n                sensorNode.id = vehicle.xmlFile:getValue(sensorNodeKey .. "#id" )\n                sensorNode.nodeName = vehicle.xmlFile:getValue(sensorNodeKey .. "#node" )\n                sensorNode.translation = vehicle.xmlFile:getValue(sensorNodeKey .. "#translation" , "0 0 0" , true )\n                sensorNode.rotation = vehicle.xmlFile:getValue(sensorNodeKey .. "#rotation" , "0 0 0" , true )\n                sensorNode.bracketSize = vehicle.xmlFile:getValue(sensorNodeKey .. "#bracketSize" , 1 )\n\n                table.insert(linkData.sensorNodes, sensorNode)\n            end\n\n            if #linkData.sensorNodes > 0 then\n                vehicle:addWeedSpotSpraySensorNodes(linkData)\n            end\n        end\n    end\nend\n\n'})}),"\n",(0,r.jsx)(n.h3,{id:"registerxmlpaths",children:"registerXMLPaths"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"registerXMLPaths()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"any"}),(0,r.jsx)(n.th,{children:"schema"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"rootPath"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"configPath"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'function VehicleConfigurationDataSprayerNodes.registerXMLPaths(schema, rootPath, configPath)\n    schema:register(XMLValueType.NODE_INDEX, configPath .. ".sprayerNozzles.nozzle(?)#node" , "Nozzle Node" )\n    schema:register(XMLValueType.VECTOR_TRANS, configPath .. ".sprayerNozzles.nozzle(?)#translation" , "Translation offset from the defined node" )\n    schema:register(XMLValueType.VECTOR_ROT, configPath .. ".sprayerNozzles.nozzle(?)#rotation" , "Rotation offset from the defined node" )\n\n    schema:register(XMLValueType.STRING, configPath .. ".weedSpotSpraySensors.sensorNode(?)#id" , "Sensor identifier of the type to use" )\n    schema:register(XMLValueType.STRING, configPath .. ".weedSpotSpraySensors.sensorNode(?)#node" , "Name of node in i3d mapping" )\n    schema:register(XMLValueType.VECTOR_TRANS, configPath .. ".weedSpotSpraySensors.sensorNode(?)#translation" , "Translation offset from node" , "0 0 0" )\n    schema:register(XMLValueType.VECTOR_ROT, configPath .. ".weedSpotSpraySensors.sensorNode(?)#rotation" , "Rotation offset from node" , "0 0 0" )\n    schema:register(XMLValueType.FLOAT, configPath .. ".weedSpotSpraySensors.sensorNode(?)#bracketSize" , "Size of the bracket" , 1 )\nend\n\n'})})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},28453(e,n,o){o.d(n,{R:()=>s,x:()=>a});var t=o(96540);const r={},i=t.createContext(r);function s(e){const n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);