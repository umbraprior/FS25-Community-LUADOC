"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[63488],{12751(n,e,l){l.r(e),l.d(e,{assets:()=>d,contentTitle:()=>t,default:()=>u,frontMatter:()=>r,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"script/GUI/GuiSoundPlayer","title":"GuiSoundPlayer","description":"GuiSoundPlayer","source":"@site/../docs/script/GUI/GuiSoundPlayer.md","sourceDirName":"script/GUI","slug":"/script/GUI/GuiSoundPlayer","permalink":"/FS25-Community-LUADOC/script/GUI/GuiSoundPlayer","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"GuiProfile","permalink":"/FS25-Community-LUADOC/script/GUI/GuiProfile"},"next":{"title":"GuiTopDownCamera","permalink":"/FS25-Community-LUADOC/script/GUI/GuiTopDownCamera"}}');var i=l(74848),a=l(28453);const r={},t=void 0,d={},o=[{value:"GuiSoundPlayer",id:"guisoundplayer",level:2},{value:"loadSounds",id:"loadsounds",level:3},{value:"new",id:"new",level:3},{value:"playSample",id:"playsample",level:3}];function c(n){const e={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.h2,{id:"guisoundplayer",children:"GuiSoundPlayer"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"This class loads known GUI sound samples as non-spatial samples to be played in the GUI (menu and HUD)."}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Functions"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#loadsounds",children:"loadSounds"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#new",children:"new"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#playsample",children:"playSample"})}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"loadsounds",children:"loadSounds"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"Load GUI sound samples from definitions."}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"loadSounds()"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(e.table,{children:(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"any"}),(0,i.jsx)(e.th,{children:"sampleDefinitionXmlPath"})]})})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Code"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-lua",children:'function GuiSoundPlayer:loadSounds(sampleDefinitionXmlPath)\n    local samples = { }\n\n    local xmlFile = loadXMLFile( "GuiSampleDefinitions" , sampleDefinitionXmlPath)\n    if xmlFile ~ = nil and xmlFile ~ = 0 then\n\n        for _, key in pairs( GuiSoundPlayer.SOUND_SAMPLES) do\n            if key ~ = GuiSoundPlayer.SOUND_SAMPLES.NONE then\n                local sample = self.soundManager:loadSample2DFromXML(xmlFile, GuiSoundPlayer.SOUND_SAMPLE_DEFINITIONS_XML_ROOT, key, "" , 1 , AudioGroup.GUI)\n                if sample ~ = nil then\n                    local sampleList = { }\n                    samples[key] = sampleList\n\n                    -- Build a whole queue so we can play multiple sounds at once\n                    table.insert(sampleList, sample)\n                    for i = 2 , GuiSoundPlayer.NUM_SAMPLES_PER_SOUND do\n                        table.insert(sampleList, self.soundManager:cloneSample2D(sample))\n                    end\n\n                else\n                        printWarning( "Warning:Could not load GUI sound sample [" .. tostring(key) .. "]" )\n                    end\n                end\n            end\n\n            delete(xmlFile)\n        end\n\n        return samples\n    end\n\n'})}),"\n",(0,i.jsx)(e.h3,{id:"new",children:"new"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"Create a new GuiSoundPlayer instance."}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"new(table soundManager)"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(e.table,{children:(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"table"}),(0,i.jsx)(e.th,{children:"soundManager"}),(0,i.jsx)(e.th,{children:"SoundManager reference"})]})})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(e.table,{children:(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"table"}),(0,i.jsx)(e.th,{children:"self"})]})})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Code"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-lua",children:"function GuiSoundPlayer.new(soundManager)\n    local self = setmetatable( { } , GuiSoundPlayer _mt)\n\n    self.soundManager = soundManager\n    self.soundSamples = self:loadSounds( GuiSoundPlayer.SOUND_SAMPLE_DEFINITIONS_PATH) -- name -> sample\n\n    return self\nend\n\n"})}),"\n",(0,i.jsx)(e.h3,{id:"playsample",children:"playSample"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"Play a GUI sound sample identified by name.\nThe sample must have been loaded when the GUI was created."}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"playSample(string sampleName)"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(e.table,{children:(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"string"}),(0,i.jsx)(e.th,{children:"sampleName"}),(0,i.jsx)(e.th,{children:"Name of the sample to play, use one of the identifiers in GuiSoundPlayer.SOUND_SAMPLES."})]})})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Code"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-lua",children:"function GuiSoundPlayer:playSample(sampleName)\n    if sampleName = = GuiSoundPlayer.SOUND_SAMPLES.NONE then\n        return\n    end\n\n    local sampleList = self.soundSamples[sampleName]\n\n    if sampleList ~ = nil then\n        if sampleList.lastTime ~ = nil and g_ time - sampleList.lastTime < GuiSoundPlayer.SAMPLE_REPLAY_TIMEOUT then\n            return\n        end\n\n        -- Get first free\n        local sample\n        for i = 1 , #sampleList do\n            if not self.soundManager:getIsSamplePlaying(sampleList[i]) then\n                sample = sampleList[i]\n                break\n            end\n        end\n\n        if sample ~ = nil then\n            self.soundManager:playSample(sample)\n            sampleList.lastTime = g_ time\n        end\n    else\n            Logging.devWarning( \"Tried playing GUI sample '%s' which has not been loaded.\" , sampleName)\n        end\n    end\n\n"})})]})}function u(n={}){const{wrapper:e}={...(0,a.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(c,{...n})}):c(n)}},28453(n,e,l){l.d(e,{R:()=>r,x:()=>t});var s=l(96540);const i={},a=s.createContext(i);function r(n){const e=s.useContext(a);return s.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function t(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:r(n.components),s.createElement(a.Provider,{value:e},n.children)}}}]);