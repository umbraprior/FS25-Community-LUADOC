"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[48484],{28453(e,n,t){t.d(n,{R:()=>l,x:()=>o});var r=t(96540);const i={},s=r.createContext(i);function l(e){const n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),r.createElement(s.Provider,{value:n},e.children)}},55375(e,n,t){t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"script/Specializations/Motorized","title":"Motorized","description":"Motorized","source":"@site/../docs/script/Specializations/Motorized.md","sourceDirName":"script/Specializations","slug":"/script/Specializations/Motorized","permalink":"/FS25-Community-LUADOC/script/Specializations/Motorized","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"Motorbike","permalink":"/FS25-Community-LUADOC/script/Specializations/Motorbike"},"next":{"title":"Mountable","permalink":"/FS25-Community-LUADOC/script/Specializations/Mountable"}}');var i=t(74848),s=t(28453);const l={},o=void 0,a={},c=[{value:"Motorized",id:"motorized",level:2},{value:"actionEventClutch",id:"actioneventclutch",level:3},{value:"actionEventDirectionChange",id:"actioneventdirectionchange",level:3},{value:"actionEventSelectGear",id:"actioneventselectgear",level:3},{value:"actionEventSelectGroup",id:"actioneventselectgroup",level:3},{value:"actionEventSetMotorStateIgnition",id:"actioneventsetmotorstateignition",level:3},{value:"actionEventSetMotorStateOff",id:"actioneventsetmotorstateoff",level:3},{value:"actionEventSetMotorStateOn",id:"actioneventsetmotorstateon",level:3},{value:"actionEventShiftGear",id:"actioneventshiftgear",level:3},{value:"actionEventShiftGroup",id:"actioneventshiftgroup",level:3},{value:"actionEventToggleMotorState",id:"actioneventtogglemotorstate",level:3},{value:"addToPhysics",id:"addtophysics",level:3},{value:"controlVehicle",id:"controlvehicle",level:3},{value:"generateShiftAnimation",id:"generateshiftanimation",level:3},{value:"getAirConsumerUsage",id:"getairconsumerusage",level:3},{value:"getBrakeForce",id:"getbrakeforce",level:3},{value:"getCanBeSelected",id:"getcanbeselected",level:3},{value:"getCanMotorRun",id:"getcanmotorrun",level:3},{value:"getConsumerFillUnitIndex",id:"getconsumerfillunitindex",level:3},{value:"getDeactivateLightsOnLeave",id:"getdeactivatelightsonleave",level:3},{value:"getDeactivateOnLeave",id:"getdeactivateonleave",level:3},{value:"getDirectionChangeMode",id:"getdirectionchangemode",level:3},{value:"getGearInfoToDisplay",id:"getgearinfotodisplay",level:3},{value:"getGearShiftMode",id:"getgearshiftmode",level:3},{value:"getIsActiveForInteriorLights",id:"getisactiveforinteriorlights",level:3},{value:"getIsActiveForWipers",id:"getisactiveforwipers",level:3},{value:"getIsDashboardGroupActive",id:"getisdashboardgroupactive",level:3},{value:"getIsManualDirectionChangeActive",id:"getismanualdirectionchangeactive",level:3},{value:"getIsManualDirectionChangeAllowed",id:"getismanualdirectionchangeallowed",level:3},{value:"getIsMotorInNeutral",id:"getismotorinneutral",level:3},{value:"getIsMotorStarted",id:"getismotorstarted",level:3},{value:"getIsOperating",id:"getisoperating",level:3},{value:"getIsPowered",id:"getispowered",level:3},{value:"getMotor",id:"getmotor",level:3},{value:"getMotorBlowOffValveState",id:"getmotorblowoffvalvestate",level:3},{value:"getMotorBrakeTime",id:"getmotorbraketime",level:3},{value:"getMotorDifferentialSpeed",id:"getmotordifferentialspeed",level:3},{value:"getMotorLoadPercentage",id:"getmotorloadpercentage",level:3},{value:"getMotorNotAllowedWarning",id:"getmotornotallowedwarning",level:3},{value:"getMotorRpmPercentage",id:"getmotorrpmpercentage",level:3},{value:"getMotorRpmReal",id:"getmotorrpmreal",level:3},{value:"getMotorStartTime",id:"getmotorstarttime",level:3},{value:"getMotorType",id:"getmotortype",level:3},{value:"getName",id:"getname",level:3},{value:"getSpecValueFuel",id:"getspecvaluefuel",level:3},{value:"getSpecValueFuelDiesel",id:"getspecvaluefueldiesel",level:3},{value:"getSpecValueFuelElectricCharge",id:"getspecvaluefuelelectriccharge",level:3},{value:"getSpecValueFuelMethane",id:"getspecvaluefuelmethane",level:3},{value:"getSpecValueMaxSpeed",id:"getspecvaluemaxspeed",level:3},{value:"getSpecValuePower",id:"getspecvaluepower",level:3},{value:"getSpecValueTransmission",id:"getspecvaluetransmission",level:3},{value:"getStopMotorOnLeave",id:"getstopmotoronleave",level:3},{value:"getTraveledDistanceStatsActive",id:"gettraveleddistancestatsactive",level:3},{value:"getUsageCausesDamage",id:"getusagecausesdamage",level:3},{value:"initSpecialization",id:"initspecialization",level:3},{value:"loadConsumerConfiguration",id:"loadconsumerconfiguration",level:3},{value:"loadDashboardGroupFromXML",id:"loaddashboardgroupfromxml",level:3},{value:"loadDifferentials",id:"loaddifferentials",level:3},{value:"loadExhaustEffects",id:"loadexhausteffects",level:3},{value:"loadGearGroups",id:"loadgeargroups",level:3},{value:"loadGears",id:"loadgears",level:3},{value:"loadMotor",id:"loadmotor",level:3},{value:"loadSounds",id:"loadsounds",level:3},{value:"loadSpecValueFuel",id:"loadspecvaluefuel",level:3},{value:"loadSpecValueMaxSpeed",id:"loadspecvaluemaxspeed",level:3},{value:"loadSpecValuePower",id:"loadspecvaluepower",level:3},{value:"loadSpecValueTransmission",id:"loadspecvaluetransmission",level:3},{value:"onAIJobFinished",id:"onaijobfinished",level:3},{value:"onAIJobStarted",id:"onaijobstarted",level:3},{value:"onClutchCreaking",id:"onclutchcreaking",level:3},{value:"onDelete",id:"ondelete",level:3},{value:"onExhaustEffectI3DLoaded",id:"onexhausteffecti3dloaded",level:3},{value:"onFillUnitFillLevelChanged",id:"onfillunitfilllevelchanged",level:3},{value:"onGearChanged",id:"ongearchanged",level:3},{value:"onGearDirectionChanged",id:"ongeardirectionchanged",level:3},{value:"onGearGroupChanged",id:"ongeargroupchanged",level:3},{value:"onLoad",id:"onload",level:3},{value:"onMotorBlowOffValveChanged",id:"onmotorblowoffvalvechanged",level:3},{value:"onPostLoad",id:"onpostload",level:3},{value:"onReadStream",id:"onreadstream",level:3},{value:"onReadUpdateStream",id:"onreadupdatestream",level:3},{value:"onRegisterActionEvents",id:"onregisteractionevents",level:3},{value:"onRegisterDashboardValueTypes",id:"onregisterdashboardvaluetypes",level:3},{value:"onReverseDirectionChanged",id:"onreversedirectionchanged",level:3},{value:"onSetBroken",id:"onsetbroken",level:3},{value:"onStateChange",id:"onstatechange",level:3},{value:"onUpdate",id:"onupdate",level:3},{value:"onUpdateTick",id:"onupdatetick",level:3},{value:"onVehicleSettingChanged",id:"onvehiclesettingchanged",level:3},{value:"onWriteStream",id:"onwritestream",level:3},{value:"onWriteUpdateStream",id:"onwriteupdatestream",level:3},{value:"prerequisitesPresent",id:"prerequisitespresent",level:3},{value:"registerConsumerXMLPaths",id:"registerconsumerxmlpaths",level:3},{value:"registerDifferentialXMLPaths",id:"registerdifferentialxmlpaths",level:3},{value:"registerEventListeners",id:"registereventlisteners",level:3},{value:"registerEvents",id:"registerevents",level:3},{value:"registerFunctions",id:"registerfunctions",level:3},{value:"registerMotorXMLPaths",id:"registermotorxmlpaths",level:3},{value:"registerOverwrittenFunctions",id:"registeroverwrittenfunctions",level:3},{value:"registerSoundXMLPaths",id:"registersoundxmlpaths",level:3},{value:"removeFromPhysics",id:"removefromphysics",level:3},{value:"setGearLeversState",id:"setgearleversstate",level:3},{value:"setTransmissionDirection",id:"settransmissiondirection",level:3},{value:"startMotor",id:"startmotor",level:3},{value:"stopMotor",id:"stopmotor",level:3},{value:"stopVehicle",id:"stopvehicle",level:3},{value:"tryStartMotor",id:"trystartmotor",level:3},{value:"updateActionEvents",id:"updateactionevents",level:3},{value:"updateConsumers",id:"updateconsumers",level:3},{value:"updateMotorProperties",id:"updatemotorproperties",level:3},{value:"updateMotorTemperature",id:"updatemotortemperature",level:3}];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"motorized",children:"Motorized"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Specialization for all vehicles with motors/engines. Simulates engine, transmission/gears, fuel usage, air brakes"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Functions"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#actioneventclutch",children:"actionEventClutch"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#actioneventdirectionchange",children:"actionEventDirectionChange"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#actioneventselectgear",children:"actionEventSelectGear"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#actioneventselectgroup",children:"actionEventSelectGroup"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#actioneventsetmotorstateignition",children:"actionEventSetMotorStateIgnition"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#actioneventsetmotorstateoff",children:"actionEventSetMotorStateOff"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#actioneventsetmotorstateon",children:"actionEventSetMotorStateOn"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#actioneventshiftgear",children:"actionEventShiftGear"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#actioneventshiftgroup",children:"actionEventShiftGroup"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#actioneventtogglemotorstate",children:"actionEventToggleMotorState"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#addtophysics",children:"addToPhysics"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#controlvehicle",children:"controlVehicle"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#generateshiftanimation",children:"generateShiftAnimation"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getairconsumerusage",children:"getAirConsumerUsage"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getbrakeforce",children:"getBrakeForce"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getcanbeselected",children:"getCanBeSelected"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getcanmotorrun",children:"getCanMotorRun"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getconsumerfillunitindex",children:"getConsumerFillUnitIndex"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getdeactivatelightsonleave",children:"getDeactivateLightsOnLeave"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getdeactivateonleave",children:"getDeactivateOnLeave"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getdirectionchangemode",children:"getDirectionChangeMode"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getgearinfotodisplay",children:"getGearInfoToDisplay"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getgearshiftmode",children:"getGearShiftMode"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getisactiveforinteriorlights",children:"getIsActiveForInteriorLights"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getisactiveforwipers",children:"getIsActiveForWipers"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getisdashboardgroupactive",children:"getIsDashboardGroupActive"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getismanualdirectionchangeactive",children:"getIsManualDirectionChangeActive"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getismanualdirectionchangeallowed",children:"getIsManualDirectionChangeAllowed"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getismotorinneutral",children:"getIsMotorInNeutral"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getismotorstarted",children:"getIsMotorStarted"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getisoperating",children:"getIsOperating"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getispowered",children:"getIsPowered"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getmotor",children:"getMotor"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getmotorblowoffvalvestate",children:"getMotorBlowOffValveState"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getmotorbraketime",children:"getMotorBrakeTime"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getmotordifferentialspeed",children:"getMotorDifferentialSpeed"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getmotorloadpercentage",children:"getMotorLoadPercentage"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getmotornotallowedwarning",children:"getMotorNotAllowedWarning"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getmotorrpmpercentage",children:"getMotorRpmPercentage"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getmotorrpmreal",children:"getMotorRpmReal"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getmotorstarttime",children:"getMotorStartTime"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getmotortype",children:"getMotorType"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getname",children:"getName"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getspecvaluefuel",children:"getSpecValueFuel"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getspecvaluefueldiesel",children:"getSpecValueFuelDiesel"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getspecvaluefuelelectriccharge",children:"getSpecValueFuelElectricCharge"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getspecvaluefuelmethane",children:"getSpecValueFuelMethane"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getspecvaluemaxspeed",children:"getSpecValueMaxSpeed"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getspecvaluepower",children:"getSpecValuePower"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getspecvaluetransmission",children:"getSpecValueTransmission"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getstopmotoronleave",children:"getStopMotorOnLeave"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#gettraveleddistancestatsactive",children:"getTraveledDistanceStatsActive"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getusagecausesdamage",children:"getUsageCausesDamage"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#initspecialization",children:"initSpecialization"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#loadconsumerconfiguration",children:"loadConsumerConfiguration"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#loaddashboardgroupfromxml",children:"loadDashboardGroupFromXML"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#loaddifferentials",children:"loadDifferentials"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#loadexhausteffects",children:"loadExhaustEffects"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#loadgeargroups",children:"loadGearGroups"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#loadgears",children:"loadGears"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#loadmotor",children:"loadMotor"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#loadsounds",children:"loadSounds"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#loadspecvaluefuel",children:"loadSpecValueFuel"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#loadspecvaluemaxspeed",children:"loadSpecValueMaxSpeed"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#loadspecvaluepower",children:"loadSpecValuePower"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#loadspecvaluetransmission",children:"loadSpecValueTransmission"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onaijobfinished",children:"onAIJobFinished"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onaijobstarted",children:"onAIJobStarted"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onclutchcreaking",children:"onClutchCreaking"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#ondelete",children:"onDelete"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onexhausteffecti3dloaded",children:"onExhaustEffectI3DLoaded"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onfillunitfilllevelchanged",children:"onFillUnitFillLevelChanged"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#ongearchanged",children:"onGearChanged"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#ongeardirectionchanged",children:"onGearDirectionChanged"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#ongeargroupchanged",children:"onGearGroupChanged"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onload",children:"onLoad"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onmotorblowoffvalvechanged",children:"onMotorBlowOffValveChanged"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onpostload",children:"onPostLoad"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onreadstream",children:"onReadStream"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onreadupdatestream",children:"onReadUpdateStream"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onregisteractionevents",children:"onRegisterActionEvents"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onregisterdashboardvaluetypes",children:"onRegisterDashboardValueTypes"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onreversedirectionchanged",children:"onReverseDirectionChanged"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onsetbroken",children:"onSetBroken"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onstatechange",children:"onStateChange"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onupdate",children:"onUpdate"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onupdatetick",children:"onUpdateTick"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onvehiclesettingchanged",children:"onVehicleSettingChanged"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onwritestream",children:"onWriteStream"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onwriteupdatestream",children:"onWriteUpdateStream"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#prerequisitespresent",children:"prerequisitesPresent"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#registerconsumerxmlpaths",children:"registerConsumerXMLPaths"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#registerdifferentialxmlpaths",children:"registerDifferentialXMLPaths"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#registereventlisteners",children:"registerEventListeners"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#registerevents",children:"registerEvents"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#registerfunctions",children:"registerFunctions"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#registermotorxmlpaths",children:"registerMotorXMLPaths"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#registeroverwrittenfunctions",children:"registerOverwrittenFunctions"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#registersoundxmlpaths",children:"registerSoundXMLPaths"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#removefromphysics",children:"removeFromPhysics"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#setgearleversstate",children:"setGearLeversState"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#settransmissiondirection",children:"setTransmissionDirection"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#startmotor",children:"startMotor"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#stopmotor",children:"stopMotor"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#stopvehicle",children:"stopVehicle"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#trystartmotor",children:"tryStartMotor"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#updateactionevents",children:"updateActionEvents"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#updateconsumers",children:"updateConsumers"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#updatemotorproperties",children:"updateMotorProperties"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#updatemotortemperature",children:"updateMotorTemperature"})}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"actioneventclutch",children:"actionEventClutch"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"actionEventClutch()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"self"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"actionName"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"inputValue"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"callbackState"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"isAnalog"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized.actionEventClutch( self , actionName, inputValue, callbackState, isAnalog)\n    local spec = self.spec_motorized\n    spec.clutchState = inputValue\n\n    if self.isServer then\n        spec.motor:onManualClutchChanged(spec.clutchState)\n\n        if inputValue > 0 then\n            self:raiseActive()\n        end\n    else\n            self:raiseDirtyFlags(spec.inputDirtyFlag)\n        end\n    end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"actioneventdirectionchange",children:"actionEventDirectionChange"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"actionEventDirectionChange()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"self"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"actionName"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"inputValue"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"callbackState"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"isAnalog"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized.actionEventDirectionChange( self , actionName, inputValue, callbackState, isAnalog)\n    if actionName = = InputAction.DIRECTION_CHANGE_POS then\n        MotorGearShiftEvent.sendToServer( self , MotorGearShiftEvent.TYPE_DIRECTION_CHANGE_POS)\n    elseif actionName = = InputAction.DIRECTION_CHANGE_NEG then\n            MotorGearShiftEvent.sendToServer( self , MotorGearShiftEvent.TYPE_DIRECTION_CHANGE_NEG)\n        else\n                MotorGearShiftEvent.sendToServer( self , MotorGearShiftEvent.TYPE_DIRECTION_CHANGE)\n            end\n        end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"actioneventselectgear",children:"actionEventSelectGear"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"actionEventSelectGear()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"self"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"actionName"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"inputValue"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"callbackState"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"isAnalog"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized.actionEventSelectGear( self , actionName, inputValue, callbackState, isAnalog)\n    local spec = self.spec_motorized\n    local gears = spec.motor.currentGears\n    if gears ~ = nil then\n        for i = 1 , #gears do\n            local gear = gears[i]\n            if gear.inputAction = = InputAction[actionName] then\n                MotorGearShiftEvent.sendToServer( self , MotorGearShiftEvent.TYPE_SELECT_GEAR, inputValue = = 1 and i or 0 )\n                return\n            end\n        end\n    end\n\n    return MotorGearShiftEvent.sendToServer( self , MotorGearShiftEvent.TYPE_SELECT_GEAR, inputValue = = 1 and callbackState or 0 )\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"actioneventselectgroup",children:"actionEventSelectGroup"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"actionEventSelectGroup()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"self"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"actionName"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"inputValue"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"callbackState"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"isAnalog"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized.actionEventSelectGroup( self , actionName, inputValue, callbackState, isAnalog)\n    local spec = self.spec_motorized\n    local groups = spec.motor.gearGroups\n    if groups ~ = nil then\n        for i = 1 , #groups do\n            local group = groups[i]\n            if group.inputAction = = InputAction[actionName] then\n                MotorGearShiftEvent.sendToServer( self , MotorGearShiftEvent.TYPE_SELECT_GROUP, inputValue = = 1 and i or 0 )\n                return\n            end\n        end\n    end\n\n    return MotorGearShiftEvent.sendToServer( self , MotorGearShiftEvent.TYPE_SELECT_GROUP, inputValue = = 1 and callbackState or 0 )\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"actioneventsetmotorstateignition",children:"actionEventSetMotorStateIgnition"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"actionEventSetMotorStateIgnition()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"self"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"actionName"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"inputValue"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"callbackState"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"isAnalog"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized.actionEventSetMotorStateIgnition( self , actionName, inputValue, callbackState, isAnalog)\n    if not self:getIsAIActive() then\n        local motorState = self:getMotorState()\n        if motorState = = MotorState.OFF then\n            self:setMotorState(MotorState.IGNITION)\n        end\n    end\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"actioneventsetmotorstateoff",children:"actionEventSetMotorStateOff"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"actionEventSetMotorStateOff()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"self"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"actionName"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"inputValue"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"callbackState"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"isAnalog"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized.actionEventSetMotorStateOff( self , actionName, inputValue, callbackState, isAnalog)\n    if not self:getIsAIActive() then\n        local motorState = self:getMotorState()\n        if motorState ~ = MotorState.OFF then\n            self:stopMotor()\n        end\n    end\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"actioneventsetmotorstateon",children:"actionEventSetMotorStateOn"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"actionEventSetMotorStateOn()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"self"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"actionName"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"inputValue"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"callbackState"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"isAnalog"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized.actionEventSetMotorStateOn( self , actionName, inputValue, callbackState, isAnalog)\n    if not self:getIsAIActive() then\n        local motorState = self:getMotorState()\n        if motorState = = MotorState.OFF or motorState = = MotorState.IGNITION then\n            if self:getCanMotorRun() then\n                self:startMotor()\n            else\n                    local warning = self:getMotorNotAllowedWarning()\n                    if warning ~ = nil then\n                        g_currentMission:showBlinkingWarning(warning, 2000 )\n                    end\n                end\n            end\n        end\n    end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"actioneventshiftgear",children:"actionEventShiftGear"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"actionEventShiftGear()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"self"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"actionName"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"inputValue"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"callbackState"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"isAnalog"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized.actionEventShiftGear( self , actionName, inputValue, callbackState, isAnalog)\n    if actionName = = InputAction.SHIFT_GEAR_UP then\n        MotorGearShiftEvent.sendToServer( self , MotorGearShiftEvent.TYPE_SHIFT_UP)\n    else\n            MotorGearShiftEvent.sendToServer( self , MotorGearShiftEvent.TYPE_SHIFT_DOWN)\n        end\n    end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"actioneventshiftgroup",children:"actionEventShiftGroup"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"actionEventShiftGroup()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"self"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"actionName"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"inputValue"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"callbackState"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"isAnalog"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized.actionEventShiftGroup( self , actionName, inputValue, callbackState, isAnalog)\n    if actionName = = InputAction.SHIFT_GROUP_UP then\n        MotorGearShiftEvent.sendToServer( self , MotorGearShiftEvent.TYPE_SHIFT_GROUP_UP)\n    else\n            MotorGearShiftEvent.sendToServer( self , MotorGearShiftEvent.TYPE_SHIFT_GROUP_DOWN)\n        end\n    end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"actioneventtogglemotorstate",children:"actionEventToggleMotorState"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"actionEventToggleMotorState()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"self"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"actionName"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"inputValue"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"callbackState"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"isAnalog"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized.actionEventToggleMotorState( self , actionName, inputValue, callbackState, isAnalog)\n    if not self:getIsAIActive() then\n        local motorState = self:getMotorState()\n        if motorState = = MotorState.STARTING or motorState = = MotorState.ON then\n            self:stopMotor()\n        else\n                if self:getCanMotorRun() then\n                    self:startMotor()\n                else\n                        local warning = self:getMotorNotAllowedWarning()\n                        if warning ~ = nil then\n                            g_currentMission:showBlinkingWarning(warning, 2000 )\n                        end\n                    end\n                end\n            end\n        end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"addtophysics",children:"addToPhysics"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Add to physics"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"addToPhysics()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"success"}),(0,i.jsx)(n.th,{children:"success"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized:addToPhysics(superFunc)\n    if not superFunc( self ) then\n        return false\n    end\n\n    if self.isServer then\n        local spec = self.spec_motorized\n\n        if spec.motorizedNode ~ = nil then\n            if next(spec.differentials) ~ = nil then\n\n                for _, differential in pairs(spec.differentials) do\n                    local diffIndex1 = differential.diffIndex1\n                    local diffIndex2 = differential.diffIndex2\n\n                    if differential.diffIndex1IsWheel then\n                        diffIndex1 = self:getWheelFromWheelIndex(diffIndex1).physics.wheelShape\n                    end\n                    if differential.diffIndex2IsWheel then\n                        diffIndex2 = self:getWheelFromWheelIndex(diffIndex2).physics.wheelShape\n                    end\n\n                    addDifferential( spec.motorizedNode,\n                    diffIndex1,\n                    differential.diffIndex1IsWheel,\n                    diffIndex2,\n                    differential.diffIndex2IsWheel,\n                    differential.torqueRatio,\n                    differential.maxSpeedRatio )\n                end\n\n                self:updateMotorProperties()\n\n                self:controlVehicle( 0.0 , 0.0 , 0.0 , 0.0 , math.huge, 0.0 , 0.0 , 0.0 , 0.0 , 0.0 )\n            end\n        end\n    end\n\n    return true\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"controlvehicle",children:"controlVehicle"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Update the motor properties based on script motor state"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"controlVehicle()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"acceleratorPedal"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"maxSpeed"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"maxAcceleration"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"minMotorRotSpeed"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"maxMotorRotSpeed"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"maxMotorRotAcceleration"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"minGearRatio"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"maxGearRatio"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"maxClutchTorque"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"neededPtoTorque"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized:controlVehicle(acceleratorPedal, maxSpeed, maxAcceleration, minMotorRotSpeed, maxMotorRotSpeed, maxMotorRotAcceleration, minGearRatio, maxGearRatio, maxClutchTorque, neededPtoTorque)\n    local spec = self.spec_motorized\n\n    controlVehicle(spec.motorizedNode, acceleratorPedal, maxSpeed, maxAcceleration, minMotorRotSpeed, maxMotorRotSpeed, maxMotorRotAcceleration, minGearRatio, maxGearRatio, maxClutchTorque, neededPtoTorque)\n\n    -- wake up the physics if the value change while the motorized node is sleeping to force an update\n        local lastParameters = spec.lastControlParameters\n        if getIsSleeping(spec.motorizedNode) then\n            if acceleratorPedal ~ = lastParameters.acceleratorPedal\n                or maxSpeed ~ = lastParameters.maxSpeed\n                or maxAcceleration ~ = lastParameters.maxAcceleration\n                or minMotorRotSpeed ~ = lastParameters.minMotorRotSpeed\n                or maxMotorRotSpeed ~ = lastParameters.maxMotorRotSpeed\n                or maxMotorRotAcceleration ~ = lastParameters.maxMotorRotAcceleration\n                or minGearRatio ~ = lastParameters.minGearRatio\n                or maxGearRatio ~ = lastParameters.maxGearRatio\n                or maxClutchTorque ~ = lastParameters.maxClutchTorque\n                or neededPtoTorque ~ = lastParameters.neededPtoTorque then\n                I3DUtil.wakeUpObject(spec.motorizedNode)\n            end\n        end\n\n        lastParameters.acceleratorPedal = acceleratorPedal\n        lastParameters.maxSpeed = maxSpeed\n        lastParameters.maxAcceleration = maxAcceleration\n        lastParameters.minMotorRotSpeed = minMotorRotSpeed\n        lastParameters.maxMotorRotSpeed = maxMotorRotSpeed\n        lastParameters.maxMotorRotAcceleration = maxMotorRotAcceleration\n        lastParameters.minGearRatio = minGearRatio\n        lastParameters.maxGearRatio = maxGearRatio\n        lastParameters.maxClutchTorque = maxClutchTorque\n        lastParameters.neededPtoTorque = neededPtoTorque\n    end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"generateshiftanimation",children:"generateShiftAnimation"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"generateShiftAnimation()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"gearLever"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"state"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"time"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"isResetPosition"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized:generateShiftAnimation(gearLever, state, time , isResetPosition)\n    local gearLeverInterpolator = { }\n    gearLeverInterpolator.interpolations = { }\n\n    state.curRotation[ 1 ], state.curRotation[ 2 ], state.curRotation[ 3 ] = getRotation(gearLever.node)\n\n    -- check if the current rotation is already the target rotation\n        local requiresChange = false\n        for axis = 1 , 3 do\n            if math.abs(state.curRotation[axis] - state.rotation[axis]) > 0.00001 then\n                requiresChange = true\n                break\n            end\n        end\n\n        -- check if the current target direction is already the target direction\n            local alreadyMovingToTarget = true\n            for axis = 1 , 3 do\n                if math.abs(gearLever.curTarget[axis] - state.rotation[axis]) > 0.00001 then\n                    alreadyMovingToTarget = false\n                    break\n                end\n            end\n\n            if not requiresChange or alreadyMovingToTarget then\n                return false\n            end\n\n            gearLever.curTarget[ 1 ], gearLever.curTarget[ 2 ], gearLever.curTarget[ 3 ] = state.curRotation[ 1 ], state.curRotation[ 2 ], state.curRotation[ 3 ]\n\n            local requiresMoveToCenter = false\n            if gearLever.centerAxis ~ = nil then\n                local curCenter = state.curRotation[gearLever.centerAxis]\n                local tarCenter = state.rotation[gearLever.centerAxis]\n                requiresMoveToCenter = math.abs(curCenter - tarCenter) > 0.00001\n            end\n\n            -- move to center on non center axis\n            if requiresMoveToCenter then\n                for axis = 1 , 3 do\n                    if axis ~ = gearLever.centerAxis then\n                        local cur = state.curRotation[axis]\n                        local tar = state.rotation[axis]\n                        if gearLever.centerAxis ~ = nil then\n                            tar = 0\n                        end\n\n                        local allowed = math.abs(cur - tar) > 0.00001\n                        local goToCenter = false\n                        if gearLever.centerAxis ~ = nil and not allowed then\n                            allowed = state.useRotation[axis] and math.abs(state.curRotation[gearLever.centerAxis] - state.rotation[gearLever.centerAxis]) > 0.00001\n                            goToCenter = allowed\n                        end\n\n                        if allowed then\n                            table.insert(gearLeverInterpolator.interpolations, { axis = axis, cur = cur, tar = (goToCenter and 0 or tar) } )\n                            gearLever.curTarget[axis] = tar\n                        end\n                    end\n                end\n            end\n\n            if gearLever.centerAxis ~ = nil then\n                -- align center axis to new state\n                if requiresMoveToCenter then\n                    local curCenter = state.curRotation[gearLever.centerAxis]\n                    local tarCenter = state.rotation[gearLever.centerAxis]\n                    table.insert(gearLeverInterpolator.interpolations, { axis = gearLever.centerAxis, cur = curCenter, tar = tarCenter } )\n                    gearLever.curTarget[gearLever.centerAxis] = tarCenter\n                end\n\n                -- move non center axis to final position\n                for axis = 1 , 3 do\n                    if axis ~ = gearLever.centerAxis then\n                        local cur = state.curRotation[axis]\n                        local tar = state.rotation[axis]\n                        local allowed = math.abs(cur - tar) > 0.00001\n                        if gearLever.centerAxis ~ = nil and not allowed then\n                            allowed = state.useRotation[axis] and math.abs(state.curRotation[gearLever.centerAxis] - state.rotation[gearLever.centerAxis]) > 0.00001\n                        end\n\n                        if allowed then\n                            table.insert(gearLeverInterpolator.interpolations, { axis = axis, cur = requiresMoveToCenter and 0 or cur, tar = tar } )\n                            gearLever.curTarget[axis] = tar\n                        end\n                    end\n                end\n            end\n\n            for intState, _ in pairs( self.spec_motorized.activeGearLeverInterpolators) do\n                if intState.gearLever = = state.gearLever then\n                    self.spec_motorized.activeGearLeverInterpolators[intState] = nil\n                end\n            end\n\n            if self.spec_motorized.activeGearLeverInterpolators[state] = = nil then\n                local numInterpolations = #gearLeverInterpolator.interpolations\n                if numInterpolations > 0 then\n                    local timePerInterpolation = math.max(gearLever.changeTime, 0.001 ) / numInterpolations\n\n                    for ii = 1 , numInterpolations do\n                        local interpolation = gearLeverInterpolator.interpolations[ii]\n                        interpolation.speed = (interpolation.tar - interpolation.cur) / timePerInterpolation\n                    end\n\n                    gearLeverInterpolator.currentInterpolation = 1\n                    gearLeverInterpolator.isResetPosition = (isResetPosition = = nil or isResetPosition = = true )\n                    gearLeverInterpolator.handsOnDelay = gearLever.handsOnDelay\n                    gearLeverInterpolator.isGear = state.gear ~ = nil\n                    self.spec_motorized.activeGearLeverInterpolators[state] = gearLeverInterpolator\n                end\n            end\n\n            return true\n        end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getairconsumerusage",children:"getAirConsumerUsage"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getAirConsumerUsage()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function Motorized:getAirConsumerUsage()\n    local spec = self.spec_motorized\n    local consumer = spec.consumersByFillTypeName[ "AIR" ]\n    return(consumer and consumer.usage) or 0\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"getbrakeforce",children:"getBrakeForce"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getBrakeForce()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized:getBrakeForce(superFunc)\n    local brakeForce = superFunc( self )\n\n    local motorBrakeForce\n\n    local spec = self.spec_motorized\n    if spec.maxBrakeForceMass > 0 then\n        local mass = self:getTotalMass( not spec.maxBrakeForceMassIncludeAttachables)\n        local percentage = math.min( math.max((mass - self.defaultMass) / (spec.maxBrakeForceMass - self.defaultMass), 0 ), 1 )\n        motorBrakeForce = math.max( MathUtil.lerp(spec.minBrakeForce, spec.maxBrakeForce, percentage), brakeForce)\n    else\n            motorBrakeForce = self.spec_motorized.motor:getBrakeForce()\n        end\n\n        return math.max(brakeForce, motorBrakeForce)\n    end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getcanbeselected",children:"getCanBeSelected"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getCanBeSelected()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized:getCanBeSelected(superFunc)\n    local missionInfo = g_currentMission.missionInfo\n    -- if automatic motor start is disabled we need to choose which vehicle we need to turn on/off\n        if not missionInfo.automaticMotorStartEnabled then\n            local vehicles = self.rootVehicle:getChildVehicles()\n            for _, vehicle in pairs(vehicles) do\n                if vehicle.spec_motorized ~ = nil then\n                    return true\n                end\n            end\n        end\n\n        return superFunc( self )\n    end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getcanmotorrun",children:"getCanMotorRun"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getCanMotorRun()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized:getCanMotorRun()\n    local spec = self.spec_motorized\n\n    for _, fillUnitIndex in ipairs(spec.propellantFillUnitIndices) do\n        if self:getFillUnitFillLevel(fillUnitIndex) = = 0 then\n            return false\n        end\n    end\n\n    if not spec.motor:getCanMotorRun() then\n        return false\n    end\n\n    return true\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getconsumerfillunitindex",children:"getConsumerFillUnitIndex"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getConsumerFillUnitIndex()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"fillTypeIndex"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized:getConsumerFillUnitIndex(fillTypeIndex)\n    local spec = self.spec_motorized\n    local consumer = spec.consumersByFillType[fillTypeIndex]\n    if consumer ~ = nil then\n        return consumer.fillUnitIndex\n    end\n\n    return nil\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getdeactivatelightsonleave",children:"getDeactivateLightsOnLeave"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Returns if vehicle deactivates lights on leave"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getDeactivateLightsOnLeave()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"deactivate"}),(0,i.jsx)(n.th,{children:"vehicle deactivates on leave"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized:getDeactivateLightsOnLeave(superFunc)\n    local missionInfo = g_currentMission.missionInfo\n    return superFunc( self ) and missionInfo.automaticMotorStartEnabled and not self:getRequiresPower()\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getdeactivateonleave",children:"getDeactivateOnLeave"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Returns if vehicle deactivates on leave"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getDeactivateOnLeave()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"deactivate"}),(0,i.jsx)(n.th,{children:"vehicle deactivates on leave"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized:getDeactivateOnLeave(superFunc)\n    local missionInfo = g_currentMission.missionInfo\n    return superFunc( self ) and missionInfo.automaticMotorStartEnabled\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getdirectionchangemode",children:"getDirectionChangeMode"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Returns current direction change mode for vehicle"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getDirectionChangeMode()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"direction"}),(0,i.jsx)(n.th,{children:"change mode [1: auto, 2: manual]"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized:getDirectionChangeMode()\n    return self.spec_motorized.directionChangeMode\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getgearinfotodisplay",children:"getGearInfoToDisplay"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Returns gear information to display"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getGearInfoToDisplay()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"gear"}),(0,i.jsx)(n.th,{children:"gear name to display"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"gearGroup"}),(0,i.jsx)(n.td,{children:"gear group name to display"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized:getGearInfoToDisplay()\n    local gear, gearGroup, gearsAvailable, groupsAvailable\n    local isAutomatic, prevGearName, nextGearName, prevPrevGearName, nextNextGearName, isGearChanging\n    local showNeutralWarning = false\n\n    local motor = self.spec_motorized.motor\n    if motor ~ = nil then\n        gear, gearsAvailable, isAutomatic, prevGearName, nextGearName, prevPrevGearName, nextNextGearName, isGearChanging = motor:getGearInfoToDisplay()\n\n        gearGroup, groupsAvailable = motor:getGearGroupToDisplay()\n        if not groupsAvailable then\n            gearGroup = nil\n        end\n\n        if self.getAcDecelerationAxis ~ = nil then\n            if math.abs( self:getAcDecelerationAxis()) > 0 then\n                showNeutralWarning = self:getIsMotorInNeutral()\n            end\n        end\n    end\n\n    return gear, gearGroup, gearsAvailable, isAutomatic, prevGearName, nextGearName, prevPrevGearName, nextNextGearName, isGearChanging, showNeutralWarning\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getgearshiftmode",children:"getGearShiftMode"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Returns current gear shift mode for vehicle"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getGearShiftMode()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"gear"}),(0,i.jsx)(n.th,{children:"shift mode [1: auto, 2: manual, 3: manual with clutch]"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized:getGearShiftMode()\n    return self.spec_motorized.gearShiftMode\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getisactiveforinteriorlights",children:"getIsActiveForInteriorLights"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getIsActiveForInteriorLights()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized:getIsActiveForInteriorLights(superFunc)\n    local state = self:getMotorState()\n    if state = = MotorState.IGNITION or state = = MotorState.STARTING or state = = MotorState.ON then\n        return true\n    end\n\n    return superFunc( self )\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getisactiveforwipers",children:"getIsActiveForWipers"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getIsActiveForWipers()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized:getIsActiveForWipers(superFunc)\n    local state = self:getMotorState()\n    if state = = MotorState.OFF then\n        return false\n    end\n\n    return superFunc( self )\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getisdashboardgroupactive",children:"getIsDashboardGroupActive"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getIsDashboardGroupActive()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"superFunc"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"group"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized:getIsDashboardGroupActive(superFunc, group)\n    local motorState = self:getMotorState()\n\n    -- while running and starting\n        if group.isMotorRunning and group.isMotorStarting then\n            if motorState ~ = MotorState.STARTING and motorState ~ = MotorState.ON then\n                return false\n            end\n        end\n\n        -- only while starting\n            if group.isMotorStarting and not group.isMotorRunning then\n                if motorState ~ = MotorState.STARTING then\n                    return false\n                end\n            end\n\n            -- only while running\n                if group.isMotorRunning and not group.isMotorStarting then\n                    if motorState ~ = MotorState.ON then\n                        return false\n                    end\n                end\n\n                if group.electronicsStarting and group.electronicsRunning then\n                    if self.spec_motorized.motorStateIgnitionTime = = 0 then\n                        return false\n                    end\n                elseif group.electronicsStarting then\n                        local spec = self.spec_motorized\n                        if spec.motorStateIgnitionTime = = 0 or g_currentMission.time - spec.motorStateIgnitionTime > group.electronicsStartingTime then\n                            return false\n                        end\n                    elseif group.electronicsRunning then\n                            local spec = self.spec_motorized\n                            if spec.motorStateIgnitionTime = = 0 or g_currentMission.time - spec.motorStateIgnitionTime < group.electronicsStartingTime then\n                                return false\n                            end\n                        end\n\n                        return superFunc( self , group)\n                    end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getismanualdirectionchangeactive",children:"getIsManualDirectionChangeActive"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Returns if the manual direction change is currently active"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getIsManualDirectionChangeActive()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"isActive"}),(0,i.jsx)(n.th,{children:"isActive"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized:getIsManualDirectionChangeActive()\n    local motor = self.spec_motorized.motor\n    local isManualTransmission = motor.backwardGears ~ = nil or motor.forwardGears ~ = nil\n    local useManualDirectionChange = (isManualTransmission and motor.gearShiftMode ~ = VehicleMotor.SHIFT_MODE_AUTOMATIC)\n    or motor.directionChangeMode = = VehicleMotor.DIRECTION_CHANGE_MODE_MANUAL\n\n    return useManualDirectionChange and self:getIsManualDirectionChangeAllowed()\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getismanualdirectionchangeallowed",children:"getIsManualDirectionChangeAllowed"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Returns if the manual direction change is currently allowed"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getIsManualDirectionChangeAllowed()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"isAllowed"}),(0,i.jsx)(n.th,{children:"isAllowed"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized:getIsManualDirectionChangeAllowed()\n    return not self:getIsAIActive()\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getismotorinneutral",children:"getIsMotorInNeutral"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Returns if motor is in neutral state"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getIsMotorInNeutral()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"isNeutral"}),(0,i.jsx)(n.th,{children:"is neutral"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized:getIsMotorInNeutral()\n    return self.spec_motorized.motor:getIsInNeutral()\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getismotorstarted",children:"getIsMotorStarted"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Returns if motor is started"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getIsMotorStarted()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"if"}),(0,i.jsx)(n.th,{children:"motor is started"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized:getIsMotorStarted()\n    return self.spec_motorized.motorState = = MotorState.ON\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getisoperating",children:"getIsOperating"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Returns if vehicle is operating"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getIsOperating()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"isOperating"}),(0,i.jsx)(n.th,{children:"is operating"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized:getIsOperating(superFunc)\n    local motorState = self:getMotorState()\n    return superFunc( self ) or motorState = = MotorState.ON\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getispowered",children:"getIsPowered"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getIsPowered()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function Motorized:getIsPowered(superFunc)\n    local ret = superFunc( self )\n    if ret then\n        local motorState = self:getMotorState()\n        if motorState ~ = MotorState.STARTING and motorState ~ = MotorState.ON then\n            local vehicles = self.rootVehicle:getChildVehicles()\n            for _, vehicle in pairs(vehicles) do\n                if vehicle ~ = self then\n                    if vehicle.getMotorState ~ = nil then\n                        local vehicleMotorState = vehicle:getMotorState()\n                        if vehicleMotorState = = MotorState.STARTING or vehicleMotorState = = MotorState.ON then\n                            return true\n                        end\n                    end\n                end\n            end\n\n            if self:getCanMotorRun() then\n                return false , g_i18n:getText( "warning_motorNotStarted" )\n            else\n                    return false , self:getMotorNotAllowedWarning()\n                end\n            end\n        end\n\n        return ret\n    end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"getmotor",children:"getMotor"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getMotor()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized:getMotor()\n    return self.spec_motorized.motor\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getmotorblowoffvalvestate",children:"getMotorBlowOffValveState"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getMotorBlowOffValveState()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized:getMotorBlowOffValveState()\n    return self.spec_motorized.blowOffValveState\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getmotorbraketime",children:"getMotorBrakeTime"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getMotorBrakeTime()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized:getMotorBrakeTime()\n    local sample = self.spec_motorized.samples.compressedAir\n    if sample ~ = nil then\n        return sample.lastBrakeTime / 1000\n    end\n\n    return 0\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getmotordifferentialspeed",children:"getMotorDifferentialSpeed"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getMotorDifferentialSpeed()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized:getMotorDifferentialSpeed()\n    if self.spec_motorized = = nil then\n        Logging.error( \"Sound modifier 'DIFFERENTIAL_SPEED' used on non motorized vehicle '%s'\" , self.configFileName)\n        return 0\n    end\n    return math.abs( self.spec_motorized.motor.differentialRotSpeed * 3.6 )\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getmotorloadpercentage",children:"getMotorLoadPercentage"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getMotorLoadPercentage()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized:getMotorLoadPercentage()\n    return self.spec_motorized.smoothedLoadPercentage\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getmotornotallowedwarning",children:"getMotorNotAllowedWarning"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getMotorNotAllowedWarning()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized:getMotorNotAllowedWarning()\n    local spec = self.spec_motorized\n\n    for _, fillUnit in pairs(spec.propellantFillUnitIndices) do\n        if self:getFillUnitFillLevel(fillUnit) = = 0 then\n            return spec.consumersEmptyWarning\n        end\n    end\n\n    local canMotorRun, reason = spec.motor:getCanMotorRun()\n    if not canMotorRun then\n        if reason = = VehicleMotor.REASON_CLUTCH_NOT_ENGAGED then\n            return spec.clutchNoEngagedWarning\n        end\n    end\n\n    return nil\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getmotorrpmpercentage",children:"getMotorRpmPercentage"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getMotorRpmPercentage()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized:getMotorRpmPercentage()\n    local motor = self.spec_motorized.motor\n    return(motor:getLastModulatedMotorRpm() - motor:getMinRpm()) / (motor:getMaxRpm() - motor:getMinRpm())\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getmotorrpmreal",children:"getMotorRpmReal"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getMotorRpmReal()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized:getMotorRpmReal()\n    return self.spec_motorized.motor:getLastModulatedMotorRpm()\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getmotorstarttime",children:"getMotorStartTime"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getMotorStartTime()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized:getMotorStartTime()\n    return self.spec_motorized.motorStartTime\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getmotortype",children:"getMotorType"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getMotorType()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized:getMotorType()\n    return self.spec_motorized.motorType\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getname",children:"getName"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getName()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized:getName(superFunc)\n    if self.spec_motorized.vehicleName ~ = nil then\n        return self.spec_motorized.vehicleName\n    end\n\n    return superFunc( self )\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getspecvaluefuel",children:"getSpecValueFuel"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getSpecValueFuel()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"storeItem"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"realItem"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"configurations"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"fillTypeFilter"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"returnValue"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function Motorized.getSpecValueFuel(storeItem, realItem, configurations, fillTypeFilter, returnValue)\n    local consumerIndex = 1\n    if realItem ~ = nil and storeItem.configurations ~ = nil and realItem.configurations[ "motor" ] ~ = nil and storeItem.configurations[ "motor" ] ~ = nil then\n        local motorConfigId = realItem.configurations[ "motor" ]\n        consumerIndex = Utils.getNoNil(storeItem.configurations[ "motor" ][motorConfigId].consumerConfigurationIndex, consumerIndex)\n    elseif configurations ~ = nil then\n            local motorConfigId = configurations[ "motor" ]\n            if motorConfigId ~ = nil then\n                consumerIndex = Utils.getNoNil(storeItem.configurations[ "motor" ][motorConfigId].consumerConfigurationIndex, consumerIndex)\n            end\n        end\n\n        local fuel, def, electricCharge, methane\n\n        local fuelFillUnitIndex, defFillUnitIndex, electricFillUnitIndex, methaneFillUnitIndex = 0 , 0 , 0 , 0\n\n        --#debug if storeItem.specs.fuel = = nil then printCallstack() end\n\n        local consumerConfiguration = storeItem.specs.fuel and storeItem.specs.fuel.consumers[consumerIndex]\n        if consumerConfiguration ~ = nil then\n            for _, unitConsumers in ipairs(consumerConfiguration) do\n                local fillType = g_fillTypeManager:getFillTypeIndexByName(unitConsumers.fillType)\n\n                if fillTypeFilter = = nil or fillType = = fillTypeFilter then\n                    if fillType = = FillType.DIESEL then\n                        fuelFillUnitIndex = unitConsumers.fillUnitIndex\n                        fuel = unitConsumers.capacity\n\n                        if fillType = = FillType.DEF then\n                            defFillUnitIndex = unitConsumers.fillUnitIndex\n                            def = unitConsumers.capacity\n                        end\n                    elseif fillType = = FillType.DEF then\n                            defFillUnitIndex = unitConsumers.fillUnitIndex\n                            def = unitConsumers.capacity\n                        elseif fillType = = FillType.ELECTRICCHARGE then\n                                electricFillUnitIndex = unitConsumers.fillUnitIndex\n                                electricCharge = unitConsumers.capacity\n                            elseif fillType = = FillType.METHANE then\n                                    methaneFillUnitIndex = unitConsumers.fillUnitIndex\n                                    methane = unitConsumers.capacity\n                                end\n                            end\n                        end\n                    end\n\n                    local fuelConfigIndex = 1\n                    if realItem ~ = nil and storeItem.configurations ~ = nil and realItem.configurations[ "fillUnit" ] ~ = nil and storeItem.configurations[ "fillUnit" ] ~ = nil then\n                        fuelConfigIndex = realItem.configurations[ "fillUnit" ]\n                    end\n\n                    if storeItem.specs.fuel and storeItem.specs.fuel.fillUnits[fuelConfigIndex] ~ = nil then\n                        if realItem ~ = nil and realItem.getFillUnitCapacity ~ = nil then\n                            if fuelFillUnitIndex ~ = 0 then\n                                fuel = realItem:getFillUnitCapacity(fuelFillUnitIndex)\n                            end\n\n                            if defFillUnitIndex ~ = 0 then\n                                def = realItem:getFillUnitCapacity(defFillUnitIndex)\n                            end\n\n                            if electricFillUnitIndex ~ = 0 then\n                                electricCharge = realItem:getFillUnitCapacity(electricFillUnitIndex)\n                            end\n\n                            if methaneFillUnitIndex ~ = 0 then\n                                methane = realItem:getFillUnitCapacity(methaneFillUnitIndex)\n                            end\n                        else\n                                local fuelFillUnit = storeItem.specs.fuel.fillUnits[fuelConfigIndex][fuelFillUnitIndex]\n                                if fuelFillUnit ~ = nil and fuel = = nil then\n                                    fuel = math.max(fuelFillUnit.capacity, fuel or 0 )\n                                end\n\n                                local defFillUnit = storeItem.specs.fuel.fillUnits[fuelConfigIndex][defFillUnitIndex]\n                                if defFillUnit ~ = nil and def = = nil then\n                                    def = math.max(defFillUnit.capacity, def or 0 )\n                                end\n\n                                local electricFillUnit = storeItem.specs.fuel.fillUnits[fuelConfigIndex][electricFillUnitIndex]\n                                if electricFillUnit ~ = nil and electricCharge = = nil then\n                                    electricCharge = math.max(electricFillUnit.capacity, electricCharge or 0 )\n                                end\n\n                                local methaneFillUnit = storeItem.specs.fuel.fillUnits[fuelConfigIndex][methaneFillUnitIndex]\n                                if methaneFillUnit ~ = nil and methane = = nil then\n                                    methane = math.max(methaneFillUnit.capacity, methane or 0 )\n                                end\n                            end\n                        end\n\n                        if returnValue then\n                            if fillTypeFilter = = FillType.DIESEL or fillTypeFilter = = nil then\n                                return fuel\n                            elseif fillTypeFilter = = FillType.DEF then\n                                    return def\n                                elseif fillTypeFilter = = FillType.ELECTRICCHARGE then\n                                        return electricCharge\n                                    elseif fillTypeFilter = = FillType.METHANE then\n                                            return methane\n                                        else\n                                                return 0\n                                            end\n                                        end\n\n                                        if fuel ~ = nil then\n                                            if def ~ = nil and def > 0 then\n                                                return string.format(g_i18n:getText( "shop_fuelDefValue" ), fuel, g_i18n:getText( "unit_literShort" ), def, g_i18n:getText( "unit_literShort" ), g_i18n:getText( "fillType_def_short" ))\n                                            else\n                                                    return string.format(g_i18n:getText( "shop_fuelValue" ), fuel, g_i18n:getText( "unit_literShort" ))\n                                                end\n                                            elseif electricCharge ~ = nil then\n                                                    return string.format(g_i18n:getText( "shop_fuelValue" ), electricCharge, g_i18n:getText( "unit_kw" ))\n                                                elseif methane ~ = nil then\n                                                        return string.format(g_i18n:getText( "shop_fuelValue" ), methane, g_i18n:getText( "unit_kg" ))\n                                                    end\n\n                                                    return nil\n                                                end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"getspecvaluefueldiesel",children:"getSpecValueFuelDiesel"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getSpecValueFuelDiesel()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"storeItem"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"realItem"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"configurations"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized.getSpecValueFuelDiesel(storeItem, realItem, configurations)\n    return Motorized.getSpecValueFuel(storeItem, realItem, configurations, FillType.DIESEL)\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getspecvaluefuelelectriccharge",children:"getSpecValueFuelElectricCharge"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getSpecValueFuelElectricCharge()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"storeItem"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"realItem"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"configurations"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized.getSpecValueFuelElectricCharge(storeItem, realItem, configurations)\n    return Motorized.getSpecValueFuel(storeItem, realItem, configurations, FillType.ELECTRICCHARGE)\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getspecvaluefuelmethane",children:"getSpecValueFuelMethane"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getSpecValueFuelMethane()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"storeItem"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"realItem"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"configurations"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized.getSpecValueFuelMethane(storeItem, realItem, configurations)\n    return Motorized.getSpecValueFuel(storeItem, realItem, configurations, FillType.METHANE)\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getspecvaluemaxspeed",children:"getSpecValueMaxSpeed"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getSpecValueMaxSpeed()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"storeItem"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"realItem"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"configurations"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"saleItem"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"returnValues"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"returnRange"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function Motorized.getSpecValueMaxSpeed(storeItem, realItem, configurations, saleItem, returnValues, returnRange)\n    local maxSpeed = nil\n\n    if realItem ~ = nil and storeItem.configurations ~ = nil then\n        if realItem.configurations[ "motor" ] ~ = nil and storeItem.configurations[ "motor" ] ~ = nil then\n            local configId = realItem.configurations[ "motor" ]\n            maxSpeed = Utils.getNoNil(storeItem.configurations[ "motor" ][configId].maxSpeed, maxSpeed)\n        end\n\n        if realItem.configurations[ "wheel" ] ~ = nil and storeItem.configurations[ "wheel" ] ~ = nil then\n            local configId = realItem.configurations[ "wheel" ]\n            maxSpeed = Utils.getNoNil(storeItem.configurations[ "wheel" ][configId].maxForwardSpeedShop, maxSpeed)\n        end\n    end\n\n    if maxSpeed = = nil then\n        maxSpeed = storeItem.specs.maxSpeed\n    end\n\n    if maxSpeed ~ = nil then\n        if returnValues then\n            return MathUtil.round(maxSpeed)\n        else\n                return string.format(g_i18n:getText( "shop_maxSpeed" ), string.format( "%1d" , g_i18n:getSpeed(maxSpeed)), g_i18n:getSpeedMeasuringUnit())\n            end\n        end\n\n        return nil\n    end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"getspecvaluepower",children:"getSpecValuePower"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getSpecValuePower()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"storeItem"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"realItem"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"configurations"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"saleItem"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"returnValues"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"returnRange"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function Motorized.getSpecValuePower(storeItem, realItem, configurations, saleItem, returnValues, returnRange)\n    local minPower = nil\n    local maxPower = nil\n    if realItem ~ = nil and storeItem.configurations ~ = nil and realItem.configurations[ "motor" ] ~ = nil and storeItem.configurations[ "motor" ] ~ = nil then\n        local configId = realItem.configurations[ "motor" ]\n        minPower = storeItem.configurations[ "motor" ][configId].power\n        maxPower = minPower\n    elseif realItem = = nil and storeItem.configurations ~ = nil and storeItem.configurations[ "motor" ] ~ = nil then\n            for _, configItem in ipairs(storeItem.configurations[ "motor" ]) do\n                if configItem.isSelectable and configItem.power ~ = nil then\n                    minPower = math.min(minPower or math.huge, configItem.power)\n                    maxPower = math.max(maxPower or 0 , configItem.power)\n                end\n            end\n        end\n\n        if minPower = = nil then\n            minPower = storeItem.specs.power\n            maxPower = minPower\n        end\n\n        if minPower ~ = nil then\n            if returnValues = = nil or returnValues = = false then\n                if minPower ~ = maxPower then\n                    return string.format(g_i18n:getText( "shop_maxPowerValueRange" ), MathUtil.round(minPower), MathUtil.round(maxPower))\n                else\n                        return string.format(g_i18n:getText( "shop_maxPowerValueSingle" ), MathUtil.round(minPower))\n                    end\n                else\n                        return MathUtil.round(minPower), MathUtil.round(maxPower)\n                    end\n                end\n\n                return nil\n            end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"getspecvaluetransmission",children:"getSpecValueTransmission"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getSpecValueTransmission()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"storeItem"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"realItem"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"configurations"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"saleItem"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"returnValues"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"returnRange"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function Motorized.getSpecValueTransmission(storeItem, realItem, configurations, saleItem, returnValues, returnRange)\n    local name\n    if realItem ~ = nil and storeItem.configurations ~ = nil and realItem.configurations[ "motor" ] ~ = nil and storeItem.configurations[ "motor" ] ~ = nil then\n        name = storeItem.specs.transmission[realItem.configurations[ "motor" ]]\n        if name = = nil then\n            name = storeItem.specs.transmission[ 1 ]\n        end\n    else\n            name = storeItem.specs.transmission[ 1 ]\n        end\n\n        return name\n    end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"getstopmotoronleave",children:"getStopMotorOnLeave"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getStopMotorOnLeave()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized:getStopMotorOnLeave()\n    return self.spec_motorized.stopMotorOnLeave and not self:getRequiresPower()\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"gettraveleddistancestatsactive",children:"getTraveledDistanceStatsActive"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getTraveledDistanceStatsActive()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized:getTraveledDistanceStatsActive()\n    return true\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getusagecausesdamage",children:"getUsageCausesDamage"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getUsageCausesDamage()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized:getUsageCausesDamage(superFunc)\n    local motorState = self:getMotorState()\n    if motorState ~ = MotorState.STARTING and motorState ~ = MotorState.ON then\n        return false\n    end\n\n    return superFunc( self )\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"initspecialization",children:"initSpecialization"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"initSpecialization()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function Motorized.initSpecialization()\n    g_vehicleConfigurationManager:addConfigurationType( "motor" , g_i18n:getText( "configuration_motorSetup" ), "motorized" , VehicleConfigurationItemMotor , nil , nil , nil , 1 )\n\n    g_storeManager:addSpecType( "fuel" , "shopListAttributeIconFuel" , Motorized.loadSpecValueFuel, Motorized.getSpecValueFuelDiesel, StoreSpecies.VEHICLE)\n    g_storeManager:addSpecType( "electricCharge" , "shopListAttributeIconElectricCharge" , Motorized.loadSpecValueFuel, Motorized.getSpecValueFuelElectricCharge, StoreSpecies.VEHICLE)\n    g_storeManager:addSpecType( "methane" , "shopListAttributeIconMethane" , Motorized.loadSpecValueFuel, Motorized.getSpecValueFuelMethane, StoreSpecies.VEHICLE)\n    g_storeManager:addSpecType( "maxSpeed" , "shopListAttributeIconMaxSpeed" , Motorized.loadSpecValueMaxSpeed, Motorized.getSpecValueMaxSpeed, StoreSpecies.VEHICLE)\n    g_storeManager:addSpecType( "power" , "shopListAttributeIconPower" , Motorized.loadSpecValuePower, Motorized.getSpecValuePower, StoreSpecies.VEHICLE)\n    g_storeManager:addSpecType( "powerConfig" , "shopListAttributeIconPower" , Motorized.loadSpecValuePowerConfig, Motorized.getSpecValuePowerConfig, StoreSpecies.VEHICLE) -- used for export only\n        g_storeManager:addSpecType( "transmission" , "shopListAttributeIconTransmission" , Motorized.loadSpecValueTransmission, Motorized.getSpecValueTransmission, StoreSpecies.VEHICLE)\n\n        local schema = Vehicle.xmlSchema\n        schema:setXMLSpecializationType( "Motorized" )\n\n        Motorized.registerDifferentialXMLPaths(schema, "vehicle.motorized.differentialConfigurations.differentialConfiguration(?)" )\n        Motorized.registerDifferentialXMLPaths(schema, "vehicle.motorized.differentials" )\n\n        Motorized.registerMotorXMLPaths(schema, "vehicle.motorized.motorConfigurations.motorConfiguration(?)" )\n\n        Motorized.registerConsumerXMLPaths(schema, "vehicle.motorized.consumerConfigurations.consumerConfiguration(?)" )\n        Motorized.registerConsumerXMLPaths(schema, "vehicle.motorized.consumers" )\n\n        Motorized.registerSoundXMLPaths(schema, "vehicle.motorized.sounds" )\n        Motorized.registerSoundXMLPaths(schema, "vehicle.motorized.motorConfigurations.motorConfiguration(?).sounds" )\n\n        schema:register(XMLValueType.FLOAT, "vehicle.motorized.reverseDriveSound#threshold" , "Reverse drive sound turn on speed threshold" , 4 )\n        schema:register(XMLValueType.FLOAT, "vehicle.motorized.brakeCompressor#capacity" , "Brake compressor capacity" , 6 )\n        schema:register(XMLValueType.FLOAT, "vehicle.motorized.brakeCompressor#refillFillLevel" , "Brake compressor refill threshold" , "half of capacity" )\n        schema:register(XMLValueType.FLOAT, "vehicle.motorized.brakeCompressor#fillSpeed" , "Brake compressor fill speed" , 0.6 )\n\n        ParticleUtil.registerParticleXMLPaths(schema, "vehicle.motorized.exhaustParticleSystems" , "exhaustParticleSystem(?)" )\n\n        schema:register(XMLValueType.FLOAT, "vehicle.motorized.exhaustParticleSystems#minScale" , "Min.scale" , 0.5 )\n        schema:register(XMLValueType.FLOAT, "vehicle.motorized.exhaustParticleSystems#maxScale" , "Max.scale" , 1 )\n\n        schema:register(XMLValueType.NODE_INDEX, "vehicle.motorized.exhaustFlap(?)#node" , "Exhaust Flap Node" )\n        schema:register(XMLValueType.ANGLE, "vehicle.motorized.exhaustFlap(?)#maxRot" , "Max.rotation" , 0 )\n        schema:register(XMLValueType.INT, "vehicle.motorized.exhaustFlap(?)#rotationAxis" , "Rotation Axis" , 1 )\n\n        schema:register(XMLValueType.NODE_INDEX, "vehicle.motorized.exhaustEffects.exhaustEffect(?)#node" , "Effect link node" )\n        schema:register(XMLValueType.STRING, "vehicle.motorized.exhaustEffects.exhaustEffect(?)#filename" , "Effect i3d filename" )\n\n        schema:register(XMLValueType.VECTOR_ 4 , "vehicle.motorized.exhaustEffects.exhaustEffect(?)#minRpmColor" , "Min.rpm color" , "0 0 0 1" )\n        schema:register(XMLValueType.VECTOR_ 4 , "vehicle.motorized.exhaustEffects.exhaustEffect(?)#maxRpmColor" , "Max.rpm color" , "0.0384 0.0359 0.0627 2.0" )\n        schema:register(XMLValueType.FLOAT, "vehicle.motorized.exhaustEffects.exhaustEffect(?)#minRpmScale" , "Min.rpm scale" , 0.25 )\n        schema:register(XMLValueType.FLOAT, "vehicle.motorized.exhaustEffects.exhaustEffect(?)#maxRpmScale" , "Max.rpm scale" , 0.95 )\n        schema:register(XMLValueType.FLOAT, "vehicle.motorized.exhaustEffects.exhaustEffect(?)#upFactor" , "Defines how far the effect goes up in the air in meter" , 0.75 )\n\n        EffectManager.registerEffectXMLPaths(schema, "vehicle.motorized.effects" )\n\n        schema:register(XMLValueType.FLOAT, "vehicle.motorized.motorStartDuration" , "Motor start duration" , "Duration motor takes to start.After this time player can start to drive" )\n\n        schema:register(XMLValueType.FLOAT, "vehicle.motorized.brakeForce#force" , "Brake force when vehicle is empty" , 0 )\n        schema:register(XMLValueType.FLOAT, "vehicle.motorized.brakeForce#maxForce" , "Brake force when vehicle reached mass of #maxForceMass" , 0 )\n        schema:register(XMLValueType.FLOAT, "vehicle.motorized.brakeForce#maxForceMass" , "When this mass is reached the vehicle will brake with #maxForce" , 0 )\n        schema:register(XMLValueType.BOOL, "vehicle.motorized.brakeForce#includeAttachables" , "Defines if the mass of the attached vehicles is included in the calculations" , false )\n\n            schema:register(XMLValueType.L10N_STRING, "vehicle.motorized#clutchNoEngagedWarning" , "Warning to be displayed if try to start the engine but clutch not engaged" , "warning_motorClutchNoEngaged" )\n                schema:register(XMLValueType.L10N_STRING, "vehicle.motorized#clutchCrackingGearWarning" , "Warning to be display if user tries to select a gear without pressing clutch pedal" , "action_clutchCrackingGear" )\n                    schema:register(XMLValueType.L10N_STRING, "vehicle.motorized#clutchCrackingGroupWarning" , "Warning to be display if user tries to select a gear without pressing clutch pedal" , "action_clutchCrackingGroup" )\n\n                        schema:register(XMLValueType.L10N_STRING, "vehicle.motorized#turnOnText" , "Motor start text" , "action_startMotor" )\n                        schema:register(XMLValueType.L10N_STRING, "vehicle.motorized#turnOffText" , "Motor stop text" , "action_stopMotor" )\n\n                        schema:register(XMLValueType.NODE_INDEX, "vehicle.motorized.gearLevers.gearLever(?)#node" , "Gear lever node" )\n                        schema:register(XMLValueType.INT, "vehicle.motorized.gearLevers.gearLever(?)#centerAxis" , "Axis of center bay" )\n                        schema:register(XMLValueType.TIME, "vehicle.motorized.gearLevers.gearLever(?)#changeTime" , "Time to move lever from one state to another" , 0.5 )\n                        schema:register(XMLValueType.TIME, "vehicle.motorized.gearLevers.gearLever(?)#handsOnDelay" , "The animation is delayed by this time to have time to put the hand on the lever" , 0 )\n                        schema:register(XMLValueType.INT, "vehicle.motorized.gearLevers.gearLever(?).state(?)#gear" , "Gear index" )\n                        schema:register(XMLValueType.INT, "vehicle.motorized.gearLevers.gearLever(?).state(?)#group" , "Group index" )\n                        schema:register(XMLValueType.ANGLE, "vehicle.motorized.gearLevers.gearLever(?).state(?)#xRot" , "X rotation" )\n                        schema:register(XMLValueType.ANGLE, "vehicle.motorized.gearLevers.gearLever(?).state(?)#yRot" , "Y rotation" )\n                        schema:register(XMLValueType.ANGLE, "vehicle.motorized.gearLevers.gearLever(?).state(?)#zRot" , "Z rotation" )\n\n                        schema:register(XMLValueType.FLOAT, "vehicle.storeData.specs.power" , "Power" )\n                        schema:register(XMLValueType.FLOAT, "vehicle.storeData.specs.maxSpeed" , "Max speed" )\n\n                        schema:register(XMLValueType.STRING, "vehicle.motorized#statsType" , "Statistic type" , "tractor" )\n\n                        schema:register(XMLValueType.BOOL, "vehicle.motorized#forceSpeedHudDisplay" , "Force usage of vehicle speed display in hud independent of setting" , false )\n                        schema:register(XMLValueType.BOOL, "vehicle.motorized#forceRpmHudDisplay" , "Force usage of motor speed display in hud independent of setting" , false )\n\n                        local valueTypes = {\n                        "rpm" , "load" , "speed" , "speedDir" , "fuelUsage" , "motorTemperature" , "motorTemperatureWarning" , "clutchPedal" , "gear" , "gearGroup" , "gearIndex" , "gearGroupIndex" , "gearShiftUp" , "gearShiftDown" , "gearShiftUpDown" ,\n                        "movingDirection" , "directionForward" , "directionForwardExclusive" , "directionBackward" , "directionNeutral" , "movingDirectionLetter" , "ignitionState" , "battery"\n                        }\n                        Dashboard.registerDashboardXMLPaths(schema, "vehicle.motorized.dashboards" , valueTypes)\n\n                        AnimationManager.registerAnimationNodesXMLPaths(schema, "vehicle.motorized.animationNodes" )\n\n                        schema:register(XMLValueType.BOOL, Dashboard.GROUP_XML_KEY .. "#isMotorStarting" , "Is motor starting" )\n                        schema:register(XMLValueType.BOOL, Dashboard.GROUP_XML_KEY .. "#isMotorRunning" , "Is motor running" )\n\n                        schema:register(XMLValueType.BOOL, Dashboard.GROUP_XML_KEY .. "#electronicsStarting" , "Electrical components starting(depending on defined \'electronicsStartingTime\')" , false )\n                        schema:register(XMLValueType.TIME, Dashboard.GROUP_XML_KEY .. "#electronicsStartingTime" , "Starting time of electric components" , 2 )\n                        schema:register(XMLValueType.BOOL, Dashboard.GROUP_XML_KEY .. "#electronicsRunning" , "Electrical components are started and running(depending on defined \'electronicsStartingTime\')" , false )\n\n                        schema:setXMLSpecializationType()\n                    end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"loadconsumerconfiguration",children:"loadConsumerConfiguration"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"loadConsumerConfiguration()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"xmlFile"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"consumerIndex"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function Motorized:loadConsumerConfiguration(xmlFile, consumerIndex)\n    local key = string.format( "vehicle.motorized.consumerConfigurations.consumerConfiguration(%d)" , consumerIndex - 1 )\n\n    local spec = self.spec_motorized\n\n    local fallbackConfigKey = "vehicle.motorized.consumers"\n\n    spec.consumersEmptyWarning = self.xmlFile:getValue(key .. "#consumersEmptyWarning" , "warning_motorFuelEmpty" , self.customEnvironment)\n\n    spec.consumers = { }\n    spec.consumersByFillTypeName = { }\n    spec.consumersByFillType = { }\n\n    if not xmlFile:hasProperty(key) then\n        return\n    end\n\n    local i = 0\n    while true do\n        local consumerKey = string.format( ".consumer(%d)" , i)\n        if not xmlFile:hasProperty(key .. consumerKey) then\n            break\n        end\n        local consumer = { }\n        consumer.fillUnitIndex = ConfigurationUtil.getConfigurationValue(xmlFile, key, consumerKey, "#fillUnitIndex" , 1 , fallbackConfigKey)\n\n        local fillTypeName = ConfigurationUtil.getConfigurationValue(xmlFile, key, consumerKey, "#fillType" , "consumer" , fallbackConfigKey)\n        consumer.fillType = g_fillTypeManager:getFillTypeIndexByName(fillTypeName)\n\n        consumer.capacity = ConfigurationUtil.getConfigurationValue(xmlFile, key, consumerKey, "#capacity" , nil , fallbackConfigKey)\n\n        local fillUnit = self:getFillUnitByIndex(consumer.fillUnitIndex)\n        if fillUnit ~ = nil then\n            if fillUnit.supportedFillTypes[consumer.fillType] = = nil then\n                fillUnit.supportedFillTypes = { }\n                fillUnit.supportedFillTypes[consumer.fillType] = true\n            end\n\n            fillUnit.capacity = consumer.capacity or fillUnit.capacity\n\n            if consumer.fillType = = FillType.DIESEL\n                or consumer.fillType = = FillType.ELECTRICCHARGE\n                or consumer.fillType = = FillType.METHANE then\n                if fillUnit.exactFillRootNode = = nil then\n                    Logging.xmlWarning( self.xmlFile, "Missing exactFillRootNode for fuel fill unit(%d)." , consumer.fillUnitIndex)\n                    end\n                end\n\n                --fill fillUnit on start\n                fillUnit.startFillLevel = fillUnit.capacity\n                fillUnit.startFillTypeIndex = consumer.fillType\n\n                fillUnit.ignoreFillLimit = true\n\n                local usage = ConfigurationUtil.getConfigurationValue(xmlFile, key, consumerKey, "#usage" , 1.0 , fallbackConfigKey)\n                consumer.permanentConsumption = ConfigurationUtil.getConfigurationValue(xmlFile, key, consumerKey, "#permanentConsumption" , true , fallbackConfigKey)\n                if consumer.permanentConsumption then\n                    consumer.usage = usage / ( 60 * 60 * 1000 ) -- from l/h to l/ms\n                else\n                        consumer.usage = usage\n                    end\n                    consumer.refillLitersPerSecond = ConfigurationUtil.getConfigurationValue(xmlFile, key, consumerKey, "#refillLitersPerSecond" , 0 , fallbackConfigKey)\n                    consumer.refillCapacityPercentage = ConfigurationUtil.getConfigurationValue(xmlFile, key, consumerKey, "#refillCapacityPercentage" , 0 , fallbackConfigKey)\n\n                    consumer.fillLevelToChange = 0\n\n                    table.insert(spec.consumers, consumer)\n                    spec.consumersByFillTypeName[ string.upper(fillTypeName)] = consumer\n                    spec.consumersByFillType[consumer.fillType] = consumer\n                else\n                        Logging.xmlWarning( self.xmlFile, "Unknown fillUnit \'%d\' for consumer \'%s\'" , consumer.fillUnitIndex, key .. consumerKey)\n                        end\n                        i = i + 1\n                    end\n                end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"loaddashboardgroupfromxml",children:"loadDashboardGroupFromXML"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"loadDashboardGroupFromXML()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"superFunc"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"xmlFile"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"key"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"group"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function Motorized:loadDashboardGroupFromXML(superFunc, xmlFile, key, group)\n    if not superFunc( self , xmlFile, key, group) then\n        return false\n    end\n\n    group.isMotorStarting = xmlFile:getValue(key .. "#isMotorStarting" )\n    group.isMotorRunning = xmlFile:getValue(key .. "#isMotorRunning" )\n\n    group.electronicsStarting = xmlFile:getValue(key .. "#electronicsStarting" , false )\n    group.electronicsStartingTime = xmlFile:getValue(key .. "#electronicsStartingTime" , 2 )\n    group.electronicsRunning = xmlFile:getValue(key .. "#electronicsRunning" , false )\n\n    return true\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"loaddifferentials",children:"loadDifferentials"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Load differentials from xml"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"loadDifferentials(XMLFile xmlFile, integer configDifferentialIndex)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"XMLFile"}),(0,i.jsx)(n.th,{children:"xmlFile"}),(0,i.jsx)(n.th,{children:"XMLFile instance"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"integer"}),(0,i.jsx)(n.td,{children:"configDifferentialIndex"}),(0,i.jsx)(n.td,{children:"index of differential config"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function Motorized:loadDifferentials(xmlFile, configDifferentialIndex)\n    local key,_ = ConfigurationUtil.getXMLConfigurationKey(xmlFile, configDifferentialIndex, "vehicle.motorized.differentialConfigurations.differentialConfiguration" , "vehicle.motorized.differentials" , "differentials" )\n\n    local spec = self.spec_motorized\n\n    spec.differentials = { }\n    if self.isServer and spec.motorizedNode ~ = nil then\n        xmlFile:iterate(key .. ".differentials.differential" , function (_, differentialKey)\n            local torqueRatio = xmlFile:getValue(differentialKey .. "#torqueRatio" , 0.5 )\n            local maxSpeedRatio = xmlFile:getValue(differentialKey .. "#maxSpeedRatio" , 1.3 )\n\n            local indices = { - 1 , - 1 }\n            local indexIsWheel = { false , false }\n            for j = 1 , 2 do\n                local wheelIndex = xmlFile:getValue(differentialKey .. string.format( "#wheelIndex%d" , j))\n                if wheelIndex ~ = nil then\n                    if self:getWheelFromWheelIndex(wheelIndex) ~ = nil then\n                        indices[j] = wheelIndex\n                        indexIsWheel[j] = true\n                    else\n                            Logging.xmlWarning( self.xmlFile, "Unable to find wheelIndex \'%d\' for differential \'%s\' (Indices start at 1)" , wheelIndex, differentialKey)\n                            end\n                        else\n                                local diffIndex = xmlFile:getValue(differentialKey .. string.format( "#differentialIndex%d" , j))\n                                if diffIndex ~ = nil then\n                                    indices[j] = diffIndex - 1\n                                    indexIsWheel[j] = false\n\n                                    if diffIndex = = 0 then\n                                        Logging.xmlWarning( self.xmlFile, "Unable to find differentialIndex \'0\' for differential \'%s\' (Indices start at 1)" , differentialKey)\n                                        end\n                                    end\n                                end\n                            end\n\n                            if indices[ 1 ] ~ = - 1 and indices[ 2 ] ~ = - 1 then\n                                table.insert(spec.differentials, {\n                                torqueRatio = torqueRatio,\n                                maxSpeedRatio = maxSpeedRatio,\n                                diffIndex1 = indices[ 1 ],\n                                diffIndex1IsWheel = indexIsWheel[ 1 ],\n                                diffIndex2 = indices[ 2 ],\n                                diffIndex2IsWheel = indexIsWheel[ 2 ] } )\n                            end\n                        end )\n\n                        if #spec.differentials = = 0 then\n                            Logging.xmlWarning( self.xmlFile, "No differentials defined" )\n                        end\n                    end\n                end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"loadexhausteffects",children:"loadExhaustEffects"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Loading of exhaust effects from xml file"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"loadExhaustEffects(XMLFile xmlFile, table exhaustEffects)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"XMLFile"}),(0,i.jsx)(n.th,{children:"xmlFile"}),(0,i.jsx)(n.th,{children:"XMLFile instance"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"table"}),(0,i.jsx)(n.td,{children:"exhaustEffects"}),(0,i.jsx)(n.td,{children:"table to ass exhaustEffects"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function Motorized:loadExhaustEffects(xmlFile)\n    local spec = self.spec_motorized\n\n    local minScale = xmlFile:getValue( "vehicle.motorized.exhaustParticleSystems#minScale" , 0.5 )\n    local maxScale = xmlFile:getValue( "vehicle.motorized.exhaustParticleSystems#maxScale" , 1 )\n\n    spec.exhaustParticleSystems = { }\n    local i = 0\n    while true do\n        local baseKey = string.format( "vehicle.motorized.exhaustParticleSystems.exhaustParticleSystem(%d)" , i)\n        if not xmlFile:hasProperty(baseKey) then\n            break\n        end\n\n        local particleSystem = { }\n        ParticleUtil.loadParticleSystem(xmlFile, particleSystem, baseKey, self.components, false , nil , self.baseDirectory)\n        particleSystem.minScale = minScale\n        particleSystem.maxScale = maxScale\n\n        table.insert(spec.exhaustParticleSystems, particleSystem)\n\n        i = i + 1\n    end\n\n    if #spec.exhaustParticleSystems = = 0 then\n        spec.exhaustParticleSystems = nil\n    end\n\n    XMLUtil.checkDeprecatedXMLElements(xmlFile, "vehicle.motorized.exhaustFlap#index" , "vehicle.motorized.exhaustFlap#node" ) --FS17 to FS19\n\n    spec.exhaustFlaps = { }\n    for _, key in self.xmlFile:iterator( "vehicle.motorized.exhaustFlap" ) do\n        local exhaustFlap = { }\n        exhaustFlap.node = xmlFile:getValue(key .. "#node" , nil , self.components, self.i3dMappings)\n        if exhaustFlap.node ~ = nil then\n            exhaustFlap.maxRot = xmlFile:getValue(key .. "#maxRot" , 0 )\n            exhaustFlap.rotationAxis = xmlFile:getValue(key .. "#rotationAxis" , 1 )\n\n            table.insert(spec.exhaustFlaps, exhaustFlap)\n        end\n    end\n\n    spec.exhaustEffects = { }\n    spec.sharedLoadRequestIds = { }\n    xmlFile:iterate( "vehicle.motorized.exhaustEffects.exhaustEffect" , function (index, key)\n        XMLUtil.checkDeprecatedXMLElements(xmlFile, key .. "#index" , key .. "#node" ) --FS17 to FS19\n\n        local linkNode = xmlFile:getValue(key .. "#node" , nil , self.components, self.i3dMappings)\n        local filename = xmlFile:getValue(key .. "#filename" )\n        if filename ~ = nil and linkNode ~ = nil then\n            filename = Utils.getFilename(filename, self.baseDirectory)\n            local arguments = {\n            xmlFile = xmlFile,\n            key = key,\n            linkNode = linkNode,\n            filename = filename\n            }\n            local sharedLoadRequestId = self:loadSubSharedI3DFile(filename, false , false , self.onExhaustEffectI3DLoaded, self , arguments)\n            table.insert(spec.sharedLoadRequestIds, sharedLoadRequestId)\n        end\n    end )\n\n    spec.exhaustEffectMaxSteeringSpeed = 0.001\n\n    spec.effects = g_effectManager:loadEffect(xmlFile, "vehicle.motorized.effects" , self.components, self , self.i3dMappings)\n    g_effectManager:setEffectTypeInfo(spec.effects, FillType.UNKNOWN)\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"loadgeargroups",children:"loadGearGroups"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"loadGearGroups()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"xmlFile"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"key"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"motorMaxRpm"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"axleRatio"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function Motorized:loadGearGroups(xmlFile, key, motorMaxRpm, axleRatio)\n    local groups = { }\n    local i = 0\n    while true do\n        local groupKey = string.format(key .. ".group(%d)" , i)\n        if not xmlFile:hasProperty(groupKey) then\n            break\n        end\n\n        local ratio = xmlFile:getValue(groupKey .. "#ratio" )\n        if ratio ~ = nil then\n            local groupEntry = { }\n            groupEntry.ratio = 1 / ratio\n            groupEntry.isDefault = xmlFile:getValue(groupKey .. "#isDefault" , false )\n            groupEntry.name = xmlFile:getValue(groupKey .. "#name" , tostring(i + 1 ))\n            groupEntry.dashboardName = xmlFile:getValue(groupKey .. "#dashboardName" )\n\n            groupEntry.actionName = xmlFile:getValue(groupKey .. "#actionName" )\n            if (i < 4 or groupEntry.actionName ~ = nil ) and groupEntry.actionName ~ = "-" then\n                groupEntry.actionName = groupEntry.actionName or string.format( "SHIFT_GROUP_SELECT_%d" , i + 1 )\n                groupEntry.inputAction = InputAction[groupEntry.actionName]\n                if groupEntry.inputAction = = nil then\n                    Logging.xmlWarning(xmlFile, "Invalid actionName \'%s\' found for gear group \'%s\'" , groupEntry.actionName, groupKey)\n                        groupEntry.inputAction = InputAction[ string.format( "SHIFT_GROUP_SELECT_%d" , i + 1 )]\n                    end\n                end\n\n                table.insert(groups, groupEntry)\n            end\n\n            i = i + 1\n        end\n\n        if #groups > 0 then\n            if #groups > 4 then\n                for j, groupEntry in pairs(groups) do\n                    if groupEntry.actionName = = nil then\n                        Logging.xmlDevWarning(xmlFile, "More than 4 gear groups defined, but manual assignment of actionName missing for gearGroup %d. (Use \'-\' to skip a group)" , j)\n                        end\n                    end\n                end\n\n                table.sort(groups, Motorized.sortGears)\n\n                return groups\n            end\n\n            return nil\n        end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"loadgears",children:"loadGears"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"loadGears()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"xmlFile"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"gearName"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"key"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"motorMaxRpm"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"axleRatio"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"direction"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function Motorized:loadGears(xmlFile, gearName, key, motorMaxRpm, axleRatio, direction)\n    local gears = { }\n    local gearI = 0\n    while true do\n        local gearKey = string.format(key .. ".%s(%d)" , gearName, gearI)\n        if not xmlFile:hasProperty(gearKey) then\n            break\n        end\n\n        local gearRatio = xmlFile:getValue(gearKey .. "#gearRatio" )\n        local maxSpeed = xmlFile:getValue(gearKey .. "#maxSpeed" )\n\n        if maxSpeed ~ = nil then\n            gearRatio = (motorMaxRpm * math.pi) / (maxSpeed / 3.6 * 30 )\n        end\n\n        if gearRatio ~ = nil then\n            local gearEntry = { }\n            gearEntry.ratio = gearRatio * axleRatio\n            gearEntry.default = xmlFile:getValue(gearKey .. "#defaultGear" , false )\n            gearEntry.name = xmlFile:getValue(gearKey .. "#name" , tostring((gearI + 1 ) * direction))\n            gearEntry.reverseName = xmlFile:getValue(gearKey .. "#reverseName" , tostring((gearI + 1 ) * direction * - 1 ))\n\n            gearEntry.dashboardName = xmlFile:getValue(gearKey .. "#dashboardName" )\n            gearEntry.dashboardReverseName = xmlFile:getValue(gearKey .. "#dashboardReverseName" )\n\n            gearEntry.actionName = xmlFile:getValue(gearKey .. "#actionName" )\n            if (gearI < 8 or gearEntry.actionName ~ = nil ) and gearEntry.actionName ~ = "-" then\n                gearEntry.actionName = gearEntry.actionName or string.format( "SHIFT_GEAR_SELECT_%d" , gearI + 1 )\n\n                gearEntry.inputAction = InputAction[gearEntry.actionName]\n                if gearEntry.inputAction = = nil then\n                    Logging.xmlWarning(xmlFile, "Invalid actionName \'%s\' found for gear \'%s\'" , gearEntry.actionName, gearKey)\n                        gearEntry.inputAction = InputAction[ string.format( "SHIFT_GEAR_SELECT_%d" , gearI + 1 )]\n                    end\n                end\n\n                table.insert(gears, gearEntry)\n            end\n\n            gearI = gearI + 1\n        end\n\n        if #gears > 0 then\n            if #gears > 8 then\n                for j, gearEntry in pairs(gears) do\n                    if gearEntry.actionName = = nil then\n                        Logging.xmlDevWarning(xmlFile, "More than 8 gears defined, but manual assignment of actionName missing for gear %d. (Use \'-\' to skip a gear)" , j)\n                        end\n                    end\n                end\n\n                table.sort(gears, Motorized.sortGears)\n\n                return gears\n            end\n\n            return nil\n        end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"loadmotor",children:"loadMotor"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Load motor from xml file"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"loadMotor(XMLFile xmlFile, integer motorId)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"XMLFile"}),(0,i.jsx)(n.th,{children:"xmlFile"}),(0,i.jsx)(n.th,{children:"XMLFile instance"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"integer"}),(0,i.jsx)(n.td,{children:"motorId"}),(0,i.jsx)(n.td,{children:"index of motor configuration"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function Motorized:loadMotor(xmlFile, motorId)\n    local key\n    -- Sets motorId to default 1 if motor cannot be found.\n        key, motorId = ConfigurationUtil.getXMLConfigurationKey(xmlFile, motorId, "vehicle.motorized.motorConfigurations.motorConfiguration" , "vehicle.motorized" , "motor" )\n\n        local spec = self.spec_motorized\n\n        local fallbackConfigKey = "vehicle.motorized.motorConfigurations.motorConfiguration(0)"\n\n        -- load the name from the xml file again, as it might have changed compared to storeData(e.g.xml overwrites)\n        local vehicleName = xmlFile:getValue(key .. "#name" , nil , self.customEnvironment, false )\n        local params = xmlFile:getValue(key .. "#params" )\n        if vehicleName ~ = nil and params ~ = nil then\n            vehicleName = g_i18n:insertTextParams(vehicleName, params, self.customEnvironment, xmlFile)\n        end\n        spec.vehicleName = xmlFile:getValue(key .. "#vehicleName" , vehicleName, self.customEnvironment, false )\n\n        spec.motorType = ConfigurationUtil.getConfigurationValue(xmlFile, key, ".motor" , "#type" , "vehicle" , fallbackConfigKey)\n        spec.motorStartAnimation = ConfigurationUtil.getConfigurationValue(xmlFile, key, ".motor" , "#startAnimationName" , "vehicle" , fallbackConfigKey)\n\n        spec.consumerConfigurationIndex = ConfigurationUtil.getConfigurationValue(xmlFile, key, "#consumerConfigurationIndex" , "" , 1 , fallbackConfigKey)\n\n        local motorMinRpm = ConfigurationUtil.getConfigurationValue(xmlFile, key, ".motor" , "#minRpm" , 1000 , fallbackConfigKey)\n        local motorMaxRpm = ConfigurationUtil.getConfigurationValue(xmlFile, key, ".motor" , "#maxRpm" , 1800 , fallbackConfigKey)\n        local minSpeed = ConfigurationUtil.getConfigurationValue(xmlFile, key, ".motor" , "#minSpeed" , 1 , fallbackConfigKey)\n        local maxForwardSpeed = ConfigurationUtil.getConfigurationValue(xmlFile, key, ".motor" , "#maxForwardSpeed" , nil , fallbackConfigKey)\n        local maxBackwardSpeed = ConfigurationUtil.getConfigurationValue(xmlFile, key, ".motor" , "#maxBackwardSpeed" , nil , fallbackConfigKey)\n        if maxForwardSpeed ~ = nil then\n            maxForwardSpeed = maxForwardSpeed / 3.6\n        end\n        if maxBackwardSpeed ~ = nil then\n            maxBackwardSpeed = maxBackwardSpeed / 3.6\n        end\n\n        local spec_wheels = self.spec_wheels\n        if spec_wheels ~ = nil and spec_wheels.configItem ~ = nil then\n            if spec_wheels.configItem.maxForwardSpeed ~ = nil then\n                maxForwardSpeed = spec_wheels.configItem.maxForwardSpeed / 3.6\n            end\n        end\n\n        local accelerationLimit = ConfigurationUtil.getConfigurationValue(xmlFile, key, ".motor" , "#accelerationLimit" , 2.0 , fallbackConfigKey) -- m/s^2\n\n        local brakeForce = ConfigurationUtil.getConfigurationValue(xmlFile, key, ".motor" , "#brakeForce" , 10 , fallbackConfigKey) * 2\n        local lowBrakeForceScale = ConfigurationUtil.getConfigurationValue(xmlFile, key, ".motor" , "#lowBrakeForceScale" , 0.5 , fallbackConfigKey)\n        local lowBrakeForceSpeedLimit = ConfigurationUtil.getConfigurationValue(xmlFile, key, ".motor" , "#lowBrakeForceSpeedLimit" , 1 , fallbackConfigKey) / 3600\n        local torqueScale = ConfigurationUtil.getConfigurationValue(xmlFile, key, ".motor" , "#torqueScale" , 1 , fallbackConfigKey)\n        local ptoMotorRpmRatio = ConfigurationUtil.getConfigurationValue(xmlFile, key, ".motor" , "#ptoMotorRpmRatio" , 4 , fallbackConfigKey)\n\n        -- transmission settings can only be fully overwritten, not only single attributes\n        local transmissionKey = key .. ".transmission"\n        if not xmlFile:hasProperty(transmissionKey) then\n            transmissionKey = fallbackConfigKey .. ".transmission"\n        end\n\n        local minForwardGearRatio = xmlFile:getValue(transmissionKey .. "#minForwardGearRatio" )\n        local maxForwardGearRatio = xmlFile:getValue(transmissionKey .. "#maxForwardGearRatio" )\n        local minBackwardGearRatio = xmlFile:getValue(transmissionKey .. "#minBackwardGearRatio" )\n        local maxBackwardGearRatio = xmlFile:getValue(transmissionKey .. "#maxBackwardGearRatio" )\n        local gearChangeTime = xmlFile:getValue(transmissionKey .. "#gearChangeTime" )\n        local autoGearChangeTime = xmlFile:getValue(transmissionKey .. "#autoGearChangeTime" )\n        local axleRatio = xmlFile:getValue(transmissionKey .. "#axleRatio" , 1.0 )\n        local startGearThreshold = xmlFile:getValue(transmissionKey .. "#startGearThreshold" , VehicleMotor.GEAR_START_THRESHOLD)\n\n        if maxForwardGearRatio = = nil or minForwardGearRatio = = nil then\n            minForwardGearRatio = nil\n            maxForwardGearRatio = nil\n        else\n                minForwardGearRatio = minForwardGearRatio * axleRatio\n                maxForwardGearRatio = maxForwardGearRatio * axleRatio\n            end\n            if minBackwardGearRatio = = nil or maxBackwardGearRatio = = nil then\n                minBackwardGearRatio = nil\n                maxBackwardGearRatio = nil\n            else\n                    minBackwardGearRatio = minBackwardGearRatio * axleRatio\n                    maxBackwardGearRatio = maxBackwardGearRatio * axleRatio\n                end\n\n                -- Read forward gear ratios\n                local forwardGears\n                if minForwardGearRatio = = nil then\n                    forwardGears = self:loadGears(xmlFile, "forwardGear" , transmissionKey, motorMaxRpm, axleRatio, 1 )\n                    if forwardGears = = nil then\n                        printWarning( "Warning:Missing forward gear ratios for motor in \'" .. self.configFileName .. "\'!" )\n                            forwardGears = { { ratio = 1 , default = false } }\n                        end\n                    end\n                    -- Read backward gear ratios\n                    local backwardGears\n                    if minBackwardGearRatio = = nil then\n                        backwardGears = self:loadGears(xmlFile, "backwardGear" , transmissionKey, motorMaxRpm, axleRatio, - 1 )\n                    end\n\n                    local gearGroups = self:loadGearGroups(xmlFile, transmissionKey .. ".groups" , motorMaxRpm, axleRatio)\n                    local groupsType = xmlFile:getValue(transmissionKey .. ".groups#type" , "default" )\n                    local groupChangeTime = xmlFile:getValue(transmissionKey .. ".groups#changeTime" , 0.5 )\n\n                    local directionChangeUseGear = xmlFile:getValue(transmissionKey .. ".directionChange#useGear" , false )\n                    local directionChangeGearIndex = xmlFile:getValue(transmissionKey .. ".directionChange#reverseGearIndex" , 1 )\n                    local directionChangeUseGroup = xmlFile:getValue(transmissionKey .. ".directionChange#useGroup" , false )\n                    local directionChangeGroupIndex = xmlFile:getValue(transmissionKey .. ".directionChange#reverseGroupIndex" , 1 )\n                    local directionChangeTime = xmlFile:getValue(transmissionKey .. ".directionChange#changeTime" , 0.5 )\n\n                    local manualShiftGears = xmlFile:getValue(transmissionKey .. ".manualShift#gears" , true )\n                    local manualShiftGroups = xmlFile:getValue(transmissionKey .. ".manualShift#groups" , true )\n\n                    --local maxTorque = 0\n                    local torqueCurve = AnimCurve.new(linearInterpolator1)\n                    local torqueI = 0\n                    local torqueBase = fallbackConfigKey .. ".motor.torque"\n                    if key ~ = nil and xmlFile:hasProperty(key .. ".motor.torque(0)" ) then -- using selected motor configuration\n                        torqueBase = key .. ".motor.torque"\n                    end\n\n                    while true do\n                        local torqueKey = string.format(torqueBase .. "(%d)" , torqueI)\n                        local normRpm = xmlFile:getValue(torqueKey .. "#normRpm" )\n                        local rpm\n                        if normRpm = = nil then\n                            rpm = xmlFile:getValue(torqueKey .. "#rpm" )\n                        else\n                                rpm = normRpm * motorMaxRpm\n                            end\n                            local torque = xmlFile:getValue(torqueKey .. "#torque" )\n                            if torque = = nil or rpm = = nil then\n                                break\n                            end\n                            torqueCurve:addKeyframe( { torque * torqueScale, time = rpm } )\n                            torqueI = torqueI + 1\n                        end\n\n                        spec.motor = VehicleMotor.new( self , motorMinRpm, motorMaxRpm, maxForwardSpeed, maxBackwardSpeed, torqueCurve, brakeForce, forwardGears, backwardGears, minForwardGearRatio, maxForwardGearRatio, minBackwardGearRatio, maxBackwardGearRatio, ptoMotorRpmRatio, minSpeed)\n                        spec.motor:setGearGroups(gearGroups, groupsType, groupChangeTime)\n                        spec.motor:setDirectionChange(directionChangeUseGear, directionChangeGearIndex, directionChangeUseGroup, directionChangeGroupIndex, directionChangeTime)\n                        spec.motor:setManualShift(manualShiftGears, manualShiftGroups)\n                        spec.motor:setStartGearThreshold(startGearThreshold)\n\n                        local rotInertia = ConfigurationUtil.getConfigurationValue(xmlFile, key, ".motor" , "#rotInertia" , spec.motor:getRotInertia(), fallbackConfigKey)\n                        local dampingRateScale = ConfigurationUtil.getConfigurationValue(xmlFile, key, ".motor" , "#dampingRateScale" , 1 , fallbackConfigKey)\n                        spec.motor:setRotInertia(rotInertia)\n                        spec.motor:setDampingRateScale(dampingRateScale)\n                        spec.motor:setLowBrakeForce(lowBrakeForceScale, lowBrakeForceSpeedLimit)\n                        spec.motor:setAccelerationLimit(accelerationLimit)\n\n                        local motorRotationAccelerationLimit = ConfigurationUtil.getConfigurationValue(xmlFile, key, ".motor" , "#rpmSpeedLimit" , nil , fallbackConfigKey) -- xml:rpm/s -> converted to rad/s^2\n                        if motorRotationAccelerationLimit ~ = nil then\n                            motorRotationAccelerationLimit = motorRotationAccelerationLimit * math.pi / 30\n                            spec.motor:setMotorRotationAccelerationLimit(motorRotationAccelerationLimit)\n                        end\n\n                        if gearChangeTime ~ = nil then\n                            spec.motor:setGearChangeTime(gearChangeTime)\n                        end\n                        if autoGearChangeTime ~ = nil then\n                            spec.motor:setAutoGearChangeTime(autoGearChangeTime)\n                        end\n                    end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"loadsounds",children:"loadSounds"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Load sounds from xml file"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"loadSounds(XMLFile xmlFile, )"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"XMLFile"}),(0,i.jsx)(n.th,{children:"xmlFile"}),(0,i.jsx)(n.th,{children:"XMLFile instance"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"baseString"}),(0,i.jsx)(n.td,{})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function Motorized:loadSounds(xmlFile, baseString)\n    if self.isClient then\n        local spec = self.spec_motorized\n\n        spec.samples = spec.samples or { }\n\n        spec.samples.motorStart = g_soundManager:loadSampleFromXML(xmlFile, baseString, "motorStart" , self.baseDirectory, self.components, 1 , AudioGroup.VEHICLE, self.i3dMappings, self ) or spec.samples.motorStart\n        spec.samples.motorStop = g_soundManager:loadSampleFromXML(xmlFile, baseString, "motorStop" , self.baseDirectory, self.components, 1 , AudioGroup.VEHICLE, self.i3dMappings, self ) or spec.samples.motorStop\n        spec.samples.clutchCracking = g_soundManager:loadSampleFromXML(xmlFile, baseString, "clutchCracking" , self.baseDirectory, self.components, 0 , AudioGroup.VEHICLE, self.i3dMappings, self ) or spec.samples.clutchCracking\n        spec.samples.gearEngaged = g_soundManager:loadSampleFromXML(xmlFile, baseString, "gearEngaged" , self.baseDirectory, self.components, 1 , AudioGroup.VEHICLE, self.i3dMappings, self ) or spec.samples.gearEngaged\n        spec.samples.gearDisengaged = g_soundManager:loadSampleFromXML(xmlFile, baseString, "gearDisengaged" , self.baseDirectory, self.components, 1 , AudioGroup.VEHICLE, self.i3dMappings, self ) or spec.samples.gearDisengaged\n        spec.samples.gearGroupChange = g_soundManager:loadSampleFromXML(xmlFile, baseString, "gearGroupChange" , self.baseDirectory, self.components, 1 , AudioGroup.VEHICLE, self.i3dMappings, self ) or spec.samples.gearGroupChange\n        spec.samples.gearLeverStart = g_soundManager:loadSampleFromXML(xmlFile, baseString, "gearLeverStart" , self.baseDirectory, self.components, 1 , AudioGroup.VEHICLE, self.i3dMappings, self ) or spec.samples.gearLeverStart\n        spec.samples.gearLeverEnd = g_soundManager:loadSampleFromXML(xmlFile, baseString, "gearLeverEnd" , self.baseDirectory, self.components, 1 , AudioGroup.VEHICLE, self.i3dMappings, self ) or spec.samples.gearLeverEnd\n        spec.samples.gearGroupLeverStart = g_soundManager:loadSampleFromXML(xmlFile, baseString, "gearGroupLeverStart" , self.baseDirectory, self.components, 1 , AudioGroup.VEHICLE, self.i3dMappings, self ) or spec.samples.gearGroupLeverStart\n        spec.samples.gearGroupLeverEnd = g_soundManager:loadSampleFromXML(xmlFile, baseString, "gearGroupLeverEnd" , self.baseDirectory, self.components, 1 , AudioGroup.VEHICLE, self.i3dMappings, self ) or spec.samples.gearGroupLeverEnd\n        spec.samples.gearRangeChange = g_soundManager:loadSampleFromXML(xmlFile, baseString, "gearRangeChange" , self.baseDirectory, self.components, 1 , AudioGroup.VEHICLE, self.i3dMappings, self ) or spec.samples.gearRangeChange\n        spec.samples.blowOffValve = g_soundManager:loadSampleFromXML(xmlFile, baseString, "blowOffValve" , self.baseDirectory, self.components, 1 , AudioGroup.VEHICLE, self.i3dMappings, self ) or spec.samples.blowOffValve\n        spec.samples.retarder = g_soundManager:loadSampleFromXML(xmlFile, baseString, "retarder" , self.baseDirectory, self.components, 0 , AudioGroup.VEHICLE, self.i3dMappings, self ) or spec.samples.retarder\n\n        spec.gearboxSamples = g_soundManager:loadSamplesFromXML(xmlFile, baseString, "gearbox" , self.baseDirectory, self.components, 0 , AudioGroup.VEHICLE, self.i3dMappings, self , spec.gearboxSamples)\n        spec.motorSamples = g_soundManager:loadSamplesFromXML(xmlFile, baseString, "motor" , self.baseDirectory, self.components, 0 , AudioGroup.VEHICLE, self.i3dMappings, self , spec.motorSamples)\n\n        spec.samples.airCompressorStart = g_soundManager:loadSampleFromXML(xmlFile, baseString, "airCompressorStart" , self.baseDirectory, self.components, 1 , AudioGroup.VEHICLE, self.i3dMappings, self ) or spec.samples.airCompressorStart\n        spec.samples.airCompressorStop = g_soundManager:loadSampleFromXML(xmlFile, baseString, "airCompressorStop" , self.baseDirectory, self.components, 1 , AudioGroup.VEHICLE, self.i3dMappings, self ) or spec.samples.airCompressorStop\n        spec.samples.airCompressorRun = g_soundManager:loadSampleFromXML(xmlFile, baseString, "airCompressorRun" , self.baseDirectory, self.components, 0 , AudioGroup.VEHICLE, self.i3dMappings, self ) or spec.samples.airCompressorRun\n\n        spec.samples.compressedAir = g_soundManager:loadSampleFromXML(xmlFile, baseString, "compressedAir" , self.baseDirectory, self.components, 1 , AudioGroup.VEHICLE, self.i3dMappings, self ) or spec.samples.compressedAir\n        if spec.samples.compressedAir ~ = nil then\n            spec.samples.compressedAir.brakeTime = 0\n            spec.samples.compressedAir.lastBrakeTime = 0\n        end\n\n        spec.samples.airRelease = g_soundManager:loadSampleFromXML(xmlFile, baseString, "airRelease" , self.baseDirectory, self.components, 1 , AudioGroup.VEHICLE, self.i3dMappings, self ) or spec.samples.airRelease\n\n        spec.samples.reverseDrive = g_soundManager:loadSampleFromXML(xmlFile, baseString, "reverseDrive" , self.baseDirectory, self.components, 0 , AudioGroup.VEHICLE, self.i3dMappings, self ) or spec.samples.reverseDrive\n        spec.reverseDriveThreshold = xmlFile:getValue( "vehicle.motorized.reverseDriveSound#threshold" , 4 )\n\n        spec.brakeCompressor = { }\n        spec.brakeCompressor.capacity = xmlFile:getValue( "vehicle.motorized.brakeCompressor#capacity" , 6 )\n        spec.brakeCompressor.refillFilllevel = math.min(spec.brakeCompressor.capacity, xmlFile:getValue( "vehicle.motorized.brakeCompressor#refillFillLevel" , spec.brakeCompressor.capacity / 2 ))\n        spec.brakeCompressor.fillSpeed = xmlFile:getValue( "vehicle.motorized.brakeCompressor#fillSpeed" , 0.6 ) / 1000\n        spec.brakeCompressor.fillLevel = 0\n        spec.brakeCompressor.doFill = true\n\n        spec.isBrakeSamplePlaying = false\n        spec.samples.brake = g_soundManager:loadSampleFromXML(xmlFile, baseString, "brake" , self.baseDirectory, self.components, 0 , AudioGroup.VEHICLE, self.i3dMappings, self ) or spec.samples.brake\n\n        spec.compressionSoundTime = 0\n    end\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"loadspecvaluefuel",children:"loadSpecValueFuel"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"loadSpecValueFuel()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"xmlFile"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"customEnvironment"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"baseDir"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function Motorized.loadSpecValueFuel(xmlFile, customEnvironment, baseDir)\n    local rootName = xmlFile:getRootName()\n\n    local fillUnits = { }\n\n    local i = 0\n    while true do\n        local configKey = string.format(rootName .. ".fillUnit.fillUnitConfigurations.fillUnitConfiguration(%d)" , i)\n        if not xmlFile:hasProperty(configKey) then\n            break\n        end\n\n        local configFillUnits = { }\n\n        local j = 0\n        while true do\n            local fillUnitKey = string.format(configKey .. ".fillUnits.fillUnit(%d)" , j)\n            if not xmlFile:hasProperty(fillUnitKey) then\n                break\n            end\n\n            local fillTypes = xmlFile:getValue(fillUnitKey .. "#fillTypes" )\n            local capacity = xmlFile:getValue(fillUnitKey .. "#capacity" )\n\n            table.insert(configFillUnits, { fillTypes = fillTypes, capacity = capacity } )\n            j = j + 1\n        end\n\n        table.insert(fillUnits, configFillUnits)\n\n        i = i + 1\n    end\n\n    local consumers = { }\n\n    i = 0\n    while true do\n        local key = string.format(rootName .. ".motorized.consumerConfigurations.consumerConfiguration(%d)" , i)\n        if not xmlFile:hasProperty(key) then\n            break\n        end\n\n        local consumer = { }\n\n        local j = 0\n        while true do\n            local consumerKey = string.format(key .. ".consumer(%d)" , j)\n            if not xmlFile:hasProperty(consumerKey) then\n                break\n            end\n\n            local fillType = xmlFile:getValue(consumerKey .. "#fillType" )\n            local fillUnitIndex = xmlFile:getValue(consumerKey .. "#fillUnitIndex" )\n            local capacity = xmlFile:getValue(consumerKey .. "#capacity" )\n\n            table.insert(consumer, { fillType = fillType, fillUnitIndex = fillUnitIndex, capacity = capacity } )\n\n            j = j + 1\n        end\n\n        table.insert(consumers, consumer)\n\n        i = i + 1\n    end\n\n    return { fillUnits = fillUnits, consumers = consumers }\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"loadspecvaluemaxspeed",children:"loadSpecValueMaxSpeed"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"loadSpecValueMaxSpeed()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"xmlFile"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"customEnvironment"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"baseDir"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function Motorized.loadSpecValueMaxSpeed(xmlFile, customEnvironment, baseDir)\n    local motorKey = nil\n    if xmlFile:hasProperty( "vehicle.motorized.motorConfigurations.motorConfiguration(0)" ) then\n        motorKey = "vehicle.motorized.motorConfigurations.motorConfiguration(0)"\n    elseif xmlFile:hasProperty( "vehicle.motor" ) then\n            motorKey = "vehicle"\n        end\n        if motorKey ~ = nil then\n            local maxRpm = xmlFile:getValue(motorKey .. ".motor#maxRpm" , 1800 )\n            local minForwardGearRatio = xmlFile:getValue(motorKey .. ".transmission#minForwardGearRatio" , nil )\n\n            local axleRatio = xmlFile:getValue(motorKey .. ".transmission#axleRatio" , 1.0 )\n            local forwardGears = Motorized.loadGears( nil , xmlFile, "forwardGear" , motorKey .. ".transmission" , maxRpm, axleRatio, 1 )\n\n            if minForwardGearRatio = = nil and forwardGears = = nil then\n                Logging.xmlWarning(xmlFile, "No gear ratios defined for transmission" )\n                end\n\n                local calculatedMaxSpeed = math.ceil( VehicleMotor.calculatePhysicalMaximumSpeed(minForwardGearRatio, forwardGears, maxRpm) * 3.6 )\n\n                local storeDataMaxSpeed = xmlFile:getValue( "vehicle.storeData.specs.maxSpeed" )\n                local maxSpeed = xmlFile:getValue( "vehicle.motorized.motorConfigurations.motorConfiguration(0)#maxSpeed" )\n                local maxForwardSpeed = xmlFile:getValue(motorKey .. ".motor#maxForwardSpeed" )\n\n                if storeDataMaxSpeed ~ = nil then\n                    return storeDataMaxSpeed\n                elseif maxSpeed ~ = nil then\n                        return maxSpeed\n                    elseif maxForwardSpeed ~ = nil then\n                            return math.min(maxForwardSpeed, calculatedMaxSpeed)\n                        else\n                                return calculatedMaxSpeed\n                            end\n                        end\n                        return nil\n                    end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"loadspecvaluepower",children:"loadSpecValuePower"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"loadSpecValuePower()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"xmlFile"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"customEnvironment"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"baseDir"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function Motorized.loadSpecValuePower(xmlFile, customEnvironment, baseDir)\n    return xmlFile:getValue( "vehicle.storeData.specs.power" )\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"loadspecvaluetransmission",children:"loadSpecValueTransmission"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"loadSpecValueTransmission()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"xmlFile"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"customEnvironment"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"baseDir"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function Motorized.loadSpecValueTransmission(xmlFile, customEnvironment, baseDir)\n    local nameByConfigIndex = { }\n    xmlFile:iterate( "vehicle.motorized.motorConfigurations.motorConfiguration" , function (index, key)\n        nameByConfigIndex[index] = xmlFile:getValue(key .. ".transmission#name" , nil , customEnvironment, false )\n        local param = xmlFile:getValue(key .. ".transmission#param" )\n        if param ~ = nil then\n            param = g_i18n:convertText(param, customEnvironment)\n            nameByConfigIndex[index] = string.format(nameByConfigIndex[index], param)\n        end\n    end )\n\n    return nameByConfigIndex\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"onaijobfinished",children:"onAIJobFinished"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onAIJobFinished()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"job"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized:onAIJobFinished(job)\n    -- only stop motor if no player is inside\n        if self.getIsControlled = = nil or not self:getIsControlled() then\n            self:stopMotor( true )\n        end\n\n        local spec = self.spec_motorized\n        if spec.motor ~ = nil then\n            spec.motor:setGearShiftMode(spec.gearShiftMode)\n        end\n    end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"onaijobstarted",children:"onAIJobStarted"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onAIJobStarted()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"job"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized:onAIJobStarted(job)\n    local spec = self.spec_motorized\n    self:startMotor( true )\n\n    if spec.motor ~ = nil then\n        spec.motor:setGearShiftMode( VehicleMotor.SHIFT_MODE_AUTOMATIC)\n    end\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"onclutchcreaking",children:"onClutchCreaking"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onClutchCreaking()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"isEvent"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"groupTransmission"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"gearIndex"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"groupIndex"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized:onClutchCreaking(isEvent, groupTransmission, gearIndex, groupIndex)\n    local spec = self.spec_motorized\n\n    if self:getIsActiveForInput( true ) then\n        if groupTransmission then\n            g_currentMission:showBlinkingWarning(spec.clutchCrackingGroupWarning, 2000 )\n        else\n                g_currentMission:showBlinkingWarning(spec.clutchCrackingGearWarning, 2000 )\n            end\n        end\n\n        if not g_soundManager:getIsSamplePlaying(spec.samples.clutchCracking) then\n            g_soundManager:playSample(spec.samples.clutchCracking)\n        end\n\n        if gearIndex ~ = nil then\n            self:setGearLeversState(gearIndex, nil , 500 , false )\n            spec.clutchCrackingGearIndex = gearIndex\n        end\n\n        if groupIndex ~ = nil then\n            self:setGearLeversState( nil , groupIndex, 500 , false )\n            spec.clutchCrackingGroupIndex = groupIndex\n        end\n\n        spec.clutchCrackingTimeOut = g_ time + (isEvent and 750 or 100 )\n\n        if g_server ~ = nil then\n            g_server:broadcastEvent( MotorClutchCreakingEvent.new( self , isEvent, groupTransmission, gearIndex, groupIndex), nil , nil , self )\n        end\n    end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"ondelete",children:"onDelete"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onDelete()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized:onDelete()\n    local spec = self.spec_motorized\n\n    if spec.motor ~ = nil then\n        spec.motor:delete()\n    end\n\n    if spec.sharedLoadRequestIds ~ = nil then\n        for _, sharedLoadRequestId in ipairs(spec.sharedLoadRequestIds) do\n            g_i3DManager:releaseSharedI3DFile(sharedLoadRequestId)\n        end\n        spec.sharedLoadRequestIds = nil\n    end\n\n    ParticleUtil.deleteParticleSystems(spec.exhaustParticleSystems)\n    g_soundManager:deleteSamples(spec.samples)\n    g_soundManager:deleteSamples(spec.motorSamples)\n    g_soundManager:deleteSamples(spec.gearboxSamples)\n    g_animationManager:deleteAnimations(spec.animationNodes)\n\n    if spec.effects ~ = nil then\n        g_effectManager:deleteEffects(spec.effects)\n    end\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"onexhausteffecti3dloaded",children:"onExhaustEffectI3DLoaded"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onExhaustEffectI3DLoaded()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"i3dNode"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"failedReason"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"args"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function Motorized:onExhaustEffectI3DLoaded(i3dNode, failedReason, args)\n    local spec = self.spec_motorized\n\n    if i3dNode ~ = 0 then\n        local node = getChildAt(i3dNode, 0 )\n        if getHasShaderParameter(node, "param" ) then\n            local xmlFile = args.xmlFile\n            local key = args.key\n            local effect = { }\n            effect.effectNode = node\n            effect.node = args.linkNode\n            effect.filename = args.filename\n            link(effect.node, effect.effectNode)\n            setVisibility(effect.effectNode, false )\n            delete(i3dNode)\n\n            effect.minRpmColor = xmlFile:getValue(key .. "#minRpmColor" , "0 0 0 1" , true )\n            effect.maxRpmColor = xmlFile:getValue(key .. "#maxRpmColor" , "0.0384 0.0359 0.0627 2.0" , true )\n            effect.minRpmScale = xmlFile:getValue(key .. "#minRpmScale" , 0.25 )\n            effect.maxRpmScale = xmlFile:getValue(key .. "#maxRpmScale" , 0.95 )\n\n            effect.upFactor = xmlFile:getValue(key .. "#upFactor" , 0.75 )\n\n            effect.lastPosition = nil\n\n            effect.xRot = 0\n            effect.zRot = 0\n\n            table.insert(spec.exhaustEffects, effect)\n        end\n    end\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"onfillunitfilllevelchanged",children:"onFillUnitFillLevelChanged"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onFillUnitFillLevelChanged()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"fillUnitIndex"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"fillLevelDelta"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"fillType"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"toolType"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"fillPositionData"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"appliedDelta"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized:onFillUnitFillLevelChanged(fillUnitIndex, fillLevelDelta, fillType, toolType, fillPositionData, appliedDelta)\n    -- refill def if diesel is refilled\n        if fillLevelDelta > 0 and fillType = = FillType.DIESEL then\n            local factor = self:getFillUnitFillLevel(fillUnitIndex) / self:getFillUnitCapacity(fillUnitIndex)\n            local defFillUnitIndex = self:getConsumerFillUnitIndex(FillType.DEF)\n            if defFillUnitIndex ~ = nil then\n                local delta = ( self:getFillUnitCapacity(defFillUnitIndex) * factor) - self:getFillUnitFillLevel(defFillUnitIndex)\n                self:addFillUnitFillLevel( self:getOwnerFarmId(), defFillUnitIndex, delta, FillType.DEF, ToolType.UNDEFINED, nil )\n            end\n        end\n    end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"ongearchanged",children:"onGearChanged"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onGearChanged()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"gear"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"targetGear"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"changeTime"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"previousGear"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function Motorized:onGearChanged(gear, targetGear, changeTime, previousGear)\n    self:setGearLeversState(targetGear, nil , changeTime)\n\n    local spec = self.spec_motorized\n    if self.isClient then\n        if gear = = 0 then\n            if not g_soundManager:getIsSamplePlaying(spec.samples.gearDisengaged) then\n                g_soundManager:playSample(spec.samples.gearDisengaged)\n            end\n        else\n                if not g_soundManager:getIsSamplePlaying(spec.samples.gearEngaged) then\n                    g_soundManager:playSample(spec.samples.gearEngaged)\n                end\n\n                if previousGear ~ = 0 and spec.motor.currentGears ~ = nil then\n                    local numGears = #spec.motor.currentGears\n                    local lowRangeMax = math.ceil(numGears * 0.5 )\n\n                    if (previousGear < = lowRangeMax and gear > lowRangeMax) or(gear < = lowRangeMax and previousGear > lowRangeMax) then\n                        if not g_soundManager:getIsSamplePlaying(spec.samples.gearRangeChange) then\n                            g_soundManager:playSample(spec.samples.gearRangeChange)\n                        end\n                    end\n                end\n            end\n        end\n\n        if self.isServer then\n            self:raiseDirtyFlags(spec.dirtyFlag)\n        end\n\n        if self.isClient then\n            if self.updateDashboardValueType ~ = nil then\n                self:updateDashboardValueType( "motorized.gear" )\n                self:updateDashboardValueType( "motorized.gearIndex" )\n            end\n        end\n    end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"ongeardirectionchanged",children:"onGearDirectionChanged"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onGearDirectionChanged()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"direction"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function Motorized:onGearDirectionChanged(direction)\n    if self.isServer then\n        self:raiseDirtyFlags( self.spec_motorized.dirtyFlag)\n    end\n\n    if self.isClient then\n        if self.updateDashboardValueType ~ = nil then\n            self:updateDashboardValueType( "motorized.gear" )\n            self:updateDashboardValueType( "motorized.gearIndex" )\n        end\n    end\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"ongeargroupchanged",children:"onGearGroupChanged"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onGearGroupChanged()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"targetGroup"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"changeTime"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function Motorized:onGearGroupChanged(targetGroup, changeTime)\n    self:setGearLeversState( nil , targetGroup, changeTime)\n\n    local spec = self.spec_motorized\n    if self.isClient then\n        if not g_soundManager:getIsSamplePlaying(spec.samples.gearGroupChange) then\n            g_soundManager:playSample(spec.samples.gearGroupChange)\n        end\n    end\n\n    if self.isServer then\n        self:raiseDirtyFlags(spec.dirtyFlag)\n    end\n\n    if self.isClient then\n        if self.updateDashboardValueType ~ = nil then\n            self:updateDashboardValueType( "motorized.gearGroup" )\n            self:updateDashboardValueType( "motorized.gearGroupIndex" )\n        end\n    end\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"onload",children:"onLoad"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Called on loading"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onLoad(table savegame)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"table"}),(0,i.jsx)(n.th,{children:"savegame"}),(0,i.jsx)(n.th,{children:"savegame"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function Motorized:onLoad(savegame)\n    local spec = self.spec_motorized\n\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.turnedOnRotationNodes.turnedOnRotationNode#type" , "vehicle.motor.animationNodes.animationNode" , "motor" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.differentialConfigurations" , "vehicle.motorized.differentialConfigurations" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.motorConfigurations" , "vehicle.motorized.motorConfigurations" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.maximalAirConsumptionPerFullStop" , "vehicle.motorized.consumerConfigurations.consumerConfiguration.consumer(with fill type \'air\')#usage(is now in usage per second at full brake power)" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.indoorHud.rpm" , "vehicle.motorized.dashboards.dashboard with valueType \'rpm\'" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.indoorHud.speed" , "vehicle.motorized.dashboards.dashboard with valueType \'speed\'" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.indoorHud.fuelUsage" , "vehicle.motorized.dashboards.dashboard with valueType \'fuelUsage\'" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.indoorHud.fuel" , "fillUnit.dashboard with valueType \'fillLevel\'" ) --FS17 to FS19\n\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.motor" , "vehicle.motorized.motorConfigurations.motorConfiguration(?).motor" ) --FS19 to FS22\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.transmission" , "vehicle.motorized.motorConfigurations.motorConfiguration(?).transmission" ) --FS19 to FS22\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.fuelCapacity" , "vehicle.motorized.consumerConfigurations.consumerConfiguration.consumer#capacity" ) --FS19 to FS22\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.motorized.motorConfigurations.motorConfiguration(?).fuelCapacity" , "vehicle.motorized.consumerConfigurations.consumerConfiguration.consumer#capacity" ) --FS19 to FS22\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle#consumerConfigurationIndex" , "vehicle.motorized.motorConfigurations.motorConfiguration(?)#consumerConfigurationIndex\'" ) --FS19 to FS22\n\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.motorized.exhaustParticleSystems#count" ) --FS19 to FS22\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.motorized.exhaustParticleSystems.exhaustParticleSystem1" , "vehicle.motorized.exhaustParticleSystems.exhaustParticleSystem" ) --FS19 to FS22\n\n    spec.motorizedNode = nil\n    for _, component in pairs( self.components) do\n        if component.motorized then\n            spec.motorizedNode = component.node\n            break\n        end\n    end\n\n    spec.directionChangeMode = VehicleMotor.DIRECTION_CHANGE_MODE_AUTOMATIC\n    spec.gearShiftMode = VehicleMotor.SHIFT_MODE_AUTOMATIC\n\n    local configKey = string.format( "vehicle.motorized.motorConfigurations.motorConfiguration(%d)" , self.configurations[ "motor" ] - 1 )\n\n    self:loadDifferentials( self.xmlFile, self.differentialIndex)\n    self:loadMotor( self.xmlFile, self.configurations[ "motor" ])\n\n    self:loadSounds( self.xmlFile, "vehicle.motorized.sounds" )\n    if self.xmlFile:hasProperty(configKey) then\n        self:loadSounds( self.xmlFile, configKey .. ".sounds" )\n    end\n\n    self:loadConsumerConfiguration( self.xmlFile, spec.consumerConfigurationIndex)\n\n    if self.isClient then\n        self:loadExhaustEffects( self.xmlFile)\n    end\n\n    spec.gearLevers = { }\n    spec.activeGearLeverInterpolators = { }\n    self.xmlFile:iterate( "vehicle.motorized.gearLevers.gearLever" , function (index, key)\n        local entry = { }\n        entry.node = self.xmlFile:getValue(key .. "#node" , nil , self.components, self.i3dMappings)\n        if entry.node ~ = nil then\n            entry.centerAxis = self.xmlFile:getValue(key .. "#centerAxis" )\n\n            entry.changeTime = self.xmlFile:getValue(key .. "#changeTime" , 500 )\n            entry.handsOnDelay = self.xmlFile:getValue(key .. "#handsOnDelay" , 0 )\n\n            entry.curTarget = { getRotation(entry.node) }\n\n            entry.states = { }\n            self.xmlFile:iterate(key .. ".state" , function (stateIndex, stateKey)\n                local state = { }\n\n                state.gear = self.xmlFile:getValue(stateKey .. "#gear" )\n                state.group = self.xmlFile:getValue(stateKey .. "#group" )\n\n                if state.gear ~ = nil or state.group ~ = nil then\n                    state.node = entry.node\n                    state.gearLever = entry\n\n                    local x, y, z = getRotation(entry.node)\n                    local xRot = self.xmlFile:getValue(stateKey .. "#xRot" , x)\n                    local yRot = self.xmlFile:getValue(stateKey .. "#yRot" , y)\n                    local zRot = self.xmlFile:getValue(stateKey .. "#zRot" , z)\n\n                    state.rotation = { xRot, yRot, zRot }\n                    state.useRotation = { self.xmlFile:getValue(stateKey .. "#xRot" ) ~ = nil ,\n                    self.xmlFile:getValue(stateKey .. "#yRot" ) ~ = nil ,\n                    self.xmlFile:getValue(stateKey .. "#zRot" ) ~ = nil }\n                    state.curRotation = { xRot, yRot, zRot }\n\n                    table.insert(entry.states, state)\n                else\n                        Logging.xmlWarning( self.xmlFile, "Unable to load gear lever state.Missing gear or group! \'%s\'" , stateKey)\n                    end\n                end )\n\n                table.insert(spec.gearLevers, entry)\n            else\n                    Logging.xmlWarning( self.xmlFile, "Unable to load gear lever.Missing node! \'%s\'" , key)\n                end\n            end )\n\n            spec.stopMotorOnLeave = true\n\n            spec.motorStartDuration = 0\n            if spec.samples ~ = nil and spec.samples.motorStart ~ = nil then\n                spec.motorStartDuration = spec.samples.motorStart.duration\n            end\n\n            if spec.motorSamples ~ = nil then\n                local maxDuration = 0\n                for _, sample in ipairs(spec.motorSamples) do\n                    maxDuration = math.max(maxDuration, g_soundManager:getSampleLoopSynthesisStartDuration(sample))\n                end\n                if maxDuration ~ = 0 then\n                    spec.motorStartDuration = maxDuration\n                end\n            end\n\n            --getSampleLoopSynthesisStartDuration\n            spec.motorStartDuration = self.xmlFile:getValue( "vehicle.motorized.motorStartDuration" , spec.motorStartDuration) or 0\n            if self.xmlFile:hasProperty(configKey) then\n                spec.motorStartDuration = self.xmlFile:getValue(configKey .. ".motorStartDuration" , spec.motorStartDuration)\n            end\n\n            spec.minBrakeForce = self.xmlFile:getValue( "vehicle.motorized.brakeForce#force" , 0 ) * 2\n            spec.maxBrakeForce = self.xmlFile:getValue( "vehicle.motorized.brakeForce#maxForce" , 0 ) * 2\n            spec.maxBrakeForceMass = self.xmlFile:getValue( "vehicle.motorized.brakeForce#maxForceMass" , 0 ) / 1000\n            spec.maxBrakeForceMassIncludeAttachables = self.xmlFile:getValue( "vehicle.motorized.brakeForce#includeAttachables" , false )\n\n            spec.clutchNoEngagedWarning = self.xmlFile:getValue( "vehicle.motorized#clutchNoEngagedWarning" , "warning_motorClutchNoEngaged" , self.customEnvironment)\n            spec.clutchCrackingGearWarning = self.xmlFile:getValue( "vehicle.motorized#clutchCrackingGearWarning" , "action_clutchCrackingGear" , self.customEnvironment)\n            spec.clutchCrackingGroupWarning = self.xmlFile:getValue( "vehicle.motorized#clutchCrackingGroupWarning" , "action_clutchCrackingGroup" , self.customEnvironment)\n\n            spec.turnOnText = self.xmlFile:getValue( "vehicle.motorized#turnOnText" , "action_startMotor" , self.customEnvironment)\n            spec.turnOffText = self.xmlFile:getValue( "vehicle.motorized#turnOffText" , "action_stopMotor" , self.customEnvironment)\n\n            spec.speedDisplayScale = 1\n            spec.motorStartTime = 0\n            spec.actualLoadPercentage = 0\n            spec.smoothedLoadPercentage = 0\n            spec.maxDecelerationDuringBrake = 0\n            spec.blowOffValveState = 0\n\n            spec.lastControlParameters = {\n            acceleratorPedal = nil ,\n            maxSpeed = nil ,\n            maxAcceleration = nil ,\n            minMotorRotSpeed = nil ,\n            maxMotorRotSpeed = nil ,\n            maxMotorRotAcceleration = nil ,\n            minGearRatio = nil ,\n            maxGearRatio = nil ,\n            maxClutchTorque = nil ,\n            neededPtoTorque = nil ,\n            }\n\n            spec.clutchCrackingTimeOut = math.huge\n            spec.clutchState = 0\n            spec.clutchStateSent = 0\n\n            spec.motorState = MotorState.OFF\n            spec.motorStopTimerDuration = g_gameSettings:getValue(GameSettings.SETTING.MOTOR_STOP_TIMER_DURATION)\n            spec.motorStopTimer = spec.motorStopTimerDuration\n            spec.motorNotRequiredTimer = 0\n            spec.motorStateIgnitionTime = 0\n\n            spec.motorTemperature = { }\n            spec.motorTemperature.value = 20\n            spec.motorTemperature.valueSend = 20\n            spec.motorTemperature.valueMax = 120\n            spec.motorTemperature.valueMin = 20\n            spec.motorTemperature.heatingPerMS = 1.5 / 1000 -- delta \xb0C per ms, at full load\n            spec.motorTemperature.coolingByWindPerMS = 1.00 / 1000\n\n            spec.motorFan = { }\n            spec.motorFan.enabled = false\n            spec.motorFan.enableTemperature = 95\n            spec.motorFan.disableTemperature = 85\n            spec.motorFan.coolingPerMS = 3.0 / 1000\n\n            spec.lastFuelUsage = 0\n            spec.lastFuelUsageDisplay = 0\n            spec.lastFuelUsageDisplayTime = 0\n            spec.fuelUsageBuffer = ValueBuffer.new( 250 )\n            spec.lastDefUsage = 0\n            spec.lastAirUsage = 0\n            spec.lastVehicleDamage = 0\n\n            spec.forceSpeedHudDisplay = self.xmlFile:getValue( "vehicle.motorized#forceSpeedHudDisplay" , false )\n            spec.forceRpmHudDisplay = self.xmlFile:getValue( "vehicle.motorized#forceRpmHudDisplay" , false )\n\n            spec.statsType = string.lower( self.xmlFile:getValue( "vehicle.motorized#statsType" , "tractor" ))\n            if spec.statsType ~ = "tractor" and spec.statsType ~ = "car" and spec.statsType ~ = "truck" then\n                spec.statsType = "tractor"\n            end\n\n            spec.statsTypeDistance = spec.statsType .. "Distance"\n\n            spec.animationNodes = g_animationManager:loadAnimations( self.xmlFile, "vehicle.motorized.animationNodes" , self.components, self , self.i3dMappings)\n\n            spec.traveledDistanceBuffer = 0\n\n            spec.dirtyFlag = self:getNextDirtyFlag()\n            spec.inputDirtyFlag = self:getNextDirtyFlag()\n\n            self:registerVehicleSetting(GameSettings.SETTING.DIRECTION_CHANGE_MODE, false )\n            self:registerVehicleSetting(GameSettings.SETTING.GEAR_SHIFT_MODE, false )\n        end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"onmotorblowoffvalvechanged",children:"onMotorBlowOffValveChanged"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onMotorBlowOffValveChanged()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"blowOffValveState"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized:onMotorBlowOffValveChanged(blowOffValveState)\n    local spec = self.spec_motorized\n\n    if blowOffValveState > 0 then\n        spec.blowOffValveState = blowOffValveState\n\n        if not g_soundManager:getIsSamplePlaying(spec.samples.blowOffValve) then\n            g_soundManager:playSample(spec.samples.blowOffValve)\n        end\n    else\n            if g_soundManager:getIsSamplePlaying(spec.samples.blowOffValve) then\n                g_soundManager:stopSample(spec.samples.blowOffValve)\n            end\n        end\n    end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"onpostload",children:"onPostLoad"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onPostLoad()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"savegame"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function Motorized:onPostLoad(savegame)\n    local spec = self.spec_motorized\n    if self.isServer then\n        -- refill the consumers\n        local moneyChange = 0\n        for _, consumer in pairs(spec.consumersByFillTypeName) do\n            local fillLevel = self:getFillUnitFillLevel(consumer.fillUnitIndex)\n            local minFillLevel = self:getFillUnitCapacity(consumer.fillUnitIndex) * 0.1\n            if fillLevel < minFillLevel then\n                local fillLevelToFill = minFillLevel - fillLevel\n                self:addFillUnitFillLevel( self:getOwnerFarmId(), consumer.fillUnitIndex, fillLevelToFill, consumer.fillType, ToolType.UNDEFINED)\n\n                local costs = fillLevelToFill * g_currentMission.economyManager:getCostPerLiter(consumer.fillType) * 2.0\n                g_farmManager:updateFarmStats( self:getOwnerFarmId(), "expenses" , costs)\n                g_currentMission:addMoney( - costs, self:getOwnerFarmId(), MoneyType.PURCHASE_FUEL, false , false )\n                moneyChange = moneyChange + costs\n            end\n        end\n\n        if moneyChange > 0 then\n            g_currentMission:addMoneyChange( - moneyChange, self:getOwnerFarmId(), MoneyType.PURCHASE_FUEL, true )\n        end\n    end\n\n    -- fill units required to be filled for the engine to run\n        spec.propellantFillUnitIndices = { }\n        for _, fillType in pairs( { FillType.DIESEL, FillType.DEF, FillType.ELECTRICCHARGE, FillType.METHANE } ) do\n            local fillTypeName = g_fillTypeManager:getFillTypeNameByIndex(fillType)\n            if spec.consumersByFillTypeName[fillTypeName] ~ = nil then\n                table.insert(spec.propellantFillUnitIndices, spec.consumersByFillTypeName[fillTypeName].fillUnitIndex)\n            end\n        end\n\n        if spec.motor ~ = nil then\n            spec.motor:postLoad(savegame)\n        end\n    end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"onreadstream",children:"onReadStream"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onReadStream()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"streamId"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"connection"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized:onReadStream(streamId, connection)\n    local motorState = MotorState.readStream(streamId)\n    self:setMotorState(motorState, true )\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"onreadupdatestream",children:"onReadUpdateStream"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onReadUpdateStream()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"streamId"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"timestamp"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"connection"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized:onReadUpdateStream(streamId, timestamp, connection)\n    local spec = self.spec_motorized\n    if connection.isServer then\n        if streamReadBool(streamId) then\n            local rpm = streamReadUIntN(streamId, 11 ) / 2047\n            local rpmRange = spec.motor:getMaxRpm() - spec.motor:getMinRpm()\n            spec.motor:setEqualizedMotorRpm( (rpm * rpmRange) + spec.motor:getMinRpm() )\n\n            local loadPercentage = streamReadUIntN(streamId, 7 )\n            spec.motor.rawLoadPercentage = loadPercentage / 127\n\n            spec.brakeCompressor.doFill = streamReadBool(streamId)\n\n            local clutchState = streamReadUIntN(streamId, 5 )\n            spec.motor:onManualClutchChanged(clutchState / 31 )\n        end\n\n        if streamReadBool(streamId) then\n            spec.motor:readGearDataFromStream(streamId)\n        end\n    else\n            if streamReadBool(streamId) then\n                if streamReadBool(streamId) then\n                    spec.clutchState = streamReadUIntN(streamId, 7 ) / 127\n\n                    spec.motor:onManualClutchChanged(spec.clutchState)\n\n                    if spec.clutchState > 0 then\n                        self:raiseActive()\n                    end\n                end\n            end\n        end\n    end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"onregisteractionevents",children:"onRegisterActionEvents"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onRegisterActionEvents()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"isActiveForInput"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"isActiveForInputIgnoreSelection"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized:onRegisterActionEvents(isActiveForInput, isActiveForInputIgnoreSelection)\n    if self.isClient then\n        local spec = self.spec_motorized\n        self:clearActionEventsTable(spec.actionEvents)\n\n        if isActiveForInputIgnoreSelection then\n            local _, actionEventId = self:addActionEvent(spec.actionEvents, InputAction.TOGGLE_MOTOR_STATE, self , Motorized.actionEventToggleMotorState, false , true , false , true , nil )\n            g_inputBinding:setActionEventTextPriority(actionEventId, GS_PRIO_VERY_HIGH)\n            g_inputBinding:setActionEventText(actionEventId, spec.turnOnText)\n\n            _, actionEventId = self:addActionEvent(spec.actionEvents, InputAction.MOTOR_STATE_IGNITION, self , Motorized.actionEventSetMotorStateIgnition, false , true , false , true , nil )\n            g_inputBinding:setActionEventTextVisibility(actionEventId, false )\n\n            _, actionEventId = self:addActionEvent(spec.actionEvents, InputAction.MOTOR_STATE_ON, self , Motorized.actionEventSetMotorStateOn, false , true , false , true , nil )\n            g_inputBinding:setActionEventTextVisibility(actionEventId, false )\n\n            _, actionEventId = self:addActionEvent(spec.actionEvents, InputAction.MOTOR_STATE_OFF, self , Motorized.actionEventSetMotorStateOff, false , true , false , true , nil )\n            g_inputBinding:setActionEventTextVisibility(actionEventId, false )\n\n            if spec.motor.minForwardGearRatio = = nil or spec.motor.minBackwardGearRatio = = nil then\n                if self:getGearShiftMode() ~ = VehicleMotor.SHIFT_MODE_AUTOMATIC or not GS_IS_CONSOLE_VERSION then\n                    if spec.motor.manualShiftGears then\n                        _, actionEventId = self:addActionEvent(spec.actionEvents, InputAction.SHIFT_GEAR_UP, self , Motorized.actionEventShiftGear, false , true , false , true , nil )\n                        g_inputBinding:setActionEventTextVisibility(actionEventId, false )\n                        _, actionEventId = self:addActionEvent(spec.actionEvents, InputAction.SHIFT_GEAR_DOWN, self , Motorized.actionEventShiftGear, false , true , false , true , nil )\n                        g_inputBinding:setActionEventTextVisibility(actionEventId, false )\n\n                        _, actionEventId = self:addActionEvent(spec.actionEvents, InputAction.SHIFT_GEAR_SELECT_ 1 , self , Motorized.actionEventSelectGear, true , true , false , true , 1 )\n                        g_inputBinding:setActionEventTextVisibility(actionEventId, false )\n                        _, actionEventId = self:addActionEvent(spec.actionEvents, InputAction.SHIFT_GEAR_SELECT_ 2 , self , Motorized.actionEventSelectGear, true , true , false , true , 2 )\n                        g_inputBinding:setActionEventTextVisibility(actionEventId, false )\n                        _, actionEventId = self:addActionEvent(spec.actionEvents, InputAction.SHIFT_GEAR_SELECT_ 3 , self , Motorized.actionEventSelectGear, true , true , false , true , 3 )\n                        g_inputBinding:setActionEventTextVisibility(actionEventId, false )\n                        _, actionEventId = self:addActionEvent(spec.actionEvents, InputAction.SHIFT_GEAR_SELECT_ 4 , self , Motorized.actionEventSelectGear, true , true , false , true , 4 )\n                        g_inputBinding:setActionEventTextVisibility(actionEventId, false )\n                        _, actionEventId = self:addActionEvent(spec.actionEvents, InputAction.SHIFT_GEAR_SELECT_ 5 , self , Motorized.actionEventSelectGear, true , true , false , true , 5 )\n                        g_inputBinding:setActionEventTextVisibility(actionEventId, false )\n                        _, actionEventId = self:addActionEvent(spec.actionEvents, InputAction.SHIFT_GEAR_SELECT_ 6 , self , Motorized.actionEventSelectGear, true , true , false , true , 6 )\n                        g_inputBinding:setActionEventTextVisibility(actionEventId, false )\n                        _, actionEventId = self:addActionEvent(spec.actionEvents, InputAction.SHIFT_GEAR_SELECT_ 7 , self , Motorized.actionEventSelectGear, true , true , false , true , 7 )\n                        g_inputBinding:setActionEventTextVisibility(actionEventId, false )\n                        _, actionEventId = self:addActionEvent(spec.actionEvents, InputAction.SHIFT_GEAR_SELECT_ 8 , self , Motorized.actionEventSelectGear, true , true , false , true , 8 )\n                        g_inputBinding:setActionEventTextVisibility(actionEventId, false )\n                    end\n\n                    if spec.motor.manualShiftGroups then\n                        if spec.motor.gearGroups ~ = nil then\n                            _, actionEventId = self:addActionEvent(spec.actionEvents, InputAction.SHIFT_GROUP_UP, self , Motorized.actionEventShiftGroup, false , true , false , true , nil )\n                            g_inputBinding:setActionEventTextVisibility(actionEventId, false )\n                            _, actionEventId = self:addActionEvent(spec.actionEvents, InputAction.SHIFT_GROUP_DOWN, self , Motorized.actionEventShiftGroup, false , true , false , true , nil )\n                            g_inputBinding:setActionEventTextVisibility(actionEventId, false )\n\n                            _, actionEventId = self:addActionEvent(spec.actionEvents, InputAction.SHIFT_GROUP_SELECT_ 1 , self , Motorized.actionEventSelectGroup, true , true , false , true , 1 )\n                            g_inputBinding:setActionEventTextVisibility(actionEventId, false )\n                            _, actionEventId = self:addActionEvent(spec.actionEvents, InputAction.SHIFT_GROUP_SELECT_ 2 , self , Motorized.actionEventSelectGroup, true , true , false , true , 2 )\n                            g_inputBinding:setActionEventTextVisibility(actionEventId, false )\n                            _, actionEventId = self:addActionEvent(spec.actionEvents, InputAction.SHIFT_GROUP_SELECT_ 3 , self , Motorized.actionEventSelectGroup, true , true , false , true , 3 )\n                            g_inputBinding:setActionEventTextVisibility(actionEventId, false )\n                            _, actionEventId = self:addActionEvent(spec.actionEvents, InputAction.SHIFT_GROUP_SELECT_ 4 , self , Motorized.actionEventSelectGroup, true , true , false , true , 4 )\n                            g_inputBinding:setActionEventTextVisibility(actionEventId, false )\n                        end\n                    end\n\n                    _, actionEventId = self:addActionEvent(spec.actionEvents, InputAction.AXIS_CLUTCH_VEHICLE, self , Motorized.actionEventClutch, false , false , true , true , nil )\n                    g_inputBinding:setActionEventTextVisibility(actionEventId, false )\n                end\n            end\n\n            if self:getDirectionChangeMode() = = VehicleMotor.DIRECTION_CHANGE_MODE_MANUAL or self:getGearShiftMode() ~ = VehicleMotor.SHIFT_MODE_AUTOMATIC then\n                _, actionEventId = self:addActionEvent(spec.actionEvents, InputAction.DIRECTION_CHANGE, self , Motorized.actionEventDirectionChange, false , true , false , true , nil , nil , true )\n                g_inputBinding:setActionEventTextVisibility(actionEventId, false )\n                _, actionEventId = self:addActionEvent(spec.actionEvents, InputAction.DIRECTION_CHANGE_POS, self , Motorized.actionEventDirectionChange, false , true , false , true , nil , nil , true )\n                g_inputBinding:setActionEventTextVisibility(actionEventId, false )\n                _, actionEventId = self:addActionEvent(spec.actionEvents, InputAction.DIRECTION_CHANGE_NEG, self , Motorized.actionEventDirectionChange, false , true , false , true , nil , nil , true )\n                g_inputBinding:setActionEventTextVisibility(actionEventId, false )\n            end\n\n            Motorized.updateActionEvents( self )\n        end\n    end\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"onregisterdashboardvaluetypes",children:"onRegisterDashboardValueTypes"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Called on post load to register dashboard value types"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onRegisterDashboardValueTypes()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function Motorized:onRegisterDashboardValueTypes()\n    local spec = self.spec_motorized\n\n    local rpm = DashboardValueType.new( "motorized" , "rpm" )\n    rpm:setValue( self , "getMotorRpmReal" )\n    rpm:setRange( 0 , spec.motor:getMaxRpm())\n    rpm:setInterpolationSpeed( function (_, dashboard)\n        return spec.motor:getMaxRpm() * 0.001\n    end )\n    self:registerDashboardValueType(rpm)\n\n    local load = DashboardValueType.new( "motorized" , "load" )\n    load:setValue(spec.motor, "getSmoothLoadPercentage" )\n    load:setRange( 0 , 100 )\n    load:setInterpolationSpeed( 100 * 0.001 )\n    load:setValueFactor( 100 )\n    self:registerDashboardValueType(load)\n\n    local speed = DashboardValueType.new( "motorized" , "speed" )\n    speed:setValue( self , "getLastSpeed" )\n    speed:setRange( 0 , spec.motor:getMaximumForwardSpeed() * 3.6 )\n    speed:setInterpolationSpeed( function (_, dashboard)\n        return self:getLastSpeed() * 0.001\n    end )\n    self:registerDashboardValueType(speed)\n\n    local speedDir = DashboardValueType.new( "motorized" , "speedDir" )\n    speedDir:setValue( self , function () return self:getLastSpeed() * spec.motor:getDrivingDirection() end )\n    speedDir:setRange( - spec.motor:getMaximumBackwardSpeed() * 3.6 , spec.motor:getMaximumForwardSpeed() * 3.6 )\n    speedDir:setInterpolationSpeed( function (_, dashboard)\n        return spec.motor:getMaximumForwardSpeed() * 3.6 * 0.001\n    end )\n    speedDir:setCenter( 0 )\n    self:registerDashboardValueType(speedDir)\n\n    local fuelUsage = DashboardValueType.new( "motorized" , "fuelUsage" )\n    fuelUsage:setValue(spec, "lastFuelUsageDisplay" )\n    self:registerDashboardValueType(fuelUsage)\n\n    local motorTemperature = DashboardValueType.new( "motorized" , "motorTemperature" )\n    motorTemperature:setValue(spec.motorTemperature, "value" )\n    motorTemperature:setRange( "valueMin" , "valueMax" )\n    motorTemperature:setInterpolationSpeed( function (motorTemperature, dashboard)\n        return(motorTemperature.valueMax - motorTemperature.valueMin) * 0.001\n    end )\n    self:registerDashboardValueType(motorTemperature)\n\n    local motorTemperatureWarning = DashboardValueType.new( "motorized" , "motorTemperatureWarning" )\n    motorTemperatureWarning:setValue(spec.motorTemperature, function (_, dashboard)\n        local motorTemperature = spec.motorTemperature.value\n        return motorTemperature > dashboard.warningThresholdMin and motorTemperature < dashboard.warningThresholdMax\n    end )\n    motorTemperatureWarning:setAdditionalFunctions( Dashboard.warningAttributes)\n    self:registerDashboardValueType(motorTemperatureWarning)\n\n    local clutchPedal = DashboardValueType.new( "motorized" , "clutchPedal" )\n    clutchPedal:setValue(spec.motor, "getSmoothedClutchPedal" )\n    clutchPedal:setRange( 0 , 1 )\n    self:registerDashboardValueType(clutchPedal)\n\n    local gear = DashboardValueType.new( "motorized" , "gear" )\n    gear:setValue(spec.motor, function ()\n        return spec.motor:getGearToDisplay( true )\n    end )\n    gear:setRange( 0 , math.huge)\n    gear:setPollUpdate(spec.motor.forwardGears = = nil ) -- only poll if we have no gears(CVT D/N/R)\n        self:registerDashboardValueType(gear)\n\n        local gearGroup = DashboardValueType.new( "motorized" , "gearGroup" )\n        gearGroup:setValue(spec.motor, function ()\n            return spec.motor:getGearGroupToDisplay( true )\n        end )\n        gearGroup:setRange( 0 , math.huge)\n        gearGroup:setPollUpdate( false )\n        self:registerDashboardValueType(gearGroup)\n\n        local gearIndex = DashboardValueType.new( "motorized" , "gearIndex" )\n        gearIndex:setValue(spec.motor, function ()\n            return spec.motor.targetGear\n        end )\n        gearIndex:setRange( 0 , math.huge)\n        gearIndex:setPollUpdate( false )\n        self:registerDashboardValueType(gearIndex)\n\n        local gearGroupIndex = DashboardValueType.new( "motorized" , "gearGroupIndex" )\n        gearGroupIndex:setValue(spec.motor, function ()\n            return spec.motor.activeGearGroupIndex\n        end )\n        gearGroupIndex:setRange( 0 , math.huge)\n        gearGroupIndex:setPollUpdate( false )\n        self:registerDashboardValueType(gearGroupIndex)\n\n        local gearShiftUp = DashboardValueType.new( "motorized" , "gearShiftUp" )\n        gearShiftUp:setValue(spec.motor, function (motor)\n            return(g_ time - motor.lastGearChangeTime) < 200 and motor.targetGear > motor.previousGear\n        end )\n        self:registerDashboardValueType(gearShiftUp)\n\n        local gearShiftDown = DashboardValueType.new( "motorized" , "gearShiftDown" )\n        gearShiftDown:setValue(spec.motor, function (motor)\n            return(g_ time - motor.lastGearChangeTime) < 200 and motor.targetGear < motor.previousGear\n        end )\n        self:registerDashboardValueType(gearShiftDown)\n\n        local gearShiftUpDown = DashboardValueType.new( "motorized" , "gearShiftUpDown" )\n        gearShiftUpDown:setValue(spec.motor, function (motor)\n            if (g_ time - motor.lastGearChangeTime) < 200 then\n                return math.sign(motor.targetGear - motor.previousGear)\n            end\n\n            return 0\n        end )\n        gearShiftUpDown:setRange( - 1 , 1 )\n        self:registerDashboardValueType(gearShiftUpDown)\n\n        local movingDirection = DashboardValueType.new( "motorized" , "movingDirection" )\n        movingDirection:setValue(spec.motor, "getDrivingDirection" )\n        movingDirection:setRange( - 1 , 1 )\n        self:registerDashboardValueType(movingDirection)\n\n        local directionForward = DashboardValueType.new( "motorized" , "directionForward" )\n        directionForward:setValue(spec.motor, function (motor) return motor:getDrivingDirection() > = 0 end )\n        self:registerDashboardValueType(directionForward)\n\n        local directionForwardExclusive = DashboardValueType.new( "motorized" , "directionForwardExclusive" )\n        directionForwardExclusive:setValue(spec.motor, function (motor) return motor:getDrivingDirection() > 0 end )\n        self:registerDashboardValueType(directionForwardExclusive)\n\n        local directionBackward = DashboardValueType.new( "motorized" , "directionBackward" )\n        directionBackward:setValue(spec.motor, function (motor) return motor:getDrivingDirection() < 0 end )\n        self:registerDashboardValueType(directionBackward)\n\n        local directionNeutral = DashboardValueType.new( "motorized" , "directionNeutral" )\n        directionNeutral:setValue(spec.motor, function (motor) return motor:getDrivingDirection() = = 0 end )\n        self:registerDashboardValueType(directionNeutral)\n\n        local movingDirectionLetter = DashboardValueType.new( "motorized" , "movingDirectionLetter" )\n        movingDirectionLetter:setValue(spec.motor, function (motor) return motor:getDrivingDirection() = = 1 and "F" or(motor:getDrivingDirection() = = - 1 and "R" or "N" ) end )\n        self:registerDashboardValueType(movingDirectionLetter)\n\n        local ignitionState = DashboardValueType.new( "motorized" , "ignitionState" )\n        ignitionState:setValue( self , function ()\n            if g_ignitionLockManager:getIsAvailable() then\n                local ignitionState = g_ignitionLockManager:getState()\n                if ignitionState = = IgnitionLockState.OFF then\n                    return 0\n                elseif ignitionState = = IgnitionLockState.IGNITION then\n                        return 2\n                    elseif ignitionState = = IgnitionLockState.START then\n                            return 1\n                        end\n                    else\n                            local motorState = self:getMotorState()\n                            if motorState = = MotorState.ON then\n                                return 2\n                            elseif motorState = = MotorState.STARTING then\n                                    return 1\n                                else\n                                        return 0\n                                    end\n                                end\n                            end )\n                            ignitionState:setRange( 0 , 2 )\n                            self:registerDashboardValueType(ignitionState)\n\n                            local battery = DashboardValueType.new( "motorized" , "battery" )\n                            battery:setValue( self , 12 + ( math.random() * 0.5 - 0.15 ))\n                            battery:setRange( 0 , 15 )\n                            battery:setInterpolationSpeed( 15 * 0.001 )\n                            self:registerDashboardValueType(battery)\n                        end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"onreversedirectionchanged",children:"onReverseDirectionChanged"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onReverseDirectionChanged()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized:onReverseDirectionChanged()\n    if self:getDirectionChangeMode() = = VehicleMotor.DIRECTION_CHANGE_MODE_MANUAL then\n        MotorGearShiftEvent.sendToServer( self , MotorGearShiftEvent.TYPE_DIRECTION_CHANGE)\n    end\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"onsetbroken",children:"onSetBroken"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onSetBroken()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized:onSetBroken()\n    self:stopMotor( true )\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"onstatechange",children:"onStateChange"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onStateChange()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"state"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"vehicle"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"isControlling"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized:onStateChange(state, vehicle, isControlling)\n    local missionInfo = g_currentMission.missionInfo\n    if state = = VehicleStateChange.ENTER_VEHICLE then\n        if missionInfo.automaticMotorStartEnabled then\n            if not g_ignitionLockManager:getIsAvailable() then\n                if self:getCanMotorRun() then\n                    self:startMotor( true )\n                end\n            end\n        end\n    elseif state = = VehicleStateChange.LEAVE_VEHICLE then\n            if self:getStopMotorOnLeave() and missionInfo.automaticMotorStartEnabled then\n                self:stopMotor( true )\n            end\n\n            self:stopVehicle()\n        end\n    end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"onupdate",children:"onUpdate"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Called on update"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onUpdate(float dt, boolean isActiveForInput, boolean isSelected, )"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"float"}),(0,i.jsx)(n.th,{children:"dt"}),(0,i.jsx)(n.th,{children:"time since last call in ms"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"boolean"}),(0,i.jsx)(n.td,{children:"isActiveForInput"}),(0,i.jsx)(n.td,{children:"true if vehicle is active for input"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"boolean"}),(0,i.jsx)(n.td,{children:"isSelected"}),(0,i.jsx)(n.td,{children:"true if vehicle is selected"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"isSelected"}),(0,i.jsx)(n.td,{})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function Motorized:onUpdate(dt, isActiveForInput, isActiveForInputIgnoreSelection, isSelected)\n    local spec = self.spec_motorized\n\n    local accInput = 0\n    if self.getAxisForward ~ = nil then\n        accInput = self:getAxisForward()\n    end\n\n    local motorState = self:getMotorState()\n    if motorState = = MotorState.STARTING or motorState = = MotorState.ON then\n        if self.isServer then\n            if motorState = = MotorState.STARTING then\n                if spec.motorStartTime < g_currentMission.time then\n                    self:setMotorState(MotorState.ON)\n                end\n            end\n        end\n\n        --#profile RemoteProfiler.zoneBeginN("updateMotor")\n        spec.motor:update(dt)\n        --#profile RemoteProfiler.zoneEnd()\n\n        -- client receives this information from server\n        if self.isServer then\n            spec.actualLoadPercentage = math.clamp(spec.motor.rawLoadPercentage, 0 , 1 )\n        end\n\n        spec.smoothedLoadPercentage = spec.motor:getSmoothLoadPercentage()\n\n        if self.getCruiseControlState ~ = nil then\n            if self:getCruiseControlState() ~ = Drivable.CRUISECONTROL_STATE_OFF then\n                accInput = 1\n            end\n        end\n\n        if self.isServer then\n            --#profile RemoteProfiler.zoneBeginN("updateConsumers")\n            self:updateConsumers(dt, accInput)\n            --#profile RemoteProfiler.zoneEnd()\n\n            -- update motor properties on damage change to update the torque reduction\n            local damage = self:getVehicleDamage()\n            if math.abs(damage - spec.lastVehicleDamage) > 0.05 then\n                self:updateMotorProperties()\n                spec.lastVehicleDamage = self:getVehicleDamage()\n            end\n        end\n\n        if self.isClient then\n            --#profile RemoteProfiler.zoneBeginN("updateLoopSynthesisParameters")\n            -- update sounds\n            local samples = spec.samples\n            local rpm, minRpm, maxRpm = self:getMotorRpmReal(), spec.motor.minRpm, spec.motor.maxRpm\n            local rpmPercentage = math.max( math.min((rpm - minRpm) / (maxRpm - minRpm), 1 ), 0 )\n            local loadPercentage = math.max( math.min( self:getMotorLoadPercentage(), 1 ), - 1 )\n            g_soundManager:setSamplesLoopSynthesisParameters(spec.motorSamples, rpmPercentage, loadPercentage)\n            --#profile RemoteProfiler.zoneEnd()\n\n            --#profile RemoteProfiler.zoneBeginN("updateSounds")\n            if g_soundManager:getIsSamplePlaying(spec.motorSamples[ 1 ]) then\n                -- air compressor fill sound\n                if samples.airCompressorRun ~ = nil then\n                    if spec.consumersByFillTypeName ~ = nil and spec.consumersByFillTypeName[ "AIR" ] ~ = nil then\n                        local consumer = spec.consumersByFillTypeName[ "AIR" ]\n\n                        if not consumer.doRefill then\n                            if g_soundManager:getIsSamplePlaying(samples.airCompressorRun) then\n                                g_soundManager:stopSample(samples.airCompressorRun)\n                                g_soundManager:playSample(samples.airCompressorStop)\n                            end\n                        else\n                                if not g_soundManager:getIsSamplePlaying(samples.airCompressorRun) then\n                                    if samples.airCompressorStart ~ = nil then\n                                        if not g_soundManager:getIsSamplePlaying(samples.airCompressorStart) and spec.brakeCompressor.playSampleRunTime = = nil then\n                                            g_soundManager:playSample(samples.airCompressorStart)\n                                            spec.brakeCompressor.playSampleRunTime = g_currentMission.time + samples.airCompressorStart.duration\n                                        end\n                                        if not g_soundManager:getIsSamplePlaying(samples.airCompressorStart) then\n                                            spec.brakeCompressor.playSampleRunTime = nil\n                                            g_soundManager:stopSample(samples.airCompressorStart)\n                                            g_soundManager:playSample(samples.airCompressorRun)\n                                        end\n                                    else\n                                            g_soundManager:playSample(samples.airCompressorRun)\n                                        end\n                                    end\n                                end\n                            end\n                        end\n\n                        -- random zsch sound\n                        if spec.compressionSoundTime < = g_currentMission.time then\n                            g_soundManager:playSample(samples.airRelease)\n                            spec.compressionSoundTime = g_currentMission.time + math.random( 10000 , 40000 )\n                        end\n\n                        local isBraking = self:getDecelerationAxis() > 0 and self:getLastSpeed() > 1\n\n                        -- brake zsch sound\n                        if samples.compressedAir ~ = nil then\n                            if isBraking then\n                                samples.compressedAir.brakeTime = samples.compressedAir.brakeTime + dt\n                            else\n                                    if samples.compressedAir.brakeTime > 0 then\n                                        samples.compressedAir.lastBrakeTime = samples.compressedAir.brakeTime\n                                        samples.compressedAir.brakeTime = 0\n\n                                        g_soundManager:playSample(samples.compressedAir)\n                                    end\n                                end\n                            end\n\n                            --brake sound\n                            if samples.brake ~ = nil then\n                                if isBraking then\n                                    if not spec.isBrakeSamplePlaying then\n                                        g_soundManager:playSample(samples.brake)\n                                        spec.isBrakeSamplePlaying = true\n                                    end\n                                else\n                                        if spec.isBrakeSamplePlaying then\n                                            g_soundManager:stopSample(samples.brake)\n                                            spec.isBrakeSamplePlaying = false\n                                        end\n                                    end\n                                end\n\n                                -- reverse driving beep\n                                if samples.reverseDrive ~ = nil then\n                                    local reverserDirection = self.getReverserDirection = = nil and 1 or self:getReverserDirection()\n                                    local isReverseDriving = self:getLastSpeed() > spec.reverseDriveThreshold and self.movingDirection ~ = reverserDirection\n                                    if not g_soundManager:getIsSamplePlaying(samples.reverseDrive) and isReverseDriving then\n                                        g_soundManager:playSample(samples.reverseDrive)\n                                    elseif not isReverseDriving then\n                                            g_soundManager:stopSample(samples.reverseDrive)\n                                        end\n                                    end\n                                end\n                                --#profile RemoteProfiler.zoneEnd()\n\n                                --#profile RemoteProfiler.zoneBeginN("updateLevers")\n                                for state, gearLeverInterpolator in pairs(spec.activeGearLeverInterpolators) do\n                                    local currentInterpolation = gearLeverInterpolator.interpolations[gearLeverInterpolator.currentInterpolation]\n                                    if currentInterpolation ~ = nil then\n                                        if gearLeverInterpolator.handsOnDelay > 0 then\n                                            gearLeverInterpolator.handsOnDelay = gearLeverInterpolator.handsOnDelay - dt\n\n                                            if gearLeverInterpolator.handsOnDelay < = 0 then\n                                                local sample = gearLeverInterpolator.isGear and spec.samples.gearLeverStart or spec.samples.gearGroupLeverStart\n                                                if not g_soundManager:getIsSamplePlaying(sample) then\n                                                    g_soundManager:playSample(sample)\n                                                end\n                                            end\n\n                                            if self.setCharacterTargetNodeStateDirty ~ = nil then\n                                                self:setCharacterTargetNodeStateDirty(state.node, true )\n                                            end\n                                        else\n                                                state.curRotation[ 1 ], state.curRotation[ 2 ], state.curRotation[ 3 ] = getRotation(state.node)\n                                                local limit = math.min\n                                                if currentInterpolation.speed < 0 then\n                                                    limit = math.max\n                                                end\n\n                                                state.curRotation[currentInterpolation.axis] = limit(state.curRotation[currentInterpolation.axis] + currentInterpolation.speed * dt, currentInterpolation.tar)\n                                                setRotation(state.node, state.curRotation[ 1 ], state.curRotation[ 2 ], state.curRotation[ 3 ])\n\n                                                if state.curRotation[currentInterpolation.axis] = = currentInterpolation.tar then\n                                                    gearLeverInterpolator.currentInterpolation = gearLeverInterpolator.currentInterpolation + 1\n                                                    if gearLeverInterpolator.currentInterpolation > #gearLeverInterpolator.interpolations then\n                                                        spec.activeGearLeverInterpolators[state] = nil\n\n                                                        if gearLeverInterpolator.isResetPosition then\n                                                            if self.resetCharacterTargetNodeStateDefaults ~ = nil then\n                                                                self:resetCharacterTargetNodeStateDefaults(state.node)\n                                                            end\n                                                        end\n\n                                                        local sample = gearLeverInterpolator.isGear and spec.samples.gearLeverEnd or spec.samples.gearGroupLeverEnd\n                                                        if not g_soundManager:getIsSamplePlaying(sample) then\n                                                            g_soundManager:playSample(sample)\n                                                        end\n                                                    end\n                                                end\n\n                                                if self.setCharacterTargetNodeStateDirty ~ = nil then\n                                                    self:setCharacterTargetNodeStateDirty(state.node)\n                                                end\n                                            end\n                                        else\n                                                spec.activeGearLeverInterpolators[state] = nil\n                                            end\n                                        end\n                                        --#profile RemoteProfiler.zoneEnd()\n                                    end\n\n                                    if self.isServer then\n                                        if not self:getIsAIActive() and self:getTraveledDistanceStatsActive() then\n                                            if self.lastMovedDistance > 0.001 then\n                                                spec.traveledDistanceBuffer = spec.traveledDistanceBuffer + self.lastMovedDistance\n                                                if spec.traveledDistanceBuffer > 10 then\n                                                    local farmId = self:getOwnerFarmId()\n                                                    local distance = spec.traveledDistanceBuffer * 0.001\n                                                    g_farmManager:updateFarmStats(farmId, "traveledDistance" , distance)\n                                                    g_farmManager:updateFarmStats(farmId, spec.statsTypeDistance, distance)\n                                                    spec.traveledDistanceBuffer = 0\n                                                end\n                                            end\n                                        end\n                                    end\n                                end\n                            end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"onupdatetick",children:"onUpdateTick"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Called on update tick"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onUpdateTick(float dt, boolean isActiveForInput, boolean isSelected, )"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"float"}),(0,i.jsx)(n.th,{children:"dt"}),(0,i.jsx)(n.th,{children:"time since last call in ms"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"boolean"}),(0,i.jsx)(n.td,{children:"isActiveForInput"}),(0,i.jsx)(n.td,{children:"true if vehicle is active for input"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"boolean"}),(0,i.jsx)(n.td,{children:"isSelected"}),(0,i.jsx)(n.td,{children:"true if vehicle is selected"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"isSelected"}),(0,i.jsx)(n.td,{})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function Motorized:onUpdateTick(dt, isActiveForInput, isActiveForInputIgnoreSelection, isSelected)\n    local spec = self.spec_motorized\n\n    local missionInfo = g_currentMission.missionInfo\n    local automaticMotorStartEnabled = missionInfo.automaticMotorStartEnabled\n\n    if self.isServer then\n        -- force stop of motor if player is far away from vehicle for a certain amount of time\n            if not automaticMotorStartEnabled then\n                local motorState = self:getMotorState()\n                if (motorState = = MotorState.STARTING or motorState = = MotorState.ON) and not self:getIsAIActive() then\n\n                    local isEntered = self.getIsEntered ~ = nil and self:getIsEntered()\n                    local isControlled = self.getIsControlled ~ = nil and self:getIsControlled()\n\n                    if not isEntered and not isControlled then\n\n                        local isPlayerInRange = false\n\n                        for _, player in pairs(g_currentMission.playerSystem.players) do\n                            if player.isControlled then\n                                local distance = calcDistanceFrom( self.rootNode, player.rootNode)\n                                if distance < 250 then\n                                    isPlayerInRange = true\n                                    break\n                                end\n                            end\n                        end\n                        if not isPlayerInRange then\n                            for _, enterable in pairs(g_currentMission.vehicleSystem.enterables) do\n                                if enterable:getIsInUse( nil ) then\n                                    local distance = calcDistanceFrom( self.rootNode, enterable.rootNode)\n                                    if distance < 250 then\n                                        isPlayerInRange = true\n                                        break\n                                    end\n                                end\n                            end\n                        end\n\n                        if isPlayerInRange then\n                            spec.motorStopTimer = spec.motorStopTimerDuration\n                        else\n                                spec.motorStopTimer = spec.motorStopTimer - dt\n                                if spec.motorStopTimer < = 0 then\n                                    self:stopMotor()\n                                end\n                            end\n\n                        end\n                    end\n                end\n\n                local motorState = self:getMotorState()\n                if motorState = = MotorState.STARTING or motorState = = MotorState.ON then\n                    self:updateMotorTemperature(dt)\n                end\n\n                if automaticMotorStartEnabled then\n                    if motorState = = MotorState.OFF or motorState = = MotorState.IGNITION then\n                        -- while the ignition lock is connected it is required to be used for turn on\n                            if not g_ignitionLockManager:getIsAvailable() then\n                                --start motor if fuel was empty and got filled\n                                    --also starts the motor again when we toggle the automatic motor start option\n                                    if ( self.getIsControlled ~ = nil and self:getIsControlled())\n                                        or( self.getIsEnteredForInput ~ = nil and self:getIsEnteredForInput()) then\n                                        if self:getCanMotorRun() then\n                                            self:startMotor( true )\n                                        end\n                                    end\n\n                                    -- start the motor when power is required but no one is entered\n                                    if self:getRequiresPower() then\n                                        if self:getCanMotorRun() then\n                                            self:startMotor( true )\n                                        end\n                                    end\n                                end\n                            else\n                                    if ( self.getIsControlled ~ = nil and not self:getIsControlled())\n                                        and( self.getIsEnteredForInput ~ = nil and not self:getIsEnteredForInput()) then\n                                        -- turn motor off again if it\'s not required to keep it running\n                                            if self:getStopMotorOnLeave() then\n                                                spec.motorNotRequiredTimer = spec.motorNotRequiredTimer + dt\n                                                if spec.motorNotRequiredTimer > 250 then\n                                                    self:stopMotor( true )\n                                                end\n                                            end\n\n                                            -- keep vehicle active as long as to motor is running\n                                            -- so we can turn it off while it\'s not required anymore\n                                                self:raiseActive()\n                                            end\n                                        end\n                                    end\n                                end\n\n                                if self.isClient then\n                                    local motorState = self:getMotorState()\n                                    if motorState = = MotorState.STARTING or motorState = = MotorState.ON then\n                                        local rpmScale = self:getMotorRpmReal() / spec.motor:getMaxRpm()\n\n                                        if spec.exhaustParticleSystems ~ = nil then\n                                            for _, ps in pairs(spec.exhaustParticleSystems) do\n                                                local scale = MathUtil.lerp(spec.exhaustParticleSystems.minScale, spec.exhaustParticleSystems.maxScale, rpmScale)\n                                                ParticleUtil.setEmitCountScale(spec.exhaustParticleSystems, scale)\n                                                ParticleUtil.setParticleLifespan(ps, ps.originalLifespan * scale)\n                                            end\n                                        end\n\n                                        for _, exhaustFlap in ipairs(spec.exhaustFlaps) do\n                                            local minRandom = - 0.1\n                                            local maxRandom = 0.1\n                                            local state = math.clamp( MathUtil.lerp(minRandom, maxRandom, math.random()) + rpmScale, 0 , 1 )\n                                            local angle = state * exhaustFlap.maxRot\n\n                                            if exhaustFlap.rotationAxis = = 1 then\n                                                setRotation(exhaustFlap.node, angle, 0 , 0 )\n                                            elseif exhaustFlap.rotationAxis = = 2 then\n                                                    setRotation(exhaustFlap.node, 0 , angle, 0 )\n                                                else\n                                                        setRotation(exhaustFlap.node, 0 , 0 , angle)\n                                                    end\n                                                end\n\n                                                if spec.effects ~ = nil then\n                                                    g_effectManager:setDensity(spec.effects, rpmScale)\n                                                end\n\n                                                if spec.exhaustEffects ~ = nil then\n                                                    for _, effect in pairs(spec.exhaustEffects) do\n                                                        local posX, posY, posZ = localToWorld(effect.effectNode, 0 , 0.5 , 0 )\n                                                        if effect.lastPosition = = nil then\n                                                            effect.lastPosition = { posX, posY, posZ }\n                                                        end\n\n                                                        local vx = (posX - effect.lastPosition[ 1 ]) * 10\n                                                        local vy = (posY - effect.lastPosition[ 2 ]) * 10\n                                                        local vz = (posZ - effect.lastPosition[ 3 ]) * 10\n\n                                                        local ex, ey, ez = localToWorld(effect.effectNode, 0 , 1 , 0 )\n                                                        vx, vy, vz = ex - vx, ey - vy + effect.upFactor, ez - vz\n\n                                                        local lx, ly, lz = worldToLocal(effect.effectNode, vx, vy, vz)\n\n                                                        local distance = MathUtil.vector2Length(lx, lz)\n                                                        if distance > 0 then\n                                                            lx, lz = MathUtil.vector2Normalize(lx, lz)\n                                                        end\n\n                                                        ly = math.abs( math.max(ly, 0.01 ))\n\n                                                        local xFactor = math.atan(distance / ly) * ( 1.2 + 2 * ly)\n                                                        local yFactor = math.atan(distance / ly) * ( 1.2 + 2 * ly)\n\n                                                        local xRot = math.atan(lz / ly) * xFactor\n                                                        local zRot = - math.atan(lx / ly) * yFactor\n\n                                                        effect.xRot = effect.xRot * 0.95 + xRot * 0.05\n                                                        effect.zRot = effect.zRot * 0.95 + zRot * 0.05\n\n                                                        local scale = MathUtil.lerp(effect.minRpmScale, effect.maxRpmScale, rpmScale)\n\n                                                        setShaderParameter(effect.effectNode, "param" , effect.xRot, effect.zRot, 0 , scale, false )\n\n                                                        local r = MathUtil.lerp(effect.minRpmColor[ 1 ], effect.maxRpmColor[ 1 ], rpmScale)\n                                                        local g = MathUtil.lerp(effect.minRpmColor[ 2 ], effect.maxRpmColor[ 2 ], rpmScale)\n                                                        local b = MathUtil.lerp(effect.minRpmColor[ 3 ], effect.maxRpmColor[ 3 ], rpmScale)\n                                                        local a = MathUtil.lerp(effect.minRpmColor[ 4 ], effect.maxRpmColor[ 4 ], rpmScale)\n                                                        setShaderParameter(effect.effectNode, "exhaustColor" , r, g, b, a, false )\n\n                                                        effect.lastPosition[ 1 ] = posX\n                                                        effect.lastPosition[ 2 ] = posY\n                                                        effect.lastPosition[ 3 ] = posZ\n                                                    end\n                                                end\n\n                                                spec.lastFuelUsageDisplayTime = spec.lastFuelUsageDisplayTime + dt\n                                                if spec.lastFuelUsageDisplayTime > 250 then\n                                                    spec.lastFuelUsageDisplayTime = 0\n                                                    spec.lastFuelUsageDisplay = spec.fuelUsageBuffer:getAverage()\n                                                end\n\n                                                spec.fuelUsageBuffer:add(spec.lastFuelUsage)\n                                            end\n\n                                            if spec.clutchCrackingTimeOut < g_ time then\n                                                if g_soundManager:getIsSamplePlaying(spec.samples.clutchCracking) then\n                                                    g_soundManager:stopSample(spec.samples.clutchCracking)\n                                                end\n\n                                                if spec.clutchCrackingGearIndex ~ = nil then\n                                                    self:setGearLeversState( 0 , nil , 500 )\n                                                end\n\n                                                if spec.clutchCrackingGroupIndex ~ = nil then\n                                                    self:setGearLeversState( nil , 0 , 500 )\n                                                end\n\n                                                spec.clutchCrackingTimeOut = math.huge\n                                            end\n\n                                            -- display permanent fuel empty warning if automatic motor start is enabled\n                                                if isActiveForInputIgnoreSelection then\n                                                    if automaticMotorStartEnabled then\n                                                        if not self:getCanMotorRun() then\n                                                            local warning = self:getMotorNotAllowedWarning()\n                                                            if warning ~ = nil then\n                                                                g_currentMission:showBlinkingWarning(warning, 2000 )\n                                                            end\n                                                        end\n                                                    end\n\n                                                    if g_ignitionLockManager:getIsAvailable() then\n                                                        if not self:getIsAIActive() then\n                                                            local ignitionState = g_ignitionLockManager:getState()\n                                                            -- get the current state\n                                                            motorState = self:getMotorState()\n\n                                                            if ignitionState = = IgnitionLockState.OFF then\n                                                                -- if ignition lock is off also turn the motor if it was in a differnt state\n                                                                    if motorState ~ = MotorState.OFF then\n                                                                        self:setMotorState(MotorState.OFF)\n                                                                    end\n                                                                elseif ignitionState = = IgnitionLockState.IGNITION then\n                                                                        -- ignition lock is in ignition state only change the motor state if it is off\n                                                                            -- in reallife the motor state also does not change if the lock snaps back from start to ignition state\n                                                                                if motorState = = MotorState.OFF then\n                                                                                    self:setMotorState(MotorState.IGNITION)\n                                                                                end\n                                                                            elseif ignitionState = = IgnitionLockState.START then\n                                                                                    -- if motor was off or in ignition start it now\n                                                                                        if motorState ~ = MotorState.STARTING and motorState ~ = MotorState.ON then\n                                                                                            if self:getCanMotorRun() then\n                                                                                                self:setMotorState(MotorState.STARTING)\n                                                                                            else\n                                                                                                    local warning = self:getMotorNotAllowedWarning()\n                                                                                                    if warning ~ = nil then\n                                                                                                        g_currentMission:showBlinkingWarning(warning, 2000 )\n                                                                                                    end\n                                                                                                end\n                                                                                            end\n                                                                                        end\n                                                                                    end\n                                                                                end\n\n                                                                                Motorized.updateActionEvents( self )\n                                                                            end\n                                                                        end\n                                                                    end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"onvehiclesettingchanged",children:"onVehicleSettingChanged"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onVehicleSettingChanged()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"gameSettingId"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"state"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized:onVehicleSettingChanged(gameSettingId, state)\n    local spec = self.spec_motorized\n    local motor = spec.motor\n\n    if gameSettingId = = GameSettings.SETTING.DIRECTION_CHANGE_MODE then\n        spec.directionChangeMode = state\n        if motor ~ = nil then\n            motor:setDirectionChangeMode(state)\n\n            self:requestActionEventUpdate()\n        end\n    end\n\n    if gameSettingId = = GameSettings.SETTING.GEAR_SHIFT_MODE then\n        spec.gearShiftMode = state\n        if not self:getIsAIActive() then\n            if motor ~ = nil then\n                motor:setGearShiftMode(state)\n\n                self:requestActionEventUpdate()\n            end\n        end\n    end\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"onwritestream",children:"onWriteStream"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onWriteStream()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"streamId"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"connection"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized:onWriteStream(streamId, connection)\n    MotorState.writeStream(streamId, self.spec_motorized.motorState)\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"onwriteupdatestream",children:"onWriteUpdateStream"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onWriteUpdateStream()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"streamId"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"connection"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"dirtyMask"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized:onWriteUpdateStream(streamId, connection, dirtyMask)\n    local spec = self.spec_motorized\n    if not connection.isServer then\n        local motorState = self:getMotorState()\n        if streamWriteBool(streamId, motorState = = MotorState.STARTING or motorState = = MotorState.ON) then\n            local rpmRange = spec.motor:getMaxRpm() - spec.motor:getMinRpm()\n            local rpm = math.clamp((spec.motor:getEqualizedMotorRpm() - spec.motor:getMinRpm()) / rpmRange, 0 , 1 )\n\n            rpm = math.floor(rpm * 2047 )\n            streamWriteUIntN(streamId, rpm, 11 )\n            streamWriteUIntN(streamId, 127 * spec.actualLoadPercentage, 7 )\n            streamWriteBool(streamId, spec.brakeCompressor.doFill)\n            streamWriteUIntN(streamId, 31 * spec.motor:getClutchPedal(), 5 )\n        end\n\n        if streamWriteBool(streamId, bit32.band(dirtyMask, spec.dirtyFlag) ~ = 0 ) then\n            spec.motor:writeGearDataToStream(streamId)\n        end\n    else\n            if streamWriteBool(streamId, bit32.band(dirtyMask, spec.inputDirtyFlag) ~ = 0 ) then\n                if streamWriteBool(streamId, spec.clutchState ~ = spec.clutchStateSent) then\n                    streamWriteUIntN(streamId, 127 * spec.clutchState, 7 )\n                    spec.clutchStateSent = spec.clutchState\n                end\n            end\n        end\n    end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"prerequisitespresent",children:"prerequisitesPresent"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"prerequisitesPresent()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"specializations"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized.prerequisitesPresent(specializations)\n    return SpecializationUtil.hasSpecialization( FillUnit , specializations) and SpecializationUtil.hasSpecialization( VehicleSettings , specializations)\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"registerconsumerxmlpaths",children:"registerConsumerXMLPaths"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"registerConsumerXMLPaths()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"schema"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"baseKey"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function Motorized.registerConsumerXMLPaths(schema, baseKey)\n    schema:register(XMLValueType.L10N_STRING, baseKey .. "#consumersEmptyWarning" , "Consumers empty warning" , "warning_motorFuelEmpty" )\n    schema:register(XMLValueType.INT, baseKey .. ".consumer(?)#fillUnitIndex" , "Fill unit index" , 1 )\n    schema:register(XMLValueType.STRING, baseKey .. ".consumer(?)#fillType" , "Fill type name" )\n    schema:register(XMLValueType.FLOAT, baseKey .. ".consumer(?)#usage" , "Usage in l/h" , 1 )\n    schema:register(XMLValueType.BOOL, baseKey .. ".consumer(?)#permanentConsumption" , "Do permanent consumption" , 1 )\n    schema:register(XMLValueType.FLOAT, baseKey .. ".consumer(?)#refillLitersPerSecond" , "Refill liters per second" , 0 )\n    schema:register(XMLValueType.FLOAT, baseKey .. ".consumer(?)#refillCapacityPercentage" , "Refill capacity percentage" , 0 )\n    schema:register(XMLValueType.FLOAT, baseKey .. ".consumer(?)#capacity" , "If defined the capacity of the fillUnit fill be overwritten with this value" )\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"registerdifferentialxmlpaths",children:"registerDifferentialXMLPaths"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"registerDifferentialXMLPaths()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"schema"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"baseKey"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function Motorized.registerDifferentialXMLPaths(schema, baseKey)\n    schema:register(XMLValueType.FLOAT, baseKey .. ".differentials.differential(?)#torqueRatio" , "Torque ratio" , 0.5 )\n    schema:register(XMLValueType.FLOAT, baseKey .. ".differentials.differential(?)#maxSpeedRatio" , "Max.speed ratio" , 1.3 )\n\n    schema:register(XMLValueType.INT, baseKey .. ".differentials.differential(?)#wheelIndex1" , "Wheel index 1" )\n    schema:register(XMLValueType.INT, baseKey .. ".differentials.differential(?)#wheelIndex2" , "Wheel index 2" )\n    schema:register(XMLValueType.INT, baseKey .. ".differentials.differential(?)#differentialIndex1" , "Differential index 1" )\n    schema:register(XMLValueType.INT, baseKey .. ".differentials.differential(?)#differentialIndex2" , "Differential index 2" )\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"registereventlisteners",children:"registerEventListeners"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"registerEventListeners()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function Motorized.registerEventListeners(vehicleType)\n    SpecializationUtil.registerEventListener(vehicleType, "onLoad" , Motorized )\n    SpecializationUtil.registerEventListener(vehicleType, "onPostLoad" , Motorized )\n    SpecializationUtil.registerEventListener(vehicleType, "onRegisterDashboardValueTypes" , Motorized )\n    SpecializationUtil.registerEventListener(vehicleType, "onDelete" , Motorized )\n    SpecializationUtil.registerEventListener(vehicleType, "onReadStream" , Motorized )\n    SpecializationUtil.registerEventListener(vehicleType, "onWriteStream" , Motorized )\n    SpecializationUtil.registerEventListener(vehicleType, "onReadUpdateStream" , Motorized )\n    SpecializationUtil.registerEventListener(vehicleType, "onWriteUpdateStream" , Motorized )\n    SpecializationUtil.registerEventListener(vehicleType, "onUpdate" , Motorized )\n    SpecializationUtil.registerEventListener(vehicleType, "onUpdateTick" , Motorized )\n    SpecializationUtil.registerEventListener(vehicleType, "onRegisterActionEvents" , Motorized )\n    SpecializationUtil.registerEventListener(vehicleType, "onStateChange" , Motorized )\n    SpecializationUtil.registerEventListener(vehicleType, "onFillUnitFillLevelChanged" , Motorized )\n    SpecializationUtil.registerEventListener(vehicleType, "onSetBroken" , Motorized )\n    SpecializationUtil.registerEventListener(vehicleType, "onGearDirectionChanged" , Motorized )\n    SpecializationUtil.registerEventListener(vehicleType, "onGearChanged" , Motorized )\n    SpecializationUtil.registerEventListener(vehicleType, "onGearGroupChanged" , Motorized )\n    SpecializationUtil.registerEventListener(vehicleType, "onMotorBlowOffValveChanged" , Motorized )\n    SpecializationUtil.registerEventListener(vehicleType, "onClutchCreaking" , Motorized )\n    SpecializationUtil.registerEventListener(vehicleType, "onReverseDirectionChanged" , Motorized )\n    SpecializationUtil.registerEventListener(vehicleType, "onVehicleSettingChanged" , Motorized )\n    SpecializationUtil.registerEventListener(vehicleType, "onAIJobStarted" , Motorized )\n    SpecializationUtil.registerEventListener(vehicleType, "onAIJobFinished" , Motorized )\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"registerevents",children:"registerEvents"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"registerEvents()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function Motorized.registerEvents(vehicleType)\n    SpecializationUtil.registerEvent(vehicleType, "onStartMotor" )\n    SpecializationUtil.registerEvent(vehicleType, "onStopMotor" )\n    SpecializationUtil.registerEvent(vehicleType, "onGearDirectionChanged" )\n    SpecializationUtil.registerEvent(vehicleType, "onGearChanged" )\n    SpecializationUtil.registerEvent(vehicleType, "onGearGroupChanged" )\n    SpecializationUtil.registerEvent(vehicleType, "onMotorBlowOffValveChanged" )\n    SpecializationUtil.registerEvent(vehicleType, "onClutchCreaking" )\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"registerfunctions",children:"registerFunctions"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"registerFunctions()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function Motorized.registerFunctions(vehicleType)\n    SpecializationUtil.registerFunction(vehicleType, "loadDifferentials" , Motorized.loadDifferentials)\n    SpecializationUtil.registerFunction(vehicleType, "loadMotor" , Motorized.loadMotor)\n    SpecializationUtil.registerFunction(vehicleType, "loadGears" , Motorized.loadGears)\n    SpecializationUtil.registerFunction(vehicleType, "loadGearGroups" , Motorized.loadGearGroups)\n    SpecializationUtil.registerFunction(vehicleType, "loadExhaustEffects" , Motorized.loadExhaustEffects)\n    SpecializationUtil.registerFunction(vehicleType, "onExhaustEffectI3DLoaded" , Motorized.onExhaustEffectI3DLoaded)\n    SpecializationUtil.registerFunction(vehicleType, "loadSounds" , Motorized.loadSounds)\n    SpecializationUtil.registerFunction(vehicleType, "loadConsumerConfiguration" , Motorized.loadConsumerConfiguration)\n    SpecializationUtil.registerFunction(vehicleType, "setMotorState" , Motorized.setMotorState)\n    SpecializationUtil.registerFunction(vehicleType, "getMotorState" , Motorized.getMotorState)\n    SpecializationUtil.registerFunction(vehicleType, "getIsMotorStarted" , Motorized.getIsMotorStarted)\n    SpecializationUtil.registerFunction(vehicleType, "getIsMotorInNeutral" , Motorized.getIsMotorInNeutral)\n    SpecializationUtil.registerFunction(vehicleType, "getCanMotorRun" , Motorized.getCanMotorRun)\n    SpecializationUtil.registerFunction(vehicleType, "getStopMotorOnLeave" , Motorized.getStopMotorOnLeave)\n    SpecializationUtil.registerFunction(vehicleType, "getMotorNotAllowedWarning" , Motorized.getMotorNotAllowedWarning)\n    SpecializationUtil.registerFunction(vehicleType, "startMotor" , Motorized.startMotor)\n    SpecializationUtil.registerFunction(vehicleType, "stopMotor" , Motorized.stopMotor)\n    SpecializationUtil.registerFunction(vehicleType, "updateMotorProperties" , Motorized.updateMotorProperties)\n    SpecializationUtil.registerFunction(vehicleType, "controlVehicle" , Motorized.controlVehicle)\n    SpecializationUtil.registerFunction(vehicleType, "updateConsumers" , Motorized.updateConsumers)\n    SpecializationUtil.registerFunction(vehicleType, "updateMotorTemperature" , Motorized.updateMotorTemperature)\n    SpecializationUtil.registerFunction(vehicleType, "getMotor" , Motorized.getMotor)\n    SpecializationUtil.registerFunction(vehicleType, "getMotorStartTime" , Motorized.getMotorStartTime)\n    SpecializationUtil.registerFunction(vehicleType, "getMotorType" , Motorized.getMotorType)\n    SpecializationUtil.registerFunction(vehicleType, "getMotorRpmPercentage" , Motorized.getMotorRpmPercentage)\n    SpecializationUtil.registerFunction(vehicleType, "getMotorRpmReal" , Motorized.getMotorRpmReal)\n    SpecializationUtil.registerFunction(vehicleType, "getMotorLoadPercentage" , Motorized.getMotorLoadPercentage)\n    SpecializationUtil.registerFunction(vehicleType, "getMotorBlowOffValveState" , Motorized.getMotorBlowOffValveState)\n    SpecializationUtil.registerFunction(vehicleType, "getMotorDifferentialSpeed" , Motorized.getMotorDifferentialSpeed)\n    SpecializationUtil.registerFunction(vehicleType, "getConsumerFillUnitIndex" , Motorized.getConsumerFillUnitIndex)\n    SpecializationUtil.registerFunction(vehicleType, "getAirConsumerUsage" , Motorized.getAirConsumerUsage)\n    SpecializationUtil.registerFunction(vehicleType, "getTraveledDistanceStatsActive" , Motorized.getTraveledDistanceStatsActive)\n    SpecializationUtil.registerFunction(vehicleType, "setGearLeversState" , Motorized.setGearLeversState)\n    SpecializationUtil.registerFunction(vehicleType, "generateShiftAnimation" , Motorized.generateShiftAnimation)\n    SpecializationUtil.registerFunction(vehicleType, "getGearInfoToDisplay" , Motorized.getGearInfoToDisplay)\n    SpecializationUtil.registerFunction(vehicleType, "setTransmissionDirection" , Motorized.setTransmissionDirection)\n    SpecializationUtil.registerFunction(vehicleType, "getDirectionChangeMode" , Motorized.getDirectionChangeMode)\n    SpecializationUtil.registerFunction(vehicleType, "getIsManualDirectionChangeAllowed" , Motorized.getIsManualDirectionChangeAllowed)\n    SpecializationUtil.registerFunction(vehicleType, "getIsManualDirectionChangeActive" , Motorized.getIsManualDirectionChangeActive)\n    SpecializationUtil.registerFunction(vehicleType, "getGearShiftMode" , Motorized.getGearShiftMode)\n    SpecializationUtil.registerFunction(vehicleType, "stopVehicle" , Motorized.stopVehicle)\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"registermotorxmlpaths",children:"registerMotorXMLPaths"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"registerMotorXMLPaths()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"schema"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"baseKey"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function Motorized.registerMotorXMLPaths(schema, baseKey)\n    schema:register(XMLValueType.STRING, baseKey .. ".motor#type" , "Motor type" , "vehicle" )\n    schema:register(XMLValueType.STRING, baseKey .. ".motor#startAnimationName" , "Motor start animation" , "vehicle" )\n\n    schema:register(XMLValueType.FLOAT, baseKey .. ".motor#minRpm" , "Min.RPM" , 1000 )\n    schema:register(XMLValueType.FLOAT, baseKey .. ".motor#maxRpm" , "Max.RPM" , 1800 )\n    schema:register(XMLValueType.FLOAT, baseKey .. ".motor#minSpeed" , "Min.driving speed" , 1 )\n    schema:register(XMLValueType.FLOAT, baseKey .. ".motor#maxForwardSpeed" , "Max.forward speed" )\n    schema:register(XMLValueType.FLOAT, baseKey .. ".motor#maxBackwardSpeed" , "Max.backward speed" )\n\n    schema:register(XMLValueType.FLOAT, baseKey .. ".motor#accelerationLimit" , "Acceleration limit" , 2.0 )\n    schema:register(XMLValueType.FLOAT, baseKey .. ".motor#brakeForce" , "Brake force" , 10 )\n    schema:register(XMLValueType.FLOAT, baseKey .. ".motor#lowBrakeForceScale" , "Low brake force scale" , 0.5 )\n    schema:register(XMLValueType.FLOAT, baseKey .. ".motor#lowBrakeForceSpeedLimit" , "Low brake force speed limit(below this speed the lowBrakeForceScale is activated)" , 1 )\n    schema:register(XMLValueType.FLOAT, baseKey .. ".motor#torqueScale" , "Scale factor for torque curve" , 1 )\n        schema:register(XMLValueType.FLOAT, baseKey .. ".motor#ptoMotorRpmRatio" , "PTO to motor rpm ratio" , 4 )\n\n        schema:register(XMLValueType.FLOAT, baseKey .. ".transmission#minForwardGearRatio" , "Min.forward gear ratio" )\n        schema:register(XMLValueType.FLOAT, baseKey .. ".transmission#maxForwardGearRatio" , "Max.forward gear ratio" )\n        schema:register(XMLValueType.FLOAT, baseKey .. ".transmission#minBackwardGearRatio" , "Min.backward gear ratio" )\n        schema:register(XMLValueType.FLOAT, baseKey .. ".transmission#maxBackwardGearRatio" , "Max.backward gear ratio" )\n        schema:register(XMLValueType.TIME, baseKey .. ".transmission#gearChangeTime" , "Gear change time" )\n        schema:register(XMLValueType.TIME, baseKey .. ".transmission#autoGearChangeTime" , "Auto gear change time" )\n        schema:register(XMLValueType.FLOAT, baseKey .. ".transmission#axleRatio" , "Axle ratio" , 1 )\n        schema:register(XMLValueType.FLOAT, baseKey .. ".transmission#startGearThreshold" , "Adjusts which gear is used as start gear" , VehicleMotor.GEAR_START_THRESHOLD)\n\n        schema:register(XMLValueType.FLOAT, baseKey .. ".motor.torque(?)#normRpm" , "Norm RPM(0-1)" )\n        schema:register(XMLValueType.FLOAT, baseKey .. ".motor.torque(?)#rpm" , "RPM" )\n        schema:register(XMLValueType.FLOAT, baseKey .. ".motor.torque(?)#torque" , "Torque" )\n\n        schema:register(XMLValueType.FLOAT, baseKey .. ".motor#rotInertia" , "Rotation inertia" , "Peak.motor torque / 600" )\n        schema:register(XMLValueType.FLOAT, baseKey .. ".motor#dampingRateScale" , "Scales motor damping rate" , 1 )\n\n        schema:register(XMLValueType.FLOAT, baseKey .. ".motor#rpmSpeedLimit" , "Motor rotation acceleration limit" )\n\n        schema:register(XMLValueType.FLOAT, baseKey .. ".transmission.forwardGear(?)#gearRatio" , "Gear ratio" )\n        schema:register(XMLValueType.FLOAT, baseKey .. ".transmission.forwardGear(?)#maxSpeed" , "Gear ratio" )\n        schema:register(XMLValueType.BOOL, baseKey .. ".transmission.forwardGear(?)#defaultGear" , "Gear ratio" )\n        schema:register(XMLValueType.STRING, baseKey .. ".transmission.forwardGear(?)#name" , "Gear name to display" )\n        schema:register(XMLValueType.STRING, baseKey .. ".transmission.forwardGear(?)#reverseName" , "Gear name to display(if reverse direction is active)" )\n            schema:register(XMLValueType.STRING, baseKey .. ".transmission.forwardGear(?)#dashboardName" , "Gear name to display in dashboard" )\n            schema:register(XMLValueType.STRING, baseKey .. ".transmission.forwardGear(?)#dashboardReverseName" , "Gear name to display in dashboard(if reverse direction is active)" )\n                schema:register(XMLValueType.STRING, baseKey .. ".transmission.forwardGear(?)#actionName" , "Input Action to select this gear" , "SHIFT_GEAR_SELECT_X" )\n                schema:register(XMLValueType.FLOAT, baseKey .. ".transmission.backwardGear(?)#gearRatio" , "Gear ratio" )\n                schema:register(XMLValueType.FLOAT, baseKey .. ".transmission.backwardGear(?)#maxSpeed" , "Gear ratio" )\n                schema:register(XMLValueType.BOOL, baseKey .. ".transmission.backwardGear(?)#defaultGear" , "Gear ratio" )\n                schema:register(XMLValueType.STRING, baseKey .. ".transmission.backwardGear(?)#name" , "Gear name to display" )\n                schema:register(XMLValueType.STRING, baseKey .. ".transmission.backwardGear(?)#reverseName" , "Gear name to display(if reverse direction is active)" )\n                    schema:register(XMLValueType.STRING, baseKey .. ".transmission.backwardGear(?)#dashboardName" , "Gear name to display in dashboard" )\n                    schema:register(XMLValueType.STRING, baseKey .. ".transmission.backwardGear(?)#dashboardReverseName" , "Gear name to display in dashboard(if reverse direction is active)" )\n                        schema:register(XMLValueType.STRING, baseKey .. ".transmission.backwardGear(?)#actionName" , "Input Action to select this gear" , "SHIFT_GEAR_SELECT_X" )\n\n                        schema:register(XMLValueType.STRING, baseKey .. ".transmission.groups#type" , "Type of groups(powershift/default)" , "default" )\n                        schema:register(XMLValueType.TIME, baseKey .. ".transmission.groups#changeTime" , "Change time if default type" , 0.5 )\n                            schema:register(XMLValueType.FLOAT, baseKey .. ".transmission.groups.group(?)#ratio" , "Ratio while stage active" )\n                                schema:register(XMLValueType.BOOL, baseKey .. ".transmission.groups.group(?)#isDefault" , "Is default stage" , false )\n                                schema:register(XMLValueType.STRING, baseKey .. ".transmission.groups.group(?)#name" , "Gear name to display" )\n                                schema:register(XMLValueType.STRING, baseKey .. ".transmission.groups.group(?)#dashboardName" , "Gear name to display in dashboard" )\n                                schema:register(XMLValueType.STRING, baseKey .. ".transmission.groups.group(?)#actionName" , "Input Action to select this group" , "SHIFT_GROUP_SELECT_X" )\n\n                                schema:register(XMLValueType.BOOL, baseKey .. ".transmission.directionChange#useGroup" , "Use group as reverse change" , false )\n                                schema:register(XMLValueType.INT, baseKey .. ".transmission.directionChange#reverseGroupIndex" , "Group will be activated while direction is changed" , 1 )\n                                    schema:register(XMLValueType.BOOL, baseKey .. ".transmission.directionChange#useGear" , "Use gear as reverse change" , false )\n                                    schema:register(XMLValueType.INT, baseKey .. ".transmission.directionChange#reverseGearIndex" , "Gear will be activated while direction is changed" , 1 )\n                                        schema:register(XMLValueType.TIME, baseKey .. ".transmission.directionChange#changeTime" , "Direction change time" , 0.5 )\n\n                                        schema:register(XMLValueType.BOOL, baseKey .. ".transmission.manualShift#gears" , "Defines if gears can be shifted manually" , true )\n                                            schema:register(XMLValueType.BOOL, baseKey .. ".transmission.manualShift#groups" , "Defines if groups can be shifted manually" , true )\n\n                                                schema:register(XMLValueType.L10N_STRING, baseKey .. ".transmission#name" , "Name of transmission to display in the shop" )\n                                                schema:register(XMLValueType.STRING, baseKey .. ".transmission#param" , "Parameter to insert in transmission name" )\n\n                                                schema:register(XMLValueType.FLOAT, baseKey .. ".motorStartDuration" , "Motor start duration" , "Duration motor takes to start.After this time player can start to drive" )\n                                            end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"registeroverwrittenfunctions",children:"registerOverwrittenFunctions"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"registerOverwrittenFunctions()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function Motorized.registerOverwrittenFunctions(vehicleType)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getBrakeForce" , Motorized.getBrakeForce)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "addToPhysics" , Motorized.addToPhysics)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "removeFromPhysics" , Motorized.removeFromPhysics)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getIsOperating" , Motorized.getIsOperating)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getDeactivateOnLeave" , Motorized.getDeactivateOnLeave)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getDeactivateLightsOnLeave" , Motorized.getDeactivateLightsOnLeave)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "loadDashboardGroupFromXML" , Motorized.loadDashboardGroupFromXML)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getIsDashboardGroupActive" , Motorized.getIsDashboardGroupActive)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getIsActiveForInteriorLights" , Motorized.getIsActiveForInteriorLights)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getIsActiveForWipers" , Motorized.getIsActiveForWipers)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getUsageCausesDamage" , Motorized.getUsageCausesDamage)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getName" , Motorized.getName)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getCanBeSelected" , Motorized.getCanBeSelected)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getIsPowered" , Motorized.getIsPowered)\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"registersoundxmlpaths",children:"registerSoundXMLPaths"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"registerSoundXMLPaths()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"schema"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"baseKey"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function Motorized.registerSoundXMLPaths(schema, baseKey)\n    SoundManager.registerSampleXMLPaths(schema, baseKey, "motorStart" )\n    SoundManager.registerSampleXMLPaths(schema, baseKey, "motorStop" )\n    SoundManager.registerSampleXMLPaths(schema, baseKey, "gearbox(?)" )\n    SoundManager.registerSampleXMLPaths(schema, baseKey, "clutchCracking" )\n    SoundManager.registerSampleXMLPaths(schema, baseKey, "gearEngaged" )\n    SoundManager.registerSampleXMLPaths(schema, baseKey, "gearDisengaged" )\n    SoundManager.registerSampleXMLPaths(schema, baseKey, "gearLeverStart" )\n    SoundManager.registerSampleXMLPaths(schema, baseKey, "gearLeverEnd" )\n    SoundManager.registerSampleXMLPaths(schema, baseKey, "gearGroupLeverStart" )\n    SoundManager.registerSampleXMLPaths(schema, baseKey, "gearGroupLeverEnd" )\n    SoundManager.registerSampleXMLPaths(schema, baseKey, "gearRangeChange" )\n    SoundManager.registerSampleXMLPaths(schema, baseKey, "gearGroupChange" )\n    SoundManager.registerSampleXMLPaths(schema, baseKey, "blowOffValve" )\n    SoundManager.registerSampleXMLPaths(schema, baseKey, "retarder" )\n    SoundManager.registerSampleXMLPaths(schema, baseKey, "motor(?)" )\n    SoundManager.registerSampleXMLPaths(schema, baseKey, "airCompressorStart" )\n    SoundManager.registerSampleXMLPaths(schema, baseKey, "airCompressorStop" )\n    SoundManager.registerSampleXMLPaths(schema, baseKey, "airCompressorRun" )\n    SoundManager.registerSampleXMLPaths(schema, baseKey, "compressedAir" )\n    SoundManager.registerSampleXMLPaths(schema, baseKey, "airRelease" )\n    SoundManager.registerSampleXMLPaths(schema, baseKey, "reverseDrive" )\n    SoundManager.registerSampleXMLPaths(schema, baseKey, "brake" )\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"removefromphysics",children:"removeFromPhysics"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"removeFromPhysics()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized:removeFromPhysics(superFunc)\n    if self.isServer then\n        local spec = self.spec_motorized\n\n        if spec.motorizedNode ~ = nil then\n            if next(spec.differentials) ~ = nil then\n                removeAllDifferentials(spec.motorizedNode)\n            end\n        end\n    end\n\n    if not superFunc( self ) then\n        return false\n    end\n\n    return true\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"setgearleversstate",children:"setGearLeversState"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"setGearLeversState()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"gear"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"group"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"time"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"isResetPosition"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized:setGearLeversState(gear, group, time , isResetPosition)\n    local spec = self.spec_motorized\n    for i = 1 , #spec.gearLevers do\n        local gearLever = spec.gearLevers[i]\n        for j = 1 , #gearLever.states do\n            local state = gearLever.states[j]\n            if (state.gear ~ = nil and state.gear = = gear) or(state.group ~ = nil and state.group = = group) then\n                self:generateShiftAnimation(gearLever, state, time , isResetPosition)\n            end\n        end\n    end\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"settransmissiondirection",children:"setTransmissionDirection"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Switches the gear ratios by the given direction"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"setTransmissionDirection(integer direction)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"integer"}),(0,i.jsx)(n.th,{children:"direction"}),(0,i.jsx)(n.th,{children:"direction"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized:setTransmissionDirection(direction)\n    local motor = self.spec_motorized.motor\n    if motor ~ = nil then\n        motor:setTransmissionDirection(direction)\n    end\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"startmotor",children:"startMotor"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Start motor"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"startMotor(boolean noEventSend)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"boolean"}),(0,i.jsx)(n.th,{children:"noEventSend"}),(0,i.jsx)(n.th,{children:"no event send"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized:startMotor(noEventSend)\n    local motorState = self:getMotorState()\n    if motorState = = MotorState.OFF or motorState = = MotorState.IGNITION then\n        MotorSetTurnedOnEvent.sendEvent( self , true , noEventSend)\n        self:setMotorState(MotorState.STARTING, true )\n    end\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"stopmotor",children:"stopMotor"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Stop motor"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"stopMotor(boolean noEventSend)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"boolean"}),(0,i.jsx)(n.th,{children:"noEventSend"}),(0,i.jsx)(n.th,{children:"no event send"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized:stopMotor(noEventSend)\n    local motorState = self:getMotorState()\n    if motorState = = MotorState.ON or motorState = = MotorState.STARTING then\n        MotorSetTurnedOnEvent.sendEvent( self , false , noEventSend)\n        self:setMotorState(MotorState.OFF, true )\n    end\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"stopvehicle",children:"stopVehicle"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"stopVehicle()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized:stopVehicle()\n    if self.isServer then\n        local spec = self.spec_motorized\n        if spec.motorizedNode ~ = nil then\n            self:controlVehicle( 0.0 , 0.0 , 0.0 , 0.0 , math.huge, 0.0 , 0.0 , 0.0 , 0.0 , 0.0 )\n        end\n    end\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"trystartmotor",children:"tryStartMotor"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Tries to start any motor in the currently attached vehicle chain"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"tryStartMotor(table vehicle)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"table"}),(0,i.jsx)(n.th,{children:"vehicle"}),(0,i.jsx)(n.th,{children:"any vehicle of the chain"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized.tryStartMotor(vehicle)\n    for i = 1 , #vehicle.rootVehicle.childVehicles do\n        local otherVehicle = vehicle.rootVehicle.childVehicles[i]\n\n        if otherVehicle.getCanMotorRun ~ = nil and otherVehicle:getCanMotorRun() then\n            otherVehicle:startMotor()\n        end\n    end\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"updateactionevents",children:"updateActionEvents"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"updateActionEvents()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"self"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized.updateActionEvents( self )\n    -- hide / show start motor input action if setting is changed on the fly\n        local missionInfo = g_currentMission.missionInfo\n        local automaticMotorStartEnabled = missionInfo.automaticMotorStartEnabled\n        local spec = self.spec_motorized\n        local actionEvent = spec.actionEvents[InputAction.TOGGLE_MOTOR_STATE]\n        if actionEvent ~ = nil then\n            if not automaticMotorStartEnabled then\n                local text\n\n                g_inputBinding:setActionEventActive(actionEvent.actionEventId, true )\n                local motorState = self:getMotorState()\n                if motorState = = MotorState.STARTING or motorState = = MotorState.ON then\n                    g_inputBinding:setActionEventTextPriority(actionEvent.actionEventId, GS_PRIO_VERY_LOW)\n                    text = spec.turnOffText\n                else\n                        g_inputBinding:setActionEventTextPriority(actionEvent.actionEventId, GS_PRIO_VERY_HIGH)\n                        text = spec.turnOnText\n                    end\n\n                    g_inputBinding:setActionEventText(actionEvent.actionEventId, text)\n                else\n                        g_inputBinding:setActionEventActive(actionEvent.actionEventId, false )\n                    end\n                end\n\n                actionEvent = spec.actionEvents[InputAction.MOTOR_STATE_IGNITION]\n                if actionEvent ~ = nil then\n                    g_inputBinding:setActionEventActive(actionEvent.actionEventId, not automaticMotorStartEnabled)\n                end\n                actionEvent = spec.actionEvents[InputAction.MOTOR_STATE_ON]\n                if actionEvent ~ = nil then\n                    g_inputBinding:setActionEventActive(actionEvent.actionEventId, not automaticMotorStartEnabled)\n                end\n                actionEvent = spec.actionEvents[InputAction.MOTOR_STATE_OFF]\n                if actionEvent ~ = nil then\n                    g_inputBinding:setActionEventActive(actionEvent.actionEventId, not automaticMotorStartEnabled)\n                end\n            end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"updateconsumers",children:"updateConsumers"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"updateConsumers()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"dt"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"accInput"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function Motorized:updateConsumers(dt, accInput)\n    local spec = self.spec_motorized\n\n    local idleFactor = 0.5\n    local rpmPercentage = (spec.motor.lastMotorRpm - spec.motor.minRpm) / (spec.motor.maxRpm - spec.motor.minRpm)\n    local rpmFactor = idleFactor + rpmPercentage * ( 1 - idleFactor)\n    local loadFactor = math.max(spec.smoothedLoadPercentage * rpmPercentage, 0 )\n    local motorFactor = 0.5 * ( ( 0.2 * rpmFactor) + ( 1.8 * loadFactor) )\n\n    local missionInfo = g_currentMission.missionInfo\n    local fuelUsage = missionInfo.fuelUsage\n    local usageFactor = 1.5 -- medium\n    if fuelUsage = = 1 then\n        usageFactor = 1.0 -- low\n    elseif fuelUsage = = 3 then\n            usageFactor = 2.5 -- high\n        end\n\n        local damage = self:getVehicleDamage()\n        if damage > 0 then\n            usageFactor = usageFactor * ( 1 + damage * Motorized.DAMAGED_USAGE_INCREASE)\n        end\n\n        -- update permanent consumers\n        for _,consumer in pairs(spec.consumers) do\n            if consumer.permanentConsumption and consumer.usage > 0 then\n                local used = usageFactor * motorFactor * consumer.usage * dt\n                if used ~ = 0 then\n                    consumer.fillLevelToChange = consumer.fillLevelToChange + used\n                    if math.abs(consumer.fillLevelToChange) > 1 then\n                        used = consumer.fillLevelToChange\n                        consumer.fillLevelToChange = 0\n\n                        local fillType = self:getFillUnitLastValidFillType(consumer.fillUnitIndex)\n\n                        g_farmManager:updateFarmStats( self:getOwnerFarmId(), "fuelUsage" , used)\n\n                        if self:getIsAIActive() then\n                            if fillType = = FillType.DIESEL or fillType = = FillType.DEF then\n                                if missionInfo.helperBuyFuel then\n                                    if fillType = = FillType.DIESEL then\n                                        local price = used * g_currentMission.economyManager:getCostPerLiter(fillType) * 1.5\n                                        g_farmManager:updateFarmStats( self:getOwnerFarmId(), "expenses" , price)\n\n                                        g_currentMission:addMoney( - price, self:getOwnerFarmId(), MoneyType.PURCHASE_FUEL, true )\n                                    end\n\n                                    used = 0\n                                end\n                            end\n                        end\n\n                        if fillType = = consumer.fillType then\n                            self:addFillUnitFillLevel( self:getOwnerFarmId(), consumer.fillUnitIndex, - used, fillType, ToolType.UNDEFINED)\n                        end\n                    end\n\n                    if consumer.fillType = = FillType.DIESEL or consumer.fillType = = FillType.ELECTRICCHARGE or consumer.fillType = = FillType.METHANE then\n                        spec.lastFuelUsage = used / dt * 1000 * 60 * 60 -- per hour\n                    elseif consumer.fillType = = FillType.DEF then\n                            spec.lastDefUsage = used / dt * 1000 * 60 * 60 -- per hour\n                        end\n                    end\n                end\n            end\n\n            -- update air consuming\n            if spec.consumersByFillTypeName[ "AIR" ] ~ = nil then\n                local consumer = spec.consumersByFillTypeName[ "AIR" ]\n                local fillType = self:getFillUnitLastValidFillType(consumer.fillUnitIndex)\n                if fillType = = consumer.fillType then\n                    local usage = 0\n\n                    -- consume air on brake\n                    local direction = self.movingDirection * self:getReverserDirection()\n                    local forwardBrake = direction > 0 and accInput < 0\n                    local backwardBrake = direction < 0 and accInput > 0\n                    local brakeIsPressed = self:getLastSpeed() > 1.0 and(forwardBrake or backwardBrake)\n                    if brakeIsPressed then\n                        local delta = math.abs(accInput) * dt * self:getAirConsumerUsage() / 1000\n                        self:addFillUnitFillLevel( self:getOwnerFarmId(), consumer.fillUnitIndex, - delta, consumer.fillType, ToolType.UNDEFINED)\n\n                        usage = delta / dt * 1000 -- per sec\n                    end\n\n                    --refill air fill unit if it is below given level\n                        local fillLevelPercentage = self:getFillUnitFillLevelPercentage(consumer.fillUnitIndex)\n                        if fillLevelPercentage < consumer.refillCapacityPercentage then\n                            consumer.doRefill = true\n                        elseif fillLevelPercentage = = 1 then\n                                consumer.doRefill = false\n                            end\n\n                            if consumer.doRefill then\n                                local delta = consumer.refillLitersPerSecond / 1000 * dt\n                                self:addFillUnitFillLevel( self:getOwnerFarmId(), consumer.fillUnitIndex, delta, consumer.fillType, ToolType.UNDEFINED)\n\n                                usage = - delta / dt * 1000 -- per sec\n                            end\n\n                            spec.lastAirUsage = usage\n                        end\n                    end\n                end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"updatemotorproperties",children:"updateMotorProperties"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Update the motor properties based on script motor state"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"updateMotorProperties()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized:updateMotorProperties()\n    local spec = self.spec_motorized\n    local motor = spec.motor\n    local torques, rotationSpeeds = motor:getTorqueAndSpeedValues()\n\n    setMotorProperties(spec.motorizedNode, motor:getMinRpm() * math.pi / 30 , motor:getMaxRpm() * math.pi / 30 , motor:getRotInertia(), motor:getDampingRateFullThrottle(), motor:getDampingRateZeroThrottleClutchEngaged(), motor:getDampingRateZeroThrottleClutchDisengaged(), rotationSpeeds, torques)\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"updatemotortemperature",children:"updateMotorTemperature"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"updateMotorTemperature()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"dt"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function Motorized:updateMotorTemperature(dt)\n    local spec = self.spec_motorized\n\n    local delta = spec.motorTemperature.heatingPerMS * dt\n    local factor = ( 1 + 4 * spec.actualLoadPercentage) / 5\n    delta = delta * (factor + self:getMotorRpmPercentage())\n    spec.motorTemperature.value = math.min(spec.motorTemperature.valueMax, spec.motorTemperature.value + delta)\n\n    -- cooling due to wind\n    delta = spec.motorTemperature.coolingByWindPerMS * dt\n    local speedFactor = math.pow( math.min( 1.0 , self:getLastSpeed() / 30 ), 2 )\n    spec.motorTemperature.value = math.max(spec.motorTemperature.valueMin, spec.motorTemperature.value - (speedFactor * delta))\n\n    -- cooling per fan\n    if spec.motorTemperature.value > spec.motorFan.enableTemperature then\n        spec.motorFan.enabled = true\n    end\n    if spec.motorFan.enabled then\n        if spec.motorTemperature.value < spec.motorFan.disableTemperature then\n            spec.motorFan.enabled = false\n        end\n    end\n    if spec.motorFan.enabled then\n        delta = spec.motorFan.coolingPerMS * dt\n        spec.motorTemperature.value = math.max(spec.motorTemperature.valueMin, spec.motorTemperature.value - delta)\n    end\nend\n\n"})})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}}}]);