"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[78887],{22327(e,n,r){r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>t,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"script/Handtools/HandToolSprayCan","title":"HandToolSprayCan","description":"HandToolSprayCan","source":"@site/../docs/script/Handtools/HandToolSprayCan.md","sourceDirName":"script/Handtools","slug":"/script/Handtools/HandToolSprayCan","permalink":"/FS25-Community-LUADOC/script/Handtools/HandToolSprayCan","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"HandToolMotorized","permalink":"/FS25-Community-LUADOC/script/Handtools/HandToolMotorized"},"next":{"title":"HandToolStorable","permalink":"/FS25-Community-LUADOC/script/Handtools/HandToolStorable"}}');var a=r(74848),i=r(28453);const t={},l=void 0,d={},c=[{value:"HandToolSprayCan",id:"handtoolspraycan",level:2},{value:"activateSpraying",id:"activatespraying",level:3},{value:"changeTreeMarkerType",id:"changetreemarkertype",level:3},{value:"getIsSprayingAllowed",id:"getissprayingallowed",level:3},{value:"onDelete",id:"ondelete",level:3},{value:"onDraw",id:"ondraw",level:3},{value:"onHeldStart",id:"onheldstart",level:3},{value:"onLoad",id:"onload",level:3},{value:"onPostLoad",id:"onpostload",level:3},{value:"onReadStream",id:"onreadstream",level:3},{value:"onReadUpdateStream",id:"onreadupdatestream",level:3},{value:"onRegisterActionEvents",id:"onregisteractionevents",level:3},{value:"onUpdate",id:"onupdate",level:3},{value:"onWriteStream",id:"onwritestream",level:3},{value:"onWriteUpdateStream",id:"onwriteupdatestream",level:3},{value:"prerequisitesPresent",id:"prerequisitespresent",level:3},{value:"processDelayedMarker",id:"processdelayedmarker",level:3},{value:"registerEventListeners",id:"registereventlisteners",level:3},{value:"registerFunctions",id:"registerfunctions",level:3},{value:"registerSavegameXMLPaths",id:"registersavegamexmlpaths",level:3},{value:"registerXMLPaths",id:"registerxmlpaths",level:3},{value:"saveToXMLFile",id:"savetoxmlfile",level:3},{value:"setIsSpraying",id:"setisspraying",level:3},{value:"tryToAddTreeMarker",id:"trytoaddtreemarker",level:3}];function o(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h2,{id:"handtoolspraycan",children:"HandToolSprayCan"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Functions"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#activatespraying",children:"activateSpraying"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#changetreemarkertype",children:"changeTreeMarkerType"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#getissprayingallowed",children:"getIsSprayingAllowed"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#ondelete",children:"onDelete"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#ondraw",children:"onDraw"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#onheldstart",children:"onHeldStart"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#onload",children:"onLoad"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#onpostload",children:"onPostLoad"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#onreadstream",children:"onReadStream"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#onreadupdatestream",children:"onReadUpdateStream"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#onregisteractionevents",children:"onRegisterActionEvents"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#onupdate",children:"onUpdate"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#onwritestream",children:"onWriteStream"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#onwriteupdatestream",children:"onWriteUpdateStream"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#prerequisitespresent",children:"prerequisitesPresent"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#processdelayedmarker",children:"processDelayedMarker"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#registereventlisteners",children:"registerEventListeners"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#registerfunctions",children:"registerFunctions"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#registersavegamexmlpaths",children:"registerSavegameXMLPaths"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#registerxmlpaths",children:"registerXMLPaths"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#savetoxmlfile",children:"saveToXMLFile"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#setisspraying",children:"setIsSpraying"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#trytoaddtreemarker",children:"tryToAddTreeMarker"})}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"activatespraying",children:"activateSpraying"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"activateSpraying()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"_"})]})}),(0,a.jsx)(n.tbody,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"inputValue"})]})})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function HandToolSprayCan:activateSpraying(_, inputValue)\n    local spec = self.spec_sprayCan\n    spec.activatePressed = inputValue ~ = 0\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"changetreemarkertype",children:"changeTreeMarkerType"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"changeTreeMarkerType()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"_"})]})}),(0,a.jsx)(n.tbody,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"inputValue"})]})})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function HandToolSprayCan:changeTreeMarkerType(_, inputValue)\n    local spec = self.spec_sprayCan\n    local mission = g_currentMission\n    local treeMarkerSystem = mission.treeMarkerSystem\n    spec.treeMarkerTypeIndex = spec.treeMarkerTypeIndex + 1\n    if spec.treeMarkerTypeIndex > treeMarkerSystem:getNumOfTreeMarkerTypes() then\n        spec.treeMarkerTypeIndex = 1\n    end\n\n    spec.treeMarkerType = treeMarkerSystem:getTreeMarkerTypeByIndex(spec.treeMarkerTypeIndex)\n\n    if spec.treeTypeCrosshair ~ = nil then\n        spec.treeTypeCrosshair:delete()\n    end\n\n    spec.treeTypeCrosshair = self:createCrosshairOverlayFromFile(spec.treeMarkerType.iconFilename, HandTool.DEFAULT_CROSSHAIR_SIZE_PIXELS * 2 )\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"getissprayingallowed",children:"getIsSprayingAllowed"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"getIsSprayingAllowed()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,a.jsx)(n.table,{children:(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"shape"})]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function HandToolSprayCan:getIsSprayingAllowed(shape)\n    if shape = = nil or shape = = 0 then\n        return true\n    end\n\n    local x, _, z = getWorldTranslation(shape)\n    local mission = g_currentMission\n    if mission.accessHandler:canFarmAccessLand(g_localPlayer.farmId, x, z) then\n        return true\n    end\n\n    return false\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"ondelete",children:"onDelete"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"onDelete()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function HandToolSprayCan:onDelete()\n    local spec = self.spec_sprayCan\n\n    self:processDelayedMarker()\n\n    if spec.effects ~ = nil then\n        g_effectManager:deleteEffects(spec.effects)\n    end\n\n    if spec.sprayingSample ~ = nil then\n        g_soundManager:deleteSample(spec.sprayingSample)\n    end\n\n    if spec.treeCrosshair ~ = nil then\n        spec.treeCrosshair:delete()\n        spec.treeCrosshair = nil\n    end\n\n    if spec.treeTypeCrosshair ~ = nil then\n        spec.treeTypeCrosshair:delete()\n        spec.treeTypeCrosshair = nil\n    end\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"ondraw",children:"onDraw"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"onDraw()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function HandToolSprayCan:onDraw()\n    local spec = self.spec_sprayCan\n\n    if spec.treeMarkerType = = nil then\n        return\n    end\n\n    if spec.remainingNumMarkers = = 0 then\n        return\n    end\n\n    if spec.treeTypeCrosshair ~ = nil then\n        spec.treeTypeCrosshair:render()\n    end\n\n    if spec.foundTargetTree ~ = nil then\n        spec.treeCrosshair:render()\n    end\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"onheldstart",children:"onHeldStart"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"onHeldStart()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function HandToolSprayCan:onHeldStart()\n\n    if not self:getCarryingPlayer().isOwner then\n        return\n    end\n\n    local spec = self.spec_sprayCan\n\n    -- Ensure objects are targeted.\n    local targeter = self:getCarryingPlayer().targeter\n    targeter:addTargetType( HandToolSprayCan , CollisionFlag.TREE, 0.5 , spec.sprayDetectionDistance)\n    targeter:addFilterToTargetType( HandToolSprayCan , function (hitNode, x, y, z)\n        return getHasClassId(hitNode, ClassIds.MESH_SPLIT_SHAPE)\n    end )\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"onload",children:"onLoad"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"onLoad()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,a.jsx)(n.table,{children:(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"xmlFile"})]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:'function HandToolSprayCan:onLoad(xmlFile)\n    local spec = self.spec_sprayCan\n\n    spec.maxTotalNumMarkers = 255\n    spec.totalNumMarkers = xmlFile:getValue( "handTool.sprayCan#totalNumMarkers" , 50 )\n    if spec.totalNumMarkers > spec.maxTotalNumMarkers or spec.totalNumMarkers < 1 then\n        spec.totalNumMarkers = spec.maxTotalNumMarkers\n        Logging.xmlWarning(xmlFile, "Invalid totalNumMarkers value.Valid range is 1-%d" , spec.maxTotalNumMarkers)\n    end\n    spec.remainingNumMarkers = spec.totalNumMarkers\n\n    local color = xmlFile:getValue( "handTool.sprayCan#color" , { 1 , 1 , 1 , 1 } , true )\n    spec.sprayColor = color\n    spec.sprayDetectionDistance = xmlFile:getValue( "handTool.sprayCan#distance" , 1.5 )\n\n    spec.sprayDelay = xmlFile:getValue( "handTool.sprayCan#delay" , 0 ) * 1000\n    spec.sprayDuration = 500\n    spec.sprayStopTime = 0\n\n    local colorMaterialSlotName = xmlFile:getValue( "handTool.sprayCan#colorMaterialSlotName" )\n    if colorMaterialSlotName ~ = nil then\n        I3DUtil.setMaterialSlotShaderParameterRec( self.rootNode, colorMaterialSlotName, "colorScale" , color[ 1 ], color[ 2 ], color[ 3 ], color[ 4 ])\n    end\n\n    local shakeNode = xmlFile:getValue( "handTool.sprayCan#shakeNode" , self.rootNode, self.components, self.i3dMappings)\n    spec.canNode = shakeNode\n    spec.originalPos = { getTranslation(shakeNode) }\n\n    if self.isClient then\n        spec.effects = g_effectManager:loadEffect(xmlFile, "handTool.sprayCan.effects" , self.components, self , self.i3dMappings)\n        g_effectManager:setEffectTypeInfo(spec.effects, FillType.WATER)\n        for _, effect in ipairs(spec.effects) do\n            if effect.setColor ~ = nil then\n                effect:setColor(color[ 1 ], color[ 2 ], color[ 3 ], color[ 4 ])\n            end\n        end\n    end\n\n    spec.sprayingSample = g_soundManager:loadSampleFromXML(xmlFile, "handTool.sprayCan.sounds" , "spraying" , self.baseDirectory, self.components, 0 , AudioGroup.VEHICLE, self.i3dMappings, self )\n\n    spec.foundTreeShape = nil\n    spec.foundTreeHitPosition = { 0 , 0 , 0 }\n    spec.treeMarkerTypeIndex = 1\n\n    if g_iconGenerator = = nil then\n        local mission = g_currentMission\n        local treeMarkerSystem = mission.treeMarkerSystem\n        spec.treeMarkerType = treeMarkerSystem:getTreeMarkerTypeByIndex(spec.treeMarkerTypeIndex)\n\n        if spec.treeMarkerType = = nil then\n            spec.treeMarkerTypeIndex = 1\n            spec.treeMarkerType = treeMarkerSystem:getTreeMarkerTypeByIndex(spec.treeMarkerTypeIndex)\n        end\n    end\n\n    spec.treeCrosshair = self:createCrosshairOverlayFromFile( "data/shared/treeMarker/markerTree_icon.png" , HandTool.DEFAULT_CROSSHAIR_SIZE_PIXELS * 2 )\n\n    if spec.treeMarkerType ~ = nil then\n        spec.treeTypeCrosshair = self:createCrosshairOverlayFromFile(spec.treeMarkerType.iconFilename, HandTool.DEFAULT_CROSSHAIR_SIZE_PIXELS * 2 )\n    end\n\n    spec.wasActivatePressed = false\n    spec.isSpraying = false\n    spec.numShakes = 3\n    spec.shakeDuration = 200\n    spec.shakeEndTime = 0\n    spec.delayedMarker = nil\n\n    spec.dirtyFlag = self:getNextDirtyFlag()\n\n    return true\nend\n\n'})}),"\n",(0,a.jsx)(n.h3,{id:"onpostload",children:"onPostLoad"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"onPostLoad()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,a.jsx)(n.table,{children:(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"savegame"})]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:'function HandToolSprayCan:onPostLoad(savegame)\n    if savegame ~ = nil then\n        local key = savegame.key .. ".sprayCan"\n        if savegame.xmlFile:hasProperty(key) then\n            local spec = self.spec_sprayCan\n            spec.remainingNumMarkers = math.clamp(savegame.xmlFile:getValue(key .. "#remainingNumMarkers" , spec.remainingNumMarkers), 1 , spec.maxTotalNumMarkers)\n        end\n    end\nend\n\n'})}),"\n",(0,a.jsx)(n.h3,{id:"onreadstream",children:"onReadStream"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"onReadStream()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"streamId"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"connection"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"carryingPlayer"})]})]})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function HandToolSprayCan:onReadStream(streamId, connection, carryingPlayer)\n    if connection:getIsServer() then\n        local spec = self.spec_sprayCan\n        spec.remainingNumMarkers = streamReadUInt8(streamId)\n    end\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"onreadupdatestream",children:"onReadUpdateStream"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"onReadUpdateStream()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"streamId"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"timestamp"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"connection"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"carryingPlayer"})]})]})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function HandToolSprayCan:onReadUpdateStream(streamId, timestamp, connection, carryingPlayer)\n    if connection:getIsServer() then\n        if streamReadBool(streamId) then\n            local spec = self.spec_sprayCan\n            spec.remainingNumMarkers = streamReadUInt8(streamId)\n        end\n    end\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"onregisteractionevents",children:"onRegisterActionEvents"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"onRegisterActionEvents()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:'function HandToolSprayCan:onRegisterActionEvents()\n    if not self:getIsActiveForInput( true ) then\n        return\n    end\n\n    local _, actionEventId = self:addActionEvent(InputAction.SPRAYCAN_CHANGE_MARKER, self , self.changeTreeMarkerType, false , true , false , true , nil )\n    g_inputBinding:setActionEventText(actionEventId, g_i18n:getText( "action_changeTreeMarkerType" ))\n\n    _, actionEventId = self:addActionEvent(InputAction.ACTIVATE_HANDTOOL, self , self.activateSpraying, true , true , true , true , nil )\n    g_inputBinding:setActionEventTextPriority(actionEventId, GS_PRIO_VERY_HIGH)\n    g_inputBinding:setActionEventText(actionEventId, g_i18n:getText( "action_sprayTreeMarker" ))\nend\n\n'})}),"\n",(0,a.jsx)(n.h3,{id:"onupdate",children:"onUpdate"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"onUpdate()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,a.jsx)(n.table,{children:(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"dt"})]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:'function HandToolSprayCan:onUpdate(dt)\n    local spec = self.spec_sprayCan\n\n    local player = self:getCarryingPlayer()\n    local allowInput = player ~ = nil and player.isOwner or false\n\n    if allowInput then\n        local targetTree = player.targeter.closestTargetsByKey[ HandToolSprayCan ]\n        spec.foundTargetTree = targetTree\n\n        if spec.activatePressed then\n            if not spec.wasActivatePressed and not spec.isSpraying then\n                local mission = g_currentMission\n                if spec.remainingNumMarkers > 0 then\n                    local x, y, z, _, _, _ = player:getLookRay()\n                    local treeMarkerTypeIndex = spec.treeMarkerTypeIndex\n                    local shape = nil\n                    local hitX, hitY, hitZ = nil , nil , nil\n\n                    if targetTree ~ = nil then\n                        shape = targetTree.node\n                        hitX, hitY, hitZ = targetTree.x, targetTree.y, targetTree.z\n                    end\n\n                    if self:getIsSprayingAllowed(shape) then\n                        g_client:getServerConnection():sendEvent(SprayCanEvent.new( self , treeMarkerTypeIndex, shape, x, y, z, hitX, hitY, hitZ))\n                    else\n                            mission:showBlinkingWarning(g_i18n:getText( "warning_youAreNotAllowedToMarkThisTree" , self.customEnvironment), 2000 )\n                        end\n                    else\n                            mission:showBlinkingWarning(g_i18n:getText( "warning_sprayCanIsEmpty" , self.customEnvironment), 2000 )\n                        end\n\n                        spec.wasActivatePressed = true\n                    end\n                end\n            end\n\n            if spec.delayedMarker ~ = nil and spec.delayedMarker.time < = g_ time then\n                self:processDelayedMarker()\n            end\n\n            if spec.isSpraying then\n                if allowInput then\n                    local x, y, z = spec.originalPos[ 1 ], spec.originalPos[ 2 ], spec.originalPos[ 3 ]\n                    local timeLeft = math.max( 0 , spec.shakeEndTime - g_ time )\n                    local factor = 1 - (timeLeft / spec.shakeDuration)\n                    local animValue = MathUtil.lerp( 0 , spec.numShakes, factor)\n\n                    x = x + math.sin(animValue * math.pi) * 0.01\n                    y = y + math.sin(animValue * math.pi) * 0.05\n                    z = z + math.sin(animValue * math.pi) * 0.01\n                    setTranslation(spec.canNode, x, y, z)\n                end\n\n                if g_ time > spec.sprayStopTime then\n                    self:setIsSpraying( false , false )\n                end\n            end\n\n            if not spec.activatePressed then\n                spec.wasActivatePressed = false\n            end\n\n            spec.activatePressed = false\n        end\n\n'})}),"\n",(0,a.jsx)(n.h3,{id:"onwritestream",children:"onWriteStream"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"onWriteStream()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"streamId"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"connection"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"dirtyMask"})]})]})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function HandToolSprayCan:onWriteStream(streamId, connection, dirtyMask)\n    if not connection:getIsServer() then\n        local spec = self.spec_sprayCan\n        streamWriteUInt8(streamId, spec.remainingNumMarkers)\n    end\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"onwriteupdatestream",children:"onWriteUpdateStream"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"onWriteUpdateStream()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"streamId"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"connection"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"dirtyMask"})]})]})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function HandToolSprayCan:onWriteUpdateStream(streamId, connection, dirtyMask)\n    if not connection:getIsServer() then\n        local spec = self.spec_sprayCan\n\n        if streamWriteBool(streamId, bit32.band(dirtyMask, spec.dirtyFlag) ~ = 0 ) then\n            streamWriteUInt8(streamId, spec.remainingNumMarkers)\n        end\n    end\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"prerequisitespresent",children:"prerequisitesPresent"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"prerequisitesPresent()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,a.jsx)(n.table,{children:(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"specializations"})]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function HandToolSprayCan.prerequisitesPresent(specializations)\n    return true\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"processdelayedmarker",children:"processDelayedMarker"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"processDelayedMarker()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function HandToolSprayCan:processDelayedMarker()\n    local spec = self.spec_sprayCan\n\n    if spec.delayedMarker ~ = nil then\n        local splitShapeId = spec.delayedMarker.splitShapeId\n        local treeMarkerTypeIndex = spec.delayedMarker.treeMarkerTypeIndex\n        local x = spec.delayedMarker.x\n        local y = spec.delayedMarker.y\n        local z = spec.delayedMarker.z\n        local hitX = spec.delayedMarker.hitX\n        local hitY = spec.delayedMarker.hitY\n        local hitZ = spec.delayedMarker.hitZ\n\n        if entityExists(splitShapeId) then\n            local r, g, b, a = spec.sprayColor[ 1 ], spec.sprayColor[ 2 ], spec.sprayColor[ 3 ], spec.sprayColor[ 4 ]\n            local mission = g_currentMission\n            local treeMarkerSystem = mission.treeMarkerSystem\n            treeMarkerSystem:addTreeMarkerCameraBased(splitShapeId, treeMarkerTypeIndex, r, g, b, a, x, y, z, hitX, hitY, hitZ, true )\n        end\n\n        spec.delayedMarker = nil\n    end\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"registereventlisteners",children:"registerEventListeners"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"registerEventListeners()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,a.jsx)(n.table,{children:(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"handToolType"})]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:'function HandToolSprayCan.registerEventListeners(handToolType)\n    SpecializationUtil.registerEventListener(handToolType, "onLoad" , HandToolSprayCan )\n    SpecializationUtil.registerEventListener(handToolType, "onPostLoad" , HandToolSprayCan )\n    SpecializationUtil.registerEventListener(handToolType, "onDelete" , HandToolSprayCan )\n    SpecializationUtil.registerEventListener(handToolType, "onUpdate" , HandToolSprayCan )\n    SpecializationUtil.registerEventListener(handToolType, "onDraw" , HandToolSprayCan )\n    SpecializationUtil.registerEventListener(handToolType, "onWriteStream" , HandToolSprayCan )\n    SpecializationUtil.registerEventListener(handToolType, "onReadStream" , HandToolSprayCan )\n    SpecializationUtil.registerEventListener(handToolType, "onWriteUpdateStream" , HandToolSprayCan )\n    SpecializationUtil.registerEventListener(handToolType, "onReadUpdateStream" , HandToolSprayCan )\n    SpecializationUtil.registerEventListener(handToolType, "onRegisterActionEvents" , HandToolSprayCan )\n    SpecializationUtil.registerEventListener(handToolType, "onHeldStart" , HandToolSprayCan )\n    SpecializationUtil.registerEventListener(handToolType, "onHeldEnd" , HandToolSprayCan )\nend\n\n'})}),"\n",(0,a.jsx)(n.h3,{id:"registerfunctions",children:"registerFunctions"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"registerFunctions()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,a.jsx)(n.table,{children:(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"handToolType"})]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:'function HandToolSprayCan.registerFunctions(handToolType)\n    SpecializationUtil.registerFunction(handToolType, "tryToAddTreeMarker" , HandToolSprayCan.tryToAddTreeMarker)\n    SpecializationUtil.registerFunction(handToolType, "processDelayedMarker" , HandToolSprayCan.processDelayedMarker)\n    SpecializationUtil.registerFunction(handToolType, "setIsSpraying" , HandToolSprayCan.setIsSpraying)\n    SpecializationUtil.registerFunction(handToolType, "changeTreeMarkerType" , HandToolSprayCan.changeTreeMarkerType)\n    SpecializationUtil.registerFunction(handToolType, "getIsSprayingAllowed" , HandToolSprayCan.getIsSprayingAllowed)\n    SpecializationUtil.registerFunction(handToolType, "activateSpraying" , HandToolSprayCan.activateSpraying)\nend\n\n'})}),"\n",(0,a.jsx)(n.h3,{id:"registersavegamexmlpaths",children:"registerSavegameXMLPaths"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"registerSavegameXMLPaths()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"savegameXMLSchema"})]})}),(0,a.jsx)(n.tbody,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"baseKey"})]})})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:'function HandToolSprayCan.registerSavegameXMLPaths(savegameXMLSchema, baseKey)\n    savegameXMLSchema:register(XMLValueType.INT, baseKey .. ".sprayCan#remainingNumMarkers" , "Remaining number of markers" )\nend\n\n'})}),"\n",(0,a.jsx)(n.h3,{id:"registerxmlpaths",children:"registerXMLPaths"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"registerXMLPaths()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,a.jsx)(n.table,{children:(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"xmlSchema"})]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:'function HandToolSprayCan.registerXMLPaths(xmlSchema)\n    xmlSchema:setXMLSpecializationType( "HandToolSprayCan" )\n    xmlSchema:register(XMLValueType.NODE_INDEX, "handTool.sprayCan#shakeNode" , "Shake node" )\n    xmlSchema:register(XMLValueType.STRING, "handTool.sprayCan#colorMaterialSlotName" , "Material slot name that should be colored" )\n    xmlSchema:register(XMLValueType.VECTOR_ 4 , "handTool.sprayCan#color" , "Color of the paint" )\n    xmlSchema:register(XMLValueType.FLOAT, "handTool.sprayCan#distance" , "Spray distance" )\n    xmlSchema:register(XMLValueType.FLOAT, "handTool.sprayCan#delay" , "Spray delay in seconds" )\n    xmlSchema:register(XMLValueType.INT, "handTool.sprayCan#totalNumMarkers" , "Total number of markers" )\n    SoundManager.registerSampleXMLPaths(xmlSchema, "handTool.sprayCan.sounds" , "spraying" )\n    EffectManager.registerEffectXMLPaths(xmlSchema, "handTool.sprayCan.effects" )\n    xmlSchema:setXMLSpecializationType()\nend\n\n'})}),"\n",(0,a.jsx)(n.h3,{id:"savetoxmlfile",children:"saveToXMLFile"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"saveToXMLFile()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"xmlFile"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"key"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"usedModNames"})]})]})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:'function HandToolSprayCan:saveToXMLFile(xmlFile, key, usedModNames)\n    local spec = self.spec_sprayCan\n\n    xmlFile:setValue(key .. "#remainingNumMarkers" , spec.remainingNumMarkers)\nend\n\n'})}),"\n",(0,a.jsx)(n.h3,{id:"setisspraying",children:"setIsSpraying"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"setIsSpraying()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"isSpraying"})]})}),(0,a.jsx)(n.tbody,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"force"})]})})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function HandToolSprayCan:setIsSpraying(isSpraying, force)\n    local spec = self.spec_sprayCan\n    if spec.isSpraying ~ = isSpraying then\n        if isSpraying then\n            if self:getIsHeld() then\n                g_effectManager:startEffects(spec.effects)\n                g_soundManager:playSample(spec.sprayingSample)\n                spec.shakeEndTime = g_ time + spec.shakeDuration\n                spec.isSpraying = true\n            end\n        else\n                if force then\n                    g_effectManager:resetEffects(spec.effects)\n                end\n\n                g_effectManager:stopEffects(spec.effects)\n                g_soundManager:stopSample(spec.sprayingSample)\n                spec.sprayStopTime = 0\n                spec.isSpraying = false\n            end\n        end\n    end\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"trytoaddtreemarker",children:"tryToAddTreeMarker"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"tryToAddTreeMarker()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"treeMarkerTypeIndex"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"splitShapeId"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"x"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"y"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"z"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"hitX"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"hitY"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"hitZ"})]})]})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function HandToolSprayCan:tryToAddTreeMarker(treeMarkerTypeIndex, splitShapeId, x, y, z, hitX, hitY, hitZ)\n    local spec = self.spec_sprayCan\n\n    self:setIsSpraying( true , false )\n    spec.sprayStopTime = g_ time + spec.sprayDuration\n\n    spec.remainingNumMarkers = spec.remainingNumMarkers - 1\n    if self.isServer then\n        self:raiseDirtyFlags(spec.dirtyFlag)\n    end\n\n    if splitShapeId ~ = nil then\n        if self:getIsSprayingAllowed(splitShapeId) then\n            spec.delayedMarker = {\n            time = g_ time + spec.sprayDelay,\n            splitShapeId = splitShapeId,\n            treeMarkerTypeIndex = treeMarkerTypeIndex,\n            hitX = hitX,\n            hitY = hitY,\n            hitZ = hitZ,\n            x = x,\n            y = y,\n            z = z\n            }\n        end\n    end\nend\n\n"})})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(o,{...e})}):o(e)}},28453(e,n,r){r.d(n,{R:()=>t,x:()=>l});var s=r(96540);const a={},i=s.createContext(a);function t(e){const n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:t(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);