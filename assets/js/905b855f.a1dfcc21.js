"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[85565],{8541(e,n,t){t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>p,frontMatter:()=>i,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"script/Materials/ParticleSystemManager","title":"ParticleSystemManager","description":"ParticleSystemManager","source":"@site/../docs/script/Materials/ParticleSystemManager.md","sourceDirName":"script/Materials","slug":"/script/Materials/ParticleSystemManager","permalink":"/FS25-Community-LUADOC/script/Materials/ParticleSystemManager","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"MotionPathEffectManager","permalink":"/FS25-Community-LUADOC/script/Materials/MotionPathEffectManager"},"next":{"title":"AbstractManager","permalink":"/FS25-Community-LUADOC/script/Misc/AbstractManager"}}');var l=t(74848),s=t(28453);const i={},a=void 0,d={},c=[{value:"ParticleSystemManager",id:"particlesystemmanager",level:2},{value:"addParticleSystem",id:"addparticlesystem",level:3},{value:"addParticleType",id:"addparticletype",level:3},{value:"getParticleSystem",id:"getparticlesystem",level:3},{value:"getParticleSystemTypeByName",id:"getparticlesystemtypebyname",level:3},{value:"initDataStructures",id:"initdatastructures",level:3},{value:"loadMapData",id:"loadmapdata",level:3},{value:"new",id:"new",level:3},{value:"unloadMapData",id:"unloadmapdata",level:3}];function h(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.h2,{id:"particlesystemmanager",children:"ParticleSystemManager"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"This class handles all particles"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Parent"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.a,{href:"?version=script&category=57&class=552",children:"AbstractManager"})}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Functions"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#addparticlesystem",children:"addParticleSystem"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#addparticletype",children:"addParticleType"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#getparticlesystem",children:"getParticleSystem"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#getparticlesystemtypebyname",children:"getParticleSystemTypeByName"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#initdatastructures",children:"initDataStructures"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#loadmapdata",children:"loadMapData"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#new",children:"new"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#unloadmapdata",children:"unloadMapData"})}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"addparticlesystem",children:"addParticleSystem"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"Adds a new material type"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"addParticleSystem(string particleType, integer materialIndex, integer materialId)"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"string"}),(0,l.jsx)(n.th,{children:"particleType"}),(0,l.jsx)(n.th,{children:"particleType"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"integer"}),(0,l.jsx)(n.td,{children:"materialIndex"}),(0,l.jsx)(n.td,{children:"material index"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"integer"}),(0,l.jsx)(n.td,{children:"materialId"}),(0,l.jsx)(n.td,{children:"internal material id"})]})]})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"function ParticleSystemManager:addParticleSystem(particleType, particleSystem)\n    if self.particleSystems[particleType] ~ = nil then\n        ParticleUtil.deleteParticleSystem( self.particleSystems[particleType])\n    end\n\n    self.particleSystems[particleType] = particleSystem\nend\n\n"})}),"\n",(0,l.jsx)(n.h3,{id:"addparticletype",children:"addParticleType"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"Adds a new particle type"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"addParticleType(string name)"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,l.jsx)(n.table,{children:(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"string"}),(0,l.jsx)(n.th,{children:"name"}),(0,l.jsx)(n.th,{children:"name"})]})})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:'function ParticleSystemManager:addParticleType(name)\n    if not ClassUtil.getIsValidIndexName(name) then\n        printWarning( "Warning: \'" .. tostring(name) .. "\' is not a valid name for a particleType.Ignoring it!" )\n            return nil\n        end\n\n        name = string.upper(name)\n\n        if self.nameToIndex[name] = = nil then\n            table.insert( self.particleTypes, name)\n            self.nameToIndex[name] = # self.particleTypes\n        end\n\n        return nil\n    end\n\n'})}),"\n",(0,l.jsx)(n.h3,{id:"getparticlesystem",children:"getParticleSystem"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"Returns particle system for given properties"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"getParticleSystem(integer fillType, string particleTypeName)"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"integer"}),(0,l.jsx)(n.th,{children:"fillType"}),(0,l.jsx)(n.th,{children:"fill type"})]})}),(0,l.jsx)(n.tbody,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"string"}),(0,l.jsx)(n.td,{children:"particleTypeName"}),(0,l.jsx)(n.td,{children:"name of particle type"})]})})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n",(0,l.jsx)(n.table,{children:(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"string"}),(0,l.jsx)(n.th,{children:"particleSystem"})]})})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"function ParticleSystemManager:getParticleSystem(particleTypeName)\n    local particleType = self:getParticleSystemTypeByName(particleTypeName)\n    if particleType = = nil then\n        return nil\n    end\n\n    return self.particleSystems[particleType]\nend\n\n"})}),"\n",(0,l.jsx)(n.h3,{id:"getparticlesystemtypebyname",children:"getParticleSystemTypeByName"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"Returns a particleType by name"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"getParticleSystemTypeByName(string name)"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,l.jsx)(n.table,{children:(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"string"}),(0,l.jsx)(n.th,{children:"name"}),(0,l.jsx)(n.th,{children:"name of particle type"})]})})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,l.jsx)(n.table,{children:(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"string"}),(0,l.jsx)(n.th,{children:"particleType"}),(0,l.jsx)(n.th,{children:"the real particle name, nil if not defined"})]})})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"function ParticleSystemManager:getParticleSystemTypeByName(name)\n    if name ~ = nil then\n        name = string.upper(name)\n\n        -- atm we just return the uppercase name because a particle type is only defined as a base string\n        if self.nameToIndex[name] ~ = nil then\n            return name\n        end\n    end\n\n    return nil\nend\n\n"})}),"\n",(0,l.jsx)(n.h3,{id:"initdatastructures",children:"initDataStructures"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"Initialize data structures"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"initDataStructures()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"function ParticleSystemManager:initDataStructures()\n    self.nameToIndex = { }\n    self.particleTypes = { }\n    self.particleSystems = { }\nend\n\n"})}),"\n",(0,l.jsx)(n.h3,{id:"loadmapdata",children:"loadMapData"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"Load data on map load"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"loadMapData()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,l.jsx)(n.table,{children:(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"string"}),(0,l.jsx)(n.th,{children:"true"}),(0,l.jsx)(n.th,{children:"if loading was successful else false"})]})})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:'function ParticleSystemManager:loadMapData()\n    ParticleSystemManager:superClass().loadMapData( self )\n\n    self:addParticleType( "unloading" )\n    self:addParticleType( "smoke" )\n    self:addParticleType( "smoke_damping" )\n    self:addParticleType( "smoke_chimney" )\n    self:addParticleType( "smoke_train_main" )\n    self:addParticleType( "smoke_train_side" )\n    self:addParticleType( "chopper" )\n    self:addParticleType( "straw" )\n    self:addParticleType( "cutter_chopper" )\n    self:addParticleType( "soil" )\n    self:addParticleType( "soil_smoke" )\n    self:addParticleType( "soil_chunks" )\n    self:addParticleType( "soil_big_chunks" )\n    self:addParticleType( "soil_harvesting" )\n    self:addParticleType( "spreader" )\n    self:addParticleType( "spreader_smoke" )\n    self:addParticleType( "windrower" )\n    self:addParticleType( "tedder" )\n    self:addParticleType( "weeder" )\n    self:addParticleType( "crusher_wood" )\n    self:addParticleType( "crusher_dust" )\n    self:addParticleType( "prepare_fruit" )\n    self:addParticleType( "cleaning_soil" )\n    self:addParticleType( "cleaning_dust" )\n    self:addParticleType( "washer_water" )\n    self:addParticleType( "chainsaw_wood" )\n    self:addParticleType( "chainsaw_dust" )\n    self:addParticleType( "pickup" )\n    self:addParticleType( "pickup_falling" )\n    self:addParticleType( "sowing" )\n    self:addParticleType( "loading" )\n    self:addParticleType( "wheel_dust" )\n    self:addParticleType( "wheel_dry" )\n    self:addParticleType( "wheel_wet" )\n    self:addParticleType( "wheel_snow" )\n    self:addParticleType( "bees" )\n    self:addParticleType( "horse_step_slow" )\n    self:addParticleType( "horse_step_fast" )\n    self:addParticleType( "spraycan_paint" )\n    self:addParticleType( "HYDRAULIC_HAMMER" )\n    self:addParticleType( "HYDRAULIC_HAMMER_DEBRIS" )\n    self:addParticleType( "STONE" )\n\n    ParticleType = self.nameToIndex\n\n    return true\nend\n\n'})}),"\n",(0,l.jsx)(n.h3,{id:"new",children:"new"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"Creating manager"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"new()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,l.jsx)(n.table,{children:(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"any"}),(0,l.jsx)(n.th,{children:"customMt"})]})})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,l.jsx)(n.table,{children:(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"any"}),(0,l.jsx)(n.th,{children:"instance"}),(0,l.jsx)(n.th,{children:"instance of object"})]})})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"function ParticleSystemManager.new(customMt)\n    local self = AbstractManager.new(customMt or ParticleSystemManager _mt)\n\n    return self\nend\n\n"})}),"\n",(0,l.jsx)(n.h3,{id:"unloadmapdata",children:"unloadMapData"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Description"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"Unload data on mission delete"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Definition"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"unloadMapData()"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Code"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"function ParticleSystemManager:unloadMapData()\n    for _, fillTypeParticleSystem in pairs( self.particleSystems) do\n        ParticleUtil.deleteParticleSystem(fillTypeParticleSystem)\n    end\n\n    ParticleSystemManager:superClass().unloadMapData( self )\nend\n\n"})})]})}function p(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(h,{...e})}):h(e)}},28453(e,n,t){t.d(n,{R:()=>i,x:()=>a});var r=t(96540);const l={},s=r.createContext(l);function i(e){const n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:i(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);