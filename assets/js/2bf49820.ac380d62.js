"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[62588],{25718(e,n,r){r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>t,default:()=>h,frontMatter:()=>s,metadata:()=>l,toc:()=>c});const l=JSON.parse('{"id":"script/Specializations/Wearable","title":"Wearable","description":"Wearable","source":"@site/../docs/script/Specializations/Wearable.md","sourceDirName":"script/Specializations","slug":"/script/Specializations/Wearable","permalink":"/FS25-Community-LUADOC/script/Specializations/Wearable","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"WaterTrailer","permalink":"/FS25-Community-LUADOC/script/Specializations/WaterTrailer"},"next":{"title":"WeedSpotSpray","permalink":"/FS25-Community-LUADOC/script/Specializations/WeedSpotSpray"}}');var a=r(74848),i=r(28453);const s={},t=void 0,d={},c=[{value:"Wearable",id:"wearable",level:2},{value:"addAllSubWearableNodes",id:"addallsubwearablenodes",level:3},{value:"addDamageAmount",id:"adddamageamount",level:3},{value:"addToGlobalWearableNode",id:"addtoglobalwearablenode",level:3},{value:"addToLocalWearableNode",id:"addtolocalwearablenode",level:3},{value:"addWearableNode",id:"addwearablenode",level:3},{value:"addWearAmount",id:"addwearamount",level:3},{value:"calculateRepaintPrice",id:"calculaterepaintprice",level:3},{value:"calculateRepairPrice",id:"calculaterepairprice",level:3},{value:"getDamageAmount",id:"getdamageamount",level:3},{value:"getDamageShowOnHud",id:"getdamageshowonhud",level:3},{value:"getNodeWearAmount",id:"getnodewearamount",level:3},{value:"getRepaintPrice",id:"getrepaintprice",level:3},{value:"getRepairPrice",id:"getrepairprice",level:3},{value:"getSpecValueCondition",id:"getspecvaluecondition",level:3},{value:"getUsageCausesDamage",id:"getusagecausesdamage",level:3},{value:"getUsageCausesWear",id:"getusagecauseswear",level:3},{value:"getVehicleDamage",id:"getvehicledamage",level:3},{value:"getWearMultiplier",id:"getwearmultiplier",level:3},{value:"getWearTotalAmount",id:"getweartotalamount",level:3},{value:"getWorkWearMultiplier",id:"getworkwearmultiplier",level:3},{value:"initSpecialization",id:"initspecialization",level:3},{value:"loadSpecValueCondition",id:"loadspecvaluecondition",level:3},{value:"onLoad",id:"onload",level:3},{value:"onLoadFinished",id:"onloadfinished",level:3},{value:"onReadStream",id:"onreadstream",level:3},{value:"onReadUpdateStream",id:"onreadupdatestream",level:3},{value:"onSaleItemSet",id:"onsaleitemset",level:3},{value:"onUpdateTick",id:"onupdatetick",level:3},{value:"onWriteStream",id:"onwritestream",level:3},{value:"onWriteUpdateStream",id:"onwriteupdatestream",level:3},{value:"prerequisitesPresent",id:"prerequisitespresent",level:3},{value:"registerEventListeners",id:"registereventlisteners",level:3},{value:"registerFunctions",id:"registerfunctions",level:3},{value:"registerOverwrittenFunctions",id:"registeroverwrittenfunctions",level:3},{value:"removeAllSubWearableNodes",id:"removeallsubwearablenodes",level:3},{value:"removeWearableNode",id:"removewearablenode",level:3},{value:"repairVehicle",id:"repairvehicle",level:3},{value:"saveToXMLFile",id:"savetoxmlfile",level:3},{value:"setDamageAmount",id:"setdamageamount",level:3},{value:"setNodeWearAmount",id:"setnodewearamount",level:3},{value:"showInfo",id:"showinfo",level:3},{value:"updateDamageAmount",id:"updatedamageamount",level:3},{value:"updateDebugValues",id:"updatedebugvalues",level:3},{value:"updateWearAmount",id:"updatewearamount",level:3},{value:"validateWearableNode",id:"validatewearablenode",level:3}];function o(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h2,{id:"wearable",children:"Wearable"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"Specialization allowing vehicles to wear off (with visual and funcional consequences) and be repaired again"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Functions"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#addallsubwearablenodes",children:"addAllSubWearableNodes"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#adddamageamount",children:"addDamageAmount"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#addtoglobalwearablenode",children:"addToGlobalWearableNode"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#addtolocalwearablenode",children:"addToLocalWearableNode"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#addwearablenode",children:"addWearableNode"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#addwearamount",children:"addWearAmount"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#calculaterepaintprice",children:"calculateRepaintPrice"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#calculaterepairprice",children:"calculateRepairPrice"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#getdamageamount",children:"getDamageAmount"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#getdamageshowonhud",children:"getDamageShowOnHud"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#getnodewearamount",children:"getNodeWearAmount"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#getrepaintprice",children:"getRepaintPrice"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#getrepairprice",children:"getRepairPrice"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#getspecvaluecondition",children:"getSpecValueCondition"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#getusagecausesdamage",children:"getUsageCausesDamage"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#getusagecauseswear",children:"getUsageCausesWear"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#getvehicledamage",children:"getVehicleDamage"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#getwearmultiplier",children:"getWearMultiplier"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#getweartotalamount",children:"getWearTotalAmount"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#getworkwearmultiplier",children:"getWorkWearMultiplier"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#initspecialization",children:"initSpecialization"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#loadspecvaluecondition",children:"loadSpecValueCondition"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#onload",children:"onLoad"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#onloadfinished",children:"onLoadFinished"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#onreadstream",children:"onReadStream"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#onreadupdatestream",children:"onReadUpdateStream"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#onsaleitemset",children:"onSaleItemSet"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#onupdatetick",children:"onUpdateTick"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#onwritestream",children:"onWriteStream"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#onwriteupdatestream",children:"onWriteUpdateStream"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#prerequisitespresent",children:"prerequisitesPresent"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#registereventlisteners",children:"registerEventListeners"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#registerfunctions",children:"registerFunctions"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#registeroverwrittenfunctions",children:"registerOverwrittenFunctions"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#removeallsubwearablenodes",children:"removeAllSubWearableNodes"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#removewearablenode",children:"removeWearableNode"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#repairvehicle",children:"repairVehicle"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#savetoxmlfile",children:"saveToXMLFile"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#setdamageamount",children:"setDamageAmount"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#setnodewearamount",children:"setNodeWearAmount"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#showinfo",children:"showInfo"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#updatedamageamount",children:"updateDamageAmount"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#updatedebugvalues",children:"updateDebugValues"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#updatewearamount",children:"updateWearAmount"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#validatewearablenode",children:"validateWearableNode"})}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"addallsubwearablenodes",children:"addAllSubWearableNodes"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"addAllSubWearableNodes()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,a.jsx)(n.table,{children:(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"rootNode"})]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:'function Wearable:addAllSubWearableNodes(rootNode)\n    if rootNode ~ = nil then\n        I3DUtil.iterateShaderParameterNodesRecursively(rootNode, "scratches_dirt_snow_wetness" , self.addWearableNode, self )\n    end\nend\n\n'})}),"\n",(0,a.jsx)(n.h3,{id:"adddamageamount",children:"addDamageAmount"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"addDamageAmount()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"amount"})]})}),(0,a.jsx)(n.tbody,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"force"})]})})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Wearable:addDamageAmount(amount, force)\n    local spec = self.spec_wearable\n    self:setDamageAmount(spec.damage + amount, force)\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"addtoglobalwearablenode",children:"addToGlobalWearableNode"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"addToGlobalWearableNode()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,a.jsx)(n.table,{children:(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"node"})]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Wearable:addToGlobalWearableNode(node)\n    local spec = self.spec_wearable\n    if spec.wearableNodes[ 1 ] ~ = nil then\n        spec.wearableNodes[ 1 ].nodes[node] = node\n    end\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"addtolocalwearablenode",children:"addToLocalWearableNode"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"addToLocalWearableNode()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"node"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"updateFunc"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"customIndex"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"extraParams"})]})]})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Wearable:addToLocalWearableNode(node, updateFunc, customIndex, extraParams)\n    local spec = self.spec_wearable\n\n    local nodeData = { }\n\n    --if wearableNode already exists we add node to existing wearableNode\n        if customIndex ~ = nil then\n            if spec.wearableNodesByIndex[customIndex] ~ = nil then\n                spec.wearableNodesByIndex[customIndex].nodes[node] = node\n                return\n            else\n                    spec.wearableNodesByIndex[customIndex] = nodeData\n                end\n            end\n\n            --if wearableNode doesn't exists we create a new one\n                nodeData.nodes = { }\n                if node ~ = nil then\n                    nodeData.nodes[node] = node\n                end\n\n                nodeData.updateFunc = updateFunc\n                nodeData.wearAmount = 0\n                nodeData.wearAmountSent = 0\n                if extraParams ~ = nil then\n                    for i, v in pairs(extraParams) do\n                        nodeData[i] = v\n                    end\n                end\n\n                table.insert(spec.wearableNodes, nodeData)\n            end\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"addwearablenode",children:"addWearableNode"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"addWearableNode()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,a.jsx)(n.table,{children:(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"node"})]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Wearable:addWearableNode(node)\n    local isGlobal, updateFunc, customIndex, extraParams = self:validateWearableNode(node)\n    if isGlobal then\n        self:addToGlobalWearableNode(node)\n    elseif updateFunc ~ = nil then\n            self:addToLocalWearableNode(node, updateFunc, customIndex, extraParams)\n        end\n    end\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"addwearamount",children:"addWearAmount"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"addWearAmount()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"wearAmount"})]})}),(0,a.jsx)(n.tbody,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"force"})]})})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Wearable:addWearAmount(wearAmount, force)\n    local spec = self.spec_wearable\n    if spec.wearableNodes ~ = nil then\n        for _, nodeData in ipairs(spec.wearableNodes) do\n            self:setNodeWearAmount(nodeData, self:getNodeWearAmount(nodeData) + wearAmount, force)\n        end\n    end\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"calculaterepaintprice",children:"calculateRepaintPrice"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"Also used by the sale system"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"calculateRepaintPrice()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"price"})]})}),(0,a.jsx)(n.tbody,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"wear"})]})})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Wearable.calculateRepaintPrice(price, wear)\n    return price * math.sqrt(wear / 100 ) * 2\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"calculaterepairprice",children:"calculateRepairPrice"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"Also used by the sale system"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"calculateRepairPrice()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"price"})]})}),(0,a.jsx)(n.tbody,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"damage"})]})})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Wearable.calculateRepairPrice(price, damage)\n    -- up to 9% of the price at full damage\n    -- repairing more often at low damages is rewarded - repairing always at 10% saves about half of the repair price\n    return price * math.pow(damage, 1.5 ) * 0.09\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"getdamageamount",children:"getDamageAmount"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"Get the amount of damage this vehicle has."}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"getDamageAmount()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n",(0,a.jsx)(n.table,{children:(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"total"})]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Wearable:getDamageAmount()\n    return self.spec_wearable.damage\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"getdamageshowonhud",children:"getDamageShowOnHud"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"Returns if the damage should be visualized on the hud"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"getDamageShowOnHud()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,a.jsx)(n.table,{children:(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"showOnHud"}),(0,a.jsx)(n.th,{children:"show damage on hud"})]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Wearable:getDamageShowOnHud()\n    return self.spec_wearable.showOnHud\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"getnodewearamount",children:"getNodeWearAmount"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"getNodeWearAmount()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,a.jsx)(n.table,{children:(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"nodeData"})]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Wearable:getNodeWearAmount(nodeData)\n    return nodeData.wearAmount\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"getrepaintprice",children:"getRepaintPrice"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"getRepaintPrice()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,a.jsx)(n.table,{children:(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Wearable:getRepaintPrice(superFunc)\n    return superFunc( self ) + Wearable.calculateRepaintPrice( self:getPrice() , self:getWearTotalAmount())\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"getrepairprice",children:"getRepairPrice"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"Get the price of a repair"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"getRepairPrice()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,a.jsx)(n.table,{children:(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Wearable:getRepairPrice(superFunc)\n    return superFunc( self ) + Wearable.calculateRepairPrice( self:getPrice(), self.spec_wearable.damage)\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"getspecvaluecondition",children:"getSpecValueCondition"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"getSpecValueCondition()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"storeItem"})]})}),(0,a.jsx)(n.tbody,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"realItem"})]})})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:'function Wearable.getSpecValueCondition(storeItem, realItem)\n    if realItem = = nil then\n        return nil\n    end\n\n    if realItem.getDamageAmount = = nil then\n        return nil\n    end\n\n    return string.format( "%d%%" , realItem:getDamageAmount() * 100 )\nend\n\n'})}),"\n",(0,a.jsx)(n.h3,{id:"getusagecausesdamage",children:"getUsageCausesDamage"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"Damage causes lower performance which impacts mission results."}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"getUsageCausesDamage()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Wearable:getUsageCausesDamage()\n    if self.spec_motorized = = nil then\n        if getIsSleeping( self.rootNode) then\n            return false\n        end\n    end\n\n    return self.isActive and self.propertyState ~ = VehiclePropertyState.MISSION\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"getusagecauseswear",children:"getUsageCausesWear"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"getUsageCausesWear()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Wearable:getUsageCausesWear()\n    return true\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"getvehicledamage",children:"getVehicleDamage"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"Get damage: affects how well the machine works"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"getVehicleDamage()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,a.jsx)(n.table,{children:(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Wearable:getVehicleDamage(superFunc)\n    return math.min(superFunc( self ) + self.spec_wearable.damageByCurve, 1 )\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"getwearmultiplier",children:"getWearMultiplier"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"Get wear multiplier"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"getWearMultiplier()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n",(0,a.jsx)(n.table,{children:(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"multiplier"})]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Wearable:getWearMultiplier()\n    local spec = self.spec_wearable\n\n    local multiplier = 1\n    if self:getLastSpeed() < 1 then\n        multiplier = 0\n    end\n\n    if self.isOnField then\n        multiplier = multiplier * spec.fieldMultiplier\n    end\n\n    return multiplier\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"getweartotalamount",children:"getWearTotalAmount"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"Get the total wear"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"getWearTotalAmount()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n",(0,a.jsx)(n.table,{children:(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"total"})]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Wearable:getWearTotalAmount()\n    return self.spec_wearable.totalAmount\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"getworkwearmultiplier",children:"getWorkWearMultiplier"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"Get work wear multiplier"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"getWorkWearMultiplier()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n",(0,a.jsx)(n.table,{children:(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"multiplier"})]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Wearable:getWorkWearMultiplier()\n    local spec = self.spec_wearable\n\n    return spec.workMultiplier\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"initspecialization",children:"initSpecialization"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"initSpecialization()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:'function Wearable.initSpecialization()\n    if Platform.gameplay.hasVehicleDamage then\n        g_storeManager:addSpecType( "wearable" , "shopListAttributeIconCondition" , Wearable.loadSpecValueCondition, Wearable.getSpecValueCondition, StoreSpecies.VEHICLE)\n    end\n\n    local schema = Vehicle.xmlSchema\n    schema:setXMLSpecializationType( "Wearable" )\n\n    schema:register(XMLValueType.FLOAT, "vehicle.wearable#wearDuration" , "Duration until fully worn(minutes)" , 600 )\n    schema:register(XMLValueType.FLOAT, "vehicle.wearable#workMultiplier" , "Multiplier while working" , 20 )\n        schema:register(XMLValueType.FLOAT, "vehicle.wearable#fieldMultiplier" , "Multiplier while on field" , 2 )\n            schema:register(XMLValueType.BOOL, "vehicle.wearable#showOnHud" , "Show the damage on the hud" , true )\n\n            schema:setXMLSpecializationType()\n\n            local schemaSavegame = Vehicle.xmlSchemaSavegame\n            schemaSavegame:register(XMLValueType.FLOAT, "vehicles.vehicle(?).wearable.wearNode(?)#amount" , "Wear amount" )\n            schemaSavegame:register(XMLValueType.FLOAT, "vehicles.vehicle(?).wearable#damage" , "Damage amount" )\n        end\n\n'})}),"\n",(0,a.jsx)(n.h3,{id:"loadspecvaluecondition",children:"loadSpecValueCondition"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"loadSpecValueCondition()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"xmlFile"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"customEnvironment"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"baseDir"})]})]})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Wearable.loadSpecValueCondition(xmlFile, customEnvironment, baseDir)\n    -- No data to load as this spec is only for existing items\n        return nil\n    end\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"onload",children:"onLoad"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"onLoad()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,a.jsx)(n.table,{children:(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"savegame"})]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:'function Wearable:onLoad(savegame)\n    local spec = self.spec_wearable\n\n    spec.wearableNodes = { }\n    spec.wearableNodesByIndex = { }\n    self:addToLocalWearableNode( nil , Wearable.updateWearAmount, nil , nil ) -- create global / default wearableNode\n\n    spec.wearDuration = self.xmlFile:getValue( "vehicle.wearable#wearDuration" , 600 ) * 60 * 1000 -- default 600min / 10h\n    if spec.wearDuration ~ = 0 then\n        spec.wearDuration = 1 / spec.wearDuration * Wearable.WEAR_FACTOR\n    end\n\n    spec.totalAmount = 0\n\n    spec.damage = 0\n    spec.damageByCurve = 0\n    spec.damageSent = 0\n\n    spec.workMultiplier = self.xmlFile:getValue( "vehicle.wearable#workMultiplier" , 20 )\n    spec.fieldMultiplier = self.xmlFile:getValue( "vehicle.wearable#fieldMultiplier" , 2 )\n\n    spec.showOnHud = self.xmlFile:getValue( "vehicle.wearable#showOnHud" , true )\n\n    spec.dirtyFlag = self:getNextDirtyFlag()\nend\n\n'})}),"\n",(0,a.jsx)(n.h3,{id:"onloadfinished",children:"onLoadFinished"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"onLoadFinished()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,a.jsx)(n.table,{children:(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"savegame"})]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:'function Wearable:onLoadFinished(savegame)\n    local spec = self.spec_wearable\n\n    if savegame ~ = nil then\n        spec.damage = savegame.xmlFile:getValue(savegame.key .. ".wearable#damage" , 0 )\n        spec.damageByCurve = math.max(spec.damage - 0.3 , 0 ) / 0.7\n    end\n\n    -- getting als wearable nodes in postLoad to make sure also linked nodes are wearable\n    if spec.wearableNodes ~ = nil then\n        for _, component in pairs( self.components) do\n            self:addAllSubWearableNodes(component.node)\n        end\n\n        if savegame ~ = nil then\n            for i, nodeData in ipairs(spec.wearableNodes) do\n                local nodeKey = string.format( "%s.wearable.wearNode(%d)" , savegame.key, i - 1 )\n                local amount = savegame.xmlFile:getValue(nodeKey .. "#amount" , 0 )\n                self:setNodeWearAmount(nodeData, amount, true )\n            end\n        else\n                for _, nodeData in ipairs(spec.wearableNodes) do\n                    self:setNodeWearAmount(nodeData, 0 , true )\n                end\n            end\n        end\n    end\n\n'})}),"\n",(0,a.jsx)(n.h3,{id:"onreadstream",children:"onReadStream"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"onReadStream()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"streamId"})]})}),(0,a.jsx)(n.tbody,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"connection"})]})})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Wearable:onReadStream(streamId, connection)\n    local spec = self.spec_wearable\n\n    self:setDamageAmount(streamReadUIntN(streamId, Wearable.SEND_NUM_BITS) / Wearable.SEND_MAX_VALUE, true )\n\n    if spec.wearableNodes ~ = nil then\n        for _, nodeData in ipairs(spec.wearableNodes) do\n            local wearAmount = streamReadUIntN(streamId, Wearable.SEND_NUM_BITS) / Wearable.SEND_MAX_VALUE\n            self:setNodeWearAmount(nodeData, wearAmount, true )\n        end\n    end\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"onreadupdatestream",children:"onReadUpdateStream"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"onReadUpdateStream()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"streamId"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"timestamp"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"connection"})]})]})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Wearable:onReadUpdateStream(streamId, timestamp, connection)\n    local spec = self.spec_wearable\n\n    if connection:getIsServer() then\n        if streamReadBool(streamId) then\n            self:setDamageAmount(streamReadUIntN(streamId, Wearable.SEND_NUM_BITS) / Wearable.SEND_MAX_VALUE, true )\n\n            if spec.wearableNodes ~ = nil then\n                for _, nodeData in ipairs(spec.wearableNodes) do\n                    local wearAmount = streamReadUIntN(streamId, Wearable.SEND_NUM_BITS) / Wearable.SEND_MAX_VALUE\n                    self:setNodeWearAmount(nodeData, wearAmount, true )\n                end\n            end\n        end\n    end\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"onsaleitemset",children:"onSaleItemSet"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"onSaleItemSet()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,a.jsx)(n.table,{children:(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"saleItem"})]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Wearable:onSaleItemSet(saleItem)\n    self:addDamageAmount(saleItem.damage or 0 , true )\n    self:addWearAmount(saleItem.wear or 0 , true )\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"onupdatetick",children:"onUpdateTick"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"onUpdateTick()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"dt"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"isActiveForInput"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"isActiveForInputIgnoreSelection"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"isSelected"})]})]})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Wearable:onUpdateTick(dt, isActiveForInput, isActiveForInputIgnoreSelection, isSelected)\n    local spec = self.spec_wearable\n\n    if spec.wearableNodes ~ = nil then\n        if self.isServer then\n            local changeAmount = self:updateDamageAmount(dt)\n            if changeAmount ~ = 0 then\n                self:setDamageAmount(spec.damage + changeAmount)\n            end\n\n            for _, nodeData in ipairs(spec.wearableNodes) do\n                local changedAmount = nodeData.updateFunc( self , nodeData, dt)\n                if changedAmount ~ = 0 then\n                    self:setNodeWearAmount(nodeData, self:getNodeWearAmount(nodeData) + changedAmount)\n                end\n            end\n        end\n    end\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"onwritestream",children:"onWriteStream"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"onWriteStream()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"streamId"})]})}),(0,a.jsx)(n.tbody,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"connection"})]})})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Wearable:onWriteStream(streamId, connection)\n    local spec = self.spec_wearable\n\n    streamWriteUIntN(streamId, math.floor(spec.damage * Wearable.SEND_MAX_VALUE + 0.5 ), Wearable.SEND_NUM_BITS)\n\n    if spec.wearableNodes ~ = nil then\n        for _, nodeData in ipairs(spec.wearableNodes) do\n            streamWriteUIntN(streamId, math.floor( self:getNodeWearAmount(nodeData) * Wearable.SEND_MAX_VALUE + 0.5 ), Wearable.SEND_NUM_BITS)\n        end\n    end\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"onwriteupdatestream",children:"onWriteUpdateStream"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"onWriteUpdateStream()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"streamId"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"connection"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"dirtyMask"})]})]})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Wearable:onWriteUpdateStream(streamId, connection, dirtyMask)\n    local spec = self.spec_wearable\n\n    if not connection:getIsServer() then\n        if streamWriteBool(streamId, bit32.band(dirtyMask, spec.dirtyFlag) ~ = 0 ) then\n            streamWriteUIntN(streamId, math.floor(spec.damage * Wearable.SEND_MAX_VALUE + 0.5 ), Wearable.SEND_NUM_BITS)\n\n            if spec.wearableNodes ~ = nil then\n                for _, nodeData in ipairs(spec.wearableNodes) do\n                    streamWriteUIntN(streamId, math.floor( self:getNodeWearAmount(nodeData) * Wearable.SEND_MAX_VALUE + 0.5 ), Wearable.SEND_NUM_BITS)\n                end\n            end\n        end\n    end\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"prerequisitespresent",children:"prerequisitesPresent"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"prerequisitesPresent()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,a.jsx)(n.table,{children:(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"specializations"})]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Wearable.prerequisitesPresent(specializations)\n    return true\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"registereventlisteners",children:"registerEventListeners"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"registerEventListeners()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,a.jsx)(n.table,{children:(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:'function Wearable.registerEventListeners(vehicleType)\n    SpecializationUtil.registerEventListener(vehicleType, "onLoad" , Wearable )\n    SpecializationUtil.registerEventListener(vehicleType, "onLoadFinished" , Wearable )\n\n    if not GS_IS_MOBILE_VERSION then\n        SpecializationUtil.registerEventListener(vehicleType, "onSaleItemSet" , Wearable )\n        SpecializationUtil.registerEventListener(vehicleType, "onReadStream" , Wearable )\n        SpecializationUtil.registerEventListener(vehicleType, "onWriteStream" , Wearable )\n        SpecializationUtil.registerEventListener(vehicleType, "onReadUpdateStream" , Wearable )\n        SpecializationUtil.registerEventListener(vehicleType, "onWriteUpdateStream" , Wearable )\n        SpecializationUtil.registerEventListener(vehicleType, "onUpdateTick" , Wearable )\n    end\nend\n\n'})}),"\n",(0,a.jsx)(n.h3,{id:"registerfunctions",children:"registerFunctions"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"registerFunctions()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,a.jsx)(n.table,{children:(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:'function Wearable.registerFunctions(vehicleType)\n    SpecializationUtil.registerFunction(vehicleType, "addAllSubWearableNodes" , Wearable.addAllSubWearableNodes)\n    SpecializationUtil.registerFunction(vehicleType, "addDamageAmount" , Wearable.addDamageAmount)\n    SpecializationUtil.registerFunction(vehicleType, "addToGlobalWearableNode" , Wearable.addToGlobalWearableNode)\n    SpecializationUtil.registerFunction(vehicleType, "addToLocalWearableNode" , Wearable.addToLocalWearableNode)\n    SpecializationUtil.registerFunction(vehicleType, "addWearableNode" , Wearable.addWearableNode)\n    SpecializationUtil.registerFunction(vehicleType, "addWearAmount" , Wearable.addWearAmount)\n    SpecializationUtil.registerFunction(vehicleType, "getDamageAmount" , Wearable.getDamageAmount)\n    SpecializationUtil.registerFunction(vehicleType, "getDamageShowOnHud" , Wearable.getDamageShowOnHud)\n    SpecializationUtil.registerFunction(vehicleType, "getNodeWearAmount" , Wearable.getNodeWearAmount)\n    SpecializationUtil.registerFunction(vehicleType, "getUsageCausesDamage" , Wearable.getUsageCausesDamage)\n    SpecializationUtil.registerFunction(vehicleType, "getUsageCausesWear" , Wearable.getUsageCausesWear)\n    SpecializationUtil.registerFunction(vehicleType, "getWearMultiplier" , Wearable.getWearMultiplier)\n    SpecializationUtil.registerFunction(vehicleType, "getWearTotalAmount" , Wearable.getWearTotalAmount)\n    SpecializationUtil.registerFunction(vehicleType, "getWorkWearMultiplier" , Wearable.getWorkWearMultiplier)\n    SpecializationUtil.registerFunction(vehicleType, "removeAllSubWearableNodes" , Wearable.removeAllSubWearableNodes)\n    SpecializationUtil.registerFunction(vehicleType, "removeWearableNode" , Wearable.removeWearableNode)\n    SpecializationUtil.registerFunction(vehicleType, "repaintVehicle" , Wearable.repaintVehicle)\n    SpecializationUtil.registerFunction(vehicleType, "repairVehicle" , Wearable.repairVehicle)\n    SpecializationUtil.registerFunction(vehicleType, "setDamageAmount" , Wearable.setDamageAmount)\n    SpecializationUtil.registerFunction(vehicleType, "setNodeWearAmount" , Wearable.setNodeWearAmount)\n    SpecializationUtil.registerFunction(vehicleType, "updateDamageAmount" , Wearable.updateDamageAmount)\n    SpecializationUtil.registerFunction(vehicleType, "updateWearAmount" , Wearable.updateWearAmount)\n    SpecializationUtil.registerFunction(vehicleType, "validateWearableNode" , Wearable.validateWearableNode)\nend\n\n'})}),"\n",(0,a.jsx)(n.h3,{id:"registeroverwrittenfunctions",children:"registerOverwrittenFunctions"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"registerOverwrittenFunctions()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,a.jsx)(n.table,{children:(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:'function Wearable.registerOverwrittenFunctions(vehicleType)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getVehicleDamage" , Wearable.getVehicleDamage)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getRepairPrice" , Wearable.getRepairPrice)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getRepaintPrice" , Wearable.getRepaintPrice)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "showInfo" , Wearable.showInfo)\nend\n\n'})}),"\n",(0,a.jsx)(n.h3,{id:"removeallsubwearablenodes",children:"removeAllSubWearableNodes"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"removeAllSubWearableNodes()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,a.jsx)(n.table,{children:(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"rootNode"})]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:'function Wearable:removeAllSubWearableNodes(rootNode)\n    if rootNode ~ = nil then\n        I3DUtil.iterateShaderParameterNodesRecursively(rootNode, "scratches_dirt_snow_wetness" , self.removeWearableNode, self )\n    end\nend\n\n'})}),"\n",(0,a.jsx)(n.h3,{id:"removewearablenode",children:"removeWearableNode"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"Remove wearable node"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"removeWearableNode(node table)"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,a.jsx)(n.table,{children:(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"node"}),(0,a.jsx)(n.th,{children:"table"}),(0,a.jsx)(n.th,{children:"node"})]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Wearable:removeWearableNode(node)\n    local spec = self.spec_wearable\n\n    if spec.wearableNodes ~ = nil and node ~ = nil then\n        for _, nodeData in ipairs(spec.wearableNodes) do\n            nodeData.nodes[node] = nil\n        end\n    end\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"repairvehicle",children:"repairVehicle"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"Repair the vehicle. Owner pays. Causes damage to be reset"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"repairVehicle()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:'function Wearable:repairVehicle()\n    if self.isServer then\n        g_currentMission:addMoney( - self:getRepairPrice(), self:getOwnerFarmId(), MoneyType.VEHICLE_REPAIR, true , true )\n\n        local total, _ = g_farmManager:updateFarmStats( self:getOwnerFarmId(), "repairVehicleCount" , 1 )\n        if total ~ = nil then\n            g_achievementManager:tryUnlock( "VehicleRepairFirst" , total)\n            g_achievementManager:tryUnlock( "VehicleRepair" , total)\n        end\n    end\n\n    self:setDamageAmount( 0 )\nend\n\n'})}),"\n",(0,a.jsx)(n.h3,{id:"savetoxmlfile",children:"saveToXMLFile"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"saveToXMLFile()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"xmlFile"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"key"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"usedModNames"})]})]})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:'function Wearable:saveToXMLFile(xmlFile, key, usedModNames)\n    local spec = self.spec_wearable\n\n    xmlFile:setValue(key .. "#damage" , spec.damage)\n\n    if spec.wearableNodes ~ = nil then\n        for i, nodeData in ipairs(spec.wearableNodes) do\n            local nodeKey = string.format( "%s.wearNode(%d)" , key, i - 1 )\n            xmlFile:setValue(nodeKey .. "#amount" , self:getNodeWearAmount(nodeData))\n        end\n    end\nend\n\n'})}),"\n",(0,a.jsx)(n.h3,{id:"setdamageamount",children:"setDamageAmount"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"setDamageAmount()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"amount"})]})}),(0,a.jsx)(n.tbody,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"force"})]})})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Wearable:setDamageAmount(amount, force)\n    local spec = self.spec_wearable\n\n    spec.damage = math.min( math.max(amount, 0 ), 1 )\n    spec.damageByCurve = math.max(spec.damage - 0.3 , 0 ) / 0.7\n\n    local diff = spec.damageSent - spec.damage\n    if math.abs(diff) > Wearable.SEND_THRESHOLD or force then\n        if self.isServer then\n            self:raiseDirtyFlags(spec.dirtyFlag)\n            spec.damageSent = spec.damage\n        end\n    end\nend\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"setnodewearamount",children:"setNodeWearAmount"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"setNodeWearAmount()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"nodeData"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"wearAmount"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"force"})]})]})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:'function Wearable:setNodeWearAmount(nodeData, wearAmount, force)\n    local spec = self.spec_wearable\n    nodeData.wearAmount = math.clamp(wearAmount, 0 , 1 )\n\n    local diff = nodeData.wearAmountSent - nodeData.wearAmount\n    if math.abs(diff) > Wearable.SEND_THRESHOLD or force then\n        for _, node in pairs(nodeData.nodes) do\n            setShaderParameter(node, "scratches_dirt_snow_wetness" , nodeData.wearAmount, nil , nil , nil , false )\n        end\n\n        if self.isServer then\n            self:raiseDirtyFlags(spec.dirtyFlag)\n            nodeData.wearAmountSent = nodeData.wearAmount\n        end\n\n        -- calculate total wearable amount\n        spec.totalAmount = 0\n        for i = 1 , #spec.wearableNodes do\n            spec.totalAmount = spec.totalAmount + spec.wearableNodes[i].wearAmount\n        end\n        spec.totalAmount = spec.totalAmount / #spec.wearableNodes\n    end\nend\n\n'})}),"\n",(0,a.jsx)(n.h3,{id:"showinfo",children:"showInfo"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"showInfo()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"superFunc"})]})}),(0,a.jsx)(n.tbody,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"box"})]})})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:'function Wearable:showInfo(superFunc, box)\n    local damage = self.spec_wearable.damage\n    if damage > 0.01 then\n        box:addLine(g_i18n:getText( "infohud_damage" ), string.format( "%d %%" , damage * 100 ))\n    end\n\n    superFunc( self , box)\nend\n\n'})}),"\n",(0,a.jsx)(n.h3,{id:"updatedamageamount",children:"updateDamageAmount"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"updateDamageAmount()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,a.jsx)(n.table,{children:(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"dt"})]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Wearable:updateDamageAmount(dt)\n    local spec = self.spec_wearable\n    if self:getUsageCausesDamage() then\n        local factor = 1\n        if self.lifetime ~ = nil and self.lifetime ~ = 0 then\n            local ageMultiplier = 0.15 * math.min( self.age / self.lifetime, 1 )\n            local operatingTime = self.operatingTime / ( 1000 * 60 * 60 )\n            local operatingTimeMultiplier = 0.85 * math.min(operatingTime / ( self.lifetime * EconomyManager.LIFETIME_OPERATINGTIME_RATIO), 1 )\n\n            factor = 1 + EconomyManager.MAX_DAILYUPKEEP_MULTIPLIER * (ageMultiplier + operatingTimeMultiplier)\n        end\n\n        return dt * spec.wearDuration * 0.35 * factor\n    else\n            return 0\n        end\n    end\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"updatedebugvalues",children:"updateDebugValues"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"updateDebugValues()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,a.jsx)(n.table,{children:(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"values"})]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:'function Wearable:updateDebugValues(values)\n    local spec = self.spec_wearable\n\n    local changedAmount = self:updateDamageAmount( 3600000 )\n    table.insert(values, { name = "Damage" , value = string.format( "%.4f a/h(%.2f)" , changedAmount, self:getDamageAmount()) } )\n\n    if spec.wearableNodes ~ = nil then\n        if self.isServer then\n            for i, nodeData in ipairs(spec.wearableNodes) do\n                changedAmount = nodeData.updateFunc( self , nodeData, 3600000 )\n                table.insert(values, { name = "WearableNode" .. i, value = string.format( "%.4f a/h(%.6f)" , changedAmount, self:getNodeWearAmount(nodeData)) } )\n            end\n        end\n    end\nend\n\n'})}),"\n",(0,a.jsx)(n.h3,{id:"updatewearamount",children:"updateWearAmount"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"updateWearAmount()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"nodeData"})]})}),(0,a.jsx)(n.tbody,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"any"}),(0,a.jsx)(n.td,{children:"dt"})]})})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Wearable:updateWearAmount(nodeData, dt)\n    local spec = self.spec_wearable\n    if self:getUsageCausesWear() then\n        return dt * spec.wearDuration * self:getWearMultiplier(nodeData) * 0.5\n    else\n            return 0\n        end\n    end\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"validatewearablenode",children:"validateWearableNode"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Description"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Definition"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"validateWearableNode()"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,a.jsx)(n.table,{children:(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"any"}),(0,a.jsx)(n.th,{children:"node"})]})})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Code"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-lua",children:"function Wearable:validateWearableNode(node)\n    return true , nil -- by default all nodes are global\nend\n\n"})})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(o,{...e})}):o(e)}},28453(e,n,r){r.d(n,{R:()=>s,x:()=>t});var l=r(96540);const a={},i=l.createContext(a);function s(e){const n=l.useContext(i);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),l.createElement(i.Provider,{value:n},e.children)}}}]);