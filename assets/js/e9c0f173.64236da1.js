"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[393],{3350(e,n,t){t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>f,frontMatter:()=>r,metadata:()=>a,toc:()=>o});const a=JSON.parse('{"id":"script/Materials/MotionPathEffectManager","title":"MotionPathEffectManager","description":"MotionPathEffectManager","source":"@site/../docs/script/Materials/MotionPathEffectManager.md","sourceDirName":"script/Materials","slug":"/script/Materials/MotionPathEffectManager","permalink":"/FS25-Community-LUADOC/script/Materials/MotionPathEffectManager","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"MaterialUtil","permalink":"/FS25-Community-LUADOC/script/Materials/MaterialUtil"},"next":{"title":"ParticleSystemManager","permalink":"/FS25-Community-LUADOC/script/Materials/ParticleSystemManager"}}');var s=t(74848),i=t(28453);const r={},l=void 0,c={},o=[{value:"MotionPathEffectManager",id:"motionpatheffectmanager",level:2},{value:"applyEffectConfiguration",id:"applyeffectconfiguration",level:3},{value:"applyShaderSettingsParameters",id:"applyshadersettingsparameters",level:3},{value:"createMotionPathEffectXMLSchema",id:"createmotionpatheffectxmlschema",level:3},{value:"deleteCustomShaderMaps",id:"deletecustomshadermaps",level:3},{value:"getEffectShaderParameter",id:"geteffectshaderparameter",level:3},{value:"getMotionPathEffectMaterial",id:"getmotionpatheffectmaterial",level:3},{value:"getMotionPathEffectMesh",id:"getmotionpatheffectmesh",level:3},{value:"getSharedMotionPathEffect",id:"getsharedmotionpatheffect",level:3},{value:"initDataStructures",id:"initdatastructures",level:3},{value:"loadCustomShaderSettingsFromXML",id:"loadcustomshadersettingsfromxml",level:3},{value:"loadMapData",id:"loadmapdata",level:3},{value:"loadMotionPathEffects",id:"loadmotionpatheffects",level:3},{value:"loadMotionPathEffectsXML",id:"loadmotionpatheffectsxml",level:3},{value:"motionPathEffectI3DFileLoaded",id:"motionpatheffecti3dfileloaded",level:3},{value:"new",id:"new",level:3},{value:"registerCustomShaderSettingXMLPaths",id:"registercustomshadersettingxmlpaths",level:3},{value:"setEffectCustomMap",id:"seteffectcustommap",level:3},{value:"setEffectCustomMapOnNode",id:"seteffectcustommaponnode",level:3},{value:"setEffectCustomShaderVariation",id:"seteffectcustomshadervariation",level:3},{value:"setEffectMaterial",id:"seteffectmaterial",level:3},{value:"unloadMapData",id:"unloadmapdata",level:3}];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"motionpatheffectmanager",children:"MotionPathEffectManager"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:'This class handles all motion path effects defined per map\nThese effects can be loaded by the Effects system class "MotionPathEffect" and all sub classes'}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Parent"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"?version=script&category=57&class=551",children:"AbstractManager"})}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Functions"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#applyeffectconfiguration",children:"applyEffectConfiguration"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#applyshadersettingsparameters",children:"applyShaderSettingsParameters"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#createmotionpatheffectxmlschema",children:"createMotionPathEffectXMLSchema"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#deletecustomshadermaps",children:"deleteCustomShaderMaps"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#geteffectshaderparameter",children:"getEffectShaderParameter"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getmotionpatheffectmaterial",children:"getMotionPathEffectMaterial"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getmotionpatheffectmesh",children:"getMotionPathEffectMesh"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getsharedmotionpatheffect",children:"getSharedMotionPathEffect"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#initdatastructures",children:"initDataStructures"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#loadcustomshadersettingsfromxml",children:"loadCustomShaderSettingsFromXML"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#loadmapdata",children:"loadMapData"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#loadmotionpatheffects",children:"loadMotionPathEffects"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#loadmotionpatheffectsxml",children:"loadMotionPathEffectsXML"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#motionpatheffecti3dfileloaded",children:"motionPathEffectI3DFileLoaded"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#new",children:"new"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#registercustomshadersettingxmlpaths",children:"registerCustomShaderSettingXMLPaths"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#seteffectcustommap",children:"setEffectCustomMap"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#seteffectcustommaponnode",children:"setEffectCustomMapOnNode"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#seteffectcustomshadervariation",children:"setEffectCustomShaderVariation"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#seteffectmaterial",children:"setEffectMaterial"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#unloadmapdata",children:"unloadMapData"})}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"applyeffectconfiguration",children:"applyEffectConfiguration"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Applys effect configuration to duplicated mesh"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"applyEffectConfiguration(table sharedEffect, table effectMesh, array clonedNodes, integer textureEntityId, float\noverwrittenSpeedScale, boolean isThreshing)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"table"}),(0,s.jsx)(n.th,{children:"sharedEffect"}),(0,s.jsx)(n.th,{children:"sharedEffect"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"table"}),(0,s.jsx)(n.td,{children:"effectMesh"}),(0,s.jsx)(n.td,{children:"effect mesh data"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"array"}),(0,s.jsx)(n.td,{children:"clonedNodes"}),(0,s.jsx)(n.td,{children:"clone node id"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"integer"}),(0,s.jsx)(n.td,{children:"textureEntityId"}),(0,s.jsx)(n.td,{children:"texture entity id"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"float"}),(0,s.jsx)(n.td,{children:"overwrittenSpeedScale"}),(0,s.jsx)(n.td,{children:"speedScale to use"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"boolean"}),(0,s.jsx)(n.td,{children:"isThreshing"}),(0,s.jsx)(n.td,{children:"is threshing effect"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function MotionPathEffectManager:applyEffectConfiguration(sharedEffect, effectMesh, effectMaterial, clonedNodes, textureEntityId, overwrittenSpeedScale)\n    if sharedEffect ~ = nil and clonedNodes ~ = nil then\n        for _, clonedNode in ipairs(clonedNodes) do\n            self:applyShaderSettingsParameters(clonedNode, sharedEffect)\n\n            if effectMesh ~ = nil then\n                self:applyShaderSettingsParameters(clonedNode, effectMesh)\n            end\n\n            if effectMaterial ~ = nil then\n                self:applyShaderSettingsParameters(clonedNode, effectMaterial)\n            end\n\n            self:setEffectCustomMap(clonedNode, "shapeArray" , textureEntityId)\n            self:setEffectCustomMap(clonedNode, "animationArray" , textureEntityId)\n        end\n\n        local speedScale = sharedEffect.speedScale or 0.5\n        speedScale = effectMesh.speedScale or speedScale\n        if effectMaterial ~ = nil then\n            speedScale = effectMaterial.speedScale or speedScale\n        end\n        speedScale = overwrittenSpeedScale or speedScale\n\n        return speedScale\n    end\n\n    return overwrittenSpeedScale or 1\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"applyshadersettingsparameters",children:"applyShaderSettingsParameters"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Apply shader settings to given node"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"applyShaderSettingsParameters()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"node"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"target"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function MotionPathEffectManager:applyShaderSettingsParameters(node, target)\n    for i = 1 , #target.customShaderMaps do\n        local customShaderMap = target.customShaderMaps[i]\n        self:setEffectCustomMap(node, customShaderMap.name, customShaderMap.texture)\n    end\n\n    if target.customShaderVariation ~ = nil then\n        self:setEffectCustomShaderVariation(node, target.customShaderVariation)\n    end\n\n    for i = 1 , #target.customShaderParameters do\n        local customShaderParameter = target.customShaderParameters[i]\n        setShaderParameterRecursive(node, customShaderParameter.name, customShaderParameter.value[ 1 ], customShaderParameter.value[ 2 ], customShaderParameter.value[ 3 ], customShaderParameter.value[ 4 ], false )\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"createmotionpatheffectxmlschema",children:"createMotionPathEffectXMLSchema"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Create cutter effect xml schema"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"createMotionPathEffectXMLSchema()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function MotionPathEffectManager.createMotionPathEffectXMLSchema()\n    if MotionPathEffectManager.xmlSchema = = nil then\n        local schema = XMLSchema.new( "mapMotionPathEffects" )\n\n        local effectKey = "motionPathEffects.motionPathEffect(?)"\n\n        schema:register(XMLValueType.STRING, effectKey .. "#effectClass" , "Effect class name" )\n        schema:register(XMLValueType.STRING, effectKey .. "#effectType" , "Effect type name(can be multiple)" )\n\n        schema:register(XMLValueType.STRING, effectKey .. "#filename" , "Path to effects i3d file" )\n\n        -- the following parameters are only for script to generate the effect meshes and not used by the game\n            schema:register(XMLValueType.NODE_INDEX, effectKey .. ".effectGeneration#rootNode" , "(Only for automatic mesh generation) Mesh root node in maya file which has sub shapes" )\n                schema:register(XMLValueType.VECTOR_ROT, effectKey .. ".effectGeneration#minRot" , "(Only for automatic mesh generation) Min.random rotation" )\n                    schema:register(XMLValueType.VECTOR_ROT, effectKey .. ".effectGeneration#maxRot" , "(Only for automatic mesh generation) Max.random rotation" )\n                        schema:register(XMLValueType.VECTOR_SCALE, effectKey .. ".effectGeneration#minScale" , "(Only for automatic mesh generation) Min.random scale" )\n                            schema:register(XMLValueType.VECTOR_SCALE, effectKey .. ".effectGeneration#maxScale" , "(Only for automatic mesh generation) Max.random scale" )\n                                schema:register(XMLValueType.STRING, effectKey .. ".effectGeneration#useFoliage" , "(Only for automatic mesh generation) Name of foliage" )\n                                    schema:register(XMLValueType.INT, effectKey .. ".effectGeneration#useFoliageStage" , "(Only for automatic mesh generation) Foliage growth state" )\n                                        schema:register(XMLValueType.INT, effectKey .. ".effectGeneration#useFoliageLOD" , "(Only for automatic mesh generation) LOD to use" )\n\n                                            MotionPathEffect.registerEffectDefinitionXMLPaths(schema, effectKey .. ".typeDefinition" )\n                                            TypedMotionPathEffect.registerEffectDefinitionXMLPaths(schema, effectKey .. ".typeDefinition" )\n                                            CutterMotionPathEffect.registerEffectDefinitionXMLPaths(schema, effectKey .. ".typeDefinition" )\n                                            CultivatorMotionPathEffect.registerEffectDefinitionXMLPaths(schema, effectKey .. ".typeDefinition" )\n                                            PlowMotionPathEffect.registerEffectDefinitionXMLPaths(schema, effectKey .. ".typeDefinition" )\n                                            WindrowerMotionPathEffect.registerEffectDefinitionXMLPaths(schema, effectKey .. ".typeDefinition" )\n\n                                            schema:register(XMLValueType.NODE_INDEX, effectKey .. ".effectMeshes.effectMesh(?)#node" , "Index path in effect i3d" )\n                                            schema:register(XMLValueType.NODE_INDEX, effectKey .. ".effectMeshes.effectMesh(?)#sourceNode" , "(Only for automatic mesh generation) Index path to source object in maya file" )\n                                                schema:register(XMLValueType.INT, effectKey .. ".effectMeshes.effectMesh(?)#rowLength" , "Number of meshes on X axis(on effect texture)" , 30 )\n                                                schema:register(XMLValueType.INT, effectKey .. ".effectMeshes.effectMesh(?)#numRows" , "Number of meshes on Y axis(on effect texture)" , 12 )\n                                                schema:register(XMLValueType.INT, effectKey .. ".effectMeshes.effectMesh(?)#skipPositions" , "Number of skipped meshes on X axis" , 0 )\n                                                schema:register(XMLValueType.INT, effectKey .. ".effectMeshes.effectMesh(?)#numVariations" , "Number of sub random variations" , 1 )\n                                                schema:register(XMLValueType.VECTOR_SCALE, effectKey .. ".effectMeshes.effectMesh(?)#boundingBox" , "(Only for automatic mesh generation) Size of bounding box" )\n                                                    schema:register(XMLValueType.VECTOR_TRANS, effectKey .. ".effectMeshes.effectMesh(?)#boundingBoxCenter" , "(Only for automatic mesh generation) Center of bounding box" )\n\n                                                        schema:register(XMLValueType.NODE_INDEX, effectKey .. ".effectMeshes.effectMesh(?).lod(?)#sourceNode" , "(Only for automatic mesh generation) Custom node for LOD" )\n                                                            schema:register(XMLValueType.FLOAT, effectKey .. ".effectMeshes.effectMesh(?).lod(?)#distance" , "(Only for automatic mesh generation) Distance of LOD" )\n                                                                schema:register(XMLValueType.INT, effectKey .. ".effectMeshes.effectMesh(?).lod(?)#skipPositions" , "(Only for automatic mesh generation) Custom skip positions" )\n\n                                                                    MotionPathEffectManager.registerCustomShaderSettingXMLPaths(schema, effectKey .. ".effectMeshes.effectMesh(?)" )\n                                                                    MotionPathEffect.registerEffectMeshXMLPaths(schema, effectKey .. ".effectMeshes.effectMesh(?)" )\n                                                                    TypedMotionPathEffect.registerEffectMeshXMLPaths(schema, effectKey .. ".effectMeshes.effectMesh(?)" )\n                                                                    CutterMotionPathEffect.registerEffectMeshXMLPaths(schema, effectKey .. ".effectMeshes.effectMesh(?)" )\n                                                                    CultivatorMotionPathEffect.registerEffectMeshXMLPaths(schema, effectKey .. ".effectMeshes.effectMesh(?)" )\n                                                                    PlowMotionPathEffect.registerEffectMeshXMLPaths(schema, effectKey .. ".effectMeshes.effectMesh(?)" )\n                                                                    WindrowerMotionPathEffect.registerEffectMeshXMLPaths(schema, effectKey .. ".effectMeshes.effectMesh(?)" )\n\n                                                                    schema:register(XMLValueType.NODE_INDEX, effectKey .. ".effectMaterials#rootNode" , "(Only for automatic mesh generation) Node which will be copied over the effect i3d file(position index in i3d is then \'0|1\')" )\n                                                                        schema:register(XMLValueType.NODE_INDEX, effectKey .. ".effectMaterials.effectMaterial(?)#node" , "Material node" )\n                                                                        schema:register(XMLValueType.NODE_INDEX, effectKey .. ".effectMaterials.effectMaterial(?).lod(?)#node" , "LOD node" )\n                                                                        schema:register(XMLValueType.STRING, effectKey .. ".effectMaterials.effectMaterial(?).textures#diffuse" , "Path to custom diffuse map to apply" )\n                                                                        schema:register(XMLValueType.STRING, effectKey .. ".effectMaterials.effectMaterial(?).textures#normal" , "Path to custom normal map to apply" )\n                                                                        schema:register(XMLValueType.STRING, effectKey .. ".effectMaterials.effectMaterial(?).textures#specular" , "Path to custom specular map to apply" )\n\n                                                                        MotionPathEffectManager.registerCustomShaderSettingXMLPaths(schema, effectKey .. ".effectMaterials.effectMaterial(?)" )\n                                                                        MotionPathEffect.registerEffectMaterialXMLPaths(schema, effectKey .. ".effectMaterials.effectMaterial(?)" )\n                                                                        TypedMotionPathEffect.registerEffectMaterialXMLPaths(schema, effectKey .. ".effectMaterials.effectMaterial(?)" )\n                                                                        CutterMotionPathEffect.registerEffectMaterialXMLPaths(schema, effectKey .. ".effectMaterials.effectMaterial(?)" )\n                                                                        CultivatorMotionPathEffect.registerEffectMaterialXMLPaths(schema, effectKey .. ".effectMaterials.effectMaterial(?)" )\n                                                                        PlowMotionPathEffect.registerEffectMaterialXMLPaths(schema, effectKey .. ".effectMaterials.effectMaterial(?)" )\n                                                                        WindrowerMotionPathEffect.registerEffectMaterialXMLPaths(schema, effectKey .. ".effectMaterials.effectMaterial(?)" )\n\n                                                                        MotionPathEffectManager.registerCustomShaderSettingXMLPaths(schema, effectKey .. ".customShaderDefaults" )\n\n                                                                        MotionPathEffectManager.xmlSchema = schema\n                                                                    end\n                                                                end\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"deletecustomshadermaps",children:"deleteCustomShaderMaps"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"deleteCustomShaderMaps()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"entity"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function MotionPathEffectManager:deleteCustomShaderMaps(entity)\n    for _, customMap in ipairs(entity.customShaderMaps) do\n        if customMap.texture ~ = nil and entityExists(customMap.texture) then\n            delete(customMap.texture)\n            customMap.texture = nil\n        end\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"geteffectshaderparameter",children:"getEffectShaderParameter"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Returns shader parameter of effect mesh"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getEffectShaderParameter(integer node, string name)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"integer"}),(0,s.jsx)(n.th,{children:"node"}),(0,s.jsx)(n.th,{children:"node id"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"string"}),(0,s.jsx)(n.td,{children:"name"}),(0,s.jsx)(n.td,{children:"parameter name"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"string"}),(0,s.jsx)(n.th,{children:"x"}),(0,s.jsx)(n.th,{children:"x"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"string"}),(0,s.jsx)(n.td,{children:"y"}),(0,s.jsx)(n.td,{children:"y"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"string"}),(0,s.jsx)(n.td,{children:"z"}),(0,s.jsx)(n.td,{children:"z"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"string"}),(0,s.jsx)(n.td,{children:"w"}),(0,s.jsx)(n.td,{children:"w"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function MotionPathEffectManager:getEffectShaderParameter(node, name)\n    if getHasClassId(node, ClassIds.SHAPE) then\n        return getShaderParameter(node, name)\n    end\n\n    local numChildren = getNumOfChildren(node)\n    for i = 1 , numChildren do\n        local child = getChildAt(node, i - 1 )\n        if getHasClassId(child, ClassIds.SHAPE) then\n            return getShaderParameter(child, name)\n        end\n    end\n\n    return 0 , 0 , 0 , 0\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getmotionpatheffectmaterial",children:"getMotionPathEffectMaterial"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Returns material for motion path effect"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getMotionPathEffectMaterial(table sharedEffect, table motionPathEffectObject)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"table"}),(0,s.jsx)(n.th,{children:"sharedEffect"}),(0,s.jsx)(n.th,{children:"shared effect table"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"table"}),(0,s.jsx)(n.td,{children:"motionPathEffectObject"}),(0,s.jsx)(n.td,{children:"object of motion path effect"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"table"}),(0,s.jsx)(n.th,{children:"effectMaterial"}),(0,s.jsx)(n.th,{children:"effect material"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function MotionPathEffectManager:getMotionPathEffectMaterial(sharedEffect, motionPathEffectObject)\n    for i = 1 , #sharedEffect.effectMaterials do\n        local effectMaterial = sharedEffect.effectMaterials[i]\n        if motionPathEffectObject:getIsEffectMaterialMatching(effectMaterial, false ) then\n            return effectMaterial\n        end\n    end\n\n    -- check alternatives\n    for i = 1 , #sharedEffect.effectMaterials do\n        local effectMaterial = sharedEffect.effectMaterials[i]\n        if motionPathEffectObject:getIsEffectMaterialMatching(effectMaterial, true ) then\n            return effectMaterial\n        end\n    end\n\n    return nil\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getmotionpatheffectmesh",children:"getMotionPathEffectMesh"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Returns motion path effect mesh"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getMotionPathEffectMesh(table sharedEffect, table motionPathEffectObject)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"table"}),(0,s.jsx)(n.th,{children:"sharedEffect"}),(0,s.jsx)(n.th,{children:"shared effect data"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"table"}),(0,s.jsx)(n.td,{children:"motionPathEffectObject"}),(0,s.jsx)(n.td,{children:"motion path effect object"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"table"}),(0,s.jsx)(n.th,{children:"effectMesh"}),(0,s.jsx)(n.th,{children:"matching effect mesh data"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function MotionPathEffectManager:getMotionPathEffectMesh(sharedEffect, motionPathEffectObject)\n    for j = 1 , #sharedEffect.effectMeshes do\n        local effectMesh = sharedEffect.effectMeshes[j]\n        if motionPathEffectObject:getIsEffectMeshMatching(effectMesh, false ) then\n            return effectMesh\n        end\n    end\n\n    for j = 1 , #sharedEffect.effectMeshes do\n        local effectMesh = sharedEffect.effectMeshes[j]\n        if motionPathEffectObject:getIsEffectMeshMatching(effectMesh, true ) then\n            return effectMesh\n        end\n    end\n\n    return nil\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getsharedmotionpatheffect",children:"getSharedMotionPathEffect"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Returns shared motion path effect which matches requirements"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getSharedMotionPathEffect(table motionPathEffectObject)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"table"}),(0,s.jsx)(n.th,{children:"motionPathEffectObject"}),(0,s.jsx)(n.th,{children:"motion path effect object"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"table"}),(0,s.jsx)(n.th,{children:"effect"}),(0,s.jsx)(n.th,{children:"matching effect"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function MotionPathEffectManager:getSharedMotionPathEffect(motionPathEffectObject)\n    for i = 1 , # self.effects do\n        local effect = self.effects[i]\n        if motionPathEffectObject:getIsSharedEffectMatching(effect, false ) then\n            return effect\n        end\n    end\n\n    -- check alternatives\n    for i = 1 , # self.effects do\n        local effect = self.effects[i]\n        if motionPathEffectObject:getIsSharedEffectMatching(effect, true ) then\n            return effect\n        end\n    end\n\n    return nil\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"initdatastructures",children:"initDataStructures"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Initialize data structures"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"initDataStructures()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function MotionPathEffectManager:initDataStructures()\n    self.xmlFiles = { }\n    self.sharedLoadRequestIds = { }\n\n    self.effectsByType = { }\n    self.effects = { }\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"loadcustomshadersettingsfromxml",children:"loadCustomShaderSettingsFromXML"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Load custom shader setting from xml"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"loadCustomShaderSettingsFromXML(table target, table xmlFile, string key)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"table"}),(0,s.jsx)(n.th,{children:"target"}),(0,s.jsx)(n.th,{children:"target object"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"table"}),(0,s.jsx)(n.td,{children:"xmlFile"}),(0,s.jsx)(n.td,{children:"xml file object"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"string"}),(0,s.jsx)(n.td,{children:"key"}),(0,s.jsx)(n.td,{children:"key"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function MotionPathEffectManager:loadCustomShaderSettingsFromXML(target, xmlFile, key)\n    target.customShaderVariation = xmlFile:getValue(key .. ".customShaderVariation#name" )\n\n    target.customShaderMaps = { }\n    xmlFile:iterate(key .. ".customShaderMap" , function (index, parameterKey)\n        local customShaderMap = { }\n        customShaderMap.name = xmlFile:getValue(parameterKey .. "#name" )\n        customShaderMap.filename = xmlFile:getValue(parameterKey .. "#filename" )\n        customShaderMap.filename = Utils.getFilename(customShaderMap.filename, self.baseDirectory)\n        if customShaderMap.name ~ = nil and customShaderMap.filename ~ = nil then\n            customShaderMap.texture = createMaterialTextureFromFile(customShaderMap.filename, true , false )\n            if customShaderMap.texture ~ = nil then\n                table.insert(target.customShaderMaps, customShaderMap)\n            end\n        else\n                Logging.xmlError(xmlFile, "Failed to load custom shader map from \'%s\'" , parameterKey)\n            end\n        end )\n\n        target.customShaderParameters = { }\n        xmlFile:iterate(key .. ".customShaderParameter" , function (index, parameterKey)\n            local customShaderParameter = { }\n            customShaderParameter.name = xmlFile:getValue(parameterKey .. "#name" )\n            customShaderParameter.value = xmlFile:getValue(parameterKey .. "#value" , "0 0 0 0" , true )\n            if customShaderParameter.name ~ = nil and customShaderParameter.value ~ = nil then\n                table.insert(target.customShaderParameters, customShaderParameter)\n            else\n                    Logging.xmlError(xmlFile, "Failed to load custom shader parameter from \'%s\'" , parameterKey)\n                end\n            end )\n        end\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"loadmapdata",children:"loadMapData"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Load data on map load"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"loadMapData()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"xmlFile"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"missionInfo"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"baseDirectory"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"true"}),(0,s.jsx)(n.th,{children:"if loading was successful else false"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function MotionPathEffectManager:loadMapData(xmlFile, missionInfo, baseDirectory)\n    MotionPathEffectManager:superClass().loadMapData( self , xmlFile, missionInfo, baseDirectory)\n\n    self.baseDirectory = baseDirectory\n    local customEnvironment, _ = Utils.getModNameAndBaseDirectory(baseDirectory)\n\n    -- load internal files first so they have a higher prio for selection\n        self:loadMotionPathEffects(xmlFile, "map.motionPathEffects.motionPathEffect" , baseDirectory, customEnvironment)\n\n        local externalXMLFilename = getXMLString(xmlFile, "map.motionPathEffects#filename" )\n        if externalXMLFilename ~ = nil then\n            externalXMLFilename = Utils.getFilename(externalXMLFilename, baseDirectory)\n\n            local externalXMLFile = XMLFile.load( "motionPathXML" , externalXMLFilename)\n            if externalXMLFile ~ = nil then\n                self:loadMotionPathEffects(externalXMLFile.handle, "motionPathEffects.motionPathEffect" , baseDirectory, customEnvironment)\n                externalXMLFile:delete()\n            end\n        end\n\n        return true\n    end\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"loadmotionpatheffects",children:"loadMotionPathEffects"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Load motion path effect definitions from given xml and xml key"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"loadMotionPathEffects(integer xmlFileHandle, string key, string baseDirectory, string? customEnvironment)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"integer"}),(0,s.jsx)(n.th,{children:"xmlFileHandle"}),(0,s.jsx)(n.th,{children:"xml file handle"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"string"}),(0,s.jsx)(n.td,{children:"key"}),(0,s.jsx)(n.td,{children:"key"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"string"}),(0,s.jsx)(n.td,{children:"baseDirectory"}),(0,s.jsx)(n.td,{children:"base directory"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"string?"}),(0,s.jsx)(n.td,{children:"customEnvironment"}),(0,s.jsx)(n.td,{children:"custom environment"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function MotionPathEffectManager:loadMotionPathEffects(xmlFileHandle, key, baseDirectory, customEnvironment)\n    local i = 0\n    while true do\n        local motionPathEffectKey = string.format( "%s(%d)" , key, i)\n        if not hasXMLProperty(xmlFileHandle, motionPathEffectKey) then\n            break\n        end\n\n        local filename = getXMLString(xmlFileHandle, motionPathEffectKey .. "#filename" )\n        if filename ~ = nil then\n            self:loadMotionPathEffectsXML(filename, baseDirectory, customEnvironment)\n        end\n\n        i = i + 1\n    end\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"loadmotionpatheffectsxml",children:"loadMotionPathEffectsXML"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Load load motion paths from given motion paths effect filename"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"loadMotionPathEffectsXML(string filename, string baseDirectory, string? customEnvironment)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"string"}),(0,s.jsx)(n.th,{children:"filename"}),(0,s.jsx)(n.th,{children:"filename"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"string"}),(0,s.jsx)(n.td,{children:"baseDirectory"}),(0,s.jsx)(n.td,{children:"base directory"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"string?"}),(0,s.jsx)(n.td,{children:"customEnvironment"}),(0,s.jsx)(n.td,{children:"custom environment"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function MotionPathEffectManager:loadMotionPathEffectsXML(filename, baseDirectory, customEnvironment)\n    local xmlFilename = Utils.getFilename(filename, baseDirectory)\n    local xmlFile = XMLFile.load( "mapMotionPathEffects" , xmlFilename, MotionPathEffectManager.xmlSchema)\n    if xmlFile ~ = nil then\n        self.xmlFiles[xmlFile] = true\n\n        xmlFile.xmlReferences = 0\n\n        local i = 0\n        while true do\n            local motionPathEffectKey = string.format( "motionPathEffects.motionPathEffect(%d)" , i)\n            if not xmlFile:hasProperty(motionPathEffectKey) then\n                break\n            end\n\n            local motionPathEffect = { }\n\n            local effectClassName = xmlFile:getValue(motionPathEffectKey .. "#effectClass" , "MotionPathEffect" )\n            if effectClassName ~ = nil then\n                local effectClass = g_effectManager:getEffectClass(effectClassName)\n                if effectClass = = nil then\n                    if customEnvironment ~ = nil and customEnvironment ~ = "" then\n                        effectClass = g_effectManager:getEffectClass(customEnvironment .. "." .. effectClassName)\n                    end\n                    if effectClass = = nil then\n                        -- Fallback to the old method if no registered class is found\n                            effectClass = ClassUtil.getClassObject(effectClassName)\n                        end\n                    end\n                    if effectClass ~ = nil then\n                        effectClass.loadEffectDefinitionFromXML(motionPathEffect, xmlFile, motionPathEffectKey .. ".typeDefinition" )\n\n                        motionPathEffect.effectClass = effectClass\n                        motionPathEffect.effectClassName = effectClassName\n\n                        motionPathEffect.effectTypes = { }\n                        motionPathEffect.effectTypeStr = xmlFile:getValue(motionPathEffectKey .. "#effectType" , "DEFAULT" )\n                        local effectTypes = motionPathEffect.effectTypeStr:split( " " )\n                        for _, effectType in ipairs(effectTypes) do\n                            table.insert(motionPathEffect.effectTypes, string.upper(effectType))\n                        end\n\n                        motionPathEffect.filename = xmlFile:getValue(motionPathEffectKey .. "#filename" )\n\n                        if motionPathEffect.filename ~ = nil then\n                            xmlFile.xmlReferences = xmlFile.xmlReferences + 1\n                            motionPathEffect.filename = Utils.getFilename(motionPathEffect.filename, baseDirectory)\n\n                            local arguments = {\n                            motionPathEffect = motionPathEffect,\n                            xmlFile = xmlFile,\n                            motionPathEffectKey = motionPathEffectKey,\n                            baseDirectory = baseDirectory\n                            }\n                            local sharedLoadRequestId = g_i3DManager:loadSharedI3DFileAsync(motionPathEffect.filename, false , false , self.motionPathEffectI3DFileLoaded, self , arguments)\n                            table.insert( self.sharedLoadRequestIds, sharedLoadRequestId)\n                        else\n                                Logging.xmlError(xmlFile, "Missing filename for motion path effect \'%s\'" , motionPathEffectKey)\n                                end\n\n                            else\n                                    Logging.xmlError(xmlFile, "Unknown motion path effect class \'%s\' in \'%s\'" , effectClassName, motionPathEffectKey)\n                                end\n                            end\n\n                            i = i + 1\n                        end\n\n                        if xmlFile.xmlReferences = = 0 then\n                            self.xmlFiles[xmlFile] = nil\n                            xmlFile:delete()\n                        end\n                    end\n                end\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"motionpatheffecti3dfileloaded",children:"motionPathEffectI3DFileLoaded"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Called after effect i3d has been loaded"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"motionPathEffectI3DFileLoaded()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"i3dNode"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"failedReason"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"args"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function MotionPathEffectManager:motionPathEffectI3DFileLoaded(i3dNode, failedReason, args)\n    local motionPathEffect = args.motionPathEffect\n    local xmlFile = args.xmlFile\n    local motionPathEffectKey = args.motionPathEffectKey\n    local baseDirectory = args.baseDirector\n\n    if i3dNode ~ = nil and i3dNode ~ = 0 then\n        local loadedMeshes = { }\n\n        motionPathEffect.effectMeshes = { }\n        xmlFile:iterate(motionPathEffectKey .. ".effectMeshes.effectMesh" , function (index, key)\n            local node = xmlFile:getValue(key .. "#node" , nil , i3dNode)\n            if node ~ = nil and loadedMeshes[node] = = nil then\n                local effectMesh = { }\n                effectMesh.node = node\n                effectMesh.rowLength = xmlFile:getValue(key .. "#rowLength" , 30 )\n                effectMesh.numRows = xmlFile:getValue(key .. "#numRows" , 12 )\n                effectMesh.skipPositions = xmlFile:getValue(key .. "#skipPositions" , 0 )\n                effectMesh.numVariations = xmlFile:getValue(key .. "#numVariations" , 1 )\n                if effectMesh.numVariations > 1 then\n                    effectMesh.usedVariations = { }\n                    for i = 1 , effectMesh.numVariations do\n                        effectMesh.usedVariations[i] = false\n                    end\n                end\n\n                effectMesh.parent = motionPathEffect\n\n                self:loadCustomShaderSettingsFromXML(effectMesh, xmlFile, key)\n\n                motionPathEffect.effectClass.loadEffectMeshFromXML(effectMesh, xmlFile, key)\n\n                effectMesh.growthStates = motionPathEffect.growthStates\n                table.insert(motionPathEffect.effectMeshes, effectMesh)\n                loadedMeshes[node] = true\n            else\n                    if node = = nil then\n                        Logging.xmlError(xmlFile, "Failed to load effect mesh node from xml(%s)" , key)\n                    else\n                            Logging.xmlError(xmlFile, "Failed to load effect mesh node from xml.Node already used. (%s)" , key)\n                        end\n                    end\n                end )\n\n                motionPathEffect.effectMaterials = { }\n                xmlFile:iterate(motionPathEffectKey .. ".effectMaterials.effectMaterial" , function (index, key)\n                    local node = xmlFile:getValue(key .. "#node" , nil , i3dNode)\n                    if node ~ = nil then\n                        local effectMaterial = { }\n                        effectMaterial.node = node\n                        effectMaterial.materialId = getMaterial(node, 0 )\n                        effectMaterial.parent = motionPathEffect\n\n                        effectMaterial.lod = { }\n                        xmlFile:iterate(key .. ".lod" , function (_, lodKey)\n                            local lodNode = xmlFile:getValue(lodKey .. "#node" , nil , i3dNode)\n                            if lodNode ~ = nil then\n                                table.insert(effectMaterial.lod, getMaterial(lodNode, 0 ))\n                            end\n                        end )\n\n                        effectMaterial.customDiffuse = xmlFile:getValue(key .. ".textures#diffuse" )\n                        if effectMaterial.customDiffuse ~ = nil then\n                            effectMaterial.customDiffuse = Utils.getFilename(effectMaterial.customDiffuse, baseDirectory)\n                            effectMaterial.materialId = setMaterialDiffuseMapFromFile(effectMaterial.materialId, effectMaterial.customDiffuse, true , true , false )\n                        end\n\n                        effectMaterial.customNormal = xmlFile:getValue(key .. ".textures#normal" )\n                        if effectMaterial.customNormal ~ = nil then\n                            effectMaterial.customNormal = Utils.getFilename(effectMaterial.customNormal, baseDirectory)\n                            effectMaterial.materialId = setMaterialNormalMapFromFile(effectMaterial.materialId, effectMaterial.customDiffuse, true , false , false )\n                        end\n\n                        effectMaterial.customSpecular = xmlFile:getValue(key .. ".textures#specular" )\n                        if effectMaterial.customSpecular ~ = nil then\n                            effectMaterial.customSpecular = Utils.getFilename(effectMaterial.customSpecular, baseDirectory)\n                            effectMaterial.materialId = setMaterialGlossMapFromFile(effectMaterial.materialId, effectMaterial.customSpecular, true , true , false )\n                        end\n\n                        setMaterial(node, effectMaterial.materialId, 0 )\n\n                        self:loadCustomShaderSettingsFromXML(effectMaterial, xmlFile, key)\n\n                        motionPathEffect.effectClass.loadEffectMaterialFromXML(effectMaterial, xmlFile, key)\n\n                        table.insert(motionPathEffect.effectMaterials, effectMaterial)\n                    else\n                            Logging.xmlError(xmlFile, "Failed to load effect material from xml(%s)" , key)\n                        end\n                    end )\n\n                    self:loadCustomShaderSettingsFromXML(motionPathEffect, xmlFile, motionPathEffectKey .. ".customShaderDefaults" )\n\n                    for j = 1 , #motionPathEffect.effectMeshes do\n                        unlink(motionPathEffect.effectMeshes[j].node)\n                    end\n\n                    for j = 1 , #motionPathEffect.effectMaterials do\n                        unlink(motionPathEffect.effectMaterials[j].node)\n                    end\n\n                    for i = 1 , #motionPathEffect.effectTypes do\n                        local effectType = motionPathEffect.effectTypes[i]\n                        if self.effectsByType[effectType] = = nil then\n                            self.effectsByType[effectType] = { }\n                        end\n                        table.insert( self.effectsByType[effectType], motionPathEffect)\n                    end\n\n                    table.insert( self.effects, motionPathEffect)\n\n                    delete(i3dNode)\n                end\n\n                xmlFile.xmlReferences = xmlFile.xmlReferences - 1\n                if xmlFile.xmlReferences = = 0 then\n                    self.xmlFiles[xmlFile] = nil\n                    xmlFile:delete()\n                end\n            end\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"new",children:"new"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Creating manager"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"new()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"customMt"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"instance"}),(0,s.jsx)(n.th,{children:"instance of object"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function MotionPathEffectManager.new(customMt)\n    local self = AbstractManager.new(customMt or MotionPathEffectManager _mt)\n    return self\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"registercustomshadersettingxmlpaths",children:"registerCustomShaderSettingXMLPaths"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Register customs hader settings xml paths"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"registerCustomShaderSettingXMLPaths()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"schema"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"basePath"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function MotionPathEffectManager.registerCustomShaderSettingXMLPaths(schema, basePath)\n    schema:register(XMLValueType.STRING, basePath .. ".customShaderVariation#name" , "Shader variation to apply" )\n\n    schema:register(XMLValueType.STRING, basePath .. ".customShaderParameter(?)#name" , "Name of shader parameter" )\n    schema:register(XMLValueType.VECTOR_ 4 , basePath .. ".customShaderParameter(?)#value" , "Value of shader parameter" )\n\n    schema:register(XMLValueType.STRING, basePath .. ".customShaderMap(?)#name" , "Name of custom shader map" )\n    schema:register(XMLValueType.STRING, basePath .. ".customShaderMap(?)#filename" , "Path to texture file" )\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"seteffectcustommap",children:"setEffectCustomMap"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Sets shader custom map on effect mesh including all LODs"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"setEffectCustomMap(integer node, string name, integer textureEntityId)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"integer"}),(0,s.jsx)(n.th,{children:"node"}),(0,s.jsx)(n.th,{children:"node id"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"string"}),(0,s.jsx)(n.td,{children:"name"}),(0,s.jsx)(n.td,{children:"name if map"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"integer"}),(0,s.jsx)(n.td,{children:"textureEntityId"}),(0,s.jsx)(n.td,{children:"texture entity id"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function MotionPathEffectManager:setEffectCustomMap(node, name, textureEntityId)\n    if getHasClassId(node, ClassIds.SHAPE) then\n        self:setEffectCustomMapOnNode(node, name, textureEntityId)\n    end\n\n    local numChildren = getNumOfChildren(node)\n    if numChildren > 0 then\n        for i = 1 , numChildren do\n            local child = getChildAt(node, i - 1 )\n            if getHasClassId(child, ClassIds.SHAPE) then\n                self:setEffectCustomMapOnNode(child, name, textureEntityId)\n            end\n        end\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"seteffectcustommaponnode",children:"setEffectCustomMapOnNode"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Sets shader custom map on node"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"setEffectCustomMapOnNode(integer node, string name, integer textureEntityId)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"integer"}),(0,s.jsx)(n.th,{children:"node"}),(0,s.jsx)(n.th,{children:"node id"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"string"}),(0,s.jsx)(n.td,{children:"name"}),(0,s.jsx)(n.td,{children:"name if map"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"integer"}),(0,s.jsx)(n.td,{children:"textureEntityId"}),(0,s.jsx)(n.td,{children:"texture entity id"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function MotionPathEffectManager:setEffectCustomMapOnNode(node, name, textureEntityId)\n    local material = getMaterial(node, 0 )\n    if textureEntityId ~ = nil then\n        local newMaterial = setMaterialCustomMap(material, name, textureEntityId, false )\n        if newMaterial ~ = material then\n            setMaterial(node, newMaterial, 0 )\n        end\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"seteffectcustomshadervariation",children:"setEffectCustomShaderVariation"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Sets shader variation on effect mesh including all LODs"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"setEffectCustomShaderVariation(integer node, string variation)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"integer"}),(0,s.jsx)(n.th,{children:"node"}),(0,s.jsx)(n.th,{children:"node id"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"string"}),(0,s.jsx)(n.td,{children:"variation"}),(0,s.jsx)(n.td,{children:"variation name"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function MotionPathEffectManager:setEffectCustomShaderVariation(node, variation)\n    if getHasClassId(node, ClassIds.SHAPE) then\n        local material = getMaterial(node, 0 )\n        local newMaterial = setMaterialCustomShaderVariation(material, variation, false )\n        if newMaterial ~ = material then\n            setMaterial(node, newMaterial, 0 )\n        end\n    end\n\n    local numChildren = getNumOfChildren(node)\n    if numChildren > 0 then\n        for i = 1 , numChildren do\n            local child = getChildAt(node, i - 1 )\n            if getHasClassId(child, ClassIds.SHAPE) then\n                local material = getMaterial(child, 0 )\n                local newMaterial = setMaterialCustomShaderVariation(material, variation, false )\n                if newMaterial ~ = material then\n                    setMaterial(child, newMaterial, 0 )\n                end\n            end\n        end\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"seteffectmaterial",children:"setEffectMaterial"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Sets effect material on node and all LODs"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"setEffectMaterial(integer node, integer materialId)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"integer"}),(0,s.jsx)(n.th,{children:"node"}),(0,s.jsx)(n.th,{children:"node id"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"integer"}),(0,s.jsx)(n.td,{children:"materialId"}),(0,s.jsx)(n.td,{children:"material id"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function MotionPathEffectManager:setEffectMaterial(node, material)\n    if getHasClassId(node, ClassIds.SHAPE) then\n        setMaterial(node, material.materialId, 0 )\n    end\n\n    local numChildren = getNumOfChildren(node)\n    if numChildren > 0 then\n        for i = 1 , numChildren do\n            local child = getChildAt(node, i - 1 )\n            if getHasClassId(child, ClassIds.SHAPE) then\n                local materialId = material.materialId\n                if i > 1 then\n                    if material.lod[i] ~ = nil then\n                        materialId = material.lod[i]\n                    end\n                end\n\n                setMaterial(child, materialId, 0 )\n            end\n        end\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"unloadmapdata",children:"unloadMapData"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Unload data on mission delete"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"unloadMapData()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function MotionPathEffectManager:unloadMapData()\n    for i = 1 , # self.effects do\n        local effect = self.effects[i]\n\n        self:deleteCustomShaderMaps(effect)\n\n        for j = 1 , #effect.effectMeshes do\n            local effectMesh = effect.effectMeshes[j]\n            if effectMesh.node ~ = nil and entityExists(effectMesh.node) then\n                delete(effectMesh.node)\n                effectMesh.node = nil\n            end\n\n            self:deleteCustomShaderMaps(effectMesh)\n        end\n\n        for j = 1 , #effect.effectMaterials do\n            local material = effect.effectMaterials[j]\n            if material.node ~ = nil and entityExists(material.node) then\n                delete(material.node)\n                material.node = nil\n            end\n\n            self:deleteCustomShaderMaps(material)\n        end\n    end\n\n    for i = 1 , # self.sharedLoadRequestIds do\n        local sharedLoadRequestId = self.sharedLoadRequestIds[i]\n        g_i3DManager:releaseSharedI3DFile(sharedLoadRequestId)\n    end\n\n    for xmlFile, _ in pairs( self.xmlFiles) do\n        self.xmlFiles[xmlFile] = nil\n        xmlFile:delete()\n    end\n\n    MotionPathEffectManager:superClass().unloadMapData( self )\nend\n\n"})})]})}function f(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},28453(e,n,t){t.d(n,{R:()=>r,x:()=>l});var a=t(96540);const s={},i=a.createContext(s);function r(e){const n=a.useContext(i);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),a.createElement(i.Provider,{value:n},e.children)}}}]);