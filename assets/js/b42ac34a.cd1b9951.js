"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[14217],{28453(e,n,i){i.d(n,{R:()=>r,x:()=>a});var l=i(96540);const t={},s=l.createContext(t);function r(e){const n=l.useContext(s);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),l.createElement(s.Provider,{value:n},e.children)}},85126(e,n,i){i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>l,toc:()=>c});const l=JSON.parse('{"id":"script/Specializations/Combine","title":"Combine","description":"Combine","source":"@site/../docs/script/Specializations/Combine.md","sourceDirName":"script/Specializations","slug":"/script/Specializations/Combine","permalink":"/FS25-Community-LUADOC/script/Specializations/Combine","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"ChainRollers","permalink":"/FS25-Community-LUADOC/script/Specializations/ChainRollers"},"next":{"title":"ConnectionHoses","permalink":"/FS25-Community-LUADOC/script/Specializations/ConnectionHoses"}}');var t=i(74848),s=i(28453);const r={},a=void 0,d={},c=[{value:"Combine",id:"combine",level:2},{value:"actionEventToggleChopper",id:"actioneventtogglechopper",level:3},{value:"addCutterArea",id:"addcutterarea",level:3},{value:"addCutterToCombine",id:"addcuttertocombine",level:3},{value:"getAreControlledActionsAllowed",id:"getarecontrolledactionsallowed",level:3},{value:"getCanBeSelected",id:"getcanbeselected",level:3},{value:"getCanBeTurnedOn",id:"getcanbeturnedon",level:3},{value:"getCombineFillLevelPercentage",id:"getcombinefilllevelpercentage",level:3},{value:"getCombineLastValidFillType",id:"getcombinelastvalidfilltype",level:3},{value:"getCombineLoadPercentage",id:"getcombineloadpercentage",level:3},{value:"getDirtMultiplier",id:"getdirtmultiplier",level:3},{value:"getDischargeFillType",id:"getdischargefilltype",level:3},{value:"getFillLevelDependentSpeed",id:"getfillleveldependentspeed",level:3},{value:"getImplementAllowAutomaticSteering",id:"getimplementallowautomaticsteering",level:3},{value:"getIsCutterCompatible",id:"getiscuttercompatible",level:3},{value:"getIsFoldAllowed",id:"getisfoldallowed",level:3},{value:"getIsRandomlyMovingPartActive",id:"getisrandomlymovingpartactive",level:3},{value:"getIsThreshingDuringRain",id:"getisthreshingduringrain",level:3},{value:"getIsTurnedOnAnimationActive",id:"getisturnedonanimationactive",level:3},{value:"getTurnedOnNotAllowedWarning",id:"getturnedonnotallowedwarning",level:3},{value:"getWearMultiplier",id:"getwearmultiplier",level:3},{value:"initSpecialization",id:"initspecialization",level:3},{value:"loadCombineEffects",id:"loadcombineeffects",level:3},{value:"loadCombineRotationNodes",id:"loadcombinerotationnodes",level:3},{value:"loadCombineSamples",id:"loadcombinesamples",level:3},{value:"loadCombineSetup",id:"loadcombinesetup",level:3},{value:"loadRandomlyMovingPartFromXML",id:"loadrandomlymovingpartfromxml",level:3},{value:"loadTurnedOnAnimationFromXML",id:"loadturnedonanimationfromxml",level:3},{value:"loadWorkAreaFromXML",id:"loadworkareafromxml",level:3},{value:"onChangedFillType",id:"onchangedfilltype",level:3},{value:"onDeactivate",id:"ondeactivate",level:3},{value:"onDelete",id:"ondelete",level:3},{value:"onDraw",id:"ondraw",level:3},{value:"onEndWorkAreaProcessing",id:"onendworkareaprocessing",level:3},{value:"onEnterVehicle",id:"onentervehicle",level:3},{value:"onFillUnitFillLevelChanged",id:"onfillunitfilllevelchanged",level:3},{value:"onFoldStateChanged",id:"onfoldstatechanged",level:3},{value:"onLeaveVehicle",id:"onleavevehicle",level:3},{value:"onLoad",id:"onload",level:3},{value:"onPostAttachImplement",id:"onpostattachimplement",level:3},{value:"onPostDetachImplement",id:"onpostdetachimplement",level:3},{value:"onPostLoad",id:"onpostload",level:3},{value:"onReadStream",id:"onreadstream",level:3},{value:"onReadUpdateStream",id:"onreadupdatestream",level:3},{value:"onRegisterActionEvents",id:"onregisteractionevents",level:3},{value:"onRegisterDashboardValueTypes",id:"onregisterdashboardvaluetypes",level:3},{value:"onStartWorkAreaProcessing",id:"onstartworkareaprocessing",level:3},{value:"onTurnedOff",id:"onturnedoff",level:3},{value:"onTurnedOn",id:"onturnedon",level:3},{value:"onUpdate",id:"onupdate",level:3},{value:"onUpdateTick",id:"onupdatetick",level:3},{value:"onWriteStream",id:"onwritestream",level:3},{value:"onWriteUpdateStream",id:"onwriteupdatestream",level:3},{value:"prerequisitesPresent",id:"prerequisitespresent",level:3},{value:"processCombineChopperArea",id:"processcombinechopperarea",level:3},{value:"processCombineSwathArea",id:"processcombineswatharea",level:3},{value:"registerEventListeners",id:"registereventlisteners",level:3},{value:"registerEvents",id:"registerevents",level:3},{value:"registerFunctions",id:"registerfunctions",level:3},{value:"registerOverwrittenFunctions",id:"registeroverwrittenfunctions",level:3},{value:"removeCutterFromCombine",id:"removecutterfromcombine",level:3},{value:"saveToXMLFile",id:"savetoxmlfile",level:3},{value:"setChopperPSEnabled",id:"setchopperpsenabled",level:3},{value:"setCombineIsFilling",id:"setcombineisfilling",level:3},{value:"setIsSwathActive",id:"setisswathactive",level:3},{value:"setStrawPSEnabled",id:"setstrawpsenabled",level:3},{value:"setWorkedHectars",id:"setworkedhectars",level:3},{value:"startThreshing",id:"startthreshing",level:3},{value:"stopThreshing",id:"stopthreshing",level:3},{value:"updateToggleStrawText",id:"updatetogglestrawtext",level:3},{value:"verifyCombine",id:"verifycombine",level:3}];function o(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"combine",children:"Combine"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Specialization for combines providing threshing, effects, chopper and swath functionality"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Functions"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#actioneventtogglechopper",children:"actionEventToggleChopper"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#addcutterarea",children:"addCutterArea"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#addcuttertocombine",children:"addCutterToCombine"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#getarecontrolledactionsallowed",children:"getAreControlledActionsAllowed"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#getcanbeselected",children:"getCanBeSelected"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#getcanbeturnedon",children:"getCanBeTurnedOn"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#getcombinefilllevelpercentage",children:"getCombineFillLevelPercentage"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#getcombinelastvalidfilltype",children:"getCombineLastValidFillType"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#getcombineloadpercentage",children:"getCombineLoadPercentage"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#getdirtmultiplier",children:"getDirtMultiplier"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#getdischargefilltype",children:"getDischargeFillType"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#getfillleveldependentspeed",children:"getFillLevelDependentSpeed"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#getimplementallowautomaticsteering",children:"getImplementAllowAutomaticSteering"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#getiscuttercompatible",children:"getIsCutterCompatible"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#getisfoldallowed",children:"getIsFoldAllowed"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#getisrandomlymovingpartactive",children:"getIsRandomlyMovingPartActive"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#getisthreshingduringrain",children:"getIsThreshingDuringRain"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#getisturnedonanimationactive",children:"getIsTurnedOnAnimationActive"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#getturnedonnotallowedwarning",children:"getTurnedOnNotAllowedWarning"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#getwearmultiplier",children:"getWearMultiplier"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#initspecialization",children:"initSpecialization"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#loadcombineeffects",children:"loadCombineEffects"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#loadcombinerotationnodes",children:"loadCombineRotationNodes"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#loadcombinesamples",children:"loadCombineSamples"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#loadcombinesetup",children:"loadCombineSetup"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#loadrandomlymovingpartfromxml",children:"loadRandomlyMovingPartFromXML"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#loadturnedonanimationfromxml",children:"loadTurnedOnAnimationFromXML"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#loadworkareafromxml",children:"loadWorkAreaFromXML"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#onchangedfilltype",children:"onChangedFillType"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#ondeactivate",children:"onDeactivate"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#ondelete",children:"onDelete"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#ondraw",children:"onDraw"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#onendworkareaprocessing",children:"onEndWorkAreaProcessing"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#onentervehicle",children:"onEnterVehicle"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#onfillunitfilllevelchanged",children:"onFillUnitFillLevelChanged"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#onfoldstatechanged",children:"onFoldStateChanged"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#onleavevehicle",children:"onLeaveVehicle"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#onload",children:"onLoad"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#onpostattachimplement",children:"onPostAttachImplement"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#onpostdetachimplement",children:"onPostDetachImplement"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#onpostload",children:"onPostLoad"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#onreadstream",children:"onReadStream"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#onreadupdatestream",children:"onReadUpdateStream"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#onregisteractionevents",children:"onRegisterActionEvents"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#onregisterdashboardvaluetypes",children:"onRegisterDashboardValueTypes"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#onstartworkareaprocessing",children:"onStartWorkAreaProcessing"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#onturnedoff",children:"onTurnedOff"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#onturnedon",children:"onTurnedOn"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#onupdate",children:"onUpdate"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#onupdatetick",children:"onUpdateTick"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#onwritestream",children:"onWriteStream"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#onwriteupdatestream",children:"onWriteUpdateStream"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#prerequisitespresent",children:"prerequisitesPresent"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#processcombinechopperarea",children:"processCombineChopperArea"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#processcombineswatharea",children:"processCombineSwathArea"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#registereventlisteners",children:"registerEventListeners"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#registerevents",children:"registerEvents"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#registerfunctions",children:"registerFunctions"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#registeroverwrittenfunctions",children:"registerOverwrittenFunctions"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#removecutterfromcombine",children:"removeCutterFromCombine"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#savetoxmlfile",children:"saveToXMLFile"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#setchopperpsenabled",children:"setChopperPSEnabled"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#setcombineisfilling",children:"setCombineIsFilling"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#setisswathactive",children:"setIsSwathActive"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#setstrawpsenabled",children:"setStrawPSEnabled"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#setworkedhectars",children:"setWorkedHectars"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#startthreshing",children:"startThreshing"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#stopthreshing",children:"stopThreshing"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#updatetogglestrawtext",children:"updateToggleStrawText"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#verifycombine",children:"verifyCombine"})}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"actioneventtogglechopper",children:"actionEventToggleChopper"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"actionEventToggleChopper()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"self"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"actionName"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"inputValue"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"callbackState"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"isAnalog"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function Combine.actionEventToggleChopper( self , actionName, inputValue, callbackState, isAnalog)\n    local spec = self.spec_combine\n\n    if spec.swath.isAvailable then\n        local fillUnitIndex = spec.bufferFillUnitIndex or spec.fillUnitIndex\n        local fruitType = g_fruitTypeManager:getFruitTypeIndexByFillTypeIndex( self:getFillUnitFillType(fillUnitIndex))\n        if fruitType ~ = nil and fruitType ~ = FruitType.UNKNOWN then\n            local fruitDesc = g_fruitTypeManager:getFruitTypeByIndex(fruitType)\n            if fruitDesc.hasWindrow then\n                self:setIsSwathActive( not spec.isSwathActive)\n            else\n                    g_currentMission:showBlinkingWarning(g_i18n:getText( "warning_couldNotToggleChopper" ), 2000 )\n                end\n            else\n                    self:setIsSwathActive( not spec.isSwathActive)\n                end\n            end\n        end\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"addcutterarea",children:"addCutterArea"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"addCutterArea()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"area"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"liters"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"inputFruitType"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"outputFillType"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"strawRatio"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"farmId"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"cutterLoad"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function Combine:addCutterArea(area, liters, inputFruitType, outputFillType, strawRatio, farmId, cutterLoad)\n    local spec = self.spec_combine\n\n    if (area > 0 or liters > 0 ) and(spec.lastCuttersFruitType = = FruitType.UNKNOWN or spec.lastCuttersArea = = 0 or spec.lastCuttersOutputFillType = = outputFillType) then\n        spec.lastCuttersArea = spec.lastCuttersArea + area\n        spec.lastCuttersOutputFillType = outputFillType\n        spec.lastCuttersInputFruitType = inputFruitType\n        spec.lastCuttersAreaTime = g_currentMission.time\n        spec.lastAreaZeroTime = 0\n\n        local deltaFillLevel = liters * spec.threshingScale\n        local worldX, _, worldZ = getWorldTranslation( self.rootNode)\n        if self:getIsThreshingDuringRain() and g_missionManager:getMissionMapActiveMissionIdAtWorldPosition(worldX, worldZ) = = 0 then\n            deltaFillLevel = deltaFillLevel * ( 1 - Combine.RAIN_YIELD_REDUCTION)\n        end\n\n        if farmId ~ = AccessHandler.EVERYONE then\n            local damage = self:getVehicleDamage()\n            if damage > 0 then\n                deltaFillLevel = deltaFillLevel * ( 1 - damage * Combine.DAMAGED_YIELD_REDUCTION)\n            end\n        end\n\n        -- only add straw to buffer if the fill type that is loaded is picked up\n            if self:getFillUnitLastValidFillType(spec.fillUnitIndex) = = outputFillType or self:getFillUnitLastValidFillType(spec.bufferFillUnitIndex) = = outputFillType then\n                local strawFruitType = inputFruitType\n                if strawFruitType = = nil then\n                    strawFruitType = g_fruitTypeManager:getFruitTypeIndexByFillTypeIndex(outputFillType)\n                end\n\n                if strawFruitType ~ = nil then\n                    local inputBuffer = spec.processing.inputBuffer\n                    local slot = inputBuffer.buffer[inputBuffer.fillIndex]\n\n                    local fruitTypeDesc = g_fruitTypeManager:getFruitTypeByIndex(strawFruitType)\n                    if fruitTypeDesc.chopperType ~ = nil then\n                        slot.strawGroundType = FieldChopperType.getValueByType(fruitTypeDesc.chopperType)\n                        slot.strawHaulmFruitTypeIndex = nil\n                    elseif fruitTypeDesc.chopperUseHaulm then\n                            slot.strawGroundType = nil\n                            slot.strawHaulmFruitTypeIndex = strawFruitType\n                        end\n\n                        local strawLiters = liters / fruitTypeDesc.literPerSqm * (fruitTypeDesc.windrowLiterPerSqm or fruitTypeDesc.literPerSqm)\n\n                        slot.area = slot.area + area\n                        slot.liters = slot.liters + strawLiters\n                        slot.inputLiters = slot.inputLiters + strawLiters\n                        slot.strawRatio = strawRatio\n                        slot.effectDensity = cutterLoad * strawRatio * 0.8 + 0.2\n                    end\n                end\n\n                if spec.fillEnableTime = = nil then\n                    spec.fillEnableTime = g_currentMission.time + spec.processing.toggleTime\n                end\n\n                local fillType = outputFillType\n\n                if spec.additives.available then\n                    local fillTypeSupported = false\n                    for i = 1 , #spec.additives.fillTypes do\n                        if fillType = = spec.additives.fillTypes[i] then\n                            fillTypeSupported = true\n                            break\n                        end\n                    end\n\n                    if fillTypeSupported then\n                        local additivesFillLevel = self:getFillUnitFillLevel(spec.additives.fillUnitIndex)\n                        if additivesFillLevel > 0 then\n                            local usage = spec.additives.usage * deltaFillLevel\n                            if usage > 0 then\n                                local availableUsage = math.min(additivesFillLevel / usage, 1 )\n\n                                deltaFillLevel = deltaFillLevel * ( 1 + 0.05 * availableUsage)\n\n                                self:addFillUnitFillLevel( self:getOwnerFarmId(), spec.additives.fillUnitIndex, - usage, self:getFillUnitFillType(spec.additives.fillUnitIndex), ToolType.UNDEFINED)\n                            end\n                        end\n                    end\n                end\n\n                self:setWorkedHectars(spec.workedHectars + MathUtil.areaToHa(area, g_currentMission:getFruitPixelsToSqm()))\n\n                -- buffer only the set time in the xml, after that we do not add more to the fill unit\n                    if self:getFillUnitCapacity(spec.fillUnitIndex) = = math.huge and self:getFillUnitFillLevel(spec.fillUnitIndex) > 0.001 then\n                        local bufferTime = spec.fillLevelBufferTime\n\n                        if self:getIsAIActive() then\n                            bufferTime = math.huge\n                        end\n\n                        if spec.lastDischargeTime + bufferTime < g_currentMission.time then\n                            return deltaFillLevel\n                        end\n                    end\n\n                    local fillUnitIndex = spec.fillUnitIndex\n                    if spec.bufferFillUnitIndex ~ = nil then\n                        if self:getFillUnitFreeCapacity(spec.bufferFillUnitIndex) > 0 then\n                            fillUnitIndex = spec.bufferFillUnitIndex\n                        end\n                    end\n\n                    if spec.loadingDelay > 0 then\n                        for i = 1 , #spec.loadingDelaySlots do\n                            if not spec.loadingDelaySlots[i].valid then\n                                spec.loadingDelaySlots[i].valid = true\n                                spec.loadingDelaySlots[i].fillLevelDelta = deltaFillLevel\n                                spec.loadingDelaySlots[i].fillType = fillType\n\n                                if spec.loadingDelaySlotsDelayedInsert then\n                                    spec.loadingDelaySlots[i].time = g_currentMission.time\n                                else\n                                        spec.loadingDelaySlots[i].time = g_currentMission.time + (spec.unloadingDelay - spec.loadingDelay)\n                                    end\n\n                                    spec.loadingDelaySlotsDelayedInsert = not spec.loadingDelaySlotsDelayedInsert\n\n                                    break\n                                end\n                            end\n\n                            return deltaFillLevel\n                        end\n\n                        local loadInfo = self:getFillVolumeLoadInfo(spec.loadInfoIndex)\n                        return self:addFillUnitFillLevel( self:getOwnerFarmId(), fillUnitIndex, deltaFillLevel, fillType, ToolType.UNDEFINED, loadInfo)\n                    end\n\n                    return 0\n                end\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"addcuttertocombine",children:"addCutterToCombine"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"addCutterToCombine()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"cutter"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function Combine:addCutterToCombine(cutter)\n    local spec = self.spec_combine\n\n    if spec.attachedCutters[cutter] = = nil then\n        spec.attachedCutters[cutter] = cutter\n        spec.numAttachedCutters = spec.numAttachedCutters + 1\n\n        local ladder = self.spec_combine.ladder\n        if ladder.unfoldWhileCutterAttached and ladder.animName ~ = nil then\n            if self:getAnimationTime(ladder.animName) < 1 then\n                self:playAnimation(ladder.animName, ladder.animSpeedScale, self:getAnimationTime(ladder.animName), true )\n            end\n        end\n    end\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"getarecontrolledactionsallowed",children:"getAreControlledActionsAllowed"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Returns if controlled actions are allowed"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"getAreControlledActionsAllowed()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"allow"}),(0,t.jsx)(n.th,{children:"allow controlled actions"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"warning"}),(0,t.jsx)(n.td,{children:"not allowed warning"})]})})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function Combine:getAreControlledActionsAllowed(superFunc)\n    if self:getActionControllerDirection() = = 1 then -- always allow turn off\n        local spec = self.spec_combine\n        if spec.numAttachedCutters < = 0 then\n            return false , spec.texts.warningNoCutter\n        end\n    end\n\n    return superFunc( self )\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"getcanbeselected",children:"getCanBeSelected"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"getCanBeSelected()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function Combine:getCanBeSelected(superFunc)\n    return true\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"getcanbeturnedon",children:"getCanBeTurnedOn"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Returns if turn on is allowed"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"getCanBeTurnedOn()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"allow"}),(0,t.jsx)(n.th,{children:"allow turn on"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function Combine:getCanBeTurnedOn(superFunc)\n    local spec = self.spec_combine\n\n    if spec.numAttachedCutters < = 0 then\n        return false\n    end\n\n    for cutter, _ in pairs(spec.attachedCutters) do\n        if cutter ~ = self then\n            if cutter.getCanBeTurnedOn ~ = nil and not cutter:getCanBeTurnedOn() then\n                return false\n            end\n        end\n    end\n\n    return superFunc( self )\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"getcombinefilllevelpercentage",children:"getCombineFillLevelPercentage"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Returns real combine fill level percentage including the loading delay slots"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"getCombineFillLevelPercentage()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"fillLevelPercentage"}),(0,t.jsx)(n.th,{children:"fill level percentage"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function Combine:getCombineFillLevelPercentage()\n    local spec = self.spec_combine\n    local fillLevel = self:getFillUnitFillLevel(spec.fillUnitIndex)\n    if spec.loadingDelay > 0 then\n        local fillType = self:getFillUnitFillType(spec.fillUnitIndex)\n        for _, slot in pairs(spec.loadingDelaySlots) do\n            if slot.valid and slot.fillType = = fillType then\n                fillLevel = fillLevel + slot.fillLevelDelta\n            end\n        end\n    end\n\n    local capacity = self:getFillUnitCapacity(spec.fillUnitIndex)\n    return math.min(fillLevel / capacity, 1 )\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"getcombinelastvalidfilltype",children:"getCombineLastValidFillType"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Returns last valid fill type from fill unit or buffer unit"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"getCombineLastValidFillType()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"fillUnitIndex"}),(0,t.jsx)(n.th,{children:"fill unit index"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function Combine:getCombineLastValidFillType()\n    local spec = self.spec_combine\n\n    local fillType = FillType.UNKNOWN\n    if spec.bufferFillUnitIndex ~ = nil then\n        fillType = self:getFillUnitLastValidFillType(spec.bufferFillUnitIndex)\n    end\n\n    if fillType = = FillType.UNKNOWN then\n        fillType = self:getFillUnitLastValidFillType(spec.fillUnitIndex)\n    end\n\n    if fillType = = FillType.UNKNOWN then\n        if spec.loadingDelay > 0 then\n            for i = 1 , #spec.loadingDelaySlots do\n                if spec.loadingDelaySlots[i].valid then\n                    fillType = spec.loadingDelaySlots[i].fillType\n                    break\n                end\n            end\n        end\n    end\n\n    if fillType = = FillType.UNKNOWN then\n        fillType = spec.lastValidInputFillType\n    end\n\n    return fillType\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"getcombineloadpercentage",children:"getCombineLoadPercentage"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"getCombineLoadPercentage()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function Combine:getCombineLoadPercentage()\n    local spec = self.spec_combine\n    if spec ~ = nil then\n        if spec.numAttachedCutters > 0 then\n            local loadSum = 0\n            for cutter, _ in pairs(spec.attachedCutters) do\n                if cutter.getCutterLoad ~ = nil then\n                    loadSum = loadSum + cutter:getCutterLoad()\n                end\n            end\n\n            return loadSum / spec.numAttachedCutters\n        end\n    end\n\n    return 0\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"getdirtmultiplier",children:"getDirtMultiplier"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"getDirtMultiplier()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function Combine:getDirtMultiplier(superFunc)\n    local spec = self.spec_combine\n\n    for cutter, _ in pairs(spec.attachedCutters) do\n        if cutter.spec_cutter ~ = nil then\n            if cutter.spec_cutter.isWorking then\n                return superFunc( self ) + self:getWorkDirtMultiplier() * self:getLastSpeed() / cutter.speedLimit\n            end\n        end\n    end\n\n    return superFunc( self )\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"getdischargefilltype",children:"getDischargeFillType"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"getDischargeFillType()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"superFunc"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"dischargeNode"})]})})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function Combine:getDischargeFillType(superFunc, dischargeNode)\n    local fillType, conversionFactor = superFunc( self , dischargeNode)\n\n    -- while something is in the delay buffer slots we use their fill type in case our fill unit is still empty\n        if fillType = = FillType.UNKNOWN then\n            local spec = self.spec_combine\n            if spec.loadingDelay > 0 then\n                for i = 1 , #spec.loadingDelaySlots do\n                    local slot = spec.loadingDelaySlots[i]\n                    if slot.valid then\n                        if slot.fillLevelDelta > 0 and slot.fillType ~ = 0 then\n                            fillType = slot.fillType\n                            if dischargeNode.fillTypeConverter ~ = nil then\n                                local conversion = dischargeNode.fillTypeConverter[fillType]\n                                if conversion ~ = nil then\n                                    fillType = conversion.targetFillTypeIndex\n                                    conversionFactor = conversion.conversionFactor\n                                end\n                            end\n\n                            return fillType, conversionFactor\n                        end\n                    end\n                end\n            end\n        end\n\n        return fillType, conversionFactor\n    end\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"getfillleveldependentspeed",children:"getFillLevelDependentSpeed"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"getFillLevelDependentSpeed()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function Combine:getFillLevelDependentSpeed()\n    local spec = self.spec_combine\n    if spec.rotationNodesSpeedReverseFillLevel ~ = nil then\n        local fillLevelPct = self:getFillUnitFillLevel(spec.fillUnitIndex) / self:getFillUnitCapacity(spec.fillUnitIndex)\n        if fillLevelPct > spec.rotationNodesSpeedReverseFillLevel then\n            return - 1\n        else\n                return 1\n            end\n        else\n                return 1\n            end\n        end\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"getimplementallowautomaticsteering",children:"getImplementAllowAutomaticSteering"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"getImplementAllowAutomaticSteering()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function Combine:getImplementAllowAutomaticSteering(superFunc)\n    return true\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"getiscuttercompatible",children:"getIsCutterCompatible"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Returns if given attributes are compatible with combine"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"getIsCutterCompatible(table fillTypes)"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"table"}),(0,t.jsx)(n.th,{children:"fillTypes"}),(0,t.jsx)(n.th,{children:"fill types"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"table"}),(0,t.jsx)(n.th,{children:"isCompatible"}),(0,t.jsx)(n.th,{children:"is compatible with combine"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function Combine:getIsCutterCompatible(fillTypes)\n    local spec = self.spec_combine\n    local supportedTypes = self:getFillUnitSupportedFillTypes(spec.fillUnitIndex)\n\n    for i = 1 , #fillTypes do\n        local fillType = fillTypes[i]\n        for supportedType, _ in pairs(supportedTypes) do\n            if fillType = = supportedType then\n                return true\n            end\n        end\n    end\n\n    return false\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"getisfoldallowed",children:"getIsFoldAllowed"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Returns if fold is allowed"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"getIsFoldAllowed()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"superFunc"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"direction"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"onAiTurnOn"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"allowsFold"}),(0,t.jsx)(n.th,{children:"allows folding"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function Combine:getIsFoldAllowed(superFunc, direction, onAiTurnOn)\n    local spec = self.spec_combine\n\n    if not spec.allowFoldWhileThreshing and self:getIsTurnedOn() then\n        return false , spec.texts.warningFoldingTurnedOn\n    end\n\n    local fillLevel = self:getFillUnitFillLevel(spec.fillUnitIndex)\n    if direction = = spec.foldDirection and(fillLevel > spec.foldFillLevelThreshold and self:getFillUnitCapacity(spec.fillUnitIndex) ~ = math.huge) then\n        return false , spec.texts.warningFoldingWhileFilled\n    end\n\n    return superFunc( self , direction, onAiTurnOn)\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"getisrandomlymovingpartactive",children:"getIsRandomlyMovingPartActive"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"getIsRandomlyMovingPartActive()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"superFunc"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"part"})]})})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function Combine:getIsRandomlyMovingPartActive(superFunc, part)\n    local retValue = superFunc( self , part)\n\n    if part.moveOnlyIfCut then\n        local spec = self.spec_combine\n\n        local isCutting = false\n        for _, cutter in pairs(spec.attachedCutters) do\n            isCutting = isCutting or cutter.spec_cutter.lastAreaBiggerZeroTime > = (g_currentMission.time - 150 )\n        end\n\n        retValue = retValue and isCutting\n    end\n\n    return retValue\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"getisthreshingduringrain",children:"getIsThreshingDuringRain"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Returns if combine is currently threshing during rain"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"getIsThreshingDuringRain(boolean earlyWarning)"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"boolean"}),(0,t.jsx)(n.th,{children:"earlyWarning"}),(0,t.jsx)(n.th,{children:"early warning"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"boolean"}),(0,t.jsx)(n.th,{children:"isThreshingDuringRain"}),(0,t.jsx)(n.th,{children:"is threshing during rain"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function Combine:getIsThreshingDuringRain(earlyWarning)\n    local spec = self.spec_combine\n\n    if not spec.allowThreshingDuringRain then\n        local rainScale = g_currentMission.environment.weather:getRainFallScale()\n        local timeSinceLastRain = g_currentMission.environment.weather:getTimeSinceLastRain()\n        if earlyWarning ~ = nil and earlyWarning = = true then\n            if rainScale > = 0.02 and timeSinceLastRain < 20 then\n                return true\n            end\n        else\n                if rainScale > = 0.1 and timeSinceLastRain < 20 then\n                    return true\n                end\n            end\n        end\n\n        return false\n    end\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"getisturnedonanimationactive",children:"getIsTurnedOnAnimationActive"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"getIsTurnedOnAnimationActive()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"superFunc"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"turnedOnAnimation"})]})})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function Combine:getIsTurnedOnAnimationActive(superFunc, turnedOnAnimation)\n    local spec = self.spec_combine\n    if ( not turnedOnAnimation.activeChopper and not spec.isSwathActive)\n        or( not turnedOnAnimation.activeStrawDrop and spec.isSwathActive) then\n        return false\n    end\n\n    if turnedOnAnimation.waitForStraw then\n        return superFunc( self , turnedOnAnimation) or spec.workAreaParameters.isChopperEffectEnabled > 0\n    end\n\n    return superFunc( self , turnedOnAnimation)\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"getturnedonnotallowedwarning",children:"getTurnedOnNotAllowedWarning"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Returns turn on not allowed warning text"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"getTurnedOnNotAllowedWarning()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"warningText"}),(0,t.jsx)(n.th,{children:"turn on not allowed warning text"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function Combine:getTurnedOnNotAllowedWarning(superFunc)\n    if self:getIsActiveForInput( true ) then\n        local spec = self.spec_combine\n        if not self:getCanBeTurnedOn() then\n            if spec.numAttachedCutters = = 0 then\n                return spec.texts.warningNoCutter\n            else\n                    for cutter, _ in pairs(spec.attachedCutters) do\n                        if cutter ~ = self then\n                            if cutter.getTurnedOnNotAllowedWarning ~ = nil then\n                                local warning = cutter:getTurnedOnNotAllowedWarning()\n                                if warning ~ = nil then\n                                    return warning\n                                end\n                            end\n                        end\n                    end\n                end\n            end\n        end\n\n        return superFunc( self )\n    end\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"getwearmultiplier",children:"getWearMultiplier"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"getWearMultiplier()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function Combine:getWearMultiplier(superFunc)\n    local spec = self.spec_combine\n\n    for cutter, _ in pairs(spec.attachedCutters) do\n        if cutter.spec_cutter ~ = nil then\n            if cutter.spec_cutter.isWorking then\n                local stoneMultiplier = cutter:getCutterStoneMultiplier()\n                return superFunc( self ) + self:getWorkWearMultiplier() * self:getLastSpeed() / cutter.speedLimit * stoneMultiplier\n            end\n        end\n    end\n\n    return superFunc( self )\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"initspecialization",children:"initSpecialization"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"initSpecialization()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function Combine.initSpecialization()\n    AIFieldWorker.registerDriveStrategy( function (vehicle)\n        return SpecializationUtil.hasSpecialization( Combine , vehicle.specializations)\n    end , AIDriveStrategyCombine )\n\n    g_workAreaTypeManager:addWorkAreaType( "combineChopper" , false , false , false )\n    g_workAreaTypeManager:addWorkAreaType( "combineSwath" , false , false , false )\n\n    local schema = Vehicle.xmlSchema\n    schema:setXMLSpecializationType( "Combine" )\n\n    schema:register(XMLValueType.L10N_STRING, "vehicle.combine.warning#noCutter" , "No cutter warning" , "$l10n_warning_noCuttersAttached" )\n    schema:register(XMLValueType.FLOAT, "vehicle.combine#fillLevelBufferTime" , "Fill level buffer time for forage harvesters" , 2000 )\n        schema:register(XMLValueType.BOOL, "vehicle.combine#showTrailerWarning" , "Show warning if the combine is turned on, but no trailer below the pipe" , false )\n\n            schema:register(XMLValueType.BOOL, "vehicle.combine#allowThreshingDuringRain" , "Allow threshing during rain" , false )\n            schema:register(XMLValueType.INT, "vehicle.combine#fillUnitIndex" , "Fill unit index" , 1 )\n            schema:register(XMLValueType.BOOL, "vehicle.combine#turnOffWhenFull" , "Turn off the combine while it\'s full" , true )\n                schema:register(XMLValueType.INT, "vehicle.combine.buffer#fillUnitIndex" , "Buffer fill unit index(This fill unit will be filled first until it\'s full.Will be emptied if stopped to harvest)" )\n                    schema:register(XMLValueType.TIME, "vehicle.combine.buffer#unloadingTime" , "Buffer unloading speed" , 0 )\n                    schema:register(XMLValueType.INT, "vehicle.combine#loadInfoIndex" , "Load info index" , 1 )\n                    schema:register(XMLValueType.FLOAT, "vehicle.combine#threshingScale" , "Scales the yield of the combine" , 1 )\n\n                    schema:register(XMLValueType.TIME, "vehicle.combine.buffer#loadingDelay" , "Time until the crops from the cutter are added to the tank" , 0 )\n                    schema:register(XMLValueType.TIME, "vehicle.combine.buffer#unloadingDelay" , "Time until the crops are not longer added to the tank after the cutting has been stopped" , "same as #loadingDelay" )\n\n                    schema:register(XMLValueType.BOOL, "vehicle.combine.swath#available" , "Swath is available" , false )\n                    schema:register(XMLValueType.BOOL, "vehicle.combine.swath#isDefaultActive" , "Swath is default active" , "true if available" )\n                        schema:register(XMLValueType.INT, "vehicle.combine.swath#workAreaIndex" , "Swath work area index" )\n\n                        schema:register(XMLValueType.BOOL, "vehicle.combine.chopper#available" , "Chopper is available" , false )\n                        schema:register(XMLValueType.BOOL, "vehicle.combine.chopper#isPowered" , "Vehicle needs to be powered to switch chopper" , true )\n                        schema:register(XMLValueType.INT, "vehicle.combine.chopper#workAreaIndex" , "Chopper work area index" )\n                        schema:register(XMLValueType.STRING, "vehicle.combine.chopper#animName" , "Chopper toggle animation name" )\n                        schema:register(XMLValueType.FLOAT, "vehicle.combine.chopper#animSpeedScale" , "Chopper toggle animation speed" , 1 )\n\n                        schema:register(XMLValueType.STRING, "vehicle.combine.ladder#animName" , "Ladder animation name" )\n                        schema:register(XMLValueType.FLOAT, "vehicle.combine.ladder#animSpeedScale" , "Ladder animation speed scale" , 1 )\n                        schema:register(XMLValueType.FLOAT, "vehicle.combine.ladder#foldMinLimit" , "Min.folding time to fold ladder" , 0.99 )\n                        schema:register(XMLValueType.FLOAT, "vehicle.combine.ladder#foldMaxLimit" , "Max.folding time to fold ladder" , 1 )\n                        schema:register(XMLValueType.INT, "vehicle.combine.ladder#foldDirection" , "Fold direction to unfold ladder" , "signed animation speed" )\n                        schema:register(XMLValueType.BOOL, "vehicle.combine.ladder#unfoldWhileCutterAttached" , "Unfold ladder while a cutter is attached" , false )\n\n                            schema:register(XMLValueType.TIME, "vehicle.combine#fillTimeThreshold" , "After receiving no input for this threshold time we stop the fill effects" , 0.5 )\n\n                                schema:register(XMLValueType.FLOAT, "vehicle.combine.processing#toggleTime" , "Time from crop cutting to dropping straw" , 0 )\n\n                                schema:register(XMLValueType.STRING, "vehicle.combine.threshingStartAnimation#name" , "Threshing start animation" )\n                                schema:register(XMLValueType.FLOAT, "vehicle.combine.threshingStartAnimation#speedScale" , "Threshing start animation speed scale" )\n                                schema:register(XMLValueType.BOOL, "vehicle.combine.threshingStartAnimation#initialIsStarted" , "Threshing start animation is initial started" )\n\n                                schema:register(XMLValueType.INT, "vehicle.combine.additives#fillUnitIndex" , "Additives fill unit index" )\n                                schema:register(XMLValueType.FLOAT, "vehicle.combine.additives#usage" , "Usage per picked up liter" , 2 )\n                                schema:register(XMLValueType.STRING, "vehicle.combine.additives#fillTypes" , "Fill types to apply additives" , "CHAFF GRASS_WINDROW" )\n\n                                schema:register(XMLValueType.NODE_INDEX, "vehicle.combine.automaticTilt.automaticTiltNode(?)#node" , "Automatic tilt node" )\n                                schema:register(XMLValueType.ANGLE, "vehicle.combine.automaticTilt.automaticTiltNode(?)#minAngle" , "Min.angle" , - 5 )\n                                schema:register(XMLValueType.ANGLE, "vehicle.combine.automaticTilt.automaticTiltNode(?)#maxAngle" , "Max.angle" , 5 )\n                                schema:register(XMLValueType.ANGLE, "vehicle.combine.automaticTilt.automaticTiltNode(?)#maxSpeed" , "Max.angle change per second" , 2 )\n                                schema:register(XMLValueType.BOOL, "vehicle.combine.automaticTilt.automaticTiltNode(?)#updateAttacherJoint" , "Update cutter attacher joint" )\n                                schema:register(XMLValueType.STRING, "vehicle.combine.automaticTilt.automaticTiltNode(?)#dependentAnimation" , "Animation that is updated depending on tilt state" )\n\n                                schema:register(XMLValueType.FLOAT, "vehicle.combine.folding#fillLevelThresholdPct" , "Max.fill level to be folded(percentage between 0 and 1)" , 0.15 )\n                                schema:register(XMLValueType.INT, "vehicle.combine.folding#direction" , "Folding direction" , 1 )\n                                schema:register(XMLValueType.BOOL, "vehicle.combine.folding#allowWhileThreshing" , "Allow folding while combine is threshing" , false )\n\n                                    EffectManager.registerEffectXMLPaths(schema, "vehicle.combine.chopperEffect" )\n                                    EffectManager.registerEffectXMLPaths(schema, "vehicle.combine.strawEffect" )\n                                    EffectManager.registerEffectXMLPaths(schema, "vehicle.combine.fillEffect" )\n                                    EffectManager.registerEffectXMLPaths(schema, "vehicle.combine.effect" )\n\n                                    AnimationManager.registerAnimationNodesXMLPaths(schema, "vehicle.combine.animationNodes" )\n                                    AnimationManager.registerAnimationNodesXMLPaths(schema, "vehicle.combine.chopperAnimationNodes" )\n                                    AnimationManager.registerAnimationNodesXMLPaths(schema, "vehicle.combine.strawDropAnimationNodes" )\n                                    AnimationManager.registerAnimationNodesXMLPaths(schema, "vehicle.combine.fillingAnimationNodes" )\n                                    schema:register(XMLValueType.FLOAT, "vehicle.combine.animationNodes#speedReverseFillLevel" , "If fill level is above the animation nodes will be reversed(Percent 0-1)" )\n\n                                    SoundManager.registerSampleXMLPaths(schema, "vehicle.combine.sounds" , "start" )\n                                    SoundManager.registerSampleXMLPaths(schema, "vehicle.combine.sounds" , "stop" )\n                                    SoundManager.registerSampleXMLPaths(schema, "vehicle.combine.sounds" , "work" )\n\n                                    SoundManager.registerSampleXMLPaths(schema, "vehicle.combine.sounds" , "chopperStart" )\n                                    SoundManager.registerSampleXMLPaths(schema, "vehicle.combine.sounds" , "chopperStop" )\n                                    SoundManager.registerSampleXMLPaths(schema, "vehicle.combine.sounds" , "chopperWork" )\n\n                                    SoundManager.registerSampleXMLPaths(schema, "vehicle.combine.sounds" , "chopStraw" )\n                                    SoundManager.registerSampleXMLPaths(schema, "vehicle.combine.sounds" , "dropStraw" )\n\n                                    SoundManager.registerSampleXMLPaths(schema, "vehicle.combine.sounds" , "fill" )\n\n                                    Dashboard.registerDashboardXMLPaths(schema, "vehicle.combine.dashboards" , { "workedHectars" , "workedHectarsSession" } )\n\n                                    schema:register(XMLValueType.BOOL, TurnOnVehicle.TURNED_ON_ANIMATION_XML_PATH .. "#activeChopper" , "Animation is active while chopper is active" , true )\n                                        schema:register(XMLValueType.BOOL, TurnOnVehicle.TURNED_ON_ANIMATION_XML_PATH .. "#activeStrawDrop" , "Animation is active while straw drop is active" , true )\n                                            schema:register(XMLValueType.BOOL, TurnOnVehicle.TURNED_ON_ANIMATION_XML_PATH .. "#waitForStraw" , "Animation is active as long as straw is dropped" , true )\n\n                                            schema:register(XMLValueType.FLOAT, WorkArea.WORK_AREA_XML_KEY .. "#strawDropPercentage" , "Amount of straw that is dropped in this area [0-1]" , 1 )\n\n                                            schema:setXMLSpecializationType()\n\n                                            local schemaSavegame = Vehicle.xmlSchemaSavegame\n                                            schemaSavegame:register(XMLValueType.BOOL, "vehicles.vehicle(?).combine#isSwathActive" , "Swath is active" )\n                                            schemaSavegame:register(XMLValueType.FLOAT, "vehicles.vehicle(?).combine#workedHectars" , "Worked hectars" )\n                                            schemaSavegame:register(XMLValueType.INT, "vehicles.vehicle(?).combine#numAttachedCutters" , "Number of last attached cutters" )\n                                        end\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"loadcombineeffects",children:"loadCombineEffects"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"loadCombineEffects()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"xmlFile"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"baseKey"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"entry"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function Combine:loadCombineEffects(xmlFile, baseKey, entry)\n    if self.isClient then\n        XMLUtil.checkDeprecatedXMLElements(xmlFile, baseKey .. ".chopperParticleSystems" , baseKey .. ".chopperEffect" ) --FS17 to FS19\n        XMLUtil.checkDeprecatedXMLElements(xmlFile, baseKey .. ".strawParticleSystems" , baseKey .. ".strawEffect" ) --FS17 to FS19\n        XMLUtil.checkDeprecatedXMLElements(xmlFile, baseKey .. ".threshingFillParticleSystems" , baseKey .. ".fillEffect" ) --FS17 to FS19\n\n        entry.chopperEffects = g_effectManager:loadEffect(xmlFile, baseKey .. ".chopperEffect" , self.components, self , self.i3dMappings)\n        entry.strawEffects = g_effectManager:loadEffect(xmlFile, baseKey .. ".strawEffect" , self.components, self , self.i3dMappings)\n        entry.fillEffects = g_effectManager:loadEffect(xmlFile, baseKey .. ".fillEffect" , self.components, self , self.i3dMappings)\n        entry.effects = g_effectManager:loadEffect(xmlFile, baseKey .. ".effect" , self.components, self , self.i3dMappings)\n\n        entry.strawPSenabled = false\n        entry.chopperPSenabled = false\n        entry.isFilling = false\n\n        entry.fillEnableTime = nil\n        entry.fillDisableTime = nil\n\n        entry.lastEffectFillType = FillType.UNKNOWN\n    end\nend\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"loadcombinerotationnodes",children:"loadCombineRotationNodes"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"loadCombineRotationNodes()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"xmlFile"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"baseKey"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"entry"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function Combine:loadCombineRotationNodes(xmlFile, baseKey, entry)\n    if self.isClient then\n        entry.animationNodes = g_animationManager:loadAnimations(xmlFile, baseKey .. ".animationNodes" , self.components, self , self.i3dMappings)\n        entry.chopperAnimationNodes = g_animationManager:loadAnimations(xmlFile, baseKey .. ".chopperAnimationNodes" , self.components, self , self.i3dMappings)\n        entry.strawDropAnimationNodes = g_animationManager:loadAnimations(xmlFile, baseKey .. ".strawDropAnimationNodes" , self.components, self , self.i3dMappings)\n        entry.fillingAnimationNodes = g_animationManager:loadAnimations(xmlFile, baseKey .. ".fillingAnimationNodes" , self.components, self , self.i3dMappings)\n        entry.rotationNodesSpeedReverseFillLevel = xmlFile:getValue(baseKey .. ".animationNodes#speedReverseFillLevel" )\n    end\nend\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"loadcombinesamples",children:"loadCombineSamples"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"loadCombineSamples()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"xmlFile"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"key"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"entry"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function Combine:loadCombineSamples(xmlFile, key, entry)\n    if self.isClient then\n        entry.samples = { }\n        entry.samples.start = g_soundManager:loadSampleFromXML(xmlFile, key .. ".sounds" , "start" , self.baseDirectory, self.components, 1 , AudioGroup.VEHICLE, self.i3dMappings, self )\n        entry.samples.stop = g_soundManager:loadSampleFromXML(xmlFile, key .. ".sounds" , "stop" , self.baseDirectory, self.components, 1 , AudioGroup.VEHICLE, self.i3dMappings, self )\n        entry.samples.work = g_soundManager:loadSampleFromXML(xmlFile, key .. ".sounds" , "work" , self.baseDirectory, self.components, 0 , AudioGroup.VEHICLE, self.i3dMappings, self )\n\n        entry.samples.chopperStart = g_soundManager:loadSampleFromXML(xmlFile, key .. ".sounds" , "chopperStart" , self.baseDirectory, self.components, 1 , AudioGroup.VEHICLE, self.i3dMappings, self )\n        entry.samples.chopperStop = g_soundManager:loadSampleFromXML(xmlFile, key .. ".sounds" , "chopperStop" , self.baseDirectory, self.components, 1 , AudioGroup.VEHICLE, self.i3dMappings, self )\n        entry.samples.chopperWork = g_soundManager:loadSampleFromXML(xmlFile, key .. ".sounds" , "chopperWork" , self.baseDirectory, self.components, 0 , AudioGroup.VEHICLE, self.i3dMappings, self )\n\n        entry.samples.chopStraw = g_soundManager:loadSampleFromXML(xmlFile, key .. ".sounds" , "chopStraw" , self.baseDirectory, self.components, 0 , AudioGroup.VEHICLE, self.i3dMappings, self )\n        entry.samples.dropStraw = g_soundManager:loadSampleFromXML(xmlFile, key .. ".sounds" , "dropStraw" , self.baseDirectory, self.components, 0 , AudioGroup.VEHICLE, self.i3dMappings, self )\n\n        entry.samples.fill = g_soundManager:loadSampleFromXML(xmlFile, key .. ".sounds" , "fill" , self.baseDirectory, self.components, 0 , AudioGroup.VEHICLE, self.i3dMappings, self )\n    end\nend\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"loadcombinesetup",children:"loadCombineSetup"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"loadCombineSetup()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"xmlFile"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"baseKey"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"entry"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function Combine:loadCombineSetup(xmlFile, baseKey, entry)\n    entry.allowThreshingDuringRain = xmlFile:getValue(baseKey .. "#allowThreshingDuringRain" , false )\n\n    entry.fillUnitIndex = xmlFile:getValue(baseKey .. "#fillUnitIndex" , 1 )\n    entry.turnOffWhenFull = xmlFile:getValue(baseKey .. "#turnOffWhenFull" , true )\n    entry.bufferFillUnitIndex = xmlFile:getValue(baseKey .. ".buffer#fillUnitIndex" )\n    entry.bufferUnloadingTime = xmlFile:getValue(baseKey .. ".buffer#unloadingTime" , 0 )\n    entry.loadInfoIndex = xmlFile:getValue(baseKey .. "#loadInfoIndex" , 1 )\n\n    entry.loadingDelay = xmlFile:getValue(baseKey .. ".buffer#loadingDelay" , 0 )\n    if entry.loadingDelay > 0 then\n        entry.unloadingDelay = xmlFile:getValue(baseKey .. ".buffer#unloadingDelay" , entry.loadingDelay / 1000 )\n        entry.loadingDelaySlotsDelayedInsert = false\n\n        entry.loadingDelaySlots = { }\n        for i = 1 , entry.loadingDelay / 1000 * 60 + 1 do -- max if we fill at 60FPS every frame\n            entry.loadingDelaySlots[i] = { time = - math.huge, fillLevelDelta = 0 , fillType = 0 , valid = false }\n        end\n    end\n\n    -- swath\n    entry.swath = { }\n    entry.swath.isAvailable = xmlFile:getValue(baseKey .. ".swath#available" , false )\n    local isDefaultActive = xmlFile:getValue(baseKey .. ".swath#isDefaultActive" , entry.swath.isAvailable)\n    if entry.swath.isAvailable then\n        entry.swath.workAreaIndex = xmlFile:getValue(baseKey .. ".swath#workAreaIndex" )\n        if entry.swath.workAreaIndex = = nil then\n            entry.swath.isAvailable = false\n            Logging.xmlWarning(xmlFile, "Missing \'swath#workAreaIndex\' for combine swath function!" )\n            end\n            entry.warningTime = 0\n        end\n\n        -- chopper\n        entry.chopper = { }\n        entry.chopper.isAvailable = xmlFile:getValue(baseKey .. ".chopper#available" , false )\n        entry.chopper.isPowered = xmlFile:getValue(baseKey .. ".chopper#isPowered" , true )\n        if entry.chopper.isAvailable then\n            entry.chopper.workAreaIndex = xmlFile:getValue(baseKey .. ".chopper#workAreaIndex" )\n            if entry.chopper.workAreaIndex = = nil then\n                entry.chopper.isAvailable = false\n                Logging.xmlWarning(xmlFile, "Missing \'chopper#workAreaIndex\' for combine chopper function!" )\n                end\n\n                entry.chopper.animName = xmlFile:getValue(baseKey .. ".chopper#animName" )\n                entry.chopper.animSpeedScale = xmlFile:getValue(baseKey .. ".chopper#animSpeedScale" , 1 )\n            end\n\n            entry.automatedChopperSwitch = GS_IS_MOBILE_VERSION\n\n            entry.isSwathActive = isDefaultActive\n\n            --ladder\n            entry.ladder = { }\n            entry.ladder.animName = xmlFile:getValue(baseKey .. ".ladder#animName" )\n            entry.ladder.animSpeedScale = xmlFile:getValue(baseKey .. ".ladder#animSpeedScale" , 1 )\n            entry.ladder.foldMinLimit = xmlFile:getValue(baseKey .. ".ladder#foldMinLimit" , 0.99 )\n            entry.ladder.foldMaxLimit = xmlFile:getValue(baseKey .. ".ladder#foldMaxLimit" , 1 )\n            entry.ladder.foldDirection = xmlFile:getValue(baseKey .. ".ladder#foldDirection" , math.sign(entry.ladder.animSpeedScale))\n            entry.ladder.unfoldWhileCutterAttached = xmlFile:getValue(baseKey .. ".ladder#unfoldWhileCutterAttached" , false )\n\n            entry.fillTimeThreshold = xmlFile:getValue(baseKey .. "#fillTimeThreshold" , 0.5 )\n\n            -- processing buffer\n            entry.processing = { }\n            local toggleTime = xmlFile:getValue(baseKey .. ".processing#toggleTime" )\n            if toggleTime = = nil and entry.chopper.animName ~ = nil then\n                toggleTime = self:getAnimationDurection(entry.chopper.animName)\n                if toggleTime ~ = nil then\n                    toggleTime = toggleTime / 1000\n                end\n            end\n            entry.processing.toggleTime = Utils.getNoNil(toggleTime, 0 ) * 1000\n\n            local inputBuffer = { }\n            local slotDuration = 300\n            local slotCount = math.clamp( math.ceil(entry.processing.toggleTime / slotDuration), 2 , 20 )\n            inputBuffer.slotCount = slotCount\n            inputBuffer.slotDuration = math.ceil( entry.processing.toggleTime / inputBuffer.slotCount )\n            inputBuffer.fillIndex = 1\n            inputBuffer.dropIndex = inputBuffer.fillIndex + 1\n            inputBuffer.slotTimer = inputBuffer.slotDuration\n            inputBuffer.activeTimeout = inputBuffer.slotDuration * (inputBuffer.slotCount + 2 )\n            inputBuffer.activeTimer = inputBuffer.activeTimeout\n            inputBuffer.buffer = { }\n            for _ = 1 , inputBuffer.slotCount do\n                table.insert(inputBuffer.buffer, { area = 0 , liters = 0 , inputLiters = 0 , strawRatio = 0 , effectDensity = 0.2 } )\n            end\n            entry.processing.inputBuffer = inputBuffer\n\n            -- threhsing start animation\n            entry.threshingStartAnimation = xmlFile:getValue(baseKey .. ".threshingStartAnimation#name" )\n            entry.threshingStartAnimationSpeedScale = xmlFile:getValue(baseKey .. ".threshingStartAnimation#speedScale" , 1 )\n            entry.threshingStartAnimationInitialIsStarted = xmlFile:getValue(baseKey .. ".threshingStartAnimation#initialIsStarted" , false )\n\n            entry.foldFillLevelThreshold = xmlFile:getValue(baseKey .. ".folding#fillLevelThresholdPct" , Platform.gameplay.automaticVehicleControl and 0 or 0.15 ) * ( self:getFillUnitCapacity(entry.fillUnitIndex) or 0.04 )\n            entry.foldDirection = xmlFile:getValue(baseKey .. ".folding#direction" , 1 )\n            entry.allowFoldWhileThreshing = xmlFile:getValue(baseKey .. ".folding#allowWhileThreshing" , false )\n\n            entry.additives = { }\n            entry.additives.fillUnitIndex = xmlFile:getValue(baseKey .. ".additives#fillUnitIndex" )\n            entry.additives.available = self:getFillUnitByIndex(entry.additives.fillUnitIndex) ~ = nil\n            entry.additives.usage = xmlFile:getValue(baseKey .. ".additives#usage" , 0.0 )\n            local additivesFillTypeNames = xmlFile:getValue(baseKey .. ".additives#fillTypes" , "CHAFF GRASS_WINDROW" )\n            entry.additives.fillTypes = g_fillTypeManager:getFillTypesByNames(additivesFillTypeNames, "Warning: \'" .. xmlFile:getFilename() .. "\' has invalid fillType \'%s\'." )\n\n            -- automatic tilt\n            entry.automaticTilt = { }\n            entry.automaticTilt.nodes = { }\n            xmlFile:iterate(baseKey .. ".automaticTilt.automaticTiltNode" , function (index, key)\n                local automaticTiltNode = { }\n                automaticTiltNode.node = xmlFile:getValue(key .. "#node" , nil , self.components, self.i3dMappings)\n                if automaticTiltNode.node ~ = nil then\n                    automaticTiltNode.minAngle = xmlFile:getValue(key .. "#minAngle" , - 5 )\n                    automaticTiltNode.maxAngle = xmlFile:getValue(key .. "#maxAngle" , 5 )\n\n                    automaticTiltNode.maxSpeed = xmlFile:getValue(key .. "#maxSpeed" , 2 ) / 1000\n                    automaticTiltNode.updateAttacherJoint = xmlFile:getValue(key .. "#updateAttacherJoint" )\n                    automaticTiltNode.dependentAnimation = xmlFile:getValue(key .. "#dependentAnimation" )\n                    automaticTiltNode.lastJointUpdateRot = 0\n\n                    table.insert(entry.automaticTilt.nodes, automaticTiltNode)\n                end\n            end )\n\n            if not Platform.gameplay.allowAutomaticHeaderTilt then\n                if #entry.automaticTilt.nodes > 0 then\n                    Logging.xmlWarning( self.xmlFile, "Automatic header tilt is not allowed on this platform!" )\n                    entry.automaticTilt.nodes = { }\n                end\n            end\n\n            entry.automaticTilt.hasNodes = #entry.automaticTilt.nodes > 0\n        end\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"loadrandomlymovingpartfromxml",children:"loadRandomlyMovingPartFromXML"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"loadRandomlyMovingPartFromXML()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"superFunc"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"part"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"xmlFile"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"key"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function Combine:loadRandomlyMovingPartFromXML(superFunc, part, xmlFile, key)\n    local retValue = superFunc( self , part, xmlFile, key)\n\n    part.moveOnlyIfCut = xmlFile:getValue(key .. "#moveOnlyIfCut" , false )\n\n    return retValue\nend\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"loadturnedonanimationfromxml",children:"loadTurnedOnAnimationFromXML"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"loadTurnedOnAnimationFromXML()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"superFunc"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"xmlFile"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"key"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"turnedOnAnimation"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function Combine:loadTurnedOnAnimationFromXML(superFunc, xmlFile, key, turnedOnAnimation)\n    turnedOnAnimation.activeChopper = xmlFile:getValue(key .. "#activeChopper" , true )\n    turnedOnAnimation.activeStrawDrop = xmlFile:getValue(key .. "#activeStrawDrop" , true )\n    turnedOnAnimation.waitForStraw = xmlFile:getValue(key .. "#waitForStraw" , false )\n\n    return superFunc( self , xmlFile, key, turnedOnAnimation)\nend\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"loadworkareafromxml",children:"loadWorkAreaFromXML"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"loadWorkAreaFromXML()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"superFunc"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"workArea"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"xmlFile"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"key"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function Combine:loadWorkAreaFromXML(superFunc, workArea, xmlFile, key)\n    if not superFunc( self , workArea, xmlFile, key) then\n        return false\n    end\n\n    if workArea.type = = WorkAreaType.COMBINECHOPPER or workArea.type = = WorkAreaType.COMBINESWATH then\n        if xmlFile:getValue(key .. "#requiresOwnedFarmland" ) = = nil then\n            workArea.requiresOwnedFarmland = false\n        end\n        if xmlFile:getValue(key .. "#needsSetIsTurnedOn" ) = = nil then\n            workArea.needsSetIsTurnedOn = false\n        end\n\n        workArea.strawDropPercentage = xmlFile:getValue(key .. "#strawDropPercentage" , 1 )\n    end\n\n    return true\nend\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"onchangedfilltype",children:"onChangedFillType"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"onChangedFillType()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"fillUnitIndex"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"fillTypeIndex"})]})})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function Combine:onChangedFillType(fillUnitIndex, fillTypeIndex)\n    local spec = self.spec_combine\n    if spec.bufferFillUnitIndex ~ = nil and fillUnitIndex = = spec.bufferFillUnitIndex or fillUnitIndex = = spec.fillUnitIndex then\n        if fillTypeIndex ~ = FillType.UNKNOWN then\n            if fillTypeIndex ~ = spec.lastEffectFillType then\n                if spec.chopperPSenabled then\n                    self:setChopperPSEnabled( true , true , 0 , true )\n                end\n                if spec.strawPSenabled then\n                    self:setStrawPSEnabled( true , true , 0 , true )\n                end\n                if spec.isFilling then\n                    self:setCombineIsFilling( true , true , true )\n                end\n            end\n\n            spec.lastEffectFillType = fillTypeIndex\n        end\n    end\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"ondeactivate",children:"onDeactivate"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Called on deactivate"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"onDeactivate()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function Combine:onDeactivate()\n    local spec = self.spec_combine\n\n    self:setChopperPSEnabled( false , false , 0 , true )\n    self:setStrawPSEnabled( false , false , 0 , true )\n    self:setCombineIsFilling( false , false , true )\n    spec.fillEnableTime = nil\n    spec.fillDisableTime = nil\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"ondelete",children:"onDelete"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Called on deleting"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"onDelete()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function Combine:onDelete()\n    local spec = self.spec_combine\n\n    g_effectManager:deleteEffects(spec.effects)\n    g_effectManager:deleteEffects(spec.fillEffects)\n    g_effectManager:deleteEffects(spec.strawEffects)\n    g_effectManager:deleteEffects(spec.chopperEffects)\n\n    g_animationManager:deleteAnimations(spec.animationNodes)\n    g_animationManager:deleteAnimations(spec.chopperAnimationNodes)\n    g_animationManager:deleteAnimations(spec.strawDropAnimationNodes)\n    g_animationManager:deleteAnimations(spec.fillingAnimationNodes)\n\n    g_soundManager:deleteSamples(spec.samples)\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"ondraw",children:"onDraw"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Called on draw"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"onDraw(boolean isActiveForInput, boolean isSelected, )"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"boolean"}),(0,t.jsx)(n.th,{children:"isActiveForInput"}),(0,t.jsx)(n.th,{children:"true if vehicle is active for input"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"boolean"}),(0,t.jsx)(n.td,{children:"isSelected"}),(0,t.jsx)(n.td,{children:"true if vehicle is selected"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"isSelected"}),(0,t.jsx)(n.td,{})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function Combine:onDraw(isActiveForInput, isActiveForInputIgnoreSelection, isSelected)\n    local spec = self.spec_combine\n    local isTurnedOn = self:getIsTurnedOn()\n    if isTurnedOn and self:getIsThreshingDuringRain( false ) then\n        if not spec.threshingDuringRainWarningDisplayed then\n            g_currentMission:showBlinkingWarning(spec.texts.warningRainReducesYield, 4000 )\n            spec.threshingDuringRainWarningDisplayed = true\n        end\n    else\n            spec.threshingDuringRainWarningDisplayed = false\n        end\n\n        if spec.showTrailerWarning and isTurnedOn then\n            if isActiveForInputIgnoreSelection then\n                local dischargeNode = self:getCurrentDischargeNode()\n                if dischargeNode ~ = nil and not dischargeNode.dischargeHitObject then\n                    g_currentMission:addExtraPrintText(g_i18n:getText( "warning_harvesterRequiresTrailer" ))\n                end\n            end\n        end\n    end\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"onendworkareaprocessing",children:"onEndWorkAreaProcessing"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"onEndWorkAreaProcessing()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"dt"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"hasProcessed"})]})})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function Combine:onEndWorkAreaProcessing(dt, hasProcessed)\n    local spec = self.spec_combine\n    local inputBuffer = spec.processing.inputBuffer\n    inputBuffer.buffer[inputBuffer.dropIndex].liters = math.max( 0 , inputBuffer.buffer[inputBuffer.dropIndex].liters - spec.workAreaParameters.droppedLiters)\n\n    spec.workAreaParameters.litersToDrop = spec.workAreaParameters.litersToDrop - spec.workAreaParameters.droppedLiters\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"onentervehicle",children:"onEnterVehicle"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"onEnterVehicle()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function Combine:onEnterVehicle()\n    local ladder = self.spec_combine.ladder\n    if ladder.animName ~ = nil then\n        local fold = true\n        if self.getFoldAnimTime ~ = nil then\n            local foldAnimTime = self:getFoldAnimTime()\n            if foldAnimTime > ladder.foldMaxLimit or foldAnimTime < ladder.foldMinLimit then\n                fold = false\n            end\n        end\n\n        if ladder.unfoldWhileCutterAttached then\n            if self.spec_combine.numAttachedCutters > 0 then\n                fold = false\n            end\n        end\n\n        if fold then\n            self:playAnimation(ladder.animName, - ladder.animSpeedScale, self:getAnimationTime(ladder.animName), true )\n        end\n    end\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"onfillunitfilllevelchanged",children:"onFillUnitFillLevelChanged"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"onFillUnitFillLevelChanged()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"fillUnitIndex"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"fillLevelDelta"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"fillTypeIndex"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"toolType"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"fillPositionData"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"appliedDelta"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function Combine:onFillUnitFillLevelChanged(fillUnitIndex, fillLevelDelta, fillTypeIndex, toolType, fillPositionData, appliedDelta)\n    local spec = self.spec_combine\n\n    if fillUnitIndex = = spec.fillUnitIndex then\n        if fillLevelDelta < 0 then\n            spec.lastDischargeTime = g_currentMission.time\n        end\n\n        if self.isServer then\n            if spec.turnOffWhenFull then\n                if self:getCombineFillLevelPercentage() = = 1 then\n                    self:setIsTurnedOn( false )\n                end\n            end\n        end\n    end\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"onfoldstatechanged",children:"onFoldStateChanged"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"onFoldStateChanged()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"direction"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"moveToMiddle"})]})})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function Combine:onFoldStateChanged(direction, moveToMiddle)\n    local ladder = self.spec_combine.ladder\n    if ladder.animName ~ = nil and direction ~ = 0 and(direction = = self.spec_foldable.turnOnFoldDirection or not moveToMiddle) then\n        local fold = true\n        if ladder.unfoldWhileCutterAttached then\n            if self.spec_combine.numAttachedCutters > 0 then\n                fold = false\n            end\n        end\n\n        if fold then\n            self:playAnimation(ladder.animName, direction * ladder.animSpeedScale * ladder.foldDirection, self:getAnimationTime(ladder.animName), true )\n        end\n    end\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"onleavevehicle",children:"onLeaveVehicle"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"onLeaveVehicle()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function Combine:onLeaveVehicle()\n    local ladder = self.spec_combine.ladder\n    if ladder.animName ~ = nil then\n        local fold = true\n        if self.getFoldAnimTime ~ = nil then\n            local foldAnimTime = self:getFoldAnimTime()\n            if foldAnimTime > ladder.foldMaxLimit or foldAnimTime < ladder.foldMinLimit then\n                fold = false\n            end\n        end\n\n        if ladder.unfoldWhileCutterAttached then\n            if self.spec_combine.numAttachedCutters > 0 then\n                fold = false\n            end\n        end\n\n        if fold then\n            self:playAnimation(ladder.animName, ladder.animSpeedScale, self:getAnimationTime(ladder.animName), true )\n        end\n    end\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"onload",children:"onLoad"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"onLoad()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"savegame"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function Combine:onLoad(savegame)\n    local spec = self.spec_combine\n\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.combine.chopperSwitch" , "vehicle.combine.swath and vehicle.combine.chopper" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.turnedOnRotationNodes.turnedOnRotationNode#type" , "vehicle.combine.rotationNodes.rotationNode" , "combine" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.indoorHud.workedHectars" , "vehicle.combine.dashboards.dashboard with valueType \'workedHectars\'" ) --FS17 to FS19\n\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.combine.folding#fillLevelThreshold" , "vehicle.combine.folding#fillLevelThresholdPct" ) --FS19 to FS22\n\n    self:loadCombineSetup( self.xmlFile, "vehicle.combine" , spec)\n    self:loadCombineEffects( self.xmlFile, "vehicle.combine" , spec)\n    self:loadCombineRotationNodes( self.xmlFile, "vehicle.combine" , spec)\n    self:loadCombineSamples( self.xmlFile, "vehicle.combine" , spec)\n\n    spec.attachedCutters = { }\n    spec.numAttachedCutters = 0\n\n    spec.texts = { }\n    spec.texts.warningFoldingTurnedOn = g_i18n:getText( "warning_foldingNotWhileTurnedOn" )\n    spec.texts.warningFoldingWhileFilled = g_i18n:getText( "warning_foldingNotWhileFilled" )\n    spec.texts.warningRainReducesYield = g_i18n:getText( "warning_rainReducesYield" )\n    spec.texts.warningNoCutter = self.xmlFile:getValue( "vehicle.combine.warning#noCutter" , g_i18n:getText( "warning_noCuttersAttached" ), self.customEnvironment)\n\n    spec.threshingDuringRainWarningDisplayed = false\n    spec.showTrailerWarning = self.xmlFile:getValue( "vehicle.combine#showTrailerWarning" , false )\n\n    spec.lastAreaZeroTime = 0\n    spec.lastAreaNonZeroTime = - 1000000\n    spec.lastCuttersArea = 0\n    spec.lastCuttersAreaTime = - 10000\n    spec.lastInputFruitType = FruitType.UNKNOWN\n    spec.lastValidInputFruitType = FruitType.UNKNOWN\n    spec.lastCuttersFruitType = FruitType.UNKNOWN\n    spec.lastCuttersInputFruitType = FruitType.UNKNOWN\n    spec.lastValidInputFillType = FillType.UNKNOWN\n    spec.lastDischargeTime = 0\n    spec.lastChargeTime = 0\n    spec.fillLevelBufferTime = self.xmlFile:getValue( "vehicle.combine#fillLevelBufferTime" , 2000 ) -- time the fill level buffer is filled without unloading\n\n    spec.workedHectars = 0\n    spec.workedHectarsSent = 0\n    spec.workedHectarsInitial = 0\n\n    spec.threshingScale = self.xmlFile:getValue( "vehicle.combine#threshingScale" , 1 )\n    spec.lastLostFillLevel = 0\n\n    spec.workAreaParameters = { }\n    spec.workAreaParameters.litersToDrop = 0\n    spec.workAreaParameters.droppedLiters = 0\n    spec.workAreaParameters.minLitersToDrop = 0\n    spec.workAreaParameters.isChopperEffectEnabled = 0\n    spec.workAreaParameters.isStrawEffectEnabled = 0\n    spec.workAreaParameters.effectDensity = 0.2\n    spec.workAreaParameters.effectDensitySent = 0.2\n\n    spec.dirtyFlag = self:getNextDirtyFlag()\n    spec.effectDirtyFlag = self:getNextDirtyFlag()\nend\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"onpostattachimplement",children:"onPostAttachImplement"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Called on attaching a implement"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"onPostAttachImplement(table implement, , , )"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"table"}),(0,t.jsx)(n.th,{children:"implement"}),(0,t.jsx)(n.th,{children:"implement to attach"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"inputJointDescIndex"}),(0,t.jsx)(n.td,{})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"jointDescIndex"}),(0,t.jsx)(n.td,{})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"loadFromSavegame"}),(0,t.jsx)(n.td,{})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function Combine:onPostAttachImplement(attachable, inputJointDescIndex, jointDescIndex, loadFromSavegame)\n    local attacherJoint = attachable:getActiveInputAttacherJoint()\n    if attacherJoint ~ = nil then\n        if attacherJoint.jointType = = AttacherJoints.JOINTTYPE_CUTTER or attacherJoint.jointType = = AttacherJoints.JOINTTYPE_CUTTERHARVESTER then\n            self:addCutterToCombine(attachable)\n        end\n    end\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"onpostdetachimplement",children:"onPostDetachImplement"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Called on detaching a implement"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"onPostDetachImplement(integer implementIndex)"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"integer"}),(0,t.jsx)(n.th,{children:"implementIndex"}),(0,t.jsx)(n.th,{children:"index of implement to detach"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function Combine:onPostDetachImplement(implementIndex)\n    local object = self:getObjectFromImplementIndex(implementIndex)\n    if object ~ = nil then\n        local attacherJoint = object:getActiveInputAttacherJoint()\n        if attacherJoint ~ = nil then\n            if attacherJoint.jointType = = AttacherJoints.JOINTTYPE_CUTTER or attacherJoint.jointType = = AttacherJoints.JOINTTYPE_CUTTERHARVESTER then\n                self:removeCutterFromCombine(object)\n            end\n        end\n    end\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"onpostload",children:"onPostLoad"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Called after loading"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"onPostLoad(table savegame)"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"table"}),(0,t.jsx)(n.th,{children:"savegame"}),(0,t.jsx)(n.th,{children:"savegame"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function Combine:onPostLoad(savegame)\n    local spec = self.spec_combine\n\n    if savegame ~ = nil then\n        if spec.swath.isAvailable then\n            local isSwathActive = savegame.xmlFile:getValue(savegame.key .. ".combine#isSwathActive" , spec.isSwathActive)\n            self:setIsSwathActive(isSwathActive, true , true )\n        end\n        self:setWorkedHectars(savegame.xmlFile:getValue(savegame.key .. ".combine#workedHectars" , spec.workedHectars), true )\n    else\n            self:setIsSwathActive(spec.isSwathActive, true , true )\n        end\n\n        spec.isBufferCombine = self:getFillUnitCapacity( self.spec_combine.fillUnitIndex) = = math.huge\n        if spec.isBufferCombine then\n            local fillUnit = self:getFillUnitByIndex( self.spec_combine.fillUnitIndex)\n            if fillUnit.showOnInfoHud then\n                Logging.xmlWarning( self.xmlFile, "Buffer combine fill unit is displayed in info hud! Add showOnInfoHud = \'false\' to the fill unit." )\n            end\n\n            fillUnit.synchronizeFillLevel = false\n        end\n\n        local ladder = spec.ladder\n        if ladder.animName ~ = nil then\n            local time = 0\n            if self.getFoldAnimTime ~ = nil then\n                local foldAnimTime = self:getFoldAnimTime()\n                if foldAnimTime > ladder.foldMaxLimit or foldAnimTime < ladder.foldMinLimit then\n                    time = 1\n                end\n            end\n\n            if ladder.unfoldWhileCutterAttached then\n                if savegame ~ = nil and not savegame.resetVehicles then\n                    local numAttachedCutters = savegame.xmlFile:getValue(savegame.key .. ".combine#numAttachedCutters" , 0 )\n                    if numAttachedCutters > 0 then\n                        time = 1\n                    end\n                end\n            end\n\n            if ladder.foldDirection ~ = 1 then\n                time = 1 - time\n            end\n\n            self:setAnimationTime(ladder.animName, time , true )\n        end\n\n        if spec.bufferFillUnitIndex ~ = nil then\n            local fillUnit = self:getFillUnitByIndex(spec.fillUnitIndex)\n            local bufferUnit = self:getFillUnitByIndex(spec.bufferFillUnitIndex)\n            if fillUnit ~ = nil and bufferUnit ~ = nil then\n                bufferUnit.parentUnitOnHud = spec.fillUnitIndex\n                fillUnit.childUnitOnHud = spec.bufferFillUnitIndex\n            end\n        end\n\n        if self:getFillUnitCapacity(spec.fillUnitIndex) = = 0 then\n            Logging.xmlWarning( self.xmlFile, "Capacity of fill unit \'%d\' for combine needs to be set greater 0 or not defined! (not defined = infinity)" , spec.fillUnitIndex)\n            end\n        end\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"onreadstream",children:"onReadStream"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Called on client side on join"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"onReadStream(integer streamId, Connection connection)"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"integer"}),(0,t.jsx)(n.th,{children:"streamId"}),(0,t.jsx)(n.th,{children:"streamId"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Connection"}),(0,t.jsx)(n.td,{children:"connection"}),(0,t.jsx)(n.td,{children:"connection"})]})})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function Combine:onReadStream(streamId, connection)\n    local spec = self.spec_combine\n\n    spec.lastValidInputFruitType = streamReadUIntN(streamId, FruitTypeManager.SEND_NUM_BITS)\n    local combineIsFilling = streamReadBool(streamId)\n    local chopperPSenabled = streamReadBool(streamId)\n    local strawPSenabled = streamReadBool(streamId)\n    spec.lastValidInputFillType = streamReadUIntN(streamId, FillTypeManager.SEND_NUM_BITS)\n\n    self:setCombineIsFilling(combineIsFilling, false , true )\n    self:setChopperPSEnabled(chopperPSenabled, false , 1 , true )\n    self:setStrawPSEnabled(strawPSenabled, false , 1 , true )\n\n    local isSwathActive = streamReadBool(streamId)\n    self:setIsSwathActive(isSwathActive, true )\n\n    local workedHectars = streamReadFloat32(streamId)\n    self:setWorkedHectars(workedHectars, true )\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"onreadupdatestream",children:"onReadUpdateStream"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Called on on update"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"onReadUpdateStream(integer streamId, integer timestamp, table connection)"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"integer"}),(0,t.jsx)(n.th,{children:"streamId"}),(0,t.jsx)(n.th,{children:"stream ID"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"integer"}),(0,t.jsx)(n.td,{children:"timestamp"}),(0,t.jsx)(n.td,{children:"timestamp"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"table"}),(0,t.jsx)(n.td,{children:"connection"}),(0,t.jsx)(n.td,{children:"connection"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function Combine:onReadUpdateStream(streamId, timestamp, connection)\n    if connection:getIsServer() then\n        local spec = self.spec_combine\n        if streamReadBool(streamId) then\n            spec.lastValidInputFruitType = streamReadUIntN(streamId, FruitTypeManager.SEND_NUM_BITS)\n\n            local workedHectars = streamReadFloat32(streamId)\n            self:setWorkedHectars(workedHectars)\n        end\n\n        if streamReadBool(streamId) then\n            local combineIsFilling = streamReadBool(streamId)\n            local chopperPSenabled = streamReadBool(streamId)\n            local strawPSenabled = streamReadBool(streamId)\n            local effectDensity = streamReadUIntN(streamId, 5 )\n            effectDensity = effectDensity / ( 2 ^ 5 - 1 )\n\n            spec.lastValidInputFillType = streamReadUIntN(streamId, FillTypeManager.SEND_NUM_BITS)\n\n            self:setCombineIsFilling(combineIsFilling, false , true )\n            self:setChopperPSEnabled(chopperPSenabled, false , effectDensity, true )\n            self:setStrawPSEnabled(strawPSenabled, false , effectDensity, true )\n        end\n    end\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"onregisteractionevents",children:"onRegisterActionEvents"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"onRegisterActionEvents()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"isActiveForInput"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"isActiveForInputIgnoreSelection"})]})})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function Combine:onRegisterActionEvents(isActiveForInput, isActiveForInputIgnoreSelection)\n    if self.isClient then\n\n        local spec = self.spec_combine\n        self:clearActionEventsTable(spec.actionEvents)\n\n        if isActiveForInputIgnoreSelection and spec.swath.isAvailable and spec.chopper.isAvailable then\n            local func = self.addActionEvent\n            if spec.chopper.isPowered then\n                func = self.addPoweredActionEvent\n            end\n\n            local _, actionEventId = func( self , spec.actionEvents, InputAction.TOGGLE_CHOPPER, self , Combine.actionEventToggleChopper, false , true , false , true , nil )\n            g_inputBinding:setActionEventTextPriority(actionEventId, GS_PRIO_NORMAL)\n            Combine.updateToggleStrawText( self )\n        end\n    end\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"onregisterdashboardvaluetypes",children:"onRegisterDashboardValueTypes"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Called on post load to register dashboard value types"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"onRegisterDashboardValueTypes()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function Combine:onRegisterDashboardValueTypes()\n    local spec = self.spec_combine\n\n    local workedHectars = DashboardValueType.new( "combine" , "workedHectars" )\n    workedHectars:setValue(spec, "workedHectars" )\n    workedHectars:setPollUpdate( false )\n    self:registerDashboardValueType(workedHectars)\n\n    local workedHectarsSession = DashboardValueType.new( "combine" , "workedHectarsSession" )\n    workedHectarsSession:setValue(spec, function (_) return spec.workedHectars - spec.workedHectarsInitial end )\n    workedHectarsSession:setPollUpdate( false )\n    self:registerDashboardValueType(workedHectarsSession)\nend\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"onstartworkareaprocessing",children:"onStartWorkAreaProcessing"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"onStartWorkAreaProcessing()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"dt"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function Combine:onStartWorkAreaProcessing(dt)\n    local spec = self.spec_combine\n\n    spec.workAreaParameters.droppedLiters = 0\n    spec.workAreaParameters.strawRatio = 0\n    spec.workAreaParameters.dropFillType = FillType.UNKNOWN\n\n    local fillUnitIndex = spec.bufferFillUnitIndex or spec.fillUnitIndex\n    local lastValidFillType = self:getFillUnitLastValidFillType(fillUnitIndex)\n    if lastValidFillType ~ = FillType.UNKNOWN then\n        local inputBuffer = spec.processing.inputBuffer\n        local inputLiters = inputBuffer.buffer[inputBuffer.dropIndex].inputLiters\n\n        local slotFillLevel = inputBuffer.buffer[inputBuffer.dropIndex].liters\n        if inputBuffer.slotDuration = = 0 then\n            spec.workAreaParameters.litersToDrop = spec.workAreaParameters.litersToDrop + slotFillLevel\n        else\n                local litersToDrop = math.min(slotFillLevel, (dt / inputBuffer.slotDuration) * inputLiters) + spec.workAreaParameters.litersToDrop\n                if litersToDrop > 0 then\n                    -- if we want to drop something we drop at least the min valid liter value if the slot fill level allows it(this ensures are more constant drop rate with low straw output)\n                        local fruitDesc = g_fruitTypeManager:getFruitTypeByFillTypeIndex(lastValidFillType)\n                        if fruitDesc ~ = nil and fruitDesc.windrowLiterPerSqm ~ = nil then\n                            local windrowFillType = g_fruitTypeManager:getWindrowFillTypeIndexByFruitTypeIndex(fruitDesc.index)\n                            if windrowFillType ~ = nil then\n                                spec.workAreaParameters.minLitersToDrop = g_densityMapHeightManager:getMinValidLiterValue(windrowFillType)\n                                litersToDrop = math.max(litersToDrop, math.min(spec.workAreaParameters.minLitersToDrop, slotFillLevel))\n                            end\n                        end\n                    end\n                    spec.workAreaParameters.litersToDrop = litersToDrop\n                end\n                spec.workAreaParameters.strawRatio = inputBuffer.buffer[inputBuffer.dropIndex].strawRatio\n                spec.workAreaParameters.strawGroundType = inputBuffer.buffer[inputBuffer.dropIndex].strawGroundType\n                spec.workAreaParameters.strawHaulmFruitTypeIndex = inputBuffer.buffer[inputBuffer.dropIndex].strawHaulmFruitTypeIndex\n                spec.workAreaParameters.effectDensity = inputBuffer.buffer[inputBuffer.dropIndex].effectDensity\n                spec.workAreaParameters.dropFillType = lastValidFillType\n            end\n        end\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"onturnedoff",children:"onTurnedOff"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Called on turn off"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"onTurnedOff(boolean noEventSend)"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"boolean"}),(0,t.jsx)(n.th,{children:"noEventSend"}),(0,t.jsx)(n.th,{children:"no event send"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function Combine:onTurnedOff()\n    self:stopThreshing()\n    if self.isClient then\n        local spec = self.spec_combine\n        g_animationManager:stopAnimations(spec.animationNodes)\n        g_animationManager:stopAnimations(spec.chopperAnimationNodes)\n        g_animationManager:stopAnimations(spec.strawDropAnimationNodes)\n\n        g_effectManager:stopEffects(spec.effects)\n\n        if g_soundManager:getIsSamplePlaying(spec.samples.chopperWork) then\n            g_soundManager:stopSample(spec.samples.chopperWork)\n            g_soundManager:playSample(spec.samples.chopperStop)\n        end\n    end\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"onturnedon",children:"onTurnedOn"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Called on turn on"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"onTurnedOn(boolean noEventSend)"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"boolean"}),(0,t.jsx)(n.th,{children:"noEventSend"}),(0,t.jsx)(n.th,{children:"no event send"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function Combine:onTurnedOn()\n    self:startThreshing()\n\n    local spec = self.spec_combine\n    if self.isClient then\n        g_animationManager:startAnimations(spec.animationNodes)\n\n        if spec.isSwathActive then\n            g_animationManager:startAnimations(spec.strawDropAnimationNodes)\n        else\n                g_animationManager:startAnimations(spec.chopperAnimationNodes)\n\n                g_soundManager:stopSample(spec.samples.chopperStop)\n                g_soundManager:playSample(spec.samples.chopperStart)\n                g_soundManager:playSample(spec.samples.chopperWork, 0 , spec.samples.chopperStart)\n            end\n\n            g_effectManager:setEffectTypeInfo(spec.effects, self:getCombineLastValidFillType())\n            g_effectManager:startEffects(spec.effects)\n        end\n\n        if self.isServer then\n            if spec.turnOffWhenFull then\n                if self:getCombineFillLevelPercentage() = = 1 then\n                    self:setIsTurnedOn( false )\n                end\n            end\n        end\n    end\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"onupdate",children:"onUpdate"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Called on update"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"onUpdate(float dt, boolean isActiveForInput, boolean isSelected, )"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"float"}),(0,t.jsx)(n.th,{children:"dt"}),(0,t.jsx)(n.th,{children:"time since last call in ms"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"boolean"}),(0,t.jsx)(n.td,{children:"isActiveForInput"}),(0,t.jsx)(n.td,{children:"true if vehicle is active for input"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"boolean"}),(0,t.jsx)(n.td,{children:"isSelected"}),(0,t.jsx)(n.td,{children:"true if vehicle is selected"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"isSelected"}),(0,t.jsx)(n.td,{})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function Combine:onUpdate(dt, isActiveForInput, isActiveForInputIgnoreSelection, isSelected)\n    local spec = self.spec_combine\n\n    local isTurnedOn = self:getIsTurnedOn()\n    if isTurnedOn then\n        if self.isServer and spec.swath.isAvailable then\n            -- check for changes while threshing, e.g.activated straw swath and then start threshing canola(has no windrow)\n                local fillUnitIndex = spec.bufferFillUnitIndex or spec.fillUnitIndex\n                local fruitType = g_fruitTypeManager:getFruitTypeIndexByFillTypeIndex( self:getFillUnitFillType(fillUnitIndex))\n                if spec.isSwathActive and fruitType ~ = nil and fruitType ~ = FruitType.UNKNOWN then\n                    local fruitDesc = g_fruitTypeManager:getFruitTypeByIndex(fruitType)\n                    if not fruitDesc.hasWindrow then\n                        self:setIsSwathActive( false )\n                    end\n                else\n                        -- if the combine does not support chopper but it was forced by the last fill type\n                            -- if the new fill type supports swath again we change it back\n                                if not spec.chopper.isAvailable or spec.automatedChopperSwitch then\n                                    if not spec.isSwathActive and fruitType ~ = nil and fruitType ~ = FruitType.UNKNOWN then\n                                        local fruitDesc = g_fruitTypeManager:getFruitTypeByIndex(fruitType)\n                                        if fruitDesc.hasWindrow then\n                                            self:setIsSwathActive( true )\n\n                                            -- empty input buffer to prevent dropping of wrong fill type windrow\n                                            local inputBuffer = spec.processing.inputBuffer\n                                            for i = 1 , #inputBuffer.buffer do\n                                                inputBuffer.buffer[i].area = 0\n                                                inputBuffer.buffer[i].liters = 0\n                                                inputBuffer.buffer[i].inputLiters = 0\n                                            end\n                                        end\n                                    end\n                                end\n                            end\n                        end\n                    end\n\n                    if self.isServer then\n                        if self:getFillUnitFillLevel(spec.fillUnitIndex) < 0.0001 then\n                            spec.lastDischargeTime = g_currentMission.time\n                        end\n                    end\n\n                    if spec.automaticTilt.hasNodes then\n                        local currentDelta, isActive, doReset = 0 , false , false\n\n                        local _, cutter = next(spec.attachedCutters)\n                        if cutter ~ = nil and cutter:getCutterTiltIsAvailable() then\n                            currentDelta, isActive, doReset = cutter:getCutterTiltDelta()\n                        end\n\n                        for i = 1 , #spec.automaticTilt.nodes do\n                            local automaticTiltNode = spec.automaticTilt.nodes[i]\n\n                            local _, _, curZ = getRotation(automaticTiltNode.node)\n                            if not isActive and doReset then\n                                currentDelta = - curZ -- return to idle if not active\n                                end\n\n                                if math.abs(currentDelta) > 0.00001 then\n                                    local speedScale = math.min( math.pow( math.abs(currentDelta) / 0.01745 , 2 ), 1 ) * math.sign(currentDelta)\n                                    if not isActive and doReset then\n                                        speedScale = speedScale * 0.5\n                                    end\n\n                                    local rotSpeed = speedScale * automaticTiltNode.maxSpeed * dt\n                                    local newRotZ = math.clamp(curZ + rotSpeed, automaticTiltNode.minAngle, automaticTiltNode.maxAngle)\n                                    setRotation(automaticTiltNode.node, 0 , 0 , newRotZ)\n\n                                    if automaticTiltNode.dependentAnimation ~ = nil then\n                                        local alpha = MathUtil.inverseLerp(automaticTiltNode.minAngle, automaticTiltNode.maxAngle, newRotZ)\n                                        self:setAnimationTime(automaticTiltNode.dependentAnimation, alpha, true )\n                                    end\n\n                                    if cutter ~ = nil and automaticTiltNode.updateAttacherJoint and math.abs(newRotZ - automaticTiltNode.lastJointUpdateRot) > 0.00001 then\n                                        automaticTiltNode.lastJointUpdateRot = newRotZ\n                                        local jointDesc = self:getAttacherJointDescFromObject(cutter)\n                                        if jointDesc.jointIndex ~ = 0 then\n                                            setJointFrame(jointDesc.jointIndex, 0 , jointDesc.jointTransform)\n                                        end\n                                    end\n\n                                    if self.setMovingToolDirty ~ = nil then\n                                        self:setMovingToolDirty(automaticTiltNode.node)\n                                    end\n                                end\n                            end\n                        end\n                    end\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"onupdatetick",children:"onUpdateTick"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Called on update tick"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"onUpdateTick(float dt, boolean isActiveForInput, boolean isSelected, )"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"float"}),(0,t.jsx)(n.th,{children:"dt"}),(0,t.jsx)(n.th,{children:"time since last call in ms"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"boolean"}),(0,t.jsx)(n.td,{children:"isActiveForInput"}),(0,t.jsx)(n.td,{children:"true if vehicle is active for input"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"boolean"}),(0,t.jsx)(n.td,{children:"isSelected"}),(0,t.jsx)(n.td,{children:"true if vehicle is selected"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"isSelected"}),(0,t.jsx)(n.td,{})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function Combine:onUpdateTick(dt, isActiveForInput, isActiveForInputIgnoreSelection, isSelected)\n    local spec = self.spec_combine\n\n    if self.isServer then\n        spec.lastInputFruitType = spec.lastCuttersInputFruitType\n        spec.lastCuttersArea = 0\n        spec.lastCuttersInputFruitType = FruitType.UNKNOWN\n        spec.lastCuttersFruitType = FruitType.UNKNOWN\n\n        if spec.lastInputFruitType ~ = nil and spec.lastInputFruitType ~ = FruitType.UNKNOWN then\n            spec.lastValidInputFruitType = spec.lastInputFruitType\n        end\n\n        local inputBuffer = spec.processing.inputBuffer\n\n        spec.lastAreaZeroTime = spec.lastAreaZeroTime + dt\n        if spec.lastAreaZeroTime > spec.fillTimeThreshold then\n            if spec.fillDisableTime = = nil then\n                spec.fillDisableTime = g_currentMission.time + spec.processing.toggleTime\n            end\n        end\n\n        if spec.fillEnableTime ~ = nil and spec.fillEnableTime < = g_currentMission.time then\n            self:setCombineIsFilling( true , false , false )\n            spec.fillEnableTime = nil\n        end\n        if spec.fillDisableTime ~ = nil and spec.fillDisableTime < = g_currentMission.time then\n            self:setCombineIsFilling( false , false , false )\n            spec.fillDisableTime = nil\n        end\n\n        spec.workAreaParameters.isChopperEffectEnabled = math.max(spec.workAreaParameters.isChopperEffectEnabled - dt, 0 )\n        spec.workAreaParameters.isStrawEffectEnabled = math.max(spec.workAreaParameters.isStrawEffectEnabled - dt, 0 )\n\n        local density = spec.workAreaParameters.effectDensity\n        local chopperPSActive = spec.workAreaParameters.isChopperEffectEnabled > 0\n        local strawPSActive = spec.workAreaParameters.isStrawEffectEnabled > 0\n        self:setChopperPSEnabled(chopperPSActive, false , density, false )\n        self:setStrawPSEnabled(strawPSActive, false , density, false )\n\n        if chopperPSActive or strawPSActive then\n            self:raiseActive()\n        end\n\n        if self:getIsTurnedOn() then\n            g_farmManager:updateFarmStats( self:getOwnerFarmId(), "threshedTime" , dt / ( 1000 * 60 ))\n            self:updateLastWorkedArea( 0 ) -- mark as working\n        end\n\n        inputBuffer.slotTimer = inputBuffer.slotTimer - dt\n        if inputBuffer.slotTimer < 0 then\n            inputBuffer.slotTimer = inputBuffer.slotDuration\n\n            inputBuffer.fillIndex = inputBuffer.fillIndex + 1\n            if inputBuffer.fillIndex > inputBuffer.slotCount then\n                inputBuffer.fillIndex = 1\n            end\n\n            local lastDropIndex = inputBuffer.dropIndex\n            inputBuffer.dropIndex = inputBuffer.dropIndex + 1\n            if inputBuffer.dropIndex > inputBuffer.slotCount then\n                inputBuffer.dropIndex = 1\n            end\n\n            inputBuffer.buffer[inputBuffer.dropIndex].liters = inputBuffer.buffer[inputBuffer.dropIndex].liters + inputBuffer.buffer[lastDropIndex].liters\n            inputBuffer.buffer[inputBuffer.dropIndex].inputLiters = inputBuffer.buffer[inputBuffer.dropIndex].inputLiters + inputBuffer.buffer[lastDropIndex].liters --inputLiters\n\n            inputBuffer.buffer[lastDropIndex].area = 0\n            inputBuffer.buffer[lastDropIndex].liters = 0\n            inputBuffer.buffer[lastDropIndex].inputLiters = 0\n        end\n\n        if spec.bufferFillUnitIndex ~ = nil then\n            if spec.lastCuttersAreaTime + dt * 10 < g_currentMission.time then\n                if self:getFillUnitFillLevel(spec.bufferFillUnitIndex) > 0 then\n                    local deltaFillLevel = dt * ( self:getFillUnitCapacity(spec.bufferFillUnitIndex) / spec.bufferUnloadingTime)\n                    deltaFillLevel = self:addFillUnitFillLevel( self:getOwnerFarmId(), spec.bufferFillUnitIndex, - deltaFillLevel, self:getFillUnitFillType(spec.bufferFillUnitIndex), ToolType.UNDEFINED)\n\n                    self:addFillUnitFillLevel( self:getOwnerFarmId(), spec.fillUnitIndex, - deltaFillLevel, self:getFillUnitFillType(spec.bufferFillUnitIndex), ToolType.UNDEFINED, self:getFillVolumeLoadInfo(spec.loadInfoIndex))\n                end\n            end\n        end\n\n        if spec.loadingDelay > 0 then\n            for i = 1 , #spec.loadingDelaySlots do\n                local slot = spec.loadingDelaySlots[i]\n                if slot.valid then\n                    if slot.time + spec.loadingDelay < g_currentMission.time then\n                        slot.valid = false\n                        self:addFillUnitFillLevel( self:getOwnerFarmId(), spec.fillUnitIndex, slot.fillLevelDelta, slot.fillType, ToolType.UNDEFINED, self:getFillVolumeLoadInfo(spec.loadInfoIndex))\n                    end\n                end\n            end\n        end\n\n        if spec.isFilling ~ = spec.sentIsFilling\n            or spec.chopperPSenabled ~ = spec.sentChopperPSenabled\n            or spec.strawPSenabled ~ = spec.sentStrawPSenabled\n            or math.abs(spec.workAreaParameters.effectDensity - spec.workAreaParameters.effectDensitySent) > 0.05 then\n            self:raiseDirtyFlags(spec.effectDirtyFlag)\n\n            spec.sentIsFilling = spec.isFilling\n            spec.sentChopperPSenabled = spec.chopperPSenabled\n            spec.sentStrawPSenabled = spec.strawPSenabled\n            spec.workAreaParameters.effectDensitySent = spec.workAreaParameters.effectDensity\n        end\n    end\nend\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"onwritestream",children:"onWriteStream"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Called on server side on join"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"onWriteStream(integer streamId, Connection connection)"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"integer"}),(0,t.jsx)(n.th,{children:"streamId"}),(0,t.jsx)(n.th,{children:"streamId"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Connection"}),(0,t.jsx)(n.td,{children:"connection"}),(0,t.jsx)(n.td,{children:"connection"})]})})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function Combine:onWriteStream(streamId, connection)\n    local spec = self.spec_combine\n\n    streamWriteUIntN(streamId, spec.lastValidInputFruitType, FruitTypeManager.SEND_NUM_BITS)\n    streamWriteBool(streamId, spec.isFilling)\n    streamWriteBool(streamId, spec.chopperPSenabled)\n    streamWriteBool(streamId, spec.strawPSenabled)\n    streamWriteUIntN(streamId, self:getCombineLastValidFillType(), FillTypeManager.SEND_NUM_BITS)\n\n    streamWriteBool(streamId, spec.isSwathActive)\n    streamWriteFloat32(streamId, spec.workedHectars)\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"onwriteupdatestream",children:"onWriteUpdateStream"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Called on on update"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"onWriteUpdateStream(integer streamId, table connection, integer dirtyMask)"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"integer"}),(0,t.jsx)(n.th,{children:"streamId"}),(0,t.jsx)(n.th,{children:"stream ID"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"table"}),(0,t.jsx)(n.td,{children:"connection"}),(0,t.jsx)(n.td,{children:"connection"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"integer"}),(0,t.jsx)(n.td,{children:"dirtyMask"}),(0,t.jsx)(n.td,{children:"dirty mask"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function Combine:onWriteUpdateStream(streamId, connection, dirtyMask)\n    if not connection:getIsServer() then\n        local spec = self.spec_combine\n\n        if streamWriteBool(streamId, bit32.band(dirtyMask, spec.dirtyFlag) ~ = 0 ) then\n            streamWriteUIntN(streamId, spec.lastValidInputFruitType, FruitTypeManager.SEND_NUM_BITS)\n            streamWriteFloat32(streamId, spec.workedHectars)\n        end\n\n        if streamWriteBool(streamId, bit32.band(dirtyMask, spec.effectDirtyFlag) ~ = 0 ) then\n            streamWriteBool(streamId, spec.isFilling)\n            streamWriteBool(streamId, spec.chopperPSenabled)\n            streamWriteBool(streamId, spec.strawPSenabled)\n\n            streamWriteUIntN(streamId, spec.workAreaParameters.effectDensity * ( 2 ^ 5 - 1 ), 5 )\n\n            streamWriteUIntN(streamId, self:getCombineLastValidFillType(), FillTypeManager.SEND_NUM_BITS)\n        end\n    end\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"prerequisitespresent",children:"prerequisitesPresent"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"prerequisitesPresent()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"specializations"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function Combine.prerequisitesPresent(specializations)\n    return SpecializationUtil.hasSpecialization( WorkArea , specializations) and\n    SpecializationUtil.hasSpecialization( FillUnit , specializations) and\n    ( SpecializationUtil.hasSpecialization( Drivable , specializations) or SpecializationUtil.hasSpecialization( Attachable , specializations)) and\n    SpecializationUtil.hasSpecialization( AnimatedVehicle , specializations) and\n    SpecializationUtil.hasSpecialization( TurnOnVehicle , specializations)\nend\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"processcombinechopperarea",children:"processCombineChopperArea"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"processCombineChopperArea()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"workArea"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function Combine:processCombineChopperArea(workArea)\n    local spec = self.spec_combine\n\n    if not self.isServer and self.currentUpdateDistance > Combine.CLIENT_DM_UPDATE_RADIUS then\n        return 0 , 0\n    end\n\n    if not spec.isSwathActive then\n        local litersToDrop = spec.workAreaParameters.litersToDrop\n        local strawRatio = spec.workAreaParameters.strawRatio\n        local strawGroundType = spec.workAreaParameters.strawGroundType\n        local strawHaulmFruitTypeIndex = spec.workAreaParameters.strawHaulmFruitTypeIndex\n        spec.workAreaParameters.droppedLiters = litersToDrop\n\n        if litersToDrop > 0 and strawRatio > 0 then\n            if strawRatio > 0.5 then\n                local xs, _, zs = getWorldTranslation(workArea.start)\n                local xw, _, zw = getWorldTranslation(workArea.width)\n                local xh, _, zh = getWorldTranslation(workArea.height)\n\n                if strawHaulmFruitTypeIndex ~ = nil then\n                    local area = FSDensityMapUtil.updateFruitHaulmArea(strawHaulmFruitTypeIndex, xs, zs, xw, zw, xh, zh)\n\n                    if area > 0 then\n                        -- remove tireTracks since the haulm drops on top of it\n                        FSDensityMapUtil.eraseTireTrack(xs, zs, xw, zw, xh, zh)\n                    end\n                elseif strawGroundType ~ = nil then\n                        if Platform.gameplay.useSprayDiffuseMaps then\n                            FSDensityMapUtil.setGroundTypeLayerArea(xs, zs, xw, zw, xh, zh, strawGroundType)\n                            FSDensityMapUtil.eraseTireTrack(xs, zs, xw, zw, xh, zh)\n                        end\n                    end\n\n                    FSDensityMapUtil.setStubbleShredLevelArea(xs, zs, xw, zw, xh, zh, 1 )\n                end\n\n                -- raise active until litersToDrop is 0\n                self:raiseActive()\n                spec.workAreaParameters.isChopperEffectEnabled = 500\n\n                return 1 , 1\n            end\n        end\n\n        return 0 , 0\n    end\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"processcombineswatharea",children:"processCombineSwathArea"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"processCombineSwathArea()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"workArea"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function Combine:processCombineSwathArea(workArea)\n    local spec = self.spec_combine\n    local litersToDrop = spec.workAreaParameters.litersToDrop * (workArea.strawDropPercentage or 1 )\n\n    if not self.isServer and self.currentUpdateDistance > Combine.CLIENT_DM_UPDATE_RADIUS then\n        return 0 , 0\n    end\n\n    if spec.isSwathActive then\n        if litersToDrop > 0 then\n            local droppedLiters = 0\n            local fruitDesc = g_fruitTypeManager:getFruitTypeByFillTypeIndex(spec.workAreaParameters.dropFillType)\n            if fruitDesc ~ = nil and fruitDesc.windrowLiterPerSqm ~ = nil then\n                local windrowFillType = g_fruitTypeManager:getWindrowFillTypeIndexByFruitTypeIndex(fruitDesc.index)\n                if windrowFillType ~ = nil then\n                    local sx,sy,sz,ex,ey,ez = DensityMapHeightUtil.getLineByArea(workArea.start, workArea.width, workArea.height, true )\n                    local dropped, lineOffset = DensityMapHeightUtil.tipToGroundAroundLine( self , litersToDrop, windrowFillType, sx, sy, sz, ex, ey, ez, 0 , nil , workArea.lineOffset, false , nil , false )\n                    droppedLiters = dropped\n                    workArea.lineOffset = lineOffset\n                end\n            end\n            if droppedLiters > 0 then\n                spec.workAreaParameters.isStrawEffectEnabled = 500\n            end\n\n            -- we do not buffer unlimitedly, so if we cannot tip the straw here it's just lost\n                -- otherwise we will create large heaps of straw when we can tip again\n                if litersToDrop > = spec.workAreaParameters.minLitersToDrop then\n                    spec.workAreaParameters.droppedLiters = spec.workAreaParameters.droppedLiters + litersToDrop\n                end\n\n                return 1 , 1\n            end\n        end\n\n        return 0 , 0\n    end\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"registereventlisteners",children:"registerEventListeners"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"registerEventListeners()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function Combine.registerEventListeners(vehicleType)\n    SpecializationUtil.registerEventListener(vehicleType, "onLoad" , Combine )\n    SpecializationUtil.registerEventListener(vehicleType, "onPostLoad" , Combine )\n    SpecializationUtil.registerEventListener(vehicleType, "onRegisterDashboardValueTypes" , Combine )\n    SpecializationUtil.registerEventListener(vehicleType, "onDelete" , Combine )\n    SpecializationUtil.registerEventListener(vehicleType, "onReadStream" , Combine )\n    SpecializationUtil.registerEventListener(vehicleType, "onWriteStream" , Combine )\n    SpecializationUtil.registerEventListener(vehicleType, "onReadUpdateStream" , Combine )\n    SpecializationUtil.registerEventListener(vehicleType, "onWriteUpdateStream" , Combine )\n    SpecializationUtil.registerEventListener(vehicleType, "onUpdate" , Combine )\n    SpecializationUtil.registerEventListener(vehicleType, "onUpdateTick" , Combine )\n    SpecializationUtil.registerEventListener(vehicleType, "onDraw" , Combine )\n    SpecializationUtil.registerEventListener(vehicleType, "onRegisterActionEvents" , Combine )\n    SpecializationUtil.registerEventListener(vehicleType, "onStartWorkAreaProcessing" , Combine )\n    SpecializationUtil.registerEventListener(vehicleType, "onEndWorkAreaProcessing" , Combine )\n    SpecializationUtil.registerEventListener(vehicleType, "onChangedFillType" , Combine )\n    SpecializationUtil.registerEventListener(vehicleType, "onDeactivate" , Combine )\n    SpecializationUtil.registerEventListener(vehicleType, "onPostAttachImplement" , Combine )\n    SpecializationUtil.registerEventListener(vehicleType, "onPostDetachImplement" , Combine )\n    SpecializationUtil.registerEventListener(vehicleType, "onTurnedOn" , Combine )\n    SpecializationUtil.registerEventListener(vehicleType, "onTurnedOff" , Combine )\n    SpecializationUtil.registerEventListener(vehicleType, "onEnterVehicle" , Combine )\n    SpecializationUtil.registerEventListener(vehicleType, "onLeaveVehicle" , Combine )\n    SpecializationUtil.registerEventListener(vehicleType, "onFoldStateChanged" , Combine )\n    SpecializationUtil.registerEventListener(vehicleType, "onFillUnitFillLevelChanged" , Combine )\nend\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"registerevents",children:"registerEvents"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"registerEvents()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function Combine.registerEvents(vehicleType)\n    SpecializationUtil.registerEvent(vehicleType, "onStartThreshing" )\n    SpecializationUtil.registerEvent(vehicleType, "onStopThreshing" )\nend\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"registerfunctions",children:"registerFunctions"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"registerFunctions()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function Combine.registerFunctions(vehicleType)\n    SpecializationUtil.registerFunction(vehicleType, "loadCombineSetup" , Combine.loadCombineSetup)\n    SpecializationUtil.registerFunction(vehicleType, "loadCombineEffects" , Combine.loadCombineEffects)\n    SpecializationUtil.registerFunction(vehicleType, "loadCombineRotationNodes" , Combine.loadCombineRotationNodes)\n    SpecializationUtil.registerFunction(vehicleType, "loadCombineSamples" , Combine.loadCombineSamples)\n    SpecializationUtil.registerFunction(vehicleType, "setIsSwathActive" , Combine.setIsSwathActive)\n    SpecializationUtil.registerFunction(vehicleType, "processCombineChopperArea" , Combine.processCombineChopperArea)\n    SpecializationUtil.registerFunction(vehicleType, "processCombineSwathArea" , Combine.processCombineSwathArea)\n    SpecializationUtil.registerFunction(vehicleType, "setChopperPSEnabled" , Combine.setChopperPSEnabled)\n    SpecializationUtil.registerFunction(vehicleType, "setStrawPSEnabled" , Combine.setStrawPSEnabled)\n    SpecializationUtil.registerFunction(vehicleType, "setCombineIsFilling" , Combine.setCombineIsFilling)\n    SpecializationUtil.registerFunction(vehicleType, "startThreshing" , Combine.startThreshing)\n    SpecializationUtil.registerFunction(vehicleType, "stopThreshing" , Combine.stopThreshing)\n    SpecializationUtil.registerFunction(vehicleType, "setWorkedHectars" , Combine.setWorkedHectars)\n    SpecializationUtil.registerFunction(vehicleType, "addCutterToCombine" , Combine.addCutterToCombine)\n    SpecializationUtil.registerFunction(vehicleType, "removeCutterFromCombine" , Combine.removeCutterFromCombine)\n    SpecializationUtil.registerFunction(vehicleType, "addCutterArea" , Combine.addCutterArea)\n    SpecializationUtil.registerFunction(vehicleType, "getIsThreshingDuringRain" , Combine.getIsThreshingDuringRain)\n    SpecializationUtil.registerFunction(vehicleType, "verifyCombine" , Combine.verifyCombine)\n    SpecializationUtil.registerFunction(vehicleType, "getFillLevelDependentSpeed" , Combine.getFillLevelDependentSpeed)\n    SpecializationUtil.registerFunction(vehicleType, "getCombineLastValidFillType" , Combine.getCombineLastValidFillType)\n    SpecializationUtil.registerFunction(vehicleType, "getCombineFillLevelPercentage" , Combine.getCombineFillLevelPercentage)\n    SpecializationUtil.registerFunction(vehicleType, "getCombineLoadPercentage" , Combine.getCombineLoadPercentage)\n    SpecializationUtil.registerFunction(vehicleType, "getIsCutterCompatible" , Combine.getIsCutterCompatible)\nend\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"registeroverwrittenfunctions",children:"registerOverwrittenFunctions"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"registerOverwrittenFunctions()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function Combine.registerOverwrittenFunctions(vehicleType)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getCanBeTurnedOn" , Combine.getCanBeTurnedOn)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getTurnedOnNotAllowedWarning" , Combine.getTurnedOnNotAllowedWarning)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getAreControlledActionsAllowed" , Combine.getAreControlledActionsAllowed)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getIsFoldAllowed" , Combine.getIsFoldAllowed)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getCanBeSelected" , Combine.getCanBeSelected)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "loadWorkAreaFromXML" , Combine.loadWorkAreaFromXML)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getDirtMultiplier" , Combine.getDirtMultiplier)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getWearMultiplier" , Combine.getWearMultiplier)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "loadTurnedOnAnimationFromXML" , Combine.loadTurnedOnAnimationFromXML)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getIsTurnedOnAnimationActive" , Combine.getIsTurnedOnAnimationActive)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "loadRandomlyMovingPartFromXML" , Combine.loadRandomlyMovingPartFromXML)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getIsRandomlyMovingPartActive" , Combine.getIsRandomlyMovingPartActive)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getDischargeFillType" , Combine.getDischargeFillType)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getImplementAllowAutomaticSteering" , Combine.getImplementAllowAutomaticSteering)\nend\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"removecutterfromcombine",children:"removeCutterFromCombine"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"removeCutterFromCombine()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"cutter"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function Combine:removeCutterFromCombine(cutter)\n    local spec = self.spec_combine\n\n    if spec.attachedCutters[cutter] ~ = nil then\n        spec.numAttachedCutters = spec.numAttachedCutters - 1\n        if spec.numAttachedCutters = = 0 then\n            self:setIsTurnedOn( false , true )\n            -- if its a buffered combine -> clear the "invisible" tank on cutter detach\n                if spec.isBufferCombine then\n                    local currentFillType = self:getFillUnitFillType(spec.fillUnitIndex)\n                    if currentFillType ~ = FillType.UNKNOWN then\n                        self:addFillUnitFillLevel( self:getOwnerFarmId(), spec.fillUnitIndex, - math.huge, currentFillType, ToolType.UNDEFINED, nil )\n                    end\n                end\n            end\n            spec.attachedCutters[cutter] = nil\n\n            local ladder = self.spec_combine.ladder\n            if ladder.unfoldWhileCutterAttached and ladder.animName ~ = nil then\n                local fold = true\n                if self.getFoldAnimTime ~ = nil then\n                    local foldAnimTime = self:getFoldAnimTime()\n                    if foldAnimTime > ladder.foldMaxLimit or foldAnimTime < ladder.foldMinLimit then\n                        fold = false\n                    end\n                end\n\n                if fold then\n                    self:playAnimation(ladder.animName, - ladder.animSpeedScale, self:getAnimationTime(ladder.animName), true )\n                end\n            end\n\n            if Platform.gameplay.automaticVehicleControl then\n                if next(spec.attachedCutters) = = nil then\n                    if self:getActionControllerDirection() = = - 1 then\n                        self:playControlledActions()\n                    end\n                end\n            end\n        end\n    end\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"savetoxmlfile",children:"saveToXMLFile"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"saveToXMLFile()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"xmlFile"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"key"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"usedModNames"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function Combine:saveToXMLFile(xmlFile, key, usedModNames)\n    local spec = self.spec_combine\n\n    if spec.swath.isAvailable then\n        xmlFile:setValue(key .. "#isSwathActive" , spec.isSwathActive)\n    end\n\n    xmlFile:setValue(key .. "#workedHectars" , spec.workedHectars)\n    xmlFile:setValue(key .. "#numAttachedCutters" , spec.numAttachedCutters)\nend\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"setchopperpsenabled",children:"setChopperPSEnabled"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Set chopper PS enabled"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"setChopperPSEnabled(boolean chopperPSenabled, boolean fruitTypeChanged, float density, boolean isSynchronized)"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"boolean"}),(0,t.jsx)(n.th,{children:"chopperPSenabled"}),(0,t.jsx)(n.th,{children:"set enabled"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"boolean"}),(0,t.jsx)(n.td,{children:"fruitTypeChanged"}),(0,t.jsx)(n.td,{children:"fruit type has changed"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"float"}),(0,t.jsx)(n.td,{children:"density"}),(0,t.jsx)(n.td,{children:"density"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"boolean"}),(0,t.jsx)(n.td,{children:"isSynchronized"}),(0,t.jsx)(n.td,{children:"filling is synchronized"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function Combine:setChopperPSEnabled(chopperPSenabled, fruitTypeChanged, density, isSynchronized)\n    local spec = self.spec_combine\n\n    if spec.chopperPSenabled ~ = chopperPSenabled or fruitTypeChanged then\n        spec.chopperPSenabled = chopperPSenabled\n        if self.isServer and isSynchronized then\n            spec.sentChopperPSenabled = chopperPSenabled\n        end\n\n        if self.isClient then\n            if not chopperPSenabled or fruitTypeChanged then\n                g_effectManager:stopEffects(spec.chopperEffects)\n            end\n\n            if chopperPSenabled then\n                g_effectManager:setEffectTypeInfo(spec.chopperEffects, self:getCombineLastValidFillType())\n                g_effectManager:startEffects(spec.chopperEffects)\n\n                if not g_soundManager:getIsSamplePlaying(spec.samples.chopStraw) then\n                    g_soundManager:playSample(spec.samples.chopStraw)\n                end\n            else\n                    if g_soundManager:getIsSamplePlaying(spec.samples.chopStraw) then\n                        g_soundManager:stopSample(spec.samples.chopStraw)\n                    end\n                end\n            end\n        end\n\n        if spec.chopperPSenabled and density ~ = nil then\n            g_effectManager:setDensity(spec.chopperEffects, density)\n        end\n    end\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"setcombineisfilling",children:"setCombineIsFilling"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Set combine is filling"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"setCombineIsFilling(boolean isFilling, boolean fruitTypeChanged, boolean isSynchronized)"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"boolean"}),(0,t.jsx)(n.th,{children:"isFilling"}),(0,t.jsx)(n.th,{children:"combine is filling"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"boolean"}),(0,t.jsx)(n.td,{children:"fruitTypeChanged"}),(0,t.jsx)(n.td,{children:"fruit type has changed"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"boolean"}),(0,t.jsx)(n.td,{children:"isSynchronized"}),(0,t.jsx)(n.td,{children:"filling is synchronized"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function Combine:setCombineIsFilling(isFilling, fruitTypeChanged, isSynchronized)\n    local spec = self.spec_combine\n\n    if spec.isFilling ~ = isFilling or fruitTypeChanged then\n        spec.isFilling = isFilling\n\n        if self.isServer and isSynchronized then\n            spec.sentIsFilling = isFilling\n        end\n\n        if self.isClient then\n            if isFilling then\n                g_animationManager:startAnimations(spec.fillingAnimationNodes)\n            else\n                    g_animationManager:stopAnimations(spec.fillingAnimationNodes)\n                end\n                g_animationManager:setFillType(spec.fillingAnimationNodes, self:getCombineLastValidFillType())\n\n                g_effectManager:setEffectTypeInfo(spec.effects, self:getCombineLastValidFillType(spec.fillUnitIndex))\n\n                if not isFilling or fruitTypeChanged then\n                    g_effectManager:stopEffects(spec.fillEffects)\n                end\n\n                if isFilling then\n                    g_effectManager:setEffectTypeInfo(spec.fillEffects, self:getCombineLastValidFillType())\n                    g_effectManager:startEffects(spec.fillEffects)\n                end\n\n                if isFilling then\n                    if not g_soundManager:getIsSamplePlaying(spec.samples.fill) then\n                        g_soundManager:playSample(spec.samples.fill)\n                    end\n                else\n                        if g_soundManager:getIsSamplePlaying(spec.samples.fill) then\n                            g_soundManager:stopSample(spec.samples.fill)\n                        end\n                    end\n                end\n            end\n        end\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"setisswathactive",children:"setIsSwathActive"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Set is straw enabled"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"setIsSwathActive(boolean isSwathActive, boolean noEventSend, boolean force)"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"boolean"}),(0,t.jsx)(n.th,{children:"isSwathActive"}),(0,t.jsx)(n.th,{children:"new state"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"boolean"}),(0,t.jsx)(n.td,{children:"noEventSend"}),(0,t.jsx)(n.td,{children:"no event send"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"boolean"}),(0,t.jsx)(n.td,{children:"force"}),(0,t.jsx)(n.td,{children:"force action"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function Combine:setIsSwathActive(isSwathActive, noEventSend, force)\n    local spec = self.spec_combine\n\n    if isSwathActive ~ = spec.isSwathActive or force then\n        CombineStrawEnableEvent.sendEvent( self , isSwathActive, noEventSend)\n        spec.isSwathActive = isSwathActive\n\n        local anim = spec.chopper.animName\n        if self.playAnimation ~ = nil and anim ~ = nil then\n            local dir = 1\n            if isSwathActive then\n                dir = - 1\n            end\n            self:playAnimation(anim, dir * spec.chopper.animSpeedScale, self:getAnimationTime(anim), true )\n\n            if force then\n                AnimatedVehicle.updateAnimationByName( self , anim, 9999999 , true )\n            end\n        end\n\n        -- reset buffer drop slots(may still be some liters that could not be dropped to swath, but then can be chopped)\n        local inputBuffer = spec.processing.inputBuffer\n        for i = 1 , #inputBuffer.buffer do\n            inputBuffer.buffer[i].liters = 0\n        end\n\n        if self:getIsTurnedOn() then\n            if self.isClient then\n                if spec.isSwathActive then\n                    g_animationManager:stopAnimations(spec.chopperAnimationNodes)\n                    g_animationManager:startAnimations(spec.strawDropAnimationNodes)\n\n                    if g_soundManager:getIsSamplePlaying(spec.samples.chopperWork) then\n                        g_soundManager:stopSample(spec.samples.chopperWork)\n                        g_soundManager:playSample(spec.samples.chopperStop)\n                    end\n                else\n                        g_animationManager:stopAnimations(spec.strawDropAnimationNodes)\n                        g_animationManager:startAnimations(spec.chopperAnimationNodes)\n\n                        g_soundManager:stopSample(spec.samples.chopperStop)\n                        g_soundManager:playSample(spec.samples.chopperStart)\n                        g_soundManager:playSample(spec.samples.chopperWork, 0 , spec.samples.chopperStart)\n                    end\n                end\n            end\n\n            Combine.updateToggleStrawText( self )\n        end\n    end\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"setstrawpsenabled",children:"setStrawPSEnabled"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Set straw PS enabled"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"setStrawPSEnabled(boolean strawPSenabled, boolean fruitTypeChanged, float density, boolean isSynchronized)"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"boolean"}),(0,t.jsx)(n.th,{children:"strawPSenabled"}),(0,t.jsx)(n.th,{children:"set enabled"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"boolean"}),(0,t.jsx)(n.td,{children:"fruitTypeChanged"}),(0,t.jsx)(n.td,{children:"fruit type has changed"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"float"}),(0,t.jsx)(n.td,{children:"density"}),(0,t.jsx)(n.td,{children:"density"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"boolean"}),(0,t.jsx)(n.td,{children:"isSynchronized"}),(0,t.jsx)(n.td,{children:"filling is synchronized"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"function Combine:setStrawPSEnabled(strawPSenabled, fruitTypeChanged, density, isSynchronized)\n    local spec = self.spec_combine\n\n    if spec.strawPSenabled ~ = strawPSenabled or fruitTypeChanged then\n        spec.strawPSenabled = strawPSenabled\n        if self.isServer and isSynchronized then\n            spec.sentStrawPSenabled = strawPSenabled\n        end\n        if not strawPSenabled then\n            spec.strawToDrop = 0\n        end\n\n        if self.isClient then\n            if not strawPSenabled or fruitTypeChanged then\n                g_effectManager:stopEffects(spec.strawEffects)\n            end\n\n            if strawPSenabled then\n                g_effectManager:setEffectTypeInfo(spec.strawEffects, self:getCombineLastValidFillType())\n                g_effectManager:startEffects(spec.strawEffects)\n\n                if not g_soundManager:getIsSamplePlaying(spec.samples.dropStraw) then\n                    g_soundManager:playSample(spec.samples.dropStraw)\n                end\n            else\n                    if g_soundManager:getIsSamplePlaying(spec.samples.dropStraw) then\n                        g_soundManager:stopSample(spec.samples.dropStraw)\n                    end\n                end\n            end\n        end\n\n        if spec.strawPSenabled and density ~ = nil then\n            g_effectManager:setDensity(spec.strawEffects, density)\n        end\n    end\n\n"})}),"\n",(0,t.jsx)(n.h3,{id:"setworkedhectars",children:"setWorkedHectars"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Set worked hectars value and updated hud"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"setWorkedHectars(float hectars, )"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"float"}),(0,t.jsx)(n.th,{children:"hectars"}),(0,t.jsx)(n.th,{children:"new hectars value"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"isInitial"}),(0,t.jsx)(n.td,{})]})})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function Combine:setWorkedHectars(hectars, isInitial)\n    local spec = self.spec_combine\n\n    spec.workedHectars = hectars\n\n    if isInitial then\n        spec.workedHectarsInitial = hectars\n    end\n\n    if self.isServer then\n        if math.abs(spec.workedHectars - spec.workedHectarsSent) > 0.01 then\n            self:raiseDirtyFlags(spec.dirtyFlag)\n            spec.workedHectarsSent = spec.workedHectars\n        end\n    end\n\n    if self.isClient then\n        if self.updateDashboardValueType ~ = nil then\n            self:updateDashboardValueType( "combine.workedHectars" )\n            self:updateDashboardValueType( "combine.workedHectarsSession" )\n        end\n    end\nend\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"startthreshing",children:"startThreshing"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Start threshing"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"startThreshing()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function Combine:startThreshing()\n    local spec = self.spec_combine\n\n    if spec.numAttachedCutters > 0 then\n        for _,cutter in pairs(spec.attachedCutters) do\n            cutter:setIsTurnedOn( true , true )\n        end\n\n        if spec.threshingStartAnimation ~ = nil and self.playAnimation ~ = nil then\n            self:playAnimation(spec.threshingStartAnimation, spec.threshingStartAnimationSpeedScale, self:getAnimationTime(spec.threshingStartAnimation), true )\n        end\n\n        if self.isClient then\n            g_soundManager:stopSample(spec.samples.stop)\n            g_soundManager:stopSample(spec.samples.work)\n            g_soundManager:playSample(spec.samples.start)\n            g_soundManager:playSample(spec.samples.work, 0 , spec.samples.start)\n        end\n\n        SpecializationUtil.raiseEvent( self , "onStartThreshing" )\n    end\nend\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"stopthreshing",children:"stopThreshing"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Stop threshing"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"stopThreshing()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function Combine:stopThreshing()\n    local spec = self.spec_combine\n\n    if self.isClient then\n        g_soundManager:stopSample(spec.samples.start)\n        g_soundManager:stopSample(spec.samples.work)\n        g_soundManager:playSample(spec.samples.stop)\n    end\n\n    self:setCombineIsFilling( false , false , true )\n\n    local isFull = self:getCombineFillLevelPercentage() > 0.999\n    if isFull then\n        if self.rootVehicle.setCruiseControlState ~ = nil then\n            self.rootVehicle:setCruiseControlState( Drivable.CRUISECONTROL_STATE_OFF)\n        end\n    end\n\n    for cutter,_ in pairs(spec.attachedCutters) do\n        if isFull then\n            if cutter.getAttacherVehicle ~ = nil then\n                local attacherVehicle = cutter:getAttacherVehicle()\n                if attacherVehicle ~ = nil then\n                    attacherVehicle:handleLowerImplementEvent(cutter, false )\n                end\n            end\n\n            if cutter.setFoldMiddleState ~ = nil then\n                cutter:setFoldMiddleState( false )\n            end\n        end\n\n        cutter:setIsTurnedOn( false , true )\n    end\n\n    if spec.threshingStartAnimation ~ = nil and spec.playAnimation ~ = nil then\n        self:playAnimation(spec.threshingStartAnimation, - spec.threshingStartAnimationSpeedScale, self:getAnimationTime(spec.threshingStartAnimation), true )\n    end\n\n    SpecializationUtil.raiseEvent( self , "onStopThreshing" )\nend\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"updatetogglestrawtext",children:"updateToggleStrawText"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"updateToggleStrawText()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,t.jsx)(n.table,{children:(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"self"})]})})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function Combine.updateToggleStrawText( self )\n    local spec = self.spec_combine\n    local actionEvent = spec.actionEvents[InputAction.TOGGLE_CHOPPER]\n    if actionEvent ~ = nil and actionEvent.actionEventId ~ = nil then\n        local text\n        if spec.isSwathActive then\n            text = g_i18n:getText( "action_disableStrawSwath" )\n        else\n                text = g_i18n:getText( "action_enableStrawSwath" )\n            end\n\n            g_inputBinding:setActionEventText(actionEvent.actionEventId, text)\n        end\n    end\n\n'})}),"\n",(0,t.jsx)(n.h3,{id:"verifycombine",children:"verifyCombine"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Description"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Definition"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"verifyCombine()"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"any"}),(0,t.jsx)(n.th,{children:"fruitType"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"any"}),(0,t.jsx)(n.td,{children:"outputFillType"})]})})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Code"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'function Combine:verifyCombine(fruitType, outputFillType)\n    local spec = self.spec_combine\n    local fillUnitIndex = spec.bufferFillUnitIndex or spec.fillUnitIndex\n    -- buffer combine can never be over the limit since the capacity is math.huge\n    if self:getFillUnitFillLevelPercentage(fillUnitIndex) > self:getFillTypeChangeThreshold() or spec.isBufferCombine then\n        local currentFillType = self:getFillUnitFillType(fillUnitIndex)\n        if currentFillType ~ = FillType.UNKNOWN and fruitType ~ = FruitType.UNKNOWN and currentFillType ~ = outputFillType then\n            -- if we are a combine harvester without a "real" fill unit we empty the buffer if a new fill type comes from the cutter\n                if spec.isBufferCombine then\n                    self:addFillUnitFillLevel( self:getOwnerFarmId(), fillUnitIndex, - math.huge, currentFillType, ToolType.UNDEFINED, nil )\n                    return self\n                end\n\n                return nil , self , currentFillType\n            end\n        end\n\n        local maxFreeCapacity = 0\n        if spec.bufferFillUnitIndex ~ = nil then\n            maxFreeCapacity = self:getFillUnitFillLevel(spec.bufferFillUnitIndex)\n        end\n        if self:getFillUnitFreeCapacity(spec.fillUnitIndex) < = maxFreeCapacity then\n            return nil\n        end\n\n        return self\n    end\n\n'})})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}}}]);