"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[85568],{4808(e,n,r){r.r(n),r.d(n,{assets:()=>t,contentTitle:()=>l,default:()=>a,frontMatter:()=>d,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"script/Specializations/WoodCrusher","title":"WoodCrusher","description":"WoodCrusher","source":"@site/../docs/script/Specializations/WoodCrusher.md","sourceDirName":"script/Specializations","slug":"/script/Specializations/WoodCrusher","permalink":"/FS25-Community-LUADOC/script/Specializations/WoodCrusher","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"Wipers","permalink":"/FS25-Community-LUADOC/script/Specializations/Wipers"},"next":{"title":"WoodHarvester","permalink":"/FS25-Community-LUADOC/script/Specializations/WoodHarvester"}}');var i=r(74848),o=r(28453);const d={},l=void 0,t={},c=[{value:"WoodCrusher",id:"woodcrusher",level:2},{value:"crushSplitShape",id:"crushsplitshape",level:3},{value:"deleteWoodCrusher",id:"deletewoodcrusher",level:3},{value:"getCanBeTurnedOn",id:"getcanbeturnedon",level:3},{value:"getConsumingLoad",id:"getconsumingload",level:3},{value:"getDirtMultiplier",id:"getdirtmultiplier",level:3},{value:"getRequiresPower",id:"getrequirespower",level:3},{value:"getWearMultiplier",id:"getwearmultiplier",level:3},{value:"initSpecialization",id:"initspecialization",level:3},{value:"loadWoodCrusher",id:"loadwoodcrusher",level:3},{value:"onCrushedSplitShape",id:"oncrushedsplitshape",level:3},{value:"onDelete",id:"ondelete",level:3},{value:"onLoad",id:"onload",level:3},{value:"onReadUpdateStream",id:"onreadupdatestream",level:3},{value:"onTurnedOff",id:"onturnedoff",level:3},{value:"onTurnedOn",id:"onturnedon",level:3},{value:"onUpdate",id:"onupdate",level:3},{value:"onUpdateTick",id:"onupdatetick",level:3},{value:"onWriteUpdateStream",id:"onwriteupdatestream",level:3},{value:"prerequisitesPresent",id:"prerequisitespresent",level:3},{value:"registerEventListeners",id:"registereventlisteners",level:3},{value:"registerFunctions",id:"registerfunctions",level:3},{value:"registerOverwrittenFunctions",id:"registeroverwrittenfunctions",level:3},{value:"registerWoodCrusherXMLPaths",id:"registerwoodcrusherxmlpaths",level:3},{value:"turnOffWoodCrusher",id:"turnoffwoodcrusher",level:3},{value:"turnOnWoodCrusher",id:"turnonwoodcrusher",level:3},{value:"updateTickWoodCrusher",id:"updatetickwoodcrusher",level:3},{value:"updateWoodCrusher",id:"updatewoodcrusher",level:3},{value:"woodCrusherDownForceTriggerCallback",id:"woodcrusherdownforcetriggercallback",level:3},{value:"woodCrusherMoveTriggerCallback",id:"woodcrushermovetriggercallback",level:3},{value:"woodCrusherSplitShapeCallback",id:"woodcrushersplitshapecallback",level:3}];function h(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"woodcrusher",children:"WoodCrusher"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Specialization for wood crusher allowing to cut and convert tree trunks into wood chips"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Functions"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#crushsplitshape",children:"crushSplitShape"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#deletewoodcrusher",children:"deleteWoodCrusher"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getcanbeturnedon",children:"getCanBeTurnedOn"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getconsumingload",children:"getConsumingLoad"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getdirtmultiplier",children:"getDirtMultiplier"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getrequirespower",children:"getRequiresPower"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getwearmultiplier",children:"getWearMultiplier"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#initspecialization",children:"initSpecialization"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#loadwoodcrusher",children:"loadWoodCrusher"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#oncrushedsplitshape",children:"onCrushedSplitShape"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#ondelete",children:"onDelete"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onload",children:"onLoad"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onreadupdatestream",children:"onReadUpdateStream"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onturnedoff",children:"onTurnedOff"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onturnedon",children:"onTurnedOn"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onupdate",children:"onUpdate"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onupdatetick",children:"onUpdateTick"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onwriteupdatestream",children:"onWriteUpdateStream"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#prerequisitespresent",children:"prerequisitesPresent"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#registereventlisteners",children:"registerEventListeners"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#registerfunctions",children:"registerFunctions"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#registeroverwrittenfunctions",children:"registerOverwrittenFunctions"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#registerwoodcrusherxmlpaths",children:"registerWoodCrusherXMLPaths"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#turnoffwoodcrusher",children:"turnOffWoodCrusher"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#turnonwoodcrusher",children:"turnOnWoodCrusher"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#updatetickwoodcrusher",children:"updateTickWoodCrusher"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#updatewoodcrusher",children:"updateWoodCrusher"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#woodcrusherdownforcetriggercallback",children:"woodCrusherDownForceTriggerCallback"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#woodcrushermovetriggercallback",children:"woodCrusherMoveTriggerCallback"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#woodcrushersplitshapecallback",children:"woodCrusherSplitShapeCallback"})}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"crushsplitshape",children:"crushSplitShape"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Crush split shape"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"crushSplitShape(integer shape, , )"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"integer"}),(0,i.jsx)(n.th,{children:"shape"}),(0,i.jsx)(n.th,{children:"id of shape"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"woodCrusher"}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"shape"}),(0,i.jsx)(n.td,{})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function WoodCrusher.crushSplitShape( self , woodCrusher, shape)\n    local splitType = g_splitShapeManager:getSplitTypeByIndex(getSplitType(shape))\n    if splitType ~ = nil and splitType.woodChipsPerLiter > 0 then\n        local volume = getVolume(shape)\n        delete(shape)\n        woodCrusher.crushingTime = 1000\n        self:onCrushedSplitShape(splitType, volume)\n    end\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"deletewoodcrusher",children:"deleteWoodCrusher"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Delete wood crusher"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"deleteWoodCrusher()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"self"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"woodCrusher"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function WoodCrusher.deleteWoodCrusher( self , woodCrusher)\n    if woodCrusher.moveTriggers ~ = nil then\n        for _,node in pairs(woodCrusher.moveTriggers) do\n            removeTrigger(node)\n        end\n    end\n\n    if woodCrusher.downForceTriggers ~ = nil then\n        for trigger, _ in pairs(woodCrusher.downForceTriggers) do\n            removeTrigger(trigger)\n        end\n    end\n\n    g_effectManager:deleteEffects(woodCrusher.crushEffects)\n    g_soundManager:deleteSamples(woodCrusher.samples)\n    g_animationManager:deleteAnimations(woodCrusher.animationNodes)\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getcanbeturnedon",children:"getCanBeTurnedOn"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Returns if user is allowed to turn on the vehicle"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getCanBeTurnedOn()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"allow"}),(0,i.jsx)(n.th,{children:"allow turn on"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function WoodCrusher:getCanBeTurnedOn(superFunc)\n    local spec = self.spec_woodCrusher\n    if spec.turnOnAutomatically then\n        return false\n    end\n\n    return superFunc( self )\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getconsumingload",children:"getConsumingLoad"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getConsumingLoad()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function WoodCrusher:getConsumingLoad(superFunc)\n    local value, count = superFunc( self )\n\n    local spec = self.spec_woodCrusher\n    if spec.crushingTime > 0 then\n        value = value + 1\n    end\n\n    return value, count + 1\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getdirtmultiplier",children:"getDirtMultiplier"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Returns current dirt multiplier"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getDirtMultiplier()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"dirtMultiplier"}),(0,i.jsx)(n.th,{children:"current dirt multiplier"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function WoodCrusher:getDirtMultiplier(superFunc)\n    local multiplier = superFunc( self )\n\n    local spec = self.spec_woodCrusher\n    if spec.crushingTime > 0 then\n        multiplier = multiplier + self:getWorkDirtMultiplier()\n    end\n\n    return multiplier\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getrequirespower",children:"getRequiresPower"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getRequiresPower()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function WoodCrusher:getRequiresPower(superFunc)\n    if self:getIsTurnedOn() then\n        return true\n    end\n\n    return superFunc( self )\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getwearmultiplier",children:"getWearMultiplier"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Returns current wear multiplier"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getWearMultiplier()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"dirtMultiplier"}),(0,i.jsx)(n.th,{children:"current wear multiplier"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function WoodCrusher:getWearMultiplier(superFunc)\n    local multiplier = superFunc( self )\n\n    local spec = self.spec_woodCrusher\n    if spec.crushingTime > 0 then\n        multiplier = multiplier + self:getWorkWearMultiplier()\n    end\n\n    return multiplier\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"initspecialization",children:"initSpecialization"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"initSpecialization()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function WoodCrusher.initSpecialization()\n    local schema = Vehicle.xmlSchema\n    schema:setXMLSpecializationType( "WoodCrusher" )\n\n    WoodCrusher.registerWoodCrusherXMLPaths(schema, "vehicle.woodCrusher" )\n\n    schema:register(XMLValueType.BOOL, "vehicle.woodCrusher#moveColDisableCollisionPairs" , "Activate collision between move collisions and components" , true )\n    schema:register(XMLValueType.INT, "vehicle.woodCrusher#fillUnitIndex" , "Fill unit index" , 1 )\n\n    schema:setXMLSpecializationType()\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"loadwoodcrusher",children:"loadWoodCrusher"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Load wood crusher from xml file"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"loadWoodCrusher(table woodCrusher, XMLFile xmlFile, integer rootNode, table i3dMappings, )"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"table"}),(0,i.jsx)(n.th,{children:"woodCrusher"}),(0,i.jsx)(n.th,{children:"target wood crusher table"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"XMLFile"}),(0,i.jsx)(n.td,{children:"xmlFile"}),(0,i.jsx)(n.td,{children:"XMLFile instance"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"integer"}),(0,i.jsx)(n.td,{children:"rootNode"}),(0,i.jsx)(n.td,{children:"id of root node or list of components"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"table"}),(0,i.jsx)(n.td,{children:"i3dMappings"}),(0,i.jsx)(n.td,{children:"i3d mappings"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"i3dMappings"}),(0,i.jsx)(n.td,{})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function WoodCrusher.loadWoodCrusher( self , woodCrusher, xmlFile, rootNode, i3dMappings)\n    woodCrusher.vehicle = self\n\n    woodCrusher.woodCrusherSplitShapeCallback = WoodCrusher.woodCrusherSplitShapeCallback\n    woodCrusher.woodCrusherMoveTriggerCallback = WoodCrusher.woodCrusherMoveTriggerCallback\n    woodCrusher.woodCrusherDownForceTriggerCallback = WoodCrusher.woodCrusherDownForceTriggerCallback\n\n    local xmlRoot = xmlFile:getRootName()\n    local baseKey = xmlRoot .. ".woodCrusher"\n\n    XMLUtil.checkDeprecatedXMLElements(xmlFile, xmlRoot .. ".woodCrusher.moveTrigger(0)#index" , xmlRoot .. ".woodCrusher.moveTriggers.trigger#node" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements(xmlFile, xmlRoot .. ".woodCrusher.moveCollision(0)#index" , xmlRoot .. ".woodCrusher.moveCollisions.collision#node" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements(xmlFile, xmlRoot .. ".woodCrusher.emitterShape(0)" , xmlRoot .. ".woodCrusher.crushEffects with effectClass \'ParticleEffect\'" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements(xmlFile, xmlRoot .. ".woodCrusherStartSound" , xmlRoot .. ".woodCrusher.sounds.start" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements(xmlFile, xmlRoot .. ".woodCrusherIdleSound" , xmlRoot .. ".woodCrusher.sounds.idle" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements(xmlFile, xmlRoot .. ".woodCrusherWorkSound" , xmlRoot .. ".woodCrusher.sounds.work" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements(xmlFile, xmlRoot .. ".woodCrusherStopSound" , xmlRoot .. ".woodCrusher.sounds.stop" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements(xmlFile, xmlRoot .. ".turnedOnRotationNodes.turnedOnRotationNode#type" , xmlRoot .. ".woodCrusher.animationNodes.animationNode" , "woodCrusher" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements(xmlFile, xmlRoot .. ".turnedOnScrollers.turnedOnScroller" , xmlRoot .. ".woodCrusher.animationNodes.animationNode" ) --FS17 to FS19\n\n    XMLUtil.checkDeprecatedXMLElements(xmlFile, baseKey .. "#downForceNode" , baseKey .. ".downForceNodes.downForceNode#node" ) --FS19 to FS22\n    XMLUtil.checkDeprecatedXMLElements(xmlFile, baseKey .. "#downForce" , baseKey .. ".downForceNodes.downForceNode#force" ) --FS19 to FS22\n    XMLUtil.checkDeprecatedXMLElements(xmlFile, baseKey .. "#downForceSizeY" , baseKey .. ".downForceNodes.downForceNode#sizeY" ) --FS19 to FS22\n    XMLUtil.checkDeprecatedXMLElements(xmlFile, baseKey .. "#downForceSizeZ" , baseKey .. ".downForceNodes.downForceNode#sizeZ" ) --FS19 to FS22\n\n    woodCrusher.cutNode = xmlFile:getValue(baseKey .. "#cutNode" , nil , rootNode, i3dMappings)\n    woodCrusher.mainDrumRefNode = xmlFile:getValue(baseKey .. "#mainDrumRefNode" , nil , rootNode, i3dMappings)\n    woodCrusher.mainDrumRefNodeMaxY = xmlFile:getValue(baseKey .. "#mainDrumRefNodeMaxY" , math.huge)\n\n    if woodCrusher.mainDrumRefNode ~ = nil then\n        local mainDrumRefNodeParent = createTransformGroup( "mainDrumRefNodeParent" )\n        link(getParent(woodCrusher.mainDrumRefNode), mainDrumRefNodeParent, getChildIndex(woodCrusher.mainDrumRefNode))\n        setTranslation(mainDrumRefNodeParent, getTranslation(woodCrusher.mainDrumRefNode))\n        setRotation(mainDrumRefNodeParent, getRotation(woodCrusher.mainDrumRefNode))\n        link(mainDrumRefNodeParent, woodCrusher.mainDrumRefNode)\n        setTranslation(woodCrusher.mainDrumRefNode, 0 , 0 , 0 )\n        setRotation(woodCrusher.mainDrumRefNode, 0 , 0 , 0 )\n    end\n\n    woodCrusher.moveTriggers = { }\n    local i = 0\n    while true do\n        local key = string.format( "%s.moveTriggers.trigger(%d)" , baseKey, i)\n        if not xmlFile:hasProperty(key) then\n            break\n        end\n\n        local node = xmlFile:getValue(key .. "#node" , nil , rootNode, i3dMappings)\n        if node ~ = nil then\n            if not CollisionFlag.getHasMaskFlagSet(node, CollisionFlag.TREE) then\n                Logging.xmlWarning( self.xmlFile, "Missing collision filter mask %s.Please add this bit to move trigger node \'%s\' in \'%s\'" , CollisionFlag.getBitAndName(CollisionFlag.TREE), getName(node), key)\n                break\n            end\n            table.insert(woodCrusher.moveTriggers, node)\n        end\n        i = i + 1\n    end\n\n    woodCrusher.moveColNodes = { }\n    i = 0\n    while true do\n        local key = string.format( "%s.moveCollisions.collision(%d)" , baseKey, i)\n        if not xmlFile:hasProperty(key) then\n            break\n        end\n\n        local moveColNode = { }\n        moveColNode.node = xmlFile:getValue(key .. "#node" , nil , rootNode, i3dMappings)\n        if moveColNode.node ~ = nil then\n            moveColNode.transX, moveColNode.transY, moveColNode.transZ = getTranslation(moveColNode.node)\n            table.insert(woodCrusher.moveColNodes, moveColNode)\n        end\n        i = i + 1\n    end\n\n    woodCrusher.moveVelocityZ = xmlFile:getValue(baseKey .. "#moveVelocityZ" , 0.8 ) -- m/s\n    woodCrusher.moveMaxForce = xmlFile:getValue(baseKey .. "#moveMaxForce" , 7 ) -- input is kN\n    woodCrusher.shapeSizeDetectionNode = xmlFile:getValue(baseKey .. "#shapeSizeDetectionNode" , nil , rootNode, i3dMappings)\n    woodCrusher.cutSizeY = xmlFile:getValue(baseKey .. "#cutSizeY" , 1 )\n    woodCrusher.cutSizeZ = xmlFile:getValue(baseKey .. "#cutSizeZ" , 1 )\n\n    woodCrusher.downForceNodes = { }\n    woodCrusher.downForceTriggers = { }\n    xmlFile:iterate(baseKey .. ".downForceNodes.downForceNode" , function (_, key)\n        local downForceNode = { }\n        downForceNode.node = xmlFile:getValue(key .. "#node" , nil , rootNode, i3dMappings)\n        if downForceNode.node ~ = nil then\n            downForceNode.force = xmlFile:getValue(key .. "#force" , 2 )\n            downForceNode.trigger = xmlFile:getValue(key .. "#trigger" , nil , rootNode, i3dMappings)\n\n            downForceNode.sizeY = xmlFile:getValue(key .. "#sizeY" , woodCrusher.cutSizeY)\n            downForceNode.sizeZ = xmlFile:getValue(key .. "#sizeZ" , woodCrusher.cutSizeZ)\n\n            downForceNode.woodCrusher = woodCrusher\n            downForceNode.triggerNodes = { }\n\n            if downForceNode.trigger ~ = nil and woodCrusher.downForceTriggers[downForceNode.trigger] = = nil then\n                if self.isServer then\n                    woodCrusher.downForceTriggers[downForceNode.trigger] = true\n                    addTrigger(downForceNode.trigger, "woodCrusherDownForceTriggerCallback" , woodCrusher)\n                end\n            end\n\n            table.insert(woodCrusher.downForceNodes, downForceNode)\n        end\n    end )\n\n    woodCrusher.moveTriggerNodes = { }\n    if self.isServer and woodCrusher.moveTriggers ~ = nil then\n        for _,node in pairs(woodCrusher.moveTriggers) do\n            addTrigger(node, "woodCrusherMoveTriggerCallback" , woodCrusher)\n        end\n    end\n\n    woodCrusher.crushNodes = { }\n    woodCrusher.crushingTime = 0\n    woodCrusher.turnOnAutomatically = xmlFile:getValue(baseKey .. "#automaticallyTurnOn" , false )\n\n    if self.isClient then\n        woodCrusher.crushEffects = g_effectManager:loadEffect(xmlFile, baseKey .. ".crushEffects" , rootNode, self , i3dMappings)\n\n        woodCrusher.animationNodes = g_animationManager:loadAnimations(xmlFile, baseKey .. ".animationNodes" , rootNode, self , i3dMappings)\n\n        woodCrusher.isWorkSamplePlaying = false\n        woodCrusher.samples = { }\n        woodCrusher.samples.start = g_soundManager:loadSampleFromXML(xmlFile, baseKey .. ".sounds" , "start" , self.baseDirectory, rootNode, 1 , AudioGroup.VEHICLE, i3dMappings, self )\n        woodCrusher.samples.stop = g_soundManager:loadSampleFromXML(xmlFile, baseKey .. ".sounds" , "stop" , self.baseDirectory, rootNode, 1 , AudioGroup.VEHICLE, i3dMappings, self )\n        woodCrusher.samples.work = g_soundManager:loadSampleFromXML(xmlFile, baseKey .. ".sounds" , "work" , self.baseDirectory, rootNode, 0 , AudioGroup.VEHICLE, i3dMappings, self )\n        woodCrusher.samples.idle = g_soundManager:loadSampleFromXML(xmlFile, baseKey .. ".sounds" , "idle" , self.baseDirectory, rootNode, 0 , AudioGroup.VEHICLE, i3dMappings, self )\n    end\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"oncrushedsplitshape",children:"onCrushedSplitShape"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Called on crush split shape"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onCrushedSplitShape(table splitType, float volume)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"table"}),(0,i.jsx)(n.th,{children:"splitType"}),(0,i.jsx)(n.th,{children:"split type"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"float"}),(0,i.jsx)(n.td,{children:"volume"}),(0,i.jsx)(n.td,{children:"volume"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function WoodCrusher:onCrushedSplitShape(splitType, volume)\n    local spec = self.spec_woodCrusher\n\n    local damage = self:getVehicleDamage()\n    if damage > 0 then\n        volume = volume * ( 1 - damage * WoodCrusher.DAMAGED_YIELD_DECREASE)\n    end\n\n    self:addFillUnitFillLevel( self:getOwnerFarmId(), spec.fillUnitIndex, volume * splitType.volumeToLiter * splitType.woodChipsPerLiter, FillType.WOODCHIPS, ToolType.UNDEFINED)\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"ondelete",children:"onDelete"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Called on deleting"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onDelete()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function WoodCrusher:onDelete()\n    WoodCrusher.deleteWoodCrusher( self , self.spec_woodCrusher)\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"onload",children:"onLoad"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Called on loading"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onLoad(table savegame)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"table"}),(0,i.jsx)(n.th,{children:"savegame"}),(0,i.jsx)(n.th,{children:"savegame"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function WoodCrusher:onLoad(savegame)\n    local spec = self.spec_woodCrusher\n\n    WoodCrusher.loadWoodCrusher( self , spec, self.xmlFile, self.components, self.i3dMappings)\n\n    local moveColDisableCollisionPairs = self.xmlFile:getValue( "vehicle.woodCrusher#moveColDisableCollisionPairs" , true )\n    if moveColDisableCollisionPairs then\n        for _, component in pairs( self.components) do\n            for _, moveColNodes in pairs(spec.moveColNodes) do\n                setPairCollision(component.node, moveColNodes.node, false )\n            end\n        end\n    end\n\n    spec.fillUnitIndex = self.xmlFile:getValue( "vehicle.woodCrusher#fillUnitIndex" , 1 )\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"onreadupdatestream",children:"onReadUpdateStream"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Called on on update"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onReadUpdateStream(integer streamId, integer timestamp, table connection)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"integer"}),(0,i.jsx)(n.th,{children:"streamId"}),(0,i.jsx)(n.th,{children:"stream ID"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"integer"}),(0,i.jsx)(n.td,{children:"timestamp"}),(0,i.jsx)(n.td,{children:"timestamp"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"table"}),(0,i.jsx)(n.td,{children:"connection"}),(0,i.jsx)(n.td,{children:"connection"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function WoodCrusher:onReadUpdateStream(streamId, timestamp, connection)\n    if connection:getIsServer() then\n        local spec = self.spec_woodCrusher\n        if streamReadBool(streamId) then\n            spec.crushingTime = 1000\n        else\n                spec.crushingTime = 0\n            end\n        end\n    end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"onturnedoff",children:"onTurnedOff"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Called on turn off"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onTurnedOff(boolean noEventSend)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"boolean"}),(0,i.jsx)(n.th,{children:"noEventSend"}),(0,i.jsx)(n.th,{children:"no event send"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function WoodCrusher:onTurnedOff()\n    WoodCrusher.turnOffWoodCrusher( self , self.spec_woodCrusher)\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"onturnedon",children:"onTurnedOn"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Called on turn on"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onTurnedOn(boolean noEventSend)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"boolean"}),(0,i.jsx)(n.th,{children:"noEventSend"}),(0,i.jsx)(n.th,{children:"no event send"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function WoodCrusher:onTurnedOn()\n    WoodCrusher.turnOnWoodCrusher( self , self.spec_woodCrusher)\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"onupdate",children:"onUpdate"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Called on update"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onUpdate(float dt, boolean isActiveForInput, boolean isSelected, )"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"float"}),(0,i.jsx)(n.th,{children:"dt"}),(0,i.jsx)(n.th,{children:"time since last call in ms"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"boolean"}),(0,i.jsx)(n.td,{children:"isActiveForInput"}),(0,i.jsx)(n.td,{children:"true if vehicle is active for input"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"boolean"}),(0,i.jsx)(n.td,{children:"isSelected"}),(0,i.jsx)(n.td,{children:"true if vehicle is selected"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"isSelected"}),(0,i.jsx)(n.td,{})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function WoodCrusher:onUpdate(dt, isActiveForInput, isActiveForInputIgnoreSelection, isSelected)\n    WoodCrusher.updateWoodCrusher( self , self.spec_woodCrusher, dt, self:getIsTurnedOn())\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"onupdatetick",children:"onUpdateTick"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Called on update tick"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onUpdateTick(float dt, boolean isActiveForInput, boolean isSelected, )"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"float"}),(0,i.jsx)(n.th,{children:"dt"}),(0,i.jsx)(n.th,{children:"time since last call in ms"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"boolean"}),(0,i.jsx)(n.td,{children:"isActiveForInput"}),(0,i.jsx)(n.td,{children:"true if vehicle is active for input"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"boolean"}),(0,i.jsx)(n.td,{children:"isSelected"}),(0,i.jsx)(n.td,{children:"true if vehicle is selected"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"isSelected"}),(0,i.jsx)(n.td,{})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function WoodCrusher:onUpdateTick(dt, isActiveForInput, isActiveForInputIgnoreSelection, isSelected)\n    WoodCrusher.updateTickWoodCrusher( self , self.spec_woodCrusher, dt, self:getIsTurnedOn())\n\n    local spec = self.spec_woodCrusher\n    -- turn on/off automatically if tree node is in trigger\n        if self.isServer then\n            if g_currentMission.missionInfo.automaticMotorStartEnabled then\n                if spec.turnOnAutomatically and self.setIsTurnedOn ~ = nil then\n                    if next(spec.moveTriggerNodes) ~ = nil then\n                        if self.getIsMotorStarted ~ = nil then\n                            if not self:getIsMotorStarted() then\n                                self:startMotor()\n                            end\n                        else\n                                if self.attacherVehicle ~ = nil then\n                                    if self.attacherVehicle.getIsMotorStarted ~ = nil then\n                                        if not self.attacherVehicle:getIsMotorStarted() then\n                                            self.attacherVehicle:startMotor()\n                                        end\n                                    end\n                                end\n                            end\n\n                            if ( self.getIsControlled = = nil or not self:getIsControlled()) and not self:getIsTurnedOn() and self:getCanBeTurnedOn() then\n                                self:setIsTurnedOn( true )\n                            end\n                            spec.turnOffTimer = 3000\n                        else\n                                if self:getIsTurnedOn() then\n                                    if spec.turnOffTimer = = nil then\n                                        spec.turnOffTimer = 3000\n                                    end\n                                    spec.turnOffTimer = spec.turnOffTimer - dt\n\n                                    if spec.turnOffTimer < 0 then\n                                        local rootAttacherVehicle = self:getRootVehicle()\n\n                                        if not rootAttacherVehicle.isControlled then\n                                            if self.getIsMotorStarted ~ = nil then\n                                                if self:getIsMotorStarted() then\n                                                    self:stopMotor()\n                                                end\n                                            end\n\n                                            self:setIsTurnedOn( false )\n                                        end\n                                    end\n                                end\n                            end\n                        end\n                    end\n                end\n            end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"onwriteupdatestream",children:"onWriteUpdateStream"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Called on on update"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onWriteUpdateStream(integer streamId, table connection, integer dirtyMask)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"integer"}),(0,i.jsx)(n.th,{children:"streamId"}),(0,i.jsx)(n.th,{children:"stream ID"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"table"}),(0,i.jsx)(n.td,{children:"connection"}),(0,i.jsx)(n.td,{children:"connection"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"integer"}),(0,i.jsx)(n.td,{children:"dirtyMask"}),(0,i.jsx)(n.td,{children:"dirty mask"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function WoodCrusher:onWriteUpdateStream(streamId, connection, dirtyMask)\n    if not connection:getIsServer() then\n        local spec = self.spec_woodCrusher\n        streamWriteBool(streamId, spec.crushingTime > 0 )\n    end\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"prerequisitespresent",children:"prerequisitesPresent"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Checks if all prerequisite specializations are loaded"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"prerequisitesPresent(table specializations)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"table"}),(0,i.jsx)(n.th,{children:"specializations"}),(0,i.jsx)(n.th,{children:"specializations"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"table"}),(0,i.jsx)(n.th,{children:"hasPrerequisite"}),(0,i.jsx)(n.th,{children:"true if all prerequisite specializations are loaded"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function WoodCrusher.prerequisitesPresent(specializations)\n    return SpecializationUtil.hasSpecialization( TurnOnVehicle , specializations) and SpecializationUtil.hasSpecialization( FillUnit , specializations)\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"registereventlisteners",children:"registerEventListeners"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"registerEventListeners()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function WoodCrusher.registerEventListeners(vehicleType)\n    SpecializationUtil.registerEventListener(vehicleType, "onLoad" , WoodCrusher )\n    SpecializationUtil.registerEventListener(vehicleType, "onDelete" , WoodCrusher )\n    SpecializationUtil.registerEventListener(vehicleType, "onReadUpdateStream" , WoodCrusher )\n    SpecializationUtil.registerEventListener(vehicleType, "onWriteUpdateStream" , WoodCrusher )\n    SpecializationUtil.registerEventListener(vehicleType, "onUpdate" , WoodCrusher )\n    SpecializationUtil.registerEventListener(vehicleType, "onUpdateTick" , WoodCrusher )\n    SpecializationUtil.registerEventListener(vehicleType, "onTurnedOn" , WoodCrusher )\n    SpecializationUtil.registerEventListener(vehicleType, "onTurnedOff" , WoodCrusher )\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"registerfunctions",children:"registerFunctions"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"registerFunctions()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function WoodCrusher.registerFunctions(vehicleType)\n    SpecializationUtil.registerFunction(vehicleType, "onCrushedSplitShape" , WoodCrusher.onCrushedSplitShape)\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"registeroverwrittenfunctions",children:"registerOverwrittenFunctions"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"registerOverwrittenFunctions()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function WoodCrusher.registerOverwrittenFunctions(vehicleType)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getDirtMultiplier" , WoodCrusher.getDirtMultiplier)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getWearMultiplier" , WoodCrusher.getWearMultiplier)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getCanBeTurnedOn" , WoodCrusher.getCanBeTurnedOn)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getConsumingLoad" , WoodCrusher.getConsumingLoad)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getRequiresPower" , WoodCrusher.getRequiresPower)\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"registerwoodcrusherxmlpaths",children:"registerWoodCrusherXMLPaths"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"registerWoodCrusherXMLPaths()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"schema"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"key"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function WoodCrusher.registerWoodCrusherXMLPaths(schema, key)\n    schema:register(XMLValueType.NODE_INDEX, key .. "#cutNode" , "Cut node" )\n    schema:register(XMLValueType.NODE_INDEX, key .. "#mainDrumRefNode" , "Main drum reference node" )\n    schema:register(XMLValueType.FLOAT, key .. "#mainDrumRefNodeMaxY" , "Max tree size the main drum can handle" )\n\n    schema:register(XMLValueType.NODE_INDEX, key .. ".moveTriggers.trigger(?)#node" , "Move trigger" )\n    schema:register(XMLValueType.NODE_INDEX, key .. ".moveCollisions.collision(?)#node" , "Move collision" )\n\n    schema:register(XMLValueType.FLOAT, key .. "#moveVelocityZ" , "Move velocity Z(m/s)" , 0.8 )\n    schema:register(XMLValueType.FLOAT, key .. "#moveMaxForce" , "Move max.force(kN)" , 7 )\n    schema:register(XMLValueType.NODE_INDEX, key .. "#shapeSizeDetectionNode" , "At this node the tree shape size will be detected to set the #mainDrumRefNode" )\n    schema:register(XMLValueType.FLOAT, key .. "#cutSizeY" , "Cut size Y" , 1 )\n    schema:register(XMLValueType.FLOAT, key .. "#cutSizeZ" , "Cut size Z" , 1 )\n\n    schema:register(XMLValueType.NODE_INDEX, key .. ".downForceNodes.downForceNode(?)#node" , "Down force node" )\n    schema:register(XMLValueType.NODE_INDEX, key .. ".downForceNodes.downForceNode(?)#trigger" , "Additional trigger(If defined the tree needs to be present in the mover trigger and inside this trigger)" )\n    schema:register(XMLValueType.FLOAT, key .. ".downForceNodes.downForceNode(?)#force" , "Down force(kN)" , 2 )\n    schema:register(XMLValueType.FLOAT, key .. ".downForceNodes.downForceNode(?)#sizeY" , "Size Y in which the down force node detects trees" , "Cut size Y" )\n    schema:register(XMLValueType.FLOAT, key .. ".downForceNodes.downForceNode(?)#sizeZ" , "Size Z in which the down force node detects trees" , "Cut size Z" )\n\n    schema:register(XMLValueType.BOOL, key .. "#automaticallyTurnOn" , "Automatically turned on" , false )\n\n    EffectManager.registerEffectXMLPaths(schema, key .. ".crushEffects" )\n    AnimationManager.registerAnimationNodesXMLPaths(schema, key .. ".animationNodes" )\n\n    SoundManager.registerSampleXMLPaths(schema, key .. ".sounds" , "start" )\n    SoundManager.registerSampleXMLPaths(schema, key .. ".sounds" , "stop" )\n    SoundManager.registerSampleXMLPaths(schema, key .. ".sounds" , "work" )\n    SoundManager.registerSampleXMLPaths(schema, key .. ".sounds" , "idle" )\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"turnoffwoodcrusher",children:"turnOffWoodCrusher"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Turn off wood crusher"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"turnOffWoodCrusher()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"self"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"woodCrusher"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function WoodCrusher.turnOffWoodCrusher( self , woodCrusher)\n    if self.isServer then\n        for node in pairs(woodCrusher.crushNodes) do\n            WoodCrusher.crushSplitShape( self , woodCrusher, node)\n            woodCrusher.crushNodes[node] = nil\n        end\n        if woodCrusher.moveColNodes ~ = nil then\n            for _, moveColNode in pairs(woodCrusher.moveColNodes) do\n                setFrictionVelocity(moveColNode.node, 0.0 )\n            end\n        end\n    end\n\n    if self.isClient then\n        g_effectManager:stopEffects(woodCrusher.crushEffects)\n        g_soundManager:stopSamples(woodCrusher.samples)\n        g_soundManager:playSample(woodCrusher.samples.stop)\n        woodCrusher.isWorkSamplePlaying = false\n\n        if self.isClient then\n            g_animationManager:stopAnimations(woodCrusher.animationNodes)\n        end\n    end\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"turnonwoodcrusher",children:"turnOnWoodCrusher"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Turn on wood crusher"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"turnOnWoodCrusher()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"self"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"woodCrusher"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function WoodCrusher.turnOnWoodCrusher( self , woodCrusher)\n    if self.isServer and woodCrusher.moveColNodes ~ = nil then\n        for _, moveColNode in pairs(woodCrusher.moveColNodes) do\n            setFrictionVelocity(moveColNode.node, woodCrusher.moveVelocityZ)\n        end\n    end\n\n    if self.isClient then\n        g_soundManager:stopSamples(woodCrusher.samples)\n        woodCrusher.isWorkSamplePlaying = false\n        g_soundManager:playSample(woodCrusher.samples.start)\n        g_soundManager:playSample(woodCrusher.samples.idle, 0 , woodCrusher.samples.start)\n\n        if self.isClient then\n            g_animationManager:startAnimations(woodCrusher.animationNodes)\n        end\n    end\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"updatetickwoodcrusher",children:"updateTickWoodCrusher"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Update tick wood crusher"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"updateTickWoodCrusher(float dt, , , )"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"float"}),(0,i.jsx)(n.th,{children:"dt"}),(0,i.jsx)(n.th,{children:"time since last call in ms"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"woodCrusher"}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"dt"}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"isTurnedOn"}),(0,i.jsx)(n.td,{})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function WoodCrusher.updateTickWoodCrusher( self , woodCrusher, dt, isTurnedOn)\n    if isTurnedOn then\n        if self.isServer then\n            if woodCrusher.cutNode ~ = nil and next(woodCrusher.moveTriggerNodes) ~ = nil then\n                local x,y,z = getWorldTranslation(woodCrusher.cutNode)\n                local nx,ny,nz = localDirectionToWorld(woodCrusher.cutNode, 1 , 0 , 0 )\n                local yx,yy,yz = localDirectionToWorld(woodCrusher.cutNode, 0 , 1 , 0 )\n                for id in pairs(woodCrusher.moveTriggerNodes) do\n                    if entityExists(id) then\n                        local lenBelow, lenAbove = getSplitShapePlaneExtents(id, x,y,z, nx,ny,nz)\n                        if lenAbove ~ = nil and lenBelow ~ = nil then\n                            if lenBelow < = 0.4 then\n                                woodCrusher.moveTriggerNodes[id] = nil\n                                WoodCrusher.crushSplitShape( self , woodCrusher, id)\n                            elseif lenAbove > = 0.2 then\n                                    self.shapeBeingCut = id\n                                    local minY = splitShape(id, x,y,z, nx,ny,nz, yx,yy,yz, woodCrusher.cutSizeY, woodCrusher.cutSizeZ, "woodCrusherSplitShapeCallback" , woodCrusher)\n                                    g_treePlantManager:removingSplitShape(id)\n                                    if minY ~ = nil then\n                                        woodCrusher.moveTriggerNodes[id] = nil\n                                    end\n                                end\n                            end\n                        else\n                                woodCrusher.moveTriggerNodes[id] = nil\n                            end\n                        end\n                    end\n\n                    if self.isServer and woodCrusher.moveColNodes ~ = nil then\n                        for _, moveColNode in pairs(woodCrusher.moveColNodes) do\n                            setTranslation(moveColNode.node, moveColNode.transX, moveColNode.transY + math.random() * 0.005 , moveColNode.transZ)\n                        end\n                    end\n                end\n            end\n\n            if woodCrusher.crushingTime > 0 then\n                woodCrusher.crushingTime = math.max(woodCrusher.crushingTime - dt, 0 )\n            end\n\n            local isCrushing = woodCrusher.crushingTime > 0\n\n            if self.isClient then\n                if isCrushing then\n                    g_effectManager:setEffectTypeInfo(woodCrusher.crushEffects, FillType.WOODCHIPS)\n                    g_effectManager:startEffects(woodCrusher.crushEffects)\n                else\n                        g_effectManager:stopEffects(woodCrusher.crushEffects)\n                    end\n\n                    if isTurnedOn and isCrushing then\n                        if not woodCrusher.isWorkSamplePlaying then\n                            g_soundManager:playSample(woodCrusher.samples.work)\n                            woodCrusher.isWorkSamplePlaying = true\n                        end\n                    else\n                            if woodCrusher.isWorkSamplePlaying then\n                                g_soundManager:stopSample(woodCrusher.samples.work)\n                                woodCrusher.isWorkSamplePlaying = false\n                            end\n                        end\n                    end\n                end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"updatewoodcrusher",children:"updateWoodCrusher"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Update wood crusher"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"updateWoodCrusher(float dt, , , )"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"float"}),(0,i.jsx)(n.th,{children:"dt"}),(0,i.jsx)(n.th,{children:"time since last call in ms"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"woodCrusher"}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"dt"}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"isTurnedOn"}),(0,i.jsx)(n.td,{})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function WoodCrusher.updateWoodCrusher( self , woodCrusher, dt, isTurnedOn)\n    if isTurnedOn then\n        if self.isServer then\n            for node in pairs(woodCrusher.crushNodes) do\n                WoodCrusher.crushSplitShape( self , woodCrusher, node)\n                woodCrusher.crushNodes[node] = nil\n                woodCrusher.moveTriggerNodes[node] = nil\n            end\n\n            local maxTreeSizeY = 0\n            for id in pairs(woodCrusher.moveTriggerNodes) do\n                if not entityExists(id) then\n                    woodCrusher.moveTriggerNodes[id] = nil\n                else\n                        for i = 1 , #woodCrusher.downForceNodes do\n                            local downForceNode = woodCrusher.downForceNodes[i]\n                            if downForceNode.triggerNodes[id] ~ = nil or downForceNode.trigger = = nil then\n                                local x, y, z = getWorldTranslation(downForceNode.node)\n                                local nx, ny, nz = localDirectionToWorld(downForceNode.node, 1 , 0 , 0 )\n                                local yx, yy, yz = localDirectionToWorld(downForceNode.node, 0 , 1 , 0 )\n\n                                local minY,maxY, minZ,maxZ = testSplitShape(id, x,y,z, nx,ny,nz, yx,yy,yz, downForceNode.sizeY, downForceNode.sizeZ)\n                                if minY ~ = nil then\n                                    local cx,cy,cz = localToWorld(downForceNode.node, 0 , (minY + maxY) * 0.5 , (minZ + maxZ) * 0.5 )\n                                    local downX,downY,downZ = localDirectionToWorld(downForceNode.node, 0 , - downForceNode.force, 0 )\n                                    addForce(id, downX, downY, downZ, cx,cy,cz, false )\n                                    --#debug drawDebugLine(cx, cy, cz, 1, 0, 0, cx+downX, cy+downY, cz+downZ, 0, 1, 0, true)\n                                end\n                            end\n                        end\n\n                        if woodCrusher.shapeSizeDetectionNode ~ = nil then\n                            local x, y, z = getWorldTranslation(woodCrusher.shapeSizeDetectionNode)\n                            local nx, ny, nz = localDirectionToWorld(woodCrusher.shapeSizeDetectionNode, 1 , 0 , 0 )\n                            local yx, yy, yz = localDirectionToWorld(woodCrusher.shapeSizeDetectionNode, 0 , 1 , 0 )\n\n                            local minY, maxY, _, _ = testSplitShape(id, x, y, z, nx, ny, nz, yx, yy, yz, woodCrusher.cutSizeY, woodCrusher.cutSizeZ)\n                            if minY ~ = nil then\n                                if woodCrusher.mainDrumRefNode ~ = nil then\n                                    maxTreeSizeY = math.max(maxTreeSizeY, maxY)\n                                end\n                            end\n                        end\n                    end\n                end\n                if woodCrusher.mainDrumRefNode ~ = nil then\n                    local x, y, z = getTranslation(woodCrusher.mainDrumRefNode)\n                    local ty = math.min(maxTreeSizeY, woodCrusher.mainDrumRefNodeMaxY)\n                    if ty > y then\n                        y = math.min(y + 0.0003 * dt, ty)\n                    else\n                            y = math.max(y - 0.0003 * dt, ty)\n                        end\n\n                        setTranslation(woodCrusher.mainDrumRefNode, x, y, z)\n                    end\n\n                    if next(woodCrusher.moveTriggerNodes) ~ = nil or woodCrusher.crushingTime > 0 then\n                        self:raiseActive()\n                    end\n                end\n            end\n        end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"woodcrusherdownforcetriggercallback",children:"woodCrusherDownForceTriggerCallback"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Trigger callback"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"woodCrusherDownForceTriggerCallback(integer triggerId, integer otherActorId, boolean onEnter, boolean onLeave, boolean\nonStay, integer otherShapeId, )"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"integer"}),(0,i.jsx)(n.th,{children:"triggerId"}),(0,i.jsx)(n.th,{children:"id of trigger"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"integer"}),(0,i.jsx)(n.td,{children:"otherActorId"}),(0,i.jsx)(n.td,{children:"id of other actor"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"boolean"}),(0,i.jsx)(n.td,{children:"onEnter"}),(0,i.jsx)(n.td,{children:"on enter"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"boolean"}),(0,i.jsx)(n.td,{children:"onLeave"}),(0,i.jsx)(n.td,{children:"on leave"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"boolean"}),(0,i.jsx)(n.td,{children:"onStay"}),(0,i.jsx)(n.td,{children:"on stay"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"integer"}),(0,i.jsx)(n.td,{children:"otherShapeId"}),(0,i.jsx)(n.td,{children:"id of other shape"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"otherShapeId"}),(0,i.jsx)(n.td,{})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function WoodCrusher.woodCrusherDownForceTriggerCallback( self , triggerId, otherActorId, onEnter, onLeave, onStay, otherShapeId)\n    local vehicle = g_currentMission.nodeToObject[otherActorId]\n    if vehicle = = nil and getRigidBodyType(otherActorId) = = RigidBodyType.DYNAMIC then\n        local splitType = g_splitShapeManager:getSplitTypeByIndex(getSplitType(otherActorId))\n        if splitType ~ = nil and splitType.woodChipsPerLiter > 0 then\n            for i = 1 , # self.downForceNodes do\n                local downForceNode = self.downForceNodes[i]\n                if downForceNode.trigger = = triggerId then\n                    if onEnter then\n                        downForceNode.triggerNodes[otherActorId] = Utils.getNoNil(downForceNode.triggerNodes[otherActorId], 0 ) + 1\n                        self.vehicle:raiseActive()\n                    elseif onLeave then\n                            local c = downForceNode.triggerNodes[otherActorId]\n                            if c ~ = nil then\n                                c = c - 1\n                                if c = = 0 then\n                                    downForceNode.triggerNodes[otherActorId] = nil\n                                else\n                                        downForceNode.triggerNodes[otherActorId] = c\n                                    end\n                                end\n                            end\n                        end\n                    end\n                end\n            end\n        end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"woodcrushermovetriggercallback",children:"woodCrusherMoveTriggerCallback"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Trigger callback"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"woodCrusherMoveTriggerCallback(integer triggerId, integer otherActorId, boolean onEnter, boolean onLeave, boolean\nonStay, integer otherShapeId, )"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"integer"}),(0,i.jsx)(n.th,{children:"triggerId"}),(0,i.jsx)(n.th,{children:"id of trigger"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"integer"}),(0,i.jsx)(n.td,{children:"otherActorId"}),(0,i.jsx)(n.td,{children:"id of other actor"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"boolean"}),(0,i.jsx)(n.td,{children:"onEnter"}),(0,i.jsx)(n.td,{children:"on enter"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"boolean"}),(0,i.jsx)(n.td,{children:"onLeave"}),(0,i.jsx)(n.td,{children:"on leave"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"boolean"}),(0,i.jsx)(n.td,{children:"onStay"}),(0,i.jsx)(n.td,{children:"on stay"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"integer"}),(0,i.jsx)(n.td,{children:"otherShapeId"}),(0,i.jsx)(n.td,{children:"id of other shape"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"otherShapeId"}),(0,i.jsx)(n.td,{})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function WoodCrusher.woodCrusherMoveTriggerCallback( self , triggerId, otherActorId, onEnter, onLeave, onStay, otherShapeId)\n    local vehicle = g_currentMission.nodeToObject[otherActorId]\n    if vehicle = = nil and getRigidBodyType(otherActorId) = = RigidBodyType.DYNAMIC then\n        local splitType = g_splitShapeManager:getSplitTypeByIndex(getSplitType(otherActorId))\n        if splitType ~ = nil and splitType.woodChipsPerLiter > 0 then\n            if onEnter then\n                self.moveTriggerNodes[otherActorId] = Utils.getNoNil( self.moveTriggerNodes[otherActorId], 0 ) + 1\n                self.vehicle:raiseActive()\n            elseif onLeave then\n                    local c = self.moveTriggerNodes[otherActorId]\n                    if c ~ = nil then\n                        c = c - 1\n                        if c = = 0 then\n                            self.moveTriggerNodes[otherActorId] = nil\n                        else\n                                self.moveTriggerNodes[otherActorId] = c\n                            end\n                        end\n                    end\n                end\n            end\n        end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"woodcrushersplitshapecallback",children:"woodCrusherSplitShapeCallback"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Split shape callback"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"woodCrusherSplitShapeCallback(integer shape, boolean isBelow, boolean isAbove, float minY, float maxY, float minZ,\nfloat maxZ, )"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"integer"}),(0,i.jsx)(n.th,{children:"shape"}),(0,i.jsx)(n.th,{children:"shape"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"boolean"}),(0,i.jsx)(n.td,{children:"isBelow"}),(0,i.jsx)(n.td,{children:"is below"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"boolean"}),(0,i.jsx)(n.td,{children:"isAbove"}),(0,i.jsx)(n.td,{children:"is above"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"float"}),(0,i.jsx)(n.td,{children:"minY"}),(0,i.jsx)(n.td,{children:"min y split position"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"float"}),(0,i.jsx)(n.td,{children:"maxY"}),(0,i.jsx)(n.td,{children:"max y split position"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"float"}),(0,i.jsx)(n.td,{children:"minZ"}),(0,i.jsx)(n.td,{children:"min z split position"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"float"}),(0,i.jsx)(n.td,{children:"maxZ"}),(0,i.jsx)(n.td,{children:"max z split position"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"maxZ"}),(0,i.jsx)(n.td,{})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function WoodCrusher.woodCrusherSplitShapeCallback( self , shape, isBelow, isAbove, minY, maxY, minZ, maxZ)\n    if not isBelow then\n        self.crushNodes[shape] = shape\n        g_treePlantManager:addingSplitShape(shape, self.shapeBeingCut)\n    end\nend\n\n"})})]})}function a(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},28453(e,n,r){r.d(n,{R:()=>d,x:()=>l});var s=r(96540);const i={},o=s.createContext(i);function d(e){const n=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);