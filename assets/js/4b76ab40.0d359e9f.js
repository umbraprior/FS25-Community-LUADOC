"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[75219],{28453(n,e,l){l.d(e,{R:()=>t,x:()=>a});var r=l(96540);const i={},s=r.createContext(i);function t(n){const e=r.useContext(s);return r.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:t(n.components),r.createElement(s.Provider,{value:e},n.children)}},64432(n,e,l){l.r(e),l.d(e,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>t,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"script/Specializations/PlaceableHusbandryStraw","title":"PlaceableHusbandryStraw","description":"PlaceableHusbandryStraw","source":"@site/../docs/script/Specializations/PlaceableHusbandryStraw.md","sourceDirName":"script/Specializations","slug":"/script/Specializations/PlaceableHusbandryStraw","permalink":"/FS25-Community-LUADOC/script/Specializations/PlaceableHusbandryStraw","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"PlaceableHusbandryPallets","permalink":"/FS25-Community-LUADOC/script/Specializations/PlaceableHusbandryPallets"},"next":{"title":"PlaceableHusbandryWater","permalink":"/FS25-Community-LUADOC/script/Specializations/PlaceableHusbandryWater"}}');var i=l(74848),s=l(28453);const t={},a=void 0,c={},d=[{value:"PlaceableHusbandryStraw",id:"placeablehusbandrystraw",level:2},{value:"getConditionInfos",id:"getconditioninfos",level:3},{value:"onDelete",id:"ondelete",level:3},{value:"onFinalizePlacement",id:"onfinalizeplacement",level:3},{value:"onHusbandryAnimalsUpdate",id:"onhusbandryanimalsupdate",level:3},{value:"onHusbandryFillLevelChanged",id:"onhusbandryfilllevelchanged",level:3},{value:"onLoad",id:"onload",level:3},{value:"onPostFinalizePlacement",id:"onpostfinalizeplacement",level:3},{value:"onReadStream",id:"onreadstream",level:3},{value:"prerequisitesPresent",id:"prerequisitespresent",level:3},{value:"registerEventListeners",id:"registereventlisteners",level:3},{value:"registerFunctions",id:"registerfunctions",level:3},{value:"registerOverwrittenFunctions",id:"registeroverwrittenfunctions",level:3},{value:"registerXMLPaths",id:"registerxmlpaths",level:3},{value:"updateInfo",id:"updateinfo",level:3},{value:"updateOutput",id:"updateoutput",level:3},{value:"updateProduction",id:"updateproduction",level:3},{value:"updateStrawPlane",id:"updatestrawplane",level:3}];function o(n){const e={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.h2,{id:"placeablehusbandrystraw",children:"PlaceableHusbandryStraw"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"Specialization for placeables"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Functions"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#getconditioninfos",children:"getConditionInfos"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#ondelete",children:"onDelete"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#onfinalizeplacement",children:"onFinalizePlacement"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#onhusbandryanimalsupdate",children:"onHusbandryAnimalsUpdate"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#onhusbandryfilllevelchanged",children:"onHusbandryFillLevelChanged"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#onload",children:"onLoad"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#onpostfinalizeplacement",children:"onPostFinalizePlacement"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#onreadstream",children:"onReadStream"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#prerequisitespresent",children:"prerequisitesPresent"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#registereventlisteners",children:"registerEventListeners"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#registerfunctions",children:"registerFunctions"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#registeroverwrittenfunctions",children:"registerOverwrittenFunctions"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#registerxmlpaths",children:"registerXMLPaths"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#updateinfo",children:"updateInfo"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#updateoutput",children:"updateOutput"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#updateproduction",children:"updateProduction"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#updatestrawplane",children:"updateStrawPlane"})}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"getconditioninfos",children:"getConditionInfos"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"getConditionInfos()"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(e.table,{children:(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"any"}),(0,i.jsx)(e.th,{children:"superFunc"})]})})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Code"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-lua",children:'function PlaceableHusbandryStraw:getConditionInfos(superFunc)\n    local infos = superFunc( self )\n    local spec = self.spec_husbandryStraw\n\n    local fillType = g_fillTypeManager:getFillTypeByIndex(spec.inputFillType)\n    if fillType ~ = nil then\n        local info = { }\n        info.title = fillType.title\n        info.value = self:getHusbandryFillLevel(spec.inputFillType)\n        local capacity = self:getHusbandryCapacity(spec.inputFillType)\n        local ratio = 0\n        if capacity > 0 then\n            ratio = info.value / capacity\n        end\n        info.ratio = math.clamp(ratio, 0 , 1 )\n        info.invertedBar = false\n\n        table.insert(infos, info)\n    end\n\n    local outputFillType = g_fillTypeManager:getFillTypeByIndex(spec.outputFillType)\n    if outputFillType ~ = nil then\n        local info = { }\n        info.title = outputFillType.title\n        info.value = self:getHusbandryFillLevel(spec.outputFillType)\n        local capacity = self:getHusbandryCapacity(spec.outputFillType)\n        local ratio = 1\n        if capacity > 0 then\n            ratio = info.value / capacity\n        else\n                info.disabled = true\n                info.title = string.format( "%s(%s)" , info.title, g_i18n:getText( "info_husbandryMissingManureHeap" ))\n            end\n            info.ratio = math.clamp(ratio, 0 , 1 )\n            info.invertedBar = true\n\n            table.insert(infos, info)\n        end\n\n        return infos\n    end\n\n'})}),"\n",(0,i.jsx)(e.h3,{id:"ondelete",children:"onDelete"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"onDelete()"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Code"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-lua",children:"function PlaceableHusbandryStraw:onDelete()\n    local spec = self.spec_husbandryStraw\n    if spec.strawPlane ~ = nil then\n        spec.strawPlane:delete()\n        spec.strawPlane = nil\n    end\nend\n\n"})}),"\n",(0,i.jsx)(e.h3,{id:"onfinalizeplacement",children:"onFinalizePlacement"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"onFinalizePlacement()"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Code"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-lua",children:"function PlaceableHusbandryStraw:onFinalizePlacement()\n    local spec = self.spec_husbandryStraw\n    if not self:getHusbandryIsFillTypeSupported(spec.inputFillType) then\n        Logging.warning( \"Missing filltype 'straw' in husbandry storage!\" )\n    end\n    if self.isManureActive and not self:getHusbandryIsFillTypeSupported(spec.outputFillType) then\n        Logging.warning( \"Missing filltype 'manure' in husbandry storage!\" )\n    end\nend\n\n"})}),"\n",(0,i.jsx)(e.h3,{id:"onhusbandryanimalsupdate",children:"onHusbandryAnimalsUpdate"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"onHusbandryAnimalsUpdate()"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(e.table,{children:(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"any"}),(0,i.jsx)(e.th,{children:"clusters"})]})})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Code"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-lua",children:"function PlaceableHusbandryStraw:onHusbandryAnimalsUpdate(clusters)\n    local spec = self.spec_husbandryStraw\n    spec.inputLitersPerHour = 0\n    spec.outputLitersPerHour = 0\n    for _, cluster in ipairs(clusters) do\n        local subType = g_currentMission.animalSystem:getSubTypeByIndex(cluster.subTypeIndex)\n        if subType ~ = nil then\n            local straw = subType.input.straw\n            if straw ~ = nil then\n                local age = cluster:getAge()\n                local litersPerAnimal = straw:get(age)\n                local litersPerDay = litersPerAnimal * cluster:getNumAnimals()\n\n                spec.inputLitersPerHour = spec.inputLitersPerHour + (litersPerDay / 24 )\n            end\n\n            local manure = subType.output.manure\n            if manure ~ = nil then\n                local age = cluster:getAge()\n                local litersPerAnimal = manure:get(age)\n                local litersPerDay = litersPerAnimal * cluster:getNumAnimals()\n\n                spec.outputLitersPerHour = spec.outputLitersPerHour + (litersPerDay / 24 )\n            end\n        end\n    end\nend\n\n"})}),"\n",(0,i.jsx)(e.h3,{id:"onhusbandryfilllevelchanged",children:"onHusbandryFillLevelChanged"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"onHusbandryFillLevelChanged()"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"any"}),(0,i.jsx)(e.th,{children:"fillTypeIndex"})]})}),(0,i.jsx)(e.tbody,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"any"}),(0,i.jsx)(e.td,{children:"delta"})]})})]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Code"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-lua",children:"function PlaceableHusbandryStraw:onHusbandryFillLevelChanged(fillTypeIndex, delta)\n    local spec = self.spec_husbandryStraw\n    if fillTypeIndex = = spec.inputFillType then\n        self:updateStrawPlane()\n    end\nend\n\n"})}),"\n",(0,i.jsx)(e.h3,{id:"onload",children:"onLoad"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"onLoad()"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(e.table,{children:(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"any"}),(0,i.jsx)(e.th,{children:"savegame"})]})})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Code"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-lua",children:'function PlaceableHusbandryStraw:onLoad(savegame)\n    local spec = self.spec_husbandryStraw\n\n    spec.manureFactor = self.xmlFile:getValue( "placeable.husbandry.straw.manure#factor" , 1 )\n    spec.isManureActive = self.xmlFile:getValue( "placeable.husbandry.straw.manure#active" , true )\n\n    spec.strawPlane = FillPlane.new()\n    if spec.strawPlane:load( self.components, self.xmlFile, "placeable.husbandry.straw.strawPlane" , self.i3dMappings) then\n        spec.strawPlane:setState( 0 )\n    else\n            spec.strawPlane:delete()\n            spec.strawPlane = nil\n        end\n        spec.inputFillType = FillType.STRAW\n        spec.outputFillType = FillType.MANURE\n        spec.inputLitersPerHour = 0\n        spec.outputLitersPerHour = 0\n        spec.info = { title = g_i18n:getText( "fillType_straw" ), text = "" }\n        spec.outputInfo = { title = g_i18n:getText( "fillType_manure" ), text = "" }\n    end\n\n'})}),"\n",(0,i.jsx)(e.h3,{id:"onpostfinalizeplacement",children:"onPostFinalizePlacement"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"onPostFinalizePlacement()"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Code"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-lua",children:"function PlaceableHusbandryStraw:onPostFinalizePlacement()\n    self:updateStrawPlane()\nend\n\n"})}),"\n",(0,i.jsx)(e.h3,{id:"onreadstream",children:"onReadStream"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"onReadStream()"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"any"}),(0,i.jsx)(e.th,{children:"streamId"})]})}),(0,i.jsx)(e.tbody,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"any"}),(0,i.jsx)(e.td,{children:"connection"})]})})]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Code"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-lua",children:"function PlaceableHusbandryStraw:onReadStream(streamId, connection)\n    self:updateStrawPlane()\nend\n\n"})}),"\n",(0,i.jsx)(e.h3,{id:"prerequisitespresent",children:"prerequisitesPresent"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"Checks if all prerequisite specializations are loaded"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"prerequisitesPresent(table specializations)"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(e.table,{children:(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"table"}),(0,i.jsx)(e.th,{children:"specializations"}),(0,i.jsx)(e.th,{children:"specializations"})]})})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(e.table,{children:(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"table"}),(0,i.jsx)(e.th,{children:"hasPrerequisite"}),(0,i.jsx)(e.th,{children:"true if all prerequisite specializations are loaded"})]})})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Code"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-lua",children:"function PlaceableHusbandryStraw.prerequisitesPresent(specializations)\n    return true\nend\n\n"})}),"\n",(0,i.jsx)(e.h3,{id:"registereventlisteners",children:"registerEventListeners"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"registerEventListeners()"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(e.table,{children:(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"any"}),(0,i.jsx)(e.th,{children:"placeableType"})]})})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Code"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-lua",children:'function PlaceableHusbandryStraw.registerEventListeners(placeableType)\n    SpecializationUtil.registerEventListener(placeableType, "onLoad" , PlaceableHusbandryStraw )\n    SpecializationUtil.registerEventListener(placeableType, "onPostFinalizePlacement" , PlaceableHusbandryStraw )\n    SpecializationUtil.registerEventListener(placeableType, "onDelete" , PlaceableHusbandryStraw )\n    SpecializationUtil.registerEventListener(placeableType, "onFinalizePlacement" , PlaceableHusbandryStraw )\n    SpecializationUtil.registerEventListener(placeableType, "onReadStream" , PlaceableHusbandryStraw )\n    SpecializationUtil.registerEventListener(placeableType, "onHusbandryAnimalsUpdate" , PlaceableHusbandryStraw )\n    SpecializationUtil.registerEventListener(placeableType, "onHusbandryFillLevelChanged" , PlaceableHusbandryStraw )\nend\n\n'})}),"\n",(0,i.jsx)(e.h3,{id:"registerfunctions",children:"registerFunctions"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"registerFunctions()"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(e.table,{children:(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"any"}),(0,i.jsx)(e.th,{children:"placeableType"})]})})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Code"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-lua",children:'function PlaceableHusbandryStraw.registerFunctions(placeableType)\n    SpecializationUtil.registerFunction(placeableType, "updateStrawPlane" , PlaceableHusbandryStraw.updateStrawPlane)\nend\n\n'})}),"\n",(0,i.jsx)(e.h3,{id:"registeroverwrittenfunctions",children:"registerOverwrittenFunctions"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"registerOverwrittenFunctions()"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(e.table,{children:(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"any"}),(0,i.jsx)(e.th,{children:"placeableType"})]})})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Code"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-lua",children:'function PlaceableHusbandryStraw.registerOverwrittenFunctions(placeableType)\n    SpecializationUtil.registerOverwrittenFunction(placeableType, "updateOutput" , PlaceableHusbandryStraw.updateOutput)\n    SpecializationUtil.registerOverwrittenFunction(placeableType, "updateProduction" , PlaceableHusbandryStraw.updateProduction)\n    SpecializationUtil.registerOverwrittenFunction(placeableType, "getConditionInfos" , PlaceableHusbandryStraw.getConditionInfos)\n    SpecializationUtil.registerOverwrittenFunction(placeableType, "updateInfo" , PlaceableHusbandryStraw.updateInfo)\nend\n\n'})}),"\n",(0,i.jsx)(e.h3,{id:"registerxmlpaths",children:"registerXMLPaths"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"registerXMLPaths()"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"any"}),(0,i.jsx)(e.th,{children:"schema"})]})}),(0,i.jsx)(e.tbody,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"any"}),(0,i.jsx)(e.td,{children:"basePath"})]})})]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Code"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-lua",children:'function PlaceableHusbandryStraw.registerXMLPaths(schema, basePath)\n    schema:setXMLSpecializationType( "Husbandry" )\n    basePath = basePath .. ".husbandry.straw"\n    FillPlane.registerXMLPaths(schema, basePath .. ".strawPlane" )\n    schema:register(XMLValueType.FLOAT, basePath .. ".manure#factor" , "Factor to transform straw to manure" , 1 )\n    schema:register(XMLValueType.BOOL, basePath .. ".manure#active" , "Enable manure production" , true )\n    schema:setXMLSpecializationType()\nend\n\n'})}),"\n",(0,i.jsx)(e.h3,{id:"updateinfo",children:"updateInfo"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"updateInfo()"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"any"}),(0,i.jsx)(e.th,{children:"superFunc"})]})}),(0,i.jsx)(e.tbody,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"any"}),(0,i.jsx)(e.td,{children:"infoTable"})]})})]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Code"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-lua",children:'function PlaceableHusbandryStraw:updateInfo(superFunc, infoTable)\n    superFunc( self , infoTable)\n    local spec = self.spec_husbandryStraw\n\n    local fillLevel = self:getHusbandryFillLevel(spec.inputFillType)\n    spec.info.text = string.format( "%d l" , fillLevel)\n    table.insert(infoTable, spec.info)\n\n    local outputFillLevel = self:getHusbandryFillLevel(spec.outputFillType)\n    spec.outputInfo.text = string.format( "%d l" , outputFillLevel)\n    table.insert(infoTable, spec.outputInfo)\nend\n\n'})}),"\n",(0,i.jsx)(e.h3,{id:"updateoutput",children:"updateOutput"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"updateOutput()"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"any"}),(0,i.jsx)(e.th,{children:"superFunc"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"any"}),(0,i.jsx)(e.td,{children:"foodFactor"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"any"}),(0,i.jsx)(e.td,{children:"productionFactor"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"any"}),(0,i.jsx)(e.td,{children:"globalProductionFactor"})]})]})]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Code"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-lua",children:"function PlaceableHusbandryStraw:updateOutput(superFunc, foodFactor, productionFactor, globalProductionFactor)\n    if self.isServer then\n        local spec = self.spec_husbandryStraw\n\n        if spec.inputLitersPerHour > 0 then\n            local amount = spec.inputLitersPerHour * g_currentMission.environment.timeAdjustment\n            local delta = amount - self:removeHusbandryFillLevel( self:getOwnerFarmId(), amount, spec.inputFillType)\n            if spec.outputLitersPerHour > 0 and delta > 0 then\n                local liters = foodFactor * spec.outputLitersPerHour * (delta / amount) * g_currentMission.environment.timeAdjustment -- outputLitersPerHour increases with number of animals\n                if liters > 0 then\n                    self:addHusbandryFillLevelFromTool( self:getOwnerFarmId(), liters, spec.outputFillType, nil , nil , nil )\n                end\n            end\n\n            self:updateStrawPlane()\n        end\n    end\n\n    superFunc( self , foodFactor, productionFactor, globalProductionFactor)\nend\n\n"})}),"\n",(0,i.jsx)(e.h3,{id:"updateproduction",children:"updateProduction"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"updateProduction()"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"any"}),(0,i.jsx)(e.th,{children:"superFunc"})]})}),(0,i.jsx)(e.tbody,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"any"}),(0,i.jsx)(e.td,{children:"foodFactor"})]})})]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Code"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-lua",children:"function PlaceableHusbandryStraw:updateProduction(superFunc, foodFactor)\n    local factor = superFunc( self , foodFactor)\n\n    if self.isServer then\n        local spec = self.spec_husbandryStraw\n        local fillLevel = self:getHusbandryFillLevel(spec.inputFillType)\n        if fillLevel > 0 then\n            local freeCapacity = self:getHusbandryFreeCapacity(spec.outputFillType)\n            if freeCapacity < = 0 then\n                factor = factor * 0.75\n            end\n        else\n                factor = factor * 0.9\n            end\n        end\n\n        return factor\n    end\n\n"})}),"\n",(0,i.jsx)(e.h3,{id:"updatestrawplane",children:"updateStrawPlane"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"updateStrawPlane()"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Code"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-lua",children:"function PlaceableHusbandryStraw:updateStrawPlane()\n    local spec = self.spec_husbandryStraw\n    if spec.strawPlane ~ = nil then\n        local capacity = self:getHusbandryCapacity(spec.inputFillType, nil )\n        local fillLevel = self:getHusbandryFillLevel(spec.inputFillType, nil )\n        local factor = 0\n        if capacity > 0 then\n            factor = fillLevel / capacity\n        end\n\n        spec.strawPlane:setState(factor)\n    end\nend\n\n"})})]})}function h(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(o,{...n})}):o(n)}}}]);