"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[74804],{19755(e,n,t){t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"script/Specializations/TensionBelts","title":"TensionBelts","description":"TensionBelts","source":"@site/../docs/script/Specializations/TensionBelts.md","sourceDirName":"script/Specializations","slug":"/script/Specializations/TensionBelts","permalink":"/FS25-Community-LUADOC/script/Specializations/TensionBelts","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"TensionBeltObject","permalink":"/FS25-Community-LUADOC/script/Specializations/TensionBeltObject"},"next":{"title":"TestAreas","permalink":"/FS25-Community-LUADOC/script/Specializations/TestAreas"}}');var i=t(74848),l=t(28453);const o={},r=void 0,c={},d=[{value:"TensionBelts",id:"tensionbelts",level:2},{value:"actionEventToggleTensionBelts",id:"actioneventtoggletensionbelts",level:3},{value:"consoleCommandToggleTensionBeltDebugRendering",id:"consolecommandtoggletensionbeltdebugrendering",level:3},{value:"createTensionBelt",id:"createtensionbelt",level:3},{value:"freeTensionBeltObject",id:"freetensionbeltobject",level:3},{value:"getAdditionalComponentMass",id:"getadditionalcomponentmass",level:3},{value:"getCanBeSelected",id:"getcanbeselected",level:3},{value:"getCanDischargeToGround",id:"getcandischargetoground",level:3},{value:"getCanDischargeToObject",id:"getcandischargetoobject",level:3},{value:"getFillLevelInformation",id:"getfilllevelinformation",level:3},{value:"getHasObjectMounted",id:"gethasobjectmounted",level:3},{value:"getIsDynamicallyMountedNode",id:"getisdynamicallymountednode",level:3},{value:"getIsFoldAllowed",id:"getisfoldallowed",level:3},{value:"getIsMovingToolActive",id:"getismovingtoolactive",level:3},{value:"getIsPlayerInTensionBeltsRange",id:"getisplayerintensionbeltsrange",level:3},{value:"getIsReadyForAutomatedTrainTravel",id:"getisreadyforautomatedtraintravel",level:3},{value:"getObjectsToUnmount",id:"getobjectstounmount",level:3},{value:"getObjectToMount",id:"getobjecttomount",level:3},{value:"getTensionBeltObjectCanBeMounted",id:"gettensionbeltobjectcanbemounted",level:3},{value:"initSpecialization",id:"initspecialization",level:3},{value:"loadMovingToolFromXML",id:"loadmovingtoolfromxml",level:3},{value:"lockTensionBeltObject",id:"locktensionbeltobject",level:3},{value:"objectOverlapCallback",id:"objectoverlapcallback",level:3},{value:"onDelete",id:"ondelete",level:3},{value:"onDraw",id:"ondraw",level:3},{value:"onLoad",id:"onload",level:3},{value:"onPostLoad",id:"onpostload",level:3},{value:"onPreDelete",id:"onpredelete",level:3},{value:"onReadStream",id:"onreadstream",level:3},{value:"onRegisterActionEvents",id:"onregisteractionevents",level:3},{value:"onTensionBeltTreeShapeCut",id:"ontensionbelttreeshapecut",level:3},{value:"onUpdate",id:"onupdate",level:3},{value:"onUpdateTick",id:"onupdatetick",level:3},{value:"onWriteStream",id:"onwritestream",level:3},{value:"prerequisitesPresent",id:"prerequisitespresent",level:3},{value:"refreshTensionBelts",id:"refreshtensionbelts",level:3},{value:"registerEventListeners",id:"registereventlisteners",level:3},{value:"registerFunctions",id:"registerfunctions",level:3},{value:"registerOverwrittenFunctions",id:"registeroverwrittenfunctions",level:3},{value:"removeTensionBelt",id:"removetensionbelt",level:3},{value:"saveToXMLFile",id:"savetoxmlfile",level:3},{value:"setAllTensionBeltsActive",id:"setalltensionbeltsactive",level:3},{value:"setTensionBeltsActive",id:"settensionbeltsactive",level:3},{value:"tensionBeltActivationTriggerCallback",id:"tensionbeltactivationtriggercallback",level:3},{value:"updateFastenState",id:"updatefastenstate",level:3}];function a(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"tensionbelts",children:"TensionBelts"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Class for vehicle which can dynamically mount objects (e.g. bales and pallets)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Functions"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#actioneventtoggletensionbelts",children:"actionEventToggleTensionBelts"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#consolecommandtoggletensionbeltdebugrendering",children:"consoleCommandToggleTensionBeltDebugRendering"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#createtensionbelt",children:"createTensionBelt"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#freetensionbeltobject",children:"freeTensionBeltObject"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getadditionalcomponentmass",children:"getAdditionalComponentMass"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getcanbeselected",children:"getCanBeSelected"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getcandischargetoground",children:"getCanDischargeToGround"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getcandischargetoobject",children:"getCanDischargeToObject"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getfilllevelinformation",children:"getFillLevelInformation"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#gethasobjectmounted",children:"getHasObjectMounted"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getisdynamicallymountednode",children:"getIsDynamicallyMountedNode"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getisfoldallowed",children:"getIsFoldAllowed"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getismovingtoolactive",children:"getIsMovingToolActive"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getisplayerintensionbeltsrange",children:"getIsPlayerInTensionBeltsRange"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getisreadyforautomatedtraintravel",children:"getIsReadyForAutomatedTrainTravel"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getobjectstounmount",children:"getObjectsToUnmount"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#getobjecttomount",children:"getObjectToMount"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#gettensionbeltobjectcanbemounted",children:"getTensionBeltObjectCanBeMounted"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#initspecialization",children:"initSpecialization"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#loadmovingtoolfromxml",children:"loadMovingToolFromXML"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#locktensionbeltobject",children:"lockTensionBeltObject"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#objectoverlapcallback",children:"objectOverlapCallback"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#ondelete",children:"onDelete"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#ondraw",children:"onDraw"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onload",children:"onLoad"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onpostload",children:"onPostLoad"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onpredelete",children:"onPreDelete"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onreadstream",children:"onReadStream"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onregisteractionevents",children:"onRegisterActionEvents"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#ontensionbelttreeshapecut",children:"onTensionBeltTreeShapeCut"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onupdate",children:"onUpdate"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onupdatetick",children:"onUpdateTick"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#onwritestream",children:"onWriteStream"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#prerequisitespresent",children:"prerequisitesPresent"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#refreshtensionbelts",children:"refreshTensionBelts"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#registereventlisteners",children:"registerEventListeners"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#registerfunctions",children:"registerFunctions"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#registeroverwrittenfunctions",children:"registerOverwrittenFunctions"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#removetensionbelt",children:"removeTensionBelt"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#savetoxmlfile",children:"saveToXMLFile"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#setalltensionbeltsactive",children:"setAllTensionBeltsActive"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#settensionbeltsactive",children:"setTensionBeltsActive"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#tensionbeltactivationtriggercallback",children:"tensionBeltActivationTriggerCallback"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#updatefastenstate",children:"updateFastenState"})}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"actioneventtoggletensionbelts",children:"actionEventToggleTensionBelts"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"actionEventToggleTensionBelts()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"self"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"actionName"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"inputValue"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"callbackState"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"isAnalog"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function TensionBelts.actionEventToggleTensionBelts( self , actionName, inputValue, callbackState, isAnalog)\n    local spec = self.spec_tensionBelts\n\n    spec.fastenedAllBeltsIndex = 1\n    spec.fastenedAllBeltsState = not spec.areAllBeltsFastened\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"consolecommandtoggletensionbeltdebugrendering",children:"consoleCommandToggleTensionBeltDebugRendering"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"consoleCommandToggleTensionBeltDebugRendering()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"unusedSelf"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function TensionBelts.consoleCommandToggleTensionBeltDebugRendering(unusedSelf)\n    TensionBelts.debugRendering = not TensionBelts.debugRendering\n    return "TensionBeltsDebugRendering = " .. tostring( TensionBelts.debugRendering)\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"createtensionbelt",children:"createTensionBelt"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Create tension belt"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"createTensionBelt(table belt, boolean isDummy, table objects, boolean playSound)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"table"}),(0,i.jsx)(n.th,{children:"belt"}),(0,i.jsx)(n.th,{children:"belt to use"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"boolean"}),(0,i.jsx)(n.td,{children:"isDummy"}),(0,i.jsx)(n.td,{children:"create dummy belt"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"table"}),(0,i.jsx)(n.td,{children:"objects"}),(0,i.jsx)(n.td,{children:"objects to fasten"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"boolean"}),(0,i.jsx)(n.td,{children:"playSound"}),(0,i.jsx)(n.td,{children:"play sound (nil = true)"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function TensionBelts:createTensionBelt(belt, isDummy, objects, playSound)\n    local spec = self.spec_tensionBelts\n\n    local tensionBelt = TensionBeltGeometryConstructor.new()\n\n    local beltData = spec.beltData\n    local width = spec.width or beltData.width\n\n    tensionBelt:setWidth(width)\n    tensionBelt:setMaxEdgeLength(spec.maxEdgeLength)\n    if isDummy then\n        tensionBelt:setMaterial(beltData.dummyMaterial.materialId)\n        tensionBelt:setUVscale(beltData.dummyMaterial.uvScale)\n    else\n            tensionBelt:setMaterial(beltData.material.materialId)\n            tensionBelt:setUVscale(beltData.material.uvScale)\n        end\n\n        local ratchetStart, ratchetEnd = 0 , 0\n        if spec.ratchetPosition ~ = nil and beltData.ratchet ~ = nil then\n            ratchetStart, ratchetEnd = spec.ratchetPosition, spec.ratchetPosition + beltData.ratchet.sizeRatio * width\n            tensionBelt:addAttachment( 0 , spec.ratchetPosition, beltData.ratchet.sizeRatio * width)\n\n        end\n\n        local hookLength1, hookLength2 = 0 , 0\n        if spec.useHooks and beltData.hook ~ = nil then\n            hookLength1 = beltData.hook.sizeRatio * width\n            tensionBelt:addAttachment( 0 , hookLength1, 0 )\n\n            hookLength2 = (beltData.hook2 or beltData.hook).sizeRatio * width\n            tensionBelt:addAttachment( 1 , - hookLength2, 0 )\n        end\n\n        tensionBelt:setFixedPoints(belt.startNode, belt.endNode)\n        tensionBelt:setGeometryBias(spec.geometryBias)\n        tensionBelt:setLinkNode(belt.linkNode or spec.linkNode)\n\n        for _, pointNode in pairs(belt.intersectionNodes) do\n            local x,y,z = getWorldTranslation(pointNode)\n            local dirX, dirY, dirZ = localDirectionToWorld(pointNode, 1 , 0 , 0 )\n            tensionBelt:addIntersectionPoint(x,y,z, dirX, dirY, dirZ)\n        end\n\n        for _, object in pairs(objects) do\n            for _, node in pairs(object.visuals) do\n                if getSplitType(node) ~ = 0 then\n                    -- Allow a larger range of uvs for trees\n                        tensionBelt:addShape(node, - 100 , 100 , - 100 , 100 )\n                    else\n                            tensionBelt:addShape(node, 0 , 10 , 0 , 10 )\n                        end\n                    end\n                end\n\n                local beltShape, _, beltLength = tensionBelt:finalize()\n                if beltShape ~ = 0 then\n                    if isDummy then\n                        belt.dummy = beltShape\n                    else\n                            local currentIndex = 0\n                            if spec.ratchetPosition ~ = nil and beltData.ratchet ~ = nil then\n                                if getNumOfChildren(beltShape) > currentIndex then\n                                    local scale = width\n                                    local ratched = clone(beltData.ratchet.node, false , false , false )\n                                    link(getChildAt(beltShape, 0 ), ratched)\n                                    setTranslation(ratched, 0 , spec.geometryBias, 0 )\n                                    setScale(ratched, scale, scale, scale)\n                                    currentIndex = currentIndex + 1\n                                end\n                            end\n                            if spec.useHooks then\n                                if beltData.hook ~ = nil and getNumOfChildren(beltShape) > currentIndex + 1 then\n                                    local scale = width\n                                    local hookStart = clone(beltData.hook.node, false , false , false )\n                                    link(getChildAt(beltShape, currentIndex), hookStart)\n\n                                    local yOffset = spec.geometryBias * math.min(hookLength1 / spec.maxEdgeLength, 1 )\n                                    setTranslation(hookStart, 0 , yOffset, 0 )\n\n                                    local wx1, wy1, wz1 = getWorldTranslation(belt.startNode)\n                                    local wx2, wy2, wz2 = getWorldTranslation(hookStart)\n                                    local dx, dy, dz = worldDirectionToLocal(getParent(hookStart), wx1 - wx2, wy1 - wy2, wz1 - wz2)\n                                    local upX, upY, upZ = localDirectionToLocal(hookStart, getParent(hookStart), 0 , 1 , 0 )\n                                    setDirection(hookStart, dx, dy, dz, upX, upY, upZ)\n\n                                    setScale(hookStart, scale, scale, scale)\n\n                                    local hook2 = beltData.hook2 or beltData.hook\n                                    local hookEnd = clone(hook2.node, false , false , false )\n                                    link(getChildAt(beltShape, currentIndex + 1 ), hookEnd)\n\n                                    yOffset = spec.geometryBias * math.min(hookLength2 / spec.maxEdgeLength, 1 )\n                                    setTranslation(hookEnd, 0 , yOffset, 0 )\n\n                                    wx1, wy1, wz1 = getWorldTranslation(belt.endNode)\n                                    wx2, wy2, wz2 = getWorldTranslation(hookEnd)\n                                    dx, dy, dz = worldDirectionToLocal(getParent(hookEnd), wx1 - wx2, wy1 - wy2, wz1 - wz2)\n                                    upX, upY, upZ = localDirectionToLocal(hookEnd, getParent(hookEnd), 0 , 1 , 0 )\n                                    setDirection(hookEnd, dx, dy, dz, upX, upY, upZ)\n\n                                    setScale(hookEnd, scale, scale, scale)\n                                end\n                            end\n\n                            setShaderParameter(beltShape, "beltClipOffsets" , hookLength1, ratchetStart, ratchetEnd, beltLength - hookLength2, false )\n\n                            belt.mesh = beltShape\n                            spec.belts[beltShape] = beltShape\n                            if belt.dummy ~ = nil then\n                                delete(belt.dummy)\n                                belt.dummy = nil\n                            end\n\n                            if playSound ~ = false and self.isClient then\n                                g_soundManager:playSample(spec.samples.toggleBelt)\n                                g_soundManager:playSample(spec.samples.addBelt)\n                            end\n                        end\n\n                        return beltShape\n                    end\n\n                    return nil\n                end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"freetensionbeltobject",children:"freeTensionBeltObject"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"freeTensionBeltObject()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"objectId"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"objectsToJointTable"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"isDynamic"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"object"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function TensionBelts:freeTensionBeltObject(objectId, objectsToJointTable, isDynamic, object)\n    if entityExists(objectId) then\n        local jointData = objectsToJointTable[objectId]\n        if jointData.jointIndex ~ = nil then\n            if self.isServer then\n                if jointData ~ = nil then\n                    removeJoint(jointData.jointIndex)\n                    delete(jointData.jointTransform)\n\n                    if getSplitType(objectId) ~ = 0 then\n                        setInertiaScale(objectId, 1 , 1 , 1 )\n                    end\n\n                    if jointData.objectMass ~ = nil then\n                        setMass(objectId, jointData.objectMass)\n                        self:setMassDirty()\n                    end\n\n                    if object ~ = nil then\n                        if object.setReducedComponentMass ~ = nil then\n                            object:setReducedComponentMass( false )\n                            self:setMassDirty()\n                        end\n                        if object.setCanBeSold ~ = nil then\n                            object:setCanBeSold( true )\n                        end\n                        if object.setDynamicMountType ~ = nil then\n                            object:setDynamicMountType( MountableObject.MOUNT_TYPE_NONE, nil )\n                        end\n                    end\n                end\n            end\n        else\n                local parentNode\n                if jointData ~ = nil then\n                    parentNode = jointData.parent\n                end\n                if parentNode ~ = nil and not entityExists(parentNode) then\n                    -- For some reason the original parent node was deleted.Delete the attached node too\n                    delete(objectId)\n                else\n                        if parentNode = = nil then\n                            parentNode = getRootNode()\n                        end\n                        local x, y, z = getWorldTranslation(objectId)\n                        local rx, ry, rz = getWorldRotation(objectId)\n\n                        if object ~ = nil and object.unmountKinematic ~ = nil then\n                            object:unmountKinematic()\n                        else\n                                -- only for split shapes on server side\n                                    if self.isServer then\n                                        link(parentNode, objectId)\n                                        setWorldTranslation(objectId, x, y, z)\n                                        setWorldRotation(objectId, rx, ry, rz)\n                                        setRigidBodyType(objectId, RigidBodyType.DYNAMIC)\n                                    end\n                                end\n                            end\n                        end\n\n                        if getSplitType(objectId) ~ = 0 then\n                            setUserAttribute(objectId, "isTensionBeltMounted" , UserAttributeType.BOOLEAN, false )\n                        end\n                    end\n\n                    -- remove objectId from object list\n                    objectsToJointTable[objectId] = nil\n                end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"getadditionalcomponentmass",children:"getAdditionalComponentMass"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getAdditionalComponentMass()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"superFunc"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"component"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function TensionBelts:getAdditionalComponentMass(superFunc, component)\n    local additionalMass = superFunc( self , component)\n\n    local spec = self.spec_tensionBelts\n    if spec.hasTensionBelts then\n        if spec.jointComponent = = component.node then\n            for _, objectData in pairs(spec.objectsToJoint) do\n                local object = objectData.object\n                if object ~ = nil then\n                    if object.getAllowComponentMassReduction ~ = nil and object:getAllowComponentMassReduction() then\n                        additionalMass = additionalMass + math.max((object:getDefaultMass() - 0.1 ), 0 )\n                    end\n                end\n\n                if objectData.objectMass ~ = nil then\n                    additionalMass = additionalMass + (objectData.objectMass - 0.01 )\n                end\n            end\n        end\n    end\n\n    return additionalMass\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getcanbeselected",children:"getCanBeSelected"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getCanBeSelected()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function TensionBelts:getCanBeSelected(superFunc)\n    return true\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getcandischargetoground",children:"getCanDischargeToGround"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getCanDischargeToGround()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"superFunc"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"dischargeNode"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function TensionBelts:getCanDischargeToGround(superFunc, dischargeNode)\n    local spec = self.spec_tensionBelts\n    if spec.hasTensionBelts and not spec.allowDischargeWhileFasten then\n        if spec.areAllBeltsFastened then\n            return false\n        end\n    end\n\n    return superFunc( self , dischargeNode)\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getcandischargetoobject",children:"getCanDischargeToObject"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getCanDischargeToObject()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"superFunc"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"dischargeNode"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function TensionBelts:getCanDischargeToObject(superFunc, dischargeNode)\n    local spec = self.spec_tensionBelts\n    if spec.hasTensionBelts and not spec.allowDischargeWhileFasten then\n        if spec.areAllBeltsFastened then\n            return false\n        end\n    end\n\n    return superFunc( self , dischargeNode)\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getfilllevelinformation",children:"getFillLevelInformation"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getFillLevelInformation()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"superFunc"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"display"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function TensionBelts:getFillLevelInformation(superFunc, display)\n    superFunc( self , display)\n\n    local spec = self.spec_tensionBelts\n    if spec.hasTensionBelts then\n        for _, objectData in pairs(spec.objectsToJoint) do\n            local object = objectData.object\n            if object ~ = nil then\n                if object.getFillLevelInformation ~ = nil then\n                    object:getFillLevelInformation(display)\n                else\n                        if object.getFillLevel ~ = nil and object.getFillType ~ = nil then\n                            local fillType = object:getFillType()\n                            local fillLevel = object:getFillLevel()\n                            local capacity = fillLevel\n                            if object.getCapacity ~ = nil then\n                                capacity = object:getCapacity()\n                            end\n\n                            display:addFillLevel(fillType, fillLevel, capacity)\n                        end\n                    end\n                end\n            end\n        end\n    end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"gethasobjectmounted",children:"getHasObjectMounted"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Returns if the vehicle (or any child) has the given object mounted"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getHasObjectMounted(table object, )"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"table"}),(0,i.jsx)(n.th,{children:"object"}),(0,i.jsx)(n.th,{children:"object"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"object"}),(0,i.jsx)(n.td,{})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"hasObjectMounted"}),(0,i.jsx)(n.th,{children:"has object mounted"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function TensionBelts:getHasObjectMounted(superFunc, object)\n    if superFunc( self , object) then\n        return true\n    end\n\n    local spec = self.spec_tensionBelts\n    if spec.hasTensionBelts then\n        for _, objectData in pairs(spec.objectsToJoint) do\n            if objectData.object ~ = nil then\n                if objectData.object = = object then\n                    return true\n                end\n\n                if objectData.object.getHasObjectMounted ~ = nil then\n                    if objectData.object:getHasObjectMounted(object) then\n                        return true\n                    end\n                end\n            end\n        end\n    end\n\n    return false\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getisdynamicallymountednode",children:"getIsDynamicallyMountedNode"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getIsDynamicallyMountedNode()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"node"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function TensionBelts:getIsDynamicallyMountedNode(node)\n    local spec = self.spec_tensionBelts\n\n    if spec.objectsToJoint ~ = nil then\n        for object,_ in pairs(spec.objectsToJoint) do\n            if object = = node then\n                return true\n            end\n        end\n    end\n\n    return false\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getisfoldallowed",children:"getIsFoldAllowed"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getIsFoldAllowed()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"superFunc"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"direction"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"onAiTurnOn"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function TensionBelts:getIsFoldAllowed(superFunc, direction, onAiTurnOn)\n    local spec = self.spec_tensionBelts\n    if spec.hasTensionBelts and not spec.allowFoldingWhileFasten then\n        if not((direction or 1 ) < 0 or not spec.areAllBeltsFastened) then\n            return false , spec.texts.warningFoldingTensionBelts\n        end\n    end\n\n    return superFunc( self , direction, onAiTurnOn)\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getismovingtoolactive",children:"getIsMovingToolActive"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getIsMovingToolActive()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"superFunc"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"movingTool"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function TensionBelts:getIsMovingToolActive(superFunc, movingTool)\n    if not movingTool.tensionBeltsAllowedMounted then\n        local spec = self.spec_tensionBelts\n        if spec.hasTensionBelts and spec.areAllBeltsFastened then\n            return false\n        end\n    end\n\n    return superFunc( self , movingTool)\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getisplayerintensionbeltsrange",children:"getIsPlayerInTensionBeltsRange"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Returns if player is in tension belt range"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getIsPlayerInTensionBeltsRange()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"inRange"}),(0,i.jsx)(n.th,{children:"player is in range"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"belt"}),(0,i.jsx)(n.td,{children:"nearest belt"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function TensionBelts:getIsPlayerInTensionBeltsRange()\n\n    if g_localPlayer = = nil then\n        return false , nil\n    end\n\n    if not g_currentMission.accessHandler:canPlayerAccess( self ) then\n        return false , nil\n    end\n\n    local spec = self.spec_tensionBelts\n\n    if spec.beltData ~ = nil then\n        local px, py, pz = getWorldTranslation(g_localPlayer.rootNode)\n        local vx, vy, vz = localToWorld(spec.interactionBaseNode, spec.interactionBasePointX, 0 , spec.interactionBasePointZ)\n        local currentBelt = nil\n        local distance = math.huge\n\n        if MathUtil.vector3Length(px - vx, py - vy, pz - vz) < spec.totalInteractionRadius then\n            if spec.tensionBelts ~ = nil then\n                for _, belt in pairs(spec.singleBelts) do\n                    local sx, _, sz = getWorldTranslation(belt.startNode)\n                    local ex, _, ez = getWorldTranslation(belt.endNode)\n                    local sDistance = MathUtil.vector2Length(px - sx, pz - sz)\n                    local eDistance = MathUtil.vector2Length(px - ex, pz - ez)\n                    if (sDistance < distance and sDistance < spec.interactionRadius) or(eDistance < distance and eDistance < spec.interactionRadius) then\n                        currentBelt = belt\n                        distance = math.min(sDistance, eDistance)\n                    end\n                end\n            end\n\n            if distance < spec.interactionRadius then\n                return true , currentBelt\n            end\n        end\n    end\n\n    return false , nil\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getisreadyforautomatedtraintravel",children:"getIsReadyForAutomatedTrainTravel"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getIsReadyForAutomatedTrainTravel()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function TensionBelts:getIsReadyForAutomatedTrainTravel(superFunc)\n    local spec = self.spec_tensionBelts\n    if spec.hasTensionBelts and spec.numObjectsIntensionBeltRange > 0 then\n        return false\n    end\n\n    return superFunc( self )\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getobjectstounmount",children:"getObjectsToUnmount"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Returns objects to unmount if given belt will be removed"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getObjectsToUnmount(table belt)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"table"}),(0,i.jsx)(n.th,{children:"belt"}),(0,i.jsx)(n.th,{children:"belt to check"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"table"}),(0,i.jsx)(n.th,{children:"objectIdsToUnmount"}),(0,i.jsx)(n.th,{children:"table with object ids to unmount"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"table"}),(0,i.jsx)(n.td,{children:"numObjects"}),(0,i.jsx)(n.td,{children:"number of objects to unmount"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function TensionBelts:getObjectsToUnmount(belt)\n    local spec = self.spec_tensionBelts\n\n    local objectIdsToUnmount = { }\n    local numObjects = 0\n    -- copy mounted objects table\n    for objectId, data in pairs(spec.objectsToJoint) do\n        objectIdsToUnmount[objectId] = { objectId = objectId, object = data.object }\n        numObjects = numObjects + 1\n    end\n\n    -- remove objects mounted by other active belts\n    for _, otherBelt in pairs(spec.singleBelts) do\n        if otherBelt.mesh ~ = nil and otherBelt ~ = belt then\n            local objectToMount,_ = self:getObjectToMount(otherBelt)\n            for _, object in pairs(objectToMount) do\n                -- remove objects mounted by other belts\n                if objectIdsToUnmount[object.physics] ~ = nil then\n                    objectIdsToUnmount[object.physics] = nil\n                    numObjects = numObjects - 1\n                end\n            end\n        end\n    end\n\n    return objectIdsToUnmount, numObjects\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getobjecttomount",children:"getObjectToMount"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Returns objects in belt range"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getObjectToMount(table belt)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"table"}),(0,i.jsx)(n.th,{children:"belt"}),(0,i.jsx)(n.th,{children:"belt to check"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"table"}),(0,i.jsx)(n.th,{children:"objectsInTensionBeltRange"}),(0,i.jsx)(n.th,{children:"object in belt range"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"table"}),(0,i.jsx)(n.td,{children:"numObjectsIntensionBeltRange"}),(0,i.jsx)(n.td,{children:"number of objects in belt range"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function TensionBelts:getObjectToMount(belt)\n    local spec = self.spec_tensionBelts\n\n    local markerStart = spec.startNode\n    local markerEnd = spec.endNode\n    local offsetLeft = nil\n    local offsetRight = nil\n    local offset = nil\n    local height = nil\n    if belt ~ = nil then\n        markerStart = belt.startNode\n        markerEnd = belt.endNode\n\n        offsetLeft = belt.offsetLeft\n        offsetRight = belt.offsetRight\n        offset = belt.offset\n        height = belt.height\n        if offsetLeft = = nil then\n            if spec.sortedBelts[belt.id - 1 ] ~ = nil and spec.sortedBelts[belt.id - 1 ].mesh ~ = nil then\n                local x,_,_ = localToLocal(markerStart, spec.sortedBelts[belt.id - 1 ].startNode, 0 , 0 , 0 )\n                offsetLeft = math.abs(x)\n            end\n        end\n        if offsetRight = = nil then\n            if spec.sortedBelts[belt.id + 1 ] ~ = nil and spec.sortedBelts[belt.id + 1 ].mesh ~ = nil then\n                local x,_,_ = localToLocal(markerStart, spec.sortedBelts[belt.id + 1 ].startNode, 0 , 0 , 0 )\n                offsetRight = math.abs(x)\n            end\n        end\n\n    end\n\n    if offsetLeft = = nil then\n        offsetLeft = spec.defaultOffsetSide\n    end\n    if offsetRight = = nil then\n        offsetRight = spec.defaultOffsetSide\n    end\n    if offset = = nil then\n        offset = spec.defaultOffset\n    end\n    if height = = nil then\n        height = spec.defaultHeight\n    end\n\n    local sizeX = (offsetLeft + offsetRight) * 0.5\n    local sizeY = height * 0.5\n    local _, _, width = localToLocal(markerEnd, markerStart, 0 , 0 , 0 )\n    local sizeZ = width * 0.5 - 2 * offset\n\n    local centerX = (offsetLeft - offsetRight) * 0.5\n    local centerY = height * 0.5\n    local centerZ = width * 0.5\n    local x,y,z = localToWorld(markerStart, centerX, centerY, centerZ)\n\n    if TensionBelts.debugRendering then\n        local box = { }\n        box.points = { }\n        local colorR = math.random( 0 , 1 )\n        local colorG = math.random( 0 , 1 )\n        local colorB = math.random( 0 , 1 )\n        box.color = { colorR,colorG,colorB }\n\n        local blx, bly, blz = localToWorld(markerStart, centerX - sizeX, centerY - sizeY, centerZ - sizeZ)\n        local brx, bry, brz = localToWorld(markerStart, centerX + sizeX, centerY - sizeY, centerZ - sizeZ)\n        local flx, fly, flz = localToWorld(markerStart, centerX - sizeX, centerY - sizeY, centerZ + sizeZ)\n        local frx, fry, frz = localToWorld(markerStart, centerX + sizeX, centerY - sizeY, centerZ + sizeZ)\n\n        local tblx, tbly, tblz = localToWorld(markerStart, centerX - sizeX, centerY + sizeY, centerZ - sizeZ)\n        local tbrx, tbry, tbrz = localToWorld(markerStart, centerX + sizeX, centerY + sizeY, centerZ - sizeZ)\n        local tflx, tfly, tflz = localToWorld(markerStart, centerX - sizeX, centerY + sizeY, centerZ + sizeZ)\n        local tfrx, tfry, tfrz = localToWorld(markerStart, centerX + sizeX, centerY + sizeY, centerZ + sizeZ)\n\n        table.insert(box.points, { blx, bly, blz } ) -- lower:lb\n        table.insert(box.points, { brx, bry, brz } ) -- rb\n        table.insert(box.points, { frx, fry, frz } ) -- rf\n        table.insert(box.points, { flx, fly, flz } ) -- lf\n\n        table.insert(box.points, { tblx, tbly, tblz } ) -- upper:lb\n        table.insert(box.points, { tbrx, tbry, tbrz } ) -- rb\n        table.insert(box.points, { tfrx, tfry, tfrz } ) -- rf\n        table.insert(box.points, { tflx, tfly, tflz } ) -- lf\n        table.insert(box.points, { x, y, z } ) -- center\n\n        spec.checkBoxes[markerStart] = box\n    end\n\n    local rx,ry,rz = getWorldRotation(markerStart)\n    table.clear(spec.objectsInTensionBeltRange)\n    spec.numObjectsIntensionBeltRange = 0\n\n    overlapBox(x, y, z, rx, ry, rz, sizeX, sizeY, sizeZ, "objectOverlapCallback" , self , CollisionFlag.DYNAMIC_OBJECT + CollisionFlag.VEHICLE + CollisionFlag.TREE, true , true , false , true )\n\n    return spec.objectsInTensionBeltRange, spec.numObjectsIntensionBeltRange\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"gettensionbeltobjectcanbemounted",children:"getTensionBeltObjectCanBeMounted"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Returns if the given object can be mounted via tension belts"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"getTensionBeltObjectCanBeMounted()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"object"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function TensionBelts:getTensionBeltObjectCanBeMounted(object)\n    if object = = self then\n        return false\n    end\n\n    if object.rootVehicle = = self.rootVehicle then\n        return false\n    end\n\n    if object.getSupportsTensionBelts = = nil or not object:getSupportsTensionBelts() then\n        return false\n    end\n\n    if object.getMeshNodes = = nil then\n        return false\n    end\n\n    if object.dynamicMountObject ~ = nil then\n        return false\n    end\n\n    local hasObjectMounted = false\n    local spec = self.spec_tensionBelts\n    for _, objectData in pairs(spec.objectsToJoint) do\n        if objectData.object ~ = nil then\n            if objectData.object = = object then\n                hasObjectMounted = true\n            end\n        end\n    end\n\n    -- we still return true if we got the object mounted to ourselfs already\n        -- this is required when we remount the object while updating the tension belt states\n            if not hasObjectMounted then\n                -- if we are already somehow mounted to the given object, we block the mounting(otherwise we create a endless loop)\n                    if object.rootVehicle ~ = nil then\n                        if object.rootVehicle:getHasObjectMounted( self ) then\n                            return false\n                        end\n                    end\n\n                    if self.rootVehicle:getHasObjectMounted(object) then\n                        return false\n                    end\n                end\n\n                return true\n            end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"initspecialization",children:"initSpecialization"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"initSpecialization()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function TensionBelts.initSpecialization()\n    g_vehicleConfigurationManager:addConfigurationType( "tensionBelts" , g_i18n:getText( "configuration_tensionBelts" ), "tensionBelts" , VehicleConfigurationItem )\n\n    local schema = Vehicle.xmlSchema\n    schema:setXMLSpecializationType( "TensionBelts" )\n\n    local key = "vehicle.tensionBelts.tensionBeltsConfigurations.tensionBeltsConfiguration(?).tensionBelts"\n\n    schema:register(XMLValueType.FLOAT, key .. "#totalInteractionRadius" , "Total interaction radius" , 6 )\n    schema:register(XMLValueType.FLOAT, key .. "#interactionRadius" , "Interaction radius" , 1 )\n    schema:register(XMLValueType.NODE_INDEX, key .. "#interactionBaseNode" , "Interaction base node" , "Vehicle root node" )\n    schema:register(XMLValueType.NODE_INDEX, key .. "#activationTrigger" , "Activation trigger" )\n    schema:register(XMLValueType.STRING, key .. "#tensionBeltType" , "Supports tension belts" , "basic" )\n\n    schema:register(XMLValueType.FLOAT, key .. "#width" , "Belt width" , "Used from belt definitions" )\n    schema:register(XMLValueType.FLOAT, key .. "#ratchetPosition" , "Ratchet position" )\n    schema:register(XMLValueType.BOOL, key .. "#useHooks" , "Use hooks" , true )\n    schema:register(XMLValueType.FLOAT, key .. "#maxEdgeLength" , "Max.edge length" , 0.1 )\n    schema:register(XMLValueType.FLOAT, key .. "#geometryBias" , "Geometry bias" , 0.01 )\n    schema:register(XMLValueType.FLOAT, key .. "#defaultOffsetSide" , "Default offset side" , 0.1 )\n    schema:register(XMLValueType.FLOAT, key .. "#defaultOffset" , "Default offset" , 0 )\n    schema:register(XMLValueType.FLOAT, key .. "#defaultHeight" , "Default height" , 5 )\n\n    schema:register(XMLValueType.BOOL, key .. "#allowFoldingWhileFasten" , "Folding is allowed while tension belts are fasten" , true )\n        schema:register(XMLValueType.BOOL, key .. "#allowDischargeWhileFasten" , "Discharging is allowed while tension belts are fasten" , true )\n\n            schema:register(XMLValueType.NODE_INDEX, key .. "#linkNode" , "Link node" )\n            schema:register(XMLValueType.NODE_INDEX, key .. "#rootNode" , "Root node" , "Root component" )\n            schema:register(XMLValueType.NODE_INDEX, key .. "#jointNode" , "Joint node" , "rootNode" )\n\n            schema:register(XMLValueType.NODE_INDEX, key .. ".tensionBelt(?)#startNode" , "Start node" )\n            schema:register(XMLValueType.NODE_INDEX, key .. ".tensionBelt(?)#endNode" , "End node" )\n            schema:register(XMLValueType.FLOAT, key .. ".tensionBelt(?)#offsetLeft" , "Offset left" )\n            schema:register(XMLValueType.FLOAT, key .. ".tensionBelt(?)#offsetRight" , "Offset right" )\n            schema:register(XMLValueType.FLOAT, key .. ".tensionBelt(?)#offset" , "Offset" )\n            schema:register(XMLValueType.FLOAT, key .. ".tensionBelt(?)#height" , "Height" )\n            schema:register(XMLValueType.NODE_INDEX, key .. ".tensionBelt(?)#linkNode" , "Custom link node for visual tension belts" )\n                schema:register(XMLValueType.NODE_INDEX, key .. ".tensionBelt(?)#jointNode" , "Custom joint node for to mount the objects to" )\n                    schema:register(XMLValueType.NODE_INDEX, key .. ".tensionBelt(?).intersectionNode(?)#node" , "Intersection node" )\n\n                    ObjectChangeUtil.registerObjectChangeXMLPaths(schema, key .. ".tensionBelt(?)" )\n\n                    SoundManager.registerSampleXMLPaths(schema, key .. ".sounds" , "toggleBelt" )\n                    SoundManager.registerSampleXMLPaths(schema, key .. ".sounds" , "addBelt" )\n                    SoundManager.registerSampleXMLPaths(schema, key .. ".sounds" , "removeBelt" )\n\n                    schema:addDelayedRegistrationFunc( "Cylindered:movingTool" , function (cSchema, cKey)\n                        cSchema:register(XMLValueType.BOOL, cKey .. ".tensionBelts#allowedMounted" , "Allow moving tool movement while something is mounted" , true )\n                        end )\n\n                        schema:setXMLSpecializationType()\n\n                        local schemaSavegame = Vehicle.xmlSchemaSavegame\n                        schemaSavegame:register(XMLValueType.BOOL, "vehicles.vehicle(?).tensionBelts.belt(?)#isActive" , "Belt is active" , false )\n                    end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"loadmovingtoolfromxml",children:"loadMovingToolFromXML"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"loadMovingToolFromXML()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"superFunc"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"xmlFile"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"key"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"entry"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function TensionBelts:loadMovingToolFromXML(superFunc, xmlFile, key, entry)\n    if not superFunc( self , xmlFile, key, entry) then\n        return false\n    end\n\n    entry.tensionBeltsAllowedMounted = xmlFile:getValue(key .. ".tensionBelts#allowedMounted" , true )\n\n    return true\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"locktensionbeltobject",children:"lockTensionBeltObject"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"lockTensionBeltObject()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"objectId"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"objectsToJointTable"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"isDynamic"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"jointNode"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"object"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function TensionBelts:lockTensionBeltObject(objectId, objectsToJointTable, isDynamic, jointNode, object)\n    if objectsToJointTable[objectId] = = nil then\n        local useDynamicMount = false\n        local useKinematicMount = false\n        local useSplitShapeMount = false\n\n        if not isDynamic and getSplitType(objectId) ~ = 0 then\n            useSplitShapeMount = true -- mount the trees on the train kinematically\n        else\n                useDynamicMount = true -- everything else is mounted dynamically(server only)\n                end\n\n                if useDynamicMount then\n                    if self.isServer then\n                        local constr = JointConstructor.new()\n                        constr:setActors(jointNode, objectId)\n\n                        -- create joint at center of mass to avoid jittering(e.g.tree trunks pivots are not at center of mass position)\n                        -- create a transformGroup at the joint position to move the joint afterwards based on this transformGroup\n                        local jointTransform = createTransformGroup( "tensionBeltJoint" )\n                        link(jointNode, jointTransform)\n                        local x,y,z = localToWorld(objectId, getCenterOfMass(objectId))\n                        setWorldTranslation(jointTransform, x,y,z)\n\n                        constr:setJointTransforms(jointTransform, jointTransform)\n                        constr:setEnableCollision( true )\n\n                        constr:setRotationLimit( 0 , 0 , 0 )\n                        constr:setRotationLimit( 1 , 0 , 0 )\n                        constr:setRotationLimit( 2 , 0 , 0 )\n\n                        local springForce = 1000\n                        local springDamping = 10\n                        constr:setRotationLimitSpring(springForce, springDamping, springForce, springDamping, springForce, springDamping)\n                        constr:setTranslationLimitSpring(springForce, springDamping, springForce, springDamping, springForce, springDamping)\n                        local jointIndex = constr:finalize()\n\n                        local objectMass\n                        if object ~ = nil then\n                            if object.setReducedComponentMass ~ = nil then\n                                if object:getAllowComponentMassReduction() then\n                                    object:setReducedComponentMass( true )\n                                    self:setMassDirty()\n                                end\n                            end\n                            if object.setCanBeSold ~ = nil then\n                                object:setCanBeSold( false )\n                            end\n                            if object.setDynamicMountType ~ = nil then\n                                object:setDynamicMountType( MountableObject.MOUNT_TYPE_DYNAMIC, self )\n                            end\n                        else\n                                -- reduce mass of split shapes as well\n                                objectMass = getMass(objectId)\n                                if objectMass > 0.01 then\n                                    setMass(objectId, 0.01 )\n                                    self:setMassDirty()\n                                else\n                                        objectMass = nil\n                                    end\n                                end\n\n                                if getSplitType(objectId) ~ = 0 then\n                                    setInertiaScale(objectId, 20 , 20 , 20 )\n                                end\n\n                                objectsToJointTable[objectId] = { jointIndex = jointIndex, jointTransform = jointTransform, object = object, objectMass = objectMass }\n                            else\n                                    objectsToJointTable[objectId] = { jointIndex = 0 , object = object }\n                                end\n                            elseif useKinematicMount then\n                                    local parentNode = getParent(objectId)\n                                    local x, y, z = localToLocal(objectId, jointNode, 0 , 0 , 0 )\n                                    local rx, ry, rz = localRotationToLocal(objectId, jointNode, 0 , 0 , 0 )\n\n                                    object:mountKinematic( self , jointNode, x, y, z, rx, ry, rz)\n\n                                    objectsToJointTable[objectId] = { parent = parentNode, object = object }\n                                elseif useSplitShapeMount then\n                                        if self.isServer then\n                                            local parentNode = getParent(objectId)\n                                            local x, y, z = localToLocal(objectId, jointNode, 0 , 0 , 0 )\n                                            local rx, ry, rz = localRotationToLocal(objectId, jointNode, 0 , 0 , 0 )\n\n                                            setRigidBodyType(objectId, RigidBodyType.KINEMATIC)\n                                            link(jointNode, objectId)\n                                            setTranslation(objectId, x, y, z)\n                                            setRotation(objectId, rx, ry, rz)\n                                            objectsToJointTable[objectId] = { parent = parentNode, object = object }\n                                        end\n                                    end\n\n                                    if getSplitType(objectId) ~ = 0 then\n                                        setUserAttribute(objectId, "isTensionBeltMounted" , UserAttributeType.BOOLEAN, true )\n                                        g_messageCenter:publish(MessageType.TREE_SHAPE_MOUNTED, objectId, self )\n                                    end\n                                end\n                            end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"objectoverlapcallback",children:"objectOverlapCallback"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Overlap callback"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"objectOverlapCallback(integer transformId)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"integer"}),(0,i.jsx)(n.th,{children:"transformId"}),(0,i.jsx)(n.th,{children:"id of found transform"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function TensionBelts:objectOverlapCallback(transformId)\n    if transformId ~ = 0 and getHasClassId(transformId, ClassIds.SHAPE) then\n        local spec = self.spec_tensionBelts\n\n        local object = g_currentMission:getNodeObject(transformId)\n        if object ~ = nil then\n            if self:getTensionBeltObjectCanBeMounted(object) then\n                local nodeId = object:getTensionBeltNodeId()\n                if spec.objectsInTensionBeltRange[nodeId] = = nil then\n                    local nodes = object:getMeshNodes()\n                    if nodes ~ = nil then\n                        spec.objectsInTensionBeltRange[nodeId] = { physics = nodeId, visuals = nodes, object = object } -- TODO:avoid table creation\n                        spec.numObjectsIntensionBeltRange = spec.numObjectsIntensionBeltRange + 1\n                    end\n                end\n            end\n        elseif getSplitType(transformId) ~ = 0 then\n                local rigidBodyType = getRigidBodyType(transformId)\n                if (rigidBodyType = = RigidBodyType.DYNAMIC or rigidBodyType = = RigidBodyType.KINEMATIC) and spec.objectsInTensionBeltRange[transformId] = = nil then\n                    spec.objectsInTensionBeltRange[transformId] = { physics = transformId, visuals = { transformId } }\n                    spec.numObjectsIntensionBeltRange = spec.numObjectsIntensionBeltRange + 1\n                end\n            end\n        end\n\n        return true\n    end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"ondelete",children:"onDelete"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Called on deleting"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onDelete()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function TensionBelts:onDelete()\n    local spec = self.spec_tensionBelts\n\n    spec.isPlayerInRange = false\n    g_currentMission.activatableObjectsSystem:removeActivatable(spec.activatable)\n    self:setTensionBeltsActive( false , nil , true , false )\n\n    if spec.activationTrigger ~ = nil then\n        removeTrigger(spec.activationTrigger)\n        spec.activationTrigger = nil\n    end\n\n    g_soundManager:deleteSamples(spec.samples)\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"ondraw",children:"onDraw"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Called on draw"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onDraw(boolean isActiveForInput, boolean isSelected, )"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"boolean"}),(0,i.jsx)(n.th,{children:"isActiveForInput"}),(0,i.jsx)(n.th,{children:"true if vehicle is active for input"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"boolean"}),(0,i.jsx)(n.td,{children:"isSelected"}),(0,i.jsx)(n.td,{children:"true if vehicle is selected"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"isSelected"}),(0,i.jsx)(n.td,{})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function TensionBelts:onDraw(isActiveForInput, isActiveForInputIgnoreSelection, isSelected)\n    local spec = self.spec_tensionBelts\n\n    if not spec.hasTensionBelts then\n        return\n    end\n\n    if isActiveForInputIgnoreSelection and isSelected then\n        if spec.areAllBeltsFastened then\n            g_inputBinding:setActionEventText( self.toggleTensionBeltActionEvent, g_i18n:getText( "action_unfastenTensionBelts" ))\n        else\n                g_inputBinding:setActionEventText( self.toggleTensionBeltActionEvent, g_i18n:getText( "action_fastenTensionBelts" ))\n            end\n        end\n\n        -- for _, d in pairs(spec.objectsToJoint) do\n            -- local node = d.jointTransform\n            -- DebugGizmo.renderAtNode(node, getName(node))\n            -- end\n        end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"onload",children:"onLoad"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Called on loading"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onLoad(table savegame)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"table"}),(0,i.jsx)(n.th,{children:"savegame"}),(0,i.jsx)(n.th,{children:"savegame"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function TensionBelts:onLoad(savegame)\n    local spec = self.spec_tensionBelts\n\n    local tensionBeltConfigurationId = Utils.getNoNil( self.configurations[ "tensionBelts" ], 1 )\n    local configKey = string.format( "vehicle.tensionBelts.tensionBeltsConfigurations.tensionBeltsConfiguration(%d).tensionBelts" , tensionBeltConfigurationId - 1 )\n\n    spec.hasTensionBelts = true\n    if not self.xmlFile:hasProperty(configKey) then\n        spec.hasTensionBelts = false\n\n        SpecializationUtil.removeEventListener( self , "onPostLoad" , TensionBelts )\n        SpecializationUtil.removeEventListener( self , "onDelete" , TensionBelts )\n        SpecializationUtil.removeEventListener( self , "onPreDelete" , TensionBelts )\n        SpecializationUtil.removeEventListener( self , "onReadStream" , TensionBelts )\n        SpecializationUtil.removeEventListener( self , "onWriteStream" , TensionBelts )\n        SpecializationUtil.removeEventListener( self , "onUpdate" , TensionBelts )\n        SpecializationUtil.removeEventListener( self , "onUpdateTick" , TensionBelts )\n        SpecializationUtil.removeEventListener( self , "onDraw" , TensionBelts )\n        SpecializationUtil.removeEventListener( self , "onRegisterActionEvents" , TensionBelts )\n\n        return\n    end\n\n    spec.belts = { }\n    spec.tensionBelts = { }\n    spec.singleBelts = { }\n    spec.sortedBelts = { }\n\n    spec.activatable = TensionBeltsActivatable.new( self )\n\n    spec.totalInteractionRadius = self.xmlFile:getValue(configKey .. "#totalInteractionRadius" , 6 )\n    spec.interactionRadius = self.xmlFile:getValue(configKey .. "#interactionRadius" , 1 )\n    spec.interactionBaseNode = self.xmlFile:getValue(configKey .. "#interactionBaseNode" , self.rootNode, self.components, self.i3dMappings)\n    local activationTrigger = self.xmlFile:getValue(configKey .. "#activationTrigger" , nil , self.components, self.i3dMappings)\n    if activationTrigger ~ = nil then\n        if getCollisionFilterGroup(activationTrigger) = = CollisionFlag.TRIGGER then\n            if getCollisionFilterMask(activationTrigger) = = CollisionFlag.PLAYER then\n                addTrigger(activationTrigger, "tensionBeltActivationTriggerCallback" , self )\n                spec.activationTrigger = activationTrigger\n            else\n                    Logging.xmlError( self.xmlFile, "Wrong collision filter mask for tension belt activation trigger \'%s\'.Should only have %s" , getName(activationTrigger), CollisionFlag.getBitAndName(CollisionFlag.PLAYER))\n                    end\n                else\n                        Logging.xmlError( self.xmlFile, "Wrong collision filter group set for tension belt activation trigger \'%s\'.Should only have %s" , getName(activationTrigger), CollisionFlag.getBitAndName(CollisionFlag.TRIGGER))\n                        end\n                    end\n\n                    spec.allowFoldingWhileFasten = self.xmlFile:getValue(configKey .. "#allowFoldingWhileFasten" , true )\n                    spec.allowDischargeWhileFasten = self.xmlFile:getValue(configKey .. "#allowDischargeWhileFasten" , true )\n\n                    spec.isPlayerInTrigger = false\n                    spec.checkSizeOffsets = { 0 * 0.5 , 5 * 0.5 , 3 * 0.5 }\n                    spec.objectsInTensionBeltRange = { }\n                    spec.numObjectsIntensionBeltRange = 0\n\n                    local tensionBeltType = self.xmlFile:getValue(configKey .. "#tensionBeltType" , "basic" )\n                    local beltData = g_tensionBeltManager:getBeltData(tensionBeltType)\n\n                    if beltData ~ = nil then\n                        spec.width = self.xmlFile:getValue(configKey .. "#width" )\n                        spec.ratchetPosition = self.xmlFile:getValue(configKey .. "#ratchetPosition" )\n                        spec.useHooks = self.xmlFile:getValue(configKey .. "#useHooks" , true )\n                        spec.maxEdgeLength = self.xmlFile:getValue(configKey .. "#maxEdgeLength" , 0.1 )\n                        spec.geometryBias = self.xmlFile:getValue(configKey .. "#geometryBias" , 0.01 )\n                        spec.defaultOffsetSide = self.xmlFile:getValue(configKey .. "#defaultOffsetSide" , 0.1 )\n                        spec.defaultOffset = self.xmlFile:getValue(configKey .. "#defaultOffset" , 0 )\n                        spec.defaultHeight = self.xmlFile:getValue(configKey .. "#defaultHeight" , 5 )\n                        spec.beltData = beltData\n                        spec.linkNode = self.xmlFile:getValue(configKey .. "#linkNode" , nil , self.components, self.i3dMappings)\n                        spec.rootNode = self.xmlFile:getValue(configKey .. "#rootNode" , self.components[ 1 ].node, self.components, self.i3dMappings)\n                        spec.jointNode = self.xmlFile:getValue(configKey .. "#jointNode" , spec.rootNode, self.components, self.i3dMappings)\n                        spec.checkTimerDuration = 500\n                        spec.checkTimer = spec.checkTimerDuration\n\n                        if spec.linkNode = = nil then\n                            Logging.xmlError( self.xmlFile, "No tension belts link node given at %s%s" , configKey, "#linkNode" )\n                            self:setLoadingState(VehicleLoadingState.ERROR)\n                            return\n                        end\n\n                        if getRigidBodyType(spec.jointNode) ~ = RigidBodyType.DYNAMIC and getRigidBodyType(spec.jointNode) ~ = RigidBodyType.KINEMATIC then\n                            Logging.xmlError( self.xmlFile, "Given jointNode \'" .. getName(spec.jointNode) .. "\' has invalid rigidBodyType.Have to be \'Dynamic\' or \'Kinematic\'! Using \'" .. getName( self.components[ 1 ].node) .. "\' instead!" )\n                            spec.jointNode = self.components[ 1 ].node\n                        end\n\n                        local rigidBodyType = getRigidBodyType(spec.jointNode)\n                        spec.isDynamic = rigidBodyType = = RigidBodyType.DYNAMIC\n\n                        local x,y,z = localToLocal(spec.linkNode, spec.jointNode, 0 , 0 , 0 )\n                        local rx,ry,rz = localRotationToLocal(spec.linkNode, spec.jointNode, 0 , 0 , 0 )\n                        spec.linkNodePosition = { x, y, z }\n                        spec.linkNodeRotation = { rx, ry, rz }\n\n                        spec.jointComponent = self:getParentComponent(spec.jointNode)\n\n                        local i = 0\n                        while true do\n                            local key = string.format(configKey .. ".tensionBelt(%d)" , i)\n                            if not self.xmlFile:hasProperty(key) then\n                                break\n                            end\n\n                            if #spec.sortedBelts = = 2 ^ TensionBelts.NUM_SEND_BITS then\n                                Logging.xmlWarning( self.xmlFile, "Max number of tension belts is " .. 2 ^ TensionBelts.NUM_SEND_BITS .. "!" )\n                                break\n                            end\n\n                            local startNode = self.xmlFile:getValue(key .. "#startNode" , nil , self.components, self.i3dMappings)\n                            local endNode = self.xmlFile:getValue(key .. "#endNode" , nil , self.components, self.i3dMappings)\n                            if startNode ~ = nil and endNode ~ = nil then\n                                local endX,endY,_ = getTranslation(endNode)\n                                if math.abs(endX) < 0.0001 and math.abs(endY) < 0.0001 then\n                                    if spec.linkNode = = nil then\n                                        spec.linkNode = getParent(startNode)\n                                    end\n                                    if spec.startNode = = nil then\n                                        spec.startNode = startNode\n                                    end\n                                    spec.endNode = endNode\n\n                                    local offsetLeft = self.xmlFile:getValue(key .. "#offsetLeft" )\n                                    local offsetRight = self.xmlFile:getValue(key .. "#offsetRight" )\n                                    local offset = self.xmlFile:getValue(key .. "#offset" )\n                                    local height = self.xmlFile:getValue(key .. "#height" )\n\n                                    local intersectionNodes = { }\n                                    local j = 0\n                                    while true do\n                                        local intersectionKey = string.format(key .. ".intersectionNode(%d)" , j)\n                                        if not self.xmlFile:hasProperty(intersectionKey) then\n                                            break\n                                        end\n                                        local node = self.xmlFile:getValue(intersectionKey .. "#node" , nil , self.components, self.i3dMappings)\n                                        if node ~ = nil then\n                                            table.insert(intersectionNodes, node)\n                                        end\n                                        j = j + 1\n                                    end\n\n                                    local linkNode = self.xmlFile:getValue(key .. "#linkNode" , nil , self.components, self.i3dMappings)\n                                    local jointNode = self.xmlFile:getValue(key .. "#jointNode" , nil , self.components, self.i3dMappings)\n\n                                    local changeObjects = { }\n                                    ObjectChangeUtil.loadObjectChangeFromXML( self.xmlFile, key, changeObjects, self.components, self )\n                                    ObjectChangeUtil.setObjectChanges(changeObjects, false , self , self.setMovingToolDirty)\n\n                                    local belt = { id = i + 1 , startNode = startNode, endNode = endNode, offsetLeft = offsetLeft, offsetRight = offsetRight, offset = offset, height = height, mesh = nil , intersectionNodes = intersectionNodes, changeObjects = changeObjects, linkNode = linkNode, jointNode = jointNode, dummy = nil , objectsToMount = nil }\n                                    spec.singleBelts[belt] = belt\n                                    table.insert(spec.sortedBelts, belt)\n                                else\n                                        Logging.xmlWarning( self.xmlFile, "x and y position of endNode need to be 0 for tension belt \'" .. key .. "\'" )\n                                        end\n                                    end\n\n                                    i = i + 1\n                                end\n\n                                local minX, minZ = math.huge, math.huge\n                                local maxX, maxZ = - math.huge, - math.huge\n                                for _, belt in pairs(spec.singleBelts) do\n                                    local sx,_,sz = localToLocal(belt.startNode, spec.interactionBaseNode, 0 , 0 , 0 )\n                                    local ex,_,ez = localToLocal(belt.endNode, spec.interactionBaseNode, 0 , 0 , 0 )\n                                    minX = math.min(minX, sx, ex)\n                                    minZ = math.min(minZ, sz, ez)\n                                    maxX = math.max(maxX, sx, ex)\n                                    maxZ = math.max(maxZ, sz, ez)\n                                end\n\n                                spec.interactionBasePointX = (maxX + minX) / 2\n                                spec.interactionBasePointZ = (maxZ + minZ) / 2\n\n                                for _, belt in pairs(spec.singleBelts) do\n                                    local sx,_,sz = localToLocal(belt.startNode, spec.interactionBaseNode, 0 , 0 , 0 )\n                                    local sl = MathUtil.vector2Length(spec.interactionBasePointX - sx, spec.interactionBasePointZ - sz) + 1\n                                    local el = MathUtil.vector2Length(spec.interactionBasePointX - sx, spec.interactionBasePointZ - sz) + 1\n                                    spec.totalInteractionRadius = math.max(spec.totalInteractionRadius, sl, el)\n                                end\n\n                            else\n                                    Logging.xmlWarning( self.xmlFile, "No belt data found for tension belt type %s" , tensionBeltType)\n                                    end\n\n                                    spec.hasTensionBelts = #spec.sortedBelts > 0\n\n                                    spec.checkBoxes = { }\n                                    spec.objectsToJoint = { }\n                                    spec.isPlayerInRange = false\n                                    spec.currentBelt = nil\n                                    spec.areAllBeltsFastened = false\n                                    spec.fastenedAllBeltsIndex = - 1\n                                    spec.fastenedAllBeltsState = true\n\n                                    if self.isClient then\n                                        spec.samples = { }\n                                        spec.samples.toggleBelt = g_soundManager:loadSampleFromXML( self.xmlFile, configKey .. ".sounds" , "toggleBelt" , self.baseDirectory, self.components, 1 , AudioGroup.VEHICLE, self.i3dMappings, self )\n                                        spec.samples.addBelt = g_soundManager:loadSampleFromXML( self.xmlFile, configKey .. ".sounds" , "addBelt" , self.baseDirectory, self.components, 1 , AudioGroup.VEHICLE, self.i3dMappings, self )\n                                        spec.samples.removeBelt = g_soundManager:loadSampleFromXML( self.xmlFile, configKey .. ".sounds" , "removeBelt" , self.baseDirectory, self.components, 1 , AudioGroup.VEHICLE, self.i3dMappings, self )\n                                    end\n\n                                    spec.texts = { }\n                                    spec.texts.warningFoldingTensionBelts = g_i18n:getText( "warning_foldingNotWhileTensionBeltsFasten" )\n\n                                    if not spec.hasTensionBelts then\n                                        SpecializationUtil.removeEventListener( self , "onPostLoad" , TensionBelts )\n                                        SpecializationUtil.removeEventListener( self , "onDelete" , TensionBelts )\n                                        SpecializationUtil.removeEventListener( self , "onPreDelete" , TensionBelts )\n                                        SpecializationUtil.removeEventListener( self , "onReadStream" , TensionBelts )\n                                        SpecializationUtil.removeEventListener( self , "onWriteStream" , TensionBelts )\n                                        SpecializationUtil.removeEventListener( self , "onUpdate" , TensionBelts )\n                                        SpecializationUtil.removeEventListener( self , "onUpdateTick" , TensionBelts )\n                                        SpecializationUtil.removeEventListener( self , "onDraw" , TensionBelts )\n                                        SpecializationUtil.removeEventListener( self , "onRegisterActionEvents" , TensionBelts )\n\n                                        -- delete activation trigger as onDelete event is removed\n                                        if spec.activationTrigger ~ = nil then\n                                            removeTrigger(spec.activationTrigger)\n                                            spec.activationTrigger = nil\n                                        end\n                                    else\n                                            g_messageCenter:subscribe(MessageType.TREE_SHAPE_CUT, self.onTensionBeltTreeShapeCut, self )\n                                        end\n                                    end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"onpostload",children:"onPostLoad"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Called after loading"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onPostLoad(table savegame)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"table"}),(0,i.jsx)(n.th,{children:"savegame"}),(0,i.jsx)(n.th,{children:"savegame"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function TensionBelts:onPostLoad(savegame)\n    if savegame ~ = nil then\n        local spec = self.spec_tensionBelts\n\n        spec.beltsToLoad = { }\n        local i = 0\n        while true do\n            local key = string.format( "%s.tensionBelts.belt(%d)" , savegame.key, i)\n            if not savegame.xmlFile:hasProperty(key) then\n                break\n            end\n            if savegame.xmlFile:getValue(key .. "#isActive" ) then\n                table.insert(spec.beltsToLoad, i + 1 )\n            end\n            i = i + 1\n        end\n    end\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"onpredelete",children:"onPreDelete"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onPreDelete()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function TensionBelts:onPreDelete()\n    if self.spec_tensionBelts.sortedBelts ~ = nil then\n        for _, belt in pairs( self.spec_tensionBelts.sortedBelts) do\n            local objects, _ = self:getObjectToMount(belt)\n            for id, _ in pairs(objects) do\n                I3DUtil.wakeUpObject(id)\n            end\n        end\n    end\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"onreadstream",children:"onReadStream"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Called on client side on join"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onReadStream(integer streamId, Connection connection)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"integer"}),(0,i.jsx)(n.th,{children:"streamId"}),(0,i.jsx)(n.th,{children:"streamId"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Connection"}),(0,i.jsx)(n.td,{children:"connection"}),(0,i.jsx)(n.td,{children:"connection"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function TensionBelts:onReadStream(streamId, connection)\n    local spec = self.spec_tensionBelts\n\n    if spec.tensionBelts ~ = nil then\n        spec.beltsToLoad = { }\n        for k, _ in ipairs(spec.sortedBelts) do\n            local beltActive = streamReadBool(streamId)\n            if beltActive then\n                table.insert(spec.beltsToLoad, k)\n            end\n        end\n    end\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"onregisteractionevents",children:"onRegisterActionEvents"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onRegisterActionEvents()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"isActiveForInput"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"isActiveForInputIgnoreSelection"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function TensionBelts:onRegisterActionEvents(isActiveForInput, isActiveForInputIgnoreSelection)\n    local spec = self.spec_tensionBelts\n    if self.isClient and spec.hasTensionBelts then\n        self:clearActionEventsTable(spec.actionEvents)\n\n        if isActiveForInputIgnoreSelection then\n            local _, actionEventId = self:addActionEvent(spec.actionEvents, InputAction.TOGGLE_TENSION_BELTS, self , TensionBelts.actionEventToggleTensionBelts, false , true , false , true , nil )\n            g_inputBinding:setActionEventTextPriority(actionEventId, GS_PRIO_NORMAL)\n            self.toggleTensionBeltActionEvent = actionEventId\n        end\n    end\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"ontensionbelttreeshapecut",children:"onTensionBeltTreeShapeCut"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onTensionBeltTreeShapeCut()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"oldShape"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"shape"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function TensionBelts:onTensionBeltTreeShapeCut(oldShape, shape)\n    if self.isServer then\n        local spec = self.spec_tensionBelts\n        for objectId, data in pairs(spec.objectsToJoint) do\n            if objectId = = oldShape then\n                self:setAllTensionBeltsActive( false )\n            end\n        end\n    end\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"onupdate",children:"onUpdate"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Called on update"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onUpdate(float dt, boolean isActiveForInput, boolean isSelected, )"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"float"}),(0,i.jsx)(n.th,{children:"dt"}),(0,i.jsx)(n.th,{children:"time since last call in ms"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"boolean"}),(0,i.jsx)(n.td,{children:"isActiveForInput"}),(0,i.jsx)(n.td,{children:"true if vehicle is active for input"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"boolean"}),(0,i.jsx)(n.td,{children:"isSelected"}),(0,i.jsx)(n.td,{children:"true if vehicle is selected"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"isSelected"}),(0,i.jsx)(n.td,{})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function TensionBelts:onUpdate(dt, isActiveForInput, isActiveForInputIgnoreSelection, isSelected)\n    local spec = self.spec_tensionBelts\n\n    if spec.beltsToLoad ~ = nil then\n        if #spec.beltsToLoad > 0 then\n            local beltIndex = spec.beltsToLoad[#spec.beltsToLoad]\n\n            local noEventSend = false\n            if not self.isServer then\n                -- do not resend event to server after sync.Only send event after loading to make sure client have visible tension belts\n                    noEventSend = true\n                end\n                self:setTensionBeltsActive( true , spec.sortedBelts[beltIndex].id, noEventSend, false )\n\n                table.remove(spec.beltsToLoad, #spec.beltsToLoad)\n            else\n                    spec.beltsToLoad = nil\n                end\n            end\n\n            if self.isServer and spec.isDynamic then\n                local x,y,z = localToLocal(spec.linkNode, spec.jointNode, 0 , 0 , 0 )\n                local rx,ry,rz = localRotationToLocal(spec.linkNode, spec.jointNode, 0 , 0 , 0 )\n\n                local isDirty = false\n                if math.abs(x - spec.linkNodePosition[ 1 ]) > 0.001 or math.abs(y - spec.linkNodePosition[ 2 ]) > 0.001 or math.abs(z - spec.linkNodePosition[ 3 ]) > 0.001 or\n                    math.abs(rx - spec.linkNodeRotation[ 1 ]) > 0.001 or math.abs(ry - spec.linkNodeRotation[ 2 ]) > 0.001 or math.abs(rz - spec.linkNodeRotation[ 3 ]) > 0.001 then\n                    isDirty = true\n                end\n                if isDirty then\n                    spec.linkNodePosition[ 1 ], spec.linkNodePosition[ 2 ], spec.linkNodePosition[ 3 ] = x, y, z\n                    spec.linkNodeRotation[ 1 ], spec.linkNodeRotation[ 2 ], spec.linkNodeRotation[ 3 ] = rx, ry, rz\n                    for _, joint in pairs(spec.objectsToJoint) do\n                        setJointFrame(joint.jointIndex, 0 , joint.jointTransform)\n                    end\n                end\n            end\n\n            if self.isClient then\n                if spec.fastenedAllBeltsIndex > 0 then\n                    local belt = spec.sortedBelts[spec.fastenedAllBeltsIndex]\n                    if belt ~ = nil then\n                        self:setTensionBeltsActive(spec.fastenedAllBeltsState, belt.id, false )\n                    end\n\n                    spec.fastenedAllBeltsIndex = spec.fastenedAllBeltsIndex + 1\n                    if spec.fastenedAllBeltsIndex > #spec.sortedBelts then\n                        spec.fastenedAllBeltsIndex = - 1\n                    end\n                end\n            end\n\n            if TensionBelts.debugRendering then\n                for belt,_ in pairs(spec.belts) do\n                    DebugGizmo.renderAtNode(belt, belt.id, false , 0.5 )\n                    for i = 0 , getNumOfChildren(belt) - 1 do\n                        DebugGizmo.renderAtNode(getChildAt(belt, i), string.format( "%s-%d" , belt.id, i), false , 0.2 )\n                    end\n                end\n\n                if spec.checkBoxes ~ = nil then\n                    for _, box in pairs(spec.checkBoxes) do\n                        local p = box.points\n                        local c = box.color\n\n                        -- bottom\n                        drawDebugLine(p[ 1 ][ 1 ],p[ 1 ][ 2 ],p[ 1 ][ 3 ], c[ 1 ],c[ 2 ],c[ 3 ], p[ 2 ][ 1 ],p[ 2 ][ 2 ],p[ 2 ][ 3 ], c[ 1 ],c[ 2 ],c[ 3 ])\n                        drawDebugLine(p[ 2 ][ 1 ],p[ 2 ][ 2 ],p[ 2 ][ 3 ], c[ 1 ],c[ 2 ],c[ 3 ], p[ 3 ][ 1 ],p[ 3 ][ 2 ],p[ 3 ][ 3 ], c[ 1 ],c[ 2 ],c[ 3 ])\n                        drawDebugLine(p[ 3 ][ 1 ],p[ 3 ][ 2 ],p[ 3 ][ 3 ], c[ 1 ],c[ 2 ],c[ 3 ], p[ 4 ][ 1 ],p[ 4 ][ 2 ],p[ 4 ][ 3 ], c[ 1 ],c[ 2 ],c[ 3 ])\n                        drawDebugLine(p[ 4 ][ 1 ],p[ 4 ][ 2 ],p[ 4 ][ 3 ], c[ 1 ],c[ 2 ],c[ 3 ], p[ 1 ][ 1 ],p[ 1 ][ 2 ],p[ 1 ][ 3 ], c[ 1 ],c[ 2 ],c[ 3 ])\n                        -- top\n                        drawDebugLine(p[ 5 ][ 1 ],p[ 5 ][ 2 ],p[ 5 ][ 3 ], c[ 1 ],c[ 2 ],c[ 3 ], p[ 6 ][ 1 ],p[ 6 ][ 2 ],p[ 6 ][ 3 ], c[ 1 ],c[ 2 ],c[ 3 ])\n                        drawDebugLine(p[ 6 ][ 1 ],p[ 6 ][ 2 ],p[ 6 ][ 3 ], c[ 1 ],c[ 2 ],c[ 3 ], p[ 7 ][ 1 ],p[ 7 ][ 2 ],p[ 7 ][ 3 ], c[ 1 ],c[ 2 ],c[ 3 ])\n                        drawDebugLine(p[ 7 ][ 1 ],p[ 7 ][ 2 ],p[ 7 ][ 3 ], c[ 1 ],c[ 2 ],c[ 3 ], p[ 8 ][ 1 ],p[ 8 ][ 2 ],p[ 8 ][ 3 ], c[ 1 ],c[ 2 ],c[ 3 ])\n                        drawDebugLine(p[ 8 ][ 1 ],p[ 8 ][ 2 ],p[ 8 ][ 3 ], c[ 1 ],c[ 2 ],c[ 3 ], p[ 5 ][ 1 ],p[ 5 ][ 2 ],p[ 5 ][ 3 ], c[ 1 ],c[ 2 ],c[ 3 ])\n                        -- left\n                        drawDebugLine(p[ 1 ][ 1 ],p[ 1 ][ 2 ],p[ 1 ][ 3 ], c[ 1 ],c[ 2 ],c[ 3 ], p[ 5 ][ 1 ],p[ 5 ][ 2 ],p[ 5 ][ 3 ], c[ 1 ],c[ 2 ],c[ 3 ])\n                        drawDebugLine(p[ 4 ][ 1 ],p[ 4 ][ 2 ],p[ 4 ][ 3 ], c[ 1 ],c[ 2 ],c[ 3 ], p[ 8 ][ 1 ],p[ 8 ][ 2 ],p[ 8 ][ 3 ], c[ 1 ],c[ 2 ],c[ 3 ])\n                        -- right\n                        drawDebugLine(p[ 2 ][ 1 ],p[ 2 ][ 2 ],p[ 2 ][ 3 ], c[ 1 ],c[ 2 ],c[ 3 ], p[ 6 ][ 1 ],p[ 6 ][ 2 ],p[ 6 ][ 3 ], c[ 1 ],c[ 2 ],c[ 3 ])\n                        drawDebugLine(p[ 3 ][ 1 ],p[ 3 ][ 2 ],p[ 3 ][ 3 ], c[ 1 ],c[ 2 ],c[ 3 ], p[ 7 ][ 1 ],p[ 7 ][ 2 ],p[ 7 ][ 3 ], c[ 1 ],c[ 2 ],c[ 3 ])\n                        drawDebugPoint(p[ 9 ][ 1 ], p[ 9 ][ 2 ], p[ 9 ][ 3 ], 1 , 1 , 1 , 1 )\n                    end\n                end\n\n                local wx,wy,wz = localToWorld(spec.interactionBaseNode, spec.interactionBasePointX, 0 , spec.interactionBasePointZ)\n                drawDebugPoint(wx,wy,wz, 0 , 0 , 1 , 1 , false )\n\n                for i = 0 , 360 - 10 , 10 do\n                    local x,y,z = localToWorld(spec.interactionBaseNode, spec.interactionBasePointX + math.cos( math.rad(i)) * spec.totalInteractionRadius, 0 , spec.interactionBasePointZ + math.sin( math.rad(i)) * spec.totalInteractionRadius)\n                    drawDebugPoint(x, y, z, 1 , 1 , 1 , 1 )\n                    for _, belt in pairs(spec.singleBelts) do\n                        x,y,z = localToWorld(belt.startNode, math.cos( math.rad(i)) * spec.interactionRadius, 0 , math.sin( math.rad(i)) * spec.interactionRadius)\n                        drawDebugPoint(x, y, z, 0 , 1 , 0 , 1 )\n                        x,y,z = localToWorld(belt.endNode, math.cos( math.rad(i)) * spec.interactionRadius, 0 , math.sin( math.rad(i)) * spec.interactionRadius)\n                        drawDebugPoint(x, y, z, 1 , 0 , 0 , 1 )\n                    end\n                end\n            end\n\n            if spec.isPlayerInTrigger or spec.isPlayerInRange then\n                self:raiseActive()\n            end\n\n            -- create tension belt preview and control activation\n            local currentBelt\n            local wasInRange = spec.isPlayerInRange\n            spec.isPlayerInRange, currentBelt = self:getIsPlayerInTensionBeltsRange()\n            if spec.isPlayerInRange then\n                if currentBelt ~ = spec.currentBelt then\n                    if spec.currentBelt ~ = nil and spec.currentBelt.dummy ~ = nil then\n                        delete(spec.currentBelt.dummy)\n                        spec.currentBelt.dummy = nil\n                    end\n                    spec.currentBelt = currentBelt\n\n                    if spec.currentBelt ~ = nil and spec.currentBelt.mesh = = nil then\n                        local objects, _ = self:getObjectToMount(spec.currentBelt)\n                        self:createTensionBelt(spec.currentBelt, true , objects)\n                    end\n                end\n                g_currentMission.activatableObjectsSystem:addActivatable(spec.activatable)\n                spec.activatable:updateActivateText()\n            else\n                    if wasInRange then\n                        g_currentMission.activatableObjectsSystem:removeActivatable(spec.activatable)\n                        if spec.currentBelt ~ = nil and spec.currentBelt.dummy ~ = nil then\n                            delete(spec.currentBelt.dummy)\n                            spec.currentBelt.dummy = nil\n                            spec.currentBelt = nil\n                        end\n                    end\n                end\n            end\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"onupdatetick",children:"onUpdateTick"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Called on update tick"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onUpdateTick(float dt, boolean isActiveForInput, boolean isSelected, )"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"float"}),(0,i.jsx)(n.th,{children:"dt"}),(0,i.jsx)(n.th,{children:"time since last call in ms"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"boolean"}),(0,i.jsx)(n.td,{children:"isActiveForInput"}),(0,i.jsx)(n.td,{children:"true if vehicle is active for input"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"boolean"}),(0,i.jsx)(n.td,{children:"isSelected"}),(0,i.jsx)(n.td,{children:"true if vehicle is selected"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"isSelected"}),(0,i.jsx)(n.td,{})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function TensionBelts:onUpdateTick(dt, isActiveForInput, isActiveForInputIgnoreSelection, isSelected)\n    local spec = self.spec_tensionBelts\n\n    if not spec.hasTensionBelts then\n        return\n    end\n\n    if self.isServer and spec.tensionBelts ~ = nil then\n        spec.checkTimer = spec.checkTimer - dt\n        if spec.checkTimer < 0 then\n            -- check if entities have been deleted\n                local needUpdate = false\n                for phyiscObject, _ in pairs(spec.objectsToJoint) do\n                    if not entityExists(phyiscObject) then\n                        spec.objectsToJoint[phyiscObject] = nil\n                        needUpdate = true\n                        break\n                    end\n                end\n                if needUpdate then\n                    self:refreshTensionBelts()\n                end\n\n                spec.checkTimer = spec.checkTimerDuration\n            end\n        end\n    end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"onwritestream",children:"onWriteStream"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Called on server side on join"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"onWriteStream(integer streamId, Connection connection)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"integer"}),(0,i.jsx)(n.th,{children:"streamId"}),(0,i.jsx)(n.th,{children:"streamId"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Connection"}),(0,i.jsx)(n.td,{children:"connection"}),(0,i.jsx)(n.td,{children:"connection"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function TensionBelts:onWriteStream(streamId, connection)\n    local spec = self.spec_tensionBelts\n\n    if spec.tensionBelts ~ = nil then\n        for _, belt in ipairs(spec.sortedBelts) do\n            streamWriteBool(streamId, belt.mesh ~ = nil )\n        end\n    end\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"prerequisitespresent",children:"prerequisitesPresent"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"prerequisitesPresent()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"specializations"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function TensionBelts.prerequisitesPresent(specializations)\n    return true\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"refreshtensionbelts",children:"refreshTensionBelts"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"refreshTensionBelts()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function TensionBelts:refreshTensionBelts()\n    if self.isServer then\n        if g_server ~ = nil then\n            g_server:broadcastEvent( TensionBeltsRefreshEvent.new( self ), nil , nil , self )\n        end\n    end\n    for _, belt in pairs( self.spec_tensionBelts.sortedBelts) do\n        if belt.mesh ~ = nil then\n            self:removeTensionBelt(belt)\n            local objects, _ = self:getObjectToMount(belt)\n            self:createTensionBelt(belt, false , objects)\n        end\n    end\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"registereventlisteners",children:"registerEventListeners"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"registerEventListeners()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function TensionBelts.registerEventListeners(vehicleType)\n    SpecializationUtil.registerEventListener(vehicleType, "onLoad" , TensionBelts )\n    SpecializationUtil.registerEventListener(vehicleType, "onPostLoad" , TensionBelts )\n    SpecializationUtil.registerEventListener(vehicleType, "onDelete" , TensionBelts )\n    SpecializationUtil.registerEventListener(vehicleType, "onPreDelete" , TensionBelts )\n    SpecializationUtil.registerEventListener(vehicleType, "onReadStream" , TensionBelts )\n    SpecializationUtil.registerEventListener(vehicleType, "onWriteStream" , TensionBelts )\n    SpecializationUtil.registerEventListener(vehicleType, "onUpdate" , TensionBelts )\n    SpecializationUtil.registerEventListener(vehicleType, "onUpdateTick" , TensionBelts )\n    SpecializationUtil.registerEventListener(vehicleType, "onDraw" , TensionBelts )\n    SpecializationUtil.registerEventListener(vehicleType, "onRegisterActionEvents" , TensionBelts )\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"registerfunctions",children:"registerFunctions"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"registerFunctions()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function TensionBelts.registerFunctions(vehicleType)\n    SpecializationUtil.registerFunction(vehicleType, "createTensionBelt" , TensionBelts.createTensionBelt)\n    SpecializationUtil.registerFunction(vehicleType, "removeTensionBelt" , TensionBelts.removeTensionBelt)\n    SpecializationUtil.registerFunction(vehicleType, "setTensionBeltsActive" , TensionBelts.setTensionBeltsActive)\n    SpecializationUtil.registerFunction(vehicleType, "setAllTensionBeltsActive" , TensionBelts.setAllTensionBeltsActive)\n    SpecializationUtil.registerFunction(vehicleType, "objectOverlapCallback" , TensionBelts.objectOverlapCallback)\n    SpecializationUtil.registerFunction(vehicleType, "getTensionBeltObjectCanBeMounted" , TensionBelts.getTensionBeltObjectCanBeMounted)\n    SpecializationUtil.registerFunction(vehicleType, "getObjectToMount" , TensionBelts.getObjectToMount)\n    SpecializationUtil.registerFunction(vehicleType, "getObjectsToUnmount" , TensionBelts.getObjectsToUnmount)\n    SpecializationUtil.registerFunction(vehicleType, "updateFastenState" , TensionBelts.updateFastenState)\n    SpecializationUtil.registerFunction(vehicleType, "refreshTensionBelts" , TensionBelts.refreshTensionBelts)\n    SpecializationUtil.registerFunction(vehicleType, "freeTensionBeltObject" , TensionBelts.freeTensionBeltObject)\n    SpecializationUtil.registerFunction(vehicleType, "lockTensionBeltObject" , TensionBelts.lockTensionBeltObject)\n    SpecializationUtil.registerFunction(vehicleType, "getIsPlayerInTensionBeltsRange" , TensionBelts.getIsPlayerInTensionBeltsRange)\n    SpecializationUtil.registerFunction(vehicleType, "getIsDynamicallyMountedNode" , TensionBelts.getIsDynamicallyMountedNode)\n    SpecializationUtil.registerFunction(vehicleType, "tensionBeltActivationTriggerCallback" , TensionBelts.tensionBeltActivationTriggerCallback)\n    SpecializationUtil.registerFunction(vehicleType, "onTensionBeltTreeShapeCut" , TensionBelts.onTensionBeltTreeShapeCut)\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"registeroverwrittenfunctions",children:"registerOverwrittenFunctions"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"registerOverwrittenFunctions()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(n.table,{children:(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function TensionBelts.registerOverwrittenFunctions(vehicleType)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getIsReadyForAutomatedTrainTravel" , TensionBelts.getIsReadyForAutomatedTrainTravel)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getCanBeSelected" , TensionBelts.getCanBeSelected)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getIsFoldAllowed" , TensionBelts.getIsFoldAllowed)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "loadMovingToolFromXML" , TensionBelts.loadMovingToolFromXML)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getIsMovingToolActive" , TensionBelts.getIsMovingToolActive)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getCanDischargeToGround" , TensionBelts.getCanDischargeToGround)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getCanDischargeToObject" , TensionBelts.getCanDischargeToObject)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getFillLevelInformation" , TensionBelts.getFillLevelInformation)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getHasObjectMounted" , TensionBelts.getHasObjectMounted)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getAdditionalComponentMass" , TensionBelts.getAdditionalComponentMass)\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"removetensionbelt",children:"removeTensionBelt"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Remove tension belt"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"removeTensionBelt(table belt, boolean playSound)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"table"}),(0,i.jsx)(n.th,{children:"belt"}),(0,i.jsx)(n.th,{children:"belt to remove"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"boolean"}),(0,i.jsx)(n.td,{children:"playSound"}),(0,i.jsx)(n.td,{children:"play sound (nil = true)"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function TensionBelts:removeTensionBelt(belt, playSound)\n    if belt.mesh ~ = nil then\n        local spec = self.spec_tensionBelts\n\n        spec.belts[belt.mesh] = nil\n        delete(belt.mesh)\n        belt.mesh = nil\n        if spec.currentBelt = = belt then\n            spec.currentBelt = nil\n        end\n\n        if belt.dummy = = nil and playSound ~ = false then\n            if self.isClient then\n                g_soundManager:playSample(spec.samples.toggleBelt)\n                g_soundManager:playSample(spec.samples.removeBelt)\n            end\n        end\n    end\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"savetoxmlfile",children:"saveToXMLFile"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"saveToXMLFile()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"xmlFile"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"key"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"usedModNames"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'function TensionBelts:saveToXMLFile(xmlFile, key, usedModNames)\n    local spec = self.spec_tensionBelts\n\n    if spec.hasTensionBelts then\n        for i, belt in ipairs(spec.sortedBelts) do\n            local beltKey = string.format( "%s.belt(%d)" , key, i - 1 )\n            xmlFile:setValue(beltKey .. "#isActive" , belt.mesh ~ = nil )\n        end\n    end\nend\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"setalltensionbeltsactive",children:"setAllTensionBeltsActive"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Set tensionbelts active state"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"setAllTensionBeltsActive()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"isActive"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"noEventSend"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function TensionBelts:setAllTensionBeltsActive(isActive, noEventSend)\n    local spec = self.spec_tensionBelts\n\n    if spec.hasTensionBelts then\n        isActive = Utils.getNoNil(isActive, not spec.areAllBeltsFastened)\n        for _, belt in pairs(spec.sortedBelts) do\n            self:setTensionBeltsActive(isActive, belt.id, noEventSend)\n        end\n    end\nend\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"settensionbeltsactive",children:"setTensionBeltsActive"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Set tensionbelts active state"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"setTensionBeltsActive(boolean isActive, integer beltId, boolean playSound, )"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"boolean"}),(0,i.jsx)(n.th,{children:"isActive"}),(0,i.jsx)(n.th,{children:"new active state"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"integer"}),(0,i.jsx)(n.td,{children:"beltId"}),(0,i.jsx)(n.td,{children:"id of belt to set state (if id is nil it uses every belt)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"boolean"}),(0,i.jsx)(n.td,{children:"playSound"}),(0,i.jsx)(n.td,{children:"play sound (nil = true)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"playSound"}),(0,i.jsx)(n.td,{})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function TensionBelts:setTensionBeltsActive(isActive, beltId, noEventSend, playSound)\n    local spec = self.spec_tensionBelts\n\n    if spec.tensionBelts ~ = nil then\n        TensionBeltsEvent.sendEvent( self , isActive, beltId, noEventSend)\n\n        local belt = nil\n        if beltId ~ = nil then\n            belt = spec.sortedBelts[beltId]\n        end\n\n        if isActive then\n            local objects, _ = self:getObjectToMount(belt)\n            if belt = = nil then\n                for _, singleBelt in pairs(spec.singleBelts) do\n                    if singleBelt.mesh = = nil then\n                        self:createTensionBelt(singleBelt, false , objects, playSound)\n                    end\n                end\n            else\n                    if belt.mesh = = nil then\n                        self:createTensionBelt(belt, false , objects, playSound)\n                    end\n                end\n\n                for _, data in pairs(objects) do\n                    self:lockTensionBeltObject(data.physics, spec.objectsToJoint, spec.isDynamic, belt.jointNode or spec.jointNode, data.object)\n                    if data.object ~ = nil then\n                        data.object.tensionMountObject = self\n                    end\n                end\n            else\n                    if belt = = nil then\n                        for _, singleBelt in pairs(spec.singleBelts) do\n                            self:removeTensionBelt(singleBelt, playSound)\n                        end\n                    else\n                            self:removeTensionBelt(belt, playSound)\n                        end\n\n                        -- remove joints\n                        local objectIds, _ = self:getObjectsToUnmount(belt)\n                        for objectId, objectData in pairs(objectIds) do\n                            self:freeTensionBeltObject(objectId, spec.objectsToJoint, spec.isDynamic, objectData.object)\n\n                            if objectData.object ~ = nil then\n                                objectData.object.tensionMountObject = nil\n                            end\n                        end\n                    end\n\n                    if belt ~ = nil then\n                        ObjectChangeUtil.setObjectChanges(belt.changeObjects, isActive, self , self.setMovingToolDirty)\n                    end\n\n                    self:updateFastenState()\n                end\n            end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"tensionbeltactivationtriggercallback",children:"tensionBeltActivationTriggerCallback"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"tensionBeltActivationTriggerCallback()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"any"}),(0,i.jsx)(n.th,{children:"triggerId"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"otherActorId"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"onEnter"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"onLeave"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"onStay"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"otherShapeId"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function TensionBelts:tensionBeltActivationTriggerCallback(triggerId, otherActorId, onEnter, onLeave, onStay, otherShapeId)\n    local spec = self.spec_tensionBelts\n    if self.isClient and spec.hasTensionBelts then\n        if onEnter or onLeave then\n            if g_localPlayer ~ = nil and otherActorId = = g_localPlayer.rootNode then\n                if onEnter then\n                    self:raiseActive()\n                    spec.isPlayerInTrigger = true\n                else\n                        spec.isPlayerInTrigger = false\n                    end\n                end\n            end\n        end\n    end\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"updatefastenstate",children:"updateFastenState"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Description"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Update 'self.areAllBeltsFastened'"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"updateFastenState()"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Code"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function TensionBelts:updateFastenState()\n    local spec = self.spec_tensionBelts\n\n    local hasUnfastenedBelts = false\n    for _, belt in pairs(spec.singleBelts) do\n        if belt.mesh = = nil then\n            hasUnfastenedBelts = true\n            break\n        end\n    end\n\n    spec.areAllBeltsFastened = not hasUnfastenedBelts\nend\n\n"})})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},28453(e,n,t){t.d(n,{R:()=>o,x:()=>r});var s=t(96540);const i={},l=s.createContext(i);function o(e){const n=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);