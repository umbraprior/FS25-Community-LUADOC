"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[12916],{25527(e,n,l){l.r(n),l.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>a,frontMatter:()=>r,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"script/Specializations/Shovel","title":"Shovel","description":"Shovel","source":"@site/../docs/script/Specializations/Shovel.md","sourceDirName":"script/Specializations","slug":"/script/Specializations/Shovel","permalink":"/FS25-Community-LUADOC/script/Specializations/Shovel","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"SemiTrailerFront","permalink":"/FS25-Community-LUADOC/script/Specializations/SemiTrailerFront"},"next":{"title":"SlopeCompensation","permalink":"/FS25-Community-LUADOC/script/Specializations/SlopeCompensation"}}');var s=l(74848),t=l(28453);const r={},d=void 0,c={},o=[{value:"Shovel",id:"shovel",level:2},{value:"doCheckSpeedLimit",id:"docheckspeedlimit",level:3},{value:"getCanShovelAtPosition",id:"getcanshovelatposition",level:3},{value:"getCanToggleDischargeToGround",id:"getcantoggledischargetoground",level:3},{value:"getCanToggleDischargeToObject",id:"getcantoggledischargetoobject",level:3},{value:"getDischargeNodeEmptyFactor",id:"getdischargenodeemptyfactor",level:3},{value:"getIsDischargeNodeActive",id:"getisdischargenodeactive",level:3},{value:"getIsShovelEffectState",id:"getisshoveleffectstate",level:3},{value:"getShovelNodeIsActive",id:"getshovelnodeisactive",level:3},{value:"getShovelTipFactor",id:"getshoveltipfactor",level:3},{value:"getWearMultiplier",id:"getwearmultiplier",level:3},{value:"handleDischarge",id:"handledischarge",level:3},{value:"handleDischargeOnEmpty",id:"handledischargeonempty",level:3},{value:"handleDischargeRaycast",id:"handledischargeraycast",level:3},{value:"initSpecialization",id:"initspecialization",level:3},{value:"loadShovelNode",id:"loadshovelnode",level:3},{value:"onDelete",id:"ondelete",level:3},{value:"onFillUnitFillLevelChanged",id:"onfillunitfilllevelchanged",level:3},{value:"onLoad",id:"onload",level:3},{value:"onReadStream",id:"onreadstream",level:3},{value:"onReadUpdateStream",id:"onreadupdatestream",level:3},{value:"onUpdateTick",id:"onupdatetick",level:3},{value:"onWriteStream",id:"onwritestream",level:3},{value:"onWriteUpdateStream",id:"onwriteupdatestream",level:3},{value:"prerequisitesPresent",id:"prerequisitespresent",level:3},{value:"registerEventListeners",id:"registereventlisteners",level:3},{value:"registerFunctions",id:"registerfunctions",level:3},{value:"registerOverwrittenFunctions",id:"registeroverwrittenfunctions",level:3},{value:"updateDebugValues",id:"updatedebugvalues",level:3}];function h(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"shovel",children:"Shovel"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Specialization for shovels providing functionality to pick up filltypes from the ground"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Functions"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#docheckspeedlimit",children:"doCheckSpeedLimit"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getcanshovelatposition",children:"getCanShovelAtPosition"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getcantoggledischargetoground",children:"getCanToggleDischargeToGround"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getcantoggledischargetoobject",children:"getCanToggleDischargeToObject"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getdischargenodeemptyfactor",children:"getDischargeNodeEmptyFactor"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getisdischargenodeactive",children:"getIsDischargeNodeActive"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getisshoveleffectstate",children:"getIsShovelEffectState"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getshovelnodeisactive",children:"getShovelNodeIsActive"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getshoveltipfactor",children:"getShovelTipFactor"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#getwearmultiplier",children:"getWearMultiplier"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#handledischarge",children:"handleDischarge"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#handledischargeonempty",children:"handleDischargeOnEmpty"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#handledischargeraycast",children:"handleDischargeRaycast"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#initspecialization",children:"initSpecialization"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#loadshovelnode",children:"loadShovelNode"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#ondelete",children:"onDelete"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onfillunitfilllevelchanged",children:"onFillUnitFillLevelChanged"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onload",children:"onLoad"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onreadstream",children:"onReadStream"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onreadupdatestream",children:"onReadUpdateStream"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onupdatetick",children:"onUpdateTick"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onwritestream",children:"onWriteStream"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#onwriteupdatestream",children:"onWriteUpdateStream"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#prerequisitespresent",children:"prerequisitesPresent"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#registereventlisteners",children:"registerEventListeners"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#registerfunctions",children:"registerFunctions"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#registeroverwrittenfunctions",children:"registerOverwrittenFunctions"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#updatedebugvalues",children:"updateDebugValues"})}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"docheckspeedlimit",children:"doCheckSpeedLimit"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Returns if speed limit should be checked"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"doCheckSpeedLimit()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"checkSpeedlimit"}),(0,s.jsx)(n.th,{children:"check speed limit"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Shovel:doCheckSpeedLimit(superFunc)\n    return superFunc( self ) or( self.spec_shovel.useSpeedLimit and( self.getIsTurnedOn = = nil or self:getIsTurnedOn()))\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getcanshovelatposition",children:"getCanShovelAtPosition"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getCanShovelAtPosition()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"shovelNode"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Shovel:getCanShovelAtPosition(shovelNode)\n    if shovelNode = = nil then\n        return false\n    end\n\n    if shovelNode.ignoreFarmlandState then\n        return true\n    end\n\n    local sx,_,sz = localToWorld(shovelNode.node, - shovelNode.width * 0.5 , 0 , 0 )\n    local activeFarm = self:getActiveFarm()\n\n    local ex,_,ez = localToWorld(shovelNode.node, shovelNode.width * 0.5 , 0 , 0 )\n\n    if g_densityMapHeightManager:getIsInFreeAccessArea(sx, sz, ex, ez) then\n        return true\n    end\n\n    local isStartOwned = g_currentMission.accessHandler:canFarmAccessLand(activeFarm, sx, sz)\n    if not isStartOwned then\n        return false\n    end\n\n    return g_currentMission.accessHandler:canFarmAccessLand(activeFarm, ex, ez)\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getcantoggledischargetoground",children:"getCanToggleDischargeToGround"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getCanToggleDischargeToGround()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Shovel:getCanToggleDischargeToGround(superFunc)\n    if self.spec_shovel.shovelDischargeInfo.node ~ = nil then\n        return false\n    end\n\n    return superFunc( self )\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getcantoggledischargetoobject",children:"getCanToggleDischargeToObject"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getCanToggleDischargeToObject()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Shovel:getCanToggleDischargeToObject(superFunc)\n    if self.spec_shovel.shovelDischargeInfo.node ~ = nil then\n        return false\n    end\n\n    return superFunc( self )\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getdischargenodeemptyfactor",children:"getDischargeNodeEmptyFactor"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getDischargeNodeEmptyFactor()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"superFunc"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"dischargeNode"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Shovel:getDischargeNodeEmptyFactor(superFunc, dischargeNode)\n    local spec = self.spec_shovel\n\n    local parentFactor = superFunc( self , dischargeNode)\n\n    local info = spec.shovelDischargeInfo\n    if info.node ~ = nil then\n        if info.dischargeNodeIndex = = dischargeNode.index then\n            return parentFactor * self:getShovelTipFactor()\n        end\n    end\n\n    return parentFactor\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getisdischargenodeactive",children:"getIsDischargeNodeActive"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getIsDischargeNodeActive()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"superFunc"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"dischargeNode"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Shovel:getIsDischargeNodeActive(superFunc, dischargeNode)\n    local spec = self.spec_shovel\n\n    local info = spec.shovelDischargeInfo\n    if info.node ~ = nil then\n        if info.dischargeNodeIndex = = dischargeNode.index then\n            if self:getShovelTipFactor() = = 0 then\n                return false\n            end\n        end\n    end\n\n    return superFunc( self , dischargeNode)\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getisshoveleffectstate",children:"getIsShovelEffectState"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Returns if shovel effect is active"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getIsShovelEffectState()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"isActive"}),(0,s.jsx)(n.th,{children:"shovel effect is active"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Shovel:getIsShovelEffectState()\n    local spec = self.spec_shovel\n    return spec.loadingFillType ~ = FillType.UNKNOWN, spec.loadingFillType\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getshovelnodeisactive",children:"getShovelNodeIsActive"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getShovelNodeIsActive()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"shovelNode"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Shovel:getShovelNodeIsActive(shovelNode)\n    local isActive = true\n\n    if shovelNode.needsMovement then\n        local x,y,z = getWorldTranslation(shovelNode.node)\n        local _,_,dz = worldToLocal(shovelNode.node, shovelNode.lastPosition[ 1 ], shovelNode.lastPosition[ 2 ], shovelNode.lastPosition[ 3 ])\n        isActive = isActive and dz < 0\n\n        shovelNode.lastPosition[ 1 ] = x\n        shovelNode.lastPosition[ 2 ] = y\n        shovelNode.lastPosition[ 3 ] = z\n    end\n\n    if shovelNode.maxPickupAngle ~ = nil then\n        local _,dy,_ = localDirectionToWorld(shovelNode.node, 0 , 0 , 1 )\n        local angle = math.acos(dy)\n        if angle > shovelNode.maxPickupAngle then\n            return false\n        end\n    end\n\n    if shovelNode.needsAttacherVehicle then\n        if self.getAttacherVehicle ~ = nil and self:getAttacherVehicle() = = nil then\n            return false\n        end\n    end\n\n    return isActive\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getshoveltipfactor",children:"getShovelTipFactor"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getShovelTipFactor()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Shovel:getShovelTipFactor()\n    local spec = self.spec_shovel\n\n    local info = spec.shovelDischargeInfo\n    if info.node ~ = nil then\n        local _,dy,_ = localDirectionToWorld(info.node, 0 , 0 , 1 )\n        local angle = math.acos(dy)\n        if angle > info.minSpeedAngle then\n            return math.max( 0 , math.min( 1.0 , (angle - info.minSpeedAngle) / (info.maxSpeedAngle - info.minSpeedAngle)))\n        end\n    end\n\n    return 0\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getwearmultiplier",children:"getWearMultiplier"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Returns current wear multiplier"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"getWearMultiplier()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"superFunc"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"wearMultiplier"}),(0,s.jsx)(n.th,{children:"current wear multiplier"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Shovel:getWearMultiplier(superFunc)\n    local spec = self.spec_shovel\n    local multiplier = superFunc( self )\n\n    if spec.loadingFillType ~ = FillType.UNKNOWN then\n        multiplier = multiplier + self:getWorkWearMultiplier()\n    end\n\n    return multiplier\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"handledischarge",children:"handleDischarge"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"handleDischarge()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"superFunc"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"dischargeNode"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"dischargedLiters"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"minDropReached"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"hasMinDropFillLevel"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Shovel:handleDischarge(superFunc, dischargeNode, dischargedLiters, minDropReached, hasMinDropFillLevel)\n    local spec = self.spec_shovel\n    -- do nothing if it is shovel dischargenode\n        if dischargeNode.index ~ = spec.shovelDischargeInfo.dischargeNodeIndex or spec.shovelDischargeInfo.node = = nil then\n            superFunc( self , dischargeNode, dischargedLiters, minDropReached, hasMinDropFillLevel)\n        end\n    end\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"handledischargeonempty",children:"handleDischargeOnEmpty"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"handleDischargeOnEmpty()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"superFunc"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"dischargedLiters"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"minDropReached"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"hasMinDropFillLevel"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Shovel:handleDischargeOnEmpty(superFunc, dischargedLiters, minDropReached, hasMinDropFillLevel)\n    if self.spec_shovel.shovelDischargeInfo.node = = nil then\n        superFunc( self , dischargedLiters, minDropReached, hasMinDropFillLevel)\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"handledischargeraycast",children:"handleDischargeRaycast"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"handleDischargeRaycast()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"superFunc"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"dischargeNode"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"hitObject"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"hitShape"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"hitDistance"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"hitFillUnitIndex"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"hitTerrain"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function Shovel:handleDischargeRaycast(superFunc, dischargeNode, hitObject, hitShape, hitDistance, hitFillUnitIndex, hitTerrain)\n    local spec = self.spec_shovel\n    if spec.shovelDischargeInfo.node ~ = nil and spec.shovelDischargeInfo.dischargeNodeIndex = = dischargeNode.index then\n        if hitObject ~ = nil then\n            local fillType = self:getDischargeFillType(dischargeNode)\n            local allowFillType = hitObject:getFillUnitAllowsFillType(hitFillUnitIndex, fillType)\n            if allowFillType and hitObject:getFillUnitFreeCapacity(hitFillUnitIndex, fillType, self:getOwnerFarmId()) > 0 then\n                self:setDischargeState( Dischargeable.DISCHARGE_STATE_OBJECT, true )\n            else\n                    if self:getDischargeState() = = Dischargeable.DISCHARGE_STATE_OBJECT then\n                        self:setDischargeState( Dischargeable.DISCHARGE_STATE_OFF, true )\n                    end\n                end\n            else\n                    local fillLevel = self:getFillUnitFillLevel(dischargeNode.fillUnitIndex)\n                    if fillLevel > 0 and self:getShovelTipFactor() > 0 then\n                        if self:getCanDischargeToGround(dischargeNode) then\n                            if self:getCanDischargeToLand(dischargeNode) then\n                                if self:getCanDischargeAtPosition(dischargeNode) then\n                                    self:setDischargeState( Dischargeable.DISCHARGE_STATE_GROUND, true )\n                                else\n                                        if self.isActiveForInputIgnoreSelectionIgnoreAI then\n                                            local warning = self:getDischargeNotAllowedWarning(dischargeNode)\n                                            g_currentMission:showBlinkingWarning(warning, 500 )\n                                        end\n                                    end\n                                else\n                                        if self.isActiveForInputIgnoreSelectionIgnoreAI then\n                                            g_currentMission:showBlinkingWarning(g_i18n:getText( "warning_youDontHaveAccessToThisLand" ), 500 )\n                                        end\n                                    end\n                                end\n                            end\n                        end\n                    else\n                            superFunc( self , dischargeNode, hitObject, hitShape, hitDistance, hitFillUnitIndex, hitTerrain)\n                        end\n                    end\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"initspecialization",children:"initSpecialization"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"initSpecialization()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function Shovel.initSpecialization()\n    local schema = Vehicle.xmlSchema\n    schema:setXMLSpecializationType( "Shovel" )\n\n    schema:register(XMLValueType.BOOL, "vehicle.shovel#ignoreFillUnitFillType" , "Ignore fill unit fill type" , false )\n    schema:register(XMLValueType.BOOL, "vehicle.shovel#useSpeedLimit" , "Use speed limit while shovel is turned on" , false )\n\n        schema:register(XMLValueType.NODE_INDEX, Shovel.SHOVEL_NODE_XML_KEY .. "#node" , "Shovel node" )\n        schema:register(XMLValueType.INT, Shovel.SHOVEL_NODE_XML_KEY .. "#fillUnitIndex" , "Fill unit index" , 1 )\n        schema:register(XMLValueType.INT, Shovel.SHOVEL_NODE_XML_KEY .. "#loadInfoIndex" , "Load info index" , 1 )\n        schema:register(XMLValueType.FLOAT, Shovel.SHOVEL_NODE_XML_KEY .. "#width" , "Shovel node width" , 1 )\n        schema:register(XMLValueType.FLOAT, Shovel.SHOVEL_NODE_XML_KEY .. "#length" , "Shovel node length" , 0.5 )\n        schema:register(XMLValueType.FLOAT, Shovel.SHOVEL_NODE_XML_KEY .. "#yOffset" , "Shovel node y offset" , 0 )\n        schema:register(XMLValueType.FLOAT, Shovel.SHOVEL_NODE_XML_KEY .. "#zOffset" , "Shovel node z offset" , 0 )\n        schema:register(XMLValueType.BOOL, Shovel.SHOVEL_NODE_XML_KEY .. "#needsMovement" , "Needs movement" , true )\n        schema:register(XMLValueType.FLOAT, Shovel.SHOVEL_NODE_XML_KEY .. "#fillLitersPerSecond" , "Fill liters per second" , "inf." )\n        schema:register(XMLValueType.ANGLE, Shovel.SHOVEL_NODE_XML_KEY .. "#maxPickupAngle" , "Max.pickup angle" )\n        schema:register(XMLValueType.BOOL, Shovel.SHOVEL_NODE_XML_KEY .. "#needsAttacherVehicle" , "Needs attacher vehicle connected" , true )\n        schema:register(XMLValueType.BOOL, Shovel.SHOVEL_NODE_XML_KEY .. "#resetFillLevel" , "Reset fill level to zero while the shovel node is not active" , false )\n            schema:register(XMLValueType.BOOL, Shovel.SHOVEL_NODE_XML_KEY .. "#ignoreFillLevel" , "Ignore fill level of the fill unit while filling" , false )\n                schema:register(XMLValueType.BOOL, Shovel.SHOVEL_NODE_XML_KEY .. "#ignoreFarmlandState" , "Ignore farmland state for pickup" , false )\n                    schema:register(XMLValueType.BOOL, Shovel.SHOVEL_NODE_XML_KEY .. ".smoothing#allowed" , "Leveler smoothes while driving backward" , false )\n                        schema:register(XMLValueType.FLOAT, Shovel.SHOVEL_NODE_XML_KEY .. ".smoothing#radius" , "Smooth ground radius" , 0.5 )\n                        schema:register(XMLValueType.FLOAT, Shovel.SHOVEL_NODE_XML_KEY .. ".smoothing#overlap" , "Radius overlap" , 1.7 )\n\n                        schema:register(XMLValueType.INT, "vehicle.shovel.dischargeInfo#dischargeNodeIndex" , "Discharge node index" , 1 )\n                        schema:register(XMLValueType.NODE_INDEX, "vehicle.shovel.dischargeInfo#node" , "Discharge info node" )\n\n                        schema:register(XMLValueType.ANGLE, "vehicle.shovel.dischargeInfo#minSpeedAngle" , "Discharge info min.speed angle" )\n                        schema:register(XMLValueType.ANGLE, "vehicle.shovel.dischargeInfo#maxSpeedAngle" , "Discharge info max.speed angle" )\n\n                        EffectManager.registerEffectXMLPaths(schema, "vehicle.shovel.fillEffect" )\n\n                        schema:setXMLSpecializationType()\n                    end\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"loadshovelnode",children:"loadShovelNode"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"loadShovelNode()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"xmlFile"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"key"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"shovelNode"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function Shovel:loadShovelNode(xmlFile, key, shovelNode)\n    shovelNode.node = xmlFile:getValue(key .. "#node" , nil , self.components, self.i3dMappings)\n    if shovelNode.node = = nil then\n        Logging.xmlWarning( self.xmlFile, "Missing \'node\' for shovelNode \'%s\'!" , key)\n            return false\n        end\n\n        shovelNode.fillUnitIndex = xmlFile:getValue(key .. "#fillUnitIndex" , 1 )\n        shovelNode.loadInfoIndex = xmlFile:getValue(key .. "#loadInfoIndex" , 1 )\n\n        shovelNode.width = xmlFile:getValue(key .. "#width" , 1 )\n        shovelNode.length = xmlFile:getValue(key .. "#length" , 0.5 )\n        shovelNode.yOffset = xmlFile:getValue(key .. "#yOffset" , 0 )\n        shovelNode.zOffset = xmlFile:getValue(key .. "#zOffset" , 0 )\n\n        shovelNode.needsMovement = xmlFile:getValue(key .. "#needsMovement" , true )\n        shovelNode.lastPosition = { 0 , 0 , 0 }\n\n        shovelNode.fillLitersPerSecond = xmlFile:getValue(key .. "#fillLitersPerSecond" , math.huge) / 1000\n        shovelNode.maxPickupAngle = xmlFile:getValue(key .. "#maxPickupAngle" )\n\n        shovelNode.needsAttacherVehicle = xmlFile:getValue(key .. "#needsAttacherVehicle" , true )\n\n        shovelNode.resetFillLevel = xmlFile:getValue(key .. "#resetFillLevel" , false )\n        shovelNode.ignoreFillLevel = xmlFile:getValue(key .. "#ignoreFillLevel" , false )\n        shovelNode.ignoreFarmlandState = xmlFile:getValue(key .. "#ignoreFarmlandState" , false )\n\n        shovelNode.allowsSmoothing = xmlFile:getValue(key .. ".smoothing#allowed" , false )\n        shovelNode.smoothGroundRadius = xmlFile:getValue(key .. ".smoothing#radius" , 0.5 )\n        shovelNode.smoothOverlap = xmlFile:getValue(key .. ".smoothing#overlap" , 1.7 )\n\n        return true\n    end\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"ondelete",children:"onDelete"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onDelete()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Shovel:onDelete()\n    local spec = self.spec_shovel\n    g_effectManager:deleteEffects(spec.fillEffects)\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onfillunitfilllevelchanged",children:"onFillUnitFillLevelChanged"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onFillUnitFillLevelChanged()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"fillUnitIndex"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"fillLevelDelta"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"fillTypeIndex"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"toolType"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"fillPositionData"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"appliedDelta"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Shovel:onFillUnitFillLevelChanged(fillUnitIndex, fillLevelDelta, fillTypeIndex, toolType, fillPositionData, appliedDelta)\n    if self.isServer then\n        local spec = self.spec_shovel\n        for _,shovelNode in pairs(spec.shovelNodes) do\n            if shovelNode.fillUnitIndex = = fillUnitIndex then\n                if shovelNode.capacityChanged then\n                    local fillUnit = self:getFillUnitByIndex(fillUnitIndex)\n\n                    if fillUnit.fillLevel < = fillUnit.defaultCapacity then\n                        self:setFillUnitCapacity(fillUnitIndex, fillUnit.defaultCapacity)\n                        shovelNode.capacityChanged = false\n                    end\n                end\n            end\n        end\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onload",children:"onLoad"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onLoad()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"savegame"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function Shovel:onLoad(savegame)\n    local spec = self.spec_shovel\n\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.shovel#pickUpNode" , "vehicle.shovel.shovelNode#node" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.shovel#pickUpWidth" , "vehicle.shovel.shovelNode#width" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.shovel#pickUpLength" , "vehicle.shovel.shovelNode#length" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.shovel#pickUpYOffset" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.shovel#pickUpRequiresMovement" , "vehicle.shovel.shovelNode#needsMovement" ) --FS17 to FS19\n    XMLUtil.checkDeprecatedXMLElements( self.xmlFile, "vehicle.shovel#pickUpNeedsToBeTurnedOn" , "vehicle.shovel.shovelNode#needsActivation" ) --FS17 to FS19\n\n    spec.ignoreFillUnitFillType = self.xmlFile:getValue( "vehicle.shovel#ignoreFillUnitFillType" , false )\n    spec.useSpeedLimit = self.xmlFile:getValue( "vehicle.shovel#useSpeedLimit" , false )\n\n    spec.shovelNodes = { }\n    local i = 0\n    while true do\n        local key = string.format( "vehicle.shovel.shovelNode(%d)" , i)\n        if not self.xmlFile:hasProperty(key) then\n            break\n        end\n\n        local shovelNode = { }\n\n        if self:loadShovelNode( self.xmlFile, key, shovelNode) then\n            table.insert(spec.shovelNodes, shovelNode)\n        end\n        i = i + 1\n    end\n\n    spec.shovelDischargeInfo = { }\n    spec.shovelDischargeInfo.dischargeNodeIndex = self.xmlFile:getValue( "vehicle.shovel.dischargeInfo#dischargeNodeIndex" , 1 )\n    spec.shovelDischargeInfo.node = self.xmlFile:getValue( "vehicle.shovel.dischargeInfo#node" , nil , self.components, self.i3dMappings)\n\n    if spec.shovelDischargeInfo.node ~ = nil then\n        local minSpeedAngle = self.xmlFile:getValue( "vehicle.shovel.dischargeInfo#minSpeedAngle" )\n        local maxSpeedAngle = self.xmlFile:getValue( "vehicle.shovel.dischargeInfo#maxSpeedAngle" )\n        if minSpeedAngle = = nil or maxSpeedAngle = = nil then\n            Logging.xmlWarning( self.xmlFile, "Missing \'minSpeedAngle\' or \'maxSpeedAngle\' for dischargeNode \'vehicle.shovel.dischargeInfo\'" )\n                return false\n            end\n            spec.shovelDischargeInfo.minSpeedAngle = minSpeedAngle\n            spec.shovelDischargeInfo.maxSpeedAngle = maxSpeedAngle\n        end\n\n        if self.isClient then\n            spec.fillEffects = g_effectManager:loadEffect( self.xmlFile, "vehicle.shovel.fillEffect" , self.components, self , self.i3dMappings)\n            spec.fillEffectTime = 0\n        end\n\n        spec.effectDirtyFlag = self:getNextDirtyFlag()\n        spec.loadingFillType = FillType.UNKNOWN\n        spec.lastValidFillType = FillType.UNKNOWN\n        spec.smoothAccumulation = 0\n\n        if #spec.shovelNodes = = 0 then\n            SpecializationUtil.removeEventListener( self , "onReadStream" , Shovel )\n            SpecializationUtil.removeEventListener( self , "onWriteStream" , Shovel )\n            SpecializationUtil.removeEventListener( self , "onReadUpdateStream" , Shovel )\n            SpecializationUtil.removeEventListener( self , "onWriteUpdateStream" , Shovel )\n            SpecializationUtil.removeEventListener( self , "onUpdateTick" , Shovel )\n            SpecializationUtil.removeEventListener( self , "onFillUnitFillLevelChanged" , Shovel )\n        end\n\n        return true\n    end\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"onreadstream",children:"onReadStream"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onReadStream()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"streamId"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"connection"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Shovel:onReadStream(streamId, connection)\n    local spec = self.spec_shovel\n    spec.loadingFillType = streamReadUIntN(streamId, FillTypeManager.SEND_NUM_BITS)\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onreadupdatestream",children:"onReadUpdateStream"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onReadUpdateStream()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"streamId"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"timestamp"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"connection"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Shovel:onReadUpdateStream(streamId, timestamp, connection)\n    if connection:getIsServer() then\n        local spec = self.spec_shovel\n\n        if streamReadBool(streamId) then\n            spec.loadingFillType = streamReadUIntN(streamId, FillTypeManager.SEND_NUM_BITS)\n        end\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onupdatetick",children:"onUpdateTick"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onUpdateTick()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"dt"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"isActiveForInput"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"isActiveForInputIgnoreSelection"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"isSelected"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Shovel:onUpdateTick(dt, isActiveForInput, isActiveForInputIgnoreSelection, isSelected)\n    local spec = self.spec_shovel\n\n    if self.isServer then\n        local validPickupFillType = FillType.UNKNOWN\n        for _, shovelNode in pairs(spec.shovelNodes) do\n            if self:getShovelNodeIsActive(shovelNode) then\n                local fillLevel = self:getFillUnitFillLevel(shovelNode.fillUnitIndex)\n                local capacity = self:getFillUnitCapacity(shovelNode.fillUnitIndex)\n\n                local freeCapacity = math.huge\n                if not shovelNode.ignoreFillLevel then\n                    -- use the getFillUnitFreeCapacity if it's lower as the default free capacity\n                        -- this can be the case if the weight limit stops the shovel from getting full\n                            freeCapacity = math.min(capacity - fillLevel, self:getFillUnitFreeCapacity(shovelNode.fillUnitIndex))\n                        end\n                        freeCapacity = math.min(freeCapacity, shovelNode.fillLitersPerSecond * dt)\n                        if freeCapacity > 0 then\n                            local pickupFillType = self:getFillUnitFillType(shovelNode.fillUnitIndex)\n                            if fillLevel / capacity < self:getFillTypeChangeThreshold() then\n                                pickupFillType = FillType.UNKNOWN\n                            end\n                            local minValidLiter = g_densityMapHeightManager:getMinValidLiterValue(pickupFillType) or 0\n                            local sx,sy,sz = localToWorld(shovelNode.node, - shovelNode.width * 0.5 , shovelNode.yOffset, shovelNode.zOffset)\n                            local ex,ey,ez = localToWorld(shovelNode.node, shovelNode.width * 0.5 , shovelNode.yOffset, shovelNode.zOffset)\n                            local innerRadius = shovelNode.length\n                            local radius = nil\n\n                            if self:getCanShovelAtPosition(shovelNode) then\n                                if pickupFillType = = FillType.UNKNOWN or spec.ignoreFillUnitFillType then\n                                    pickupFillType = DensityMapHeightUtil.getFillTypeAtLine(sx,sy,sz, ex,ey,ez, innerRadius)\n                                end\n\n                                if pickupFillType ~ = FillType.UNKNOWN and self:getFillUnitSupportsFillType(shovelNode.fillUnitIndex, pickupFillType) and self:getFillUnitAllowsFillType(shovelNode.fillUnitIndex, pickupFillType) then\n                                    local fillDelta, lineOffset = DensityMapHeightUtil.tipToGroundAroundLine( self , - freeCapacity - minValidLiter, pickupFillType, sx,sy,sz, ex,ey,ez, innerRadius, radius, shovelNode.lineOffset, true , nil )\n                                    shovelNode.lineOffset = lineOffset\n\n                                    if not shovelNode.ignoreFillLevel and - fillDelta > freeCapacity then\n                                        self:setFillUnitCapacity(shovelNode.fillUnitIndex, fillLevel - fillDelta)\n                                        shovelNode.capacityChanged = true\n                                    end\n\n                                    if fillDelta < 0 then\n                                        local loadInfo = self:getFillVolumeLoadInfo(shovelNode.loadInfoIndex)\n                                        self:addFillUnitFillLevel( self:getOwnerFarmId(), shovelNode.fillUnitIndex, - fillDelta, pickupFillType, ToolType.UNDEFINED, loadInfo)\n                                        validPickupFillType = pickupFillType\n\n                                        -- call fill level changed callack to inform bunker silo about change\n                                        self:notifiyBunkerSilo(fillDelta, pickupFillType, (sx + ex) * 0.5 , (sy + ey) * 0.5 , (sz + ez) * 0.5 )\n                                    end\n                                end\n                            end\n                        end\n                    elseif shovelNode.resetFillLevel then\n                            local fillLevel = self:getFillUnitFillLevel(shovelNode.fillUnitIndex)\n                            if fillLevel > 0 then\n                                self:addFillUnitFillLevel( self:getOwnerFarmId(), shovelNode.fillUnitIndex, - fillLevel, self:getFillUnitFillType(shovelNode.fillUnitIndex), ToolType.UNDEFINED)\n                            end\n                        end\n\n                        if shovelNode.allowsSmoothing then\n                            local _,dy,_ = localDirectionToWorld(shovelNode.node, 0 , 0 , 1 )\n                            local angle = math.acos(dy)\n                            if angle > shovelNode.maxPickupAngle then\n                                local smoothAmount = 0\n                                if self.lastSpeedReal > 0.0002 then -- start smoothing if driving faster than 0.7km/h\n                                    smoothAmount = spec.smoothAccumulation + math.max( self.lastMovedDistance * 0.5 , 0.0003 * dt) -- smooth 1.2m per meter driving or at least 0.3m/s\n                                    local rounded = DensityMapHeightUtil.getRoundedHeightValue(smoothAmount)\n                                    spec.smoothAccumulation = smoothAmount - rounded\n                                else\n                                        spec.smoothAccumulation = 0\n                                    end\n\n                                    if smoothAmount > 0 then\n                                        DensityMapHeightUtil.smoothAroundLine(shovelNode.node, shovelNode.width, shovelNode.smoothGroundRadius, shovelNode.smoothOverlap, smoothAmount, true )\n                                    end\n                                end\n                            end\n                        end\n\n                        if validPickupFillType = = FillType.UNKNOWN then\n                            spec.fillEffectTime = spec.fillEffectTime - dt\n                            if spec.fillEffectTime > 0 then\n                                validPickupFillType = spec.loadingFillType\n                            end\n                        else\n                                spec.fillEffectTime = 500\n                            end\n\n                            if spec.loadingFillType ~ = validPickupFillType then\n                                spec.loadingFillType = validPickupFillType\n                                self:raiseDirtyFlags(spec.effectDirtyFlag)\n                            end\n                        end\n\n                        if self.isClient then\n                            if spec.loadingFillType ~ = FillType.UNKNOWN then\n                                g_effectManager:setEffectTypeInfo(spec.fillEffects, spec.loadingFillType)\n                                g_effectManager:startEffects(spec.fillEffects)\n                            else\n                                    g_effectManager:stopEffects(spec.fillEffects)\n                                end\n                            end\n                        end\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onwritestream",children:"onWriteStream"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onWriteStream()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"streamId"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"connection"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Shovel:onWriteStream(streamId, connection)\n    local spec = self.spec_shovel\n    streamWriteUIntN(streamId, spec.loadingFillType, FillTypeManager.SEND_NUM_BITS)\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"onwriteupdatestream",children:"onWriteUpdateStream"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"onWriteUpdateStream()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"streamId"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"connection"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"any"}),(0,s.jsx)(n.td,{children:"dirtyMask"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Shovel:onWriteUpdateStream(streamId, connection, dirtyMask)\n    if not connection:getIsServer() then\n        local spec = self.spec_shovel\n\n        if streamWriteBool(streamId, bit32.band(dirtyMask, spec.effectDirtyFlag) ~ = 0 ) then\n            streamWriteUIntN(streamId, spec.loadingFillType, FillTypeManager.SEND_NUM_BITS)\n        end\n    end\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"prerequisitespresent",children:"prerequisitesPresent"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"prerequisitesPresent()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"specializations"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function Shovel.prerequisitesPresent(specializations)\n    return SpecializationUtil.hasSpecialization( FillUnit , specializations) and SpecializationUtil.hasSpecialization( FillVolume , specializations) and SpecializationUtil.hasSpecialization( Dischargeable , specializations) and SpecializationUtil.hasSpecialization( BunkerSiloInteractor , specializations)\nend\n\n"})}),"\n",(0,s.jsx)(n.h3,{id:"registereventlisteners",children:"registerEventListeners"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"registerEventListeners()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function Shovel.registerEventListeners(vehicleType)\n    SpecializationUtil.registerEventListener(vehicleType, "onLoad" , Shovel )\n    SpecializationUtil.registerEventListener(vehicleType, "onReadStream" , Shovel )\n    SpecializationUtil.registerEventListener(vehicleType, "onWriteStream" , Shovel )\n    SpecializationUtil.registerEventListener(vehicleType, "onReadUpdateStream" , Shovel )\n    SpecializationUtil.registerEventListener(vehicleType, "onWriteUpdateStream" , Shovel )\n    SpecializationUtil.registerEventListener(vehicleType, "onDelete" , Shovel )\n    SpecializationUtil.registerEventListener(vehicleType, "onUpdateTick" , Shovel )\n    SpecializationUtil.registerEventListener(vehicleType, "onFillUnitFillLevelChanged" , Shovel )\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"registerfunctions",children:"registerFunctions"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"registerFunctions()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function Shovel.registerFunctions(vehicleType)\n    SpecializationUtil.registerFunction(vehicleType, "loadShovelNode" , Shovel.loadShovelNode)\n    SpecializationUtil.registerFunction(vehicleType, "getShovelNodeIsActive" , Shovel.getShovelNodeIsActive)\n    SpecializationUtil.registerFunction(vehicleType, "getCanShovelAtPosition" , Shovel.getCanShovelAtPosition)\n    SpecializationUtil.registerFunction(vehicleType, "getShovelTipFactor" , Shovel.getShovelTipFactor)\n    SpecializationUtil.registerFunction(vehicleType, "getIsShovelEffectState" , Shovel.getIsShovelEffectState)\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"registeroverwrittenfunctions",children:"registerOverwrittenFunctions"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"registerOverwrittenFunctions()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"vehicleType"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function Shovel.registerOverwrittenFunctions(vehicleType)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getIsDischargeNodeActive" , Shovel.getIsDischargeNodeActive)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getDischargeNodeEmptyFactor" , Shovel.getDischargeNodeEmptyFactor)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "handleDischarge" , Shovel.handleDischarge)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "handleDischargeOnEmpty" , Shovel.handleDischargeOnEmpty)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "handleDischargeRaycast" , Shovel.handleDischargeRaycast)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getCanToggleDischargeToObject" , Shovel.getCanToggleDischargeToObject)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getCanToggleDischargeToGround" , Shovel.getCanToggleDischargeToGround)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "getWearMultiplier" , Shovel.getWearMultiplier)\n    SpecializationUtil.registerOverwrittenFunction(vehicleType, "doCheckSpeedLimit" , Shovel.doCheckSpeedLimit)\nend\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"updatedebugvalues",children:"updateDebugValues"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Description"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"updateDebugValues()"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"any"}),(0,s.jsx)(n.th,{children:"values"})]})})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Code"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'function Shovel:updateDebugValues(values)\n    local spec = self.spec_shovel\n\n    local info = spec.shovelDischargeInfo\n    if info.node ~ = nil then\n        local _,dy,_ = localDirectionToWorld(info.node, 0 , 0 , 1 )\n        local angle = math.acos(dy)\n        table.insert(values, { name = "angle" , value = math.deg(angle) } )\n        table.insert(values, { name = "minSpeedAngle" , value = math.deg(info.minSpeedAngle) } )\n        table.insert(values, { name = "maxSpeedAngle" , value = math.deg(info.maxSpeedAngle) } )\n\n        if angle > info.minSpeedAngle then\n            local factor = math.max( 0 , math.min( 1.0 , (angle - info.minSpeedAngle) / (info.maxSpeedAngle - info.minSpeedAngle)))\n            table.insert(values, { name = "factor" , value = factor } )\n        else\n                table.insert(values, { name = "factor" , value = "Out of Range - 0" } )\n            end\n        end\n    end\n\n'})})]})}function a(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},28453(e,n,l){l.d(n,{R:()=>r,x:()=>d});var i=l(96540);const s={},t=i.createContext(s);function r(e){const n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);