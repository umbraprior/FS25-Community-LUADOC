"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[17206],{28453(n,e,s){s.d(e,{R:()=>t,x:()=>d});var r=s(96540);const i={},l=r.createContext(i);function t(n){const e=r.useContext(l);return r.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function d(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:t(n.components),r.createElement(l.Provider,{value:e},n.children)}},99029(n,e,s){s.r(e),s.d(e,{assets:()=>a,contentTitle:()=>d,default:()=>o,frontMatter:()=>t,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"script/Jobs/AIJob","title":"AIJob","description":"AIJob","source":"@site/../docs/script/Jobs/AIJob.md","sourceDirName":"script/Jobs","slug":"/script/Jobs/AIJob","permalink":"/FS25-Community-LUADOC/script/Jobs/AIJob","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"WildlifeInstanceSimple","permalink":"/FS25-Community-LUADOC/script/Instances/WildlifeInstanceSimple"},"next":{"title":"AIJobConveyor","permalink":"/FS25-Community-LUADOC/script/Jobs/AIJobConveyor"}}');var i=s(74848),l=s(28453);const t={},d=void 0,a={},c=[{value:"AIJob",id:"aijob",level:2},{value:"addNamedParameter",id:"addnamedparameter",level:3},{value:"addTask",id:"addtask",level:3},{value:"applyCurrentState",id:"applycurrentstate",level:3},{value:"canContinueWork",id:"cancontinuework",level:3},{value:"canStartWork",id:"canstartwork",level:3},{value:"delete",id:"delete",level:3},{value:"getCanSkipTask",id:"getcanskiptask",level:3},{value:"getDescription",id:"getdescription",level:3},{value:"getGroupedParameters",id:"getgroupedparameters",level:3},{value:"getHelperName",id:"gethelpername",level:3},{value:"getIsAvailableForVehicle",id:"getisavailableforvehicle",level:3},{value:"getIsLooping",id:"getislooping",level:3},{value:"getIsStartable",id:"getisstartable",level:3},{value:"getNamedParameter",id:"getnamedparameter",level:3},{value:"getNamedParameters",id:"getnamedparameters",level:3},{value:"getNextTaskIndex",id:"getnexttaskindex",level:3},{value:"getPricePerMs",id:"getpriceperms",level:3},{value:"getStartTaskIndex",id:"getstarttaskindex",level:3},{value:"getTaskByIndex",id:"gettaskbyindex",level:3},{value:"getTitle",id:"gettitle",level:3},{value:"loadFromXMLFile",id:"loadfromxmlfile",level:3},{value:"new",id:"new",level:3},{value:"onParameterValueChanged",id:"onparametervaluechanged",level:3},{value:"readStream",id:"readstream",level:3},{value:"resetTasks",id:"resettasks",level:3},{value:"saveToXMLFile",id:"savetoxmlfile",level:3},{value:"setId",id:"setid",level:3},{value:"setParameterValid",id:"setparametervalid",level:3},{value:"setValues",id:"setvalues",level:3},{value:"showNotification",id:"shownotification",level:3},{value:"skipCurrentTask",id:"skipcurrenttask",level:3},{value:"start",id:"start",level:3},{value:"startTask",id:"starttask",level:3},{value:"stop",id:"stop",level:3},{value:"stopTask",id:"stoptask",level:3},{value:"update",id:"update",level:3},{value:"updateCost",id:"updatecost",level:3},{value:"validate",id:"validate",level:3},{value:"writeStream",id:"writestream",level:3}];function h(n){const e={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.h2,{id:"aijob",children:"AIJob"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"A job mainly runs on server only. Task starting, stopping and updating is server code only\nClient gets notified by targets.\nThis avoids a lot of issues with async loading of vehicles e.g. if a vehicle is not available when job gets started or\nsynced"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Functions"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#addnamedparameter",children:"addNamedParameter"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#addtask",children:"addTask"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#applycurrentstate",children:"applyCurrentState"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#cancontinuework",children:"canContinueWork"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#canstartwork",children:"canStartWork"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#delete",children:"delete"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#getcanskiptask",children:"getCanSkipTask"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#getdescription",children:"getDescription"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#getgroupedparameters",children:"getGroupedParameters"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#gethelpername",children:"getHelperName"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#getisavailableforvehicle",children:"getIsAvailableForVehicle"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#getislooping",children:"getIsLooping"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#getisstartable",children:"getIsStartable"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#getnamedparameter",children:"getNamedParameter"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#getnamedparameters",children:"getNamedParameters"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#getnexttaskindex",children:"getNextTaskIndex"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#getpriceperms",children:"getPricePerMs"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#getstarttaskindex",children:"getStartTaskIndex"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#gettaskbyindex",children:"getTaskByIndex"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#gettitle",children:"getTitle"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#loadfromxmlfile",children:"loadFromXMLFile"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#new",children:"new"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#onparametervaluechanged",children:"onParameterValueChanged"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#readstream",children:"readStream"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#resettasks",children:"resetTasks"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#savetoxmlfile",children:"saveToXMLFile"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#setid",children:"setId"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#setparametervalid",children:"setParameterValid"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#setvalues",children:"setValues"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#shownotification",children:"showNotification"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#skipcurrenttask",children:"skipCurrentTask"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#start",children:"start"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#starttask",children:"startTask"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#stop",children:"stop"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#stoptask",children:"stopTask"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#update",children:"update"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#updatecost",children:"updateCost"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#validate",children:"validate"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#writestream",children:"writeStream"})}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"addnamedparameter",children:"addNamedParameter"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"addNamedParameter()"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"any"}),(0,i.jsx)(e.th,{children:"name"})]})}),(0,i.jsx)(e.tbody,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"any"}),(0,i.jsx)(e.td,{children:"parameter"})]})})]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Code"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-lua",children:"function AIJob:addNamedParameter(name, parameter)\n    table.insert( self.namedParameters, { name = name, parameter = parameter } )\nend\n\n"})}),"\n",(0,i.jsx)(e.h3,{id:"addtask",children:"addTask"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"addTask()"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(e.table,{children:(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"any"}),(0,i.jsx)(e.th,{children:"task"})]})})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Code"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-lua",children:'function AIJob:addTask(task)\n    assert(task.taskIndex = = nil , "Task already added" )\n    table.insert( self.tasks, task)\n    task.taskIndex = # self.tasks\nend\n\n'})}),"\n",(0,i.jsx)(e.h3,{id:"applycurrentstate",children:"applyCurrentState"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"applyCurrentState()"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"any"}),(0,i.jsx)(e.th,{children:"vehicle"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"any"}),(0,i.jsx)(e.td,{children:"mission"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"any"}),(0,i.jsx)(e.td,{children:"farmId"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"any"}),(0,i.jsx)(e.td,{children:"isDirectStart"})]})]})]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Code"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-lua",children:"function AIJob:applyCurrentState(vehicle, mission, farmId, isDirectStart)\n    self.isDirectStart = isDirectStart\nend\n\n"})}),"\n",(0,i.jsx)(e.h3,{id:"cancontinuework",children:"canContinueWork"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"canContinueWork()"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Code"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-lua",children:"function AIJob:canContinueWork()\n    return true , nil\nend\n\n"})}),"\n",(0,i.jsx)(e.h3,{id:"canstartwork",children:"canStartWork"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"canStartWork()"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Code"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-lua",children:"function AIJob:canStartWork()\n    return true , nil\nend\n\n"})}),"\n",(0,i.jsx)(e.h3,{id:"delete",children:"delete"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"delete()"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Code"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-lua",children:"function AIJob:delete()\n    for _, namedParameter in ipairs( self.namedParameters) do\n        namedParameter.parameter:delete()\n    end\n    for _, task in ipairs( self.tasks) do\n        task:delete()\n    end\nend\n\n"})}),"\n",(0,i.jsx)(e.h3,{id:"getcanskiptask",children:"getCanSkipTask"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"getCanSkipTask()"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Code"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-lua",children:"function AIJob:getCanSkipTask()\n    return false\nend\n\n"})}),"\n",(0,i.jsx)(e.h3,{id:"getdescription",children:"getDescription"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"getDescription()"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Code"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-lua",children:"function AIJob:getDescription()\n    local jobType = g_currentMission.aiJobTypeManager:getJobTypeByIndex( self.jobTypeIndex)\n    return jobType.title\nend\n\n"})}),"\n",(0,i.jsx)(e.h3,{id:"getgroupedparameters",children:"getGroupedParameters"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"getGroupedParameters()"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Code"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-lua",children:"function AIJob:getGroupedParameters()\n    return self.groupedParameters\nend\n\n"})}),"\n",(0,i.jsx)(e.h3,{id:"gethelpername",children:"getHelperName"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"getHelperName()"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Code"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-lua",children:"function AIJob:getHelperName()\n    local helper = g_helperManager:getHelperByIndex( self.helperIndex)\n    return helper.title\nend\n\n"})}),"\n",(0,i.jsx)(e.h3,{id:"getisavailableforvehicle",children:"getIsAvailableForVehicle"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"getIsAvailableForVehicle()"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(e.table,{children:(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"any"}),(0,i.jsx)(e.th,{children:"vehicle"})]})})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Code"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-lua",children:"function AIJob:getIsAvailableForVehicle(vehicle)\n    return true\nend\n\n"})}),"\n",(0,i.jsx)(e.h3,{id:"getislooping",children:"getIsLooping"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"getIsLooping()"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Code"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-lua",children:"function AIJob:getIsLooping()\n    return false\nend\n\n"})}),"\n",(0,i.jsx)(e.h3,{id:"getisstartable",children:"getIsStartable"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"getIsStartable()"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(e.table,{children:(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"any"}),(0,i.jsx)(e.th,{children:"connection"})]})})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Code"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-lua",children:"function AIJob:getIsStartable(connection)\n    return true , AIJob.START_SUCCESS\nend\n\n"})}),"\n",(0,i.jsx)(e.h3,{id:"getnamedparameter",children:"getNamedParameter"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"getNamedParameter()"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(e.table,{children:(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"any"}),(0,i.jsx)(e.th,{children:"name"})]})})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Code"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-lua",children:"function AIJob:getNamedParameter(name)\n    if name = = nil then\n        return nil\n    end\n\n    name = string.upper(name)\n    for _, data in ipairs( self.namedParameters) do\n        if string.upper(data.name) = = name then\n            return data.parameter\n        end\n    end\n\n    return nil\nend\n\n"})}),"\n",(0,i.jsx)(e.h3,{id:"getnamedparameters",children:"getNamedParameters"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"getNamedParameters()"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Code"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-lua",children:"function AIJob:getNamedParameters()\n    return self.namedParameters\nend\n\n"})}),"\n",(0,i.jsx)(e.h3,{id:"getnexttaskindex",children:"getNextTaskIndex"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"getNextTaskIndex()"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Code"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-lua",children:"function AIJob:getNextTaskIndex()\n    return self.currentTaskIndex + 1\nend\n\n"})}),"\n",(0,i.jsx)(e.h3,{id:"getpriceperms",children:"getPricePerMs"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"getPricePerMs()"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Code"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-lua",children:"function AIJob:getPricePerMs()\n    return 0.0004\nend\n\n"})}),"\n",(0,i.jsx)(e.h3,{id:"getstarttaskindex",children:"getStartTaskIndex"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"getStartTaskIndex()"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Code"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-lua",children:"function AIJob:getStartTaskIndex()\n    return 1\nend\n\n"})}),"\n",(0,i.jsx)(e.h3,{id:"gettaskbyindex",children:"getTaskByIndex"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"getTaskByIndex()"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(e.table,{children:(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"any"}),(0,i.jsx)(e.th,{children:"taskIndex"})]})})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Code"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-lua",children:"function AIJob:getTaskByIndex(taskIndex)\n    return self.tasks[taskIndex]\nend\n\n"})}),"\n",(0,i.jsx)(e.h3,{id:"gettitle",children:"getTitle"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"getTitle()"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Code"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-lua",children:"function AIJob:getTitle()\n    local helper = g_helperManager:getHelperByIndex( self.helperIndex)\n    return helper.title\nend\n\n"})}),"\n",(0,i.jsx)(e.h3,{id:"loadfromxmlfile",children:"loadFromXMLFile"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"loadFromXMLFile()"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"any"}),(0,i.jsx)(e.th,{children:"xmlFile"})]})}),(0,i.jsx)(e.tbody,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"any"}),(0,i.jsx)(e.td,{children:"key"})]})})]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Code"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-lua",children:'function AIJob:loadFromXMLFile(xmlFile, key)\n    xmlFile:iterate(key .. ".parameter" , function (_, paramKey)\n        local name = xmlFile:getString(paramKey .. "#name" )\n        if name ~ = nil then\n            local parameter = self:getNamedParameter(name)\n            if parameter ~ = nil and parameter.loadFromXMLFile ~ = nil then\n                parameter:loadFromXMLFile(xmlFile, paramKey)\n            end\n        end\n    end )\nend\n\n'})}),"\n",(0,i.jsx)(e.h3,{id:"new",children:"new"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"new()"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"any"}),(0,i.jsx)(e.th,{children:"isServer"})]})}),(0,i.jsx)(e.tbody,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"any"}),(0,i.jsx)(e.td,{children:"customMt"})]})})]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Code"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-lua",children:"function AIJob.new(isServer, customMt)\n    local self = setmetatable( { } , customMt or AIJob _mt)\n\n    self.isServer = isServer\n    self.tasks = { }\n    self.namedParameters = { }\n    self.groupedParameters = { }\n    self.currentTaskIndex = 0\n    self.jobId = nil\n    self.startedFarmId = nil\n    self.isDirectStart = false\n\n    self.pendingCost = 0\n\n    return self\nend\n\n"})}),"\n",(0,i.jsx)(e.h3,{id:"onparametervaluechanged",children:"onParameterValueChanged"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"onParameterValueChanged()"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(e.table,{children:(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"any"}),(0,i.jsx)(e.th,{children:"parameter"})]})})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Code"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-lua",children:"function AIJob:onParameterValueChanged(parameter)\nend\n\n"})}),"\n",(0,i.jsx)(e.h3,{id:"readstream",children:"readStream"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"readStream()"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"any"}),(0,i.jsx)(e.th,{children:"streamId"})]})}),(0,i.jsx)(e.tbody,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"any"}),(0,i.jsx)(e.td,{children:"connection"})]})})]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Code"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-lua",children:"function AIJob:readStream(streamId, connection)\n    self.isDirectStart = streamReadBool(streamId)\n\n    if streamReadBool(streamId) then\n        self.jobId = streamReadInt32(streamId)\n    end\n\n    for _, namedParameter in ipairs( self.namedParameters) do\n        namedParameter.parameter:readStream(streamId, connection)\n    end\n\n    self:setValues()\n\n    self.currentTaskIndex = streamReadUInt8(streamId)\nend\n\n"})}),"\n",(0,i.jsx)(e.h3,{id:"resettasks",children:"resetTasks"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"resetTasks()"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Code"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-lua",children:"function AIJob:resetTasks()\n    for _, task in ipairs( self.tasks) do\n        task:reset()\n    end\nend\n\n"})}),"\n",(0,i.jsx)(e.h3,{id:"savetoxmlfile",children:"saveToXMLFile"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"saveToXMLFile()"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"any"}),(0,i.jsx)(e.th,{children:"xmlFile"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"any"}),(0,i.jsx)(e.td,{children:"key"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"any"}),(0,i.jsx)(e.td,{children:"usedModNames"})]})]})]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Code"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-lua",children:'function AIJob:saveToXMLFile(xmlFile, key, usedModNames)\n    local index = 0\n    for _, namedParameter in ipairs( self.namedParameters) do\n        local parameter = namedParameter.parameter\n        if parameter.saveToXMLFile ~ = nil then\n            local paramKey = string.format( "%s.parameter(%d)" , key, index)\n            xmlFile:setString(paramKey .. "#name" , namedParameter.name)\n            namedParameter.parameter:saveToXMLFile(xmlFile, paramKey, usedModNames)\n            index = index + 1\n        end\n    end\n\n    return true\nend\n\n'})}),"\n",(0,i.jsx)(e.h3,{id:"setid",children:"setId"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"setId()"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(e.table,{children:(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"any"}),(0,i.jsx)(e.th,{children:"id"})]})})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Code"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-lua",children:"function AIJob:setId(id)\n    self.jobId = id\nend\n\n"})}),"\n",(0,i.jsx)(e.h3,{id:"setparametervalid",children:"setParameterValid"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"setParameterValid()"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(e.table,{children:(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"any"}),(0,i.jsx)(e.th,{children:"isValid"})]})})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Code"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-lua",children:"function AIJob:setParameterValid(isValid)\n    for _, namedParameter in ipairs( self.namedParameters) do\n        namedParameter.parameter:setIsValid(isValid)\n    end\nend\n\n"})}),"\n",(0,i.jsx)(e.h3,{id:"setvalues",children:"setValues"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"setValues()"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Code"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-lua",children:"function AIJob:setValues()\nend\n\n"})}),"\n",(0,i.jsx)(e.h3,{id:"shownotification",children:"showNotification"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"showNotification()"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(e.table,{children:(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"any"}),(0,i.jsx)(e.th,{children:"aiMessage"})]})})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Code"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-lua",children:"function AIJob:showNotification(aiMessage)\n    local helper = g_helperManager:getHelperByIndex( self.helperIndex)\n\n    -- helper can be nil on game quit\n    if helper ~ = nil then\n        local playerFarmId\n        if g_currentMission ~ = nil and g_localPlayer ~ = nil then\n            playerFarmId = g_localPlayer.farmId\n        end\n\n        if aiMessage ~ = nil and self.startedFarmId = = playerFarmId then\n            local text = aiMessage:getMessage( self )\n            local errorType = aiMessage:getType()\n            local notificationType = FSBaseMission.INGAME_NOTIFICATION_CRITICAL\n\n            if errorType = = AIMessageType.OK then\n                notificationType = FSBaseMission.INGAME_NOTIFICATION_OK\n            elseif errorType = = AIMessageType.INFO then\n                    notificationType = FSBaseMission.INGAME_NOTIFICATION_INFO\n                end\n\n                g_currentMission:addIngameNotification(notificationType, text)\n            end\n        end\n    end\n\n"})}),"\n",(0,i.jsx)(e.h3,{id:"skipcurrenttask",children:"skipCurrentTask"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"skipCurrentTask()"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Code"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-lua",children:"function AIJob:skipCurrentTask()\nend\n\n"})}),"\n",(0,i.jsx)(e.h3,{id:"start",children:"start"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"start()"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(e.table,{children:(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"any"}),(0,i.jsx)(e.th,{children:"farmId"})]})})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Code"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-lua",children:"function AIJob:start(farmId)\n    local helper = g_helperManager:getRandomHelper()\n    self.helperIndex = helper.index\n    self.startedFarmId = farmId\n    self.isRunning = true\n\n    if self.isServer then\n        self.currentTaskIndex = 0\n    end\nend\n\n"})}),"\n",(0,i.jsx)(e.h3,{id:"starttask",children:"startTask"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"startTask()"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(e.table,{children:(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"any"}),(0,i.jsx)(e.th,{children:"task"})]})})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Code"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-lua",children:"function AIJob:startTask(task)\n    self.currentTaskIndex = task.taskIndex\n    task:start()\n\n    if self.isServer then\n        g_server:broadcastEvent( AITaskStartEvent.new( self , task))\n    end\nend\n\n"})}),"\n",(0,i.jsx)(e.h3,{id:"stop",children:"stop"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"stop()"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(e.table,{children:(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"any"}),(0,i.jsx)(e.th,{children:"aiMessage"})]})})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Code"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-lua",children:"function AIJob:stop(aiMessage)\n    self.isRunning = false\n\n    if self.isServer and self.currentTaskIndex ~ = 0 then\n        -- client will be notified in stopTask function\n            local task = self:getTaskByIndex( self.currentTaskIndex)\n            self:stopTask(task, true )\n        end\n\n        if self.pendingCost > 0 then\n            g_currentMission:addMoney( - self.pendingCost, self.startedFarmId, MoneyType.AI, true )\n            self.pendingCost = 0\n        end\n\n        self:showNotification(aiMessage)\n\n        self:resetTasks()\n    end\n\n"})}),"\n",(0,i.jsx)(e.h3,{id:"stoptask",children:"stopTask"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"stopTask()"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"any"}),(0,i.jsx)(e.th,{children:"task"})]})}),(0,i.jsx)(e.tbody,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"any"}),(0,i.jsx)(e.td,{children:"wasJobStopped"})]})})]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Code"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-lua",children:"function AIJob:stopTask(task, wasJobStopped)\n    task:stop(wasJobStopped)\n\n    if self.isServer then\n        g_server:broadcastEvent( AITaskStopEvent.new( self , task, wasJobStopped))\n    end\nend\n\n"})}),"\n",(0,i.jsx)(e.h3,{id:"update",children:"update"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"update()"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(e.table,{children:(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"any"}),(0,i.jsx)(e.th,{children:"dt"})]})})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Code"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-lua",children:"function AIJob:update(dt)\n    -- task update and handling is done on server side only\n    if self.isServer then\n        local currentTask\n        if self.currentTaskIndex = = 0 then\n            local canStart, aiMessage = self:canStartWork()\n            if canStart then\n                local taskIndex = self:getStartTaskIndex()\n                local task = self:getTaskByIndex(taskIndex)\n                self:startTask(task)\n            else\n                    g_currentMission.aiSystem:stopJob( self , aiMessage)\n                    return\n                end\n            else\n                    currentTask = self:getTaskByIndex( self.currentTaskIndex)\n                end\n\n                if currentTask ~ = nil then\n                    currentTask:update(dt)\n\n                    if currentTask:getIsFinished() then\n                        local canContinue, aiMessage = self:canContinueWork()\n                        if not canContinue then\n                            g_currentMission.aiSystem:stopJob( self , aiMessage)\n                            return\n                        end\n\n                        local newTaskIndex = self:getNextTaskIndex()\n\n                        if newTaskIndex > # self.tasks then\n                            if self:getIsLooping() then\n                                newTaskIndex = 1\n                            else\n                                    g_currentMission.aiSystem:stopJob( self , AIMessageSuccessFinishedJob.new())\n                                    return\n                                end\n                            end\n\n                            self:stopTask(currentTask, false )\n\n                            local nextTask = self:getTaskByIndex(newTaskIndex)\n                            self:startTask(nextTask)\n                        end\n                    end\n                end\n            end\n\n"})}),"\n",(0,i.jsx)(e.h3,{id:"updatecost",children:"updateCost"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"updateCost()"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(e.table,{children:(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"any"}),(0,i.jsx)(e.th,{children:"dt"})]})})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Code"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-lua",children:"function AIJob:updateCost(dt)\n    local price = self:getPricePerMs()\n    if price > 0 then\n        price = price * dt * EconomyManager.getCostMultiplier()\n\n        self.pendingCost = self.pendingCost + price\n\n        local farm = g_farmManager:getFarmById( self.startedFarmId)\n        if farm ~ = nil then\n            if farm:getBalance() - self.pendingCost < 0 then\n                g_currentMission.aiSystem:stopJob( self , AIMessageErrorOutOfMoney.new())\n            end\n        end\n\n        if self.pendingCost > 25 then\n            g_currentMission:addMoney( - self.pendingCost, self.startedFarmId, MoneyType.AI, true )\n            self.pendingCost = 0\n        end\n    end\nend\n\n"})}),"\n",(0,i.jsx)(e.h3,{id:"validate",children:"validate"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"validate()"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,i.jsx)(e.table,{children:(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"any"}),(0,i.jsx)(e.th,{children:"farmId"})]})})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Code"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-lua",children:"function AIJob:validate(farmId)\n    return true , nil\nend\n\n"})}),"\n",(0,i.jsx)(e.h3,{id:"writestream",children:"writeStream"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Description"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Definition"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"writeStream()"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"any"}),(0,i.jsx)(e.th,{children:"streamId"})]})}),(0,i.jsx)(e.tbody,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"any"}),(0,i.jsx)(e.td,{children:"connection"})]})})]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Code"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-lua",children:"function AIJob:writeStream(streamId, connection)\n    streamWriteBool(streamId, self.isDirectStart)\n\n    if streamWriteBool(streamId, self.jobId ~ = nil ) then\n        streamWriteInt32(streamId, self.jobId)\n    end\n\n    for _, namedParameter in ipairs( self.namedParameters) do\n        namedParameter.parameter:writeStream(streamId, connection)\n    end\n\n    streamWriteUInt8(streamId, self.currentTaskIndex)\nend\n\n"})})]})}function o(n={}){const{wrapper:e}={...(0,l.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(h,{...n})}):h(n)}}}]);