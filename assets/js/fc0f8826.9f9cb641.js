"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[95092],{28453(n,e,l){l.d(e,{R:()=>c,x:()=>o});var i=l(96540);const s={},r=i.createContext(s);function c(n){const e=i.useContext(r);return i.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:c(n.components),i.createElement(r.Provider,{value:e},n.children)}},70801(n,e,l){l.r(e),l.d(e,{assets:()=>t,contentTitle:()=>o,default:()=>a,frontMatter:()=>c,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"script/Objects/HelpIcons","title":"HelpIcons","description":"HelpIcons","source":"@site/../docs/script/Objects/HelpIcons.md","sourceDirName":"script/Objects","slug":"/script/Objects/HelpIcons","permalink":"/FS25-Community-LUADOC/script/Objects/HelpIcons","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"DogBall","permalink":"/FS25-Community-LUADOC/script/Objects/DogBall"},"next":{"title":"InlineBaleSingle","permalink":"/FS25-Community-LUADOC/script/Objects/InlineBaleSingle"}}');var s=l(74848),r=l(28453);const c={},o=void 0,t={},d=[{value:"HelpIcons",id:"helpicons",level:2},{value:"delete",id:"delete",level:3},{value:"deleteHelpIcon",id:"deletehelpicon",level:3},{value:"new",id:"new",level:3},{value:"onCreate",id:"oncreate",level:3},{value:"showHelpIcons",id:"showhelpicons",level:3},{value:"triggerCallback",id:"triggercallback",level:3}];function h(n){const e={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.h2,{id:"helpicons",children:"HelpIcons"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Description"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"Class for help icons"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Functions"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#delete",children:"delete"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#deletehelpicon",children:"deleteHelpIcon"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#new",children:"new"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#oncreate",children:"onCreate"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#showhelpicons",children:"showHelpIcons"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#triggercallback",children:"triggerCallback"})}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"delete",children:"delete"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Description"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"Deleting help icons"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"delete()"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Code"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-lua",children:"function HelpIcons:delete()\n    for _, helpIcon in pairs( self.helpIcons) do\n        removeTrigger(helpIcon.helpIconTriggerId)\n    end\nend\n\n"})}),"\n",(0,s.jsx)(e.h3,{id:"deletehelpicon",children:"deleteHelpIcon"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Description"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"Delete help icon"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"deleteHelpIcon(integer i)"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,s.jsx)(e.table,{children:(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"integer"}),(0,s.jsx)(e.th,{children:"i"}),(0,s.jsx)(e.th,{children:"id of help icon"})]})})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Code"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-lua",children:"function HelpIcons:deleteHelpIcon(i)\n    if self.helpIcons[i] ~ = nil then\n        setVisibility( self.helpIcons[i].helpIconId, false )\n        setCollisionFilterMask( self.helpIcons[i].helpIconTriggerId, 0 )\n    end\nend\n\n"})}),"\n",(0,s.jsx)(e.h3,{id:"new",children:"new"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Description"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"Creating help icons"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"new(integer name)"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,s.jsx)(e.table,{children:(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"integer"}),(0,s.jsx)(e.th,{children:"name"}),(0,s.jsx)(e.th,{children:"node id"})]})})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,s.jsx)(e.table,{children:(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"integer"}),(0,s.jsx)(e.th,{children:"instance"}),(0,s.jsx)(e.th,{children:"Instance of object"})]})})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Code"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-lua",children:'function HelpIcons.new(name)\n    local self = setmetatable( { } , HelpIcons _mt)\n\n    self.me = name\n    local num = getNumOfChildren( self.me)\n\n    self.helpIcons = { }\n    for i = 0 , num - 1 do\n        local helpIconTriggerId = getChildAt( self.me, i)\n        local helpIconId = getChildAt(helpIconTriggerId, 0 )\n        local helpIconCustomNumber = Utils.getNoNil(getUserAttribute(helpIconTriggerId, "customNumber" ), 0 )\n        addTrigger(helpIconTriggerId, "triggerCallback" , self )\n        local helpIcon = { helpIconTriggerId = helpIconTriggerId, helpIconId = helpIconId, helpIconCustomNumber = helpIconCustomNumber }\n        table.insert( self.helpIcons, helpIcon)\n    end\n    self.visible = true\n\n    return self\nend\n\n'})}),"\n",(0,s.jsx)(e.h3,{id:"oncreate",children:"onCreate"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Description"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"Creating help icons"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"onCreate(integer id)"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,s.jsx)(e.table,{children:(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"integer"}),(0,s.jsx)(e.th,{children:"id"}),(0,s.jsx)(e.th,{children:"node id"})]})})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Code"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-lua",children:"function HelpIcons:onCreate(id)\n    local helpIcons = HelpIcons.new(id)\n    g_currentMission:addNonUpdateable(helpIcons)\n    g_currentMission.helpIconsBase = helpIcons\nend\n\n"})}),"\n",(0,s.jsx)(e.h3,{id:"showhelpicons",children:"showHelpIcons"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Description"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"Show help icons"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"showHelpIcons(boolean visible, boolean clearIconStates)"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"boolean"}),(0,s.jsx)(e.th,{children:"visible"}),(0,s.jsx)(e.th,{children:"visible"})]})}),(0,s.jsx)(e.tbody,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"boolean"}),(0,s.jsx)(e.td,{children:"clearIconStates"}),(0,s.jsx)(e.td,{children:"clear icon states"})]})})]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Code"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-lua",children:'function HelpIcons:showHelpIcons(visible, clearIconStates)\n    self.visible = visible\n\n    local oldStates = g_currentMission.missionInfo.foundHelpIcons\n\n    for i, helpIcon in ipairs( self.helpIcons) do\n        local isVisible = visible\n        if clearIconStates = = nil or not clearIconStates then\n            isVisible = isVisible and string.sub(oldStates, i, i) = = "0"\n        end\n\n        setVisibility(helpIcon.helpIconId, isVisible)\n        if isVisible then\n            setCollisionFilterMask(helpIcon.helpIconTriggerId, 3145728 )\n        else\n                setCollisionFilterMask(helpIcon.helpIconTriggerId, 0 )\n            end\n        end\n\n    end\n\n'})}),"\n",(0,s.jsx)(e.h3,{id:"triggercallback",children:"triggerCallback"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Description"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"Trigger callback"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Definition"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"triggerCallback(integer triggerId, integer otherId, boolean onEnter, boolean onLeave, boolean onStay)"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"integer"}),(0,s.jsx)(e.th,{children:"triggerId"}),(0,s.jsx)(e.th,{children:"id of trigger"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"integer"}),(0,s.jsx)(e.td,{children:"otherId"}),(0,s.jsx)(e.td,{children:"id of actor"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"boolean"}),(0,s.jsx)(e.td,{children:"onEnter"}),(0,s.jsx)(e.td,{children:"on enter"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"boolean"}),(0,s.jsx)(e.td,{children:"onLeave"}),(0,s.jsx)(e.td,{children:"on leave"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"boolean"}),(0,s.jsx)(e.td,{children:"onStay"}),(0,s.jsx)(e.td,{children:"on stay"})]})]})]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Code"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-lua",children:'function HelpIcons:triggerCallback(triggerId, otherId, onEnter, onLeave, onStay)\n\n    if not onEnter then\n        return\n    end\n\n    -- Get the local player.If they do not exist, do nothing.\n        local localPlayer = g_localPlayer\n        if localPlayer = = nil then\n            return\n        end\n\n        -- If the player is not in a vehicle but the other entity id isn\'t their root node, do nothing.\n            if not localPlayer:getIsInVehicle() and otherId ~ = localPlayer.rootNode then\n                return\n            end\n\n            -- Get the player\'s vehicle.If they are not in a vehicle, or if the vehicle does not match the collided object, do nothing.\n                local playerVehicle = localPlayer:getCurrentVehicle()\n                if playerVehicle = = nil or playerVehicle ~ = g_currentMission.nodeToObject[otherId] then\n                    return\n                end\n\n                local missionInfo = g_currentMission.missionInfo\n                for i, helpIcon in ipairs( self.helpIcons) do -- order is important for savegame\n\n                    if helpIcon.helpIconTriggerId ~ = triggerId or not getVisibility(helpIcon.helpIconId) then\n                        continue\n                    end\n\n                    setVisibility(helpIcon.helpIconId, false )\n                    setCollisionFilterMask(helpIcon.helpIconTriggerId, 0 )\n\n                    -- update help icon string\n                    missionInfo.foundHelpIcons = ""\n                    for _, helpIcon in ipairs( self.helpIcons) do\n                        if getVisibility(helpIcon.helpIconId) then\n                            missionInfo.foundHelpIcons = missionInfo.foundHelpIcons .. "0"\n                        else\n                                missionInfo.foundHelpIcons = missionInfo.foundHelpIcons .. "1"\n                            end\n                        end\n\n                        local messageNumber = helpIcon.helpIconCustomNumber\n                        if messageNumber = = 0 then\n                            messageNumber = i\n                        end\n                        g_currentMission.inGameMessage:showMessage(g_i18n:getText( "helpIcon_title" .. messageNumber), g_i18n:getText( "helpIcon_text" .. messageNumber), 0 )\n                    end\n                end\n\n'})})]})}function a(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(h,{...n})}):h(n)}}}]);