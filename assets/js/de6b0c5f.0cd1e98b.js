"use strict";(globalThis.webpackChunkfs25_community_luadoc=globalThis.webpackChunkfs25_community_luadoc||[]).push([[74784],{28453(e,n,l){l.d(n,{R:()=>t,x:()=>d});var i=l(96540);const r={},s=i.createContext(r);function t(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),i.createElement(s.Provider,{value:n},e.children)}},44167(e,n,l){l.r(n),l.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"script/Objects/VehicleSellingPoint","title":"VehicleSellingPoint","description":"VehicleSellingPoint","source":"@site/../docs/script/Objects/VehicleSellingPoint.md","sourceDirName":"script/Objects","slug":"/script/Objects/VehicleSellingPoint","permalink":"/FS25-Community-LUADOC/script/Objects/VehicleSellingPoint","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1767161192000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"TourIconsMobile","permalink":"/FS25-Community-LUADOC/script/Objects/TourIconsMobile"},"next":{"title":"AIParameter","permalink":"/FS25-Community-LUADOC/script/Parameters/AIParameter"}}');var r=l(74848),s=l(28453);const t={},d=void 0,c={},a=[{value:"VehicleSellingPoint",id:"vehiclesellingpoint",level:2},{value:"delete",id:"delete",level:3},{value:"determineCurrentVehicles",id:"determinecurrentvehicles",level:3},{value:"getOwnerFarmId",id:"getownerfarmid",level:3},{value:"load",id:"load",level:3},{value:"new",id:"new",level:3},{value:"openMenu",id:"openmenu",level:3},{value:"playerFarmChanged",id:"playerfarmchanged",level:3},{value:"registerXMLPaths",id:"registerxmlpaths",level:3},{value:"sellAreaTriggerCallback",id:"sellareatriggercallback",level:3},{value:"setOwnerFarmId",id:"setownerfarmid",level:3},{value:"triggerCallback",id:"triggercallback",level:3},{value:"updateIconVisibility",id:"updateiconvisibility",level:3}];function o(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"vehiclesellingpoint",children:"VehicleSellingPoint"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Class for vehicle selling point"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Functions"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#delete",children:"delete"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#determinecurrentvehicles",children:"determineCurrentVehicles"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#getownerfarmid",children:"getOwnerFarmId"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#load",children:"load"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#new",children:"new"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#openmenu",children:"openMenu"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#playerfarmchanged",children:"playerFarmChanged"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#registerxmlpaths",children:"registerXMLPaths"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#sellareatriggercallback",children:"sellAreaTriggerCallback"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#setownerfarmid",children:"setOwnerFarmId"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#triggercallback",children:"triggerCallback"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#updateiconvisibility",children:"updateIconVisibility"})}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"delete",children:"delete"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Deleting vehicle selling point"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"delete()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function VehicleSellingPoint:delete()\n    g_messageCenter:unsubscribeAll( self )\n\n    if self.playerTrigger ~ = nil then\n        removeTrigger( self.playerTrigger)\n        self.playerTrigger = nil\n    end\n    if self.sellTriggerNode ~ = nil then\n        removeTrigger( self.sellTriggerNode)\n        self.sellTriggerNode = nil\n    end\n\n    g_currentMission.activatableObjectsSystem:removeActivatable( self.activatable)\n\n    self.sellIcon = nil\nend\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"determinecurrentvehicles",children:"determineCurrentVehicles"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Determine current vehicle"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"determineCurrentVehicles()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function VehicleSellingPoint:determineCurrentVehicles()\n    local vehicles = { }\n\n    local playerFarmId = g_currentMission:getFarmId()\n    if playerFarmId ~ = FarmManager.SPECTATOR_FARM_ID then\n\n        -- Find first vehicle, then get its rood and all children\n        for shapeId, inRange in pairs( self.vehicleShapesInRange) do\n            if inRange ~ = nil and entityExists(shapeId) then\n                local vehicle = g_currentMission.nodeToObject[shapeId]\n                if vehicle ~ = nil and vehicle:isa( Vehicle ) then\n                    local subVehicles = vehicle.rootVehicle:getChildVehicles()\n                    for _, subVehicle in ipairs(subVehicles) do\n                        if subVehicle:getShowInVehiclesOverview() then\n                            -- only show owned items\n                            if subVehicle:getOwnerFarmId() = = playerFarmId then\n                                -- uniqueness check builtin\n                                table.addElement(vehicles, subVehicle)\n                            end\n                        end\n                    end\n                end\n            else\n                    self.vehicleShapesInRange[shapeId] = nil\n                end\n            end\n\n            -- Consistent order independent on which piece of the vehicle entered the trigger first\n            table.sort(vehicles, function (a, b)\n                return a.rootNode < b.rootNode\n            end )\n        end\n\n        return vehicles\n    end\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"getownerfarmid",children:"getOwnerFarmId"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"getOwnerFarmId()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function VehicleSellingPoint:getOwnerFarmId()\n    return self.ownerFarmId\nend\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"load",children:"load"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"load()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"any"}),(0,r.jsx)(n.th,{children:"components"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"xmlFile"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"key"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"i3dMappings"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'function VehicleSellingPoint:load(components, xmlFile, key, i3dMappings)\n    self.playerTrigger = xmlFile:getValue(key .. "#playerTriggerNode" , nil , components, i3dMappings)\n    self.sellIcon = xmlFile:getValue(key .. "#iconNode" , nil , components, i3dMappings)\n    self.sellTriggerNode = xmlFile:getValue(key .. "#sellTriggerNode" , nil , components, i3dMappings)\n    self.ownWorkshop = xmlFile:getValue(key .. "#ownWorkshop" , false )\n    self.mobileWorkshop = xmlFile:getValue(key .. "#mobileWorkshop" , false )\n\n    if not CollisionFlag.getHasMaskFlagSet( self.playerTrigger, CollisionFlag.PLAYER) then\n        Logging.xmlWarning(xmlFile, "Missing collision mask bit \'%d\'.Please add this bit to vehicle selling player trigger node \'%s\'" , CollisionFlag.getBit(CollisionFlag.PLAYER), I3DUtil.getNodePath( self.playerTrigger))\n    end\n    addTrigger( self.playerTrigger, "triggerCallback" , self )\n\n    if not CollisionFlag.getHasMaskFlagSet( self.sellTriggerNode, CollisionFlag.VEHICLE) then\n        Logging.xmlWarning(xmlFile, "Missing collision mask bit \'%d\'.Please add this bit to vehicle sell area trigger node \'%s\'" , CollisionFlag.getBit(CollisionFlag.VEHICLE), I3DUtil.getNodePath( self.sellTriggerNode))\n    end\n    addTrigger( self.sellTriggerNode, "sellAreaTriggerCallback" , self )\n\n    self.activatable = VehicleSellingPointActivatable.new( self , self.ownWorkshop)\n\n    g_messageCenter:subscribe(MessageType.PLAYER_FARM_CHANGED, self.playerFarmChanged, self )\n    g_messageCenter:subscribe(MessageType.PLAYER_CREATED, self.playerFarmChanged, self )\n\n    self:updateIconVisibility()\nend\n\n'})}),"\n",(0,r.jsx)(n.h3,{id:"new",children:"new"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Creating vehicle selling point"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"new(integer id)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n",(0,r.jsx)(n.table,{children:(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"integer"}),(0,r.jsx)(n.th,{children:"id"}),(0,r.jsx)(n.th,{children:"node id"})]})})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Return Values"})}),"\n\n\n\n\n\n\n\n\n",(0,r.jsx)(n.table,{children:(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"integer"}),(0,r.jsx)(n.th,{children:"instance"}),(0,r.jsx)(n.th,{children:"Instance of object"})]})})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'function VehicleSellingPoint.new()\n    local self = setmetatable( { } , VehicleSellingPoint _mt)\n\n    self.vehicleShapesInRange = { }\n\n    self.activateText = ""\n\n    self.isEnabled = true\n\n    return self\nend\n\n'})}),"\n",(0,r.jsx)(n.h3,{id:"openmenu",children:"openMenu"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"On activate object"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"openMenu()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'function VehicleSellingPoint:openMenu()\n    local vehicles = self:determineCurrentVehicles()\n\n    g_workshopScreen:setSellingPoint( self , not self.ownWorkshop, self.ownWorkshop, self.mobileWorkshop)\n    g_workshopScreen:setVehicles(vehicles)\n    g_gui:showGui( "WorkshopScreen" )\nend\n\n'})}),"\n",(0,r.jsx)(n.h3,{id:"playerfarmchanged",children:"playerFarmChanged"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"playerFarmChanged()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,r.jsx)(n.table,{children:(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"any"}),(0,r.jsx)(n.th,{children:"player"})]})})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function VehicleSellingPoint:playerFarmChanged(player)\n    if player = = g_localPlayer then\n        self:updateIconVisibility()\n    end\nend\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"registerxmlpaths",children:"registerXMLPaths"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"registerXMLPaths()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"any"}),(0,r.jsx)(n.th,{children:"schema"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"basePath"})]})})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'function VehicleSellingPoint.registerXMLPaths(schema, basePath)\n    schema:register(XMLValueType.NODE_INDEX, basePath .. "#playerTriggerNode" , "Player trigger node" )\n    schema:register(XMLValueType.NODE_INDEX, basePath .. "#iconNode" , "Icon node" )\n    schema:register(XMLValueType.NODE_INDEX, basePath .. "#sellTriggerNode" , "Sell trigger node" )\n    schema:register(XMLValueType.BOOL, basePath .. "#ownWorkshop" , "Owned by player" , false )\n    schema:register(XMLValueType.BOOL, basePath .. "#mobileWorkshop" , "Workshop is on vehicle" , false )\nend\n\n'})}),"\n",(0,r.jsx)(n.h3,{id:"sellareatriggercallback",children:"sellAreaTriggerCallback"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Sell area trigger callback"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"sellAreaTriggerCallback(integer triggerId, integer otherId, boolean onEnter, boolean onLeave, boolean onStay, )"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"integer"}),(0,r.jsx)(n.th,{children:"triggerId"}),(0,r.jsx)(n.th,{children:"id of trigger"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"integer"}),(0,r.jsx)(n.td,{children:"otherId"}),(0,r.jsx)(n.td,{children:"id of actor"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"boolean"}),(0,r.jsx)(n.td,{children:"onEnter"}),(0,r.jsx)(n.td,{children:"on enter"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"boolean"}),(0,r.jsx)(n.td,{children:"onLeave"}),(0,r.jsx)(n.td,{children:"on leave"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"boolean"}),(0,r.jsx)(n.td,{children:"onStay"}),(0,r.jsx)(n.td,{children:"on stay"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"any"}),(0,r.jsx)(n.td,{children:"otherShapeId"}),(0,r.jsx)(n.td,{})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function VehicleSellingPoint:sellAreaTriggerCallback(triggerId, otherId, onEnter, onLeave, onStay, otherShapeId)\n    if otherShapeId ~ = nil and(onEnter or onLeave) then\n        if onEnter then\n            self.vehicleShapesInRange[otherShapeId] = true\n        elseif onLeave then\n                self.vehicleShapesInRange[otherShapeId] = nil\n            end\n\n            g_workshopScreen:updateVehicles( self , self:determineCurrentVehicles())\n        end\n    end\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"setownerfarmid",children:"setOwnerFarmId"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"setOwnerFarmId()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n",(0,r.jsx)(n.table,{children:(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"any"}),(0,r.jsx)(n.th,{children:"ownerFarmId"})]})})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function VehicleSellingPoint:setOwnerFarmId(ownerFarmId)\n    self.ownerFarmId = ownerFarmId\n    self:updateIconVisibility()\nend\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"triggercallback",children:"triggerCallback"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Trigger callback"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"triggerCallback(integer triggerId, integer otherId, boolean onEnter, boolean onLeave, boolean onStay)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Arguments"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"integer"}),(0,r.jsx)(n.th,{children:"triggerId"}),(0,r.jsx)(n.th,{children:"id of trigger"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"integer"}),(0,r.jsx)(n.td,{children:"otherId"}),(0,r.jsx)(n.td,{children:"id of actor"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"boolean"}),(0,r.jsx)(n.td,{children:"onEnter"}),(0,r.jsx)(n.td,{children:"on enter"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"boolean"}),(0,r.jsx)(n.td,{children:"onLeave"}),(0,r.jsx)(n.td,{children:"on leave"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"boolean"}),(0,r.jsx)(n.td,{children:"onStay"}),(0,r.jsx)(n.td,{children:"on stay"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function VehicleSellingPoint:triggerCallback(triggerId, otherId, onEnter, onLeave, onStay)\n    if self.isEnabled and g_currentMission.missionInfo:isa(FSCareerMissionInfo) then\n        if onEnter or onLeave then\n            if g_localPlayer ~ = nil and otherId = = g_localPlayer.rootNode then\n                if onEnter then\n                    g_currentMission.activatableObjectsSystem:addActivatable( self.activatable)\n                else\n                        g_currentMission.activatableObjectsSystem:removeActivatable( self.activatable)\n                        self:determineCurrentVehicles()\n                    end\n                end\n            end\n        end\n    end\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"updateiconvisibility",children:"updateIconVisibility"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Description"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Turn the icon on or off depending on the current game and the players farm"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Definition"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"updateIconVisibility()"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Code"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"function VehicleSellingPoint:updateIconVisibility()\n    if self.sellIcon ~ = nil then\n        local isAvailable = self.isEnabled and g_currentMission.missionInfo:isa(FSCareerMissionInfo)\n        local farmId = g_currentMission:getFarmId()\n        local visibleForFarm = farmId ~ = FarmManager.SPECTATOR_FARM_ID and( self:getOwnerFarmId() = = AccessHandler.EVERYONE or farmId = = self:getOwnerFarmId())\n\n        setVisibility( self.sellIcon, isAvailable and visibleForFarm)\n    end\nend\n\n"})})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}}}]);